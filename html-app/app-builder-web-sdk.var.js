/*! For license information please see app-builder-web-sdk.var.js.LICENSE.txt */
var AgoraAppBuilder;(()=>{var __webpack_modules__={4420:(e,t,n)=>{"use strict";n.d(t,{ab:()=>l,li:()=>p,QS:()=>A,_v:()=>f});var r=n(5658),i=null,o={},a=1,s="@wry/context:Slot",c=Array,u=c[s]||function(){var e=function(){function e(){this.id=["slot",a++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return e.prototype.hasValue=function(){for(var e=i;e;e=e.parent)if(this.id in e.slots){var t=e.slots[this.id];if(t===o)break;return e!==i&&(i.slots[this.id]=t),!0}return i&&(i.slots[this.id]=o),!1},e.prototype.getValue=function(){if(this.hasValue())return i.slots[this.id]},e.prototype.withValue=function(e,t,n,r){var o,a=((o={__proto__:null})[this.id]=e,o),s=i;i={parent:s,slots:a};try{return t.apply(r,n)}finally{i=s}},e.bind=function(e){var t=i;return function(){var n=i;try{return i=t,e.apply(this,arguments)}finally{i=n}}},e.noContext=function(e,t,n){if(!i)return e.apply(n,t);var r=i;try{return i=null,e.apply(n,t)}finally{i=r}},e}();try{Object.defineProperty(c,s,{value:c[s]=e,enumerable:!1,writable:!1,configurable:!1})}finally{return e}}();u.bind,u.noContext;var l=new u,d=new WeakMap;function h(e){var t=d.get(e);return t||d.set(e,t={vars:new Set,dep:(0,r.dP)()}),t}function p(e){h(e).vars.forEach((function(t){return t.forgetCache(e)}))}function f(e){h(e).vars.forEach((function(t){return t.attachCache(e)}))}function A(e){var t=new Set,n=new Set,r=function(o){if(arguments.length>0){if(e!==o){e=o,t.forEach((function(e){h(e).dep.dirty(r),g(e)}));var a=Array.from(n);n.clear(),a.forEach((function(t){return t(e)}))}}else{var s=l.getValue();s&&(i(s),h(s).dep(r))}return e};r.onNextChange=function(e){return n.add(e),function(){n.delete(e)}};var i=r.attachCache=function(e){return t.add(e),h(e).vars.add(r),r};return r.forgetCache=function(e){return t.delete(e)},r}function g(e){e.broadcastWatches&&e.broadcastWatches()}},5367:()=>{},4152:(e,t,n)=>{"use strict";n.d(t,{f:()=>W,J:()=>z});var r=n(655),i=n(1467),o=n(6706),a=o.i.execute;function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object.create(null);return e.forEach((function(e){e&&Object.keys(e).forEach((function(t){var r=e[t];void 0!==r&&(n[t]=r)}))})),n}var c=n(3104),u=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,(0,c.L)(t).request)||this;return n.options=t,n}return(0,r.ZT)(t,e),t}(o.i),l=n(2152),d=n(1578);function h(e){return e.errors&&e.errors.length>0||!1}var p=n(4517),f=n(4604),A=n(1234),g=n(6376),m=n(9329),v=n.n(m);function y(e,t,n){var r=[];e.forEach((function(e){return e[t]&&r.push(e)})),r.forEach((function(e){return e[t](n)}))}function E(e){function t(t){Object.defineProperty(e,t,{value:v()})}return"function"==typeof Symbol&&Symbol.species&&t(Symbol.species),t("@@species"),e}function b(e){return e&&"function"==typeof e.then}var _=function(e){function t(t){var n=e.call(this,(function(e){return n.addObserver(e),function(){return n.removeObserver(e)}}))||this;return n.observers=new Set,n.addCount=0,n.promise=new Promise((function(e,t){n.resolve=e,n.reject=t})),n.handlers={next:function(e){null!==n.sub&&(n.latest=["next",e],y(n.observers,"next",e))},error:function(e){var t=n.sub;null!==t&&(t&&Promise.resolve().then((function(){return t.unsubscribe()})),n.sub=null,n.latest=["error",e],n.reject(e),y(n.observers,"error",e))},complete:function(){if(null!==n.sub){var e=n.sources.shift();e?b(e)?e.then((function(e){return n.sub=e.subscribe(n.handlers)})):n.sub=e.subscribe(n.handlers):(n.sub=null,n.latest&&"next"===n.latest[0]?n.resolve(n.latest[1]):n.resolve(),y(n.observers,"complete"))}}},n.cancel=function(e){n.reject(e),n.sources=[],n.handlers.complete()},n.promise.catch((function(e){})),"function"==typeof t&&(t=[new(v())(t)]),b(t)?t.then((function(e){return n.start(e)}),n.handlers.error):n.start(t),n}return(0,r.ZT)(t,e),t.prototype.start=function(e){void 0===this.sub&&(this.sources=Array.from(e),this.handlers.complete())},t.prototype.deliverLastMessage=function(e){if(this.latest){var t=this.latest[0],n=e[t];n&&n.call(e,this.latest[1]),null===this.sub&&"next"===t&&e.complete&&e.complete()}},t.prototype.addObserver=function(e){this.observers.has(e)||(this.deliverLastMessage(e),this.observers.add(e),++this.addCount)},t.prototype.removeObserver=function(e,t){this.observers.delete(e)&&--this.addCount<1&&!t&&this.handlers.error(new Error("Observable cancelled prematurely"))},t.prototype.cleanup=function(e){var t=this,n=!1,r=function(){n||(n=!0,t.observers.delete(i),e())},i={next:r,error:r,complete:r},o=this.addCount;this.addObserver(i),this.addCount=o},t}(v());function C(e,t,n){return new(v())((function(r){var i=r.next,o=r.error,a=r.complete,s=0,c=!1,u={then:function(e){return new Promise((function(t){return t(e())}))}};function l(e,t){return e?function(t){++s;var n=function(){return e(t)};u=u.then(n,n).then((function(e){--s,i&&i.call(r,e),c&&d.complete()}),(function(e){throw--s,e})).catch((function(e){o&&o.call(r,e)}))}:function(e){return t&&t.call(r,e)}}var d={next:l(t,i),error:l(n,o),complete:function(){c=!0,s||a&&a.call(r)}},h=e.subscribe(d);return function(){return h.unsubscribe()}}))}E(_);var I,S=n(1498);function w(e){return!!e&&e<7}!function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"}(I||(I={}));var R=Object.prototype.toString;function T(e){return O(e)}function O(e,t){switch(R.call(e)){case"[object Array]":if((t=t||new Map).has(e))return t.get(e);var n=e.slice(0);return t.set(e,n),n.forEach((function(e,r){n[r]=O(e,t)})),n;case"[object Object]":if((t=t||new Map).has(e))return t.get(e);var r=Object.create(Object.getPrototypeOf(e));return t.set(e,r),Object.keys(e).forEach((function(n){r[n]=O(e[n],t)})),r;default:return e}}var k=function(){function e(e,t,n,r){this.observer=e,this.options=t,this.fetch=n,this.shouldFetch=r}return e.prototype.reobserve=function(e,t){e?this.updateOptions(e):this.updatePolling();var n=this.fetch(this.options,t);return this.concast&&this.concast.removeObserver(this.observer,!0),n.addObserver(this.observer),(this.concast=n).promise},e.prototype.updateOptions=function(e){return Object.assign(this.options,s(e)),this.updatePolling(),this},e.prototype.stop=function(){this.concast&&(this.concast.removeObserver(this.observer),delete this.concast),this.pollingInfo&&(clearTimeout(this.pollingInfo.timeout),this.options.pollInterval=0,this.updatePolling())},e.prototype.updatePolling=function(){var e=this,t=this.pollingInfo,n=this.options.pollInterval;if(n){if((!t||t.interval!==n)&&((0,i.kG)(n,20),!1!==this.shouldFetch)){(t||(this.pollingInfo={})).interval=n;var r=function(){e.pollingInfo&&(e.shouldFetch&&e.shouldFetch()?e.reobserve({fetchPolicy:"network-only",nextFetchPolicy:e.options.fetchPolicy||"cache-first"},I.poll).then(o,o):o())},o=function(){var t=e.pollingInfo;t&&(clearTimeout(t.timeout),t.timeout=setTimeout(r,t.interval))};o()}}else t&&(clearTimeout(t.timeout),delete this.pollingInfo)},e}(),N=function(e){function t(t){var n=t.queryManager,i=t.queryInfo,o=t.options,a=e.call(this,(function(e){return a.onSubscribe(e)}))||this;a.observers=new Set,a.subscriptions=new Set,a.observer={next:function(e){(a.lastError||a.isDifferentFromLastResult(e))&&(a.updateLastResult(e),y(a.observers,"next",e))},error:function(e){a.updateLastResult((0,r.pi)((0,r.pi)({},a.lastResult),{error:e,errors:e.graphQLErrors,networkStatus:I.error,loading:!1})),y(a.observers,"error",a.lastError=e)}},a.isTornDown=!1,a.options=o,a.queryId=n.generateQueryId();var s=(0,f.$H)(o.query);return a.queryName=s&&s.name&&s.name.value,a.queryManager=n,a.queryInfo=i,a}return(0,r.ZT)(t,e),Object.defineProperty(t.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),t.prototype.result=function(){var e=this;return new Promise((function(t,n){var r={next:function(n){t(n),e.observers.delete(r),e.observers.size||e.queryManager.removeQuery(e.queryId),setTimeout((function(){i.unsubscribe()}),0)},error:n},i=e.subscribe(r)}))},t.prototype.getCurrentResult=function(e){void 0===e&&(e=!0);var t=this.lastResult,n=this.queryInfo.networkStatus||t&&t.networkStatus||I.ready,i=(0,r.pi)((0,r.pi)({},t),{loading:w(n),networkStatus:n});if(this.isTornDown)return i;var o=this.options.fetchPolicy,a=void 0===o?"cache-first":o;if("no-cache"===a||"network-only"===a)delete i.partial;else if(!i.data||!this.queryManager.transform(this.options.query).hasForcedResolvers){var s=this.queryInfo.getDiff();i.data=s.complete||this.options.returnPartialData?s.result:void 0,s.complete?(i.networkStatus!==I.loading||"cache-first"!==a&&"cache-only"!==a||(i.networkStatus=I.ready,i.loading=!1),delete i.partial):i.partial=!0}return e&&this.updateLastResult(i),i},t.prototype.isDifferentFromLastResult=function(e){return!(0,l.D)(this.lastResultSnapshot,e)},t.prototype.getLastResult=function(){return this.lastResult},t.prototype.getLastError=function(){return this.lastError},t.prototype.resetLastResults=function(){delete this.lastResult,delete this.lastResultSnapshot,delete this.lastError,this.isTornDown=!1},t.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},t.prototype.refetch=function(e){var t={pollInterval:0},n=this.options.fetchPolicy;return"no-cache"!==n&&"cache-and-network"!==n&&(t.fetchPolicy="network-only",t.nextFetchPolicy=n||"cache-first"),e&&!(0,l.D)(this.options.variables,e)&&(t.variables=this.options.variables=(0,r.pi)((0,r.pi)({},this.options.variables),e)),this.newReobserver(!1).reobserve(t,I.refetch)},t.prototype.fetchMore=function(e){var t=this,n=(0,r.pi)((0,r.pi)({},e.query?e:(0,r.pi)((0,r.pi)((0,r.pi)({},this.options),e),{variables:(0,r.pi)((0,r.pi)({},this.options.variables),e.variables)})),{fetchPolicy:"no-cache"}),i=this.queryManager.generateQueryId();return n.notifyOnNetworkStatusChange&&(this.queryInfo.networkStatus=I.fetchMore,this.observe()),this.queryManager.fetchQuery(i,n,I.fetchMore).then((function(r){var i=r.data,o=e.updateQuery;return o?t.updateQuery((function(e){return o(e,{fetchMoreResult:i,variables:n.variables})})):t.queryManager.cache.writeQuery({query:n.query,variables:n.variables,data:i}),r})).finally((function(){t.queryManager.stopQuery(i),t.reobserve()}))},t.prototype.subscribeToMore=function(e){var t=this,n=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables,context:e.context}).subscribe({next:function(n){var r=e.updateQuery;r&&t.updateQuery((function(e,t){var i=t.variables;return r(e,{subscriptionData:n,variables:i})}))},error:function(t){e.onError&&e.onError(t)}});return this.subscriptions.add(n),function(){t.subscriptions.delete(n)&&n.unsubscribe()}},t.prototype.setOptions=function(e){return this.reobserve(e)},t.prototype.setVariables=function(e){if((0,l.D)(this.variables,e))return this.observers.size?this.result():Promise.resolve();if(this.options.variables=e,!this.observers.size)return Promise.resolve();var t=this.options.fetchPolicy,n=void 0===t?"cache-first":t,r={fetchPolicy:n,variables:e};return"cache-first"!==n&&"no-cache"!==n&&"network-only"!==n&&(r.fetchPolicy="cache-and-network",r.nextFetchPolicy=n),this.reobserve(r,I.setVariables)},t.prototype.updateQuery=function(e){var t,n=this.queryManager,r=e(n.cache.diff({query:this.options.query,variables:this.variables,previousResult:null===(t=this.lastResult)||void 0===t?void 0:t.data,returnPartialData:!0,optimistic:!1}).result,{variables:this.variables});r&&(n.cache.writeQuery({query:this.options.query,data:r,variables:this.variables}),n.broadcastQueries())},t.prototype.startPolling=function(e){this.getReobserver().updateOptions({pollInterval:e})},t.prototype.stopPolling=function(){this.reobserver&&this.reobserver.updateOptions({pollInterval:0})},t.prototype.updateLastResult=function(e){var t=this.lastResult;return this.lastResult=e,this.lastResultSnapshot=this.queryManager.assumeImmutableResults?e:T(e),(0,p.O)(e.errors)||delete this.lastError,t},t.prototype.onSubscribe=function(e){var t=this;if(e===this.observer)return function(){};try{var n=e._subscription._observer;n&&!n.error&&(n.error=D)}catch(e){}var r=!this.observers.size;return this.observers.add(e),this.lastError?e.error&&e.error(this.lastError):this.lastResult&&e.next&&e.next(this.lastResult),r&&this.reobserve().catch((function(e){})),function(){t.observers.delete(e)&&!t.observers.size&&t.tearDownQuery()}},t.prototype.getReobserver=function(){return this.reobserver||(this.reobserver=this.newReobserver(!0))},t.prototype.newReobserver=function(e){var t=this,n=this.queryManager,i=this.queryId;return n.setObservableQuery(this),new k(this.observer,e?this.options:(0,r.pi)({},this.options),(function(e,r){return n.setObservableQuery(t),n.fetchQueryObservable(i,e,r)}),!n.ssrMode&&function(){return!w(t.queryInfo.networkStatus)})},t.prototype.reobserve=function(e,t){return this.isTornDown=!1,this.getReobserver().reobserve(e,t)},t.prototype.observe=function(){this.observer.next(this.getCurrentResult(!1))},t.prototype.hasObservers=function(){return this.observers.size>0},t.prototype.tearDownQuery=function(){this.isTornDown||(this.reobserver&&(this.reobserver.stop(),delete this.reobserver),this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},t}(v());function D(e){}E(N);var P=n(7304),x=n(7742),L=n(9770),M=n(386),B=n(4420),F=function(){function e(e){var t=e.cache,n=e.client,r=e.resolvers,i=e.fragmentMatcher;this.cache=t,n&&(this.client=n),r&&this.addResolvers(r),i&&this.setFragmentMatcher(i)}return e.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach((function(e){t.resolvers=(0,x.Ee)(t.resolvers,e)})):this.resolvers=(0,x.Ee)(this.resolvers,e)},e.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},e.prototype.getResolvers=function(){return this.resolvers||{}},e.prototype.runResolvers=function(e){var t=e.document,n=e.remoteResult,i=e.context,o=e.variables,a=e.onlyRunForcedResolvers,s=void 0!==a&&a;return(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){return t?[2,this.resolveDocument(t,n.data,i,o,this.fragmentMatcher,s).then((function(e){return(0,r.pi)((0,r.pi)({},n),{data:e.result})}))]:[2,n]}))}))},e.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},e.prototype.clientQuery=function(e){return(0,g.FS)(["client"],e)&&this.resolvers?e:null},e.prototype.serverQuery=function(e){return(0,A.ob)(e)},e.prototype.prepareContext=function(e){var t=this.cache;return(0,r.pi)((0,r.pi)({},e),{cache:t,getCacheKey:function(e){return t.identify(e)}})},e.prototype.addExportedVariables=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(i){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(n),t).then((function(e){return(0,r.pi)((0,r.pi)({},t),e.exportedVariables)}))]:[2,(0,r.pi)({},t)]}))}))},e.prototype.shouldForceResolvers=function(e){var t=!1;return(0,P.Vn)(e,{Directive:{enter:function(e){if("client"===e.name.value&&e.arguments&&(t=e.arguments.some((function(e){return"always"===e.name.value&&"BooleanValue"===e.value.kind&&!0===e.value.value}))))return P.$_}}}),t},e.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:(0,A.aL)(e),variables:t,returnPartialData:!0,optimistic:!1}).result},e.prototype.resolveDocument=function(e,t,n,i,o,a){return void 0===n&&(n={}),void 0===i&&(i={}),void 0===o&&(o=function(){return!0}),void 0===a&&(a=!1),(0,r.mG)(this,void 0,void 0,(function(){var s,c,u,l,d,h,p,A,g;return(0,r.Jh)(this,(function(m){return s=(0,f.p$)(e),c=(0,f.kU)(e),u=(0,L.F)(c),l=s.operation,d=l?l.charAt(0).toUpperCase()+l.slice(1):"Query",p=(h=this).cache,A=h.client,g={fragmentMap:u,context:(0,r.pi)((0,r.pi)({},n),{cache:p,client:A}),variables:i,fragmentMatcher:o,defaultOperationType:d,exportedVariables:{},onlyRunForcedResolvers:a},[2,this.resolveSelectionSet(s.selectionSet,t,g).then((function(e){return{result:e,exportedVariables:g.exportedVariables}}))]}))}))},e.prototype.resolveSelectionSet=function(e,t,n){return(0,r.mG)(this,void 0,void 0,(function(){var o,a,s,c,u,l=this;return(0,r.Jh)(this,(function(d){return o=n.fragmentMap,a=n.context,s=n.variables,c=[t],u=function(e){return(0,r.mG)(l,void 0,void 0,(function(){var u,l;return(0,r.Jh)(this,(function(r){return(0,g.LZ)(e,s)?(0,M.My)(e)?[2,this.resolveField(e,t,n).then((function(t){var n;void 0!==t&&c.push(((n={})[(0,M.u2)(e)]=t,n))}))]:((0,M.Ao)(e)?u=e:(u=o[e.name.value],(0,i.kG)(u,11)),u&&u.typeCondition&&(l=u.typeCondition.name.value,n.fragmentMatcher(t,l,a))?[2,this.resolveSelectionSet(u.selectionSet,t,n).then((function(e){c.push(e)}))]:[2]):[2]}))}))},[2,Promise.all(e.selections.map(u)).then((function(){return(0,x.bw)(c)}))]}))}))},e.prototype.resolveField=function(e,t,n){return(0,r.mG)(this,void 0,void 0,(function(){var i,o,a,s,c,u,l,d,h,p=this;return(0,r.Jh)(this,(function(r){return i=n.variables,o=e.name.value,a=(0,M.u2)(e),s=o!==a,c=t[a]||t[o],u=Promise.resolve(c),n.onlyRunForcedResolvers&&!this.shouldForceResolvers(e)||(l=t.__typename||n.defaultOperationType,(d=this.resolvers&&this.resolvers[l])&&(h=d[s?o:a])&&(u=Promise.resolve(B.ab.withValue(this.cache,h,[t,(0,M.NC)(e,i),n.context,{field:e,fragmentMap:n.fragmentMap}])))),[2,u.then((function(t){return void 0===t&&(t=c),e.directives&&e.directives.forEach((function(e){"export"===e.name.value&&e.arguments&&e.arguments.forEach((function(e){"as"===e.name.value&&"StringValue"===e.value.kind&&(n.exportedVariables[e.value.value]=t)}))})),e.selectionSet?null==t?t:Array.isArray(t)?p.resolveSubSelectedArray(e,t,n):e.selectionSet?p.resolveSelectionSet(e.selectionSet,t,n):void 0:t}))]}))}))},e.prototype.resolveSubSelectedArray=function(e,t,n){var r=this;return Promise.all(t.map((function(t){return null===t?null:Array.isArray(t)?r.resolveSubSelectedArray(e,t,n):e.selectionSet?r.resolveSelectionSet(e.selectionSet,t,n):void 0})))},e}(),U=new(d.m?WeakMap:Map);function j(e,t){var n=e[t];"function"==typeof n&&(e[t]=function(){return U.set(e,(U.get(e)+1)%1e15),n.apply(this,arguments)})}function V(e){e.notifyTimeout&&(clearTimeout(e.notifyTimeout),e.notifyTimeout=void 0)}var Q=function(){function e(e){this.cache=e,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.diff=null,this.observableQuery=null,U.has(e)||(U.set(e,0),j(e,"evict"),j(e,"modify"),j(e,"reset"))}return e.prototype.init=function(e){var t=e.networkStatus||I.loading;return this.variables&&this.networkStatus!==I.loading&&!(0,l.D)(this.variables,e.variables)&&(t=I.setVariables),(0,l.D)(e.variables,this.variables)||(this.diff=null),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:t}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},e.prototype.reset=function(){V(this),this.diff=null,this.dirty=!1},e.prototype.getDiff=function(e){return void 0===e&&(e=this.variables),this.diff&&(0,l.D)(e,this.variables)?this.diff:(this.updateWatch(this.variables=e),this.diff=this.cache.diff({query:this.document,variables:e,returnPartialData:!0,optimistic:!0}))},e.prototype.setDiff=function(e){var t=this,n=this.diff;this.diff=e,this.dirty||(e&&e.result)===(n&&n.result)||(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout((function(){return t.notify()}),0)))},e.prototype.setObservableQuery=function(e){var t=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){t.getDiff().fromOptimisticTransaction?e.observe():e.reobserve()})):delete this.oqListener)},e.prototype.notify=function(){var e=this;V(this),this.shouldNotify()&&this.listeners.forEach((function(t){return t(e)})),this.dirty=!1},e.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(w(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if("cache-only"!==e&&"cache-and-network"!==e)return!1}return!0},e.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),delete this.cancel,this.subscriptions.forEach((function(e){return e.unsubscribe()}));var e=this.observableQuery;e&&e.stopPolling()}},e.prototype.cancel=function(){},e.prototype.updateWatch=function(e){var t=this;void 0===e&&(e=this.variables);var n=this.observableQuery;n&&"no-cache"===n.options.fetchPolicy||this.lastWatch&&this.lastWatch.query===this.document&&(0,l.D)(e,this.lastWatch.variables)||(this.cancel(),this.cancel=this.cache.watch(this.lastWatch={query:this.document,variables:e,optimistic:!0,callback:function(e){return t.setDiff(e)}}))},e.prototype.shouldWrite=function(e,t){var n=this.lastWrite;return!(n&&n.dmCount===U.get(this.cache)&&(0,l.D)(t,n.variables)&&(0,l.D)(e.data,n.result.data))},e.prototype.markResult=function(e,t,n){var r=this;this.graphQLErrors=(0,p.O)(e.errors)?e.errors:[],this.reset(),"no-cache"===t.fetchPolicy?this.diff={result:e.data,complete:!0}:!this.stopped&&n&&(G(e,t.errorPolicy)?this.cache.performTransaction((function(n){if(r.shouldWrite(e,t.variables))n.writeQuery({query:r.document,data:e.data,variables:t.variables}),r.lastWrite={result:e,variables:t.variables,dmCount:U.get(r.cache)};else if(r.diff&&r.diff.complete)return void(e.data=r.diff.result);var i=n.diff({query:r.document,variables:t.variables,returnPartialData:!0,optimistic:!0});r.stopped||r.updateWatch(t.variables),r.diff=i,i.complete&&(e.data=i.result)})):this.lastWrite=void 0)},e.prototype.markReady=function(){return this.networkError=null,this.networkStatus=I.ready},e.prototype.markError=function(e){return this.networkStatus=I.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},e}();function G(e,t){void 0===t&&(t="none");var n="ignore"===t||"all"===t,r=!h(e);return!r&&n&&e.data&&(r=!0),r}var q=Object.prototype.hasOwnProperty,H=function(){function e(e){var t=e.cache,n=e.link,r=e.queryDeduplication,i=void 0!==r&&r,o=e.onBroadcast,a=e.ssrMode,s=void 0!==a&&a,c=e.clientAwareness,u=void 0===c?{}:c,l=e.localState,h=e.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(d.m?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=t,this.link=n,this.queryDeduplication=i,this.clientAwareness=u,this.localState=l||new F({cache:t}),this.ssrMode=s,this.assumeImmutableResults=!!h,(this.onBroadcast=o)&&(this.mutationStore=Object.create(null))}return e.prototype.stop=function(){var e=this;this.queries.forEach((function(t,n){e.stopQueryNoBroadcast(n)})),this.cancelPendingFetches(new i.ej(12))},e.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach((function(t){return t(e)})),this.fetchCancelFns.clear()},e.prototype.mutate=function(e){var t=e.mutation,n=e.variables,o=e.optimisticResponse,a=e.updateQueries,s=e.refetchQueries,c=void 0===s?[]:s,u=e.awaitRefetchQueries,l=void 0!==u&&u,d=e.update,f=e.errorPolicy,A=void 0===f?"none":f,g=e.fetchPolicy,m=e.context,v=void 0===m?{}:m;return(0,r.mG)(this,void 0,void 0,(function(){var e,s,u;return(0,r.Jh)(this,(function(f){switch(f.label){case 0:return(0,i.kG)(t,13),(0,i.kG)(!g||"no-cache"===g,14),e=this.generateMutationId(),t=this.transform(t).document,n=this.getVariables(t,n),this.transform(t).hasClientExports?[4,this.localState.addExportedVariables(t,n,v)]:[3,2];case 1:n=f.sent(),f.label=2;case 2:return s=this.mutationStore&&(this.mutationStore[e]={mutation:t,variables:n,loading:!0,error:null}),o&&this.markMutationOptimistic(o,{mutationId:e,document:t,variables:n,errorPolicy:A,updateQueries:a,update:d}),this.broadcastQueries(),u=this,[2,new Promise((function(i,f){var m,y;u.getObservableFromLink(t,(0,r.pi)((0,r.pi)({},v),{optimisticResponse:o}),n,!1).subscribe({next:function(r){if(h(r)&&"none"===A)y=new S.c({graphQLErrors:r.errors});else{if(s&&(s.loading=!1,s.error=null),"no-cache"!==g)try{u.markMutationResult({mutationId:e,result:r,document:t,variables:n,errorPolicy:A,updateQueries:a,update:d})}catch(e){return void(y=new S.c({networkError:e}))}m=r}},error:function(t){s&&(s.loading=!1,s.error=t),o&&u.cache.removeOptimistic(e),u.broadcastQueries(),f(new S.c({networkError:t}))},complete:function(){if(y&&s&&(s.loading=!1,s.error=y),o&&u.cache.removeOptimistic(e),u.broadcastQueries(),y)f(y);else{"function"==typeof c&&(c=c(m));var t=[];(0,p.O)(c)&&c.forEach((function(e){if("string"==typeof e)u.queries.forEach((function(n){var r=n.observableQuery;r&&r.hasObservers()&&r.queryName===e&&t.push(r.refetch())}));else{var n={query:e.query,variables:e.variables,fetchPolicy:"network-only"};e.context&&(n.context=e.context),t.push(u.query(n))}})),Promise.all(l?t:[]).then((function(){"ignore"===A&&m&&h(m)&&delete m.errors,i(m)}),f)}}})}))]}}))}))},e.prototype.markMutationResult=function(e,t){var n=this;if(void 0===t&&(t=this.cache),G(e.result,e.errorPolicy)){var r=[{result:e.result.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}],i=e.updateQueries;i&&this.queries.forEach((function(o,a){var s=o.observableQuery,c=s&&s.queryName;if(c&&q.call(i,c)){var u=i[c],l=n.queries.get(a),d=l.document,h=l.variables,p=t.diff({query:d,variables:h,returnPartialData:!0,optimistic:!1}),A=p.result;if(p.complete&&A){var g=u(A,{mutationResult:e.result,queryName:d&&(0,f.rY)(d)||void 0,queryVariables:h});g&&r.push({result:g,dataId:"ROOT_QUERY",query:d,variables:h})}}})),t.performTransaction((function(t){r.forEach((function(e){return t.write(e)}));var n=e.update;n&&n(t,e.result)}),null)}},e.prototype.markMutationOptimistic=function(e,t){var n=this,i="function"==typeof e?e(t.variables):e;return this.cache.recordOptimisticTransaction((function(e){try{n.markMutationResult((0,r.pi)((0,r.pi)({},t),{result:{data:i}}),e)}catch(e){}}),t.mutationId)},e.prototype.fetchQuery=function(e,t,n){return this.fetchQueryObservable(e,t,n).promise},e.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach((function(t,n){e[n]={variables:t.variables,networkStatus:t.networkStatus,networkError:t.networkError,graphQLErrors:t.graphQLErrors}})),e},e.prototype.resetErrors=function(e){var t=this.queries.get(e);t&&(t.networkError=void 0,t.graphQLErrors=[])},e.prototype.transform=function(e){var t=this.transformCache;if(!t.has(e)){var n=this.cache.transformDocument(e),r=(0,A.Fo)(this.cache.transformForLink(n)),i=this.localState.clientQuery(n),o=r&&this.localState.serverQuery(r),a={document:n,hasClientExports:(0,g.mj)(n),hasForcedResolvers:this.localState.shouldForceResolvers(n),clientQuery:i,serverQuery:o,defaultVars:(0,f.O4)((0,f.$H)(n))},s=function(e){e&&!t.has(e)&&t.set(e,a)};s(e),s(n),s(i),s(o)}return t.get(e)},e.prototype.getVariables=function(e,t){return(0,r.pi)((0,r.pi)({},this.transform(e).defaultVars),t)},e.prototype.watchQuery=function(e){void 0===(e=(0,r.pi)((0,r.pi)({},e),{variables:this.getVariables(e.query,e.variables)})).notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!1);var t=new Q(this.cache),n=new N({queryManager:this,queryInfo:t,options:e});return this.queries.set(n.queryId,t),t.init({document:e.query,observableQuery:n,variables:e.variables}),n},e.prototype.query=function(e){var t=this;(0,i.kG)(e.query,15),(0,i.kG)("Document"===e.query.kind,16),(0,i.kG)(!e.returnPartialData,17),(0,i.kG)(!e.pollInterval,18);var n=this.generateQueryId();return this.fetchQuery(n,e).finally((function(){return t.stopQuery(n)}))},e.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},e.prototype.generateRequestId=function(){return this.requestIdCounter++},e.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},e.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryInStoreNoBroadcast=function(e){var t=this.queries.get(e);t&&t.stop()},e.prototype.clearStore=function(){return this.cancelPendingFetches(new i.ej(19)),this.queries.forEach((function(e){e.observableQuery?e.networkStatus=I.loading:e.stop()})),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset()},e.prototype.resetStore=function(){var e=this;return this.clearStore().then((function(){return e.reFetchObservableQueries()}))},e.prototype.reFetchObservableQueries=function(e){var t=this;void 0===e&&(e=!1);var n=[];return this.queries.forEach((function(r,i){var o=r.observableQuery;if(o&&o.hasObservers()){var a=o.options.fetchPolicy;o.resetLastResults(),"cache-only"===a||!e&&"standby"===a||n.push(o.refetch()),t.getQuery(i).setDiff(null)}})),this.broadcastQueries(),Promise.all(n)},e.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},e.prototype.startGraphQLSubscription=function(e){var t=this,n=e.query,r=e.fetchPolicy,i=e.errorPolicy,o=e.variables,a=e.context,s=void 0===a?{}:a;n=this.transform(n).document,o=this.getVariables(n,o);var c=function(e){return t.getObservableFromLink(n,s,e,!1).map((function(o){if("no-cache"!==r&&(G(o,i)&&t.cache.write({query:n,result:o.data,dataId:"ROOT_SUBSCRIPTION",variables:e}),t.broadcastQueries()),h(o))throw new S.c({graphQLErrors:o.errors});return o}))};if(this.transform(n).hasClientExports){var u=this.localState.addExportedVariables(n,o,s).then(c);return new(v())((function(e){var t=null;return u.then((function(n){return t=n.subscribe(e)}),e.error),function(){return t&&t.unsubscribe()}}))}return c(o)},e.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},e.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.getQuery(e).stop(),this.queries.delete(e)},e.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach((function(e){return e.notify()}))},e.prototype.getLocalState=function(){return this.localState},e.prototype.getObservableFromLink=function(e,t,n,i){var o,s,c=this;void 0===i&&(i=null!==(o=null==t?void 0:t.queryDeduplication)&&void 0!==o?o:this.queryDeduplication);var u=this.transform(e).serverQuery;if(u){var l=this.inFlightLinkObservables,d=this.link,h={query:u,variables:n,operationName:(0,f.rY)(u)||void 0,context:this.prepareContext((0,r.pi)((0,r.pi)({},t),{forceFetch:!i}))};if(t=h.context,i){var p=l.get(u)||new Map;l.set(u,p);var A=JSON.stringify(n);if(!(s=p.get(A))){var g=new _([a(d,h)]);p.set(A,s=g),g.cleanup((function(){p.delete(A)&&p.size<1&&l.delete(u)}))}}else s=new _([a(d,h)])}else s=new _([v().of({data:{}})]),t=this.prepareContext(t);var m=this.transform(e).clientQuery;return m&&(s=C(s,(function(e){return c.localState.runResolvers({document:m,remoteResult:e,context:t,variables:n})}))),s},e.prototype.getResultsFromLink=function(e,t,n){var r=e.lastRequestId=this.generateRequestId();return C(this.getObservableFromLink(e.document,n.context,n.variables),(function(i){var o=(0,p.O)(i.errors);if(r>=e.lastRequestId){if(o&&"none"===n.errorPolicy)throw e.markError(new S.c({graphQLErrors:i.errors}));e.markResult(i,n,t),e.markReady()}var a={data:i.data,loading:!1,networkStatus:e.networkStatus||I.ready};return o&&"ignore"!==n.errorPolicy&&(a.errors=i.errors),a}),(function(t){var n=(0,S.M)(t)?t:new S.c({networkError:t});throw r>=e.lastRequestId&&e.markError(n),n}))},e.prototype.fetchQueryObservable=function(e,t,n){var r=this;void 0===n&&(n=I.loading);var i=this.transform(t.query).document,o=this.getVariables(i,t.variables),a=this.getQuery(e),s=a.networkStatus,c=t.fetchPolicy,u=void 0===c?"cache-first":c,l=t.errorPolicy,d=void 0===l?"none":l,h=t.returnPartialData,p=void 0!==h&&h,f=t.notifyOnNetworkStatusChange,A=void 0!==f&&f,g=t.context,m=void 0===g?{}:g;("cache-first"===u||"cache-and-network"===u||"network-only"===u||"no-cache"===u)&&A&&"number"==typeof s&&s!==n&&w(n)&&("cache-first"!==u&&(u="cache-and-network"),p=!0);var v=Object.assign({},t,{query:i,variables:o,fetchPolicy:u,errorPolicy:d,returnPartialData:p,notifyOnNetworkStatusChange:A,context:m}),y=function(e){return v.variables=e,r.fetchQueryByPolicy(a,v,n)};this.fetchCancelFns.set(e,(function(e){Promise.resolve().then((function(){return E.cancel(e)}))}));var E=new _(this.transform(v.query).hasClientExports?this.localState.addExportedVariables(v.query,v.variables,v.context).then(y):y(v.variables));return E.cleanup((function(){r.fetchCancelFns.delete(e);var n=t.nextFetchPolicy;n&&(t.nextFetchPolicy=void 0,t.fetchPolicy="function"==typeof n?n.call(t,t.fetchPolicy||"cache-first"):n)})),E},e.prototype.fetchQueryByPolicy=function(e,t,n){var i=this,o=t.query,a=t.variables,s=t.fetchPolicy,c=t.errorPolicy,u=t.returnPartialData,l=t.context;e.init({document:o,variables:a,networkStatus:n});var d=function(){return e.getDiff(a)},h=function(t,n){void 0===n&&(n=e.networkStatus||I.loading);var s=t.result,c=function(e){return v().of((0,r.pi)({data:e,loading:w(n),networkStatus:n},t.complete?null:{partial:!0}))};return i.transform(o).hasForcedResolvers?i.localState.runResolvers({document:o,remoteResult:{data:s},context:l,variables:a,onlyRunForcedResolvers:!0}).then((function(e){return c(e.data)})):c(s)},p=function(t){return i.getResultsFromLink(e,t,{variables:a,context:l,fetchPolicy:s,errorPolicy:c})};switch(s){default:case"cache-first":return(f=d()).complete?[h(f,e.markReady())]:u?[h(f),p(!0)]:[p(!0)];case"cache-and-network":var f;return(f=d()).complete||u?[h(f),p(!0)]:[p(!0)];case"cache-only":return[h(d(),e.markReady())];case"network-only":return[p(!0)];case"no-cache":return[p(!1)];case"standby":return[]}},e.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new Q(this.cache)),this.queries.get(e)},e.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.localState.prepareContext(e);return(0,r.pi)((0,r.pi)({},t),{clientAwareness:this.clientAwareness})},e}();function z(e,t){return s(e,t,t.variables&&{variables:(0,r.pi)((0,r.pi)({},e.variables),t.variables)})}var W=function(){function e(e){var t=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var n=e.uri,r=e.credentials,a=e.headers,s=e.cache,c=e.ssrMode,l=void 0!==c&&c,d=e.ssrForceFetchDelay,h=void 0===d?0:d,p=e.connectToDevTools,f=void 0===p?"object"==typeof window&&!window.__APOLLO_CLIENT__&&!1:p,A=e.queryDeduplication,g=void 0===A||A,m=e.defaultOptions,v=e.assumeImmutableResults,y=void 0!==v&&v,E=e.resolvers,b=e.typeDefs,_=e.fragmentMatcher,C=e.name,I=e.version,S=e.link;if(S||(S=n?new u({uri:n,credentials:r,headers:a}):o.i.empty()),!s)throw new i.ej(9);this.link=S,this.cache=s,this.disableNetworkFetches=l||h>0,this.queryDeduplication=g,this.defaultOptions=m||{},this.typeDefs=b,h&&setTimeout((function(){return t.disableNetworkFetches=!1}),h),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),f&&"object"==typeof window&&(window.__APOLLO_CLIENT__=this),this.version="3.3.20",this.localState=new F({cache:s,client:this,resolvers:E,fragmentMatcher:_}),this.queryManager=new H({cache:this.cache,link:this.link,queryDeduplication:g,ssrMode:l,clientAwareness:{name:C,version:I},localState:this.localState,assumeImmutableResults:y,onBroadcast:f?function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.getQueryStore(),mutations:t.queryManager.mutationStore||{}},dataWithOptimisticResults:t.cache.extract(!0)})}:void 0})}return e.prototype.stop=function(){this.queryManager.stop()},e.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=z(this.defaultOptions.watchQuery,e)),!this.disableNetworkFetches||"network-only"!==e.fetchPolicy&&"cache-and-network"!==e.fetchPolicy||(e=(0,r.pi)((0,r.pi)({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},e.prototype.query=function(e){return this.defaultOptions.query&&(e=z(this.defaultOptions.query,e)),(0,i.kG)("cache-and-network"!==e.fetchPolicy,10),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=(0,r.pi)((0,r.pi)({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},e.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=z(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},e.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.cache.readQuery(e,t)},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.cache.readFragment(e,t)},e.prototype.writeQuery=function(e){this.cache.writeQuery(e),this.queryManager.broadcastQueries()},e.prototype.writeFragment=function(e){this.cache.writeFragment(e),this.queryManager.broadcastQueries()},e.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},e.prototype.__requestRaw=function(e){return a(this.link,e)},e.prototype.resetStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore()})).then((function(){return Promise.all(e.resetStoreCallbacks.map((function(e){return e()})))})).then((function(){return e.reFetchObservableQueries()}))},e.prototype.clearStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore()})).then((function(){return Promise.all(e.clearStoreCallbacks.map((function(e){return e()})))}))},e.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},e.prototype.extract=function(e){return this.cache.extract(e)},e.prototype.restore=function(e){return this.cache.restore(e)},e.prototype.addResolvers=function(e){this.localState.addResolvers(e)},e.prototype.setResolvers=function(e){this.localState.setResolvers(e)},e.prototype.getResolvers=function(){return this.localState.getResolvers()},e.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},e.prototype.setLink=function(e){this.link=this.queryManager.link=e},e}()},1439:(e,t,n)=>{"use strict";var r=n(2191);n.o(r,"ApolloProvider")&&n.d(t,{ApolloProvider:function(){return r.ApolloProvider}}),n.o(r,"useApolloClient")&&n.d(t,{useApolloClient:function(){return r.useApolloClient}}),n.o(r,"useMutation")&&n.d(t,{useMutation:function(){return r.useMutation}});var i=n(5367);n.o(i,"ApolloProvider")&&n.d(t,{ApolloProvider:function(){return i.ApolloProvider}}),n.o(i,"useApolloClient")&&n.d(t,{useApolloClient:function(){return i.useApolloClient}}),n.o(i,"useMutation")&&n.d(t,{useMutation:function(){return i.useMutation}});var o=n(1707);n.o(o,"ApolloProvider")&&n.d(t,{ApolloProvider:function(){return o.ApolloProvider}}),n.o(o,"useApolloClient")&&n.d(t,{useApolloClient:function(){return o.useApolloClient}}),n.o(o,"useMutation")&&n.d(t,{useMutation:function(){return o.useMutation}}),(0,n(1467).U6)("log")},2191:()=>{},1498:(e,t,n)=>{"use strict";n.d(t,{M:()=>o,c:()=>a});var r=n(655),i=n(4517);function o(e){return e.hasOwnProperty("graphQLErrors")}var a=function(e){function t(n){var r,o,a=n.graphQLErrors,s=n.networkError,c=n.errorMessage,u=n.extraInfo,l=e.call(this,c)||this;return l.graphQLErrors=a||[],l.networkError=s||null,l.message=c||(r=l,o="",(0,i.O)(r.graphQLErrors)&&r.graphQLErrors.forEach((function(e){var t=e?e.message:"Error message not found.";o+=t+"\n"})),r.networkError&&(o+=r.networkError.message+"\n"),o=o.replace(/\n$/,"")),l.extraInfo=u,l.__proto__=t.prototype,l}return(0,r.ZT)(t,e),t}(Error)},6829:(e,t,n)=>{"use strict";n.d(t,{ApolloProvider:()=>i.ApolloProvider,useApolloClient:()=>i.useApolloClient,useMutation:()=>i.useMutation});var r=n(1439);n.o(r,"ApolloProvider")&&n.d(t,{ApolloProvider:function(){return r.ApolloProvider}}),n.o(r,"useApolloClient")&&n.d(t,{useApolloClient:function(){return r.useApolloClient}}),n.o(r,"useMutation")&&n.d(t,{useMutation:function(){return r.useMutation}});var i=n(8513)},6706:(e,t,n)=>{"use strict";n.d(t,{i:()=>h});var r,i=n(655),o=n(1467),a=n(9329),s=n.n(a),c=n(4604);function u(e,t){return t?t(e):s().of()}function l(e){return"function"==typeof e?new h(e):e}function d(e){return e.request.length<=1}r=Error,(0,i.ZT)((function(e,t){var n=r.call(this,e)||this;return n.link=t,n}),r);var h=function(){function e(e){e&&(this.request=e)}return e.empty=function(){return new e((function(){return s().of()}))},e.from=function(t){return 0===t.length?e.empty():t.map(l).reduce((function(e,t){return e.concat(t)}))},e.split=function(t,n,r){var i=l(n),o=l(r||new e(u));return d(i)&&d(o)?new e((function(e){return t(e)?i.request(e)||s().of():o.request(e)||s().of()})):new e((function(e,n){return t(e)?i.request(e,n)||s().of():o.request(e,n)||s().of()}))},e.execute=function(e,t){return e.request(function(e,t){var n=(0,i.pi)({},e);return Object.defineProperty(t,"setContext",{enumerable:!1,value:function(e){n="function"==typeof e?(0,i.pi)((0,i.pi)({},n),e(n)):(0,i.pi)((0,i.pi)({},n),e)}}),Object.defineProperty(t,"getContext",{enumerable:!1,value:function(){return(0,i.pi)({},n)}}),t}(t.context,function(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName="string"!=typeof t.query?(0,c.rY)(t.query)||void 0:""),t}(function(e){for(var t=["query","operationName","variables","extensions","context"],n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];if(t.indexOf(i)<0)throw new o.ej(26)}return e}(t))))||s().of()},e.concat=function(t,n){var r=l(t);if(d(r))return r;var i=l(n);return d(i)?new e((function(e){return r.request(e,(function(e){return i.request(e)||s().of()}))||s().of()})):new e((function(e,t){return r.request(e,(function(e){return i.request(e,t)||s().of()}))||s().of()}))},e.prototype.split=function(t,n,r){return this.concat(e.split(t,n,r||new e(u)))},e.prototype.concat=function(t){return e.concat(this,t)},e.prototype.request=function(e,t){throw new o.ej(21)},e.prototype.onError=function(e,t){if(t&&t.error)return t.error(e),!1;throw e},e.prototype.setOnError=function(e){return this.onError=e,this},e}()},1707:(e,t,n)=>{"use strict";var r=n(9875);n.o(r,"ApolloProvider")&&n.d(t,{ApolloProvider:function(){return r.ApolloProvider}}),n.o(r,"useApolloClient")&&n.d(t,{useApolloClient:function(){return r.useApolloClient}}),n.o(r,"useMutation")&&n.d(t,{useMutation:function(){return r.useMutation}})},9875:()=>{},3104:(e,t,n)=>{"use strict";n.d(t,{L:()=>I});var r=n(655),i=n(7304),o=n(6706),a=n(9329),s=n.n(a),c=n(1467),u=function(e,t){var n;try{n=JSON.stringify(e)}catch(e){var r=new c.ej(23);throw r.parseError=e,r}return n},l=function(e,t,n){var r=new Error(n);throw r.name="ServerError",r.response=e,r.statusCode=e.status,r.result=t,r},d=Object.prototype.hasOwnProperty,h=n(7392);function p(e){return(0,i.Vn)(e,{leave:f})}var f={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return g(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,r=v("(",g(e.variableDefinitions,", "),")"),i=g(e.directives," "),o=e.selectionSet;return n||i||r||"query"!==t?g([t,g([n,r]),i,o]," "):o},VariableDefinition:function(e){var t=e.variable,n=e.type,r=e.defaultValue,i=e.directives;return t+": "+n+v(" = ",r)+v(" ",g(i," "))},SelectionSet:function(e){return m(e.selections)},Field:function(e){var t=e.alias,n=e.name,r=e.arguments,i=e.directives,o=e.selectionSet,a=v("",t,": ")+n,s=a+v("(",g(r,", "),")");return s.length>80&&(s=a+v("(\n",y(g(r,"\n")),"\n)")),g([s,g(i," "),o]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+v(" ",g(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,r=e.selectionSet;return g(["...",v("on ",t),g(n," "),r]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,r=e.variableDefinitions,i=e.directives,o=e.selectionSet;return"fragment ".concat(t).concat(v("(",g(r,", "),")")," ")+"on ".concat(n," ").concat(v("",g(i," ")," "))+o},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?(0,h.LZ)(n,"description"===t?"":"  "):JSON.stringify(n)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+g(e.values,", ")+"]"},ObjectValue:function(e){return"{"+g(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+v("(",g(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:A((function(e){var t=e.directives,n=e.operationTypes;return g(["schema",g(t," "),m(n)]," ")})),OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:A((function(e){return g(["scalar",e.name,g(e.directives," ")]," ")})),ObjectTypeDefinition:A((function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return g(["type",t,v("implements ",g(n," & ")),g(r," "),m(i)]," ")})),FieldDefinition:A((function(e){var t=e.name,n=e.arguments,r=e.type,i=e.directives;return t+(b(n)?v("(\n",y(g(n,"\n")),"\n)"):v("(",g(n,", "),")"))+": "+r+v(" ",g(i," "))})),InputValueDefinition:A((function(e){var t=e.name,n=e.type,r=e.defaultValue,i=e.directives;return g([t+": "+n,v("= ",r),g(i," ")]," ")})),InterfaceTypeDefinition:A((function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return g(["interface",t,v("implements ",g(n," & ")),g(r," "),m(i)]," ")})),UnionTypeDefinition:A((function(e){var t=e.name,n=e.directives,r=e.types;return g(["union",t,g(n," "),r&&0!==r.length?"= "+g(r," | "):""]," ")})),EnumTypeDefinition:A((function(e){var t=e.name,n=e.directives,r=e.values;return g(["enum",t,g(n," "),m(r)]," ")})),EnumValueDefinition:A((function(e){return g([e.name,g(e.directives," ")]," ")})),InputObjectTypeDefinition:A((function(e){var t=e.name,n=e.directives,r=e.fields;return g(["input",t,g(n," "),m(r)]," ")})),DirectiveDefinition:A((function(e){var t=e.name,n=e.arguments,r=e.repeatable,i=e.locations;return"directive @"+t+(b(n)?v("(\n",y(g(n,"\n")),"\n)"):v("(",g(n,", "),")"))+(r?" repeatable":"")+" on "+g(i," | ")})),SchemaExtension:function(e){var t=e.directives,n=e.operationTypes;return g(["extend schema",g(t," "),m(n)]," ")},ScalarTypeExtension:function(e){return g(["extend scalar",e.name,g(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return g(["extend type",t,v("implements ",g(n," & ")),g(r," "),m(i)]," ")},InterfaceTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return g(["extend interface",t,v("implements ",g(n," & ")),g(r," "),m(i)]," ")},UnionTypeExtension:function(e){var t=e.name,n=e.directives,r=e.types;return g(["extend union",t,g(n," "),r&&0!==r.length?"= "+g(r," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,n=e.directives,r=e.values;return g(["extend enum",t,g(n," "),m(r)]," ")},InputObjectTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return g(["extend input",t,g(n," "),m(r)]," ")}};function A(e){return function(t){return g([t.description,e(t)],"\n")}}function g(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(t=null==e?void 0:e.filter((function(e){return e})).join(n))&&void 0!==t?t:""}function m(e){return v("{\n",y(g(e,"\n")),"\n}")}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return null!=t&&""!==t?e+t+n:""}function y(e){return v("  ",e.replace(/\n/g,"\n  "))}function E(e){return-1!==e.indexOf("\n")}function b(e){return null!=e&&e.some(E)}var _={http:{includeQuery:!0,includeExtensions:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}};function C(e){return new(s())((function(t){t.error(e)}))}var I=function(e){void 0===e&&(e={});var t=e.uri,n=void 0===t?"/graphql":t,a=e.fetch,h=e.includeExtensions,f=e.useGETForQueries,A=e.includeUnusedVariables,g=void 0!==A&&A,m=(0,r._T)(e,["uri","fetch","includeExtensions","useGETForQueries","includeUnusedVariables"]);!function(e){if(!e&&"undefined"==typeof fetch)throw new c.ej(22)}(a),a||(a=fetch);var v={http:{includeExtensions:h},options:m.fetchOptions,credentials:m.credentials,headers:m.headers};return new o.i((function(e){var t=function(e,t){return e.getContext().uri||("function"==typeof t?t(e):t||"/graphql")}(e,n),o=e.getContext(),c={};if(o.clientAwareness){var h=o.clientAwareness,A=h.name,m=h.version;A&&(c["apollographql-client-name"]=A),m&&(c["apollographql-client-version"]=m)}var y,E=(0,r.pi)((0,r.pi)({},c),o.headers),b={http:o.http,options:o.fetchOptions,credentials:o.credentials,headers:E},I=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=(0,r.pi)((0,r.pi)({},t.options),{headers:t.headers,credentials:t.credentials}),a=t.http||{};n.forEach((function(e){o=(0,r.pi)((0,r.pi)((0,r.pi)({},o),e.options),{headers:(0,r.pi)((0,r.pi)({},o.headers),e.headers)}),e.credentials&&(o.credentials=e.credentials),a=(0,r.pi)((0,r.pi)({},a),e.http)}));var s=e.operationName,c=e.extensions,u=e.variables,l=e.query,d={operationName:s,variables:u};return a.includeExtensions&&(d.extensions=c),a.includeQuery&&(d.query=p(l)),{options:o,body:d}}(e,_,v,b),S=I.options,w=I.body;if(w.variables&&!g){var R=new Set(Object.keys(w.variables));(0,i.Vn)(e.query,{Variable:function(e,t,n){n&&"VariableDefinition"!==n.kind&&R.delete(e.name.value)}}),R.size&&(w.variables=(0,r.pi)({},w.variables),R.forEach((function(e){delete w.variables[e]})))}if(!S.signal){var T=function(){if("undefined"==typeof AbortController)return{controller:!1,signal:!1};var e=new AbortController;return{controller:e,signal:e.signal}}(),O=T.controller,k=T.signal;(y=O)&&(S.signal=k)}if(f&&!e.query.definitions.some((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation}))&&(S.method="GET"),"GET"===S.method){var N=function(e,t){var n=[],r=function(e,t){n.push(e+"="+encodeURIComponent(t))};if("query"in t&&r("query",t.query),t.operationName&&r("operationName",t.operationName),t.variables){var i=void 0;try{i=u(t.variables)}catch(e){return{parseError:e}}r("variables",i)}if(t.extensions){var o=void 0;try{o=u(t.extensions)}catch(e){return{parseError:e}}r("extensions",o)}var a="",s=e,c=e.indexOf("#");-1!==c&&(a=e.substr(c),s=e.substr(0,c));var l=-1===s.indexOf("?")?"?":"&";return{newURI:s+l+n.join("&")+a}}(t,w),D=N.newURI,P=N.parseError;if(P)return C(P);t=D}else try{S.body=u(w)}catch(P){return C(P)}return new(s())((function(n){var r;return a(t,S).then((function(t){return e.setContext({response:t}),t})).then((r=e,function(e){return e.text().then((function(t){try{return JSON.parse(t)}catch(r){var n=r;throw n.name="ServerParseError",n.response=e,n.statusCode=e.status,n.bodyText=t,n}})).then((function(t){return e.status>=300&&l(e,t,"Response not successful: Received status code "+e.status),Array.isArray(t)||d.call(t,"data")||d.call(t,"errors")||l(e,t,"Server response was missing for query '"+(Array.isArray(r)?r.map((function(e){return e.operationName})):r.operationName)+"'."),t}))})).then((function(e){return n.next(e),n.complete(),e})).catch((function(e){"AbortError"!==e.name&&(e.result&&e.result.errors&&e.result.data&&n.next(e.result),n.error(e))})),function(){y&&y.abort()}}))}))}},8513:(e,t,n)=>{"use strict";n.d(t,{ApolloProvider:()=>s,useApolloClient:()=>c,useMutation:()=>v});var r=n(7294),i=n(1467),o=new(n(1578).m?WeakMap:Map);function a(){var e=o.get(r.createContext);return e||((e=r.createContext({})).displayName="ApolloContext",o.set(r.createContext,e)),e}var s=function(e){var t=e.client,n=e.children,o=a();return r.createElement(o.Consumer,null,(function(e){return void 0===e&&(e={}),t&&e.client!==t&&(e=Object.assign({},e,{client:t})),(0,i.kG)(e.client,28),r.createElement(o.Provider,{value:e},n)}))};function c(){var e=r.useContext(a()).client;return(0,i.kG)(e,33),e}var u,l=n(655),d=n(2152);!function(e){e[e.Query=0]="Query",e[e.Mutation=1]="Mutation",e[e.Subscription=2]="Subscription"}(u||(u={}));var h=new Map;function p(e){var t;switch(e){case u.Query:t="Query";break;case u.Mutation:t="Mutation";break;case u.Subscription:t="Subscription"}return t}var f=n(1498),A=function(){function e(e,t){this.isMounted=!1,this.previousOptions={},this.context={},this.options={},this.options=e||{},this.context=t||{}}return e.prototype.getOptions=function(){return this.options},e.prototype.setOptions=function(e,t){void 0===t&&(t=!1),t&&!(0,d.D)(this.options,e)&&(this.previousOptions=this.options),this.options=e},e.prototype.unmount=function(){this.isMounted=!1},e.prototype.refreshClient=function(){var e=this.options&&this.options.client||this.context&&this.context.client;(0,i.kG)(!!e,29);var t=!1;return e!==this.client&&(t=!0,this.client=e,this.cleanup()),{client:this.client,isNew:t}},e.prototype.verifyDocumentType=function(e,t){var n=function(e){var t,n,r=h.get(e);if(r)return r;(0,i.kG)(!!e&&!!e.kind,34);var o=e.definitions.filter((function(e){return"FragmentDefinition"===e.kind})),a=e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&"query"===e.operation})),s=e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation})),c=e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&"subscription"===e.operation}));(0,i.kG)(!o.length||a.length||s.length||c.length,35),(0,i.kG)(a.length+s.length+c.length<=1,36),n=a.length?u.Query:u.Mutation,a.length||s.length||(n=u.Subscription);var l=a.length?a:s.length?s:c;(0,i.kG)(1===l.length,37);var d=l[0];t=d.variableDefinitions||[];var p={name:d.name&&"Name"===d.name.kind?d.name.value:"data",type:n,variables:t};return h.set(e,p),p}(e);p(t),p(n.type),(0,i.kG)(n.type===t,30)},e}(),g=n(4152),m=function(e){function t(t){var n=t.options,r=t.context,i=t.result,o=t.setResult,a=e.call(this,n,r)||this;return a.runMutation=function(e){void 0===e&&(e={}),a.onMutationStart();var t=a.generateNewMutationId();return a.mutate(e).then((function(e){return a.onMutationCompleted(e,t),e})).catch((function(e){var n=a.getOptions().onError;if(a.onMutationError(e,t),n)return n(e),{data:void 0,errors:e};throw e}))},a.verifyDocumentType(n.mutation,u.Mutation),a.result=i,a.setResult=o,a.mostRecentMutationId=0,a}return(0,l.ZT)(t,e),t.prototype.execute=function(e){return this.isMounted=!0,this.verifyDocumentType(this.getOptions().mutation,u.Mutation),[this.runMutation,(0,l.pi)((0,l.pi)({},e),{client:this.refreshClient().client})]},t.prototype.afterExecute=function(){return this.isMounted=!0,this.unmount.bind(this)},t.prototype.cleanup=function(){},t.prototype.mutate=function(e){return this.refreshClient().client.mutate((0,g.J)(this.getOptions(),e))},t.prototype.onMutationStart=function(){this.result.loading||this.getOptions().ignoreResults||this.updateResult({loading:!0,error:void 0,data:void 0,called:!0})},t.prototype.onMutationCompleted=function(e,t){var n=this.getOptions(),r=n.onCompleted,i=n.ignoreResults,o=e.data,a=e.errors,s=a&&a.length>0?new f.c({graphQLErrors:a}):void 0;this.isMostRecentMutation(t)&&!i&&this.updateResult({called:!0,loading:!1,data:o,error:s}),r&&r(o)},t.prototype.onMutationError=function(e,t){this.isMostRecentMutation(t)&&this.updateResult({loading:!1,error:e,data:void 0,called:!0})},t.prototype.generateNewMutationId=function(){return++this.mostRecentMutationId},t.prototype.isMostRecentMutation=function(e){return this.mostRecentMutationId===e},t.prototype.updateResult=function(e){if(this.isMounted&&(!this.previousResult||!(0,d.D)(this.previousResult,e)))return this.setResult(e),this.previousResult=e,e},t}(A);function v(e,t){var n=(0,r.useContext)(a()),i=(0,r.useState)({called:!1,loading:!1}),o=i[0],s=i[1],c=t?(0,l.pi)((0,l.pi)({},t),{mutation:e}):{mutation:e},u=(0,r.useRef)(),d=(u.current||(u.current=new m({options:c,context:n,result:o,setResult:s})),u.current);return d.setOptions(c),d.context=n,(0,r.useEffect)((function(){return d.afterExecute()})),d.execute(o)}},4517:(e,t,n)=>{"use strict";function r(e){return Array.isArray(e)&&e.length>0}n.d(t,{O:()=>r})},1578:(e,t,n)=>{"use strict";n.d(t,{m:()=>r});var r="function"==typeof WeakMap&&!("object"==typeof navigator&&"ReactNative"===navigator.product)},7742:(e,t,n)=>{"use strict";n.d(t,{Ee:()=>o,bw:()=>a,w0:()=>u});var r=n(655),i=Object.prototype.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a(e)}function a(e){var t=e[0]||{},n=e.length;if(n>1)for(var r=new u,i=1;i<n;++i)t=r.merge(t,e[i]);return t}function s(e){return null!==e&&"object"==typeof e}var c=function(e,t,n){return this.merge(e[n],t[n])},u=function(){function e(e){void 0===e&&(e=c),this.reconciler=e,this.isObject=s,this.pastCopies=new Set}return e.prototype.merge=function(e,t){for(var n=this,o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];return s(t)&&s(e)?(Object.keys(t).forEach((function(a){if(i.call(e,a)){var s=e[a];if(t[a]!==s){var c=n.reconciler.apply(n,(0,r.pr)([e,t,a],o));c!==s&&((e=n.shallowCopyForMerge(e))[a]=c)}}else(e=n.shallowCopyForMerge(e))[a]=t[a]})),e):t},e.prototype.shallowCopyForMerge=function(e){return s(e)&&!this.pastCopies.has(e)&&(e=Array.isArray(e)?e.slice(0):(0,r.pi)({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e)),e},e}()},6376:(e,t,n)=>{"use strict";n.d(t,{FS:()=>a,LZ:()=>o,mj:()=>s});var r=n(7304),i=n(1467);function o(e,t){var n=e.directives;return!n||!n.length||function(e){var t=[];return e&&e.length&&e.forEach((function(e){if(function(e){var t=e.name.value;return"skip"===t||"include"===t}(e)){var n=e.arguments;e.name.value,(0,i.kG)(n&&1===n.length,39);var r=n[0];(0,i.kG)(r.name&&"if"===r.name.value,40);var o=r.value;(0,i.kG)(o&&("Variable"===o.kind||"BooleanValue"===o.kind),41),t.push({directive:e,ifArgument:r})}})),t}(n).every((function(e){var n=e.directive,r=e.ifArgument,o=!1;return"Variable"===r.value.kind?(o=t&&t[r.value.name.value],(0,i.kG)(void 0!==o,38)):o=r.value.value,"skip"===n.name.value?!o:o}))}function a(e,t){return function(e){var t=[];return(0,r.Vn)(e,{Directive:function(e){t.push(e.name.value)}}),t}(t).some((function(t){return e.indexOf(t)>-1}))}function s(e){return e&&a(["client"],e)&&a(["export"],e)}},9770:(e,t,n)=>{"use strict";n.d(t,{F:()=>a,Yk:()=>o,hi:()=>s});var r=n(655),i=n(1467);function o(e,t){var n=t,o=[];return e.definitions.forEach((function(e){if("OperationDefinition"===e.kind)throw new i.ej(42);"FragmentDefinition"===e.kind&&o.push(e)})),void 0===n&&((0,i.kG)(1===o.length,43),n=o[0].name.value),(0,r.pi)((0,r.pi)({},e),{definitions:(0,r.pr)([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:n}}]}}],e.definitions)})}function a(e){void 0===e&&(e=[]);var t={};return e.forEach((function(e){t[e.name.value]=e})),t}function s(e,t){switch(e.kind){case"InlineFragment":return e;case"FragmentSpread":var n=t&&t[e.name.value];return(0,i.kG)(n,44),n;default:return null}}},4604:(e,t,n)=>{"use strict";n.d(t,{$H:()=>a,A$:()=>o,O4:()=>h,iW:()=>u,kU:()=>c,p$:()=>d,pD:()=>l,rY:()=>s});var r=n(1467),i=n(386);function o(e){(0,r.kG)(e&&"Document"===e.kind,45);var t=e.definitions.filter((function(e){return"FragmentDefinition"!==e.kind})).map((function(e){if("OperationDefinition"!==e.kind)throw new r.ej(46);return e}));return(0,r.kG)(t.length<=1,47),e}function a(e){return o(e),e.definitions.filter((function(e){return"OperationDefinition"===e.kind}))[0]}function s(e){return e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&e.name})).map((function(e){return e.name.value}))[0]||null}function c(e){return e.definitions.filter((function(e){return"FragmentDefinition"===e.kind}))}function u(e){var t=a(e);return(0,r.kG)(t&&"query"===t.operation,48),t}function l(e){(0,r.kG)("Document"===e.kind,49),(0,r.kG)(e.definitions.length<=1,50);var t=e.definitions[0];return(0,r.kG)("FragmentDefinition"===t.kind,51),t}function d(e){var t;o(e);for(var n=0,i=e.definitions;n<i.length;n++){var a=i[n];if("OperationDefinition"===a.kind){var s=a.operation;if("query"===s||"mutation"===s||"subscription"===s)return a}"FragmentDefinition"!==a.kind||t||(t=a)}if(t)return t;throw new r.ej(52)}function h(e){var t=Object.create(null),n=e&&e.variableDefinitions;return n&&n.length&&n.forEach((function(e){e.defaultValue&&(0,i.vb)(t,e.variable.name,e.defaultValue)})),t}},386:(e,t,n)=>{"use strict";n.d(t,{Ao:()=>m,My:()=>g,NC:()=>p,PT:()=>h,Yk:()=>c,kQ:()=>s,qw:()=>A,u2:()=>f,vb:()=>u,vf:()=>l});var r=n(5035),i=n.n(r),o=n(1467),a=n(9770);function s(e){return{__ref:String(e)}}function c(e){return Boolean(e&&"object"==typeof e&&"string"==typeof e.__ref)}function u(e,t,n,r){if(function(e){return"IntValue"===e.kind}(n)||function(e){return"FloatValue"===e.kind}(n))e[t.value]=Number(n.value);else if(function(e){return"BooleanValue"===e.kind}(n)||function(e){return"StringValue"===e.kind}(n))e[t.value]=n.value;else if(function(e){return"ObjectValue"===e.kind}(n)){var i={};n.fields.map((function(e){return u(i,e.name,e.value,r)})),e[t.value]=i}else if(function(e){return"Variable"===e.kind}(n)){var a=(r||{})[n.name.value];e[t.value]=a}else if(function(e){return"ListValue"===e.kind}(n))e[t.value]=n.values.map((function(e){var n={};return u(n,t,e,r),n[t.value]}));else if(function(e){return"EnumValue"===e.kind}(n))e[t.value]=n.value;else{if(!function(e){return"NullValue"===e.kind}(n))throw new o.ej(53);e[t.value]=null}}function l(e,t){var n=null;e.directives&&(n={},e.directives.forEach((function(e){n[e.name.value]={},e.arguments&&e.arguments.forEach((function(r){var i=r.name,o=r.value;return u(n[e.name.value],i,o,t)}))})));var r=null;return e.arguments&&e.arguments.length&&(r={},e.arguments.forEach((function(e){var n=e.name,i=e.value;return u(r,n,i,t)}))),h(e.name.value,r,n)}var d=["connection","include","skip","client","rest","export"];function h(e,t,n){if(t&&n&&n.connection&&n.connection.key){if(n.connection.filter&&n.connection.filter.length>0){var r=n.connection.filter?n.connection.filter:[];r.sort();var o={};return r.forEach((function(e){o[e]=t[e]})),n.connection.key+"("+JSON.stringify(o)+")"}return n.connection.key}var a=e;if(t){var s=i()(t);a+="("+s+")"}return n&&Object.keys(n).forEach((function(e){-1===d.indexOf(e)&&(n[e]&&Object.keys(n[e]).length?a+="@"+e+"("+JSON.stringify(n[e])+")":a+="@"+e)})),a}function p(e,t){if(e.arguments&&e.arguments.length){var n={};return e.arguments.forEach((function(e){var r=e.name,i=e.value;return u(n,r,i,t)})),n}return null}function f(e){return e.alias?e.alias.value:e.name.value}function A(e,t,n){if("string"==typeof e.__typename)return e.__typename;for(var r=0,i=t.selections;r<i.length;r++){var o=i[r];if(g(o)){if("__typename"===o.name.value)return e[f(o)]}else{var s=A(e,(0,a.hi)(o,n).selectionSet,n);if("string"==typeof s)return s}}}function g(e){return"Field"===e.kind}function m(e){return"InlineFragment"===e.kind}},1234:(e,t,n)=>{"use strict";n.d(t,{Gw:()=>f,aL:()=>v,ob:()=>y,Fo:()=>g});var r=n(655),i=n(7304),o=(n(1467),n(4604));function a(e,t,n){var r=0;return e.forEach((function(n,i){t.call(this,n,i,e)&&(e[r++]=n)}),n),e.length=r,e}var s=n(386),c=n(9770),u={kind:"Field",name:{kind:"Name",value:"__typename"}};function l(e,t){return e.selectionSet.selections.every((function(e){return"FragmentSpread"===e.kind&&l(t[e.name.value],t)}))}function d(e){return l((0,o.$H)(e)||(0,o.pD)(e),(0,c.F)((0,o.kU)(e)))?null:e}function h(e){return function(t){return e.some((function(e){return e.name&&e.name===t.name.value||e.test&&e.test(t)}))}}function p(e,t){var n=Object.create(null),o=[],s=Object.create(null),c=[],u=d((0,i.Vn)(t,{Variable:{enter:function(e,t,r){"VariableDefinition"!==r.kind&&(n[e.name.value]=!0)}},Field:{enter:function(t){if(e&&t.directives&&e.some((function(e){return e.remove}))&&t.directives&&t.directives.some(h(e)))return t.arguments&&t.arguments.forEach((function(e){"Variable"===e.value.kind&&o.push({name:e.value.name.value})})),t.selectionSet&&m(t.selectionSet).forEach((function(e){c.push({name:e.name.value})})),null}},FragmentSpread:{enter:function(e){s[e.name.value]=!0}},Directive:{enter:function(t){if(h(e)(t))return null}}}));return u&&a(o,(function(e){return!!e.name&&!n[e.name]})).length&&(u=function(e,t){var n=function(e){return function(t){return e.some((function(e){return t.value&&"Variable"===t.value.kind&&t.value.name&&(e.name===t.value.name.value||e.test&&e.test(t))}))}}(e);return d((0,i.Vn)(t,{OperationDefinition:{enter:function(t){return(0,r.pi)((0,r.pi)({},t),{variableDefinitions:t.variableDefinitions?t.variableDefinitions.filter((function(t){return!e.some((function(e){return e.name===t.variable.name.value}))})):[]})}},Field:{enter:function(t){if(e.some((function(e){return e.remove}))){var r=0;if(t.arguments&&t.arguments.forEach((function(e){n(e)&&(r+=1)})),1===r)return null}}},Argument:{enter:function(e){if(n(e))return null}}}))}(o,u)),u&&a(c,(function(e){return!!e.name&&!s[e.name]})).length&&(u=function(e,t){function n(t){if(e.some((function(e){return e.name===t.name.value})))return null}return d((0,i.Vn)(t,{FragmentSpread:{enter:n},FragmentDefinition:{enter:n}}))}(c,u)),u}function f(e){return(0,i.Vn)((0,o.A$)(e),{SelectionSet:{enter:function(e,t,n){if(!n||"OperationDefinition"!==n.kind){var i=e.selections;if(i&&!i.some((function(e){return(0,s.My)(e)&&("__typename"===e.name.value||0===e.name.value.lastIndexOf("__",0))}))){var o=n;if(!((0,s.My)(o)&&o.directives&&o.directives.some((function(e){return"export"===e.name.value}))))return(0,r.pi)((0,r.pi)({},e),{selections:(0,r.pr)(i,[u])})}}}}})}f.added=function(e){return e===u};var A={test:function(e){var t="connection"===e.name.value;return t&&(!e.arguments||e.arguments.some((function(e){return"key"===e.name.value}))),t}};function g(e){return p([A],(0,o.A$)(e))}function m(e){var t=[];return e.selections.forEach((function(e){((0,s.My)(e)||(0,s.Ao)(e))&&e.selectionSet?m(e.selectionSet).forEach((function(e){return t.push(e)})):"FragmentSpread"===e.kind&&t.push(e)})),t}function v(e){return"query"===(0,o.p$)(e).operation?e:(0,i.Vn)(e,{OperationDefinition:{enter:function(e){return(0,r.pi)((0,r.pi)({},e),{operation:"query"})}}})}function y(e){(0,o.A$)(e);var t=p([{test:function(e){return"client"===e.name.value},remove:!0}],e);return t&&(t=(0,i.Vn)(t,{FragmentDefinition:{enter:function(e){if(e.selectionSet&&e.selectionSet.selections.every((function(e){return(0,s.My)(e)&&"__typename"===e.name.value})))return null}}})),t}},7228:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.default=e.exports,e.exports.__esModule=!0},3646:(e,t,n)=>{var r=n(7228);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.default=e.exports,e.exports.__esModule=!0},1506:e=>{e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.default=e.exports,e.exports.__esModule=!0},4575:e=>{e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0},3913:e=>{function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e},e.exports.default=e.exports,e.exports.__esModule=!0},9713:e=>{e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0},7154:e=>{function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,t.apply(this,arguments)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0},9754:e=>{function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.default=e.exports,e.exports.__esModule=!0,t(n)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0},2205:(e,t,n)=>{var r=n(9489);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0},5318:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},6860:e=>{e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0},8206:e=>{e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},6479:(e,t,n)=>{var r=n(7316);e.exports=function(e,t){if(null==e)return{};var n,i,o=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o},e.exports.default=e.exports,e.exports.__esModule=!0},7316:e=>{e.exports=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i},e.exports.default=e.exports,e.exports.__esModule=!0},8585:(e,t,n)=>{var r=n(8).default,i=n(1506);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?i(e):t},e.exports.default=e.exports,e.exports.__esModule=!0},9489:e=>{function t(n,r){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,t(n,r)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0},319:(e,t,n)=>{var r=n(3646),i=n(6860),o=n(379),a=n(8206);e.exports=function(e){return r(e)||i(e)||o(e)||a()},e.exports.default=e.exports,e.exports.__esModule=!0},8:e=>{function t(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=t=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),t(n)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0},379:(e,t,n)=>{var r=n(7228);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},7757:(e,t,n)=>{e.exports=n(5666)},2152:(e,t,n)=>{"use strict";n.d(t,{D:()=>c});var r=Object.prototype,i=r.toString,o=r.hasOwnProperty,a=Function.prototype.toString,s=new Map;function c(e,t){try{return u(e,t)}finally{s.clear()}}function u(e,t){if(e===t)return!0;var n,r,s,c=i.call(e);if(c!==i.call(t))return!1;switch(c){case"[object Array]":if(e.length!==t.length)return!1;case"[object Object]":if(p(e,t))return!0;var d=l(e),f=l(t),A=d.length;if(A!==f.length)return!1;for(var g=0;g<A;++g)if(!o.call(t,d[g]))return!1;for(g=0;g<A;++g){var m=d[g];if(!u(e[m],t[m]))return!1}return!0;case"[object Error]":return e.name===t.name&&e.message===t.message;case"[object Number]":if(e!=e)return t!=t;case"[object Boolean]":case"[object Date]":return+e==+t;case"[object RegExp]":case"[object String]":return e=="".concat(t);case"[object Map]":case"[object Set]":if(e.size!==t.size)return!1;if(p(e,t))return!0;for(var v=e.entries(),y="[object Map]"===c;;){var E=v.next();if(E.done)break;var b=E.value,_=b[0],C=b[1];if(!t.has(_))return!1;if(y&&!u(C,t.get(_)))return!1}return!0;case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":e=new Uint8Array(e),t=new Uint8Array(t);case"[object DataView]":var I=e.byteLength;if(I===t.byteLength)for(;I--&&e[I]===t[I];);return-1===I;case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":var S=a.call(e);return S===a.call(t)&&(r=h,!((s=(n=S).length-r.length)>=0&&n.indexOf(r,s)===s))}return!1}function l(e){return Object.keys(e).filter(d,e)}function d(e){return void 0!==this[e]}var h="{ [native code] }";function p(e,t){var n=s.get(e);if(n){if(n.has(t))return!0}else s.set(e,n=new Set);return n.add(t),!1}},8424:function(e,t,n){e.exports=function(){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},t=function(e){return e&&e.Math==Math&&e},r=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof e&&e)||function(){return this}()||Function("return this")(),i={},o=function(e){try{return!!e()}catch(e){return!0}},a=!o((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),s=!o((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),c=s,u=Function.prototype.call,l=c?u.bind(u):function(){return u.apply(u,arguments)},d={},h={}.propertyIsEnumerable,p=Object.getOwnPropertyDescriptor,f=p&&!h.call({1:2},1);d.f=f?function(e){var t=p(this,e);return!!t&&t.enumerable}:h;var A,g,m=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},v=s,y=Function.prototype,E=y.bind,b=y.call,_=v&&E.bind(b,b),C=v?function(e){return e&&_(e)}:function(e){return e&&function(){return b.apply(e,arguments)}},I=C,S=I({}.toString),w=I("".slice),R=function(e){return w(S(e),8,-1)},T=C,O=o,k=R,N=r.Object,D=T("".split),P=O((function(){return!N("z").propertyIsEnumerable(0)}))?function(e){return"String"==k(e)?D(e,""):N(e)}:N,x=r.TypeError,L=function(e){if(null==e)throw x("Can't call method on "+e);return e},M=P,B=L,F=function(e){return M(B(e))},U=function(e){return"function"==typeof e},j=U,V=function(e){return"object"==typeof e?null!==e:j(e)},Q=r,G=U,q=function(e){return G(e)?e:void 0},H=function(e,t){return arguments.length<2?q(Q[e]):Q[e]&&Q[e][t]},z=C({}.isPrototypeOf),W=H("navigator","userAgent")||"",K=r,Y=W,J=K.process,Z=K.Deno,X=J&&J.versions||Z&&Z.version,$=X&&X.v8;$&&(g=(A=$.split("."))[0]>0&&A[0]<4?1:+(A[0]+A[1])),!g&&Y&&(!(A=Y.match(/Edge\/(\d+)/))||A[1]>=74)&&(A=Y.match(/Chrome\/(\d+)/))&&(g=+A[1]);var ee=g,te=ee,ne=o,re=!!Object.getOwnPropertySymbols&&!ne((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&te&&te<41})),ie=re&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,oe=H,ae=U,se=z,ce=ie,ue=r.Object,le=ce?function(e){return"symbol"==typeof e}:function(e){var t=oe("Symbol");return ae(t)&&se(t.prototype,ue(e))},de=r.String,he=function(e){try{return de(e)}catch(e){return"Object"}},pe=U,fe=he,Ae=r.TypeError,ge=function(e){if(pe(e))return e;throw Ae(fe(e)+" is not a function")},me=ge,ve=function(e,t){var n=e[t];return null==n?void 0:me(n)},ye=l,Ee=U,be=V,_e=r.TypeError,Ce={exports:{}},Ie=r,Se=Object.defineProperty,we=function(e,t){try{Se(Ie,e,{value:t,configurable:!0,writable:!0})}catch(n){Ie[e]=t}return t},Re=we,Te="__core-js_shared__",Oe=r[Te]||Re(Te,{}),ke=Oe;(Ce.exports=function(e,t){return ke[e]||(ke[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.20.3",mode:"global",copyright:" 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.20.3/LICENSE",source:"https://github.com/zloirock/core-js"});var Ne=L,De=r.Object,Pe=function(e){return De(Ne(e))},xe=Pe,Le=C({}.hasOwnProperty),Me=Object.hasOwn||function(e,t){return Le(xe(e),t)},Be=C,Fe=0,Ue=Math.random(),je=Be(1..toString),Ve=function(e){return"Symbol("+(void 0===e?"":e)+")_"+je(++Fe+Ue,36)},Qe=r,Ge=Ce.exports,qe=Me,He=Ve,ze=re,We=ie,Ke=Ge("wks"),Ye=Qe.Symbol,Je=Ye&&Ye.for,Ze=We?Ye:Ye&&Ye.withoutSetter||He,Xe=function(e){if(!qe(Ke,e)||!ze&&"string"!=typeof Ke[e]){var t="Symbol."+e;ze&&qe(Ye,e)?Ke[e]=Ye[e]:Ke[e]=We&&Je?Je(t):Ze(t)}return Ke[e]},$e=l,et=V,tt=le,nt=ve,rt=Xe,it=r.TypeError,ot=rt("toPrimitive"),at=function(e,t){if(!et(e)||tt(e))return e;var n,r=nt(e,ot);if(r){if(void 0===t&&(t="default"),n=$e(r,e,t),!et(n)||tt(n))return n;throw it("Can't convert object to primitive value")}return void 0===t&&(t="number"),function(e,t){var n,r;if("string"===t&&Ee(n=e.toString)&&!be(r=ye(n,e)))return r;if(Ee(n=e.valueOf)&&!be(r=ye(n,e)))return r;if("string"!==t&&Ee(n=e.toString)&&!be(r=ye(n,e)))return r;throw _e("Can't convert object to primitive value")}(e,t)},st=le,ct=function(e){var t=at(e,"string");return st(t)?t:t+""},ut=V,lt=r.document,dt=ut(lt)&&ut(lt.createElement),ht=function(e){return dt?lt.createElement(e):{}},pt=ht,ft=!a&&!o((function(){return 7!=Object.defineProperty(pt("div"),"a",{get:function(){return 7}}).a})),At=a,gt=l,mt=d,vt=m,yt=F,Et=ct,bt=Me,_t=ft,Ct=Object.getOwnPropertyDescriptor;i.f=At?Ct:function(e,t){if(e=yt(e),t=Et(t),_t)try{return Ct(e,t)}catch(e){}if(bt(e,t))return vt(!gt(mt.f,e,t),e[t])};var It={},St=a&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),wt=r,Rt=V,Tt=wt.String,Ot=wt.TypeError,kt=function(e){if(Rt(e))return e;throw Ot(Tt(e)+" is not an object")},Nt=a,Dt=ft,Pt=St,xt=kt,Lt=ct,Mt=r.TypeError,Bt=Object.defineProperty,Ft=Object.getOwnPropertyDescriptor;It.f=Nt?Pt?function(e,t,n){if(xt(e),t=Lt(t),xt(n),"function"==typeof e&&"prototype"===t&&"value"in n&&"writable"in n&&!n.writable){var r=Ft(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:"configurable"in n?n.configurable:r.configurable,enumerable:"enumerable"in n?n.enumerable:r.enumerable,writable:!1})}return Bt(e,t,n)}:Bt:function(e,t,n){if(xt(e),t=Lt(t),xt(n),Dt)try{return Bt(e,t,n)}catch(e){}if("get"in n||"set"in n)throw Mt("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var Ut=It,jt=m,Vt=a?function(e,t,n){return Ut.f(e,t,jt(1,n))}:function(e,t,n){return e[t]=n,e},Qt={exports:{}},Gt=U,qt=Oe,Ht=C(Function.toString);Gt(qt.inspectSource)||(qt.inspectSource=function(e){return Ht(e)});var zt,Wt,Kt,Yt=qt.inspectSource,Jt=U,Zt=Yt,Xt=r.WeakMap,$t=Jt(Xt)&&/native code/.test(Zt(Xt)),en=Ce.exports,tn=Ve,nn=en("keys"),rn=function(e){return nn[e]||(nn[e]=tn(e))},on={},an=$t,sn=r,cn=C,un=V,ln=Vt,dn=Me,hn=Oe,pn=rn,fn=on,An="Object already initialized",gn=sn.TypeError,mn=sn.WeakMap;if(an||hn.state){var vn=hn.state||(hn.state=new mn),yn=cn(vn.get),En=cn(vn.has),bn=cn(vn.set);zt=function(e,t){if(En(vn,e))throw new gn(An);return t.facade=e,bn(vn,e,t),t},Wt=function(e){return yn(vn,e)||{}},Kt=function(e){return En(vn,e)}}else{var _n=pn("state");fn[_n]=!0,zt=function(e,t){if(dn(e,_n))throw new gn(An);return t.facade=e,ln(e,_n,t),t},Wt=function(e){return dn(e,_n)?e[_n]:{}},Kt=function(e){return dn(e,_n)}}var Cn={set:zt,get:Wt,has:Kt,enforce:function(e){return Kt(e)?Wt(e):zt(e,{})},getterFor:function(e){return function(t){var n;if(!un(t)||(n=Wt(t)).type!==e)throw gn("Incompatible receiver, "+e+" required");return n}}},In=a,Sn=Me,wn=Function.prototype,Rn=In&&Object.getOwnPropertyDescriptor,Tn=Sn(wn,"name"),On={EXISTS:Tn,PROPER:Tn&&"something"===function(){}.name,CONFIGURABLE:Tn&&(!In||In&&Rn(wn,"name").configurable)},kn=r,Nn=U,Dn=Me,Pn=Vt,xn=we,Ln=Yt,Mn=On.CONFIGURABLE,Bn=Cn.get,Fn=Cn.enforce,Un=String(String).split("String");(Qt.exports=function(e,t,n,r){var i,o=!!r&&!!r.unsafe,a=!!r&&!!r.enumerable,s=!!r&&!!r.noTargetGet,c=r&&void 0!==r.name?r.name:t;Nn(n)&&("Symbol("===String(c).slice(0,7)&&(c="["+String(c).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!Dn(n,"name")||Mn&&n.name!==c)&&Pn(n,"name",c),(i=Fn(n)).source||(i.source=Un.join("string"==typeof c?c:""))),e!==kn?(o?!s&&e[t]&&(a=!0):delete e[t],a?e[t]=n:Pn(e,t,n)):a?e[t]=n:xn(t,n)})(Function.prototype,"toString",(function(){return Nn(this)&&Bn(this).source||Ln(this)}));var jn={},Vn=Math.ceil,Qn=Math.floor,Gn=function(e){var t=+e;return t!=t||0===t?0:(t>0?Qn:Vn)(t)},qn=Gn,Hn=Math.max,zn=Math.min,Wn=function(e,t){var n=qn(e);return n<0?Hn(n+t,0):zn(n,t)},Kn=Gn,Yn=Math.min,Jn=function(e){return e>0?Yn(Kn(e),9007199254740991):0},Zn=Jn,Xn=function(e){return Zn(e.length)},$n=F,er=Wn,tr=Xn,nr=function(e){return function(t,n,r){var i,o=$n(t),a=tr(o),s=er(r,a);if(e&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},rr={includes:nr(!0),indexOf:nr(!1)},ir=Me,or=F,ar=rr.indexOf,sr=on,cr=C([].push),ur=function(e,t){var n,r=or(e),i=0,o=[];for(n in r)!ir(sr,n)&&ir(r,n)&&cr(o,n);for(;t.length>i;)ir(r,n=t[i++])&&(~ar(o,n)||cr(o,n));return o},lr=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],dr=ur,hr=lr.concat("length","prototype");jn.f=Object.getOwnPropertyNames||function(e){return dr(e,hr)};var pr={};pr.f=Object.getOwnPropertySymbols;var fr=H,Ar=jn,gr=pr,mr=kt,vr=C([].concat),yr=fr("Reflect","ownKeys")||function(e){var t=Ar.f(mr(e)),n=gr.f;return n?vr(t,n(e)):t},Er=Me,br=yr,_r=i,Cr=It,Ir=function(e,t,n){for(var r=br(t),i=Cr.f,o=_r.f,a=0;a<r.length;a++){var s=r[a];Er(e,s)||n&&Er(n,s)||i(e,s,o(t,s))}},Sr=o,wr=U,Rr=/#|\.prototype\./,Tr=function(e,t){var n=kr[Or(e)];return n==Dr||n!=Nr&&(wr(t)?Sr(t):!!t)},Or=Tr.normalize=function(e){return String(e).replace(Rr,".").toLowerCase()},kr=Tr.data={},Nr=Tr.NATIVE="N",Dr=Tr.POLYFILL="P",Pr=Tr,xr=r,Lr=i.f,Mr=Vt,Br=Qt.exports,Fr=we,Ur=Ir,jr=Pr,Vr=function(e,t){var n,r,i,o,a,s=e.target,c=e.global,u=e.stat;if(n=c?xr:u?xr[s]||Fr(s,{}):(xr[s]||{}).prototype)for(r in t){if(o=t[r],i=e.noTargetGet?(a=Lr(n,r))&&a.value:n[r],!jr(c?r:s+(u?".":"#")+r,e.forced)&&void 0!==i){if(typeof o==typeof i)continue;Ur(o,i)}(e.sham||i&&i.sham)&&Mr(o,"sham",!0),Br(n,r,o,e)}},Qr=r.Promise,Gr=Qt.exports,qr=function(e,t,n){for(var r in t)Gr(e,r,t[r],n);return e},Hr=r,zr=U,Wr=Hr.String,Kr=Hr.TypeError,Yr=C,Jr=kt,Zr=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Yr(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return Jr(n),function(e){if("object"==typeof e||zr(e))return e;throw Kr("Can't set "+Wr(e)+" as a prototype")}(r),t?e(n,r):n.__proto__=r,n}}():void 0),Xr=It.f,$r=Me,ei=Xe("toStringTag"),ti=function(e,t,n){e&&!n&&(e=e.prototype),e&&!$r(e,ei)&&Xr(e,ei,{configurable:!0,value:t})},ni=H,ri=It,ii=a,oi=Xe("species"),ai=function(e){var t=ni(e),n=ri.f;ii&&t&&!t[oi]&&n(t,oi,{configurable:!0,get:function(){return this}})},si=z,ci=r.TypeError,ui=function(e,t){if(si(t,e))return e;throw ci("Incorrect invocation")},li=ge,di=s,hi=C(C.bind),pi=function(e,t){return li(e),void 0===t?e:di?hi(e,t):function(){return e.apply(t,arguments)}},fi={},Ai=fi,gi=Xe("iterator"),mi=Array.prototype,vi=function(e){return void 0!==e&&(Ai.Array===e||mi[gi]===e)},yi={};yi[Xe("toStringTag")]="z";var Ei=r,bi="[object z]"===String(yi),_i=U,Ci=R,Ii=Xe("toStringTag"),Si=Ei.Object,wi="Arguments"==Ci(function(){return arguments}()),Ri=bi?Ci:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Si(e),Ii))?n:wi?Ci(t):"Object"==(r=Ci(t))&&_i(t.callee)?"Arguments":r},Ti=Ri,Oi=ve,ki=fi,Ni=Xe("iterator"),Di=function(e){if(null!=e)return Oi(e,Ni)||Oi(e,"@@iterator")||ki[Ti(e)]},Pi=l,xi=ge,Li=kt,Mi=he,Bi=Di,Fi=r.TypeError,Ui=function(e,t){var n=arguments.length<2?Bi(e):t;if(xi(n))return Li(Pi(n,e));throw Fi(Mi(e)+" is not iterable")},ji=l,Vi=kt,Qi=ve,Gi=pi,qi=l,Hi=kt,zi=he,Wi=vi,Ki=Xn,Yi=z,Ji=Ui,Zi=Di,Xi=function(e,t,n){var r,i;Vi(e);try{if(!(r=Qi(e,"return"))){if("throw"===t)throw n;return n}r=ji(r,e)}catch(e){i=!0,r=e}if("throw"===t)throw n;if(i)throw r;return Vi(r),n},$i=r.TypeError,eo=function(e,t){this.stopped=e,this.result=t},to=eo.prototype,no=Xe("iterator"),ro=!1;try{var io=0,oo={next:function(){return{done:!!io++}},return:function(){ro=!0}};oo[no]=function(){return this},Array.from(oo,(function(){throw 2}))}catch(e){}var ao=function(e,t){if(!t&&!ro)return!1;var n=!1;try{var r={};r[no]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n},so=C,co=o,uo=U,lo=Ri,ho=Yt,po=function(){},fo=[],Ao=H("Reflect","construct"),go=/^\s*(?:class|function)\b/,mo=so(go.exec),vo=!go.exec(po),yo=function(e){if(!uo(e))return!1;try{return Ao(po,fo,e),!0}catch(e){return!1}},Eo=function(e){if(!uo(e))return!1;switch(lo(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return vo||!!mo(go,ho(e))}catch(e){return!0}};Eo.sham=!0;var bo,_o,Co,Io,So=!Ao||co((function(){var e;return yo(yo.call)||!yo(Object)||!yo((function(){e=!0}))||e}))?Eo:yo,wo=So,Ro=he,To=r.TypeError,Oo=function(e){if(wo(e))return e;throw To(Ro(e)+" is not a constructor")},ko=kt,No=Oo,Do=Xe("species"),Po=function(e,t){var n,r=ko(e).constructor;return void 0===r||null==(n=ko(r)[Do])?t:No(n)},xo=s,Lo=Function.prototype,Mo=Lo.apply,Bo=Lo.call,Fo="object"==typeof Reflect&&Reflect.apply||(xo?Bo.bind(Mo):function(){return Bo.apply(Mo,arguments)}),Uo=H("document","documentElement"),jo=C([].slice),Vo=/(?:ipad|iphone|ipod).*applewebkit/i.test(W),Qo="process"==R(r.process),Go=r,qo=Fo,Ho=pi,zo=U,Wo=Me,Ko=o,Yo=Uo,Jo=jo,Zo=ht,Xo=Vo,$o=Qo,ea=Go.setImmediate,ta=Go.clearImmediate,na=Go.process,ra=Go.Dispatch,ia=Go.Function,oa=Go.MessageChannel,aa=Go.String,sa=0,ca={};try{bo=Go.location}catch(e){}var ua=function(e){if(Wo(ca,e)){var t=ca[e];delete ca[e],t()}},la=function(e){return function(){ua(e)}},da=function(e){ua(e.data)},ha=function(e){Go.postMessage(aa(e),bo.protocol+"//"+bo.host)};ea&&ta||(ea=function(e){var t=Jo(arguments,1);return ca[++sa]=function(){qo(zo(e)?e:ia(e),void 0,t)},_o(sa),sa},ta=function(e){delete ca[e]},$o?_o=function(e){na.nextTick(la(e))}:ra&&ra.now?_o=function(e){ra.now(la(e))}:oa&&!Xo?(Io=(Co=new oa).port2,Co.port1.onmessage=da,_o=Ho(Io.postMessage,Io)):Go.addEventListener&&zo(Go.postMessage)&&!Go.importScripts&&bo&&"file:"!==bo.protocol&&!Ko(ha)?(_o=ha,Go.addEventListener("message",da,!1)):_o="onreadystatechange"in Zo("script")?function(e){Yo.appendChild(Zo("script")).onreadystatechange=function(){Yo.removeChild(this),ua(e)}}:function(e){setTimeout(la(e),0)});var pa,fa,Aa,ga,ma,va,ya,Ea,ba={set:ea,clear:ta},_a=r,Ca=/ipad|iphone|ipod/i.test(W)&&void 0!==_a.Pebble,Ia=/web0s(?!.*chrome)/i.test(W),Sa=r,wa=pi,Ra=i.f,Ta=ba.set,Oa=Vo,ka=Ca,Na=Ia,Da=Qo,Pa=Sa.MutationObserver||Sa.WebKitMutationObserver,xa=Sa.document,La=Sa.process,Ma=Sa.Promise,Ba=Ra(Sa,"queueMicrotask"),Fa=Ba&&Ba.value;Fa||(pa=function(){var e,t;for(Da&&(e=La.domain)&&e.exit();fa;){t=fa.fn,fa=fa.next;try{t()}catch(e){throw fa?ga():Aa=void 0,e}}Aa=void 0,e&&e.enter()},Oa||Da||Na||!Pa||!xa?!ka&&Ma&&Ma.resolve?((ya=Ma.resolve(void 0)).constructor=Ma,Ea=wa(ya.then,ya),ga=function(){Ea(pa)}):Da?ga=function(){La.nextTick(pa)}:(Ta=wa(Ta,Sa),ga=function(){Ta(pa)}):(ma=!0,va=xa.createTextNode(""),new Pa(pa).observe(va,{characterData:!0}),ga=function(){va.data=ma=!ma}));var Ua=Fa||function(e){var t={fn:e,next:void 0};Aa&&(Aa.next=t),fa||(fa=t,ga()),Aa=t},ja={},Va=ge,Qa=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=Va(t),this.reject=Va(n)};ja.f=function(e){return new Qa(e)};var Ga=kt,qa=V,Ha=ja,za=function(e,t){if(Ga(e),qa(t)&&t.constructor===e)return t;var n=Ha.f(e);return(0,n.resolve)(t),n.promise},Wa=r,Ka=function(){this.head=null,this.tail=null};Ka.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}};var Ya,Ja,Za,Xa,$a=Ka,es="object"==typeof window,ts=Vr,ns=r,rs=H,is=l,os=Qr,as=Qt.exports,ss=qr,cs=Zr,us=ti,ls=ai,ds=ge,hs=U,ps=V,fs=ui,As=Yt,gs=function(e,t,n){var r,i,o,a,s,c,u,l=n&&n.that,d=!(!n||!n.AS_ENTRIES),h=!(!n||!n.IS_ITERATOR),p=!(!n||!n.INTERRUPTED),f=Gi(t,l),A=function(e){return r&&Xi(r,"normal",e),new eo(!0,e)},g=function(e){return d?(Hi(e),p?f(e[0],e[1],A):f(e[0],e[1])):p?f(e,A):f(e)};if(h)r=e;else{if(!(i=Zi(e)))throw $i(zi(e)+" is not iterable");if(Wi(i)){for(o=0,a=Ki(e);a>o;o++)if((s=g(e[o]))&&Yi(to,s))return s;return new eo(!1)}r=Ji(e,i)}for(c=r.next;!(u=qi(c,r)).done;){try{s=g(u.value)}catch(e){Xi(r,"throw",e)}if("object"==typeof s&&s&&Yi(to,s))return s}return new eo(!1)},ms=ao,vs=Po,ys=ba.set,Es=Ua,bs=za,_s=ja,Cs=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},Is=$a,Ss=Cn,ws=Pr,Rs=es,Ts=Qo,Os=ee,ks=Xe("species"),Ns="Promise",Ds=Ss.getterFor(Ns),Ps=Ss.set,xs=Ss.getterFor(Ns),Ls=os&&os.prototype,Ms=os,Bs=Ls,Fs=ns.TypeError,Us=ns.document,js=ns.process,Vs=_s.f,Qs=Vs,Gs=!!(Us&&Us.createEvent&&ns.dispatchEvent),qs=hs(ns.PromiseRejectionEvent),Hs="unhandledrejection",zs=!1,Ws=ws(Ns,(function(){var e=As(Ms),t=e!==String(Ms);if(!t&&66===Os)return!0;if(Os>=51&&/native code/.test(e))return!1;var n=new Ms((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};return(n.constructor={})[ks]=r,!(zs=n.then((function(){}))instanceof r)||!t&&Rs&&!qs})),Ks=Ws||!ms((function(e){Ms.all(e).catch((function(){}))})),Ys=function(e){var t;return!(!ps(e)||!hs(t=e.then))&&t},Js=function(e,t){var n,r,i,o=t.value,a=1==t.state,s=a?e.ok:e.fail,c=e.resolve,u=e.reject,l=e.domain;try{s?(a||(2===t.rejection&&tc(t),t.rejection=1),!0===s?n=o:(l&&l.enter(),n=s(o),l&&(l.exit(),i=!0)),n===e.promise?u(Fs("Promise-chain cycle")):(r=Ys(n))?is(r,n,c,u):c(n)):u(o)}catch(e){l&&!i&&l.exit(),u(e)}},Zs=function(e,t){e.notified||(e.notified=!0,Es((function(){for(var n,r=e.reactions;n=r.get();)Js(n,e);e.notified=!1,t&&!e.rejection&&$s(e)})))},Xs=function(e,t,n){var r,i;Gs?((r=Us.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),ns.dispatchEvent(r)):r={promise:t,reason:n},!qs&&(i=ns["on"+e])?i(r):e===Hs&&function(e,t){var n=Wa.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}("Unhandled promise rejection",n)},$s=function(e){is(ys,ns,(function(){var t,n=e.facade,r=e.value;if(ec(e)&&(t=Cs((function(){Ts?js.emit("unhandledRejection",r,n):Xs(Hs,n,r)})),e.rejection=Ts||ec(e)?2:1,t.error))throw t.value}))},ec=function(e){return 1!==e.rejection&&!e.parent},tc=function(e){is(ys,ns,(function(){var t=e.facade;Ts?js.emit("rejectionHandled",t):Xs("rejectionhandled",t,e.value)}))},nc=function(e,t,n){return function(r){e(t,r,n)}},rc=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,Zs(e,!0))},ic=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw Fs("Promise can't be resolved itself");var r=Ys(t);r?Es((function(){var n={done:!1};try{is(r,t,nc(ic,n,e),nc(rc,n,e))}catch(t){rc(n,t,e)}})):(e.value=t,e.state=1,Zs(e,!1))}catch(t){rc({done:!1},t,e)}}};if(Ws&&(Bs=(Ms=function(e){fs(this,Bs),ds(e),is(Ya,this);var t=Ds(this);try{e(nc(ic,t),nc(rc,t))}catch(e){rc(t,e)}}).prototype,(Ya=function(e){Ps(this,{type:Ns,done:!1,notified:!1,parent:!1,reactions:new Is,rejection:!1,state:0,value:void 0})}).prototype=ss(Bs,{then:function(e,t){var n=xs(this),r=Vs(vs(this,Ms));return n.parent=!0,r.ok=!hs(e)||e,r.fail=hs(t)&&t,r.domain=Ts?js.domain:void 0,0==n.state?n.reactions.add(r):Es((function(){Js(r,n)})),r.promise},catch:function(e){return this.then(void 0,e)}}),Ja=function(){var e=new Ya,t=Ds(e);this.promise=e,this.resolve=nc(ic,t),this.reject=nc(rc,t)},_s.f=Vs=function(e){return e===Ms||e===Za?new Ja(e):Qs(e)},hs(os)&&Ls!==Object.prototype)){Xa=Ls.then,zs||(as(Ls,"then",(function(e,t){var n=this;return new Ms((function(e,t){is(Xa,n,e,t)})).then(e,t)}),{unsafe:!0}),as(Ls,"catch",Bs.catch,{unsafe:!0}));try{delete Ls.constructor}catch(e){}cs&&cs(Ls,Bs)}ts({global:!0,wrap:!0,forced:Ws},{Promise:Ms}),us(Ms,Ns,!1),ls(Ns),Za=rs(Ns),ts({target:Ns,stat:!0,forced:Ws},{reject:function(e){var t=Vs(this);return is(t.reject,void 0,e),t.promise}}),ts({target:Ns,stat:!0,forced:Ws},{resolve:function(e){return bs(this,e)}}),ts({target:Ns,stat:!0,forced:Ks},{all:function(e){var t=this,n=Vs(t),r=n.resolve,i=n.reject,o=Cs((function(){var n=ds(t.resolve),o=[],a=0,s=1;gs(e,(function(e){var c=a++,u=!1;s++,is(n,t,e).then((function(e){u||(u=!0,o[c]=e,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=Vs(t),r=n.reject,i=Cs((function(){var i=ds(t.resolve);gs(e,(function(e){is(i,t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}});var oc=Vr,ac=H,sc=Fo,cc=C,uc=o,lc=r.Array,dc=ac("JSON","stringify"),hc=cc(/./.exec),pc=cc("".charAt),fc=cc("".charCodeAt),Ac=cc("".replace),gc=cc(1..toString),mc=/[\uD800-\uDFFF]/g,vc=/^[\uD800-\uDBFF]$/,yc=/^[\uDC00-\uDFFF]$/,Ec=function(e,t,n){var r=pc(n,t-1),i=pc(n,t+1);return hc(vc,e)&&!hc(yc,i)||hc(yc,e)&&!hc(vc,r)?"\\u"+gc(fc(e,0),16):e},bc=uc((function(){return'"\\udf06\\ud834"'!==dc("\udf06\ud834")||'"\\udead"'!==dc("\udead")}));dc&&oc({target:"JSON",stat:!0,forced:bc},{stringify:function(e,t,n){for(var r=0,i=arguments.length,o=lc(i);r<i;r++)o[r]=arguments[r];var a=sc(dc,null,o);return"string"==typeof a?Ac(a,mc,Ec):a}});var _c=function(e){try{return!!e()}catch(e){return!0}},Cc=!_c((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),Ic=Cc,Sc=Function.prototype,wc=Sc.bind,Rc=Sc.call,Tc=Ic&&wc.bind(Rc,Rc),Oc=Ic?function(e){return e&&Tc(e)}:function(e){return e&&function(){return Rc.apply(e,arguments)}},kc=Oc({}.isPrototypeOf),Nc=function(e){return e&&e.Math==Math&&e},Dc=Nc("object"==typeof globalThis&&globalThis)||Nc("object"==typeof window&&window)||Nc("object"==typeof self&&self)||Nc("object"==typeof e&&e)||function(){return this}()||Function("return this")(),Pc=Cc,xc=Function.prototype,Lc=xc.apply,Mc=xc.call,Bc="object"==typeof Reflect&&Reflect.apply||(Pc?Mc.bind(Lc):function(){return Mc.apply(Lc,arguments)}),Fc=function(e){return"function"==typeof e},Uc={},jc=!_c((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),Vc=Cc,Qc=Function.prototype.call,Gc=Vc?Qc.bind(Qc):function(){return Qc.apply(Qc,arguments)},qc={},Hc={}.propertyIsEnumerable,zc=Object.getOwnPropertyDescriptor,Wc=zc&&!Hc.call({1:2},1);qc.f=Wc?function(e){var t=zc(this,e);return!!t&&t.enumerable}:Hc;var Kc,Yc,Jc=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},Zc=Oc,Xc=Zc({}.toString),$c=Zc("".slice),eu=function(e){return $c(Xc(e),8,-1)},tu=Oc,nu=_c,ru=eu,iu=Dc.Object,ou=tu("".split),au=nu((function(){return!iu("z").propertyIsEnumerable(0)}))?function(e){return"String"==ru(e)?ou(e,""):iu(e)}:iu,su=Dc.TypeError,cu=function(e){if(null==e)throw su("Can't call method on "+e);return e},uu=au,lu=cu,du=function(e){return uu(lu(e))},hu=Fc,pu=function(e){return"object"==typeof e?null!==e:hu(e)},fu={},Au=fu,gu=Dc,mu=Fc,vu=function(e){return mu(e)?e:void 0},yu=function(e,t){return arguments.length<2?vu(Au[e])||vu(gu[e]):Au[e]&&Au[e][t]||gu[e]&&gu[e][t]},Eu=yu("navigator","userAgent")||"",bu=Dc,_u=Eu,Cu=bu.process,Iu=bu.Deno,Su=Cu&&Cu.versions||Iu&&Iu.version,wu=Su&&Su.v8;wu&&(Yc=(Kc=wu.split("."))[0]>0&&Kc[0]<4?1:+(Kc[0]+Kc[1])),!Yc&&_u&&(!(Kc=_u.match(/Edge\/(\d+)/))||Kc[1]>=74)&&(Kc=_u.match(/Chrome\/(\d+)/))&&(Yc=+Kc[1]);var Ru=Yc,Tu=Ru,Ou=_c,ku=!!Object.getOwnPropertySymbols&&!Ou((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Tu&&Tu<41})),Nu=ku&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Du=yu,Pu=Fc,xu=kc,Lu=Nu,Mu=Dc.Object,Bu=Lu?function(e){return"symbol"==typeof e}:function(e){var t=Du("Symbol");return Pu(t)&&xu(t.prototype,Mu(e))},Fu=Dc.String,Uu=function(e){try{return Fu(e)}catch(e){return"Object"}},ju=Fc,Vu=Uu,Qu=Dc.TypeError,Gu=function(e){if(ju(e))return e;throw Qu(Vu(e)+" is not a function")},qu=Gu,Hu=function(e,t){var n=e[t];return null==n?void 0:qu(n)},zu=Gc,Wu=Fc,Ku=pu,Yu=Dc.TypeError,Ju={exports:{}},Zu=Dc,Xu=Object.defineProperty,$u="__core-js_shared__",el=Dc[$u]||function(e,t){try{Xu(Zu,e,{value:t,configurable:!0,writable:!0})}catch(n){Zu[e]=t}return t}($u,{}),tl=el;(Ju.exports=function(e,t){return tl[e]||(tl[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.20.3",mode:"pure",copyright:" 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.20.3/LICENSE",source:"https://github.com/zloirock/core-js"});var nl=cu,rl=Dc.Object,il=function(e){return rl(nl(e))},ol=il,al=Oc({}.hasOwnProperty),sl=Object.hasOwn||function(e,t){return al(ol(e),t)},cl=Oc,ul=0,ll=Math.random(),dl=cl(1..toString),hl=function(e){return"Symbol("+(void 0===e?"":e)+")_"+dl(++ul+ll,36)},pl=Dc,fl=Ju.exports,Al=sl,gl=hl,ml=ku,vl=Nu,yl=fl("wks"),El=pl.Symbol,bl=El&&El.for,_l=vl?El:El&&El.withoutSetter||gl,Cl=function(e){if(!Al(yl,e)||!ml&&"string"!=typeof yl[e]){var t="Symbol."+e;ml&&Al(El,e)?yl[e]=El[e]:yl[e]=vl&&bl?bl(t):_l(t)}return yl[e]},Il=Gc,Sl=pu,wl=Bu,Rl=Hu,Tl=Cl,Ol=Dc.TypeError,kl=Tl("toPrimitive"),Nl=function(e,t){if(!Sl(e)||wl(e))return e;var n,r=Rl(e,kl);if(r){if(void 0===t&&(t="default"),n=Il(r,e,t),!Sl(n)||wl(n))return n;throw Ol("Can't convert object to primitive value")}return void 0===t&&(t="number"),function(e,t){var n,r;if("string"===t&&Wu(n=e.toString)&&!Ku(r=zu(n,e)))return r;if(Wu(n=e.valueOf)&&!Ku(r=zu(n,e)))return r;if("string"!==t&&Wu(n=e.toString)&&!Ku(r=zu(n,e)))return r;throw Yu("Can't convert object to primitive value")}(e,t)},Dl=Bu,Pl=function(e){var t=Nl(e,"string");return Dl(t)?t:t+""},xl=pu,Ll=Dc.document,Ml=xl(Ll)&&xl(Ll.createElement),Bl=function(e){return Ml?Ll.createElement(e):{}},Fl=Bl,Ul=!jc&&!_c((function(){return 7!=Object.defineProperty(Fl("div"),"a",{get:function(){return 7}}).a})),jl=jc,Vl=Gc,Ql=qc,Gl=Jc,ql=du,Hl=Pl,zl=sl,Wl=Ul,Kl=Object.getOwnPropertyDescriptor;Uc.f=jl?Kl:function(e,t){if(e=ql(e),t=Hl(t),Wl)try{return Kl(e,t)}catch(e){}if(zl(e,t))return Gl(!Vl(Ql.f,e,t),e[t])};var Yl=_c,Jl=Fc,Zl=/#|\.prototype\./,Xl=function(e,t){var n=ed[$l(e)];return n==nd||n!=td&&(Jl(t)?Yl(t):!!t)},$l=Xl.normalize=function(e){return String(e).replace(Zl,".").toLowerCase()},ed=Xl.data={},td=Xl.NATIVE="N",nd=Xl.POLYFILL="P",rd=Xl,id=Gu,od=Cc,ad=Oc(Oc.bind),sd=function(e,t){return id(e),void 0===t?e:od?ad(e,t):function(){return e.apply(t,arguments)}},cd={},ud=jc&&_c((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),ld=Dc,dd=pu,hd=ld.String,pd=ld.TypeError,fd=function(e){if(dd(e))return e;throw pd(hd(e)+" is not an object")},Ad=jc,gd=Ul,md=ud,vd=fd,yd=Pl,Ed=Dc.TypeError,bd=Object.defineProperty,_d=Object.getOwnPropertyDescriptor;cd.f=Ad?md?function(e,t,n){if(vd(e),t=yd(t),vd(n),"function"==typeof e&&"prototype"===t&&"value"in n&&"writable"in n&&!n.writable){var r=_d(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:"configurable"in n?n.configurable:r.configurable,enumerable:"enumerable"in n?n.enumerable:r.enumerable,writable:!1})}return bd(e,t,n)}:bd:function(e,t,n){if(vd(e),t=yd(t),vd(n),gd)try{return bd(e,t,n)}catch(e){}if("get"in n||"set"in n)throw Ed("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var Cd=cd,Id=Jc,Sd=jc?function(e,t,n){return Cd.f(e,t,Id(1,n))}:function(e,t,n){return e[t]=n,e},wd=Dc,Rd=Bc,Td=Oc,Od=Fc,kd=Uc.f,Nd=rd,Dd=fu,Pd=sd,xd=Sd,Ld=sl,Md=function(e){var t=function(n,r,i){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,r)}return new e(n,r,i)}return Rd(e,this,arguments)};return t.prototype=e.prototype,t},Bd=function(e,t){var n,r,i,o,a,s,c,u,l=e.target,d=e.global,h=e.stat,p=e.proto,f=d?wd:h?wd[l]:(wd[l]||{}).prototype,A=d?Dd:Dd[l]||xd(Dd,l,{})[l],g=A.prototype;for(i in t)n=!Nd(d?i:l+(h?".":"#")+i,e.forced)&&f&&Ld(f,i),a=A[i],n&&(s=e.noTargetGet?(u=kd(f,i))&&u.value:f[i]),o=n&&s?s:t[i],n&&typeof a==typeof o||(c=e.bind&&n?Pd(o,wd):e.wrap&&n?Md(o):p&&Od(o)?Td(o):o,(e.sham||o&&o.sham||a&&a.sham)&&xd(c,"sham",!0),xd(A,i,c),p&&(Ld(Dd,r=l+"Prototype")||xd(Dd,r,{}),xd(Dd[r],i,o),e.real&&g&&!g[i]&&xd(g,i,o)))},Fd=Math.ceil,Ud=Math.floor,jd=function(e){var t=+e;return t!=t||0===t?0:(t>0?Ud:Fd)(t)},Vd=jd,Qd=Math.min,Gd=function(e){return function(e){return e>0?Qd(Vd(e),9007199254740991):0}(e.length)},qd=Gu,Hd=il,zd=au,Wd=Gd,Kd=Dc.TypeError,Yd=function(e){return function(t,n,r,i){qd(n);var o=Hd(t),a=zd(o),s=Wd(o),c=e?s-1:0,u=e?-1:1;if(r<2)for(;;){if(c in a){i=a[c],c+=u;break}if(c+=u,e?c<0:s<=c)throw Kd("Reduce of empty array with no initial value")}for(;e?c>=0:s>c;c+=u)c in a&&(i=n(i,a[c],c,o));return i}},Jd={left:Yd(!1),right:Yd(!0)},Zd=_c,Xd=function(e,t){var n=[][e];return!!n&&Zd((function(){n.call(null,t||function(){throw 1},1)}))},$d="process"==eu(Dc.process),eh=Jd.left,th=Ru,nh=$d;Bd({target:"Array",proto:!0,forced:!Xd("reduce")||!nh&&th>79&&th<83},{reduce:function(e){var t=arguments.length;return eh(this,e,t,t>1?arguments[1]:void 0)}});var rh=fu,ih=function(e){return rh[e+"Prototype"]},oh=ih("Array").reduce,ah=kc,sh=oh,ch=Array.prototype,uh=function(e){var t=e.reduce;return e===ch||ah(ch,e)&&t===ch.reduce?sh:t},lh=uh,dh=Ri,hh=r.String,ph=function(e){if("Symbol"===dh(e))throw TypeError("Cannot convert a Symbol value to a string");return hh(e)},fh=kt,Ah=function(){var e=fh(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},gh=o,mh=r.RegExp,vh=gh((function(){var e=mh("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),yh=vh||gh((function(){return!mh("a","y").sticky})),Eh={BROKEN_CARET:vh||gh((function(){var e=mh("^r","gy");return e.lastIndex=2,null!=e.exec("str")})),MISSED_STICKY:yh,UNSUPPORTED_Y:vh},bh={},_h=ur,Ch=lr,Ih=Object.keys||function(e){return _h(e,Ch)},Sh=a,wh=St,Rh=It,Th=kt,Oh=F,kh=Ih;bh.f=Sh&&!wh?Object.defineProperties:function(e,t){Th(e);for(var n,r=Oh(t),i=kh(t),o=i.length,a=0;o>a;)Rh.f(e,n=i[a++],r[n]);return e};var Nh,Dh=kt,Ph=bh,xh=lr,Lh=on,Mh=Uo,Bh=ht,Fh=rn("IE_PROTO"),Uh=function(){},jh=function(e){return"<script>"+e+"<\/script>"},Vh=function(e){e.write(jh("")),e.close();var t=e.parentWindow.Object;return e=null,t},Qh=function(){try{Nh=new ActiveXObject("htmlfile")}catch(e){}var e,t;Qh="undefined"!=typeof document?document.domain&&Nh?Vh(Nh):((t=Bh("iframe")).style.display="none",Mh.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(jh("document.F=Object")),e.close(),e.F):Vh(Nh);for(var n=xh.length;n--;)delete Qh.prototype[xh[n]];return Qh()};Lh[Fh]=!0;var Gh=Object.create||function(e,t){var n;return null!==e?(Uh.prototype=Dh(e),n=new Uh,Uh.prototype=null,n[Fh]=e):n=Qh(),void 0===t?n:Ph.f(n,t)},qh=o,Hh=r.RegExp,zh=qh((function(){var e=Hh(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)})),Wh=o,Kh=r.RegExp,Yh=Wh((function(){var e=Kh("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")})),Jh=l,Zh=C,Xh=ph,$h=Ah,ep=Eh,tp=Ce.exports,np=Gh,rp=Cn.get,ip=zh,op=Yh,ap=tp("native-string-replace",String.prototype.replace),sp=RegExp.prototype.exec,cp=sp,up=Zh("".charAt),lp=Zh("".indexOf),dp=Zh("".replace),hp=Zh("".slice),pp=function(){var e=/a/,t=/b*/g;return Jh(sp,e,"a"),Jh(sp,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),fp=ep.BROKEN_CARET,Ap=void 0!==/()??/.exec("")[1];(pp||Ap||fp||ip||op)&&(cp=function(e){var t,n,r,i,o,a,s,c=this,u=rp(c),l=Xh(e),d=u.raw;if(d)return d.lastIndex=c.lastIndex,t=Jh(cp,d,l),c.lastIndex=d.lastIndex,t;var h=u.groups,p=fp&&c.sticky,f=Jh($h,c),A=c.source,g=0,m=l;if(p&&(f=dp(f,"y",""),-1===lp(f,"g")&&(f+="g"),m=hp(l,c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&"\n"!==up(l,c.lastIndex-1))&&(A="(?: "+A+")",m=" "+m,g++),n=new RegExp("^(?:"+A+")",f)),Ap&&(n=new RegExp("^"+A+"$(?!\\s)",f)),pp&&(r=c.lastIndex),i=Jh(sp,p?n:c,m),p?i?(i.input=hp(i.input,g),i[0]=hp(i[0],g),i.index=c.lastIndex,c.lastIndex+=i[0].length):c.lastIndex=0:pp&&i&&(c.lastIndex=c.global?i.index+i[0].length:r),Ap&&i&&i.length>1&&Jh(ap,i[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)})),i&&h)for(i.groups=a=np(null),o=0;o<h.length;o++)a[(s=h[o])[0]]=i[s[1]];return i});var gp=cp;Vr({target:"RegExp",proto:!0,forced:/./.exec!==gp},{exec:gp});var mp=Gh,vp=It,yp=Xe("unscopables"),Ep=Array.prototype;null==Ep[yp]&&vp.f(Ep,yp,{configurable:!0,value:mp(null)});var bp,_p,Cp,Ip=!o((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),Sp=r,wp=Me,Rp=U,Tp=Pe,Op=Ip,kp=rn("IE_PROTO"),Np=Sp.Object,Dp=Np.prototype,Pp=Op?Np.getPrototypeOf:function(e){var t=Tp(e);if(wp(t,kp))return t[kp];var n=t.constructor;return Rp(n)&&t instanceof n?n.prototype:t instanceof Np?Dp:null},xp=o,Lp=U,Mp=Pp,Bp=Qt.exports,Fp=Xe("iterator"),Up=!1;[].keys&&("next"in(Cp=[].keys())?(_p=Mp(Mp(Cp)))!==Object.prototype&&(bp=_p):Up=!0),(null==bp||xp((function(){var e={};return bp[Fp].call(e)!==e})))&&(bp={}),Lp(bp[Fp])||Bp(bp,Fp,(function(){return this}));var jp={IteratorPrototype:bp,BUGGY_SAFARI_ITERATORS:Up},Vp=jp.IteratorPrototype,Qp=Gh,Gp=m,qp=ti,Hp=fi,zp=function(){return this},Wp=Vr,Kp=l,Yp=On,Jp=U,Zp=Pp,Xp=Zr,$p=ti,ef=Vt,tf=Qt.exports,nf=fi,rf=Yp.PROPER,of=Yp.CONFIGURABLE,af=jp.IteratorPrototype,sf=jp.BUGGY_SAFARI_ITERATORS,cf=Xe("iterator"),uf="keys",lf="values",df="entries",hf=function(){return this},pf=F,ff=function(e){Ep[yp][e]=!0},Af=fi,gf=Cn,mf=It.f,vf=a,yf="Array Iterator",Ef=gf.set,bf=gf.getterFor(yf),_f=function(e,t,n,r,i,o,a){!function(e,t,n,r){var i=t+" Iterator";e.prototype=Qp(Vp,{next:Gp(+!r,n)}),qp(e,i,!1),Hp[i]=zp}(n,t,r);var s,c,u,l=function(e){if(e===i&&A)return A;if(!sf&&e in p)return p[e];switch(e){case uf:case lf:case df:return function(){return new n(this,e)}}return function(){return new n(this)}},d=t+" Iterator",h=!1,p=e.prototype,f=p[cf]||p["@@iterator"]||i&&p[i],A=!sf&&f||l(i),g="Array"==t&&p.entries||f;if(g&&(s=Zp(g.call(new e)))!==Object.prototype&&s.next&&(Zp(s)!==af&&(Xp?Xp(s,af):Jp(s[cf])||tf(s,cf,hf)),$p(s,d,!0)),rf&&i==lf&&f&&f.name!==lf&&(of?ef(p,"name",lf):(h=!0,A=function(){return Kp(f,this)})),i)if(c={values:l(lf),keys:o?A:l(uf),entries:l(df)},a)for(u in c)(sf||h||!(u in p))&&tf(p,u,c[u]);else Wp({target:t,proto:!0,forced:sf||h},c);return p[cf]!==A&&tf(p,cf,A,{name:i}),nf[t]=A,c}(Array,"Array",(function(e,t){Ef(this,{type:yf,target:pf(e),index:0,kind:t})}),(function(){var e=bf(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),Cf=Af.Arguments=Af.Array;if(ff("keys"),ff("values"),ff("entries"),vf&&"values"!==Cf.name)try{mf(Cf,"name",{value:"values"})}catch(e){}var If=ht("span").classList,Sf=If&&If.constructor&&If.constructor.prototype,wf=Sf===Object.prototype?void 0:Sf,Rf=r,Tf={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Of=wf,kf=_f,Nf=Vt,Df=Xe,Pf=Df("iterator"),xf=Df("toStringTag"),Lf=kf.values,Mf=function(e,t){if(e){if(e[Pf]!==Lf)try{Nf(e,Pf,Lf)}catch(t){e[Pf]=Lf}if(e[xf]||Nf(e,xf,t),Tf[t])for(var n in kf)if(e[n]!==kf[n])try{Nf(e,n,kf[n])}catch(t){e[n]=kf[n]}}};for(var Bf in Tf)Mf(Rf[Bf]&&Rf[Bf].prototype,Bf);Mf(Of,"DOMTokenList");var Ff=U,Uf=V,jf=Zr,Vf=function(e,t,n){var r,i;return jf&&Ff(r=t.constructor)&&r!==n&&Uf(i=r.prototype)&&i!==n.prototype&&jf(e,i),e},Qf=ph,Gf=function(e,t){return void 0===e?arguments.length<2?"":t:Qf(e)},qf=V,Hf=Vt,zf=C("".replace),Wf=String(Error("zxcasd").stack),Kf=/\n\s*at [^:]*:[^\n]*/,Yf=Kf.test(Wf),Jf=function(e,t){if(Yf&&"string"==typeof e)for(;t--;)e=zf(e,Kf,"");return e},Zf=m,Xf=!o((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",Zf(1,7)),7!==e.stack)})),$f=H,eA=Me,tA=Vt,nA=z,rA=Zr,iA=Ir,oA=Vf,aA=Gf,sA=function(e,t){qf(t)&&"cause"in t&&Hf(e,"cause",t.cause)},cA=Jf,uA=Xf,lA=Vr,dA=Fo,hA=function(e,t,n,r){var i=r?2:1,o=e.split("."),a=o[o.length-1],s=$f.apply(null,o);if(s){var c=s.prototype;if(eA(c,"cause")&&delete c.cause,!n)return s;var u=$f("Error"),l=t((function(e,t){var n=aA(r?t:e,void 0),o=r?new s(e):new s;return void 0!==n&&tA(o,"message",n),uA&&tA(o,"stack",cA(o.stack,2)),this&&nA(c,this)&&oA(o,this,l),arguments.length>i&&sA(o,arguments[i]),o}));l.prototype=c,"Error"!==a&&(rA?rA(l,u):iA(l,u,{name:!0})),iA(l,s);try{c.name!==a&&tA(c,"name",a),c.constructor=l}catch(e){}return l}},pA=r.WebAssembly,fA=7!==Error("e",{cause:7}).cause,AA=function(e,t){var n={};n[e]=hA(e,t,fA),lA({global:!0,forced:fA},n)},gA=function(e,t){if(pA&&pA[e]){var n={};n[e]=hA("WebAssembly."+e,t,fA),lA({target:"WebAssembly",stat:!0,forced:fA},n)}};AA("Error",(function(e){return function(t){return dA(e,this,arguments)}})),AA("EvalError",(function(e){return function(t){return dA(e,this,arguments)}})),AA("RangeError",(function(e){return function(t){return dA(e,this,arguments)}})),AA("ReferenceError",(function(e){return function(t){return dA(e,this,arguments)}})),AA("SyntaxError",(function(e){return function(t){return dA(e,this,arguments)}})),AA("TypeError",(function(e){return function(t){return dA(e,this,arguments)}})),AA("URIError",(function(e){return function(t){return dA(e,this,arguments)}})),gA("CompileError",(function(e){return function(t){return dA(e,this,arguments)}})),gA("LinkError",(function(e){return function(t){return dA(e,this,arguments)}})),gA("RuntimeError",(function(e){return function(t){return dA(e,this,arguments)}}));let mA=!0,vA=!0;function yA(e,t,n){const r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}function EA(e,t,n){if(!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(e,r){if(e!==t)return i.apply(this,arguments);const o=e=>{const t=n(e);t&&(r.handleEvent?r.handleEvent(t):r(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(r,o),i.apply(this,[e,o])};const o=r.removeEventListener;r.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[t])return o.apply(this,arguments);if(!this._eventMap[t].has(n))return o.apply(this,arguments);const r=this._eventMap[t].get(n);return this._eventMap[t].delete(n),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,o.apply(this,[e,r])},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}function bA(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(mA=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function _A(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(vA=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function CA(){if("object"==typeof window){if(mA)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function IA(e,t){vA&&console.warn(e+" is deprecated, please use "+t+" instead.")}function SA(e){const t={browser:null,version:null};if(void 0===e||!e.navigator)return t.browser="Not a browser.",t;const{navigator:n}=e;if(n.mozGetUserMedia)t.browser="firefox",t.version=yA(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)t.browser="chrome",t.version=yA(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(n.mediaDevices&&n.userAgent.match(/Edge\/(\d+).(\d+)$/))t.browser="edge",t.version=yA(n.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!e.RTCPeerConnection||!n.userAgent.match(/AppleWebKit\/(\d+)\./))return t.browser="Not a supported browser.",t;t.browser="safari",t.version=yA(n.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return t}function wA(e){return"[object Object]"===Object.prototype.toString.call(e)}function RA(e){var t;return wA(e)?lh(t=Object.keys(e)).call(t,(function(t,n){const r=wA(e[n]),i=r?RA(e[n]):e[n],o=r&&!Object.keys(i).length;return void 0===i||o?t:Object.assign(t,{[n]:i})}),{}):e}function TA(e,t,n){const r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(null===t)return i;const o=[];return e.forEach((e=>{"track"===e.type&&e.trackIdentifier===t.id&&o.push(e)})),o.forEach((t=>{e.forEach((n=>{n.type===r&&n.trackId===t.id&&function e(t,n,r){n&&!r.has(n.id)&&(r.set(n.id,n),Object.keys(n).forEach((i=>{i.endsWith("Id")?e(t,t.get(n[i]),r):i.endsWith("Ids")&&n[i].forEach((n=>{e(t,t.get(n),r)}))})))}(e,n,i)}))})),i}var OA=Ju.exports,kA=hl,NA=OA("keys"),DA=function(e){return NA[e]||(NA[e]=kA(e))},PA=!_c((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),xA=Dc,LA=sl,MA=Fc,BA=il,FA=PA,UA=DA("IE_PROTO"),jA=xA.Object,VA=jA.prototype,QA=FA?jA.getPrototypeOf:function(e){var t=BA(e);if(LA(t,UA))return t[UA];var n=t.constructor;return MA(n)&&t instanceof n?n.prototype:t instanceof jA?VA:null},GA=Dc,qA=Fc,HA=GA.String,zA=GA.TypeError,WA=Oc,KA=fd,YA=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=WA(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return KA(n),function(e){if("object"==typeof e||qA(e))return e;throw zA("Can't set "+HA(e)+" as a prototype")}(r),t?e(n,r):n.__proto__=r,n}}():void 0),JA={},ZA=jd,XA=Math.max,$A=Math.min,eg=function(e,t){var n=ZA(e);return n<0?XA(n+t,0):$A(n,t)},tg=du,ng=eg,rg=Gd,ig=function(e){return function(t,n,r){var i,o=tg(t),a=rg(o),s=ng(r,a);if(e&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},og={includes:ig(!0),indexOf:ig(!1)},ag={},sg=sl,cg=du,ug=og.indexOf,lg=ag,dg=Oc([].push),hg=function(e,t){var n,r=cg(e),i=0,o=[];for(n in r)!sg(lg,n)&&sg(r,n)&&dg(o,n);for(;t.length>i;)sg(r,n=t[i++])&&(~ug(o,n)||dg(o,n));return o},pg=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],fg=hg,Ag=pg.concat("length","prototype");JA.f=Object.getOwnPropertyNames||function(e){return fg(e,Ag)};var gg={};gg.f=Object.getOwnPropertySymbols;var mg=yu,vg=JA,yg=gg,Eg=fd,bg=Oc([].concat),_g=mg("Reflect","ownKeys")||function(e){var t=vg.f(Eg(e)),n=yg.f;return n?bg(t,n(e)):t},Cg=sl,Ig=_g,Sg=Uc,wg=cd,Rg={},Tg=hg,Og=pg,kg=Object.keys||function(e){return Tg(e,Og)},Ng=jc,Dg=ud,Pg=cd,xg=fd,Lg=du,Mg=kg;Rg.f=Ng&&!Dg?Object.defineProperties:function(e,t){xg(e);for(var n,r=Lg(t),i=Mg(t),o=i.length,a=0;o>a;)Pg.f(e,n=i[a++],r[n]);return e};var Bg,Fg=yu("document","documentElement"),Ug=fd,jg=Rg,Vg=pg,Qg=ag,Gg=Fg,qg=Bl,Hg=DA("IE_PROTO"),zg=function(){},Wg=function(e){return"<script>"+e+"<\/script>"},Kg=function(e){e.write(Wg("")),e.close();var t=e.parentWindow.Object;return e=null,t},Yg=function(){try{Bg=new ActiveXObject("htmlfile")}catch(e){}var e,t;Yg="undefined"!=typeof document?document.domain&&Bg?Kg(Bg):((t=qg("iframe")).style.display="none",Gg.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(Wg("document.F=Object")),e.close(),e.F):Kg(Bg);for(var n=Vg.length;n--;)delete Yg.prototype[Vg[n]];return Yg()};Qg[Hg]=!0;var Jg=Object.create||function(e,t){var n;return null!==e?(zg.prototype=Ug(e),n=new zg,zg.prototype=null,n[Hg]=e):n=Yg(),void 0===t?n:jg.f(n,t)},Zg=Oc("".replace),Xg=String(Error("zxcasd").stack),$g=/\n\s*at [^:]*:[^\n]*/,em=$g.test(Xg),tm=pu,nm=Sd,rm={},im=rm,om=Cl("iterator"),am=Array.prototype,sm=function(e){return void 0!==e&&(im.Array===e||am[om]===e)},cm={};cm[Cl("toStringTag")]="z";var um="[object z]"===String(cm),lm=Dc,dm=um,hm=Fc,pm=eu,fm=Cl("toStringTag"),Am=lm.Object,gm="Arguments"==pm(function(){return arguments}()),mm=dm?pm:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Am(e),fm))?n:gm?pm(t):"Object"==(r=pm(t))&&hm(t.callee)?"Arguments":r},vm=mm,ym=Hu,Em=rm,bm=Cl("iterator"),_m=function(e){if(null!=e)return ym(e,bm)||ym(e,"@@iterator")||Em[vm(e)]},Cm=Gc,Im=Gu,Sm=fd,wm=Uu,Rm=_m,Tm=Dc.TypeError,Om=function(e,t){var n=arguments.length<2?Rm(e):t;if(Im(n))return Sm(Cm(n,e));throw Tm(wm(e)+" is not iterable")},km=Gc,Nm=fd,Dm=Hu,Pm=function(e,t,n){var r,i;Nm(e);try{if(!(r=Dm(e,"return"))){if("throw"===t)throw n;return n}r=km(r,e)}catch(e){i=!0,r=e}if("throw"===t)throw n;if(i)throw r;return Nm(r),n},xm=sd,Lm=Gc,Mm=fd,Bm=Uu,Fm=sm,Um=Gd,jm=kc,Vm=Om,Qm=_m,Gm=Pm,qm=Dc.TypeError,Hm=function(e,t){this.stopped=e,this.result=t},zm=Hm.prototype,Wm=function(e,t,n){var r,i,o,a,s,c,u,l=n&&n.that,d=!(!n||!n.AS_ENTRIES),h=!(!n||!n.IS_ITERATOR),p=!(!n||!n.INTERRUPTED),f=xm(t,l),A=function(e){return r&&Gm(r,"normal",e),new Hm(!0,e)},g=function(e){return d?(Mm(e),p?f(e[0],e[1],A):f(e[0],e[1])):p?f(e,A):f(e)};if(h)r=e;else{if(!(i=Qm(e)))throw qm(Bm(e)+" is not iterable");if(Fm(i)){for(o=0,a=Um(e);a>o;o++)if((s=g(e[o]))&&jm(zm,s))return s;return new Hm(!1)}r=Vm(e,i)}for(c=r.next;!(u=Lm(c,r)).done;){try{s=g(u.value)}catch(e){Gm(r,"throw",e)}if("object"==typeof s&&s&&jm(zm,s))return s}return new Hm(!1)},Km=mm,Ym=Dc.String,Jm=function(e){if("Symbol"===Km(e))throw TypeError("Cannot convert a Symbol value to a string");return Ym(e)},Zm=Jm,Xm=Jc,$m=!_c((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",Xm(1,7)),7!==e.stack)})),ev=Bd,tv=Dc,nv=kc,rv=QA,iv=YA,ov=Jg,av=Sd,sv=Jc,cv=function(e,t){if(em&&"string"==typeof e)for(;t--;)e=Zg(e,$g,"");return e},uv=function(e,t){tm(t)&&"cause"in t&&nm(e,"cause",t.cause)},lv=Wm,dv=function(e,t){return void 0===e?arguments.length<2?"":t:Zm(e)},hv=$m,pv=Cl("toStringTag"),fv=tv.Error,Av=[].push,gv=function(e,t){var n,r=arguments.length>2?arguments[2]:void 0,i=nv(mv,this);iv?n=iv(new fv,i?rv(this):mv):(n=i?this:ov(mv),av(n,pv,"Error")),void 0!==t&&av(n,"message",dv(t)),hv&&av(n,"stack",cv(n.stack,1)),uv(n,r);var o=[];return lv(e,Av,{that:o}),av(n,"errors",o),n};iv?iv(gv,fv):function(e,t,n){for(var r=Ig(t),i=wg.f,o=Sg.f,a=0;a<r.length;a++){var s=r[a];Cg(e,s)||n&&Cg(n,s)||i(e,s,o(t,s))}}(gv,fv,{name:!0});var mv=gv.prototype=ov(fv.prototype,{constructor:sv(1,gv),message:sv(1,""),name:sv(1,"AggregateError")});ev({global:!0},{AggregateError:gv});var vv=Fc,yv=el,Ev=Oc(Function.toString);vv(yv.inspectSource)||(yv.inspectSource=function(e){return Ev(e)});var bv,_v,Cv,Iv=yv.inspectSource,Sv=Fc,wv=Iv,Rv=Dc.WeakMap,Tv=Sv(Rv)&&/native code/.test(wv(Rv)),Ov=Dc,kv=Oc,Nv=pu,Dv=Sd,Pv=sl,xv=el,Lv=DA,Mv=ag,Bv="Object already initialized",Fv=Ov.TypeError,Uv=Ov.WeakMap;if(Tv||xv.state){var jv=xv.state||(xv.state=new Uv),Vv=kv(jv.get),Qv=kv(jv.has),Gv=kv(jv.set);bv=function(e,t){if(Qv(jv,e))throw new Fv(Bv);return t.facade=e,Gv(jv,e,t),t},_v=function(e){return Vv(jv,e)||{}},Cv=function(e){return Qv(jv,e)}}else{var qv=Lv("state");Mv[qv]=!0,bv=function(e,t){if(Pv(e,qv))throw new Fv(Bv);return t.facade=e,Dv(e,qv,t),t},_v=function(e){return Pv(e,qv)?e[qv]:{}},Cv=function(e){return Pv(e,qv)}}var Hv,zv,Wv,Kv={set:bv,get:_v,has:Cv,enforce:function(e){return Cv(e)?_v(e):bv(e,{})},getterFor:function(e){return function(t){var n;if(!Nv(t)||(n=_v(t)).type!==e)throw Fv("Incompatible receiver, "+e+" required");return n}}},Yv=jc,Jv=sl,Zv=Function.prototype,Xv=Yv&&Object.getOwnPropertyDescriptor,$v=Jv(Zv,"name"),ey={EXISTS:$v,PROPER:$v&&"something"===function(){}.name,CONFIGURABLE:$v&&(!Yv||Yv&&Xv(Zv,"name").configurable)},ty=Sd,ny=function(e,t,n,r){r&&r.enumerable?e[t]=n:ty(e,t,n)},ry=_c,iy=Fc,oy=Jg,ay=QA,sy=ny,cy=Cl("iterator"),uy=!1;[].keys&&("next"in(Wv=[].keys())?(zv=ay(ay(Wv)))!==Object.prototype&&(Hv=zv):uy=!0);var ly=null==Hv||ry((function(){var e={};return Hv[cy].call(e)!==e}));iy((Hv=ly?{}:oy(Hv))[cy])||sy(Hv,cy,(function(){return this}));var dy={IteratorPrototype:Hv,BUGGY_SAFARI_ITERATORS:uy},hy=mm,py=um?{}.toString:function(){return"[object "+hy(this)+"]"},fy=um,Ay=cd.f,gy=Sd,my=sl,vy=py,yy=Cl("toStringTag"),Ey=function(e,t,n,r){if(e){var i=n?e:e.prototype;my(i,yy)||Ay(i,yy,{configurable:!0,value:t}),r&&!fy&&gy(i,"toString",vy)}},by=dy.IteratorPrototype,_y=Jg,Cy=Jc,Iy=Ey,Sy=rm,wy=function(){return this},Ry=function(e,t,n,r){var i=t+" Iterator";return e.prototype=_y(by,{next:Cy(+!r,n)}),Iy(e,i,!1,!0),Sy[i]=wy,e},Ty=Bd,Oy=Gc,ky=Ry,Ny=QA,Dy=Ey,Py=ny,xy=rm,Ly=ey.PROPER,My=dy.BUGGY_SAFARI_ITERATORS,By=Cl("iterator"),Fy="keys",Uy="values",jy="entries",Vy=function(){return this},Qy=function(e,t,n,r,i,o,a){ky(n,t,r);var s,c,u,l=function(e){if(e===i&&A)return A;if(!My&&e in p)return p[e];switch(e){case Fy:case Uy:case jy:return function(){return new n(this,e)}}return function(){return new n(this)}},d=t+" Iterator",h=!1,p=e.prototype,f=p[By]||p["@@iterator"]||i&&p[i],A=!My&&f||l(i),g="Array"==t&&p.entries||f;if(g&&(s=Ny(g.call(new e)))!==Object.prototype&&s.next&&(Dy(s,d,!0,!0),xy[d]=Vy),Ly&&i==Uy&&f&&f.name!==Uy&&(h=!0,A=function(){return Oy(f,this)}),i)if(c={values:l(Uy),keys:o?A:l(Fy),entries:l(jy)},a)for(u in c)(My||h||!(u in p))&&Py(p,u,c[u]);else Ty({target:t,proto:!0,forced:My||h},c);return a&&p[By]!==A&&Py(p,By,A,{name:i}),xy[t]=A,c},Gy=du,qy=rm,Hy=Kv;cd.f;var zy=Qy,Wy="Array Iterator",Ky=Hy.set,Yy=Hy.getterFor(Wy);zy(Array,"Array",(function(e,t){Ky(this,{type:Wy,target:Gy(e),index:0,kind:t})}),(function(){var e=Yy(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),qy.Arguments=qy.Array;var Jy=Dc.Promise,Zy=ny,Xy=function(e,t,n){for(var r in t)n&&n.unsafe&&e[r]?e[r]=t[r]:Zy(e,r,t[r],n);return e},$y=yu,eE=cd,tE=jc,nE=Cl("species"),rE=kc,iE=Dc.TypeError,oE=function(e,t){if(rE(t,e))return e;throw iE("Incorrect invocation")},aE=Cl("iterator"),sE=!1;try{var cE=0,uE={next:function(){return{done:!!cE++}},return:function(){sE=!0}};uE[aE]=function(){return this},Array.from(uE,(function(){throw 2}))}catch(e){}var lE=Oc,dE=_c,hE=Fc,pE=mm,fE=Iv,AE=function(){},gE=[],mE=yu("Reflect","construct"),vE=/^\s*(?:class|function)\b/,yE=lE(vE.exec),EE=!vE.exec(AE),bE=function(e){if(!hE(e))return!1;try{return mE(AE,gE,e),!0}catch(e){return!1}},_E=function(e){if(!hE(e))return!1;switch(pE(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return EE||!!yE(vE,fE(e))}catch(e){return!0}};_E.sham=!0;var CE,IE,SE,wE,RE=!mE||dE((function(){var e;return bE(bE.call)||!bE(Object)||!bE((function(){e=!0}))||e}))?_E:bE,TE=RE,OE=Uu,kE=Dc.TypeError,NE=fd,DE=Cl("species"),PE=function(e,t){var n,r=NE(e).constructor;return void 0===r||null==(n=NE(r)[DE])?t:function(e){if(TE(e))return e;throw kE(OE(e)+" is not a constructor")}(n)},xE=Oc([].slice),LE=/(?:ipad|iphone|ipod).*applewebkit/i.test(Eu),ME=Dc,BE=Bc,FE=sd,UE=Fc,jE=sl,VE=_c,QE=Fg,GE=xE,qE=Bl,HE=LE,zE=$d,WE=ME.setImmediate,KE=ME.clearImmediate,YE=ME.process,JE=ME.Dispatch,ZE=ME.Function,XE=ME.MessageChannel,$E=ME.String,eb=0,tb={};try{CE=ME.location}catch(e){}var nb=function(e){if(jE(tb,e)){var t=tb[e];delete tb[e],t()}},rb=function(e){return function(){nb(e)}},ib=function(e){nb(e.data)},ob=function(e){ME.postMessage($E(e),CE.protocol+"//"+CE.host)};WE&&KE||(WE=function(e){var t=GE(arguments,1);return tb[++eb]=function(){BE(UE(e)?e:ZE(e),void 0,t)},IE(eb),eb},KE=function(e){delete tb[e]},zE?IE=function(e){YE.nextTick(rb(e))}:JE&&JE.now?IE=function(e){JE.now(rb(e))}:XE&&!HE?(wE=(SE=new XE).port2,SE.port1.onmessage=ib,IE=FE(wE.postMessage,wE)):ME.addEventListener&&UE(ME.postMessage)&&!ME.importScripts&&CE&&"file:"!==CE.protocol&&!VE(ob)?(IE=ob,ME.addEventListener("message",ib,!1)):IE="onreadystatechange"in qE("script")?function(e){QE.appendChild(qE("script")).onreadystatechange=function(){QE.removeChild(this),nb(e)}}:function(e){setTimeout(rb(e),0)});var ab,sb,cb,ub,lb,db,hb,pb,fb={set:WE,clear:KE},Ab=Dc,gb=/ipad|iphone|ipod/i.test(Eu)&&void 0!==Ab.Pebble,mb=/web0s(?!.*chrome)/i.test(Eu),vb=Dc,yb=sd,Eb=Uc.f,bb=fb.set,_b=LE,Cb=gb,Ib=mb,Sb=$d,wb=vb.MutationObserver||vb.WebKitMutationObserver,Rb=vb.document,Tb=vb.process,Ob=vb.Promise,kb=Eb(vb,"queueMicrotask"),Nb=kb&&kb.value;Nb||(ab=function(){var e,t;for(Sb&&(e=Tb.domain)&&e.exit();sb;){t=sb.fn,sb=sb.next;try{t()}catch(e){throw sb?ub():cb=void 0,e}}cb=void 0,e&&e.enter()},_b||Sb||Ib||!wb||!Rb?!Cb&&Ob&&Ob.resolve?((hb=Ob.resolve(void 0)).constructor=Ob,pb=yb(hb.then,hb),ub=function(){pb(ab)}):Sb?ub=function(){Tb.nextTick(ab)}:(bb=yb(bb,vb),ub=function(){bb(ab)}):(lb=!0,db=Rb.createTextNode(""),new wb(ab).observe(db,{characterData:!0}),ub=function(){db.data=lb=!lb}));var Db=Nb||function(e){var t={fn:e,next:void 0};cb&&(cb.next=t),sb||(sb=t,ub()),cb=t},Pb={},xb=Gu,Lb=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=xb(t),this.reject=xb(n)};Pb.f=function(e){return new Lb(e)};var Mb=fd,Bb=pu,Fb=Pb,Ub=function(e,t){if(Mb(e),Bb(t)&&t.constructor===e)return t;var n=Fb.f(e);return(0,n.resolve)(t),n.promise},jb=Dc,Vb=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},Qb=function(){this.head=null,this.tail=null};Qb.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}};var Gb,qb,Hb,zb="object"==typeof window,Wb=Bd,Kb=Dc,Yb=yu,Jb=Gc,Zb=Jy,Xb=Xy,$b=Ey,e_=Gu,t_=Fc,n_=pu,r_=oE,i_=Iv,o_=Wm,a_=PE,s_=fb.set,c_=Db,u_=Ub,l_=Pb,d_=Vb,h_=Qb,p_=Kv,f_=rd,A_=zb,g_=$d,m_=Ru,v_=Cl("species"),y_="Promise",E_=p_.getterFor(y_),b_=p_.set,__=p_.getterFor(y_),C_=Zb&&Zb.prototype,I_=Zb,S_=C_,w_=Kb.TypeError,R_=Kb.document,T_=Kb.process,O_=l_.f,k_=O_,N_=!!(R_&&R_.createEvent&&Kb.dispatchEvent),D_=t_(Kb.PromiseRejectionEvent),P_="unhandledrejection",x_=f_(y_,(function(){var e=i_(I_),t=e!==String(I_);if(!t&&66===m_)return!0;if(!S_.finally)return!0;if(m_>=51&&/native code/.test(e))return!1;var n=new I_((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};return(n.constructor={})[v_]=r,!(n.then((function(){}))instanceof r)||!t&&A_&&!D_})),L_=x_||!function(e,t){if(!t&&!sE)return!1;var n=!1;try{var r={};r[aE]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n}((function(e){I_.all(e).catch((function(){}))})),M_=function(e){var t;return!(!n_(e)||!t_(t=e.then))&&t},B_=function(e,t){var n,r,i,o=t.value,a=1==t.state,s=a?e.ok:e.fail,c=e.resolve,u=e.reject,l=e.domain;try{s?(a||(2===t.rejection&&Q_(t),t.rejection=1),!0===s?n=o:(l&&l.enter(),n=s(o),l&&(l.exit(),i=!0)),n===e.promise?u(w_("Promise-chain cycle")):(r=M_(n))?Jb(r,n,c,u):c(n)):u(o)}catch(e){l&&!i&&l.exit(),u(e)}},F_=function(e,t){e.notified||(e.notified=!0,c_((function(){for(var n,r=e.reactions;n=r.get();)B_(n,e);e.notified=!1,t&&!e.rejection&&j_(e)})))},U_=function(e,t,n){var r,i;N_?((r=R_.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),Kb.dispatchEvent(r)):r={promise:t,reason:n},!D_&&(i=Kb["on"+e])?i(r):e===P_&&function(e,t){var n=jb.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}("Unhandled promise rejection",n)},j_=function(e){Jb(s_,Kb,(function(){var t,n=e.facade,r=e.value;if(V_(e)&&(t=d_((function(){g_?T_.emit("unhandledRejection",r,n):U_(P_,n,r)})),e.rejection=g_||V_(e)?2:1,t.error))throw t.value}))},V_=function(e){return 1!==e.rejection&&!e.parent},Q_=function(e){Jb(s_,Kb,(function(){var t=e.facade;g_?T_.emit("rejectionHandled",t):U_("rejectionhandled",t,e.value)}))},G_=function(e,t,n){return function(r){e(t,r,n)}},q_=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,F_(e,!0))},H_=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw w_("Promise can't be resolved itself");var r=M_(t);r?c_((function(){var n={done:!1};try{Jb(r,t,G_(H_,n,e),G_(q_,n,e))}catch(t){q_(n,t,e)}})):(e.value=t,e.state=1,F_(e,!1))}catch(t){q_({done:!1},t,e)}}};x_&&(S_=(I_=function(e){r_(this,S_),e_(e),Jb(Gb,this);var t=E_(this);try{e(G_(H_,t),G_(q_,t))}catch(e){q_(t,e)}}).prototype,(Gb=function(e){b_(this,{type:y_,done:!1,notified:!1,parent:!1,reactions:new h_,rejection:!1,state:0,value:void 0})}).prototype=Xb(S_,{then:function(e,t){var n=__(this),r=O_(a_(this,I_));return n.parent=!0,r.ok=!t_(e)||e,r.fail=t_(t)&&t,r.domain=g_?T_.domain:void 0,0==n.state?n.reactions.add(r):c_((function(){B_(r,n)})),r.promise},catch:function(e){return this.then(void 0,e)}}),qb=function(){var e=new Gb,t=E_(e);this.promise=e,this.resolve=G_(H_,t),this.reject=G_(q_,t)},l_.f=O_=function(e){return e===I_||e===Hb?new qb(e):k_(e)}),Wb({global:!0,wrap:!0,forced:x_},{Promise:I_}),$b(I_,y_,!1,!0),function(e){var t=$y(e),n=eE.f;tE&&t&&!t[nE]&&n(t,nE,{configurable:!0,get:function(){return this}})}(y_),Hb=Yb(y_),Wb({target:y_,stat:!0,forced:x_},{reject:function(e){var t=O_(this);return Jb(t.reject,void 0,e),t.promise}}),Wb({target:y_,stat:!0,forced:!0},{resolve:function(e){return u_(this===Hb?I_:this,e)}}),Wb({target:y_,stat:!0,forced:L_},{all:function(e){var t=this,n=O_(t),r=n.resolve,i=n.reject,o=d_((function(){var n=e_(t.resolve),o=[],a=0,s=1;o_(e,(function(e){var c=a++,u=!1;s++,Jb(n,t,e).then((function(e){u||(u=!0,o[c]=e,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=O_(t),r=n.reject,i=d_((function(){var i=e_(t.resolve);o_(e,(function(e){Jb(i,t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}});var z_=Gc,W_=Gu,K_=Pb,Y_=Vb,J_=Wm;Bd({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=K_.f(t),r=n.resolve,i=n.reject,o=Y_((function(){var n=W_(t.resolve),i=[],o=0,a=1;J_(e,(function(e){var s=o++,c=!1;a++,z_(n,t,e).then((function(e){c||(c=!0,i[s]={status:"fulfilled",value:e},--a||r(i))}),(function(e){c||(c=!0,i[s]={status:"rejected",reason:e},--a||r(i))}))})),--a||r(i)}));return o.error&&i(o.value),n.promise}});var Z_=Gu,X_=yu,$_=Gc,eC=Pb,tC=Vb,nC=Wm,rC="No one promise resolved";Bd({target:"Promise",stat:!0},{any:function(e){var t=this,n=X_("AggregateError"),r=eC.f(t),i=r.resolve,o=r.reject,a=tC((function(){var r=Z_(t.resolve),a=[],s=0,c=1,u=!1;nC(e,(function(e){var l=s++,d=!1;c++,$_(r,t,e).then((function(e){d||u||(u=!0,i(e))}),(function(e){d||u||(d=!0,a[l]=e,--c||o(new n(a,rC)))}))})),--c||o(new n(a,rC))}));return a.error&&o(a.value),r.promise}});var iC=Jy,oC=yu,aC=Fc,sC=PE,cC=Ub;Bd({target:"Promise",proto:!0,real:!0,forced:!!iC&&_c((function(){iC.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=sC(this,oC("Promise")),n=aC(e);return this.then(n?function(n){return cC(t,e()).then((function(){return n}))}:e,n?function(n){return cC(t,e()).then((function(){throw n}))}:e)}});var uC=Oc,lC=jd,dC=Jm,hC=cu,pC=uC("".charAt),fC=uC("".charCodeAt),AC=uC("".slice),gC=function(e){return function(t,n){var r,i,o=dC(hC(t)),a=lC(n),s=o.length;return a<0||a>=s?e?"":void 0:(r=fC(o,a))<55296||r>56319||a+1===s||(i=fC(o,a+1))<56320||i>57343?e?pC(o,a):r:e?AC(o,a,a+2):i-56320+(r-55296<<10)+65536}},mC={codeAt:gC(!1),charAt:gC(!0)},vC=mC.charAt,yC=Jm,EC=Kv,bC=Qy,_C="String Iterator",CC=EC.set,IC=EC.getterFor(_C);bC(String,"String",(function(e){CC(this,{type:_C,string:yC(e),index:0})}),(function(){var e,t=IC(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=vC(n,r),t.index+=e.length,{value:e,done:!1})}));var SC=fu.Promise,wC=Dc,RC=mm,TC=Sd,OC=rm,kC=Cl("toStringTag");for(var NC in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var DC=wC[NC],PC=DC&&DC.prototype;PC&&RC(PC)!==kC&&TC(PC,kC,NC),OC[NC]=OC.Array}var xC=SC,LC=xC,MC=Qo,BC=a,FC=o,UC=kt,jC=Gh,VC=Gf,QC=Error.prototype.toString,GC=FC((function(){if(BC){var e=jC(Object.defineProperty({},"name",{get:function(){return this===e}}));if("true"!==QC.call(e))return!0}return"2: 1"!==QC.call({message:1,name:2})||"Error"!==QC.call({})}))?function(){var e=UC(this),t=VC(e.name,"Error"),n=VC(e.message);return t?n?t+": "+n:t:n}:QC,qC={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}},HC=Vr,zC=H,WC=o,KC=Gh,YC=m,JC=It.f,ZC=bh.f,XC=Qt.exports,$C=Me,eI=ui,tI=kt,nI=GC,rI=Gf,iI=qC,oI=Jf,aI=Cn,sI=a,cI="DOMException",uI=zC("Error"),lI=zC(cI)||function(){try{(new(zC("MessageChannel")||function(e){try{if(MC)return Function('return require("'+e+'")')()}catch(e){}}("worker_threads").MessageChannel)).port1.postMessage(new WeakMap)}catch(e){if("DATA_CLONE_ERR"==e.name&&25==e.code)return e.constructor}}(),dI=lI&&lI.prototype,hI=uI.prototype,pI=aI.set,fI=aI.getterFor(cI),AI="stack"in uI(cI),gI=function(e){return $C(iI,e)&&iI[e].m?iI[e].c:0},mI=function(){eI(this,vI);var e=arguments.length,t=rI(e<1?void 0:arguments[0]),n=rI(e<2?void 0:arguments[1],"Error"),r=gI(n);if(pI(this,{type:cI,name:n,message:t,code:r}),sI||(this.name=n,this.message=t,this.code=r),AI){var i=uI(t);i.name=cI,JC(this,"stack",YC(1,oI(i.stack,1)))}},vI=mI.prototype=KC(hI),yI=function(e){return{enumerable:!0,configurable:!0,get:e}},EI=function(e){return yI((function(){return fI(this)[e]}))};sI&&ZC(vI,{name:EI("name"),message:EI("message"),code:EI("code")}),JC(vI,"constructor",YC(1,mI));var bI=WC((function(){return!(new lI instanceof uI)})),_I=bI||WC((function(){return hI.toString!==nI||"2: 1"!==String(new lI(1,2))})),CI=bI||WC((function(){return 25!==new lI(1,"DataCloneError").code}));bI||25!==lI.DATA_CLONE_ERR||dI.DATA_CLONE_ERR,HC({global:!0,forced:bI},{DOMException:bI?mI:lI});var II=zC(cI),SI=II.prototype;for(var wI in _I&&lI===II&&XC(SI,"toString",nI),CI&&sI&&lI===II&&JC(SI,"code",yI((function(){return gI(tI(this).name)}))),iI)if($C(iI,wI)){var RI=iI[wI],TI=RI.s,OI=YC(6,RI.c);$C(II,TI)||JC(II,TI,OI),$C(SI,TI)||JC(SI,TI,OI)}var kI=Vr,NI=H,DI=m,PI=It.f,xI=Me,LI=ui,MI=Vf,BI=Gf,FI=qC,UI=Jf,jI="DOMException",VI=NI("Error"),QI=NI(jI),GI=function(){LI(this,qI);var e=arguments.length,t=BI(e<1?void 0:arguments[0]),n=BI(e<2?void 0:arguments[1],"Error"),r=new QI(t,n),i=VI(t);return i.name=jI,PI(r,"stack",DI(1,UI(i.stack,1))),MI(r,this,GI),r},qI=GI.prototype=QI.prototype,HI="stack"in VI(jI),zI="stack"in new QI(1,2),WI=HI&&!zI;kI({global:!0,forced:WI},{DOMException:WI?GI:QI});var KI=NI(jI),YI=KI.prototype;if(YI.constructor!==KI)for(var JI in PI(YI,"constructor",DI(1,KI)),FI)if(xI(FI,JI)){var ZI=FI[JI],XI=ZI.s;xI(KI,XI)||PI(KI,XI,DI(6,ZI.c))}var $I="DOMException";ti(H($I),$I);var eS=C,tS=Qt.exports,nS=gp,rS=o,iS=Xe,oS=Vt,aS=iS("species"),sS=RegExp.prototype,cS=C,uS=Gn,lS=ph,dS=L,hS=cS("".charAt),pS=cS("".charCodeAt),fS=cS("".slice),AS=function(e){return function(t,n){var r,i,o=lS(dS(t)),a=uS(n),s=o.length;return a<0||a>=s?e?"":void 0:(r=pS(o,a))<55296||r>56319||a+1===s||(i=pS(o,a+1))<56320||i>57343?e?hS(o,a):r:e?fS(o,a,a+2):i-56320+(r-55296<<10)+65536}},gS=(AS(!1),AS(!0)),mS=C,vS=Pe,yS=Math.floor,ES=mS("".charAt),bS=mS("".replace),_S=mS("".slice),CS=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,IS=/\$([$&'`]|\d{1,2})/g,SS=l,wS=kt,RS=U,TS=R,OS=gp,kS=r.TypeError,NS=Fo,DS=l,PS=C,xS=o,LS=kt,MS=U,BS=Gn,FS=Jn,US=ph,jS=L,VS=function(e,t,n){return t+(n?gS(e,t).length:1)},QS=ve,GS=function(e,t,n,r,i,o){var a=n+e.length,s=r.length,c=IS;return void 0!==i&&(i=vS(i),c=CS),bS(o,c,(function(o,c){var u;switch(ES(c,0)){case"$":return"$";case"&":return e;case"`":return _S(t,0,n);case"'":return _S(t,a);case"<":u=i[_S(c,1,-1)];break;default:var l=+c;if(0===l)return o;if(l>s){var d=yS(l/10);return 0===d?o:d<=s?void 0===r[d-1]?ES(c,1):r[d-1]+ES(c,1):o}u=r[l-1]}return void 0===u?"":u}))},qS=function(e,t){var n=e.exec;if(RS(n)){var r=SS(n,e,t);return null!==r&&wS(r),r}if("RegExp"===TS(e))return SS(OS,e,t);throw kS("RegExp#exec called on incompatible receiver")},HS=Xe("replace"),zS=Math.max,WS=Math.min,KS=PS([].concat),YS=PS([].push),JS=PS("".indexOf),ZS=PS("".slice),XS="$0"==="a".replace(/./,"$0"),$S=!!/./[HS]&&""===/./[HS]("a","$0");!function(e,t,n,r){var i=iS(e),o=!rS((function(){var t={};return t[i]=function(){return 7},7!=""[e](t)})),a=o&&!rS((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[aS]=function(){return n},n.flags="",n[i]=/./[i]),n.exec=function(){return t=!0,null},n[i](""),!t}));if(!o||!a||n){var s=eS(/./[i]),c=t(i,""[e],(function(e,t,n,r,i){var a=eS(e),c=t.exec;return c===nS||c===sS.exec?o&&!i?{done:!0,value:s(t,n,r)}:{done:!0,value:a(n,t,r)}:{done:!1}}));tS(String.prototype,e,c[0]),tS(sS,i,c[1])}r&&oS(sS[i],"sham",!0)}("replace",(function(e,t,n){var r=$S?"$":"$0";return[function(e,n){var r=jS(this),i=null==e?void 0:QS(e,HS);return i?DS(i,e,r,n):DS(t,US(r),e,n)},function(e,i){var o=LS(this),a=US(e);if("string"==typeof i&&-1===JS(i,r)&&-1===JS(i,"$<")){var s=n(t,o,a,i);if(s.done)return s.value}var c=MS(i);c||(i=US(i));var u=o.global;if(u){var l=o.unicode;o.lastIndex=0}for(var d=[];;){var h=qS(o,a);if(null===h)break;if(YS(d,h),!u)break;""===US(h[0])&&(o.lastIndex=VS(a,FS(o.lastIndex),l))}for(var p,f="",A=0,g=0;g<d.length;g++){for(var m=US((h=d[g])[0]),v=zS(WS(BS(h.index),a.length),0),y=[],E=1;E<h.length;E++)YS(y,void 0===(p=h[E])?p:String(p));var b=h.groups;if(c){var _=KS([m],y,v,a);void 0!==b&&YS(_,b);var C=US(NS(i,void 0,_))}else C=GS(m,a,v,y,b,i);v>=A&&(f+=ZS(a,A,v)+C,A=v+m.length)}return f+ZS(a,A)}]}),!!xS((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!XS||$S);var ew=V,tw=R,nw=Xe("match"),rw=a,iw=r,ow=C,aw=Pr,sw=Vf,cw=Vt,uw=It.f,lw=jn.f,dw=z,hw=ph,pw=Ah,fw=Eh,Aw=Qt.exports,gw=o,mw=Me,vw=Cn.enforce,yw=ai,Ew=zh,bw=Yh,_w=Xe("match"),Cw=iw.RegExp,Iw=Cw.prototype,Sw=iw.SyntaxError,ww=ow(pw),Rw=ow(Iw.exec),Tw=ow("".charAt),Ow=ow("".replace),kw=ow("".indexOf),Nw=ow("".slice),Dw=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,Pw=/a/g,xw=/a/g,Lw=new Cw(Pw)!==Pw,Mw=fw.MISSED_STICKY,Bw=fw.UNSUPPORTED_Y;if(aw("RegExp",rw&&(!Lw||Mw||Ew||bw||gw((function(){return xw[_w]=!1,Cw(Pw)!=Pw||Cw(xw)==xw||"/a/i"!=Cw(Pw,"i")}))))){for(var Fw=function(e,t){var n,r,i,o,a,s,c=dw(Iw,this),u=function(e){var t;return ew(e)&&(void 0!==(t=e[nw])?!!t:"RegExp"==tw(e))}(e),l=void 0===t,d=[],h=e;if(!c&&u&&l&&e.constructor===Fw)return e;if((u||dw(Iw,e))&&(e=e.source,l&&(t="flags"in h?h.flags:ww(h))),e=void 0===e?"":hw(e),t=void 0===t?"":hw(t),h=e,Ew&&"dotAll"in Pw&&(r=!!t&&kw(t,"s")>-1)&&(t=Ow(t,/s/g,"")),n=t,Mw&&"sticky"in Pw&&(i=!!t&&kw(t,"y")>-1)&&Bw&&(t=Ow(t,/y/g,"")),bw&&(e=(o=function(e){for(var t,n=e.length,r=0,i="",o=[],a={},s=!1,c=!1,u=0,l="";r<=n;r++){if("\\"===(t=Tw(e,r)))t+=Tw(e,++r);else if("]"===t)s=!1;else if(!s)switch(!0){case"["===t:s=!0;break;case"("===t:Rw(Dw,Nw(e,r+1))&&(r+=2,c=!0),i+=t,u++;continue;case">"===t&&c:if(""===l||mw(a,l))throw new Sw("Invalid capture group name");a[l]=!0,o[o.length]=[l,u],c=!1,l="";continue}c?l+=t:i+=t}return[i,o]}(e))[0],d=o[1]),a=sw(Cw(e,t),c?this:Iw,Fw),(r||i||d.length)&&(s=vw(a),r&&(s.dotAll=!0,s.raw=Fw(function(e){for(var t,n=e.length,r=0,i="",o=!1;r<=n;r++)"\\"!==(t=Tw(e,r))?o||"."!==t?("["===t?o=!0:"]"===t&&(o=!1),i+=t):i+="[\\s\\S]":i+=t+Tw(e,++r);return i}(e),n)),i&&(s.sticky=!0),d.length&&(s.groups=d)),e!==h)try{cw(a,"source",""===h?"(?:)":h)}catch(e){}return a},Uw=function(e){e in Fw||uw(Fw,e,{configurable:!0,get:function(){return Cw[e]},set:function(t){Cw[e]=t}})},jw=lw(Cw),Vw=0;jw.length>Vw;)Uw(jw[Vw++]);Iw.constructor=Fw,Fw.prototype=Iw,Aw(iw,"RegExp",Fw)}yw("RegExp");var Qw=r,Gw=a,qw=zh,Hw=R,zw=It.f,Ww=Cn.get,Kw=RegExp.prototype,Yw=Qw.TypeError;Gw&&qw&&zw(Kw,"dotAll",{configurable:!0,get:function(){if(this!==Kw){if("RegExp"===Hw(this))return!!Ww(this).dotAll;throw Yw("Incompatible receiver, RegExp required")}}});const Jw=CA;function Zw(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const r=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;const t={};return Object.keys(e).forEach((n=>{if("require"===n||"advanced"===n||"mediaSource"===n)return;const r="object"==typeof e[n]?e[n]:{ideal:e[n]};void 0!==r.exact&&"number"==typeof r.exact&&(r.min=r.max=r.exact);const i=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==r.ideal){t.optional=t.optional||[];let e={};"number"==typeof r.ideal?(e[i("min",n)]=r.ideal,t.optional.push(e),e={},e[i("max",n)]=r.ideal,t.optional.push(e)):(e[i("",n)]=r.ideal,t.optional.push(e))}void 0!==r.exact&&"number"!=typeof r.exact?(t.mandatory=t.mandatory||{},t.mandatory[i("",n)]=r.exact):["min","max"].forEach((e=>{void 0!==r[e]&&(t.mandatory=t.mandatory||{},t.mandatory[i(e,n)]=r[e])}))})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},i=function(e,i){if(t.version>=61)return i(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"==typeof e.audio){const t=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};t((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),t(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=r(e.audio)}if(e&&"object"==typeof e.video){let o=e.video.facingMode;o=o&&("object"==typeof o?o:{ideal:o});const a=t.version<66;if(o&&("user"===o.exact||"environment"===o.exact||"user"===o.ideal||"environment"===o.ideal)&&(!n.mediaDevices.getSupportedConstraints||!n.mediaDevices.getSupportedConstraints().facingMode||a)){let t;if(delete e.video.facingMode,"environment"===o.exact||"environment"===o.ideal?t=["back","rear"]:"user"!==o.exact&&"user"!==o.ideal||(t=["front"]),t)return n.mediaDevices.enumerateDevices().then((n=>{let a=(n=n.filter((e=>"videoinput"===e.kind))).find((e=>t.some((t=>e.label.toLowerCase().includes(t)))));return!a&&n.length&&t.includes("back")&&(a=n[n.length-1]),a&&(e.video.deviceId=o.exact?{exact:a.deviceId}:{ideal:a.deviceId}),e.video=r(e.video),Jw("chrome: "+JSON.stringify(e)),i(e)}))}e.video=r(e.video)}return Jw("chrome: "+JSON.stringify(e)),i(e)},o=function(e){return t.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(n.getUserMedia=function(e,t,r){i(e,(e=>{n.webkitGetUserMedia(e,t,(e=>{r&&r(o(e))}))}))}.bind(n),n.mediaDevices.getUserMedia){const e=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(t){return i(t,(t=>e(t).then((e=>{if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach((e=>{e.stop()})),new DOMException("","NotFoundError");return e}),(e=>LC.reject(o(e))))))}}}function Xw(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function $w(e){if("object"==typeof e&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=t=>{t.stream.addEventListener("addtrack",(n=>{let r;r=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e=>e.track&&e.track.id===n.track.id)):{track:n.track};const i=new Event("track");i.track=n.track,i.receiver=r,i.transceiver={receiver:r},i.streams=[t.stream],this.dispatchEvent(i)})),t.stream.getTracks().forEach((n=>{let r;r=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e=>e.track&&e.track.id===n.id)):{track:n};const i=new Event("track");i.track=n,i.receiver=r,i.transceiver={receiver:r},i.streams=[t.stream],this.dispatchEvent(i)}))},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else EA(e,"track",(e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e)))}function eR(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){let i=n.apply(this,arguments);return i||(i=t(this,e),this._senders.push(i)),i};const r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){r.apply(this,arguments);const t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._senders=this._senders||[],n.apply(this,[e]),e.getTracks().forEach((e=>{this._senders.push(t(this,e))}))};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._senders=this._senders||[],r.apply(this,[e]),e.getTracks().forEach((e=>{const t=this._senders.find((t=>t.track===e));t&&this._senders.splice(this._senders.indexOf(t),1)}))}}else if("object"==typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function tR(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,n,r]=arguments;if(arguments.length>0&&"function"==typeof e)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!=typeof e))return t.apply(this,[]);const i=function(e){const t={};return e.result().forEach((e=>{const n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach((t=>{n[t]=e.stat(t)})),t[n.id]=n})),t},o=function(e){return new Map(Object.keys(e).map((t=>[t,e[t]])))};if(arguments.length>=2){const r=function(e){n(o(i(e)))};return t.apply(this,[r,e])}return new LC(((e,n)=>{t.apply(this,[function(t){e(o(i(t)))},n])})).then(n,r)}}function nR(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){const e=this;return this._pc.getStats().then((t=>TA(t,e.track,!0)))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e}),EA(e,"track",(e=>(e.receiver._pc=e.srcElement,e))),e.RTCRtpReceiver.prototype.getStats=function(){const e=this;return this._pc.getStats().then((t=>TA(t,e.track,!1)))}}if(!("getStats"in e.RTCRtpSender.prototype)||!("getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const e=arguments[0];let t,n,r;return this.getSenders().forEach((n=>{n.track===e&&(t?r=!0:t=n)})),this.getReceivers().forEach((t=>(t.track===e&&(n?r=!0:n=t),t.track===e))),r||t&&n?LC.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():n?n.getStats():LC.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function rR(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((e=>this._shimmedLocalStreams[e][0]))};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const r=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(r)&&this._shimmedLocalStreams[n.id].push(r):this._shimmedLocalStreams[n.id]=[n,r],r};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((e=>{if(this.getSenders().find((t=>t.track===e)))throw new DOMException("Track already exists.","InvalidAccessError")}));const t=this.getSenders();n.apply(this,arguments);const r=this.getSenders().filter((e=>-1===t.indexOf(e)));this._shimmedLocalStreams[e.id]=[e].concat(r)};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],r.apply(this,arguments)};const i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((t=>{const n=this._shimmedLocalStreams[t].indexOf(e);-1!==n&&this._shimmedLocalStreams[t].splice(n,1),1===this._shimmedLocalStreams[t].length&&delete this._shimmedLocalStreams[t]})),i.apply(this,arguments)}}function iR(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return rR(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const e=n.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map((e=>this._reverseStreams[e.id]))};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach((e=>{if(this.getSenders().find((t=>t.track===e)))throw new DOMException("Track already exists.","InvalidAccessError")})),!this._reverseStreams[t.id]){const n=new e.MediaStream(t.getTracks());this._streams[t.id]=n,this._reverseStreams[n.id]=t,t=n}r.apply(this,[t])};const i=e.RTCPeerConnection.prototype.removeStream;function o(e,t){let n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((t=>{const r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(i.id,"g"),r.id)})),new RTCSessionDescription({type:t.type,sdp:n})}function a(e,t){let n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((t=>{const r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(r.id,"g"),i.id)})),new RTCSessionDescription({type:t.type,sdp:n})}e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,n){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const r=[].slice.call(arguments,1);if(1!==r.length||!r[0].getTracks().find((e=>e===t)))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");const i=this.getSenders().find((e=>e.track===t));if(i)throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const o=this._streams[n.id];if(o)o.addTrack(t),LC.resolve().then((()=>{this.dispatchEvent(new Event("negotiationneeded"))}));else{const r=new e.MediaStream([t]);this._streams[n.id]=r,this._reverseStreams[r.id]=n,this.addStream(r)}return this.getSenders().find((e=>e.track===t))},["createOffer","createAnswer"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],r={[t](){const e=arguments;return arguments.length&&"function"==typeof arguments[0]?n.apply(this,[t=>{const n=o(this,t);e[0].apply(null,[n])},t=>{e[1]&&e[1].apply(null,t)},arguments[2]]):n.apply(this,arguments).then((e=>o(this,e)))}};e.RTCPeerConnection.prototype[t]=r[t]}));const s=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=a(this,arguments[0]),s.apply(this,arguments)):s.apply(this,arguments)};const c=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const e=c.get.apply(this);return""===e.type?e:o(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let t;this._streams=this._streams||{},Object.keys(this._streams).forEach((n=>{this._streams[n].getTracks().find((t=>e.track===t))&&(t=this._streams[n])})),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function oR(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],r={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=r[t]}))}function aR(e,t){EA(e,"negotiationneeded",(e=>{const n=e.target;if(!(t.version<72||n.getConfiguration&&"plan-b"===n.getConfiguration().sdpSemantics)||"stable"===n.signalingState)return e}))}var sR=Object.freeze({__proto__:null,shimMediaStream:Xw,shimOnTrack:$w,shimGetSendersWithDtmf:eR,shimGetStats:tR,shimSenderReceiverGetStats:nR,shimAddTrackRemoveTrackWithNative:rR,shimAddTrackRemoveTrack:iR,shimPeerConnection:oR,fixNegotiationNeeded:aR,shimGetUserMedia:Zw,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"==typeof t?e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then((t=>{const r=n.video&&n.video.width,i=n.video&&n.video.height,o=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:o||3}},r&&(n.video.mandatory.maxWidth=r),i&&(n.video.mandatory.maxHeight=i),e.navigator.mediaDevices.getUserMedia(n)}))}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}}),cR={exports:{}};!function(e){var t={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split("\n").map((function(e){return e.trim()}))},t.splitSections=function(e){return e.split("\nm=").map((function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"}))},t.getDescription=function(e){var n=t.splitSections(e);return n&&n[0]},t.getMediaSections=function(e){var n=t.splitSections(e);return n.shift(),n},t.matchPrefix=function(e,n){return t.splitLines(e).filter((function(e){return 0===e.indexOf(n)}))},t.parseCandidate=function(e){for(var t,n={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},r=8;r<t.length;r+=2)switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1];break;case"ufrag":n.ufrag=t[r+1],n.usernameFragment=t[r+1];break;default:n[t[r]]=t[r+1]}return n},t.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substr(14).split(" ")},t.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},t.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},t.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},t.parseFmtp=function(e){for(var t,n={},r=e.substr(e.indexOf(" ")+1).split(";"),i=0;i<r.length;i++)n[(t=r[i].trim().split("="))[0].trim()]=t[1];return n},t.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var r=[];Object.keys(e.parameters).forEach((function(t){e.parameters[t]?r.push(t+"="+e.parameters[t]):r.push(t)})),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},t.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},t.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substr(t+1,r-t-1),n.value=e.substr(r+1)):n.attribute=e.substr(t+1),n},t.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((function(e){return parseInt(e,10)}))}},t.getMid=function(e){var n=t.matchPrefix(e,"a=mid:")[0];if(n)return n.substr(6)},t.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},t.getDtlsParameters=function(e,n){return{role:"auto",fingerprints:t.matchPrefix(e+n,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach((function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),n},t.getIceParameters=function(e,n){var r=t.splitLines(e);return{usernameFragment:(r=r.concat(t.splitLines(n))).filter((function(e){return 0===e.indexOf("a=ice-ufrag:")}))[0].substr(12),password:r.filter((function(e){return 0===e.indexOf("a=ice-pwd:")}))[0].substr(10)}},t.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},t.parseRtpParameters=function(e){for(var n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=t.splitLines(e)[0].split(" "),i=3;i<r.length;i++){var o=r[i],a=t.matchPrefix(e,"a=rtpmap:"+o+" ")[0];if(a){var s=t.parseRtpMap(a),c=t.matchPrefix(e,"a=fmtp:"+o+" ");switch(s.parameters=c.length?t.parseFmtp(c[0]):{},s.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+o+" ").map(t.parseRtcpFb),n.codecs.push(s),s.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(s.name.toUpperCase())}}}return t.matchPrefix(e,"a=extmap:").forEach((function(e){n.headerExtensions.push(t.parseExtmap(e))})),n},t.writeRtpDescription=function(e,n){var r="";r+="m="+e+" ",r+=n.codecs.length>0?"9":"0",r+=" UDP/TLS/RTP/SAVPF ",r+=n.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n",r+="c=IN IP4 0.0.0.0\r\n",r+="a=rtcp:9 IN IP4 0.0.0.0\r\n",n.codecs.forEach((function(e){r+=t.writeRtpMap(e),r+=t.writeFmtp(e),r+=t.writeRtcpFb(e)}));var i=0;return n.codecs.forEach((function(e){e.maxptime>i&&(i=e.maxptime)})),i>0&&(r+="a=maxptime:"+i+"\r\n"),r+="a=rtcp-mux\r\n",n.headerExtensions&&n.headerExtensions.forEach((function(e){r+=t.writeExtmap(e)})),r},t.parseRtpEncodingParameters=function(e){var n,r=[],i=t.parseRtpParameters(e),o=-1!==i.fecMechanisms.indexOf("RED"),a=-1!==i.fecMechanisms.indexOf("ULPFEC"),s=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute})),c=s.length>0&&s[0].ssrc,u=t.matchPrefix(e,"a=ssrc-group:FID").map((function(e){return e.substr(17).split(" ").map((function(e){return parseInt(e,10)}))}));u.length>0&&u[0].length>1&&u[0][0]===c&&(n=u[0][1]),i.codecs.forEach((function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var t={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10)};c&&n&&(t.rtx={ssrc:n}),r.push(t),o&&((t=JSON.parse(JSON.stringify(t))).fec={ssrc:c,mechanism:a?"red+ulpfec":"red"},r.push(t))}})),0===r.length&&c&&r.push({ssrc:c});var l=t.matchPrefix(e,"b=");return l.length&&(l=0===l[0].indexOf("b=TIAS:")?parseInt(l[0].substr(7),10):0===l[0].indexOf("b=AS:")?1e3*parseInt(l[0].substr(5),10)*.95-16e3:void 0,r.forEach((function(e){e.maxBitrate=l}))),r},t.parseRtcpParameters=function(e){var n={},r=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];r&&(n.cname=r.value,n.ssrc=r.ssrc);var i=t.matchPrefix(e,"a=rtcp-rsize");n.reducedSize=i.length>0,n.compound=0===i.length;var o=t.matchPrefix(e,"a=rtcp-mux");return n.mux=o.length>0,n},t.parseMsid=function(e){var n,r=t.matchPrefix(e,"a=msid:");if(1===r.length)return{stream:(n=r[0].substr(7).split(" "))[0],track:n[1]};var i=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"msid"===e.attribute}));return i.length>0?{stream:(n=i[0].value.split(" "))[0],track:n[1]}:void 0},t.generateSessionId=function(){return Math.random().toString().substr(2,21)},t.writeSessionBoilerplate=function(e,n,r){var i=void 0!==n?n:2;return"v=0\r\no="+(r||"thisisadapterortc")+" "+(e||t.generateSessionId())+" "+i+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.writeMediaSection=function(e,n,r,i){var o=t.writeRtpDescription(e.kind,n);if(o+=t.writeIceParameters(e.iceGatherer.getLocalParameters()),o+=t.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===r?"actpass":"active"),o+="a=mid:"+e.mid+"\r\n",e.direction?o+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?o+="a=sendrecv\r\n":e.rtpSender?o+="a=sendonly\r\n":e.rtpReceiver?o+="a=recvonly\r\n":o+="a=inactive\r\n",e.rtpSender){var a="msid:"+i.id+" "+e.rtpSender.track.id+"\r\n";o+="a="+a,o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+a,e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+a,o+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+t.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+t.localCName+"\r\n"),o},t.getDirection=function(e,n){for(var r=t.splitLines(e),i=0;i<r.length;i++)switch(r[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[i].substr(2)}return n?t.getDirection(n):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substr(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){var n=t.splitLines(e)[0].substr(2).split(" ");return{kind:n[0],port:parseInt(n[1],10),protocol:n[2],fmt:n.slice(3).join(" ")}},t.parseOLine=function(e){var n=t.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:n[0],sessionId:n[1],sessionVersion:parseInt(n[2],10),netType:n[3],addressType:n[4],address:n[5]}},t.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;for(var n=t.splitLines(e),r=0;r<n.length;r++)if(n[r].length<2||"="!==n[r].charAt(1))return!1;return!0},e.exports=t}(cR);var uR=cR.exports;function lR(e,t,n,r,i){var o=uR.writeRtpDescription(e.kind,t);if(o+=uR.writeIceParameters(e.iceGatherer.getLocalParameters()),o+=uR.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":i||"active"),o+="a=mid:"+e.mid+"\r\n",e.rtpSender&&e.rtpReceiver?o+="a=sendrecv\r\n":e.rtpSender?o+="a=sendonly\r\n":e.rtpReceiver?o+="a=recvonly\r\n":o+="a=inactive\r\n",e.rtpSender){var a=e.rtpSender._initialTrackId||e.rtpSender.track.id;e.rtpSender._initialTrackId=a;var s="msid:"+(r?r.id:"-")+" "+a+"\r\n";o+="a="+s,o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+s,e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+s,o+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+uR.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+uR.localCName+"\r\n"),o}function dR(e,t){var n={codecs:[],headerExtensions:[],fecMechanisms:[]},r=function(e,t){e=parseInt(e,10);for(var n=0;n<t.length;n++)if(t[n].payloadType===e||t[n].preferredPayloadType===e)return t[n]},i=function(e,t,n,i){var o=r(e.parameters.apt,n),a=r(t.parameters.apt,i);return o&&a&&o.name.toLowerCase()===a.name.toLowerCase()};return e.codecs.forEach((function(r){for(var o=0;o<t.codecs.length;o++){var a=t.codecs[o];if(r.name.toLowerCase()===a.name.toLowerCase()&&r.clockRate===a.clockRate){if("rtx"===r.name.toLowerCase()&&r.parameters&&a.parameters.apt&&!i(r,a,e.codecs,t.codecs))continue;(a=JSON.parse(JSON.stringify(a))).numChannels=Math.min(r.numChannels,a.numChannels),n.codecs.push(a),a.rtcpFeedback=a.rtcpFeedback.filter((function(e){for(var t=0;t<r.rtcpFeedback.length;t++)if(r.rtcpFeedback[t].type===e.type&&r.rtcpFeedback[t].parameter===e.parameter)return!0;return!1}));break}}})),e.headerExtensions.forEach((function(e){for(var r=0;r<t.headerExtensions.length;r++){var i=t.headerExtensions[r];if(e.uri===i.uri){n.headerExtensions.push(i);break}}})),n}function hR(e,t,n){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(n)}function pR(e,t){var n=e.getRemoteCandidates().find((function(e){return t.foundation===e.foundation&&t.ip===e.ip&&t.port===e.port&&t.priority===e.priority&&t.protocol===e.protocol&&t.type===e.type}));return n||e.addRemoteCandidate(t),!n}function fR(e,t){var n=new Error(t);return n.name=e,n.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],n}function AR(e){const t=e&&e.navigator,n=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return n(e).catch((e=>LC.reject(function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString(){return this.name}}}(e))))}}function gR(e){"getDisplayMedia"in e.navigator&&e.navigator.mediaDevices&&(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=e.navigator.getDisplayMedia.bind(e.navigator)))}function mR(e,t){if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(e){return e}),e.RTCSessionDescription||(e.RTCSessionDescription=function(e){return e}),t.version<15025)){const t=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set(e){t.set.call(this,e);const n=new Event("enabled");n.enabled=e,this.dispatchEvent(n)}})}e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)&&Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new e.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);const n=function(e,t){function n(t,n){n.addTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("addtrack",{track:t}))}function r(t,n,r,i){var o=new Event("track");o.track=n,o.receiver=r,o.transceiver={receiver:r},o.streams=i,e.setTimeout((function(){t._dispatchEvent("track",o)}))}var i=function(n){var r=this,i=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach((function(e){r[e]=i[e].bind(i)})),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",n=JSON.parse(JSON.stringify(n||{})),this.usingBundle="max-bundle"===n.bundlePolicy,"negotiate"===n.rtcpMuxPolicy)throw fR("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(n.rtcpMuxPolicy||(n.rtcpMuxPolicy="require"),n.iceTransportPolicy){case"all":case"relay":break;default:n.iceTransportPolicy="all"}switch(n.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:n.bundlePolicy="balanced"}if(n.iceServers=function(e,t){var n=!1;return(e=JSON.parse(JSON.stringify(e))).filter((function(e){if(e&&(e.urls||e.url)){var r=e.urls||e.url;e.url&&!e.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var i="string"==typeof r;return i&&(r=[r]),r=r.filter((function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||n?0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp"):(n=!0,!0)})),delete e.url,e.urls=i?r[0]:r,!!r.length}}))}(n.iceServers||[],t),this._iceGatherers=[],n.iceCandidatePoolSize)for(var o=n.iceCandidatePoolSize;o>0;o--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:n.iceServers,gatherPolicy:n.iceTransportPolicy}));else n.iceCandidatePoolSize=0;this._config=n,this.transceivers=[],this._sdpSessionId=uR.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(i.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(i.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),i.prototype.onicecandidate=null,i.prototype.onaddstream=null,i.prototype.ontrack=null,i.prototype.onremovestream=null,i.prototype.onsignalingstatechange=null,i.prototype.oniceconnectionstatechange=null,i.prototype.onconnectionstatechange=null,i.prototype.onicegatheringstatechange=null,i.prototype.onnegotiationneeded=null,i.prototype.ondatachannel=null,i.prototype._dispatchEvent=function(e,t){this._isClosed||(this.dispatchEvent(t),"function"==typeof this["on"+e]&&this["on"+e](t))},i.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",e)},i.prototype.getConfiguration=function(){return this._config},i.prototype.getLocalStreams=function(){return this.localStreams},i.prototype.getRemoteStreams=function(){return this.remoteStreams},i.prototype._createTransceiver=function(e,t){var n=this.transceivers.length>0,r={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&n)r.iceTransport=this.transceivers[0].iceTransport,r.dtlsTransport=this.transceivers[0].dtlsTransport;else{var i=this._createIceAndDtlsTransports();r.iceTransport=i.iceTransport,r.dtlsTransport=i.dtlsTransport}return t||this.transceivers.push(r),r},i.prototype.addTrack=function(t,n){if(this._isClosed)throw fR("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var r;if(this.transceivers.find((function(e){return e.track===t})))throw fR("InvalidAccessError","Track already exists.");for(var i=0;i<this.transceivers.length;i++)this.transceivers[i].track||this.transceivers[i].kind!==t.kind||(r=this.transceivers[i]);return r||(r=this._createTransceiver(t.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(n)&&this.localStreams.push(n),r.track=t,r.stream=n,r.rtpSender=new e.RTCRtpSender(t,r.dtlsTransport),r.rtpSender},i.prototype.addStream=function(e){var n=this;if(t>=15025)e.getTracks().forEach((function(t){n.addTrack(t,e)}));else{var r=e.clone();e.getTracks().forEach((function(e,t){var n=r.getTracks()[t];e.addEventListener("enabled",(function(e){n.enabled=e.enabled}))})),r.getTracks().forEach((function(e){n.addTrack(e,r)}))}},i.prototype.removeTrack=function(t){if(this._isClosed)throw fR("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(t instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var n=this.transceivers.find((function(e){return e.rtpSender===t}));if(!n)throw fR("InvalidAccessError","Sender was not created by this connection.");var r=n.stream;n.rtpSender.stop(),n.rtpSender=null,n.track=null,n.stream=null,-1===this.transceivers.map((function(e){return e.stream})).indexOf(r)&&this.localStreams.indexOf(r)>-1&&this.localStreams.splice(this.localStreams.indexOf(r),1),this._maybeFireNegotiationNeeded()},i.prototype.removeStream=function(e){var t=this;e.getTracks().forEach((function(e){var n=t.getSenders().find((function(t){return t.track===e}));n&&t.removeTrack(n)}))},i.prototype.getSenders=function(){return this.transceivers.filter((function(e){return!!e.rtpSender})).map((function(e){return e.rtpSender}))},i.prototype.getReceivers=function(){return this.transceivers.filter((function(e){return!!e.rtpReceiver})).map((function(e){return e.rtpReceiver}))},i.prototype._createIceGatherer=function(t,n){var r=this;if(n&&t>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var i=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(i,"state",{value:"new",writable:!0}),this.transceivers[t].bufferedCandidateEvents=[],this.transceivers[t].bufferCandidates=function(e){var n=!e.candidate||0===Object.keys(e.candidate).length;i.state=n?"completed":"gathering",null!==r.transceivers[t].bufferedCandidateEvents&&r.transceivers[t].bufferedCandidateEvents.push(e)},i.addEventListener("localcandidate",this.transceivers[t].bufferCandidates),i},i.prototype._gather=function(t,n){var r=this,i=this.transceivers[n].iceGatherer;if(!i.onlocalcandidate){var o=this.transceivers[n].bufferedCandidateEvents;this.transceivers[n].bufferedCandidateEvents=null,i.removeEventListener("localcandidate",this.transceivers[n].bufferCandidates),i.onlocalcandidate=function(e){if(!(r.usingBundle&&n>0)){var o=new Event("icecandidate");o.candidate={sdpMid:t,sdpMLineIndex:n};var a=e.candidate,s=!a||0===Object.keys(a).length;if(s)"new"!==i.state&&"gathering"!==i.state||(i.state="completed");else{"new"===i.state&&(i.state="gathering"),a.component=1,a.ufrag=i.getLocalParameters().usernameFragment;var c=uR.writeCandidate(a);o.candidate=Object.assign(o.candidate,uR.parseCandidate(c)),o.candidate.candidate=c,o.candidate.toJSON=function(){return{candidate:o.candidate.candidate,sdpMid:o.candidate.sdpMid,sdpMLineIndex:o.candidate.sdpMLineIndex,usernameFragment:o.candidate.usernameFragment}}}var u=uR.getMediaSections(r._localDescription.sdp);u[o.candidate.sdpMLineIndex]+=s?"a=end-of-candidates\r\n":"a="+o.candidate.candidate+"\r\n",r._localDescription.sdp=uR.getDescription(r._localDescription.sdp)+u.join("");var l=r.transceivers.every((function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state}));"gathering"!==r.iceGatheringState&&(r.iceGatheringState="gathering",r._emitGatheringStateChange()),s||r._dispatchEvent("icecandidate",o),l&&(r._dispatchEvent("icecandidate",new Event("icecandidate")),r.iceGatheringState="complete",r._emitGatheringStateChange())}},e.setTimeout((function(){o.forEach((function(e){i.onlocalcandidate(e)}))}),0)}},i.prototype._createIceAndDtlsTransports=function(){var t=this,n=new e.RTCIceTransport(null);n.onicestatechange=function(){t._updateIceConnectionState(),t._updateConnectionState()};var r=new e.RTCDtlsTransport(n);return r.ondtlsstatechange=function(){t._updateConnectionState()},r.onerror=function(){Object.defineProperty(r,"state",{value:"failed",writable:!0}),t._updateConnectionState()},{iceTransport:n,dtlsTransport:r}},i.prototype._disposeIceAndDtlsTransports=function(e){var t=this.transceivers[e].iceGatherer;t&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer);var n=this.transceivers[e].iceTransport;n&&(delete n.onicestatechange,delete this.transceivers[e].iceTransport);var r=this.transceivers[e].dtlsTransport;r&&(delete r.ondtlsstatechange,delete r.onerror,delete this.transceivers[e].dtlsTransport)},i.prototype._transceive=function(e,n,r){var i=dR(e.localCapabilities,e.remoteCapabilities);n&&e.rtpSender&&(i.encodings=e.sendEncodingParameters,i.rtcp={cname:uR.localCName,compound:e.rtcpParameters.compound},e.recvEncodingParameters.length&&(i.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(i)),r&&e.rtpReceiver&&i.codecs.length>0&&("video"===e.kind&&e.recvEncodingParameters&&t<15019&&e.recvEncodingParameters.forEach((function(e){delete e.rtx})),e.recvEncodingParameters.length?i.encodings=e.recvEncodingParameters:i.encodings=[{}],i.rtcp={compound:e.rtcpParameters.compound},e.rtcpParameters.cname&&(i.rtcp.cname=e.rtcpParameters.cname),e.sendEncodingParameters.length&&(i.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(i))},i.prototype.setLocalDescription=function(e){var t,n,r=this;if(-1===["offer","answer"].indexOf(e.type))return Promise.reject(fR("TypeError",'Unsupported type "'+e.type+'"'));if(!hR("setLocalDescription",e.type,r.signalingState)||r._isClosed)return Promise.reject(fR("InvalidStateError","Can not set local "+e.type+" in state "+r.signalingState));if("offer"===e.type)t=uR.splitSections(e.sdp),n=t.shift(),t.forEach((function(e,t){var n=uR.parseRtpParameters(e);r.transceivers[t].localCapabilities=n})),r.transceivers.forEach((function(e,t){r._gather(e.mid,t)}));else if("answer"===e.type){t=uR.splitSections(r._remoteDescription.sdp),n=t.shift();var i=uR.matchPrefix(n,"a=ice-lite").length>0;t.forEach((function(e,t){var o=r.transceivers[t],a=o.iceGatherer,s=o.iceTransport,c=o.dtlsTransport,u=o.localCapabilities,l=o.remoteCapabilities;if(!(uR.isRejected(e)&&0===uR.matchPrefix(e,"a=bundle-only").length||o.rejected)){var d=uR.getIceParameters(e,n),h=uR.getDtlsParameters(e,n);i&&(h.role="server"),r.usingBundle&&0!==t||(r._gather(o.mid,t),"new"===s.state&&s.start(a,d,i?"controlling":"controlled"),"new"===c.state&&c.start(h));var p=dR(u,l);r._transceive(o,p.codecs.length>0,!1)}}))}return r._localDescription={type:e.type,sdp:e.sdp},"offer"===e.type?r._updateSignalingState("have-local-offer"):r._updateSignalingState("stable"),Promise.resolve()},i.prototype.setRemoteDescription=function(i){var o=this;if(-1===["offer","answer"].indexOf(i.type))return Promise.reject(fR("TypeError",'Unsupported type "'+i.type+'"'));if(!hR("setRemoteDescription",i.type,o.signalingState)||o._isClosed)return Promise.reject(fR("InvalidStateError","Can not set remote "+i.type+" in state "+o.signalingState));var a={};o.remoteStreams.forEach((function(e){a[e.id]=e}));var s=[],c=uR.splitSections(i.sdp),u=c.shift(),l=uR.matchPrefix(u,"a=ice-lite").length>0,d=uR.matchPrefix(u,"a=group:BUNDLE ").length>0;o.usingBundle=d;var h=uR.matchPrefix(u,"a=ice-options:")[0];return o.canTrickleIceCandidates=!!h&&h.substr(14).split(" ").indexOf("trickle")>=0,c.forEach((function(r,c){var h=uR.splitLines(r),p=uR.getKind(r),f=uR.isRejected(r)&&0===uR.matchPrefix(r,"a=bundle-only").length,A=h[0].substr(2).split(" ")[2],g=uR.getDirection(r,u),m=uR.parseMsid(r),v=uR.getMid(r)||uR.generateIdentifier();if(f||"application"===p&&("DTLS/SCTP"===A||"UDP/DTLS/SCTP"===A))o.transceivers[c]={mid:v,kind:p,protocol:A,rejected:!0};else{var y,E,b,_,C,I,S,w,R;!f&&o.transceivers[c]&&o.transceivers[c].rejected&&(o.transceivers[c]=o._createTransceiver(p,!0));var T,O,k=uR.parseRtpParameters(r);f||(T=uR.getIceParameters(r,u),(O=uR.getDtlsParameters(r,u)).role="client"),S=uR.parseRtpEncodingParameters(r);var N=uR.parseRtcpParameters(r),D=uR.matchPrefix(r,"a=end-of-candidates",u).length>0,P=uR.matchPrefix(r,"a=candidate:").map((function(e){return uR.parseCandidate(e)})).filter((function(e){return 1===e.component}));if(("offer"===i.type||"answer"===i.type)&&!f&&d&&c>0&&o.transceivers[c]&&(o._disposeIceAndDtlsTransports(c),o.transceivers[c].iceGatherer=o.transceivers[0].iceGatherer,o.transceivers[c].iceTransport=o.transceivers[0].iceTransport,o.transceivers[c].dtlsTransport=o.transceivers[0].dtlsTransport,o.transceivers[c].rtpSender&&o.transceivers[c].rtpSender.setTransport(o.transceivers[0].dtlsTransport),o.transceivers[c].rtpReceiver&&o.transceivers[c].rtpReceiver.setTransport(o.transceivers[0].dtlsTransport)),"offer"!==i.type||f)"answer"!==i.type||f||(E=(y=o.transceivers[c]).iceGatherer,b=y.iceTransport,_=y.dtlsTransport,C=y.rtpReceiver,I=y.sendEncodingParameters,w=y.localCapabilities,o.transceivers[c].recvEncodingParameters=S,o.transceivers[c].remoteCapabilities=k,o.transceivers[c].rtcpParameters=N,P.length&&"new"===b.state&&(!l&&!D||d&&0!==c?P.forEach((function(e){pR(y.iceTransport,e)})):b.setRemoteCandidates(P)),d&&0!==c||("new"===b.state&&b.start(E,T,"controlling"),"new"===_.state&&_.start(O)),!dR(y.localCapabilities,y.remoteCapabilities).codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&y.sendEncodingParameters[0].rtx&&delete y.sendEncodingParameters[0].rtx,o._transceive(y,"sendrecv"===g||"recvonly"===g,"sendrecv"===g||"sendonly"===g),!C||"sendrecv"!==g&&"sendonly"!==g?delete y.rtpReceiver:(R=C.track,m?(a[m.stream]||(a[m.stream]=new e.MediaStream),n(R,a[m.stream]),s.push([R,C,a[m.stream]])):(a.default||(a.default=new e.MediaStream),n(R,a.default),s.push([R,C,a.default]))));else{(y=o.transceivers[c]||o._createTransceiver(p)).mid=v,y.iceGatherer||(y.iceGatherer=o._createIceGatherer(c,d)),P.length&&"new"===y.iceTransport.state&&(!D||d&&0!==c?P.forEach((function(e){pR(y.iceTransport,e)})):y.iceTransport.setRemoteCandidates(P)),w=e.RTCRtpReceiver.getCapabilities(p),t<15019&&(w.codecs=w.codecs.filter((function(e){return"rtx"!==e.name}))),I=y.sendEncodingParameters||[{ssrc:1001*(2*c+2)}];var x,L=!1;"sendrecv"===g||"sendonly"===g?(L=!y.rtpReceiver,C=y.rtpReceiver||new e.RTCRtpReceiver(y.dtlsTransport,p),L&&(R=C.track,m&&"-"===m.stream||(m?(a[m.stream]||(a[m.stream]=new e.MediaStream,Object.defineProperty(a[m.stream],"id",{get:function(){return m.stream}})),Object.defineProperty(R,"id",{get:function(){return m.track}}),x=a[m.stream]):(a.default||(a.default=new e.MediaStream),x=a.default)),x&&(n(R,x),y.associatedRemoteMediaStreams.push(x)),s.push([R,C,x]))):y.rtpReceiver&&y.rtpReceiver.track&&(y.associatedRemoteMediaStreams.forEach((function(t){var n=t.getTracks().find((function(e){return e.id===y.rtpReceiver.track.id}));n&&function(t,n){n.removeTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("removetrack",{track:t}))}(n,t)})),y.associatedRemoteMediaStreams=[]),y.localCapabilities=w,y.remoteCapabilities=k,y.rtpReceiver=C,y.rtcpParameters=N,y.sendEncodingParameters=I,y.recvEncodingParameters=S,o._transceive(o.transceivers[c],!1,L)}}})),void 0===o._dtlsRole&&(o._dtlsRole="offer"===i.type?"active":"passive"),o._remoteDescription={type:i.type,sdp:i.sdp},"offer"===i.type?o._updateSignalingState("have-remote-offer"):o._updateSignalingState("stable"),Object.keys(a).forEach((function(t){var n=a[t];if(n.getTracks().length){if(-1===o.remoteStreams.indexOf(n)){o.remoteStreams.push(n);var i=new Event("addstream");i.stream=n,e.setTimeout((function(){o._dispatchEvent("addstream",i)}))}s.forEach((function(e){var t=e[0],i=e[1];n.id===e[2].id&&r(o,t,i,[n])}))}})),s.forEach((function(e){e[2]||r(o,e[0],e[1],[])})),e.setTimeout((function(){o&&o.transceivers&&o.transceivers.forEach((function(e){e.iceTransport&&"new"===e.iceTransport.state&&e.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),e.iceTransport.addRemoteCandidate({}))}))}),4e3),Promise.resolve()},i.prototype.close=function(){this.transceivers.forEach((function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()})),this._isClosed=!0,this._updateSignalingState("closed")},i.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",t)},i.prototype._maybeFireNegotiationNeeded=function(){var t=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,e.setTimeout((function(){if(t.needNegotiation){t.needNegotiation=!1;var e=new Event("negotiationneeded");t._dispatchEvent("negotiationneeded",e)}}),0))},i.prototype._updateIceConnectionState=function(){var e,t={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&!e.rejected&&t[e.iceTransport.state]++})),e="new",t.failed>0?e="failed":t.checking>0?e="checking":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0?e="connected":t.completed>0&&(e="completed"),e!==this.iceConnectionState){this.iceConnectionState=e;var n=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",n)}},i.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach((function(e){e.iceTransport&&e.dtlsTransport&&!e.rejected&&(t[e.iceTransport.state]++,t[e.dtlsTransport.state]++)})),t.connected+=t.completed,e="new",t.failed>0?e="failed":t.connecting>0?e="connecting":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0&&(e="connected"),e!==this.connectionState){this.connectionState=e;var n=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",n)}},i.prototype.createOffer=function(){var n=this;if(n._isClosed)return Promise.reject(fR("InvalidStateError","Can not call createOffer after close"));var r=n.transceivers.filter((function(e){return"audio"===e.kind})).length,i=n.transceivers.filter((function(e){return"video"===e.kind})).length,o=arguments[0];if(o){if(o.mandatory||o.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==o.offerToReceiveAudio&&(r=!0===o.offerToReceiveAudio?1:!1===o.offerToReceiveAudio?0:o.offerToReceiveAudio),void 0!==o.offerToReceiveVideo&&(i=!0===o.offerToReceiveVideo?1:!1===o.offerToReceiveVideo?0:o.offerToReceiveVideo)}for(n.transceivers.forEach((function(e){"audio"===e.kind?--r<0&&(e.wantReceive=!1):"video"===e.kind&&--i<0&&(e.wantReceive=!1)}));r>0||i>0;)r>0&&(n._createTransceiver("audio"),r--),i>0&&(n._createTransceiver("video"),i--);var a=uR.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.transceivers.forEach((function(r,i){var o=r.track,a=r.kind,s=r.mid||uR.generateIdentifier();r.mid=s,r.iceGatherer||(r.iceGatherer=n._createIceGatherer(i,n.usingBundle));var c=e.RTCRtpSender.getCapabilities(a);t<15019&&(c.codecs=c.codecs.filter((function(e){return"rtx"!==e.name}))),c.codecs.forEach((function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1"),r.remoteCapabilities&&r.remoteCapabilities.codecs&&r.remoteCapabilities.codecs.forEach((function(t){e.name.toLowerCase()===t.name.toLowerCase()&&e.clockRate===t.clockRate&&(e.preferredPayloadType=t.payloadType)}))})),c.headerExtensions.forEach((function(e){(r.remoteCapabilities&&r.remoteCapabilities.headerExtensions||[]).forEach((function(t){e.uri===t.uri&&(e.id=t.id)}))}));var u=r.sendEncodingParameters||[{ssrc:1001*(2*i+1)}];o&&t>=15019&&"video"===a&&!u[0].rtx&&(u[0].rtx={ssrc:u[0].ssrc+1}),r.wantReceive&&(r.rtpReceiver=new e.RTCRtpReceiver(r.dtlsTransport,a)),r.localCapabilities=c,r.sendEncodingParameters=u})),"max-compat"!==n._config.bundlePolicy&&(a+="a=group:BUNDLE "+n.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),a+="a=ice-options:trickle\r\n",n.transceivers.forEach((function(e,t){a+=lR(e,e.localCapabilities,"offer",e.stream,n._dtlsRole),a+="a=rtcp-rsize\r\n",!e.iceGatherer||"new"===n.iceGatheringState||0!==t&&n.usingBundle||(e.iceGatherer.getLocalCandidates().forEach((function(e){e.component=1,a+="a="+uR.writeCandidate(e)+"\r\n"})),"completed"===e.iceGatherer.state&&(a+="a=end-of-candidates\r\n"))}));var s=new e.RTCSessionDescription({type:"offer",sdp:a});return Promise.resolve(s)},i.prototype.createAnswer=function(){var n=this;if(n._isClosed)return Promise.reject(fR("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==n.signalingState&&"have-local-pranswer"!==n.signalingState)return Promise.reject(fR("InvalidStateError","Can not call createAnswer in signalingState "+n.signalingState));var r=uR.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.usingBundle&&(r+="a=group:BUNDLE "+n.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),r+="a=ice-options:trickle\r\n";var i=uR.getMediaSections(n._remoteDescription.sdp).length;n.transceivers.forEach((function(e,o){if(!(o+1>i)){if(e.rejected)return"application"===e.kind?"DTLS/SCTP"===e.protocol?r+="m=application 0 DTLS/SCTP 5000\r\n":r+="m=application 0 "+e.protocol+" webrtc-datachannel\r\n":"audio"===e.kind?r+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===e.kind&&(r+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(r+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+e.mid+"\r\n");var a;e.stream&&("audio"===e.kind?a=e.stream.getAudioTracks()[0]:"video"===e.kind&&(a=e.stream.getVideoTracks()[0]),a&&t>=15019&&"video"===e.kind&&!e.sendEncodingParameters[0].rtx&&(e.sendEncodingParameters[0].rtx={ssrc:e.sendEncodingParameters[0].ssrc+1}));var s=dR(e.localCapabilities,e.remoteCapabilities);!s.codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,r+=lR(e,s,"answer",e.stream,n._dtlsRole),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(r+="a=rtcp-rsize\r\n")}}));var o=new e.RTCSessionDescription({type:"answer",sdp:r});return Promise.resolve(o)},i.prototype.addIceCandidate=function(e){var t,n=this;return e&&void 0===e.sdpMLineIndex&&!e.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise((function(r,i){if(!n._remoteDescription)return i(fR("InvalidStateError","Can not add ICE candidate without a remote description"));if(e&&""!==e.candidate){var o=e.sdpMLineIndex;if(e.sdpMid)for(var a=0;a<n.transceivers.length;a++)if(n.transceivers[a].mid===e.sdpMid){o=a;break}var s=n.transceivers[o];if(!s)return i(fR("OperationError","Can not add ICE candidate"));if(s.rejected)return r();var c=Object.keys(e.candidate).length>0?uR.parseCandidate(e.candidate):{};if("tcp"===c.protocol&&(0===c.port||9===c.port))return r();if(c.component&&1!==c.component)return r();if((0===o||o>0&&s.iceTransport!==n.transceivers[0].iceTransport)&&!pR(s.iceTransport,c))return i(fR("OperationError","Can not add ICE candidate"));var u=e.candidate.trim();0===u.indexOf("a=")&&(u=u.substr(2)),(t=uR.getMediaSections(n._remoteDescription.sdp))[o]+="a="+(c.type?u:"end-of-candidates")+"\r\n",n._remoteDescription.sdp=uR.getDescription(n._remoteDescription.sdp)+t.join("")}else for(var l=0;l<n.transceivers.length&&(n.transceivers[l].rejected||(n.transceivers[l].iceTransport.addRemoteCandidate({}),(t=uR.getMediaSections(n._remoteDescription.sdp))[l]+="a=end-of-candidates\r\n",n._remoteDescription.sdp=uR.getDescription(n._remoteDescription.sdp)+t.join(""),!n.usingBundle));l++);r()}))},i.prototype.getStats=function(t){if(t&&t instanceof e.MediaStreamTrack){var n=null;if(this.transceivers.forEach((function(e){e.rtpSender&&e.rtpSender.track===t?n=e.rtpSender:e.rtpReceiver&&e.rtpReceiver.track===t&&(n=e.rtpReceiver)})),!n)throw fR("InvalidAccessError","Invalid selector.");return n.getStats()}var r=[];return this.transceivers.forEach((function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach((function(t){e[t]&&r.push(e[t].getStats())}))})),Promise.all(r).then((function(e){var t=new Map;return e.forEach((function(e){e.forEach((function(e){t.set(e.id,e)}))})),t}))},["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach((function(t){var n=e[t];if(n&&n.prototype&&n.prototype.getStats){var r=n.prototype.getStats;n.prototype.getStats=function(){return r.apply(this).then((function(e){var t=new Map;return Object.keys(e).forEach((function(n){var r;e[n].type={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[(r=e[n]).type]||r.type,t.set(n,e[n])})),t}))}}}));var o=["createOffer","createAnswer"];return o.forEach((function(e){var t=i.prototype[e];i.prototype[e]=function(){var e=arguments;return"function"==typeof e[0]||"function"==typeof e[1]?t.apply(this,[arguments[2]]).then((function(t){"function"==typeof e[0]&&e[0].apply(null,[t])}),(function(t){"function"==typeof e[1]&&e[1].apply(null,[t])})):t.apply(this,arguments)}})),(o=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach((function(e){var t=i.prototype[e];i.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]||"function"==typeof e[2]?t.apply(this,arguments).then((function(){"function"==typeof e[1]&&e[1].apply(null)}),(function(t){"function"==typeof e[2]&&e[2].apply(null,[t])})):t.apply(this,arguments)}})),["getStats"].forEach((function(e){var t=i.prototype[e];i.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]?t.apply(this,arguments).then((function(){"function"==typeof e[1]&&e[1].apply(null)})):t.apply(this,arguments)}})),i}(e,t.version);e.RTCPeerConnection=function(e){return e&&e.iceServers&&(e.iceServers=function(e,t){let n=!1;return(e=JSON.parse(JSON.stringify(e))).filter((e=>{if(e&&(e.urls||e.url)){let t=e.urls||e.url;e.url&&!e.urls&&IA("RTCIceServer.url","RTCIceServer.urls");const r="string"==typeof t;return r&&(t=[t]),t=t.filter((e=>{if(0===e.indexOf("stun:"))return!1;const t=e.startsWith("turn")&&!e.startsWith("turn:[")&&e.includes("transport=udp");return t&&!n?(n=!0,!0):t&&!n})),delete e.url,e.urls=r?t[0]:t,!!t.length}}))}(e.iceServers,t.version),CA("ICE servers after filtering:",e.iceServers)),new n(e)},e.RTCPeerConnection.prototype=n.prototype}function vR(e){e.RTCRtpSender&&!("replaceTrack"in e.RTCRtpSender.prototype)&&(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)}var yR=Object.freeze({__proto__:null,shimPeerConnection:mR,shimReplaceTrack:vR,shimGetUserMedia:AR,shimGetDisplayMedia:gR}),ER=Vr,bR=Qr,_R=o,CR=H,IR=U,SR=Po,wR=za,RR=Qt.exports;if(ER({target:"Promise",proto:!0,real:!0,forced:!!bR&&_R((function(){bR.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=SR(this,CR("Promise")),n=IR(e);return this.then(n?function(n){return wR(t,e()).then((function(){return n}))}:e,n?function(n){return wR(t,e()).then((function(){throw n}))}:e)}}),IR(bR)){var TR=CR("Promise").prototype.finally;bR.prototype.finally!==TR&&RR(bR.prototype,"finally",TR,{unsafe:!0})}function OR(e,t){const n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(e,t,r){IA("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(e).then(t,r)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const e=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},t=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(n){return"object"==typeof n&&"object"==typeof n.audio&&(n=JSON.parse(JSON.stringify(n)),e(n.audio,"autoGainControl","mozAutoGainControl"),e(n.audio,"noiseSuppression","mozNoiseSuppression")),t(n)},r&&r.prototype.getSettings){const t=r.prototype.getSettings;r.prototype.getSettings=function(){const n=t.apply(this,arguments);return e(n,"mozAutoGainControl","autoGainControl"),e(n,"mozNoiseSuppression","noiseSuppression"),n}}if(r&&r.prototype.applyConstraints){const t=r.prototype.applyConstraints;r.prototype.applyConstraints=function(n){return"audio"===this.kind&&"object"==typeof n&&(n=JSON.parse(JSON.stringify(n)),e(n,"autoGainControl","mozAutoGainControl"),e(n,"noiseSuppression","mozNoiseSuppression")),t.apply(this,[n])}}}}function kR(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function NR(e,t){if("object"!=typeof e||!e.RTCPeerConnection&&!e.mozRTCPeerConnection)return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],r={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=r[t]}));const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,i,o]=arguments;return r.apply(this,[e||null]).then((e=>{if(t.version<53&&!i)try{e.forEach((e=>{e.type=n[e.type]||e.type}))}catch(t){if("TypeError"!==t.name)throw t;e.forEach(((t,r)=>{e.set(r,Object.assign({},t,{type:n[t.type]||t.type}))}))}return e})).then(i,o)}}function DR(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):LC.resolve(new Map)}}function PR(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e}),EA(e,"track",(e=>(e.receiver._pc=e.srcElement,e))),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function xR(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){IA("removeStream","removeTrack"),this.getSenders().forEach((t=>{t.track&&e.getTracks().includes(t.track)&&this.removeTrack(t)}))})}function LR(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function MR(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];const e=arguments[1],n=e&&"sendEncodings"in e;n&&e.sendEncodings.forEach((e=>{if("rid"in e&&!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")}));const r=t.apply(this,arguments);if(n){const{sender:t}=r,n=t.getParameters();(!("encodings"in n)||1===n.encodings.length&&0===Object.keys(n.encodings[0]).length)&&(n.encodings=e.sendEncodings,t.sendEncodings=e.sendEncodings,this.setParametersPromises.push(t.setParameters(n).then((()=>{delete t.sendEncodings})).catch((()=>{delete t.sendEncodings}))))}return r})}function BR(e){if("object"!=typeof e||!e.RTCRtpSender)return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}function FR(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?LC.all(this.setParametersPromises).then((()=>t.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):t.apply(this,arguments)}}function UR(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?LC.all(this.setParametersPromises).then((()=>t.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):t.apply(this,arguments)}}var jR=Object.freeze({__proto__:null,shimOnTrack:kR,shimPeerConnection:NR,shimSenderGetStats:DR,shimReceiverGetStats:PR,shimRemoveStream:xR,shimRTCDataChannel:LR,shimAddTransceiver:MR,shimGetParameters:BR,shimCreateOffer:FR,shimCreateAnswer:UR,shimGetUserMedia:OR,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){const e=new DOMException("getDisplayMedia without video constraints is undefined");return e.name="NotFoundError",e.code=8,LC.reject(e)}return!0===n.video?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)})}});function VR(e){if("object"==typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach((n=>t.call(this,n,e))),e.getVideoTracks().forEach((n=>t.call(this,n,e)))},e.RTCPeerConnection.prototype.addTrack=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r&&r.forEach((e=>{this._localStreams?this._localStreams.includes(e)||this._localStreams.push(e):this._localStreams=[e]})),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);const t=this._localStreams.indexOf(e);if(-1===t)return;this._localStreams.splice(t,1);const n=e.getTracks();this.getSenders().forEach((e=>{n.includes(e.track)&&this.removeTrack(e)}))})}}function QR(e){if("object"==typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(e){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=e=>{e.streams.forEach((e=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(e))return;this._remoteStreams.push(e);const t=new Event("addstream");t.stream=e,this.dispatchEvent(t)}))})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((t=>{if(e._remoteStreams||(e._remoteStreams=[]),e._remoteStreams.indexOf(t)>=0)return;e._remoteStreams.push(t);const n=new Event("addstream");n.stream=t,e.dispatchEvent(n)}))}),t.apply(e,arguments)}}}function GR(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,i=t.setLocalDescription,o=t.setRemoteDescription,a=t.addIceCandidate;t.createOffer=function(e,t){const r=arguments.length>=2?arguments[2]:arguments[0],i=n.apply(this,[r]);return t?(i.then(e,t),LC.resolve()):i},t.createAnswer=function(e,t){const n=arguments.length>=2?arguments[2]:arguments[0],i=r.apply(this,[n]);return t?(i.then(e,t),LC.resolve()):i};let s=function(e,t,n){const r=i.apply(this,[e]);return n?(r.then(t,n),LC.resolve()):r};t.setLocalDescription=s,s=function(e,t,n){const r=o.apply(this,[e]);return n?(r.then(t,n),LC.resolve()):r},t.setRemoteDescription=s,s=function(e,t,n){const r=a.apply(this,[e]);return n?(r.then(t,n),LC.resolve()):r},t.addIceCandidate=s}function qR(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const e=t.mediaDevices,n=e.getUserMedia.bind(e);t.mediaDevices.getUserMedia=e=>n(HR(e))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,r){t.mediaDevices.getUserMedia(e).then(n,r)}.bind(t))}function HR(e){return e&&void 0!==e.video?Object.assign({},e,{video:RA(e.video)}):e}function zR(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){const t=[];for(let n=0;n<e.iceServers.length;n++){let r=e.iceServers[n];!r.hasOwnProperty("urls")&&r.hasOwnProperty("url")?(IA("RTCIceServer.url","RTCIceServer.urls"),r=JSON.parse(JSON.stringify(r)),r.urls=r.url,delete r.url,t.push(r)):t.push(e.iceServers[n])}e.iceServers=t}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:()=>t.generateCertificate})}function WR(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function KR(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);const t=this.getTransceivers().find((e=>"audio"===e.receiver.track.kind));!1===e.offerToReceiveAudio&&t?"sendrecv"===t.direction?t.setDirection?t.setDirection("sendonly"):t.direction="sendonly":"recvonly"===t.direction&&(t.setDirection?t.setDirection("inactive"):t.direction="inactive"):!0!==e.offerToReceiveAudio||t||this.addTransceiver("audio"),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);const n=this.getTransceivers().find((e=>"video"===e.receiver.track.kind));!1===e.offerToReceiveVideo&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveVideo||n||this.addTransceiver("video")}return t.apply(this,arguments)}}function YR(e){"object"!=typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var JR=Object.freeze({__proto__:null,shimLocalStreamsAPI:VR,shimRemoteStreamsAPI:QR,shimCallbacksAPI:GR,shimGetUserMedia:qR,shimConstraints:HR,shimRTCIceServerUrls:zR,shimTrackEventTransceiver:WR,shimCreateOfferLegacy:KR,shimAudioContext:YR}),ZR=cu,XR=Jm,$R=Oc("".replace),eT="[\t\n\v\f\r \u2028\u2029\ufeff]",tT=RegExp("^"+eT+eT+"*"),nT=RegExp(eT+eT+"*$"),rT=function(e){return function(t){var n=XR(ZR(t));return 1&e&&(n=$R(n,tT,"")),2&e&&(n=$R(n,nT,"")),n}},iT={start:rT(1),end:rT(2),trim:rT(3)},oT=ey.PROPER,aT=_c,sT="\t\n\v\f\r \u2028\u2029\ufeff",cT=iT.trim;Bd({target:"String",proto:!0,forced:function(e){return aT((function(){return!!sT[e]()||""!==""[e]()||oT&&sT[e].name!==e}))}("trim")},{trim:function(){return cT(this)}});var uT=ih("String").trim,lT=kc,dT=uT,hT=String.prototype,pT=function(e){var t=e.trim;return"string"==typeof e||e===hT||lT(hT,e)&&t===hT.trim?dT:t},fT=l;Vr({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return fT(URL.prototype.toString,this)}});var AT={exports:{}};!function(e){var t={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};t.localCName=t.generateIdentifier(),t.splitLines=function(e){return pT(e).call(e).split("\n").map((function(e){return pT(e).call(e)}))},t.splitSections=function(e){return e.split("\nm=").map((function(e,t){var n;return pT(n=t>0?"m="+e:e).call(n)+"\r\n"}))},t.getDescription=function(e){var n=t.splitSections(e);return n&&n[0]},t.getMediaSections=function(e){var n=t.splitSections(e);return n.shift(),n},t.matchPrefix=function(e,n){return t.splitLines(e).filter((function(e){return 0===e.indexOf(n)}))},t.parseCandidate=function(e){for(var t,n={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},r=8;r<t.length;r+=2)switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1];break;case"ufrag":n.ufrag=t[r+1],n.usernameFragment=t[r+1];break;default:n[t[r]]=t[r+1]}return n},t.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substr(14).split(" ")},t.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},t.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},t.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},t.parseFmtp=function(e){for(var t,n={},r=e.substr(e.indexOf(" ")+1).split(";"),i=0;i<r.length;i++){var o,a;t=pT(o=r[i]).call(o).split("="),n[pT(a=t[0]).call(a)]=t[1]}return n},t.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var r=[];Object.keys(e.parameters).forEach((function(t){e.parameters[t]?r.push(t+"="+e.parameters[t]):r.push(t)})),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},t.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},t.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substr(t+1,r-t-1),n.value=e.substr(r+1)):n.attribute=e.substr(t+1),n},t.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((function(e){return parseInt(e,10)}))}},t.getMid=function(e){var n=t.matchPrefix(e,"a=mid:")[0];if(n)return n.substr(6)},t.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},t.getDtlsParameters=function(e,n){return{role:"auto",fingerprints:t.matchPrefix(e+n,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach((function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),n},t.parseCryptoLine=function(e){var t=e.substr(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"==typeof e.keyParams?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;var t=e.substr(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},t.getCryptoParameters=function(e,n){return t.matchPrefix(e+n,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(e,n){var r=t.matchPrefix(e+n,"a=ice-ufrag:")[0],i=t.matchPrefix(e+n,"a=ice-pwd:")[0];return r&&i?{usernameFragment:r.substr(12),password:i.substr(10)}:null},t.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},t.parseRtpParameters=function(e){for(var n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=t.splitLines(e)[0].split(" "),i=3;i<r.length;i++){var o=r[i],a=t.matchPrefix(e,"a=rtpmap:"+o+" ")[0];if(a){var s=t.parseRtpMap(a),c=t.matchPrefix(e,"a=fmtp:"+o+" ");switch(s.parameters=c.length?t.parseFmtp(c[0]):{},s.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+o+" ").map(t.parseRtcpFb),n.codecs.push(s),s.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(s.name.toUpperCase())}}}return t.matchPrefix(e,"a=extmap:").forEach((function(e){n.headerExtensions.push(t.parseExtmap(e))})),n},t.writeRtpDescription=function(e,n){var r="";r+="m="+e+" ",r+=n.codecs.length>0?"9":"0",r+=" UDP/TLS/RTP/SAVPF ",r+=n.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n",r+="c=IN IP4 0.0.0.0\r\n",r+="a=rtcp:9 IN IP4 0.0.0.0\r\n",n.codecs.forEach((function(e){r+=t.writeRtpMap(e),r+=t.writeFmtp(e),r+=t.writeRtcpFb(e)}));var i=0;return n.codecs.forEach((function(e){e.maxptime>i&&(i=e.maxptime)})),i>0&&(r+="a=maxptime:"+i+"\r\n"),r+="a=rtcp-mux\r\n",n.headerExtensions&&n.headerExtensions.forEach((function(e){r+=t.writeExtmap(e)})),r},t.parseRtpEncodingParameters=function(e){var n,r=[],i=t.parseRtpParameters(e),o=-1!==i.fecMechanisms.indexOf("RED"),a=-1!==i.fecMechanisms.indexOf("ULPFEC"),s=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute})),c=s.length>0&&s[0].ssrc,u=t.matchPrefix(e,"a=ssrc-group:FID").map((function(e){return e.substr(17).split(" ").map((function(e){return parseInt(e,10)}))}));u.length>0&&u[0].length>1&&u[0][0]===c&&(n=u[0][1]),i.codecs.forEach((function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var t={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10)};c&&n&&(t.rtx={ssrc:n}),r.push(t),o&&((t=JSON.parse(JSON.stringify(t))).fec={ssrc:c,mechanism:a?"red+ulpfec":"red"},r.push(t))}})),0===r.length&&c&&r.push({ssrc:c});var l=t.matchPrefix(e,"b=");return l.length&&(l=0===l[0].indexOf("b=TIAS:")?parseInt(l[0].substr(7),10):0===l[0].indexOf("b=AS:")?1e3*parseInt(l[0].substr(5),10)*.95-16e3:void 0,r.forEach((function(e){e.maxBitrate=l}))),r},t.parseRtcpParameters=function(e){var n={},r=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];r&&(n.cname=r.value,n.ssrc=r.ssrc);var i=t.matchPrefix(e,"a=rtcp-rsize");n.reducedSize=i.length>0,n.compound=0===i.length;var o=t.matchPrefix(e,"a=rtcp-mux");return n.mux=o.length>0,n},t.parseMsid=function(e){var n,r=t.matchPrefix(e,"a=msid:");if(1===r.length)return{stream:(n=r[0].substr(7).split(" "))[0],track:n[1]};var i=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"msid"===e.attribute}));return i.length>0?{stream:(n=i[0].value.split(" "))[0],track:n[1]}:void 0},t.parseSctpDescription=function(e){var n,r=t.parseMLine(e),i=t.matchPrefix(e,"a=max-message-size:");i.length>0&&(n=parseInt(i[0].substr(19),10)),isNaN(n)&&(n=65536);var o=t.matchPrefix(e,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substr(12),10),protocol:r.fmt,maxMessageSize:n};if(t.matchPrefix(e,"a=sctpmap:").length>0){var a=t.matchPrefix(e,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(a[0],10),protocol:a[1],maxMessageSize:n}}},t.writeSctpDescription=function(e,t){var n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,21)},t.writeSessionBoilerplate=function(e,n,r){var i=void 0!==n?n:2;return"v=0\r\no="+(r||"thisisadapterortc")+" "+(e||t.generateSessionId())+" "+i+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.writeMediaSection=function(e,n,r,i){var o=t.writeRtpDescription(e.kind,n);if(o+=t.writeIceParameters(e.iceGatherer.getLocalParameters()),o+=t.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===r?"actpass":"active"),o+="a=mid:"+e.mid+"\r\n",e.direction?o+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?o+="a=sendrecv\r\n":e.rtpSender?o+="a=sendonly\r\n":e.rtpReceiver?o+="a=recvonly\r\n":o+="a=inactive\r\n",e.rtpSender){var a="msid:"+i.id+" "+e.rtpSender.track.id+"\r\n";o+="a="+a,o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+a,e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+a,o+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+t.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+t.localCName+"\r\n"),o},t.getDirection=function(e,n){for(var r=t.splitLines(e),i=0;i<r.length;i++)switch(r[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[i].substr(2)}return n?t.getDirection(n):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substr(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){var n=t.splitLines(e)[0].substr(2).split(" ");return{kind:n[0],port:parseInt(n[1],10),protocol:n[2],fmt:n.slice(3).join(" ")}},t.parseOLine=function(e){var n=t.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:n[0],sessionId:n[1],sessionVersion:parseInt(n[2],10),netType:n[3],addressType:n[4],address:n[5]}},t.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;for(var n=t.splitLines(e),r=0;r<n.length;r++)if(n[r].length<2||"="!==n[r].charAt(1))return!1;return!0},e.exports=t}(AT);var gT=AT.exports;function mT(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"==typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){const n=new t(e),r=gT.parseCandidate(e.candidate),i=Object.assign(n,r);return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,EA(e,"icecandidate",(t=>(t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t)))}function vT(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return void 0===this._sctp?null:this._sctp}});const n=function(e){if(!e||!e.sdp)return!1;const t=gT.splitSections(e.sdp);return t.shift(),t.some((e=>{const t=gT.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")}))},r=function(e){const t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;const n=parseInt(t[1],10);return n!=n?-1:n},i=function(e){let n=65536;return"firefox"===t.browser&&(n=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),n},o=function(e,n){let r=65536;"firefox"===t.browser&&57===t.version&&(r=65535);const i=gT.matchPrefix(e.sdp,"a=max-message-size:");return i.length>0?r=parseInt(i[0].substr(19),10):"firefox"===t.browser&&-1!==n&&(r=2147483637),r},a=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76){const{sdpSemantics:e}=this.getConfiguration();"plan-b"===e&&Object.defineProperty(this,"sctp",{get(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const e=r(arguments[0]),t=i(e),n=o(arguments[0],e);let a;a=0===t&&0===n?Number.POSITIVE_INFINITY:0===t||0===n?Math.max(t,n):Math.min(t,n);const s={};Object.defineProperty(s,"maxMessageSize",{get:()=>a}),this._sctp=s}return a.apply(this,arguments)}}function yT(e){if(!e.RTCPeerConnection||!("createDataChannel"in e.RTCPeerConnection.prototype))return;function t(e,t){const n=e.send;e.send=function(){const r=arguments[0],i=r.length||r.size||r.byteLength;if("open"===e.readyState&&t.sctp&&i>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const e=n.apply(this,arguments);return t(e,this),e},EA(e,"datachannel",(e=>(t(e.channel,e.target),e)))}function ET(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach((e=>{const n=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=e=>{const t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;const n=new Event("connectionstatechange",e);t.dispatchEvent(n)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}}))}function bT(e,t){if(!e.RTCPeerConnection)return;if("chrome"===t.browser&&t.version>=71)return;if("safari"===t.browser&&t.version>=605)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")){const n=t.sdp.split("\n").filter((e=>"a=extmap-allow-mixed"!==pT(e).call(e))).join("\n");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:n}):t.sdp=n}return n.apply(this,arguments)}}function _T(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const n=e.RTCPeerConnection.prototype.addIceCandidate;n&&0!==n.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&t.version<78||"firefox"===t.browser&&t.version<68||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?LC.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),LC.resolve())})}var CT=Object.freeze({__proto__:null,shimRTCIceCandidate:mT,shimMaxMessageSize:vT,shimSendThrowTypeError:yT,shimConnectionState:ET,removeExtmapAllowMixed:bT,shimAddIceCandidateNullOrEmpty:_T});let IT,ST;!function(){let{window:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0};const n=CA,r=SA(e),i={browserDetails:r,commonShim:CT,extractVersion:yA,disableLog:bA,disableWarnings:_A};switch(r.browser){case"chrome":if(!sR||!oR||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),i;if(null===r.version)return n("Chrome shim can not determine version, not shimming."),i;n("adapter.js shimming chrome."),i.browserShim=sR,_T(e,r),Zw(e,r),Xw(e),oR(e,r),$w(e),iR(e,r),eR(e),tR(e),nR(e),aR(e,r),mT(e),ET(e),vT(e,r),yT(e),bT(e,r);break;case"firefox":if(!jR||!NR||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),i;n("adapter.js shimming firefox."),i.browserShim=jR,_T(e,r),OR(e,r),NR(e,r),kR(e),xR(e),DR(e),PR(e),LR(e),MR(e),BR(e),FR(e),UR(e),mT(e),ET(e),vT(e,r),yT(e);break;case"edge":if(!yR||!mR||!t.shimEdge)return n("MS edge shim is not included in this adapter release."),i;n("adapter.js shimming edge."),i.browserShim=yR,AR(e),gR(e),mR(e,r),vR(e),vT(e,r),yT(e);break;case"safari":if(!JR||!t.shimSafari)return n("Safari shim is not included in this adapter release."),i;n("adapter.js shimming safari."),i.browserShim=JR,_T(e,r),zR(e),KR(e),GR(e),VR(e),QR(e),WR(e),qR(e),YR(e),mT(e),vT(e,r),yT(e),bT(e,r);break;default:n("Unsupported browser!")}}({window:"undefined"==typeof window?void 0:window}),function(e){e.WIN_10="Windows 10",e.WIN_81="Windows 8.1",e.WIN_8="Windows 8",e.WIN_7="Windows 7",e.WIN_VISTA="Windows Vista",e.WIN_SERVER_2003="Windows Server 2003",e.WIN_XP="Windows XP",e.WIN_2000="Windows 2000",e.ANDROID="Android",e.OPEN_BSD="Open BSD",e.SUN_OS="Sun OS",e.LINUX="Linux",e.IOS="iOS",e.MAC_OS="Mac OS",e.QNX="QNX",e.UNIX="UNIX",e.BEOS="BeOS",e.OS_2="OS/2",e.SEARCH_BOT="Search Bot"}(IT||(IT={})),function(e){e.CHROME="Chrome",e.SAFARI="Safari",e.EDGE="Edge",e.FIREFOX="Firefox",e.OPERA="OPR",e.QQ="QQBrowser",e.WECHAT="MicroMessenger"}(ST||(ST={}));var wT={exports:{}};!function(t,n){!function(e,r){var i="function",o="object",a="string",s="model",c="name",u="type",l="vendor",d="version",h="architecture",p="console",f="mobile",A="tablet",g="smarttv",m="wearable",v="embedded",y={extend:function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n},has:function(e,t){return typeof e===a&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return typeof e===a?e.replace(/[^\d\.]/g,"").split(".")[0]:r},trim:function(e,t){return e=e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),void 0===t?e:e.substring(0,255)}},E={rgx:function(e,t){for(var n,a,s,c,u,l,d=0;d<t.length&&!u;){var h=t[d],p=t[d+1];for(n=a=0;n<h.length&&!u;)if(u=h[n++].exec(e))for(s=0;s<p.length;s++)l=u[++a],typeof(c=p[s])===o&&c.length>0?2==c.length?typeof c[1]==i?this[c[0]]=c[1].call(this,l):this[c[0]]=c[1]:3==c.length?typeof c[1]!==i||c[1].exec&&c[1].test?this[c[0]]=l?l.replace(c[1],c[2]):r:this[c[0]]=l?c[1].call(this,l,c[2]):r:4==c.length&&(this[c[0]]=l?c[3].call(this,l.replace(c[1],c[2])):r):this[c]=l||r;d+=2}},str:function(e,t){for(var n in t)if(typeof t[n]===o&&t[n].length>0){for(var i=0;i<t[n].length;i++)if(y.has(t[n][i],e))return"?"===n?r:n}else if(y.has(t[n],e))return"?"===n?r:n;return e}},b={browser:{oldSafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}},oldEdge:{version:{.1:"12.",21:"13.",31:"14.",39:"15.",41:"16.",42:"17.",44:"18."}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},_={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[d,[c,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[d,[c,"Edge"]],[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]{3,6})\b.+version\/([\w\.-]+)/i,/(opera)(?:.+version\/|[\/\s]+)([\w\.]+)/i],[c,d],[/opios[\/\s]+([\w\.]+)/i],[d,[c,"Opera Mini"]],[/\sopr\/([\w\.]+)/i],[d,[c,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(ba?idubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i,/(rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([\w\.]+)/i,/(weibo)__([\d\.]+)/i],[c,d],[/(?:[\s\/]uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[d,[c,"UCBrowser"]],[/(?:windowswechat)?\sqbcore\/([\w\.]+)\b.*(?:windowswechat)?/i],[d,[c,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[d,[c,"WeChat"]],[/konqueror\/([\w\.]+)/i],[d,[c,"Konqueror"]],[/trident.+rv[:\s]([\w\.]{1,9})\b.+like\sgecko/i],[d,[c,"IE"]],[/yabrowser\/([\w\.]+)/i],[d,[c,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[c,/(.+)/,"$1 Secure Browser"],d],[/focus\/([\w\.]+)/i],[d,[c,"Firefox Focus"]],[/opt\/([\w\.]+)/i],[d,[c,"Opera Touch"]],[/coc_coc_browser\/([\w\.]+)/i],[d,[c,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[d,[c,"Dolphin"]],[/coast\/([\w\.]+)/i],[d,[c,"Opera Coast"]],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[d,[c,"MIUI Browser"]],[/fxios\/([\w\.-]+)/i],[d,[c,"Firefox"]],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[c,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[c,/(.+)/,"$1 Browser"],d],[/(comodo_dragon)\/([\w\.]+)/i],[[c,/_/g," "],d],[/\s(electron)\/([\w\.]+)\ssafari/i,/(tesla)(?:\sqtcarbrowser|\/(20[12]\d\.[\w\.-]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/\s]?([\w\.]+)/i],[c,d],[/(MetaSr)[\/\s]?([\w\.]+)/i,/(LBBROWSER)/i],[c],[/;fbav\/([\w\.]+);/i],[d,[c,"Facebook"]],[/FBAN\/FBIOS|FB_IAB\/FB4A/i],[[c,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/\s]([\w\.-]+)/i],[c,d],[/\bgsa\/([\w\.]+)\s.*safari\//i],[d,[c,"GSA"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[d,[c,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[c,"Chrome WebView"],d],[/droid.+\sversion\/([\w\.]+)\b.+(?:mobile\ssafari|safari)/i],[d,[c,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[c,d],[/version\/([\w\.]+)\s.*mobile\/\w+\s(safari)/i],[d,[c,"Mobile Safari"]],[/version\/([\w\.]+)\s.*(mobile\s?safari|safari)/i],[d,c],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[c,[d,E.str,b.browser.oldSafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[c,d],[/(navigator|netscape)\/([\w\.-]+)/i],[[c,"Netscape"],d],[/ile\svr;\srv:([\w\.]+)\).+firefox/i],[d,[c,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)\s[\w\s\-]+\/[\w\.]+$/i,/(mozilla)\/([\w\.]+)\s.+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[c,d]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[h,"amd64"]],[/(ia32(?=;))/i],[[h,y.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[h,"ia32"]],[/\b(aarch64|armv?8e?l?)\b/i],[[h,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[h,"armhf"]],[/windows\s(ce|mobile);\sppc;/i],[[h,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[h,/ower/,"",y.lowerize]],[/(sun4\w)[;\)]/i],[[h,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?:64|(?=v(?:[1-7]|[5-7]1)l?|;|eabi))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[h,y.lowerize]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus\s10)/i],[s,[l,"Samsung"],[u,A]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy\snexus)/i,/\ssamsung[\s-]([\w-]+)/i,/sec-(sgh\w+)/i],[s,[l,"Samsung"],[u,f]],[/\((ip(?:hone|od)[\s\w]*);/i],[s,[l,"Apple"],[u,f]],[/\((ipad);[\w\s\),;-]+apple/i,/applecoremedia\/[\w\.]+\s\((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[s,[l,"Apple"],[u,A]],[/\b((?:agr|ags[23]|bah2?|sht?)-a?[lw]\d{2})/i],[s,[l,"Huawei"],[u,A]],[/d\/huawei([\w\s-]+)[;\)]/i,/\b(nexus\s6p|vog-[at]?l\d\d|ane-[at]?l[x\d]\d|eml-a?l\d\da?|lya-[at]?l\d[\dc]|clt-a?l\d\di?|ele-l\d\d)/i,/\b(\w{2,4}-[atu][ln][01259][019])[;\)\s]/i],[s,[l,"Huawei"],[u,f]],[/\b(poco[\s\w]+)(?:\sbuild|\))/i,/\b;\s(\w+)\sbuild\/hm\1/i,/\b(hm[\s\-_]?note?[\s_]?(?:\d\w)?)\sbuild/i,/\b(redmi[\s\-_]?(?:note|k)?[\w\s_]+)(?:\sbuild|\))/i,/\b(mi[\s\-_]?(?:a\d|one|one[\s_]plus|note lte)?[\s_]?(?:\d?\w?)[\s_]?(?:plus)?)\sbuild/i],[[s,/_/g," "],[l,"Xiaomi"],[u,f]],[/\b(mi[\s\-_]?(?:pad)(?:[\w\s_]+))(?:\sbuild|\))/i],[[s,/_/g," "],[l,"Xiaomi"],[u,A]],[/;\s(\w+)\sbuild.+\soppo/i,/\s(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007)\b/i],[s,[l,"OPPO"],[u,f]],[/\svivo\s(\w+)(?:\sbuild|\))/i,/\s(v[12]\d{3}\w?[at])(?:\sbuild|;)/i],[s,[l,"Vivo"],[u,f]],[/\s(rmx[12]\d{3})(?:\sbuild|;)/i],[s,[l,"Realme"],[u,f]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)\b[\w\s]+build\//i,/\smot(?:orola)?[\s-](\w*)/i,/((?:moto[\s\w\(\)]+|xt\d{3,4}|nexus\s6)(?=\sbuild|\)))/i],[s,[l,"Motorola"],[u,f]],[/\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[s,[l,"Motorola"],[u,A]],[/((?=lg)?[vl]k\-?\d{3})\sbuild|\s3\.[\s\w;-]{10}lg?-([06cv9]{3,4})/i],[s,[l,"LG"],[u,A]],[/(lm-?f100[nv]?|nexus\s[45])/i,/lg[e;\s\/-]+((?!browser|netcast)\w+)/i,/\blg(\-?[\d\w]+)\sbuild/i],[s,[l,"LG"],[u,f]],[/(ideatab[\w\-\s]+)/i,/lenovo\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+)|yt[\d\w-]{6}|tb[\d\w-]{6})/i],[s,[l,"Lenovo"],[u,A]],[/(?:maemo|nokia).*(n900|lumia\s\d+)/i,/nokia[\s_-]?([\w\.-]*)/i],[[s,/_/g," "],[l,"Nokia"],[u,f]],[/droid.+;\s(pixel\sc)[\s)]/i],[s,[l,"Google"],[u,A]],[/droid.+;\s(pixel[\s\daxl]{0,6})(?:\sbuild|\))/i],[s,[l,"Google"],[u,f]],[/droid.+\s([c-g]\d{4}|so[-l]\w+|xq-a\w[4-7][12])(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[s,[l,"Sony"],[u,f]],[/sony\stablet\s[ps]\sbuild\//i,/(?:sony)?sgp\w+(?:\sbuild\/|\))/i],[[s,"Xperia Tablet"],[l,"Sony"],[u,A]],[/\s(kb2005|in20[12]5|be20[12][59])\b/i,/\ba000(1)\sbuild/i,/\boneplus\s(a\d{4})[\s)]/i],[s,[l,"OnePlus"],[u,f]],[/(alexa)webm/i,/(kf[a-z]{2}wi)(\sbuild\/|\))/i,/(kf[a-z]+)(\sbuild\/|\)).+silk\//i],[s,[l,"Amazon"],[u,A]],[/(sd|kf)[0349hijorstuw]+(\sbuild\/|\)).+silk\//i],[[s,"Fire Phone"],[l,"Amazon"],[u,f]],[/\((playbook);[\w\s\),;-]+(rim)/i],[s,l,[u,A]],[/((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10;\s(\w+)/i],[s,[l,"BlackBerry"],[u,f]],[/(?:\b|asus_)(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus\s7|padfone|p00[cj])/i],[s,[l,"ASUS"],[u,A]],[/\s(z[es]6[027][01][km][ls]|zenfone\s\d\w?)\b/i],[s,[l,"ASUS"],[u,f]],[/(nexus\s9)/i],[s,[l,"HTC"],[u,A]],[/(htc)[;_\s-]{1,2}([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[l,[s,/_/g," "],[u,f]],[/droid[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[s,[l,"Acer"],[u,A]],[/droid.+;\s(m[1-5]\snote)\sbuild/i,/\bmz-([\w-]{2,})/i],[s,[l,"Meizu"],[u,f]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i,/(microsoft);\s(lumia[\s\w]+)/i,/(lenovo)[_\s-]?([\w-]+)/i,/linux;.+(jolla);/i,/droid.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[l,s,[u,f]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i,/[;\/]\s?(le[\s\-]+pan)[\s\-]+(\w{1,9})\sbuild/i,/[;\/]\s?(trinity)[\-\s]*(t\d{3})\sbuild/i,/\b(gigaset)[\s\-]+(q\w{1,9})\sbuild/i,/\b(vodafone)\s([\w\s]+)(?:\)|\sbuild)/i],[l,s,[u,A]],[/\s(surface\sduo)\s/i],[s,[l,"Microsoft"],[u,A]],[/droid\s[\d\.]+;\s(fp\du?)\sbuild/i],[s,[l,"Fairphone"],[u,f]],[/\s(u304aa)\sbuild/i],[s,[l,"AT&T"],[u,f]],[/sie-(\w*)/i],[s,[l,"Siemens"],[u,f]],[/[;\/]\s?(rct\w+)\sbuild/i],[s,[l,"RCA"],[u,A]],[/[;\/\s](venue[\d\s]{2,7})\sbuild/i],[s,[l,"Dell"],[u,A]],[/[;\/]\s?(q(?:mv|ta)\w+)\sbuild/i],[s,[l,"Verizon"],[u,A]],[/[;\/]\s(?:barnes[&\s]+noble\s|bn[rt])([\w\s\+]*)\sbuild/i],[s,[l,"Barnes & Noble"],[u,A]],[/[;\/]\s(tm\d{3}\w+)\sbuild/i],[s,[l,"NuVision"],[u,A]],[/;\s(k88)\sbuild/i],[s,[l,"ZTE"],[u,A]],[/;\s(nx\d{3}j)\sbuild/i],[s,[l,"ZTE"],[u,f]],[/[;\/]\s?(gen\d{3})\sbuild.*49h/i],[s,[l,"Swiss"],[u,f]],[/[;\/]\s?(zur\d{3})\sbuild/i],[s,[l,"Swiss"],[u,A]],[/[;\/]\s?((zeki)?tb.*\b)\sbuild/i],[s,[l,"Zeki"],[u,A]],[/[;\/]\s([yr]\d{2})\sbuild/i,/[;\/]\s(dragon[\-\s]+touch\s|dt)(\w{5})\sbuild/i],[[l,"Dragon Touch"],s,[u,A]],[/[;\/]\s?(ns-?\w{0,9})\sbuild/i],[s,[l,"Insignia"],[u,A]],[/[;\/]\s?((nxa|Next)-?\w{0,9})\sbuild/i],[s,[l,"NextBook"],[u,A]],[/[;\/]\s?(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05]))\sbuild/i],[[l,"Voice"],s,[u,f]],[/[;\/]\s?(lvtel\-)?(v1[12])\sbuild/i],[[l,"LvTel"],s,[u,f]],[/;\s(ph-1)\s/i],[s,[l,"Essential"],[u,f]],[/[;\/]\s?(v(100md|700na|7011|917g).*\b)\sbuild/i],[s,[l,"Envizen"],[u,A]],[/[;\/]\s?(trio[\s\w\-\.]+)\sbuild/i],[s,[l,"MachSpeed"],[u,A]],[/[;\/]\s?tu_(1491)\sbuild/i],[s,[l,"Rotor"],[u,A]],[/(shield[\w\s]+)\sbuild/i],[s,[l,"Nvidia"],[u,A]],[/(sprint)\s(\w+)/i],[l,s,[u,f]],[/(kin\.[onetw]{3})/i],[[s,/\./g," "],[l,"Microsoft"],[u,f]],[/droid\s[\d\.]+;\s(cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[s,[l,"Zebra"],[u,A]],[/droid\s[\d\.]+;\s(ec30|ps20|tc[2-8]\d[kx])\)/i],[s,[l,"Zebra"],[u,f]],[/\s(ouya)\s/i,/(nintendo)\s([wids3utch]+)/i],[l,s,[u,p]],[/droid.+;\s(shield)\sbuild/i],[s,[l,"Nvidia"],[u,p]],[/(playstation\s[345portablevi]+)/i],[s,[l,"Sony"],[u,p]],[/[\s\(;](xbox(?:\sone)?(?!;\sxbox))[\s\);]/i],[s,[l,"Microsoft"],[u,p]],[/smart-tv.+(samsung)/i],[l,[u,g]],[/hbbtv.+maple;(\d+)/i],[[s,/^/,"SmartTV"],[l,"Samsung"],[u,g]],[/(?:linux;\snetcast.+smarttv|lg\snetcast\.tv-201\d)/i],[[l,"LG"],[u,g]],[/(apple)\s?tv/i],[l,[s,"Apple TV"],[u,g]],[/crkey/i],[[s,"Chromecast"],[l,"Google"],[u,g]],[/droid.+aft([\w])(\sbuild\/|\))/i],[s,[l,"Amazon"],[u,g]],[/\(dtv[\);].+(aquos)/i],[s,[l,"Sharp"],[u,g]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[l,y.trim],[s,y.trim],[u,g]],[/[\s\/\(](android\s|smart[-\s]?|opera\s)tv[;\)\s]/i],[[u,g]],[/((pebble))app\/[\d\.]+\s/i],[l,s,[u,m]],[/droid.+;\s(glass)\s\d/i],[s,[l,"Google"],[u,m]],[/droid\s[\d\.]+;\s(wt63?0{2,3})\)/i],[s,[l,"Zebra"],[u,m]],[/(tesla)(?:\sqtcarbrowser|\/20[12]\d\.[\w\.-]+)/i],[l,[u,v]],[/droid .+?; ([^;]+?)(?: build|\) applewebkit).+? mobile safari/i],[s,[u,f]],[/droid .+?;\s([^;]+?)(?: build|\) applewebkit).+?(?! mobile) safari/i],[s,[u,A]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[u,y.lowerize]],[/(android[\w\.\s\-]{0,9});.+build/i],[s,[l,"Generic"]],[/(phone)/i],[[u,f]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[d,[c,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[d,[c,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[c,d],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[d,c]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[c,d],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)(?!.+xbox)/i],[c,[d,E.str,b.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[c,"Windows"],[d,E.str,b.os.windows.version]],[/ip[honead]{2,4}\b(?:.*os\s([\w]+)\slike\smac|;\sopera)/i,/cfnetwork\/.+darwin/i],[[d,/_/g,"."],[c,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)(?!.+haiku)/i],[[c,"Mac OS"],[d,/_/g,"."]],[/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/\((series40);/i],[c,d],[/\(bb(10);/i],[d,[c,"BlackBerry"]],[/(?:symbian\s?os|symbos|s60(?=;)|series60)[\/\s-]?([\w\.]*)/i],[d,[c,"Symbian"]],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[c,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[d,[c,"webOS"]],[/crkey\/([\d\.]+)/i],[d,[c,"Chromecast"]],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[c,"Chromium OS"],d],[/(nintendo|playstation)\s([wids345portablevuch]+)/i,/(xbox);\s+xbox\s([^\);]+)/i,/(mint)[\/\s\(\)]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?=\slinux)|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus|raspbian)(?:\sgnu\/linux)?(?:\slinux)?[\/\s-]?(?!chrom|package)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i,/\s([frentopc-]{0,4}bsd|dragonfly)\s?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku)\s(\w+)/i],[c,d],[/(sunos)\s?([\w\.\d]*)/i],[[c,"Solaris"],d],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[c,d]]},C=function(t,n){if("object"==typeof t&&(n=t,t=r),!(this instanceof C))return new C(t,n).getResult();var i=t||(void 0!==e&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent:""),o=n?y.extend(_,n):_;return this.getBrowser=function(){var e={name:r,version:r};return E.rgx.call(e,i,o.browser),e.major=y.major(e.version),e},this.getCPU=function(){var e={architecture:r};return E.rgx.call(e,i,o.cpu),e},this.getDevice=function(){var e={vendor:r,model:r,type:r};return E.rgx.call(e,i,o.device),e},this.getEngine=function(){var e={name:r,version:r};return E.rgx.call(e,i,o.engine),e},this.getOS=function(){var e={name:r,version:r};return E.rgx.call(e,i,o.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=typeof e===a&&e.length>255?y.trim(e,255):e,this},this.setUA(i),this};C.VERSION="0.7.28",C.BROWSER={NAME:c,MAJOR:"major",VERSION:d},C.CPU={ARCHITECTURE:h},C.DEVICE={MODEL:s,VENDOR:l,TYPE:u,CONSOLE:p,MOBILE:f,SMARTTV:g,TABLET:A,WEARABLE:m,EMBEDDED:v},C.ENGINE={NAME:c,VERSION:d},C.OS={NAME:c,VERSION:d},t.exports&&(n=t.exports=C),n.UAParser=C;var I=void 0!==e&&(e.jQuery||e.Zepto);if(I&&!I.ua){var S=new C;I.ua=S.getResult(),I.ua.get=function(){return S.getUA()},I.ua.set=function(e){S.setUA(e);var t=S.getResult();for(var n in t)I.ua[n]=t[n]}}}("object"==typeof window?window:e)}(wT,wT.exports);const RT=new(0,wT.exports);let TT=RT.getResult();function OT(e){return e&&RT.setUA(e),TT=RT.getResult(),{name:kT(TT),version:NT(TT),os:DT(TT),osVersion:TT.os.version}}function kT(e){if("Blink"===e.engine.name&&"WeChat"!==e.browser.name)return ST.CHROME;switch(e.browser.name){case"Chrome Headless":case"Chrome":case"Chromium":return ST.CHROME;case"Safari":case"Mobile Safari":return ST.SAFARI;case"Edge":return ST.EDGE;case"Firefox":return ST.FIREFOX;case"QQBrowser":return ST.QQ;case"Opera":return ST.OPERA;case"WeChat":return ST.WECHAT;default:return e.browser.name||""}}function NT(e){let t;return t="Blink"===e.engine.name?e.engine.version||"":e.browser.version||"",t.split(".")[0]}function DT(e){return"Windows"===e.os.name?e.os.version?e.os.name+" "+e.os.version:e.os.name:e.os.name||""}function PT(){return OT().os}function xT(){const e=OT();return!!("WebKit"===TT.engine.name&&e.os===IT.MAC_OS&&navigator.maxTouchPoints&&navigator.maxTouchPoints>0&&e.name!==ST.SAFARI||FT()&&e.name!==ST.SAFARI)}function LT(){return OT().name===ST.CHROME}function MT(){return OT().name===ST.SAFARI}function BT(){return OT().name===ST.FIREFOX}function FT(){return OT().os===IT.IOS}function UT(){const e=OT();return!(e.name!==ST.CHROME||!e.osVersion)&&Number(e.version)<=90}function jT(){const e=OT();if(e.os!==IT.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return Number(t[0])>=13}function VT(){const e=OT();if(e.os!==IT.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return Number(t[0])<=14&&Number(t[1])<=2}function QT(){const e=OT();if(e.os!==IT.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return 15===Number(t[0])}function GT(){const e=OT();if(e.os!==IT.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return 15===Number(t[0])&&0===Number(t[1])}function qT(){const e=OT();if(e.os!==IT.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return 15===Number(t[0])&&Number(t[1])>=1}function HT(){const e=OT();if(e.os!==IT.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return 15===Number(t[0])&&Number(t[1])>=2}function zT(){return MT()&&navigator.maxTouchPoints>0}function WT(){return OT().name===ST.WECHAT}function KT(){return window.navigator.appVersion&&null!==window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)&&window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)[1]<=35}function YT(){const e=OT();return e.name!==ST.EDGE&&e.name!==ST.SAFARI&&!!navigator.userAgent.toLocaleLowerCase().match(/chrome\/[\d]./i)}function JT(){return OT().os===IT.ANDROID}var ZT={exports:{}},XT=Bd,$T=jc,eO=cd.f;XT({target:"Object",stat:!0,forced:Object.defineProperty!==eO,sham:!$T},{defineProperty:eO});var tO=fu.Object,nO=ZT.exports=function(e,t,n){return tO.defineProperty(e,t,n)};tO.defineProperty.sham&&(nO.sham=!0);var rO=ZT.exports;function iO(e,t,n){return t in e?rO(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oO,aO={exports:{}},sO=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}},cO=sO,uO=Object.prototype.toString,lO=(oO=Object.create(null),function(e){var t=uO.call(e);return oO[t]||(oO[t]=t.slice(8,-1).toLowerCase())});function dO(e){return e=e.toLowerCase(),function(t){return lO(t)===e}}function hO(e){return Array.isArray(e)}function pO(e){return void 0===e}var fO=dO("ArrayBuffer");function AO(e){return null!==e&&"object"==typeof e}function gO(e){if("object"!==lO(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var mO=dO("Date"),vO=dO("File"),yO=dO("Blob"),EO=dO("FileList");function bO(e){return"[object Function]"===uO.call(e)}var _O=dO("URLSearchParams");function CO(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),hO(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}var IO=function(e){return function(t){return e&&t instanceof e}}("undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array)),SO={isArray:hO,isArrayBuffer:fO,isBuffer:function(e){return null!==e&&!pO(e)&&null!==e.constructor&&!pO(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||uO.call(e)===t||bO(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&fO(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:AO,isPlainObject:gO,isUndefined:pO,isDate:mO,isFile:vO,isBlob:yO,isFunction:bO,isStream:function(e){return AO(e)&&bO(e.pipe)},isURLSearchParams:_O,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:CO,merge:function e(){var t={};function n(n,r){gO(t[r])&&gO(n)?t[r]=e(t[r],n):gO(n)?t[r]=e({},n):hO(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)CO(arguments[r],n);return t},extend:function(e,t,n){return CO(t,(function(t,r){e[r]=n&&"function"==typeof t?cO(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n){var r,i,o,a={};t=t||{};do{for(i=(r=Object.getOwnPropertyNames(e)).length;i-- >0;)a[o=r[i]]||(t[o]=e[o],a[o]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:lO,kindOfTest:dO,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;var t=e.length;if(pO(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},isTypedArray:IO,isFileList:EO},wO=SO;function RO(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var TO=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(wO.isURLSearchParams(t))r=t.toString();else{var i=[];wO.forEach(t,(function(e,t){null!=e&&(wO.isArray(e)?t+="[]":e=[e],wO.forEach(e,(function(e){wO.isDate(e)?e=e.toISOString():wO.isObject(e)&&(e=JSON.stringify(e)),i.push(RO(t)+"="+RO(e))})))})),r=i.join("&")}if(r){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e},OO=SO;function kO(){this.handlers=[]}kO.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},kO.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},kO.prototype.forEach=function(e){OO.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var NO=kO,DO=SO,PO=SO;function xO(e,t,n,r,i){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}PO.inherits(xO,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var LO=xO.prototype,MO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){MO[e]={value:e}})),Object.defineProperties(xO,MO),Object.defineProperty(LO,"isAxiosError",{value:!0}),xO.from=function(e,t,n,r,i,o){var a=Object.create(LO);return PO.toFlatObject(e,a,(function(e){return e!==Error.prototype})),xO.call(a,e.message,t,n,r,i),a.name=e.name,o&&Object.assign(a,o),a};var BO=xO,FO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},UO=SO,jO=function(e,t){t=t||new FormData;var n=[];function r(e){return null===e?"":UO.isDate(e)?e.toISOString():UO.isArrayBuffer(e)||UO.isTypedArray(e)?"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}return function e(i,o){if(UO.isPlainObject(i)||UO.isArray(i)){if(-1!==n.indexOf(i))throw Error("Circular reference detected in "+o);n.push(i),UO.forEach(i,(function(n,i){if(!UO.isUndefined(n)){var a,s=o?o+"."+i:i;if(n&&!o&&"object"==typeof n)if(UO.endsWith(i,"{}"))n=JSON.stringify(n);else if(UO.endsWith(i,"[]")&&(a=UO.toArray(n)))return void a.forEach((function(e){!UO.isUndefined(e)&&t.append(s,r(e))}));e(n,s)}})),n.pop()}else t.append(o,r(i))}(e),t},VO=BO,QO=SO,GO=QO.isStandardBrowserEnv()?{write:function(e,t,n,r,i,o){var a=[];a.push(e+"="+encodeURIComponent(t)),QO.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),QO.isString(r)&&a.push("path="+r),QO.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},qO=function(e,t){return e&&!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t},HO=SO,zO=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],WO=SO,KO=WO.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=WO.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0},YO=BO;function JO(e){YO.call(this,null==e?"canceled":e,YO.ERR_CANCELED),this.name="CanceledError"}SO.inherits(JO,YO,{__CANCEL__:!0});var ZO=JO,XO=SO,$O=GO,ek=TO,tk=qO,nk=KO,rk=FO,ik=BO,ok=ZO,ak=SO,sk=function(e,t){DO.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))},ck=BO,uk=jO,lk={"Content-Type":"application/x-www-form-urlencoded"};function dk(e,t){!ak.isUndefined(e)&&ak.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var hk,pk={transitional:FO,adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(hk=function(e){return new Promise((function(t,n){var r,i=e.data,o=e.headers,a=e.responseType;function s(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}XO.isFormData(i)&&XO.isStandardBrowserEnv()&&delete o["Content-Type"];var c=new XMLHttpRequest;if(e.auth){var u=e.auth.username||"",l=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.Authorization="Basic "+btoa(u+":"+l)}var d=tk(e.baseURL,e.url);function h(){if(c){var r="getAllResponseHeaders"in c?function(e){var t,n,r,i={};return e?(HO.forEach(e.split("\n"),(function(e){if(r=e.indexOf(":"),t=HO.trim(e.substr(0,r)).toLowerCase(),n=HO.trim(e.substr(r+1)),t){if(i[t]&&zO.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([n]):i[t]?i[t]+", "+n:n}})),i):i}(c.getAllResponseHeaders()):null;(function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new VO("Request failed with status code "+n.status,[VO.ERR_BAD_REQUEST,VO.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)})((function(e){t(e),s()}),(function(e){n(e),s()}),{data:a&&"text"!==a&&"json"!==a?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:r,config:e,request:c}),c=null}}if(c.open(e.method.toUpperCase(),ek(d,e.params,e.paramsSerializer),!0),c.timeout=e.timeout,"onloadend"in c?c.onloadend=h:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(h)},c.onabort=function(){c&&(n(new ik("Request aborted",ik.ECONNABORTED,e,c)),c=null)},c.onerror=function(){n(new ik("Network Error",ik.ERR_NETWORK,e,c,c)),c=null},c.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||rk;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new ik(t,r.clarifyTimeoutError?ik.ETIMEDOUT:ik.ECONNABORTED,e,c)),c=null},XO.isStandardBrowserEnv()){var p=(e.withCredentials||nk(d))&&e.xsrfCookieName?$O.read(e.xsrfCookieName):void 0;p&&(o[e.xsrfHeaderName]=p)}"setRequestHeader"in c&&XO.forEach(o,(function(e,t){void 0===i&&"content-type"===t.toLowerCase()?delete o[t]:c.setRequestHeader(t,e)})),XO.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),a&&"json"!==a&&(c.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&c.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(r=function(e){c&&(n(!e||e&&e.type?new ok:e),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r))),i||(i=null);var f=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(d);f&&-1===["http","https","file"].indexOf(f)?n(new ik("Unsupported protocol "+f+":",ik.ERR_BAD_REQUEST,e)):c.send(i)}))}),hk),transformRequest:[function(e,t){if(sk(t,"Accept"),sk(t,"Content-Type"),ak.isFormData(e)||ak.isArrayBuffer(e)||ak.isBuffer(e)||ak.isStream(e)||ak.isFile(e)||ak.isBlob(e))return e;if(ak.isArrayBufferView(e))return e.buffer;if(ak.isURLSearchParams(e))return dk(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,r=ak.isObject(e),i=t&&t["Content-Type"];if((n=ak.isFileList(e))||r&&"multipart/form-data"===i){var o=this.env&&this.env.FormData;return uk(n?{"files[]":e}:e,o&&new o)}return r||"application/json"===i?(dk(t,"application/json"),function(e,t,n){if(ak.isString(e))try{return(0,JSON.parse)(e),ak.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||pk.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,i=!n&&"json"===this.responseType;if(i||r&&ak.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(i){if("SyntaxError"===e.name)throw ck.from(e,ck.ERR_BAD_RESPONSE,this,null,this.response);throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:null},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};ak.forEach(["delete","get","head"],(function(e){pk.headers[e]={}})),ak.forEach(["post","put","patch"],(function(e){pk.headers[e]=ak.merge(lk)}));var fk=pk,Ak=SO,gk=fk,mk=function(e){return!(!e||!e.__CANCEL__)},vk=SO,yk=function(e,t,n){var r=this||gk;return Ak.forEach(n,(function(n){e=n.call(r,e,t)})),e},Ek=mk,bk=fk,_k=ZO;function Ck(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new _k}var Ik=SO,Sk=function(e,t){t=t||{};var n={};function r(e,t){return Ik.isPlainObject(e)&&Ik.isPlainObject(t)?Ik.merge(e,t):Ik.isPlainObject(t)?Ik.merge({},t):Ik.isArray(t)?t.slice():t}function i(n){return Ik.isUndefined(t[n])?Ik.isUndefined(e[n])?void 0:r(void 0,e[n]):r(e[n],t[n])}function o(e){if(!Ik.isUndefined(t[e]))return r(void 0,t[e])}function a(n){return Ik.isUndefined(t[n])?Ik.isUndefined(e[n])?void 0:r(void 0,e[n]):r(void 0,t[n])}function s(n){return n in t?r(e[n],t[n]):n in e?r(void 0,e[n]):void 0}var c={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s};return Ik.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||i,r=t(e);Ik.isUndefined(r)&&t!==s||(n[e]=r)})),n},wk="0.27.2",Rk=BO,Tk={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){Tk[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var Ok={};Tk.transitional=function(e,t,n){function r(e,t){return"[Axios v0.27.2] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,o){if(!1===e)throw new Rk(r(i," has been removed"+(t?" in "+t:"")),Rk.ERR_DEPRECATED);return t&&!Ok[i]&&(Ok[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}};var kk=SO,Nk=TO,Dk=NO,Pk=function(e){return Ck(e),e.headers=e.headers||{},e.data=yk.call(e,e.data,e.headers,e.transformRequest),e.headers=vk.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),vk.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||bk.adapter)(e).then((function(t){return Ck(e),t.data=yk.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return Ek(t)||(Ck(e),t&&t.response&&(t.response.data=yk.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},xk=Sk,Lk=qO,Mk={assertOptions:function(e,t,n){if("object"!=typeof e)throw new Rk("options must be an object",Rk.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var o=r[i],a=t[o];if(a){var s=e[o],c=void 0===s||a(s,o,e);if(!0!==c)throw new Rk("option "+o+" must be "+c,Rk.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Rk("Unknown option "+o,Rk.ERR_BAD_OPTION)}},validators:Tk},Bk=Mk.validators;function Fk(e){this.defaults=e,this.interceptors={request:new Dk,response:new Dk}}Fk.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=xk(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&Mk.assertOptions(n,{silentJSONParsing:Bk.transitional(Bk.boolean),forcedJSONParsing:Bk.transitional(Bk.boolean),clarifyTimeoutError:Bk.transitional(Bk.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var o,a=[];if(this.interceptors.response.forEach((function(e){a.push(e.fulfilled,e.rejected)})),!i){var s=[Pk,void 0];for(Array.prototype.unshift.apply(s,r),s=s.concat(a),o=Promise.resolve(t);s.length;)o=o.then(s.shift(),s.shift());return o}for(var c=t;r.length;){var u=r.shift(),l=r.shift();try{c=u(c)}catch(e){l(e);break}}try{o=Pk(c)}catch(e){return Promise.reject(e)}for(;a.length;)o=o.then(a.shift(),a.shift());return o},Fk.prototype.getUri=function(e){e=xk(this.defaults,e);var t=Lk(e.baseURL,e.url);return Nk(t,e.params,e.paramsSerializer)},kk.forEach(["delete","get","head","options"],(function(e){Fk.prototype[e]=function(t,n){return this.request(xk(n||{},{method:e,url:t,data:(n||{}).data}))}})),kk.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(xk(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Fk.prototype[e]=t(),Fk.prototype[e+"Form"]=t(!0)}));var Uk=Fk,jk=ZO;function Vk(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new jk(e),t(n.reason))}))}Vk.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},Vk.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},Vk.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},Vk.source=function(){var e;return{token:new Vk((function(t){e=t})),cancel:e}};var Qk=Vk,Gk=SO,qk=SO,Hk=sO,zk=Uk,Wk=Sk,Kk=function e(t){var n=new zk(t),r=Hk(zk.prototype.request,n);return qk.extend(r,zk.prototype,n),qk.extend(r,n),r.create=function(n){return e(Wk(t,n))},r}(fk);Kk.Axios=zk,Kk.CanceledError=ZO,Kk.CancelToken=Qk,Kk.isCancel=mk,Kk.VERSION=wk,Kk.toFormData=jO,Kk.AxiosError=BO,Kk.Cancel=Kk.CanceledError,Kk.all=function(e){return Promise.all(e)},Kk.spread=function(e){return function(t){return e.apply(null,t)}},Kk.isAxiosError=function(e){return Gk.isObject(e)&&!0===e.isAxiosError},aO.exports=Kk,aO.exports.default=Kk;var Yk=aO.exports;class Jk{constructor(e){iO(this,"logger",void 0),iO(this,"prefixLists",[]),this.logger=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.debug(...this.prefixLists,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.info(...this.prefixLists,...t)}warning(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.warning(...this.prefixLists,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.error(...this.prefixLists,...t)}prefix(e){return this.prefixLists.push(e),this}popPrefix(){return this.prefixLists.pop(),this}}class Zk{constructor(){iO(this,"_events",{}),iO(this,"addListener",this.on)}getListeners(e){return this._events[e]?this._events[e].map((e=>e.listener)):[]}on(e,t){this._events[e]||(this._events[e]=[]);const n=this._events[e];-1===this._indexOfListener(n,t)&&n.push({listener:t,once:!1})}once(e,t){this._events[e]||(this._events[e]=[]);const n=this._events[e];-1===this._indexOfListener(n,t)&&n.push({listener:t,once:!0})}off(e,t){if(!this._events[e])return;const n=this._events[e],r=this._indexOfListener(n,t);-1!==r&&n.splice(r,1),0===this._events[e].length&&delete this._events[e]}removeAllListeners(e){e?delete this._events[e]:this._events={}}emit(e){this._events[e]||(this._events[e]=[]);const t=this._events[e].map((e=>e));for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(let n=0;n<t.length;n+=1){const i=t[n];i.once&&this.off(e,i.listener),i.listener.apply(this,r||[])}}_indexOfListener(e,t){let n=e.length;for(;n--;)if(e[n].listener===t)return n;return-1}}const Xk=new class extends Zk{reportLogUploadError(e){this.emit("REPORT_LOG_UPLOAD",e)}};let $k;!function(e){e.UNEXPECTED_ERROR="UNEXPECTED_ERROR",e.UNEXPECTED_RESPONSE="UNEXPECTED_RESPONSE",e.TIMEOUT="TIMEOUT",e.INVALID_PARAMS="INVALID_PARAMS",e.NOT_READABLE="NOT_READABLE",e.NOT_SUPPORTED="NOT_SUPPORTED",e.INVALID_OPERATION="INVALID_OPERATION",e.OPERATION_ABORTED="OPERATION_ABORTED",e.WEB_SECURITY_RESTRICT="WEB_SECURITY_RESTRICT",e.EXCHANGE_SDP_FAILED="EXCHANGE_SDP_FAILED",e.NETWORK_ERROR="NETWORK_ERROR",e.NETWORK_TIMEOUT="NETWORK_TIMEOUT",e.NETWORK_RESPONSE_ERROR="NETWORK_RESPONSE_ERROR",e.API_INVOKE_TIMEOUT="API_INVOKE_TIMEOUT",e.ENUMERATE_DEVICES_FAILED="ENUMERATE_DEVICES_FAILED",e.DEVICE_NOT_FOUND="DEVICE_NOT_FOUND",e.ELECTRON_IS_NULL="ELECTRON_IS_NULL",e.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR="ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR",e.CHROME_PLUGIN_NO_RESPONSE="CHROME_PLUGIN_NO_RESPONSE",e.CHROME_PLUGIN_NOT_INSTALL="CHROME_PLUGIN_NOT_INSTALL",e.MEDIA_OPTION_INVALID="MEDIA_OPTION_INVALID",e.PERMISSION_DENIED="PERMISSION_DENIED",e.CONSTRAINT_NOT_SATISFIED="CONSTRAINT_NOT_SATISFIED",e.TRACK_IS_DISABLED="TRACK_IS_DISABLED",e.GET_VIDEO_ELEMENT_VISIBLE_ERROR="GET_VIDEO_ELEMENT_VISIBLE_ERROR",e.SHARE_AUDIO_NOT_ALLOWED="SHARE_AUDIO_NOT_ALLOWED",e.LOW_STREAM_ENCODING_ERROR="LOW_STREAM_ENCODING_ERROR",e.SET_ENCODING_PARAMETER_ERROR="SET_ENCODING_PARAMETER_ERROR",e.TRACK_STATE_UNREACHABLE="TRACK_STATE_UNREACHABLE",e.INVALID_UINT_UID_FROM_STRING_UID="INVALID_UINT_UID_FROM_STRING_UID",e.CAN_NOT_GET_PROXY_SERVER="CAN_NOT_GET_PROXY_SERVER",e.CAN_NOT_GET_GATEWAY_SERVER="CAN_NOT_GET_GATEWAY_SERVER",e.VOID_GATEWAY_ADDRESS="VOID_GATEWAY_ADDRESS",e.UID_CONFLICT="UID_CONFLICT",e.MULTI_UNILBS_RESPONSE_ERROR="MULTI_UNILBS_RESPONSE_ERROR",e.UPDATE_TICKET_FAILED="UPDATE_TICKET_FAILED",e.INVALID_LOCAL_TRACK="INVALID_LOCAL_TRACK",e.INVALID_TRACK="INVALID_TRACK",e.SENDER_NOT_FOUND="SENDER_NOT_FOUND",e.CREATE_OFFER_FAILED="CREATE_OFFER_FAILED",e.SET_ANSWER_FAILED="SET_ANSWER_FAILED",e.ICE_FAILED="ICE_FAILED",e.PC_CLOSED="PC_CLOSED",e.SENDER_REPLACE_FAILED="SENDER_REPLACE_FAILED",e.GET_LOCAL_CAPABILITIES_FAILED="GET_LOCAL_CAPABILITIES_FAILED",e.GET_LOCAL_CONNECTION_PARAMS_FAILED="GET_LOCAL_CONNECTION_PARAMS_FAILED",e.SUBSCRIBE_FAILED="SUBSCRIBE_FAILED",e.UNSUBSCRIBE_FAILED="UNSUBSCRIBE_FAILED",e.GATEWAY_P2P_LOST="GATEWAY_P2P_LOST",e.NO_ICE_CANDIDATE="NO_ICE_CANDIDATE",e.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS="CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS",e.EXIST_DISABLED_VIDEO_TRACK="EXIST_DISABLED_VIDEO_TRACK",e.INVALID_REMOTE_USER="INVALID_REMOTE_USER",e.REMOTE_USER_IS_NOT_PUBLISHED="REMOTE_USER_IS_NOT_PUBLISHED",e.CUSTOM_REPORT_SEND_FAILED="CUSTOM_REPORT_SEND_FAILED",e.CUSTOM_REPORT_FREQUENCY_TOO_HIGH="CUSTOM_REPORT_FREQUENCY_TOO_HIGH",e.FETCH_AUDIO_FILE_FAILED="FETCH_AUDIO_FILE_FAILED",e.READ_LOCAL_AUDIO_FILE_ERROR="READ_LOCAL_AUDIO_FILE_ERROR",e.DECODE_AUDIO_FILE_FAILED="DECODE_AUDIO_FILE_FAILED",e.WS_ABORT="WS_ABORT",e.WS_DISCONNECT="WS_DISCONNECT",e.WS_ERR="WS_ERR",e.LIVE_STREAMING_TASK_CONFLICT="LIVE_STREAMING_TASK_CONFLICT",e.LIVE_STREAMING_INVALID_ARGUMENT="LIVE_STREAMING_INVALID_ARGUMENT",e.LIVE_STREAMING_INTERNAL_SERVER_ERROR="LIVE_STREAMING_INTERNAL_SERVER_ERROR",e.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED="LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED",e.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED="LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED",e.LIVE_STREAMING_CDN_ERROR="LIVE_STREAMING_CDN_ERROR",e.LIVE_STREAMING_INVALID_RAW_STREAM="LIVE_STREAMING_INVALID_RAW_STREAM",e.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT="LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT",e.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE="LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE",e.LIVE_STREAMING_WARN_FREQUENT_REQUEST="LIVE_STREAMING_WARN_FREQUENT_REQUEST",e.WEBGL_INTERNAL_ERROR="WEBGL_INTERNAL_ERROR",e.BEAUTY_PROCESSOR_INTERNAL_ERROR="BEAUTY_PROCESSOR_INTERNAL_ERROR",e.CROSS_CHANNEL_WAIT_STATUS_ERROR="CROSS_CHANNEL_WAIT_STATUS_ERROR",e.CROSS_CHANNEL_FAILED_JOIN_SRC="CROSS_CHANNEL_FAILED_JOIN_SEC",e.CROSS_CHANNEL_FAILED_JOIN_DEST="CROSS_CHANNEL_FAILED_JOIN_DEST",e.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST="CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST",e.CROSS_CHANNEL_SERVER_ERROR_RESPONSE="CROSS_CHANNEL_SERVER_ERROR_RESPONSE",e.METADATA_OUT_OF_RANGE="METADATA_OUT_OF_RANGE",e.LOCAL_AEC_ERROR="LOCAL_AEC_ERROR",e.INVALID_PLUGIN="INVALID_PLUGIN",e.DISCONNECT_P2P="DISCONNECT_P2P",e.INIT_WEBSOCKET_TIMEOUT="INIT_WEBSOCKET_TIMEOUT",e.CONVERTING_IMAGEDATA_TO_BLOB_FAILED="CONVERTING_IMAGEDATA_TO_BLOB_FAILED",e.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED="CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED"}($k||($k={}));class eN extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;super(t),iO(this,"code",void 0),iO(this,"message",void 0),iO(this,"data",void 0),iO(this,"name","AgoraRTCException"),this.code=e,this.message="AgoraRTCError ".concat(this.code,": ").concat(t),this.data=n}toString(){return this.data?"data: ".concat(JSON.stringify(this.data),"\n").concat(this.stack):"".concat(this.stack)}print(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"error";return"error"===e&&uN.error(this.toString()),"warning"===e&&uN.warning(this.toString()),this}throw(){throw this.print(),this}}const tN={timeout:500,timeoutFactor:1.5,maxRetryCount:1/0,maxRetryTimeout:1e4};function nN(e,t){const n=Math.floor(t.timeout*Math.pow(t.timeoutFactor,e));return Math.min(t.maxRetryTimeout,n)}function rN(e,t,n,r){const i=Object.assign({},tN,r);let o=i.timeout;const a=async()=>{await function(e){return new LC((t=>{window.setTimeout(t,e)}))}(o),o*=i.timeoutFactor,o=Math.min(i.maxRetryTimeout,o)};let s=!1;const c=new LC((async(r,o)=>{t=t||(()=>!1),n=n||(()=>!0);for(let c=0;c<i.maxRetryCount;c+=1){if(s)return o(new eN($k.OPERATION_ABORTED));try{const n=await e();if(!t(n,c))return r(n);if(c+1===i.maxRetryCount)return r(n);await a()}catch(e){if(!n(e,c))return o(e);if(c+1===i.maxRetryCount)return o(e);await a()}}}));return c.cancel=()=>s=!0,c}function iN(){const e=new Date;return e.toTimeString().split(" ")[0]+":"+e.getMilliseconds()}function oN(){const e=new Date,t=/((\d+:){2}\d+)/.exec((new Date).toUTCString());return t?(null==t?void 0:t[0])+":"+e.getUTCMilliseconds():e.toTimeString().split(" ")[0]+":"+e.getMilliseconds()}const aN={DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4},sN=Date.now(),cN=e=>{for(const t in aN)if(Object.prototype.hasOwnProperty.call(aN,t)&&aN[t]===e)return t;return"DEFAULT"},uN=new class{constructor(){iO(this,"proxyServerURL",void 0),iO(this,"logLevel",aN.DEBUG),iO(this,"uploadState","collecting"),iO(this,"uploadLogWaitingList",[]),iO(this,"uploadLogUploadingList",[]),iO(this,"uploadErrorCount",0),iO(this,"currentLogID",0),iO(this,"url",void 0),iO(this,"extLog",((e,t)=>{this.appendLogToWaitingList(e,...t)}))}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=[aN.DEBUG].concat(t);this.log.apply(this,r)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=[aN.INFO].concat(t);this.log.apply(this,r)}warning(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=[aN.WARNING].concat(t);this.log.apply(this,r)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=[aN.ERROR].concat(t);this.log.apply(this,r)}upload(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=[aN.DEBUG].concat(t);this.uploadLog.apply(this,r)}setLogLevel(e){e=Math.min(Math.max(0,e),4),this.logLevel=e}enableLogUpload(){WN("UPLOAD_LOG",!0)}disableLogUpload(){WN("UPLOAD_LOG",!1),this.uploadLogUploadingList=[],this.uploadLogWaitingList=[]}setProxyServer(e){this.proxyServerURL=e}prefix(e){return new Jk(this).prefix(e)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Date.now()-sN<100)return void setTimeout((()=>{this.log(...t)}),Date.now()-sN);const r=Math.max(0,Math.min(4,t[0]));if(t[0]=iN()+" Agora-SDK [".concat(cN(r),"]:"),this.appendLogToWaitingList(r,...t),r<this.logLevel)return;const i=iN()+" %cAgora-SDK [".concat(cN(r),"]:");let o=[];if(!KN("USE_NEW_LOG"))switch(r){case aN.DEBUG:o=[i,"color: #64B5F6;"].concat(t.slice(1)),console.log.apply(console,o);break;case aN.INFO:o=[i,"color: #1E88E5; font-weight: bold;"].concat(t.slice(1)),console.log.apply(console,o);break;case aN.WARNING:o=[i,"color: #FB8C00; font-weight: bold;"].concat(t.slice(1)),console.warn.apply(console,o);break;case aN.ERROR:o=[i,"color: #B00020; font-weight: bold;"].concat(t.slice(1)),console.error.apply(console,o)}}uploadLog(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Date.now()-sN<100)return void setTimeout((()=>{this.uploadLog(...t)}),Date.now()-sN);const r=Math.max(0,Math.min(4,t[0]));t[0]=iN()+" Agora-SDK [".concat(cN(r),"]:"),this.appendLogToWaitingList(r,...t)}appendLogToWaitingList(e){if(!KN("UPLOAD_LOG"))return;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Array.isArray(n[0])?n[0][0]=oN()+" Agora-SDK [".concat(cN(e),"]:"):n[0]=oN()+" Agora-SDK [".concat(cN(e),"]:");let i="";n.forEach((e=>{"object"==typeof e&&(e=JSON.stringify(e)),i+="".concat(e," ")})),this.uploadLogWaitingList.push({payload_str:i,log_level:e,log_item_id:this.currentLogID++}),"uploading"===this.uploadState&&0===this.uploadLogUploadingList.length&&this.uploadLogInterval()}startUpload(){this.uploadState="uploading",0===this.uploadLogUploadingList.length&&this.uploadLogInterval()}async uploadLogs(){const e=this.uploadLogUploadingList,t={sdk_version:MN,process_id:KN("PROCESS_ID"),payload:JSON.stringify(e)};return rN((async()=>{const e=await Yk.post(this.url||(this.proxyServerURL?"https://".concat(this.proxyServerURL,"/ls/?h=").concat(KN("LOG_UPLOAD_SERVER"),"&p=443&d=upload/v1"):"https://".concat(KN("LOG_UPLOAD_SERVER"),"/upload/v1")),t,{responseType:"text"});if("OK"!==e.data){const t=new Error("unexpected upload log response");throw t.response=e,t}}),(()=>(this.uploadLogUploadingList=[],!1)),(e=>(e.response?Xk.reportLogUploadError({status:e.response.status,data:e.response.data,headers:e.response.headers,message:e.message}):e.request?Xk.reportLogUploadError({status:e.request.status,message:e.message}):Xk.reportLogUploadError({status:-1,message:e.message}),!0)),{timeout:KN("UPLOAD_LOG_REQUEST_RETRY_INTERVAL"),maxRetryTimeout:KN("UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL")})}uploadLogInterval(){0===this.uploadLogUploadingList.length&&0===this.uploadLogWaitingList.length||(0===this.uploadLogUploadingList.length&&(this.uploadLogUploadingList=this.uploadLogWaitingList.splice(0,KN("UPLOAD_LOG_LENGTH_EACH_TIME"))),this.uploadLogs().then((()=>{this.uploadErrorCount=0,this.uploadLogWaitingList.length>0&&window.setTimeout((()=>this.uploadLogInterval()),KN("UPLOAD_LOG_INTERVAL"))})).catch((e=>{this.uploadErrorCount+=1,this.uploadErrorCount<2?window.setTimeout((()=>this.uploadLogInterval()),KN("UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1")):window.setTimeout((()=>this.uploadLogInterval()),KN("UPLOAD_LOG_RETRY_INTERVAL_V1"))})))}},lN={debug:console.log,info:console.log,warning:console.warn,error:console.error},dN={debug:"color: #64B5F6;",info:"color: #1E88E5; font-weight: bold;",warning:"color: #FB8C00; font-weight: bold;",error:"color: #B00020; font-weight: bold;"},hN={debug:0,info:1,warning:2,error:3},pN=[];let fN,AN=0,gN=0,mN=!1;function vN(){const e=new Date;return[e.getTime(),e.toTimeString().split(" ")[0]+":"+e.getMilliseconds()]}function yN(e){if(!KN("UPLOAD_LOG"))return;let t;switch(e.type){case uP.MISC:t=[e.timestamp,e.level,e.type,e.module,e.instanceId,[e.msg]];break;case uP.INTERNAL_EVENT:case uP.PUBLIC_EVENT:case uP.WEB_EVENT:t=[e.timestamp,e.level,e.type,e.module,e.instanceId,[e.event,e.msg]];break;case uP.INTERNAL_API:case uP.PUBLIC_API:case uP.WEB_API:t=[e.timestamp,e.level,e.type,e.module,e.instanceId,[e.api,e.args,e.result]]}pN.push(t)}function EN(e,t){const[n,r]=vN(),i="warning",o="".concat(r," %cAgora-SDK [").concat(i,"] [INTERNAL API]:"),a={[uP.WEB_API]:"logWebAPI",[uP.PUBLIC_API]:"logPublicAPI",[uP.INTERNAL_API]:"logInternalAPI",[uP.WEB_EVENT]:"logWebEvent",[uP.PUBLIC_EVENT]:"logPublicEvent",[uP.INTERNAL_EVENT]:"logInternalEvent",[uP.MISC]:"logMisc"}[e],s=[o,dN.warning,"Log.".concat(a),t];KN("USE_NEW_LOG")&&(_N(i)&&lN.warning.apply(console,s),yN({timestamp:n,level:i,module:"Log",instanceId:void 0,type:uP.INTERNAL_API,api:a,args:void 0,result:t.toString()}))}function bN(e){if(Array.isArray(e)){let[t,n]=e;return t||(t="Global"),{module:t,instanceId:n}}let t,n;if("string"!=typeof e.__moduleName)throw new Error("Cannot get __moduleName from log instance.");t=e.__moduleName;try{n=e.__instanceId}catch(e){throw new Error("Cannot get __instanceId from log instance.")}return{module:t,instanceId:n}}function _N(e){return hN[e]>=gN}function CN(e,t,n,r,i,o){if(e===uP.PUBLIC_API||e===uP.WEB_API||e===uP.INTERNAL_API)try{const{module:a,instanceId:s}=bN(n);i=i&&JSON.stringify(i),o=o instanceof Error?o.toString():o&&JSON.stringify(o);const[c,u]=vN(),l=["".concat(u," %cAgora-SDK [").concat(t,"] [").concat({[uP.PUBLIC_API]:"PUBLIC API",[uP.WEB_API]:"WEB API",[uP.INTERNAL_API]:"INTERNAL API"}[e],"]:"),dN[t],"".concat(a).concat(s?"<".concat(s,">"):"",".").concat(r),i,o];KN("USE_NEW_LOG")&&(_N(t)&&lN[t].apply(console,l),yN({timestamp:c,level:t,module:a,instanceId:s,type:e,api:r,args:i,result:o}))}catch(t){EN(e,t)}}function IN(e,t,n,r,i){if(e===uP.WEB_EVENT||e===uP.INTERNAL_EVENT||e===uP.PUBLIC_EVENT)try{const{module:o,instanceId:a}=bN(n);"string"!=typeof i&&(i=i instanceof Error?i.toString():JSON.stringify(i));const[s,c]=vN(),u=["".concat(c," %cAgora-SDK [").concat(t,"] [").concat({[uP.WEB_EVENT]:"WEB EVENT",[uP.PUBLIC_EVENT]:"PUBLIC EVENT",[uP.INTERNAL_EVENT]:"INTERNAL EVENT"}[e],"]:"),dN[t],"".concat(o).concat(a?"<".concat(a,">"):"",".on(").concat(r,")"),i||""];KN("USE_NEW_LOG")&&(_N(t)&&lN[t].apply(console,u),yN({timestamp:s,level:t,module:o,instanceId:a,type:e,event:r,msg:i}))}catch(t){EN(e,t)}}function SN(e){fN=e}function wN(e,t,n){try{const{module:r,instanceId:i}=bN(t),[o,a]=vN(),s=["".concat(a," %cAgora-SDK [").concat(e,"] [MISC]:"),dN[e],"".concat(r).concat(i?"<".concat(i,">"):""),'"'.concat(n,'"')];KN("USE_NEW_LOG")&&(_N(e)&&lN[e].apply(console,s),yN({timestamp:o,level:e,module:r,instanceId:i,type:uP.MISC,msg:n}))}catch(e){kN("warning",["log"],"logMisc",void 0,e)}}function RN(e,t,n,r){IN(uP.INTERNAL_EVENT,e,t,n,r)}function TN(e,t,n,r){IN(uP.PUBLIC_EVENT,e,t,n,r)}function ON(e,t,n,r){IN(uP.WEB_EVENT,e,t,n,r)}function kN(e,t,n,r,i){CN(uP.INTERNAL_API,e,t,n,r,i)}function NN(e,t,n,r,i){CN(uP.WEB_API,e,t,n,r,i)}function DN(e,t,n,r,i){CN(uP.PUBLIC_API,e,t,n,r,i)}function PN(e,t){return function(n){return class extends n{get __moduleName(){return e}get __instanceId(){if(t){if("function"==typeof this[t])return this[t]();{const e=t.split(".");return e.length>0?lh(e).call(e,((e,t)=>{try{return e?e[t]:e}catch(e){return}}),this):this[t]}}}}}}async function xN(e){if(!e&&mN)return;if(mN=!0,!KN("UPLOAD_LOG"))return void setTimeout((()=>xN(!0)),KN("UPLOAD_LOG_TRY_INTERVAL_WHILE_OFF"));if(0===pN.length)return void setTimeout((()=>xN(!0)),KN("UPLOAD_LOG_INTERVAL"));const t=pN.slice(0,KN("UPLOAD_LOG_LENGTH_EACH_TIME")),n={sdk_version:MN,log_version:KN("LOG_VERSION"),process_id:KN("PROCESS_ID"),index:AN,logs:JSON.stringify(t)};await rN((async()=>{const e=await Yk.post(fN?"https://".concat(fN,"/ls/?h=").concat(KN("LOG_UPLOAD_SERVER"),"&p=443&d=upload/v1"):"https://".concat(KN("LOG_UPLOAD_SERVER"),"/upload/v1"),n,{responseType:"text"});if("OK"!==e.data)throw new Error("Log service response error ".concat(e.data));return e}),void 0,void 0,{timeout:KN("UPLOAD_LOG_REQUEST_RETRY_INTERVAL"),maxRetryTimeout:KN("UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL")}),pN.splice(0,KN("UPLOAD_LOG_LENGTH_EACH_TIME")),AN+=t.length,setTimeout((()=>xN(!0)),KN("UPLOAD_LOG_INTERVAL"))}const LN="v4.14.0-0-gcbc85772-dirty(8/31/2022, 8:18:28 PM)",MN=function(e){if(e.match(/[0-9]+\.[0-9]+\.[0-9]+$/))return e;const t=e.match(/([0-9]+\.[0-9]+\.[0-9]+)\-alpha\.([0-9]+)/);if(t&&t[1]&&t[2]){const e=t[1],n=t[2];return"".concat(e,".").concat(n)}const n=e.match(/([0-9]+\.[0-9]+\.[0-9]+)\-special\.([0-9]+)/);if(n&&n[1]&&n[2]){const e=n[1],t=n[2];return"".concat(e,".").concat(100*(Number(t)+1))}return"4.0.0.999"}("4.14.0"),BN=function(){try{return!0===JSON.parse("true")}catch(e){return!0}}(),FN=function(){const e="us".concat("erna","me"),t="pa".concat("sswo","rd"),n=["t","s","t"];n.splice(1,0,"e");const r=n.join(""),i=[];for(let e=0;e<6;e++)i.push("1");const o=i.join(""),a={};return a[e]=r,a[t]=o,Object.assign(a,{turnServerURL:"",tcpport:3433,udpport:3478,forceturn:!1})}();window.DEFAULT_TURN_CONFIG=FN;const UN={"90p":XN(160,90),"90p_1":XN(160,90),"120p":XN(160,120,15,30,65),"120p_1":XN(160,120,15,30,65),"120p_3":XN(120,120,15,30,50),"120p_4":XN(212,120),"180p":XN(320,180,15,30,140),"180p_1":XN(320,180,15,30,140),"180p_3":XN(180,180,15,30,100),"180p_4":XN(240,180,15,30,120),"240p":XN(320,240,15,40,200),"240p_1":XN(320,240,15,40,200),"240p_3":XN(240,240,15,40,140),"240p_4":XN(424,240,15,40,220),"360p":XN(640,360,15,80,400),"360p_1":XN(640,360,15,80,400),"360p_3":XN(360,360,15,80,260),"360p_4":XN(640,360,30,80,600),"360p_6":XN(360,360,30,80,400),"360p_7":XN(480,360,15,80,320),"360p_8":XN(480,360,30,80,490),"360p_9":XN(640,360,15,80,800),"360p_10":XN(640,360,24,80,800),"360p_11":XN(640,360,24,80,1e3),"480p":XN(640,480,15,100,500),"480p_1":XN(640,480,15,100,500),"480p_2":XN(640,480,30,100,1e3),"480p_3":XN(480,480,15,100,400),"480p_4":XN(640,480,30,100,750),"480p_6":XN(480,480,30,100,600),"480p_8":XN(848,480,15,100,610),"480p_9":XN(848,480,30,100,930),"480p_10":XN(640,480,10,100,400),"720p":XN(1280,720,15,120,1130),"720p_1":XN(1280,720,15,120,1130),"720p_2":XN(1280,720,30,120,2e3),"720p_3":XN(1280,720,30,120,1710),"720p_5":XN(960,720,15,120,910),"720p_6":XN(960,720,30,120,1380),"1080p":XN(1920,1080,15,120,2080),"1080p_1":XN(1920,1080,15,120,2080),"1080p_2":XN(1920,1080,30,120,3e3),"1080p_3":XN(1920,1080,30,120,3150),"1080p_5":XN(1920,1080,60,120,4780),"1440p":XN(2560,1440,30,120,4850),"1440p_1":XN(2560,1440,30,120,4850),"1440p_2":XN(2560,1440,60,120,7350),"4k":XN(3840,2160,30,120,8910),"4k_1":XN(3840,2160,30,120,8910),"4k_3":XN(3840,2160,60,120,13500)},jN={"480p":$N(640,480,5),"480p_1":$N(640,480,5),"480p_2":$N(640,480,30),"480p_3":$N(640,480,15),"720p":$N(1280,720,5),"720p_1":$N(1280,720,5),"720p_2":$N(1280,720,30),"720p_3":$N(1280,720,15),"1080p":$N(1920,1080,5),"1080p_1":$N(1920,1080,5),"1080p_2":$N(1920,1080,30),"1080p_3":$N(1920,1080,15)},VN={"1SL1TL":eD(1,1),"3SL3TL":eD(3,3),"2SL3TL":eD(2,3)};function QN(e){return"string"==typeof e?Object.assign({},UN[e]):e}function GN(e){return"string"==typeof e?Object.assign({},jN[e]):e}function qN(e){return"string"==typeof e?Object.assign({},VN[e]):e}const HN={speech_low_quality:ZN(16e3,!1),speech_standard:ZN(32e3,!1,18),music_standard:ZN(48e3,!1),standard_stereo:ZN(48e3,!0,56),high_quality:ZN(48e3,!1,128),high_quality_stereo:ZN(48e3,!0,192)};function zN(e){return"string"==typeof e?Object.assign({},HN[e]):e}function WN(e,t,n){Object.keys(YN).includes(e)&&(!n&&Object.keys(JN).includes(e)||(YN[e]=t))}function KN(e){return YN[e]}const YN={PROCESS_ID:"",ENCRYPT_AES:!0,AREAS:["CHINA","GLOBAL"],WEBCS_DOMAIN:["webrtc2-ap-web-1.agora.io","webrtc2-2.ap.sd-rtn.com"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-ap-web-3.agora.io","webrtc2-4.ap.sd-rtn.com"],PROXY_CS:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],CDS_AP:["cds-ap-web-1.agora.io","cds-web-2.ap.sd-rtn.com","cds-ap-web-3.agora.io","cds-web-4.ap.sd-rtn.com"],ACCOUNT_REGISTER:["sua-ap-web-1.agora.io","sua-web-2.ap.sd-rtn.com","sua-ap-web-3.agora.io","sua-web-4.ap.sd-rtn.com"],UAP_AP:["uap-ap-web-1.agora.io","uap-web-2.ap.sd-rtn.com","uap-ap-web-3.agora.io","uap-web-4.ap.sd-rtn.com"],LOG_UPLOAD_SERVER:"logservice.agora.io",EVENT_REPORT_DOMAIN:"statscollector-1.agora.io",EVENT_REPORT_BACKUP_DOMAIN:"web-2.statscollector.sd-rtn.com",GATEWAY_ADDRESS:[],GATEWAY_WSS_ADDRESS:"",LIVE_STREAMING_ADDRESS:"",HTTP_CONNECT_TIMEOUT:5e3,SIGNAL_REQUEST_TIMEOUT:1e4,REPORT_STATS:!0,UPLOAD_LOG:!1,NOT_REPORT_EVENT:[],SUBSCRIBE_TCC:!0,PING_PONG_TIME_OUT:10,WEBSOCKET_TIMEOUT_MIN:1e4,EVENT_REPORT_SEND_INTERVAL:3e3,CONFIG_DISTRIBUTE_INTERVAL:3e5,CANDIDATE_TIMEOUT:5e3,SHOW_REPORT_INVOKER_LOG:!1,JOIN_EXTEND:"",PUB_EXTEND:"",SUB_EXTEND:"",FORCE_TURN:!1,TURN_ENABLE_TCP:!0,TURN_ENABLE_UDP:!0,MAX_UPLOAD_CACHE:50,UPLOAD_CACHE_INTERVAL:2e3,AJAX_REQUEST_CONCURRENT:3,REPORT_APP_SCENARIO:void 0,GATEWAY_DOMAINS:["edge.agora.io","edge.sd-rtn.com"],WORKER_DOMAIN:"edge.agora.io",TURN_DOMAIN:"edge.agora.io",EVENT_REPORT_RETRY:!0,CHROME_FORCE_PLAN_B:!1,AUDIO_SOURCE_VOLUME_UPDATE_INTERVAL:400,AUDIO_SOURCE_AVG_VOLUME_DURATION:3e3,AUDIO_VOLUME_INDICATION_INTERVAL:2e3,VOLUME_VOICE_WEIGHT:10,GET_VOLUME_OF_MUTED_AUDIO_TRACK:!1,NORMAL_EVENT_QUEUE_CAPACITY:100,CUSTOM_REPORT:!0,CUSTOM_REPORT_LIMIT:20,PROXY_SERVER_TYPE2:"webnginx-proxy.agora.io",PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.sd-rtn.com","webrtc-cloud-proxy.agora.io"],CUSTOM_PUB_ANSWER_MODIFIER:null,CUSTOM_SUB_ANSWER_MODIFIER:null,CUSTOM_PUB_OFFER_MODIFIER:null,CUSTOM_SUB_OFFER_MODIFIER:null,DSCP_TYPE:"high",REMOVE_NEW_CODECS:!0,FRAGEMENT_LENGTH:3,WEBSOCKET_COMPRESS:!1,SIMULCAST:!1,PRELOAD_MEDIA_COUNT:0,USE_RTX:!1,CHECK_VIDEO_VISIBLE_INTERVAL:3e4,ENUMERATE_DEVICES_INTERVAL:!1,ENUMERATE_DEVICES_INTERVAL_TIME:1e4,USE_NEW_TOKEN:!1,JOIN_WITH_FALLBACK_SIGNAL_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE:!1,JOIN_WITH_FALLBACK_PROXY_PENDING_DURATION:2e3,USE_TURN_SERVER_OF_GATEWAY:!1,H264_PROFILE_LEVEL_ID:"",USE_NEW_LOG:!1,LOG_VERSION:3,MEDIA_DEVICE_CONSTRAINTS:null,ENCRYPT_PROXY_USERNAME_AND_PSW:!0,SDP_LOGGING:!1,REMOTE_AUDIO_TRACK_USES_WEB_AUDIO:!1,LOCAL_AUDIO_TRACK_USES_WEB_AUDIO:!0,BITRATE_ADAPTER_TYPE:"STANDARD_BITRATE",AI_DENOISER_PARAMETERS:{},ADJUST_3A_FROM_PLUGINS:!0,RAISE_H264_BASELINE_PRIORITY:!0,FILTER_SEND_H264_BASELINE:!1,ENABLE_PUBLISHED_USER_LIST:!0,MAX_SUBSCRIPTION:50,X_GOOGLE_START_BITRATE:void 0,NEW_REPORT_SERVER:!1,NEW_REPORT_SERVER_DOMAINS:["data-reporting.agora.io","data-reporting.agora.io"],VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT:3e5,VIDEO_INSPECT_INTERVAL_MINIMUM:1e3,VIDEO_INSPECT_QUALITY_RATIO:.9,VIDEO_INSPECT_WORKER_MANAGER_HOST:"edge.agora.io",VIDEO_INSPECT_WORKER_MANAGER_PORT:"",VIDEO_INSPECT_WORKER_PORT:"",SHOW_VIDEO_INSPECT_WORKER_MESSAGE:!1,STATS_COLLECTOR_PORT:443,FORCE_TURN_TCP:!1,SUBSCRIBE_AUDIO_FILTER_TOPN:void 0,ENABLE_PUBLISH_AUDIO_FILTER:void 0,WEBAUDIO_INIT_OPTIONS:void 0,FILTER_VIDEO_FEC:!0,FILTER_AUDIO_FEC:!1,CHROME_DUAL_STREAM_USE_ENCODING:!0,ACCOUNT_REGISTER_RETRY_TIMEOUT:1,ACCOUNT_REGISTER_RETRY_RATIO:2,ACCOUNT_REGISTER_RETRY_TIMEOUT_MAX:6e4,ACCOUNT_REGISTER_RETRY_COUNT_MAX:1e5,AUDIO_CONTEXT:null,WEBCS_BACKUP_CONNECT_TIMEOUT:6e3,PLAYER_STATE_DEFER:2e3,SIGNAL_REQUEST_WATCH_INTERVAL:1e3,FILEPATH_LENMAX:255,DUALSTREAM_OPERATION_CHECK:!0,MEDIA_ELEMENT_EXISTS_DEPTH:3,SHIM_CANDIDATE:!1,LEAVE_MSG_TIMEOUT:2e3,STATS_FILTER:{transportId:!0,googTrackId:!0},UPLOAD_LOG_INTERVAL:3e3,UPLOAD_LOG_REQUEST_RETRY_INTERVAL:2e3,UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL:2e4,UPLOAD_LOG_TRY_INTERVAL_WHILE_OFF:5e3,UPLOAD_LOG_RETRY_INTERVAL_V1:1e4,UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1:200,UPLOAD_LOG_LENGTH_EACH_TIME:10,APP_TYPE:0},JN={};function ZN(e,t,n){return{sampleRate:e,stereo:t,bitrate:n}}function XN(e,t,n,r,i){return{width:e,height:t,frameRate:n,bitrateMin:r,bitrateMax:i}}function $N(e,t,n,r,i){return{width:{max:e},height:{max:t},frameRate:n,bitrateMin:r,bitrateMax:i}}function eD(e,t){return{numSpatialLayers:e,numTemporalLayers:t}}BN||(YN.WEBCS_DOMAIN=["ap-web-1-oversea.agora.io","ap-web-1-north-america.agora.io"],YN.WEBCS_DOMAIN_BACKUP_LIST=["ap-web-2-oversea.agora.io","ap-web-2-north-america.agora.io"],YN.PROXY_CS=["proxy-ap-web-oversea.agora.io","proxy-ap-web-america.agora.io"],YN.CDS_AP=["cds-ap-web-oversea.agora.io","cds-ap-web-america.agora.io","cds-ap-web-america2.agora.io"],YN.ACCOUNT_REGISTER=["sua-ap-web-oversea.agora.io","sua-ap-web-america.agora.io","sua-ap-web-america2.agora.io"],YN.UAP_AP=["uap-ap-web-oversea.agora.io","uap-ap-web-america.agora.io","uap-ap-web-america2.agora.io"],YN.LOG_UPLOAD_SERVER="logservice-oversea.agora.io",YN.EVENT_REPORT_DOMAIN="statscollector-1-oversea.agora.io",YN.EVENT_REPORT_BACKUP_DOMAIN="statscollector-2-oversea.agora.io",YN.PROXY_SERVER_TYPE3="webrtc-cloud-proxy.agora.io",YN.AREAS=["NORTH_AMERICA","OVERSEA"]);const tD=[[0,1,2,3,4,5,5],[0,2,2,3,4,5,5],[0,3,3,3,4,5,5],[0,4,4,4,4,5,5],[0,5,5,5,5,5,5]],nD=[],rD=[];var iD=Pl,oD=cd,aD=Jc,sD=function(e,t,n){var r=iD(t);r in e?oD.f(e,r,aD(0,n)):e[r]=n},cD=eg,uD=Gd,lD=sD,dD=Dc.Array,hD=Math.max,pD=function(e,t,n){for(var r=uD(e),i=cD(t,r),o=cD(void 0===n?r:n,r),a=dD(hD(o-i,0)),s=0;i<o;i++,s++)lD(a,s,e[i]);return a.length=s,a},fD=pD,AD=Math.floor,gD=function(e,t){var n=e.length,r=AD(n/2);return n<8?mD(e,t):vD(e,gD(fD(e,0,r),t),gD(fD(e,r),t),t)},mD=function(e,t){for(var n,r,i=e.length,o=1;o<i;){for(r=o,n=e[o];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==o++&&(e[r]=n)}return e},vD=function(e,t,n,r){for(var i=t.length,o=n.length,a=0,s=0;a<i||s<o;)e[a+s]=a<i&&s<o?r(t[a],n[s])<=0?t[a++]:n[s++]:a<i?t[a++]:n[s++];return e},yD=gD,ED=Eu.match(/firefox\/(\d+)/i),bD=!!ED&&+ED[1],_D=/MSIE|Trident/.test(Eu),CD=Eu.match(/AppleWebKit\/(\d+)\./),ID=!!CD&&+CD[1],SD=Bd,wD=Oc,RD=Gu,TD=il,OD=Gd,kD=Jm,ND=_c,DD=yD,PD=Xd,xD=bD,LD=_D,MD=Ru,BD=ID,FD=[],UD=wD(FD.sort),jD=wD(FD.push),VD=ND((function(){FD.sort(void 0)})),QD=ND((function(){FD.sort(null)})),GD=PD("sort"),qD=!ND((function(){if(MD)return MD<70;if(!(xD&&xD>3)){if(LD)return!0;if(BD)return BD<603;var e,t,n,r,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)FD.push({k:t+r,v:n})}for(FD.sort((function(e,t){return t.v-e.v})),r=0;r<FD.length;r++)t=FD[r].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}}));SD({target:"Array",proto:!0,forced:VD||!QD||!GD||!qD},{sort:function(e){void 0!==e&&RD(e);var t=TD(this);if(qD)return void 0===e?UD(t):UD(t,e);var n,r,i=[],o=OD(t);for(r=0;r<o;r++)r in t&&jD(i,t[r]);for(DD(i,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:kD(t)>kD(n)?1:-1}}(e)),n=i.length,r=0;r<n;)t[r]=i[r++];for(;r<o;)delete t[r++];return t}});var HD=ih("Array").sort,zD=kc,WD=HD,KD=Array.prototype,YD=function(e){var t=e.sort;return e===KD||zD(KD,e)&&t===KD.sort?WD:t};function JD(e,t){if("boolean"!=typeof e)throw new eN($k.INVALID_PARAMS,"Invalid ".concat(t,": The value is of the boolean type."))}function ZD(e,t,n){if(!n.includes(e))throw new eN($k.INVALID_PARAMS,"".concat(t," can only be set as ").concat(JSON.stringify(n)))}function XD(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;if(e<n||e>r||(!(arguments.length>4&&void 0!==arguments[4])||arguments[4])&&!aP(e))throw new eN($k.INVALID_PARAMS,"invalid ".concat(t,": the value range is [").concat(n,", ").concat(r,"]. integer only"))}function $D(e,t){if("number"!=typeof e){if(!(e.min||e.max||e.ideal||e.exact))throw new eN($k.INVALID_PARAMS,"".concat(t," is not a valid ConstrainLong"));void 0!==e.min&&XD(e.min,"".concat(t,".min"),0,1/0),void 0!==e.max&&XD(e.max,"".concat(t,".max"),1,1/0),void 0!==e.exact&&XD(e.exact,"".concat(t,".exact"),1,1/0),void 0!==e.ideal&&XD(e.ideal,"".concat(t,".ideal"),1,1/0)}else XD(e,t,1,1/0)}function eP(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:255,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(null==e)throw new eN($k.INVALID_PARAMS,"".concat(t||"param"," cannot be empty"));if(!oP(e,n,r,i))throw new eN($k.INVALID_PARAMS,"Invalid ".concat(t||"string param",": Length of the string: [").concat(n,",").concat(r,"].").concat(i?" ASCII characters only.":""))}function tP(e,t){if(!Array.isArray(e))throw new eN($k.INVALID_PARAMS,"".concat(t," should be an array"))}function nP(e){if("string"!=typeof e||!/^[a-zA-Z0-9 \!\#\$\%\&\(\)\+\-\:\;\<\=\.\>\?\@\[\]\^\_\{\}\|\~\,]{1,64}$/.test(e))throw uN.error("Invalid Channel Name ".concat(e)),new eN($k.INVALID_PARAMS,"The length must be within 64 bytes. The supported characters: a-z,A-Z,0-9,space,!, #, $, %, &, (, ), +, -, :, ;, <, =, ., >, ?, @, [, ], ^, _,  {, }, |, ~, ,")}function rP(e){if(!("number"==typeof(t=e)&&Math.floor(t)===t&&0<=t&&t<=4294967295||oP(e,1,255)))throw uN.error("Invalid UID ".concat(e," ").concat(typeof e)),new eN($k.INVALID_PARAMS,"[String uid] Length of the string: [1,255]. ASCII characters only. [Number uid] The value range is [0,10000]");var t;"string"==typeof e&&uN.warning("You input a string as the user ID, to ensure better end-user experience, Agora highly suggests not using a string as the user ID.")}function iP(e){return null==e}function oP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:255,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return"string"==typeof e&&e.length<=n&&e.length>=t&&(!r||sP(e))}function aP(e){return"number"==typeof e&&e%1==0}function sP(e){if("string"!=typeof e)return!1;for(let t=0;t<e.length;t+=1){const n=e.charCodeAt(t);if(n<0||n>255)return!1}return!0}let cP,uP,lP;!function(e){e.FREE="free",e.UPLOADING="uploading"}(cP||(cP={})),function(e){e[e.MISC=0]="MISC",e[e.INTERNAL_EVENT=1]="INTERNAL_EVENT",e[e.PUBLIC_EVENT=2]="PUBLIC_EVENT",e[e.WEB_EVENT=3]="WEB_EVENT",e[e.INTERNAL_API=4]="INTERNAL_API",e[e.WEB_API=5]="WEB_API",e[e.PUBLIC_API=6]="PUBLIC_API"}(uP||(uP={})),function(e){e.NONE="none",e.INIT="init",e.CANPLAY="canplay",e.PLAYING="playing",e.PAUSED="paused",e.SUSPEND="suspend",e.STALLED="stalled",e.WAITING="waiting",e.ERROR="error",e.DESTROYED="destroyed",e.ABORT="abort",e.ENDED="ended",e.EMPTIED="emptied",e.LOADEDDATA="loadeddata"}(lP||(lP={}));const dP={uninit:100,none:110,init:120,loadeddata:130,canplay:200,playing:210,paused:220,suspend:300,stalled:310,waiting:320,error:330,destroyed:340,abort:350,ended:360,emptied:370};function hP(e){return eP(e.reportId,"params.reportId",0,100,!1),eP(e.category,"params.category",0,100,!1),eP(e.event,"params.event",0,100,!1),eP(e.label,"params.label",0,100,!1),XD(e.value,"params.value",Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,!1),!0}const pP={sid:"",lts:0,success:null,cname:null,uid:null,peer:null,cid:null,elapse:null,extend:null,vid:0};let fP,AP,gP,mP,vP,yP,EP,bP,_P,CP,IP,SP,wP,RP,TP,OP,kP,NP,DP,PP,xP,LP,MP,BP;function FP(e){return XD(e.timeout,"config.timeout",0,1e5),XD(e.timeoutFactor,"config.timeoutFactor",0,100,!1),XD(e.maxRetryCount,"config.maxRetryConfig",0,1/0),XD(e.maxRetryTimeout,"config.maxRetryTimeout",0,1/0),!0}function UP(e){return ZD(e.codec,"config.codec",["vp8","vp9","av1","h264"]),ZD(e.mode,"config.mode",["rtc","live"]),void 0!==e.audioCodec&&ZD(e.audioCodec,"config.audioCodec",["opus","pcmu","pcma","g722"]),void 0!==e.proxyServer&&eP(e.proxyServer,"config.proxyServer",1,1e4),void 0!==e.turnServer&&VP(e.turnServer),void 0!==e.httpRetryConfig&&FP(e.httpRetryConfig),void 0!==e.websocketRetryConfig&&FP(e.websocketRetryConfig),!0}function jP(e){if(!Array.isArray(e)||e.length<1)return!1;try{e.forEach((e=>{if(!e.urls)throw Error()}))}catch(e){return!1}return!0}function VP(e){return eP(e.turnServerURL,"turnServerURL"),eP(e.username,"username"),eP(e.password,"password"),e.udpport&&XD(e.udpport,"udpport",1,99999,!0),e.forceturn&&JD(e.forceturn,"forceturn"),e.security&&JD(e.security,"security"),e.tcpport&&XD(e.tcpport,"tcpport",1,99999,!0),!0}function QP(e){return void 0!==e.level&&ZD(e.level,"level",[1,2,3]),!0}!function(e){e.PUBLISH="publish",e.SUBSCRIBE="subscribe",e.WS_COMPRESSOR_INIT="ws_compressor_init",e.SESSION_INIT="session_init",e.JOIN_CHOOSE_SERVER="join_choose_server",e.REQ_USER_ACCOUNT="req_user_account",e.JOIN_GATEWAY="join_gateway",e.REJOIN_GATEWAY="rejoin_gateway",e.STREAM_SWITCH="stream_switch",e.REQUEST_PROXY_WORKER_MANAGER="request_proxy_worker_manager",e.REQUEST_PROXY_APPCENTER="request_proxy_appcenter",e.FIRST_VIDEO_RECEIVED="first_video_received",e.FIRST_AUDIO_RECEIVED="first_audio_received",e.FIRST_VIDEO_DECODE="first_video_decode",e.FIRST_AUDIO_DECODE="first_audio_decode",e.ON_ADD_AUDIO_STREAM="on_add_audio_stream",e.ON_ADD_VIDEO_STREAM="on_add_video_stream",e.ON_UPDATE_STREAM="on_update_stream",e.ON_REMOVE_STREAM="on_remove_stream",e.USER_ANALYTICS="req_user_analytics"}(fP||(fP={})),function(e){e.SESSION="io.agora.pb.Wrtc.Session",e.JOIN_CHOOSE_SERVER="io.agora.pb.Wrtc.JoinChooseServer",e.REQ_USER_ACCOUNT="io.agora.pb.Wrtc.ReqUserAccount",e.JOIN_GATEWAY="io.agora.pb.Wrtc.JoinGateway",e.RE_JOIN_GATEWAY="io.agora.pb.Wrtc.ReJoinGateway",e.PUBLISH="io.agora.pb.Wrtc.Publish",e.SUBSCRIBE="io.agora.pb.Wrtc.Subscribe",e.WS_COMPRESSOR_INIT="io.agora.pb.Wrtc.WsCompressorInit",e.STREAM_SWITCH="io.agora.pb.Wrtc.StreamSwitch",e.AUDIO_SENDING_STOPPED="io.agora.pb.Wrtc.AudioSendingStopped",e.VIDEO_SENDING_STOPPED="io.agora.pb.Wrtc.VideoSendingStopped",e.REQUEST_PROXY_APPCENTER="io.agora.pb.Wrtc.RequestProxyAppCenter",e.REQUEST_PROXY_WORKER_MANAGER="io.agora.pb.Wrtc.RequestProxyWorkerManager",e.API_INVOKE="io.agora.pb.Wrtc.ApiInvoke",e.FIRST_VIDEO_RECEIVED="io.agora.pb.Wrtc.FirstVideoReceived",e.FIRST_AUDIO_RECEIVED="io.agora.pb.Wrtc.FirstAudioReceived",e.FIRST_VIDEO_DECODE="io.agora.pb.Wrtc.FirstVideoDecode",e.FIRST_AUDIO_DECODE="io.agora.pb.Wrtc.FirstAudioDecode",e.ON_ADD_AUDIO_STREAM="io.agora.pb.Wrtc.OnAddAudioStream",e.ON_ADD_VIDEO_STREAM="io.agora.pb.Wrtc.OnAddVideoStream",e.ON_UPDATE_STREAM="io.agora.pb.Wrtc.OnUpdateStream",e.ON_REMOVE_STREAM="io.agora.pb.Wrtc.OnRemoveStream",e.JOIN_CHANNEL_TIMEOUT="io.agora.pb.Wrtc.JoinChannelTimeout",e.PEER_PUBLISH_STATUS="io.agora.pb.Wrtc.PeerPublishStatus",e.WORKER_EVENT="io.agora.pb.Wrtc.WorkerEvent",e.AP_WORKER_EVENT="io.agora.pb.Wrtc.APWorkerEvent",e.JOIN_WEB_PROXY_AP="io.agora.pb.Wrtc.JoinWebProxyAP",e.WEBSOCKET_QUIT="io.agora.pb.Wrtc.WebSocketQuit",e.USER_ANALYTICS="io.agora.pb.Wrtc.UserAnalytics",e.AUTOPLAY_FAILED="io.agora.pb.Wrtc.AutoplayFailed"}(AP||(AP={})),function(e){e[e.WORKER_EVENT=156]="WORKER_EVENT",e[e.AP_WORKER_EVENT=160]="AP_WORKER_EVENT"}(gP||(gP={})),function(e){e[e.SESSION=26]="SESSION",e[e.JOIN_CHOOSE_SERVER=27]="JOIN_CHOOSE_SERVER",e[e.REQ_USER_ACCOUNT=196]="REQ_USER_ACCOUNT",e[e.JOIN_GATEWAY=28]="JOIN_GATEWAY",e[e.PUBLISH=30]="PUBLISH",e[e.SUBSCRIBE=29]="SUBSCRIBE",e[e.WS_COMPRESSOR_INIT=9430]="WS_COMPRESSOR_INIT",e[e.STREAM_SWITCH=32]="STREAM_SWITCH",e[e.AUDIO_SENDING_STOPPED=33]="AUDIO_SENDING_STOPPED",e[e.VIDEO_SENDING_STOPPED=34]="VIDEO_SENDING_STOPPED",e[e.REQUEST_PROXY_APPCENTER=35]="REQUEST_PROXY_APPCENTER",e[e.REQUEST_PROXY_WORKER_MANAGER=36]="REQUEST_PROXY_WORKER_MANAGER",e[e.API_INVOKE=41]="API_INVOKE",e[e.FIRST_VIDEO_RECEIVED=348]="FIRST_VIDEO_RECEIVED",e[e.FIRST_AUDIO_RECEIVED=349]="FIRST_AUDIO_RECEIVED",e[e.FIRST_VIDEO_DECODE=350]="FIRST_VIDEO_DECODE",e[e.FIRST_AUDIO_DECODE=351]="FIRST_AUDIO_DECODE",e[e.ON_ADD_AUDIO_STREAM=352]="ON_ADD_AUDIO_STREAM",e[e.ON_ADD_VIDEO_STREAM=353]="ON_ADD_VIDEO_STREAM",e[e.ON_UPDATE_STREAM=356]="ON_UPDATE_STREAM",e[e.ON_REMOVE_STREAM=355]="ON_REMOVE_STREAM",e[e.JOIN_CHANNEL_TIMEOUT=407]="JOIN_CHANNEL_TIMEOUT",e[e.PEER_PUBLISH_STATUS=408]="PEER_PUBLISH_STATUS",e[e.WORKER_EVENT=156]="WORKER_EVENT",e[e.AP_WORKER_EVENT=160]="AP_WORKER_EVENT",e[e.JOIN_WEB_PROXY_AP=700]="JOIN_WEB_PROXY_AP",e[e.WEBSOCKET_QUIT=671]="WEBSOCKET_QUIT",e[e.USER_ANALYTICS=1e4]="USER_ANALYTICS",e[e.AUTOPLAY_FAILED=9178]="AUTOPLAY_FAILED"}(mP||(mP={})),function(e){e.CREATE_CLIENT="createClient",e.CHECK_SYSTEM_REQUIREMENTS="checkSystemRequirements",e.SET_AREA="setArea",e.CHECK_VIDEO_TRACK_IS_ACTIVE="checkVideoTrackIsActive",e.CHECK_AUDIO_TRACK_IS_ACTIVE="checkAudioTrackIsActive",e.CREATE_MIC_AUDIO_TRACK="createMicrophoneAudioTrack",e.CREATE_CUSTOM_AUDIO_TRACK="createCustomAudioTrack",e.CREATE_BUFFER_AUDIO_TRACK="createBufferSourceAudioTrack",e.CREATE_CAM_VIDEO_TRACK="createCameraVideoTrack",e.CREATE_CUSTOM_VIDEO_TRACK="createCustomVideoTrack",e.CREATE_MIC_AND_CAM_TRACKS="createMicrophoneAndCameraTracks",e.CREATE_SCREEN_VIDEO_TRACK="createScreenVideoTrack",e.SET_ENCRYPTION_CONFIG="Client.setEncryptionConfig",e.START_PROXY_SERVER="Client.startProxyServer",e.STOP_PROXY_SERVER="Client.stopProxyServer",e.SET_PROXY_SERVER="Client.setProxyServer",e.SET_TURN_SERVER="Client.setTurnServer",e.SET_CLIENT_ROLE="Client.setClientRole",e.SET_LOW_STREAM_PARAMETER="Client.setLowStreamParameter",e.ENABLE_DUAL_STREAM="Client.enableDualStream",e.DISABLE_DUAL_STREAM="Client.disableDualStream",e.JOIN="Client.join",e.LEAVE="Client.leave",e.PUBLISH="Client.publish",e.UNPUBLISH="Client.unpublish",e.SUBSCRIBE="Client.subscribe",e.MASS_SUBSCRIBE="Client.massSubscribe",e.MASS_UNSUBSCRIBE="Client.massUnsubscribe",e.UNSUBSCRIBE="Client.unsubscribe",e.RENEW_TOKEN="Client.renewToken",e.SET_REMOTE_VIDEO_STREAM_TYPE="Client.setRemoteVideoStreamType",e.SET_STREAM_FALLBACK_OPTION="Client.setStreamFallbackOption",e.ENABLE_AUDIO_VOLUME_INDICATOR="Client.enableAudioVolumeIndicator",e.SEND_CUSTOM_REPORT_MESSAGE="Client.sendCustomReportMessage",e.INSPECT_VIDEO_CONTENT="Client.inspectVideoContent",e.STOP_INSPECT_VIDEO_CONTENT="Client.stopInspectVideoContent",e.JOIN_FALLBACK_TO_PROXY="Client._joinFallbackToProxy",e.ON_LIVE_STREAM_WARNING="Client.onLiveStreamWarning",e.ON_LIVE_STREAM_ERROR="Client.onLiveStreamingError",e.START_LIVE_STREAMING="Client.startLiveStreaming",e.SET_LIVE_TRANSCODING="Client.setLiveTranscoding",e.STOP_LIVE_STREAMING="Client.stopLiveStreaming",e.ADD_INJECT_STREAM_URL="Client.addInjectStreamUrl",e.REMOVE_INJECT_STREAM_URL="Client.removeInjectStreamUrl",e.START_CHANNEL_MEDIA_RELAY="Client.startChannelMediaRelay",e.UPDATE_CHANNEL_MEDIA_RELAY="Client.updateChannelMediaRelay",e.STOP_CHANNEL_MEDIA_RELAY="Client.stopChannelMediaRelay",e.REQUEST_CONFIG_DISTRIBUTE="_config-distribute-request",e.SET_CONFIG_DISTRIBUTE="_configDistribute",e.LOCAL_TRACK_SET_MUTED="LocalTrack.setMute",e.LOCAL_AUDIO_TRACK_PLAY="LocalAudioTrack.play",e.LOCAL_AUDIO_TRACK_PLAY_IN_ELEMENT="LocalAudioTrack.playInElement",e.LOCAL_AUDIO_TRACK_STOP="LocalAudioTrack.stop",e.LOCAL_AUDIO_TRACK_SET_VOLUME="LocalAudioTrack.setVolume",e.MIC_AUDIO_TRACK_SET_DEVICE="MicrophoneAudioTrack.setDevice",e.BUFFER_AUDIO_TRACK_START="BufferSourceAudioTrack.startProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_STOP="BufferSourceAudioTrack.stopProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_PAUSE="BufferSourceAudioTrack.pauseProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_RESUME="BufferSourceAudioTrack.resumeProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_SEEK="BufferSourceAudioTrack.seekAudioBuffer",e.LOCAL_VIDEO_TRACK_PLAY="LocalVideoTrack.play",e.LOCAL_VIDEO_TRACK_STOP="LocalVideoTrack.stop",e.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE="LocalVideoTrack.getVideoElementVisibleStatus",e.LOCAL_VIDEO_TRACK_BEAUTY="LocalVideoTrack.setBeautyEffect",e.CAM_VIDEO_TRACK_SET_DEVICE="CameraVideoTrack.setDevice",e.CAM_VIDEO_TRACK_SET_ENCODER_CONFIG="CameraVideoTrack.setEncoderConfiguration",e.REMOTE_VIDEO_TRACK_PLAY="RemoteVideoTrack.play",e.REMOTE_VIDEO_TRACK_STOP="RemoteVideoTrack.stop",e.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE="RemoteVideoTrack.getVideoElementVisibleStatus",e.REMOTE_AUDIO_TRACK_PLAY="RemoteAudioTrack.play",e.REMOTE_AUDIO_TRACK_STOP="RemoteAudioTrack.stop",e.REMOTE_AUDIO_SET_VOLUME="RemoteAudioTrack.setVolume",e.REMOTE_AUDIO_SET_OUTPUT_DEVICE="RemoteAudioTrack.setOutputDevice",e.GET_MEDIA_STREAM_TRACK="Track.getMediaStreamTrack",e.STREAM_TYPE_CHANGE="streamTypeChange",e.CONNECTION_STATE_CHANGE="connectionStateChange",e.LOAD_CONFIG_FROM_LOCALSTORAGE="loadConfigFromLocalStorage"}(vP||(vP={})),function(e){e.TRACER="tracer"}(yP||(yP={})),function(e){e.IDLE="IDLE",e.INITING="INITING",e.INITEND="INITEND"}(EP||(EP={})),function(e){e.STATE_CHANGE="state_change",e.RECORDING_DEVICE_CHANGED="recordingDeviceChanged",e.PLAYOUT_DEVICE_CHANGED="playoutDeviceChanged",e.CAMERA_DEVICE_CHANGED="cameraDeviceChanged"}(bP||(bP={})),function(e){e[e.ACCESS_POINT=101]="ACCESS_POINT",e[e.UNILBS=201]="UNILBS",e[e.STRING_UID_ALLOCATOR=901]="STRING_UID_ALLOCATOR"}(_P||(_P={})),function(e){e[e.IIIEGAL_APPID=1]="IIIEGAL_APPID",e[e.IIIEGAL_UID=2]="IIIEGAL_UID",e[e.INTERNAL_ERROR=3]="INTERNAL_ERROR"}(CP||(CP={})),function(e){e[e.INVALID_VENDOR_KEY=5]="INVALID_VENDOR_KEY",e[e.INVALID_CHANNEL_NAME=7]="INVALID_CHANNEL_NAME",e[e.INTERNAL_ERROR=8]="INTERNAL_ERROR",e[e.NO_AUTHORIZED=9]="NO_AUTHORIZED",e[e.DYNAMIC_KEY_TIMEOUT=10]="DYNAMIC_KEY_TIMEOUT",e[e.NO_ACTIVE_STATUS=11]="NO_ACTIVE_STATUS",e[e.DYNAMIC_KEY_EXPIRED=13]="DYNAMIC_KEY_EXPIRED",e[e.STATIC_USE_DYNAMIC_KEY=14]="STATIC_USE_DYNAMIC_KEY",e[e.DYNAMIC_USE_STATIC_KEY=15]="DYNAMIC_USE_STATIC_KEY",e[e.USER_OVERLOAD=16]="USER_OVERLOAD",e[e.FORBIDDEN_REGION=18]="FORBIDDEN_REGION",e[e.CANNOT_MEET_AREA_DEMAND=19]="CANNOT_MEET_AREA_DEMAND"}(IP||(IP={})),function(e){e[e.NO_FLAG_SET=100]="NO_FLAG_SET",e[e.FLAG_SET_BUT_EMPTY=101]="FLAG_SET_BUT_EMPTY",e[e.INVALID_FALG_SET=102]="INVALID_FALG_SET",e[e.FLAG_SET_BUT_NO_RE=103]="FLAG_SET_BUT_NO_RE",e[e.INVALID_SERVICE_ID=104]="INVALID_SERVICE_ID",e[e.NO_SERVICE_AVAILABLE=200]="NO_SERVICE_AVAILABLE",e[e.NO_SERVICE_AVAILABLE_P2P=201]="NO_SERVICE_AVAILABLE_P2P",e[e.NO_SERVICE_AVAILABLE_VOICE=202]="NO_SERVICE_AVAILABLE_VOICE",e[e.NO_SERVICE_AVAILABLE_WEBRTC=203]="NO_SERVICE_AVAILABLE_WEBRTC",e[e.NO_SERVICE_AVAILABLE_CDS=204]="NO_SERVICE_AVAILABLE_CDS",e[e.NO_SERVICE_AVAILABLE_CDN=205]="NO_SERVICE_AVAILABLE_CDN",e[e.NO_SERVICE_AVAILABLE_TDS=206]="NO_SERVICE_AVAILABLE_TDS",e[e.NO_SERVICE_AVAILABLE_REPORT=207]="NO_SERVICE_AVAILABLE_REPORT",e[e.NO_SERVICE_AVAILABLE_APP_CENTER=208]="NO_SERVICE_AVAILABLE_APP_CENTER",e[e.NO_SERVICE_AVAILABLE_ENV0=209]="NO_SERVICE_AVAILABLE_ENV0",e[e.NO_SERVICE_AVAILABLE_VOET=210]="NO_SERVICE_AVAILABLE_VOET",e[e.NO_SERVICE_AVAILABLE_STRING_UID=211]="NO_SERVICE_AVAILABLE_STRING_UID",e[e.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS=212]="NO_SERVICE_AVAILABLE_WEBRTC_UNILBS",e[e.NO_SERVICE_AVAILABLE_UNILBS_FLV=213]="NO_SERVICE_AVAILABLE_UNILBS_FLV"}(SP||(SP={})),function(e){e[e.K_TIMESTAMP_EXPIRED=2]="K_TIMESTAMP_EXPIRED",e[e.K_CHANNEL_PERMISSION_INVALID=3]="K_CHANNEL_PERMISSION_INVALID",e[e.K_CERTIFICATE_INVALID=4]="K_CERTIFICATE_INVALID",e[e.K_CHANNEL_NAME_EMPTY=5]="K_CHANNEL_NAME_EMPTY",e[e.K_CHANNEL_NOT_FOUND=6]="K_CHANNEL_NOT_FOUND",e[e.K_TICKET_INVALID=7]="K_TICKET_INVALID",e[e.K_CHANNEL_CONFLICTED=8]="K_CHANNEL_CONFLICTED",e[e.K_SERVICE_NOT_READY=9]="K_SERVICE_NOT_READY",e[e.K_SERVICE_TOO_HEAVY=10]="K_SERVICE_TOO_HEAVY",e[e.K_UID_BANNED=14]="K_UID_BANNED",e[e.K_IP_BANNED=15]="K_IP_BANNED",e[e.K_CHANNEL_BANNED=16]="K_CHANNEL_BANNED",e[e.WARN_NO_AVAILABLE_CHANNEL=103]="WARN_NO_AVAILABLE_CHANNEL",e[e.WARN_LOOKUP_CHANNEL_TIMEOUT=104]="WARN_LOOKUP_CHANNEL_TIMEOUT",e[e.WARN_LOOKUP_CHANNEL_REJECTED=105]="WARN_LOOKUP_CHANNEL_REJECTED",e[e.WARN_OPEN_CHANNEL_TIMEOUT=106]="WARN_OPEN_CHANNEL_TIMEOUT",e[e.WARN_OPEN_CHANNEL_REJECTED=107]="WARN_OPEN_CHANNEL_REJECTED",e[e.WARN_REQUEST_DEFERRED=108]="WARN_REQUEST_DEFERRED",e[e.ERR_DYNAMIC_KEY_TIMEOUT=109]="ERR_DYNAMIC_KEY_TIMEOUT",e[e.ERR_NO_AUTHORIZED=110]="ERR_NO_AUTHORIZED",e[e.ERR_VOM_SERVICE_UNAVAILABLE=111]="ERR_VOM_SERVICE_UNAVAILABLE",e[e.ERR_NO_CHANNEL_AVAILABLE_CODE=112]="ERR_NO_CHANNEL_AVAILABLE_CODE",e[e.ERR_MASTER_VOCS_UNAVAILABLE=114]="ERR_MASTER_VOCS_UNAVAILABLE",e[e.ERR_INTERNAL_ERROR=115]="ERR_INTERNAL_ERROR",e[e.ERR_NO_ACTIVE_STATUS=116]="ERR_NO_ACTIVE_STATUS",e[e.ERR_INVALID_UID=117]="ERR_INVALID_UID",e[e.ERR_DYNAMIC_KEY_EXPIRED=118]="ERR_DYNAMIC_KEY_EXPIRED",e[e.ERR_STATIC_USE_DYANMIC_KE=119]="ERR_STATIC_USE_DYANMIC_KE",e[e.ERR_DYNAMIC_USE_STATIC_KE=120]="ERR_DYNAMIC_USE_STATIC_KE",e[e.ERR_NO_VOCS_AVAILABLE=2e3]="ERR_NO_VOCS_AVAILABLE",e[e.ERR_NO_VOS_AVAILABLE=2001]="ERR_NO_VOS_AVAILABLE",e[e.ERR_JOIN_CHANNEL_TIMEOUT=2002]="ERR_JOIN_CHANNEL_TIMEOUT",e[e.ERR_REPEAT_JOIN_CHANNEL=2003]="ERR_REPEAT_JOIN_CHANNEL",e[e.ERR_JOIN_BY_MULTI_IP=2004]="ERR_JOIN_BY_MULTI_IP",e[e.ERR_NOT_JOINED=2011]="ERR_NOT_JOINED",e[e.ERR_REPEAT_JOIN_REQUEST=2012]="ERR_REPEAT_JOIN_REQUEST",e[e.ERR_INVALID_VENDOR_KEY=2013]="ERR_INVALID_VENDOR_KEY",e[e.ERR_INVALID_CHANNEL_NAME=2014]="ERR_INVALID_CHANNEL_NAME",e[e.ERR_INVALID_STRINGUID=2015]="ERR_INVALID_STRINGUID",e[e.ERR_TOO_MANY_USERS=2016]="ERR_TOO_MANY_USERS",e[e.ERR_SET_CLIENT_ROLE_TIMEOUT=2017]="ERR_SET_CLIENT_ROLE_TIMEOUT",e[e.ERR_SET_CLIENT_ROLE_NO_PERMISSION=2018]="ERR_SET_CLIENT_ROLE_NO_PERMISSION",e[e.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE=2019]="ERR_SET_CLIENT_ROLE_ALREADY_IN_USE",e[e.ERR_PUBLISH_REQUEST_INVALID=2020]="ERR_PUBLISH_REQUEST_INVALID",e[e.ERR_SUBSCRIBE_REQUEST_INVALID=2021]="ERR_SUBSCRIBE_REQUEST_INVALID",e[e.ERR_NOT_SUPPORTED_MESSAGE=2022]="ERR_NOT_SUPPORTED_MESSAGE",e[e.ERR_ILLEAGAL_PLUGIN=2023]="ERR_ILLEAGAL_PLUGIN",e[e.ERR_REJOIN_TOKEN_INVALID=2024]="ERR_REJOIN_TOKEN_INVALID",e[e.ERR_REJOIN_USER_NOT_JOINED=2025]="ERR_REJOIN_USER_NOT_JOINED",e[e.ERR_INVALID_OPTIONAL_INFO=2027]="ERR_INVALID_OPTIONAL_INFO",e[e.ILLEGAL_AES_PASSWORD=2028]="ILLEGAL_AES_PASSWORD",e[e.ILLEGAL_CLIENT_ROLE_LEVEL=2029]="ILLEGAL_CLIENT_ROLE_LEVEL",e[e.ERR_TOO_MANY_BROADCASTERS=2031]="ERR_TOO_MANY_BROADCASTERS",e[e.ERR_TOO_MANY_SUBSCRIBERS=2032]="ERR_TOO_MANY_SUBSCRIBERS",e[e.ERR_LICENSE_ILLEGAL=4015]="ERR_LICENSE_ILLEGAL",e[e.ERR_LICENSE_MISSING=4001]="ERR_LICENSE_MISSING",e[e.ERR_LICENSE_EXPIRED=4003]="ERR_LICENSE_EXPIRED",e[e.ERR_LICENSE_MINUTES_EXCEEDED=4005]="ERR_LICENSE_MINUTES_EXCEEDED",e[e.ERR_LICENSE_PERIOD_INVALID=4006]="ERR_LICENSE_PERIOD_INVALID",e[e.ERR_LICENSE_MULTIPLE_SDK_SERVICE=4010]="ERR_LICENSE_MULTIPLE_SDK_SERVICE",e[e.ERR_TEST_RECOVER=9e3]="ERR_TEST_RECOVER",e[e.ERR_TEST_TRYNEXT=9001]="ERR_TEST_TRYNEXT",e[e.ERR_TEST_RETRY=9002]="ERR_TEST_RETRY"}(wP||(wP={})),function(e){e[e.AUDIENCE_LEVEL_LOW_LATENCY=1]="AUDIENCE_LEVEL_LOW_LATENCY",e[e.AUDIENCE_LEVEL_ULTRA_LOW_LATENCY=2]="AUDIENCE_LEVEL_ULTRA_LOW_LATENCY",e[e.AUDIENCE_LEVEL_SYNC_LATENCY=3]="AUDIENCE_LEVEL_SYNC_LATENCY"}(RP||(RP={})),function(e){e.LEAVE="LEAVE",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.UID_BANNED="UID_BANNED",e.IP_BANNED="IP_BANNED",e.CHANNEL_BANNED="CHANNEL_BANNED",e.FALLBACK="FALLBACK"}(TP||(TP={})),function(e){e.CONNECTION_STATE_CHANGE="connection-state-change",e.MEDIA_RECONNECT_START="media-reconnect-start",e.MEDIA_RECONNECT_END="media-reconnect-end",e.IS_USING_CLOUD_PROXY="is-using-cloud-proxy",e.USER_JOINED="user-joined",e.USER_LEAVED="user-left",e.USER_PUBLISHED="user-published",e.USER_UNPUBLISHED="user-unpublished",e.USER_INFO_UPDATED="user-info-updated",e.CLIENT_BANNED="client-banned",e.CHANNEL_MEDIA_RELAY_STATE="channel-media-relay-state",e.CHANNEL_MEDIA_RELAY_EVENT="channel-media-relay-event",e.VOLUME_INDICATOR="volume-indicator",e.CRYPT_ERROR="crypt-error",e.ON_TOKEN_PRIVILEGE_WILL_EXPIRE="token-privilege-will-expire",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE="token-privilege-did-expire",e.NETWORK_QUALITY="network-quality",e.STREAM_TYPE_CHANGED="stream-type-changed",e.STREAM_FALLBACK="stream-fallback",e.RECEIVE_METADATA="receive-metadata",e.STREAM_MESSAGE="stream-message",e.LIVE_STREAMING_ERROR="live-streaming-error",e.LIVE_STREAMING_WARNING="live-streaming-warning",e.INJECT_STREAM_STATUS="stream-inject-status",e.EXCEPTION="exception",e.ERROR="error",e.P2P_LOST="p2p_lost",e.JOIN_FALLBACK_TO_PROXY="join-fallback-to-proxy",e.MEDIA_CONNECTION_TYPE_CHANGE="media-connection-type-change",e.PUBLISHED_USER_LIST="published-user-list",e.CONTENT_INSPECT_CONNECTION_STATE_CHANGE="content-inspect-connection-state-change",e.CONTENT_INSPECT_ERROR="content-inspect-error",e.CONTENT_INSPECT_RESULT="content-inspect-result"}(OP||(OP={})),function(e){e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.MULTI_IP="MULTI_IP",e.TIMEOUT="TIMEOUT",e.OFFLINE="OFFLINE",e.LEAVE="LEAVE",e.P2P_FAILED="P2P_FAILED",e.FALLBACK="FALLBACK"}(kP||(kP={})),function(e){e.CONNECTING="connecting",e.CONNECTED="connected",e.RECONNECTING="reconnecting",e.CLOSED="closed"}(NP||(NP={})),function(e){e.WS_CONNECTED="ws_connected",e.WS_RECONNECTING="ws_reconnecting",e.WS_CLOSED="ws_closed",e.WS_RECONNECT_WAITTING_FINISH="ws_reconnect_waitting_finish",e.WS_RECONNECT_CREATE_CONNECTION="ws_reconnect_create_connection",e.ON_BINARY_DATA="on_binary_data",e.REQUEST_RECOVER="request_recover",e.REQUEST_JOIN_INFO="request_join_info",e.REQUEST_REJOIN_INFO="req_rejoin_info",e.IS_P2P_DISCONNECTED="is_p2p_dis",e.DISCONNECT_P2P="dis_p2p",e.ABORT_P2P_EXECUTION="abort_p2p_execution",e.NEED_RENEW_SESSION="need-sid",e.REPORT_JOIN_GATEWAY="report_join_gateway",e.REQUEST_TIMEOUT="request_timeout",e.REQUEST_SUCCESS="request_success",e.JOIN_RESPONSE="join_response"}(DP||(DP={})),function(e){e.PING="ping",e.PING_BACK="ping_back",e.JOIN="join_v3",e.REJOIN="rejoin_v3",e.LEAVE="leave",e.SET_CLIENT_ROLE="set_client_role",e.PUBLISH="publish",e.UNPUBLISH="unpublish",e.SUBSCRIBE="subscribe",e.SUBSCRIBE_STREAMS="subscribe_streams",e.UNSUBSCRIBE="unsubscribe",e.UNSUBSCRIBE_STREAMS="unsubscribe_streams",e.SUBSCRIBE_CHANGE="subscribe_change",e.TRAFFIC_STATS="traffic_stats",e.RENEW_TOKEN="renew_token",e.SWITCH_VIDEO_STREAM="switch_video_stream",e.DEFAULT_VIDEO_STREAM="default_video_stream",e.SET_FALLBACK_OPTION="set_fallback_option",e.GATEWAY_INFO="gateway_info",e.CONTROL="control",e.SEND_METADATA="send_metadata",e.DATA_STREAM="data_stream",e.PICK_SVC_LAYER="pick_svc_layer",e.RESTART_ICE="restart_ice",e.CONNECT_PC="connect_pc",e.SET_VIDEO_PROFILE="set_video_profile",e.SET_PARAMETER="set_parameter"}(PP||(PP={})),function(e){e.PUBLISH_STATS="publish_stats",e.PUBLISH_RELATED_STATS="publish_related_stats",e.SUBSCRIBE_STATS="subscribe_stats",e.SUBSCRIBE_RELATED_STATS="subscribe_related_stats",e.WS_INFLATE_DATA_LENGTH="ws_inflate_data_length",e.DENOISER_STATS="denoiser_stats",e.TRANSPORT_STATS="transport_stats"}(xP||(xP={})),function(e){e.ON_USER_ONLINE="on_user_online",e.ON_USER_OFFLINE="on_user_offline",e.ON_STREAM_FALLBACK_UPDATE="on_stream_fallback_update",e.ON_PUBLISH_STREAM="on_publish_stream",e.ON_UPLINK_STATS="on_uplink_stats",e.ON_P2P_LOST="on_p2p_lost",e.ON_REMOVE_STREAM="on_remove_stream",e.ON_ADD_AUDIO_STREAM="on_add_audio_stream",e.ON_ADD_VIDEO_STREAM="on_add_video_stream",e.ON_TOKEN_PRIVILEGE_WILL_EXPIRE="on_token_privilege_will_expire",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE="on_token_privilege_did_expire",e.ON_USER_BANNED="on_user_banned",e.ON_NOTIFICATION="on_notification",e.ON_CRYPT_ERROR="on_crypt_error",e.MUTE_AUDIO="mute_audio",e.MUTE_VIDEO="mute_video",e.UNMUTE_AUDIO="unmute_audio",e.UNMUTE_VIDEO="unmute_video",e.ON_P2P_OK="on_p2p_ok",e.RECEIVE_METADATA="receive_metadata",e.ON_DATA_STREAM="on_data_stream",e.ENABLE_LOCAL_VIDEO="enable_local_video",e.DISABLE_LOCAL_VIDEO="disable_local_video",e.ENABLE_LOCAL_AUDIO="enable_local_audio",e.DISABLE_LOCAL_AUDIO="disable_local_audio",e.ON_PUBLISHED_USER_LIST="on_published_user_list"}(LP||(LP={})),function(e){e.CONNECTION_STATE_CHANGE="CONNECTION_STATE_CHANGE",e.NEED_ANSWER="NEED_ANSWER",e.NEED_RENEGOTIATE="NEED_RENEGOTIATE",e.P2P_LOST="P2P_LOST",e.GATEWAY_P2P_LOST="GATEWAY_P2P_LOST",e.NEED_UNPUB="NEED_UNPUB",e.NEED_UNSUB="NEED_UNSUB",e.NEED_UPLOAD="NEED_UPLOAD",e.NEED_CONTROL="NEED_CONTROL",e.START_RECONNECT="START_RECONNECT",e.END_RECONNECT="END_RECONNECT",e.NEED_SIGNAL_RTT="NEED_SIGNAL_RTT"}(MP||(MP={})),function(e){e.AUDIO_SOURCE_STATE_CHANGE="audio_source_state_change",e.RECEIVE_TRACK_BUFFER="receive_track_buffer",e.ON_AUDIO_BUFFER="on_audio_buffer",e.UPDATE_SOURCE="update_source"}(BP||(BP={}));const GP={sendVolumeLevel:0,sendBitrate:0,sendBytes:0,sendPackets:0,sendPacketsLost:0,currentPacketLossRate:0},qP={sendBytes:0,sendBitrate:0,sendPackets:0,sendPacketsLost:0,sendResolutionHeight:0,sendResolutionWidth:0,captureResolutionHeight:0,captureResolutionWidth:0,targetSendBitrate:0,totalDuration:0,totalFreezeTime:0,currentPacketLossRate:0},HP={transportDelay:0,end2EndDelay:0,receiveBitrate:0,receiveLevel:0,receiveBytes:0,receiveDelay:0,receivePackets:0,receivePacketsLost:0,totalDuration:0,totalFreezeTime:0,freezeRate:0,packetLossRate:0,currentPacketLossRate:0,publishDuration:-1},zP={uplinkNetworkQuality:0,downlinkNetworkQuality:0},WP={transportDelay:0,end2EndDelay:0,receiveBitrate:0,receiveBytes:0,receiveDelay:0,receivePackets:0,receivePacketsLost:0,receiveResolutionHeight:0,receiveResolutionWidth:0,totalDuration:0,totalFreezeTime:0,freezeRate:0,packetLossRate:0,currentPacketLossRate:0,publishDuration:-1};let KP,YP,JP;!function(e){e.CONNECTED="websocket:connected",e.RECONNECTING="websocket:reconnecting",e.WILL_RECONNECT="websocket:will_reconnect",e.CLOSED="websocket:closed",e.FAILED="websocket:failed",e.ON_MESSAGE="websocket:on_message",e.REQUEST_NEW_URLS="websocket:request_new_urls",e.RECONNECT_WAITTING_FINISH="websocket:reconnect_waitting_finish",e.RECONNECT_CREATE_CONNECTION="websocket:reconnect_create_connection",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE="websocket:on_token_privilege_did_expire"}(KP||(KP={})),function(e){e.TRANSCODE="mix_streaming",e.RAW="raw_streaming",e.INJECT="inject_streaming"}(YP||(YP={})),function(e){e[e.INJECT_STREAM_STATUS_START_SUCCESS=0]="INJECT_STREAM_STATUS_START_SUCCESS",e[e.INJECT_STREAM_STATUS_START_ALREADY_EXISTS=1]="INJECT_STREAM_STATUS_START_ALREADY_EXISTS",e[e.INJECT_STREAM_STATUS_START_UNAUTHORIZED=2]="INJECT_STREAM_STATUS_START_UNAUTHORIZED",e[e.INJECT_STREAM_STATUS_START_TIMEOUT=3]="INJECT_STREAM_STATUS_START_TIMEOUT",e[e.INJECT_STREAM_STATUS_START_FAILED=4]="INJECT_STREAM_STATUS_START_FAILED",e[e.INJECT_STREAM_STATUS_STOP_SUCCESS=5]="INJECT_STREAM_STATUS_STOP_SUCCESS",e[e.INJECT_STREAM_STATUS_STOP_NOT_FOUND=6]="INJECT_STREAM_STATUS_STOP_NOT_FOUND",e[e.INJECT_STREAM_STATUS_STOP_UNAUTHORIZED=7]="INJECT_STREAM_STATUS_STOP_UNAUTHORIZED",e[e.INJECT_STREAM_STATUS_STOP_TIMEOUT=8]="INJECT_STREAM_STATUS_STOP_TIMEOUT",e[e.INJECT_STREAM_STATUS_STOP_FAILED=9]="INJECT_STREAM_STATUS_STOP_FAILED",e[e.INJECT_STREAM_STATUS_BROKEN=10]="INJECT_STREAM_STATUS_BROKEN"}(JP||(JP={}));const ZP={alpha:1,height:640,width:360,x:0,y:0,zOrder:0,audioChannel:0},XP={x:0,y:0,width:160,height:160,zOrder:255,alpha:1};function $P(e,t){eP(e.url,"".concat(t,".url"),1,1e3,!1),iP(e.x)||XD(e.x,"".concat(t,".x"),0,1e4),iP(e.y)||XD(e.y,"".concat(t,".y"),0,1e4),iP(e.width)||XD(e.width,"".concat(t,".width"),0,1e4),iP(e.height)||XD(e.height,"".concat(t,".height"),0,1e4),iP(e.zOrder)||XD(e.zOrder,"".concat(t,".zOrder"),0,255),iP(e.alpha)||XD(e.alpha,"".concat(t,".alpha"),0,1,!1)}const ex={audioBitrate:48,audioChannels:1,audioSampleRate:48e3,backgroundColor:0,height:360,lowLatency:!1,videoBitrate:400,videoCodecProfile:100,videoCodecType:1,videoFrameRate:15,videoGop:30,width:640,images:[],userConfigs:[],userConfigExtraInfo:""},tx={audioBitrate:48,audioChannels:2,audioVolume:100,audioSampleRate:48e3,height:0,width:0,videoBitrate:400,videoFramerate:15,videoGop:30};let nx,rx,ix,ox,ax,sx,cx,ux,lx,dx,hx,px,fx,Ax,gx,mx,vx,yx;function Ex(e){if(!e.channelName)throw new eN($k.INVALID_PARAMS,"invalid channelName in info");if(!e.uid||"number"!=typeof e.uid)throw new eN($k.INVALID_PARAMS,"invalid uid in info, uid must be a number");return e.token&&eP(e.token,"info.token",1,2047),rP(e.uid),nP(e.channelName),!0}function bx(e){return ZD(e,"mediaSource",["screen","window","application"]),!0}!function(e){e.WARNING="@live_uap-warning",e.ERROR="@line_uap-error",e.PUBLISH_STREAM_STATUS="@live_uap-publish-status",e.INJECT_STREAM_STATUS="@live_uap-inject-status",e.WORKER_STATUS="@live_uap-worker-status",e.REQUEST_NEW_ADDRESS="@live_uap-request-address"}(nx||(nx={})),function(e){e.REQUEST_WORKER_MANAGER_LIST="@live_req_worker_manager"}(rx||(rx={})),function(e){e[e.LIVE_STREAM_RESPONSE_SUCCEED=200]="LIVE_STREAM_RESPONSE_SUCCEED",e[e.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM=454]="LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM",e[e.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR=450]="LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR",e[e.LIVE_STREAM_RESPONSE_BAD_STREAM=451]="LIVE_STREAM_RESPONSE_BAD_STREAM",e[e.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR=400]="LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR",e[e.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST=404]="LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST",e[e.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED=456]="LIVE_STREAM_RESPONSE_NOT_AUTHORIZED",e[e.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE=457]="LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE",e[e.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN=429]="LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN",e[e.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH=452]="LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH",e[e.LIVE_STREAM_RESPONSE_NOT_SUPPORTED=453]="LIVE_STREAM_RESPONSE_NOT_SUPPORTED",e[e.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM=455]="LIVE_STREAM_RESPONSE_MAX_STREAM_NUM",e[e.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR=500]="LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR",e[e.LIVE_STREAM_RESPONSE_WORKER_LOST=501]="LIVE_STREAM_RESPONSE_WORKER_LOST",e[e.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT=502]="LIVE_STREAM_RESPONSE_RESOURCE_LIMIT",e[e.LIVE_STREAM_RESPONSE_WORKER_QUIT=503]="LIVE_STREAM_RESPONSE_WORKER_QUIT",e[e.ERROR_FAIL_SEND_MESSAGE=504]="ERROR_FAIL_SEND_MESSAGE",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE=30]="PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT=31]="PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH=32]="PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH",e[e.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN=33]="PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN"}(ix||(ix={})),function(e){e.CONNECT_FAILED="connect failed",e.CONNECT_TIMEOUT="connect timeout",e.WS_DISCONNECTED="websocket disconnected",e.REQUEST_TIMEOUT="request timeout",e.REQUEST_FAILED="request failed",e.WAIT_STATUS_TIMEOUT="wait status timeout",e.WAIT_STATUS_ERROR="wait status error",e.BAD_STATE="bad state",e.WS_ABORT="ws abort",e.AP_REQUEST_TIMEOUT="AP request timeout",e.AP_JSON_PARSE_ERROR="AP json parse error",e.AP_REQUEST_ERROR="AP request error",e.AP_REQUEST_ABORT="AP request abort"}(ox||(ox={})),function(e){e[e.SetSdkProfile=0]="SetSdkProfile",e[e.SetSourceChannel=1]="SetSourceChannel",e[e.SetSourceUserId=2]="SetSourceUserId",e[e.SetDestChannel=3]="SetDestChannel",e[e.StartPacketTransfer=4]="StartPacketTransfer",e[e.StopPacketTransfer=5]="StopPacketTransfer",e[e.UpdateDestChannel=6]="UpdateDestChannel",e[e.Reconnect=7]="Reconnect",e[e.SetVideoProfile=8]="SetVideoProfile"}(ax||(ax={})),function(e){e.NETWORK_DISCONNECTED="NETWORK_DISCONNECTED",e.NETWORK_CONNECTED="NETWORK_CONNECTED",e.PACKET_JOINED_SRC_CHANNEL="PACKET_JOINED_SRC_CHANNEL",e.PACKET_JOINED_DEST_CHANNEL="PACKET_JOINED_DEST_CHANNEL",e.PACKET_SENT_TO_DEST_CHANNEL="PACKET_SENT_TO_DEST_CHANNEL",e.PACKET_RECEIVED_VIDEO_FROM_SRC="PACKET_RECEIVED_VIDEO_FROM_SRC",e.PACKET_RECEIVED_AUDIO_FROM_SRC="PACKET_RECEIVED_AUDIO_FROM_SRC",e.PACKET_UPDATE_DEST_CHANNEL="PACKET_UPDATE_DEST_CHANNEL",e.PACKET_UPDATE_DEST_CHANNEL_REFUSED="PACKET_UPDATE_DEST_CHANNEL_REFUSED",e.PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE="PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE"}(sx||(sx={})),function(e){e.RELAY_STATE_IDLE="RELAY_STATE_IDLE",e.RELAY_STATE_CONNECTING="RELAY_STATE_CONNECTING",e.RELAY_STATE_RUNNING="RELAY_STATE_RUNNING",e.RELAY_STATE_FAILURE="RELAY_STATE_FAILURE"}(cx||(cx={})),function(e){e.RELAY_OK="RELAY_OK",e.SERVER_CONNECTION_LOST="SERVER_CONNECTION_LOST",e.SRC_TOKEN_EXPIRED="SRC_TOKEN_EXPIRED",e.DEST_TOKEN_EXPIRED="DEST_TOKEN_EXPIRED"}(ux||(ux={})),function(e){e.High="high",e.Low="low",e.Audio="audio",e.Screen="screen",e.ScreenLow="screen_low"}(lx||(lx={})),function(e){e.DISCONNECT="disconnect",e.CONNECTION_STATE_CHANGE="connection-state-change",e.NETWORK_QUALITY="network-quality",e.STREAM_TYPE_CHANGE="stream-type-change",e.IS_P2P_DISCONNECTED="is-p2p-dis",e.DISCONNECT_P2P="dis-p2p",e.REQUEST_NEW_GATEWAY_LIST="req-gate-url",e.NEED_RENEW_SESSION="need-sid",e.REQUEST_P2P_CONNECTION_PARAMS="request-p2p-connection-params",e.JOIN_RESPONSE="join-response"}(dx||(dx={})),function(e){e[e.Nothing=0]="Nothing",e[e.Audio=1]="Audio",e[e.LwoVideo=2]="LwoVideo",e[e.Video=4]="Video",e[e.Data=8]="Data"}(hx||(hx={})),function(e){e.NEED_RENEGOTIATE="@need_renegotiate",e.NEED_REPLACE_TRACK="@need_replace_track",e.NEED_CLOSE="@need_close",e.NEED_ENABLE_TRACK="@need_enable_track",e.NEED_DISABLE_TRACK="@need_disable_track",e.NEED_SESSION_ID="@need_sid",e.SET_OPTIMIZATION_MODE="@set_optimization_mode",e.GET_STATS="@get_stats",e.GET_LOW_VIDEO_TRACK="@get_low_video_track",e.NEED_RESET_REMOTE_SDP="@need_reset_remote_sdp",e.NEED_UPDATE_VIDEO_ENCODER="@need_update_video_encoder",e.NEED_MUTE_TRACK="@need_mute_track",e.NEED_UNMUTE_TRACK="@need_unmute_track"}(px||(px={})),function(e){e.SCREEN_TRACK="screen_track",e.LOW_STREAM="low_stream"}(fx||(fx={})),function(e){e[e.HIGH_STREAM=0]="HIGH_STREAM",e[e.LOW_STREAM=1]="LOW_STREAM"}(Ax||(Ax={})),function(e){e[e.DISABLE=0]="DISABLE",e[e.LOW_STREAM=1]="LOW_STREAM",e[e.AUDIO_ONLY=2]="AUDIO_ONLY"}(gx||(gx={})),function(e){e.SOURCE_STATE_CHANGE="source-state-change",e.TRACK_ENDED="track-ended",e.BEAUTY_EFFECT_OVERLOAD="beauty-effect-overload",e.VIDEO_ELEMENT_VISIBLE_STATUS="video-element-visible-status",e.CLOSED="closed"}(mx||(mx={})),function(e){e.FIRST_FRAME_DECODED="first-frame-decoded",e.VIDEO_ELEMENT_VISIBLE_STATUS="video-element-visible-status"}(vx||(vx={})),function(e){e.CHINA="CHINA",e.ASIA="ASIA",e.NORTH_AMERICA="NORTH_AMERICA",e.EUROPE="EUROPE",e.JAPAN="JAPAN",e.INDIA="INDIA",e.KOREA="KOREA",e.HKMC="HKMC",e.US="US",e.OCEANIA="OCEANIA",e.SOUTH_AMERICA="SOUTH_AMERICA",e.AFRICA="AFRICA",e.OVERSEA="OVERSEA",e.GLOBAL="GLOBAL"}(yx||(yx={}));const _x=[yx.AFRICA,yx.ASIA,yx.CHINA,yx.EUROPE,yx.GLOBAL,yx.INDIA,yx.JAPAN,yx.NORTH_AMERICA,yx.OCEANIA,yx.OVERSEA,yx.SOUTH_AMERICA];let Cx;!function(e){e.CHINA="CN",e.ASIA="AS",e.NORTH_AMERICA="NA",e.EUROPE="EU",e.JAPAN="JP",e.INDIA="IN",e.KOREA="KR",e.HKMC="HK",e.US="US",e.OCEANIA="OC",e.SOUTH_AMERICA="SA",e.AFRICA="AF",e.OVERSEA="OVERSEA",e.GLOBAL="GLOBAL"}(Cx||(Cx={}));const Ix={CHINA:{},ASIA:{CODE:Cx.ASIA,WEBCS_DOMAIN:["ap-web-1-asia.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-asia.agora.io"],PROXY_CS:["proxy-ap-web-asia.agora.io"],CDS_AP:["cds-ap-web-asia.agora.io","cds-ap-web-asia2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-asia.agora.io","sua-ap-web-asia2.agora.io"],UAP_AP:["uap-ap-web-asia.agora.io","uap-ap-web-asia2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-asia.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-asia.agora.io"],LOG_UPLOAD_SERVER:["logservice-asia.agora.io"],PROXY_SERVER_TYPE3:["southeast-asia.webrtc-cloud-proxy.sd-rtn.com"]},NORTH_AMERICA:{CODE:Cx.NORTH_AMERICA,WEBCS_DOMAIN:["ap-web-1-north-america.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-north-america.agora.io"],PROXY_CS:["proxy-ap-web-america.agora.io"],CDS_AP:["cds-ap-web-america.agora.io","cds-ap-web-america2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-america.agora.io","sua-ap-web-america2.agora.io"],UAP_AP:["uap-ap-web-america.agora.io","uap-ap-web-america2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-north-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-north-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-north-america.agora.io"],PROXY_SERVER_TYPE3:["east-usa.webrtc-cloud-proxy.sd-rtn.com"]},EUROPE:{CODE:Cx.EUROPE,WEBCS_DOMAIN:["ap-web-1-europe.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-europe.agora.io"],PROXY_CS:["proxy-ap-web-europe.agora.io"],CDS_AP:["cds-ap-web-europe.agora.io","cds-ap-web-europe2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-europe.agora.io","sua-ap-web-europe.agora.io"],UAP_AP:["uap-ap-web-europe.agora.io","uap-ap-web-europe2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-europe.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-europe.agora.io"],LOG_UPLOAD_SERVER:["logservice-europe.agora.io"],PROXY_SERVER_TYPE3:["europe.webrtc-cloud-proxy.sd-rtn.com"]},JAPAN:{CODE:Cx.JAPAN,WEBCS_DOMAIN:["ap-web-1-japan.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-japan.agora.io"],PROXY_CS:["proxy-ap-web-japan.agora.io"],CDS_AP:["cds-ap-web-japan.agora.io","cds-ap-web-japan2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-japan.agora.io","sua-ap-web-japan2.agora.io"],UAP_AP:["uap-ap-web-japan.agora.io","\tuap-ap-web-japan2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-japan.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-japan.agora.io"],LOG_UPLOAD_SERVER:["logservice-japan.agora.io"],PROXY_SERVER_TYPE3:["japan.webrtc-cloud-proxy.sd-rtn.com"]},INDIA:{CODE:Cx.INDIA,WEBCS_DOMAIN:["ap-web-1-india.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-india.agora.io"],PROXY_CS:["proxy-ap-web-india.agora.io"],CDS_AP:["cds-ap-web-india.agora.io","cds-ap-web-india2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-india.agora.io","sua-ap-web-india2.agora.io"],UAP_AP:["uap-ap-web-india.agora.io","uap-ap-web-india2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-india.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-india.agora.io"],LOG_UPLOAD_SERVER:["logservice-india.agora.io"],PROXY_SERVER_TYPE3:["india.webrtc-cloud-proxy.sd-rtn.com"]},KOREA:{CODE:Cx.KOREA,WEBCS_DOMAIN:["ap-web-1-korea.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-korea.agora.io"],PROXY_CS:["proxy-ap-web-korea.agora.io"],CDS_AP:["cds-ap-web-korea.agora.io","cds-ap-web-korea2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-korea.agora.io","sua-ap-web-korea2.agora.io"],UAP_AP:["uap-ap-web-korea.agora.io","uap-ap-web-korea2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-korea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-korea.agora.io"],LOG_UPLOAD_SERVER:["logservice-korea.agora.io"],PROXY_SERVER_TYPE3:["korea.webrtc-cloud-proxy.sd-rtn.com"]},HKMC:{CODE:Cx.HKMC,WEBCS_DOMAIN:["ap-web-1-hkmc.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-hkmc.agora.io"],PROXY_CS:["proxy-ap-web-hkmc.agora.io"],CDS_AP:["cds-ap-web-hkmc.agora.io","cds-ap-web-hkmc2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-hkmc.agora.io","sua-ap-web-hkmc2.agora.io"],UAP_AP:["uap-ap-web-hkmc.agora.io","uap-ap-web-hkmc2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-hkmc.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-hkmc.agora.io"],LOG_UPLOAD_SERVER:["logservice-hkmc.agora.io"],PROXY_SERVER_TYPE3:["hkmc.webrtc-cloud-proxy.sd-rtn.com"]},US:{CODE:Cx.US,WEBCS_DOMAIN:["ap-web-1-us.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-us.agora.io"],PROXY_CS:["proxy-ap-web-us.agora.io"],CDS_AP:["cds-ap-web-us.agora.io","cds-ap-web-us2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-us.agora.io","sua-ap-web-us2.agora.io"],UAP_AP:["uap-ap-web-us.agora.io","uap-ap-web-us2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-us.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-us.agora.io"],LOG_UPLOAD_SERVER:["logservice-us.agora.io"],PROXY_SERVER_TYPE3:["us.webrtc-cloud-proxy.sd-rtn.com"]},OVERSEA:{CODE:Cx.OVERSEA,WEBCS_DOMAIN:["ap-web-1-oversea.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-oversea.agora.io"],PROXY_CS:["proxy-ap-web-oversea.agora.io"],CDS_AP:["cds-ap-web-oversea.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-oversea.agora.io"],UAP_AP:["uap-ap-web-oversea.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oversea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oversea.agora.io"],LOG_UPLOAD_SERVER:["logservice-oversea.agora.io"],PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.agora.io"]},GLOBAL:{CODE:Cx.GLOBAL,WEBCS_DOMAIN:["webrtc2-ap-web-1.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-ap-web-3.agora.io"],PROXY_CS:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],CDS_AP:["cds-ap-web-1.agora.io","cds-ap-web-3.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-1.agora.io","sua-ap-web-3.agora.io"],UAP_AP:["uap-ap-web-1.agora.io","uap-ap-web-3.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2.agora.io"],LOG_UPLOAD_SERVER:["logservice.agora.io"],PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.sd-rtn.com"]},OCEANIA:{CODE:Cx.OCEANIA,WEBCS_DOMAIN:["ap-web-1-oceania.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-oceania.agora.io"],PROXY_CS:["proxy-ap-web-oceania.agora.io"],CDS_AP:["cds-ap-web-oceania.agora.io","cds-ap-web-oceania2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-oceania.agora.io","sua-ap-web-oceania2.agora.io"],UAP_AP:["uap-ap-web-oceania.agora.io","uap-ap-web-oceania2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oceania.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oceania.agora.io"],LOG_UPLOAD_SERVER:["logservice-oceania.agora.io"],PROXY_SERVER_TYPE3:["oceania.webrtc-cloud-proxy.sd-rtn.com"]},SOUTH_AMERICA:{CODE:Cx.SOUTH_AMERICA,WEBCS_DOMAIN:["ap-web-1-south-america.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-south-america.agora.io"],PROXY_CS:["proxy-ap-web-south-america.agora.io"],CDS_AP:["cds-ap-web-south-america.agora.io","cds-ap-web-south-america2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-south-america.agora.io","sua-ap-web-south-america2.agora.io"],UAP_AP:["uap-ap-web-south-america.agora.io","uap-ap-web-south-america2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-south-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-south-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-america.agora.io"],PROXY_SERVER_TYPE3:["south-america.webrtc-cloud-proxy.sd-rtn.com"]},AFRICA:{CODE:Cx.AFRICA,WEBCS_DOMAIN:["ap-web-1-africa.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-africa.agora.io"],PROXY_CS:["proxy-ap-web-africa.agora.io"],CDS_AP:["cds-ap-web-africa.agora.io","cds-ap-web-africa2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-africa.agora.io","sua-ap-web-africa2.agora.io"],UAP_AP:["uap-ap-web-africa.agora.io","uap-ap-web-africa2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-africa.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-africa.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-africa.agora.io"],PROXY_SERVER_TYPE3:["africa.webrtc-cloud-proxy.sd-rtn.com"]}};let Sx,wx,Rx,Tx,Ox,kx,Nx,Dx;BN&&(Ix.CHINA={CODE:Cx.CHINA,WEBCS_DOMAIN:["webrtc2-2.ap.sd-rtn.com"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-4.ap.sd-rtn.com"],PROXY_CS:["proxy-web.ap.sd-rtn.com"],CDS_AP:["cds-web-2.ap.sd-rtn.com","cds-web-4.ap.sd-rtn.com"],ACCOUNT_REGISTER:["sua-web-2.ap.sd-rtn.com","sua-web-4.ap.sd-rtn.com"],UAP_AP:["uap-web-2.ap.sd-rtn.com","uap-web-4.ap.sd-rtn.com"],EVENT_REPORT_DOMAIN:["web-3.statscollector.sd-rtn.com"],EVENT_REPORT_BACKUP_DOMAIN:["web-4.statscollector.sd-rtn.com"],LOG_UPLOAD_SERVER:["logservice-china.agora.io"],PROXY_SERVER_TYPE3:["east-cn.webrtc-cloud-proxy.sd-rtn.com"]}),function(e){e.UPDATE_BITRATE_LIMIT="update_bitrate_limit"}(Sx||(Sx={}));class Px extends Zk{constructor(e,t){super(),iO(this,"onICEConnectionStateChange",void 0),iO(this,"onConnectionStateChange",void 0),iO(this,"onDTLSTransportStateChange",void 0),iO(this,"onDTLSTransportError",void 0),iO(this,"onICETransportStateChange",void 0),iO(this,"onFirstAudioReceived",void 0),iO(this,"onFirstVideoReceived",void 0),iO(this,"onFirstAudioDecoded",void 0),iO(this,"onFirstVideoDecoded",void 0),iO(this,"onFirstVideoDecodedTimeout",void 0),iO(this,"onSelectedLocalCandidateChanged",void 0),iO(this,"onSelectedRemoteCandidateChanged",void 0)}}!function(e){e.SEND="sendonly",e.RECV="recvonly",e.SENDRECV="sendrecv",e.INACTIVE="inactive"}(wx||(wx={})),function(e){e.VIDEO="video",e.AUDIO="audio"}(Rx||(Rx={})),function(e){e.LocalVideoTrack="videoTrack",e.LocalAudioTrack="audioTrack",e.LocalVideoLowTrack="videoLowTrack"}(Tx||(Tx={})),function(e){e.New="new",e.Connected="connected",e.Reconnecting="reconnecting",e.Disconnected="disconnected"}(Ox||(Ox={})),function(e){e.StateChange="stateChange",e.IceConnectionStateChange="iceConnectionStateChange",e.RequestMuteLocal="requestMuteLocal",e.RequestUnmuteLocal="requestUnmuteLocal",e.RequestRePublish="requestRePublish",e.RequestReSubscribe="requestReSubscribe",e.RequestUploadStats="requestUploadStats",e.MediaReconnectStart="MediaReconnectStart",e.MediaReconnectEnd="MediaReconnectEnd",e.NeedSignalRTT="NeedSignalRTT",e.RequestRestartICE="RequestRestartIce",e.PeerConnectionStateChange="PeerConnectionStateChange",e.RequestReconnect="RequestReconnect",e.RequestReconnectPC="RequestReconnectPC",e.RequestUnpublishForReconnectPC="RequestUnpublishForReconnectPC",e.P2PLost="P2PLost",e.UpdateVideoEncoder="UpdateVideoEncoder",e.ConnectionTypeChange="ConnectionTypeChange",e.RequestLowStreamParameter="RequestLowStreamParameter"}(kx||(kx={})),function(e){e.ONLINE="ONLINE",e.OFFLINE="OFFLINE"}(Nx||(Nx={})),function(e){e.NETWORK_STATE_CHANGE="NETWORK_STATE_CHANGE",e.ONLINE="ONLINE",e.OFFLINE="OFFLINE"}(Dx||(Dx={}));const xx={join:["startJoin","startRequestAp","startJoinGateway","finishJoin"],publish:["startPublish"]};let Lx,Mx,Bx,Fx,Ux;!function(e){e.ON_TRACK="on_track",e.ON_NODE="on_node"}(Lx||(Lx={})),function(e){e.REQUEST_UPDATE_CONSTRAINTS="request_update_constraints",e.REQUEST_CONSTRAINTS="request_constraints"}(Mx||(Mx={})),function(e){e.CONNECTING="CONNECTING",e.RECONNECTING="RECONNECTING",e.CONNECTED="CONNECTED",e.CLOSED="CLOSED"}(Bx||(Bx={})),function(e){e[e.CONNECT_AP=0]="CONNECT_AP",e[e.AP_CONNECTED=1]="AP_CONNECTED",e[e.CONNECT_WORKER_MANAGER=2]="CONNECT_WORKER_MANAGER",e[e.WORKER_MANAGER_CONNECTED=3]="WORKER_MANAGER_CONNECTED",e[e.GET_WORKER_MANAGER_RESPONSE=4]="GET_WORKER_MANAGER_RESPONSE",e[e.CONNECT_WORKER=5]="CONNECT_WORKER",e[e.WORKER_CONNECTED=6]="WORKER_CONNECTED",e[e.CLOSED=7]="CLOSED"}(Fx||(Fx={})),function(e){e.CONNECTION_STATE_CHANGE="connection-state-change",e.STATE_CHANGE="state-change",e.INSPECT_RESULT="inspect-result",e.CLIENT_LOCAL_VIDEO_TRACK="client-local-video-track",e.REQUEST_NEW_WORKER_URL="request-new-worker-url"}(Ux||(Ux={}));const jx={getDisplayMedia:!1,getStreamFromExtension:!1,supportUnifiedPlan:!1,supportMinBitrate:!1,supportSetRtpSenderParameters:!1,supportDualStream:!0,webAudioMediaStreamDest:!1,supportReplaceTrack:!1,supportWebGL:!1,webAudioWithAEC:!1,supportRequestFrame:!1,supportShareAudio:!1,supportDualStreamEncoding:!1};function Vx(){return jx}var Qx="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,Gx=Gn,qx=Jn,Hx=r.RangeError,zx=function(e){if(void 0===e)return 0;var t=Gx(e),n=qx(t);if(t!==n)throw Hx("Wrong length or index");return n},Wx=r.Array,Kx=Math.abs,Yx=Math.pow,Jx=Math.floor,Zx=Math.log,Xx=Math.LN2,$x={pack:function(e,t,n){var r,i,o,a=Wx(n),s=8*n-t-1,c=(1<<s)-1,u=c>>1,l=23===t?Yx(2,-24)-Yx(2,-77):0,d=e<0||0===e&&1/e<0?1:0,h=0;for((e=Kx(e))!=e||e===1/0?(i=e!=e?1:0,r=c):(r=Jx(Zx(e)/Xx),e*(o=Yx(2,-r))<1&&(r--,o*=2),(e+=r+u>=1?l/o:l*Yx(2,1-u))*o>=2&&(r++,o/=2),r+u>=c?(i=0,r=c):r+u>=1?(i=(e*o-1)*Yx(2,t),r+=u):(i=e*Yx(2,u-1)*Yx(2,t),r=0));t>=8;)a[h++]=255&i,i/=256,t-=8;for(r=r<<t|i,s+=t;s>0;)a[h++]=255&r,r/=256,s-=8;return a[--h]|=128*d,a},unpack:function(e,t){var n,r=e.length,i=8*r-t-1,o=(1<<i)-1,a=o>>1,s=i-7,c=r-1,u=e[c--],l=127&u;for(u>>=7;s>0;)l=256*l+e[c--],s-=8;for(n=l&(1<<-s)-1,l>>=-s,s+=t;s>0;)n=256*n+e[c--],s-=8;if(0===l)l=1-a;else{if(l===o)return n?NaN:u?-1/0:1/0;n+=Yx(2,t),l-=a}return(u?-1:1)*n*Yx(2,l-t)}},eL=Pe,tL=Wn,nL=Xn,rL=ct,iL=It,oL=m,aL=Wn,sL=Xn,cL=function(e,t,n){var r=rL(t);r in e?iL.f(e,r,oL(0,n)):e[r]=n},uL=r.Array,lL=Math.max,dL=function(e,t,n){for(var r=sL(e),i=aL(t,r),o=aL(void 0===n?r:n,r),a=uL(lL(o-i,0)),s=0;i<o;i++,s++)cL(a,s,e[i]);return a.length=s,a},hL=r,pL=C,fL=a,AL=Qx,gL=On,mL=Vt,vL=qr,yL=o,EL=ui,bL=Gn,_L=Jn,CL=zx,IL=$x,SL=Pp,wL=Zr,RL=jn.f,TL=It.f,OL=dL,kL=ti,NL=gL.PROPER,DL=gL.CONFIGURABLE,PL=Cn.get,xL=Cn.set,LL="ArrayBuffer",ML="Wrong index",BL=hL.ArrayBuffer,FL=BL,UL=FL&&FL.prototype,jL=hL.DataView,VL=jL&&jL.prototype,QL=Object.prototype,GL=hL.Array,qL=hL.RangeError,HL=pL((function(e){for(var t=eL(this),n=nL(t),r=arguments.length,i=tL(r>1?arguments[1]:void 0,n),o=r>2?arguments[2]:void 0,a=void 0===o?n:tL(o,n);a>i;)t[i++]=e;return t})),zL=pL([].reverse),WL=IL.pack,KL=IL.unpack,YL=function(e){return[255&e]},JL=function(e){return[255&e,e>>8&255]},ZL=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},XL=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},$L=function(e){return WL(e,23,4)},eM=function(e){return WL(e,52,8)},tM=function(e,t){TL(e.prototype,t,{get:function(){return PL(this)[t]}})},nM=function(e,t,n,r){var i=CL(n),o=PL(e);if(i+t>o.byteLength)throw qL(ML);var a=PL(o.buffer).bytes,s=i+o.byteOffset,c=OL(a,s,s+t);return r?c:zL(c)},rM=function(e,t,n,r,i,o){var a=CL(n),s=PL(e);if(a+t>s.byteLength)throw qL(ML);for(var c=PL(s.buffer).bytes,u=a+s.byteOffset,l=r(+i),d=0;d<t;d++)c[u+d]=l[o?d:t-d-1]};if(AL){var iM=NL&&BL.name!==LL;if(yL((function(){BL(1)}))&&yL((function(){new BL(-1)}))&&!yL((function(){return new BL,new BL(1.5),new BL(NaN),iM&&!DL})))iM&&DL&&mL(BL,"name",LL);else{(FL=function(e){return EL(this,UL),new BL(CL(e))}).prototype=UL;for(var oM,aM=RL(BL),sM=0;aM.length>sM;)(oM=aM[sM++])in FL||mL(FL,oM,BL[oM]);UL.constructor=FL}wL&&SL(VL)!==QL&&wL(VL,QL);var cM=new jL(new FL(2)),uM=pL(VL.setInt8);cM.setInt8(0,2147483648),cM.setInt8(1,2147483649),!cM.getInt8(0)&&cM.getInt8(1)||vL(VL,{setInt8:function(e,t){uM(this,e,t<<24>>24)},setUint8:function(e,t){uM(this,e,t<<24>>24)}},{unsafe:!0})}else UL=(FL=function(e){EL(this,UL);var t=CL(e);xL(this,{bytes:HL(GL(t),0),byteLength:t}),fL||(this.byteLength=t)}).prototype,VL=(jL=function(e,t,n){EL(this,VL),EL(e,UL);var r=PL(e).byteLength,i=bL(t);if(i<0||i>r)throw qL("Wrong offset");if(i+(n=void 0===n?r-i:_L(n))>r)throw qL("Wrong length");xL(this,{buffer:e,byteLength:n,byteOffset:i}),fL||(this.buffer=e,this.byteLength=n,this.byteOffset=i)}).prototype,fL&&(tM(FL,"byteLength"),tM(jL,"buffer"),tM(jL,"byteLength"),tM(jL,"byteOffset")),vL(VL,{getInt8:function(e){return nM(this,1,e)[0]<<24>>24},getUint8:function(e){return nM(this,1,e)[0]},getInt16:function(e){var t=nM(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=nM(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return XL(nM(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return XL(nM(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return KL(nM(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return KL(nM(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){rM(this,1,e,YL,t)},setUint8:function(e,t){rM(this,1,e,YL,t)},setInt16:function(e,t){rM(this,2,e,JL,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){rM(this,2,e,JL,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){rM(this,4,e,ZL,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){rM(this,4,e,ZL,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){rM(this,4,e,$L,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){rM(this,8,e,eM,t,arguments.length>2?arguments[2]:void 0)}});kL(FL,LL),kL(jL,"DataView");var lM={ArrayBuffer:FL,DataView:jL},dM=Vr,hM=C,pM=o,fM=kt,AM=Wn,gM=Jn,mM=Po,vM=lM.ArrayBuffer,yM=lM.DataView,EM=yM.prototype,bM=hM(vM.prototype.slice),_M=hM(EM.getUint8),CM=hM(EM.setUint8);dM({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:pM((function(){return!new vM(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(bM&&void 0===t)return bM(fM(this),e);for(var n=fM(this).byteLength,r=AM(e,n),i=AM(void 0===t?n:t,n),o=new(mM(this,vM))(gM(i-r)),a=new yM(this),s=new yM(o),c=0;r<i;)CM(s,c++,_M(a,r++));return o}});var IM,SM,wM,RM={exports:{}},TM=Qx,OM=a,kM=r,NM=U,DM=V,PM=Me,xM=Ri,LM=he,MM=Vt,BM=Qt.exports,FM=It.f,UM=z,jM=Pp,VM=Zr,QM=Xe,GM=Ve,qM=kM.Int8Array,HM=qM&&qM.prototype,zM=kM.Uint8ClampedArray,WM=zM&&zM.prototype,KM=qM&&jM(qM),YM=HM&&jM(HM),JM=Object.prototype,ZM=kM.TypeError,XM=QM("toStringTag"),$M=GM("TYPED_ARRAY_TAG"),eB=GM("TYPED_ARRAY_CONSTRUCTOR"),tB=TM&&!!VM&&"Opera"!==xM(kM.opera),nB=!1,rB={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},iB={BigInt64Array:8,BigUint64Array:8},oB=function(e){if(!DM(e))return!1;var t=xM(e);return PM(rB,t)||PM(iB,t)};for(IM in rB)(wM=(SM=kM[IM])&&SM.prototype)?MM(wM,eB,SM):tB=!1;for(IM in iB)(wM=(SM=kM[IM])&&SM.prototype)&&MM(wM,eB,SM);if((!tB||!NM(KM)||KM===Function.prototype)&&(KM=function(){throw ZM("Incorrect invocation")},tB))for(IM in rB)kM[IM]&&VM(kM[IM],KM);if((!tB||!YM||YM===JM)&&(YM=KM.prototype,tB))for(IM in rB)kM[IM]&&VM(kM[IM].prototype,YM);if(tB&&jM(WM)!==YM&&VM(WM,YM),OM&&!PM(YM,XM))for(IM in nB=!0,FM(YM,XM,{get:function(){return DM(this)?this[$M]:void 0}}),rB)kM[IM]&&MM(kM[IM],$M,IM);var aB={NATIVE_ARRAY_BUFFER_VIEWS:tB,TYPED_ARRAY_CONSTRUCTOR:eB,TYPED_ARRAY_TAG:nB&&$M,aTypedArray:function(e){if(oB(e))return e;throw ZM("Target is not a typed array")},aTypedArrayConstructor:function(e){if(NM(e)&&(!VM||UM(KM,e)))return e;throw ZM(LM(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n,r){if(OM){if(n)for(var i in rB){var o=kM[i];if(o&&PM(o.prototype,e))try{delete o.prototype[e]}catch(n){try{o.prototype[e]=t}catch(e){}}}YM[e]&&!n||BM(YM,e,n?t:tB&&HM[e]||t,r)}},exportTypedArrayStaticMethod:function(e,t,n){var r,i;if(OM){if(VM){if(n)for(r in rB)if((i=kM[r])&&PM(i,e))try{delete i[e]}catch(e){}if(KM[e]&&!n)return;try{return BM(KM,e,n?t:tB&&KM[e]||t)}catch(e){}}for(r in rB)!(i=kM[r])||i[e]&&!n||BM(i,e,t)}},isView:function(e){if(!DM(e))return!1;var t=xM(e);return"DataView"===t||PM(rB,t)||PM(iB,t)},isTypedArray:oB,TypedArray:KM,TypedArrayPrototype:YM},sB=r,cB=o,uB=ao,lB=aB.NATIVE_ARRAY_BUFFER_VIEWS,dB=sB.ArrayBuffer,hB=sB.Int8Array,pB=!lB||!cB((function(){hB(1)}))||!cB((function(){new hB(-1)}))||!uB((function(e){new hB,new hB(null),new hB(1.5),new hB(e)}),!0)||cB((function(){return 1!==new hB(new dB(2),1,void 0).length})),fB=V,AB=Math.floor,gB=Number.isInteger||function(e){return!fB(e)&&isFinite(e)&&AB(e)===e},mB=Gn,vB=r.RangeError,yB=r.RangeError,EB=function(e,t){var n=function(e){var t=mB(e);if(t<0)throw vB("The argument can't be less than 0");return t}(e);if(n%t)throw yB("Wrong offset");return n},bB=pi,_B=l,CB=Oo,IB=Pe,SB=Xn,wB=Ui,RB=Di,TB=vi,OB=aB.aTypedArrayConstructor,kB=R,NB=r,DB=Array.isArray||function(e){return"Array"==kB(e)},PB=So,xB=V,LB=Xe("species"),MB=NB.Array,BB=pi,FB=P,UB=Pe,jB=Xn,VB=function(e,t){return new(function(e){var t;return DB(e)&&(t=e.constructor,(PB(t)&&(t===MB||DB(t.prototype))||xB(t)&&null===(t=t[LB]))&&(t=void 0)),void 0===t?MB:t}(e))(0===t?0:t)},QB=C([].push),GB=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,o=6==e,a=7==e,s=5==e||o;return function(c,u,l,d){for(var h,p,f=UB(c),A=FB(f),g=BB(u,l),m=jB(A),v=0,y=d||VB,E=t?y(c,m):n||a?y(c,0):void 0;m>v;v++)if((s||v in A)&&(p=g(h=A[v],v,f),e))if(t)E[v]=p;else if(p)switch(e){case 3:return!0;case 5:return h;case 6:return v;case 2:QB(E,h)}else switch(e){case 4:return!1;case 7:QB(E,h)}return o?-1:r||i?i:E}},qB={forEach:GB(0),map:GB(1),filter:GB(2),some:GB(3),every:GB(4),find:GB(5),findIndex:GB(6),filterReject:GB(7)},HB=Vr,zB=r,WB=l,KB=a,YB=pB,JB=aB,ZB=lM,XB=ui,$B=m,eF=Vt,tF=gB,nF=Jn,rF=zx,iF=EB,oF=ct,aF=Me,sF=Ri,cF=V,uF=le,lF=Gh,dF=z,hF=Zr,pF=jn.f,fF=function(e){var t,n,r,i,o,a,s=CB(this),c=IB(e),u=arguments.length,l=u>1?arguments[1]:void 0,d=void 0!==l,h=RB(c);if(h&&!TB(h))for(a=(o=wB(c,h)).next,c=[];!(i=_B(a,o)).done;)c.push(i.value);for(d&&u>2&&(l=bB(l,arguments[2])),n=SB(c),r=new(OB(s))(n),t=0;n>t;t++)r[t]=d?l(c[t],t):c[t];return r},AF=qB.forEach,gF=ai,mF=It,vF=i,yF=Vf,EF=Cn.get,bF=Cn.set,_F=mF.f,CF=vF.f,IF=Math.round,SF=zB.RangeError,wF=ZB.ArrayBuffer,RF=wF.prototype,TF=ZB.DataView,OF=JB.NATIVE_ARRAY_BUFFER_VIEWS,kF=JB.TYPED_ARRAY_CONSTRUCTOR,NF=JB.TYPED_ARRAY_TAG,DF=JB.TypedArray,PF=JB.TypedArrayPrototype,xF=JB.aTypedArrayConstructor,LF=JB.isTypedArray,MF="BYTES_PER_ELEMENT",BF="Wrong length",FF=function(e,t){xF(e);for(var n=0,r=t.length,i=new e(r);r>n;)i[n]=t[n++];return i},UF=function(e,t){_F(e,t,{get:function(){return EF(this)[t]}})},jF=function(e){var t;return dF(RF,e)||"ArrayBuffer"==(t=sF(e))||"SharedArrayBuffer"==t},VF=function(e,t){return LF(e)&&!uF(t)&&t in e&&tF(+t)&&t>=0},QF=function(e,t){return t=oF(t),VF(e,t)?$B(2,e[t]):CF(e,t)},GF=function(e,t,n){return t=oF(t),!(VF(e,t)&&cF(n)&&aF(n,"value"))||aF(n,"get")||aF(n,"set")||n.configurable||aF(n,"writable")&&!n.writable||aF(n,"enumerable")&&!n.enumerable?_F(e,t,n):(e[t]=n.value,e)};KB?(OF||(vF.f=QF,mF.f=GF,UF(PF,"buffer"),UF(PF,"byteOffset"),UF(PF,"byteLength"),UF(PF,"length")),HB({target:"Object",stat:!0,forced:!OF},{getOwnPropertyDescriptor:QF,defineProperty:GF}),RM.exports=function(e,t,n){var r=e.match(/\d+$/)[0]/8,i=e+(n?"Clamped":"")+"Array",o="get"+e,a="set"+e,s=zB[i],c=s,u=c&&c.prototype,l={},d=function(e,t){_F(e,t,{get:function(){return function(e,t){var n=EF(e);return n.view[o](t*r+n.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,i){var o=EF(e);n&&(i=(i=IF(i))<0?0:i>255?255:255&i),o.view[a](t*r+o.byteOffset,i,!0)}(this,t,e)},enumerable:!0})};OF?YB&&(c=t((function(e,t,n,i){return XB(e,u),yF(cF(t)?jF(t)?void 0!==i?new s(t,iF(n,r),i):void 0!==n?new s(t,iF(n,r)):new s(t):LF(t)?FF(c,t):WB(fF,c,t):new s(rF(t)),e,c)})),hF&&hF(c,DF),AF(pF(s),(function(e){e in c||eF(c,e,s[e])})),c.prototype=u):(c=t((function(e,t,n,i){XB(e,u);var o,a,s,l=0,h=0;if(cF(t)){if(!jF(t))return LF(t)?FF(c,t):WB(fF,c,t);o=t,h=iF(n,r);var p=t.byteLength;if(void 0===i){if(p%r)throw SF(BF);if((a=p-h)<0)throw SF(BF)}else if((a=nF(i)*r)+h>p)throw SF(BF);s=a/r}else s=rF(t),o=new wF(a=s*r);for(bF(e,{buffer:o,byteOffset:h,byteLength:a,length:s,view:new TF(o)});l<s;)d(e,l++)})),hF&&hF(c,DF),u=c.prototype=lF(PF)),u.constructor!==c&&eF(u,"constructor",c),eF(u,kF,c),NF&&eF(u,NF,i),l[i]=c,HB({global:!0,forced:c!=s,sham:!OF},l),MF in c||eF(c,MF,r),MF in u||eF(u,MF,r),gF(i)}):RM.exports=function(){},(0,RM.exports)("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}));var qF=Xn,HF=Gn,zF=aB.aTypedArray;(0,aB.exportTypedArrayMethod)("at",(function(e){var t=zF(this),n=qF(t),r=HF(e),i=r>=0?r:n+r;return i<0||i>=n?void 0:t[i]}));var WF=r,KF=l,YF=aB,JF=Xn,ZF=EB,XF=Pe,$F=o,eU=WF.RangeError,tU=WF.Int8Array,nU=tU&&tU.prototype,rU=nU&&nU.set,iU=YF.aTypedArray,oU=YF.exportTypedArrayMethod,aU=!$F((function(){var e=new Uint8ClampedArray(2);return KF(rU,e,{length:1,0:3},1),3!==e[1]})),sU=aU&&YF.NATIVE_ARRAY_BUFFER_VIEWS&&$F((function(){var e=new tU(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));oU("set",(function(e){iU(this);var t=ZF(arguments.length>1?arguments[1]:void 0,1),n=XF(e);if(aU)return KF(rU,this,n,t);var r=this.length,i=JF(n),o=0;if(i+t>r)throw eU("Wrong length");for(;o<i;)this[t+o]=n[o++]}),!aU||sU);var cU=dL,uU=Math.floor,lU=function(e,t){var n=e.length,r=uU(n/2);return n<8?dU(e,t):hU(e,lU(cU(e,0,r),t),lU(cU(e,r),t),t)},dU=function(e,t){for(var n,r,i=e.length,o=1;o<i;){for(r=o,n=e[o];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==o++&&(e[r]=n)}return e},hU=function(e,t,n,r){for(var i=t.length,o=n.length,a=0,s=0;a<i||s<o;)e[a+s]=a<i&&s<o?r(t[a],n[s])<=0?t[a++]:n[s++]:a<i?t[a++]:n[s++];return e},pU=lU,fU=W.match(/firefox\/(\d+)/i),AU=!!fU&&+fU[1],gU=/MSIE|Trident/.test(W),mU=W.match(/AppleWebKit\/(\d+)\./),vU=!!mU&&+mU[1],yU=r,EU=C,bU=o,_U=ge,CU=pU,IU=aB,SU=AU,wU=gU,RU=ee,TU=vU,OU=yU.Array,kU=IU.aTypedArray,NU=IU.exportTypedArrayMethod,DU=yU.Uint16Array,PU=DU&&EU(DU.prototype.sort),xU=!(!PU||bU((function(){PU(new DU(2),null)}))&&bU((function(){PU(new DU(2),{})}))),LU=!!PU&&!bU((function(){if(RU)return RU<74;if(SU)return SU<67;if(wU)return!0;if(TU)return TU<602;var e,t,n=new DU(516),r=OU(516);for(e=0;e<516;e++)t=e%4,n[e]=515-e,r[e]=e-2*t+3;for(PU(n,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(n[e]!==r[e])return!0}));NU("sort",(function(e){return void 0!==e&&_U(e),LU?PU(this,e):CU(kU(this),function(e){return function(t,n){return void 0!==e?+e(t,n)||0:n!=n?-1:t!=t?1:0===t&&0===n?1/t>0&&1/n<0?1:-1:t>n}}(e))}),!LU||xU);var MU=ai,BU=lM.ArrayBuffer;let FU;Vr({global:!0,forced:r.ArrayBuffer!==BU},{ArrayBuffer:BU}),MU("ArrayBuffer"),function(e){e[e.CHOOSE_SERVER=11]="CHOOSE_SERVER",e[e.CLOUD_PROXY=18]="CLOUD_PROXY",e[e.CLOUD_PROXY_5=20]="CLOUD_PROXY_5",e[e.CLOUD_PROXY_FALLBACK=26]="CLOUD_PROXY_FALLBACK"}(FU||(FU={}));var UU=eu,jU=Array.isArray||function(e){return"Array"==UU(e)},VU=Dc,QU=jU,GU=RE,qU=pu,HU=Cl("species"),zU=VU.Array,WU=function(e,t){return new(function(e){var t;return QU(e)&&(t=e.constructor,(GU(t)&&(t===zU||QU(t.prototype))||qU(t)&&null===(t=t[HU]))&&(t=void 0)),void 0===t?zU:t}(e))(0===t?0:t)},KU=sd,YU=au,JU=il,ZU=Gd,XU=WU,$U=Oc([].push),ej=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,o=6==e,a=7==e,s=5==e||o;return function(c,u,l,d){for(var h,p,f=JU(c),A=YU(f),g=KU(u,l),m=ZU(A),v=0,y=d||XU,E=t?y(c,m):n||a?y(c,0):void 0;m>v;v++)if((s||v in A)&&(p=g(h=A[v],v,f),e))if(t)E[v]=p;else if(p)switch(e){case 3:return!0;case 5:return h;case 6:return v;case 2:$U(E,h)}else switch(e){case 4:return!1;case 7:$U(E,h)}return o?-1:r||i?i:E}},tj={forEach:ej(0),map:ej(1),filter:ej(2),some:ej(3),every:ej(4),find:ej(5),findIndex:ej(6),filterReject:ej(7)},nj=tj.forEach,rj=Xd("forEach")?[].forEach:function(e){return nj(this,e,arguments.length>1?arguments[1]:void 0)};Bd({target:"Array",proto:!0,forced:[].forEach!=rj},{forEach:rj});var ij=ih("Array").forEach,oj=mm,aj=sl,sj=kc,cj=ij,uj=Array.prototype,lj={DOMTokenList:!0,NodeList:!0},dj=il,hj=kg;Bd({target:"Object",stat:!0,forced:_c((function(){hj(1)}))},{keys:function(e){return hj(dj(e))}});var pj=fu.Object.keys,fj=uh,Aj=Bd,gj=jU,mj=Oc([].reverse),vj=[1,2];Aj({target:"Array",proto:!0,forced:String(vj)===String(vj.reverse())},{reverse:function(){return gj(this)&&(this.length=this.length),mj(this)}});var yj=ih("Array").reverse,Ej=kc,bj=yj,_j=Array.prototype,Cj=_c,Ij=Ru,Sj=Cl("species"),wj=function(e){return Ij>=51||!Cj((function(){var t=[];return(t.constructor={})[Sj]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},Rj=Bd,Tj=Dc,Oj=jU,kj=RE,Nj=pu,Dj=eg,Pj=Gd,xj=du,Lj=sD,Mj=Cl,Bj=xE,Fj=wj("slice"),Uj=Mj("species"),jj=Tj.Array,Vj=Math.max;Rj({target:"Array",proto:!0,forced:!Fj},{slice:function(e,t){var n,r,i,o=xj(this),a=Pj(o),s=Dj(e,a),c=Dj(void 0===t?a:t,a);if(Oj(o)&&(n=o.constructor,(kj(n)&&(n===jj||Oj(n.prototype))||Nj(n)&&null===(n=n[Uj]))&&(n=void 0),n===jj||void 0===n))return Bj(o,s,c);for(r=new(void 0===n?jj:n)(Vj(c-s,0)),i=0;s<c;s++,i++)s in o&&Lj(r,i,o[s]);return r.length=i,r}});var Qj=ih("Array").slice,Gj=kc,qj=Qj,Hj=Array.prototype;function zj(e,t,n,r,i){var o,a,s,c={};return function(e){var t=e.forEach;return e===uj||sj(uj,e)&&t===uj.forEach||aj(lj,oj(e))?cj:t}(o=pj(r)).call(o,(function(e){c[e]=r[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=fj(a=function(e){var t=e.reverse;return e===_j||Ej(_j,e)&&t===_j.reverse?bj:t}(s=function(e){var t=e.slice;return e===Hj||Gj(Hj,e)&&t===Hj.slice?qj:t}(n).call(n)).call(s)).call(a,(function(n,r){return r(e,t,n)||n}),c),i&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(i):void 0,c.initializer=void 0),void 0===c.initializer&&(rO(e,t,c),c=null),c}var Wj=ih("Array").keys,Kj=mm,Yj=sl,Jj=kc,Zj=Wj,Xj=Array.prototype,$j={DOMTokenList:!0,NodeList:!0},eV=function(e){var t=e.keys;return e===Xj||Jj(Xj,e)&&t===Xj.keys||Yj($j,Kj(e))?Zj:t};function tV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tV(Object(n),!0).forEach((function(t){iO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let rV=0,iV=0;function oV(e,t,n,r){return new LC(((i,o)=>{t.timeout=t.timeout||KN("HTTP_CONNECT_TIMEOUT"),t.responseType=t.responseType||"json",t.data&&!n?(t.data=JSON.stringify(t.data),rV+=_G(t.data)):n&&(t.data.size?rV+=t.data.size:t.data instanceof FormData?rV+=function(e){let t=0;return/DingTalk/i.test(navigator.userAgent)&&e.realFormData&&(e=e.realFormData),e.forEach((e=>{t+="string"==typeof e?_G(e):e.size})),t+138}(t.data):rV+=_G(JSON.stringify(t.data))),t.headers=t.headers||{},t.headers["Content-Type"]=t.headers["Content-Type"]||"application/json",t.method="POST",t.url=e,Yk.request(t).then((e=>{"string"==typeof e.data?iV+=_G(e.data):e.data instanceof ArrayBuffer||e.data instanceof Uint8Array?iV+=e.data.byteLength:iV+=_G(JSON.stringify(e.data)),r&&i({data:e.data,headers:e.headers}),i(e.data)})).catch((e=>{Yk.isCancel(e)?o(new eN($k.OPERATION_ABORTED,"cancel token canceled")):"ECONNABORTED"===e.code?o(new eN($k.NETWORK_TIMEOUT,e.message)):e.response?o(new eN($k.NETWORK_RESPONSE_ERROR,e.response.status)):o(new eN($k.NETWORK_ERROR,e.message))}))}))}async function aV(e,t){const n=new Blob([t.data],{type:"buffer"});return await oV(e,nV(nV({},t),{},{data:n,headers:{"Content-Type":"application/octet-stream"}}),!0)}const sV=new class extends Zk{set networkState(e){uN.info("[".concat(this._moduleName,"]")+"network state changed, "+this._networkState+" -> "+e),this.emit(Dx.NETWORK_STATE_CHANGE,e,this._networkState),e===Nx.ONLINE?this.emit(Dx.ONLINE):e===Nx.OFFLINE&&(this.onlineWaiter=new LC((e=>{this.once(Dx.ONLINE,(()=>{this.onlineWaiter=void 0,e(Nx.ONLINE)}))})),this.emit(Dx.OFFLINE)),this._networkState=e}get networkState(){return this._networkState}constructor(){super(),iO(this,"_moduleName","network-indicator"),iO(this,"_networkState",Nx.ONLINE),iO(this,"onlineWaiter",void 0),window.addEventListener("online",(()=>{this.networkState=Nx.ONLINE})),window.addEventListener("offline",(()=>{this.networkState=Nx.OFFLINE}))}};let cV=!1;const uV=new class extends Zk{constructor(){super(...arguments),iO(this,"onAutoplayFailed",void 0),iO(this,"onAudioAutoplayFailed",void 0)}};function lV(){const e=OT();if(!cV){const t=n=>{n.preventDefault(),cV=!1,"Android"!==e.os||"Chrome"!==e.name&&e.name!==ST.WECHAT?(document.body.removeEventListener("touchstart",t,!0),document.body.removeEventListener("mousedown",t,!0)):document.body.removeEventListener("click",t,!0)};cV=!0,"Android"!==e.os||"Chrome"!==e.name&&e.name!==ST.WECHAT?(document.body.addEventListener("touchstart",t,!0),document.body.addEventListener("mousedown",t,!0)):document.body.addEventListener("click",t,!0),uN.info("detect media autoplay failed, document: https://docs.agora.io/cn/Voice/autoplay_policy_web_ng?platform=Web"),uV.onAutoplayFailed?uV.onAutoplayFailed():uV.onAudioAutoplayFailed?uN.warning("AgoraRTC.onAudioAutoplayFailed has been deprecated in favor of AgoraRTC.onAutoplayFailed.\n\n  Please refer to the Agora document to migrate the newer API, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web ."):uN.warning("We have detected a media autoplay failed event, and found out that you haven't implemented AgoraRTC.onAutoplayFailed callback yet.\n\n  It will cause audio/video element not playing automatically on some browsers without user interaction, possibly hurting user experiences.\n\n  Please refer to the Agora document to properly handle autoplay failed event, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web ."),uV.emit("autoplay-failed")}}function dV(e){return(new TextEncoder).encode(e)}const hV=function(e,t){const n=new Uint8Array(e.byteLength+t.byteLength);return n.set(new Uint8Array(e),0),n.set(new Uint8Array(t),e.byteLength),n},pV=async e=>function(e,t){let n="";return new Uint8Array(e).forEach((e=>{n+=e.toString(16).padStart(2,"0")})),n}(await crypto.subtle.digest("SHA-256",dV(e)));var fV;function AV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AV(Object(n),!0).forEach((function(t){iO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mV(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{report:yV};return function(t,n,r){const i=t[n];if("function"==typeof i){const o="AgoraRTCClient"===t.constructor.name?"Client":t.constructor.name;r.value=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];const s=e.report.reportApiInvoke(this._sessionId||null,{name:"".concat(o,".").concat(n),options:r,tag:yP.TRACER,reportResult:e.reportResult});try{const t=i.apply(this,r);return s.onSuccess(e.reportResult&&t),t}catch(e){throw s.onError(e),e}}}return r}}function vV(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{report:yV};return function(t,n,r){const i=r.value;if("function"==typeof i){let o;o=e.className?e.className:"AgoraRTCClient"===t.constructor.name?"Client":t.constructor.name,r.value=async function(){let t;for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];try{a.length>0&&(JSON.stringify(a),t=a)}catch(e){uN.warning("arguments for method ".concat(o,".").concat(n," not serializable from apiInvoke.")),t=[]}const c=(e.report||yV).reportApiInvoke(this._sessionId||null,{name:"".concat(o,".").concat(n),options:t,tag:yP.TRACER});try{const e=await i.apply(this,a);return c.onSuccess(),e}catch(e){throw c.onError(e),e}}}return r}}const yV=new(PN("AgoraRTCEventReport")(fV=class{constructor(){iO(this,"baseInfoMap",new Map),iO(this,"proxyServer",void 0),iO(this,"clientList",nD),iO(this,"eventUploadTimer",void 0),iO(this,"setSessionIdTimer",void 0),iO(this,"url",void 0),iO(this,"backupUrl",void 0),iO(this,"_appId",void 0),iO(this,"keyEventUploadPendingItems",[]),iO(this,"normalEventUploadPendingItems",[]),iO(this,"apiInvokeUploadPendingItems",[]),iO(this,"apiInvokeCount",0),iO(this,"ltsList",[]),iO(this,"lastSendNormalEventTime",Date.now()),iO(this,"customReportCounterTimer",void 0),iO(this,"customReportCount",0),iO(this,"extApiInvoke",(async e=>{for(const t of e){const e=gV(gV({},t),{},{sid:null,invokeId:++this.apiInvokeCount,tag:yP.TRACER});this.sendApiInvoke(e)}})),this.eventUploadTimer=window.setInterval(this.doSend.bind(this),KN("EVENT_REPORT_SEND_INTERVAL")),this.setSessionIdTimer=window.setInterval(this.appendSessionId.bind(this),KN("EVENT_REPORT_SEND_INTERVAL"))}adjustSessionStartTime(e){if(!this.baseInfoMap.has(e)&&!this.baseInfoMap.get(e))return uN.error("adjust session ".concat(e," start time, sid is not exist or info is undefined")),void kN("error",this,"adjustSessionStartTime","adjust session ".concat(e," start time, sid is not exist or info is undefined"));const t=this.baseInfoMap.get(e),n=Date.now(),r=t.startTime;t.startTime=n,uN.debug("rewrite session ".concat(e," startTime: ").concat(n," , ").concat(n-r,"ms")),kN("debug",this,"adjustSessionStartTime",void 0,"rewrite session ".concat(e," startTime: ").concat(n," , ").concat(n-r,"ms")),this.baseInfoMap.set(e,t)}setAppId(e){this._appId=e}reportApiInvoke(e,t,n){t.timeout=t.timeout||6e4,t.reportResult=void 0===t.reportResult||t.reportResult;const r=Date.now();this.apiInvokeCount+=1;const i=this.apiInvokeCount,o=()=>({tag:t.tag,invokeId:i,sid:e,name:t.name,apiInvokeTime:r,options:t.options,states:t.states||null}),a=!!KN("SHOW_REPORT_INVOKER_LOG");a&&uN.info("".concat(t.name," start"),t.options);let s=!1;CG(t.timeout).then((()=>{s||(this.sendApiInvoke(gV(gV({},o()),{},{error:$k.API_INVOKE_TIMEOUT,success:!1})),uN.debug("".concat(t.name," timeout")))}));const c=new eN($k.UNEXPECTED_ERROR,"".concat(t.name,": this api invoke is end"));return{onSuccess:e=>{const r=()=>{if(s)throw c;return s=!0,this.sendApiInvoke(gV(gV({},o()),{},{success:!0},t.reportResult&&{result:e})),a&&uN.info("".concat(t.name," onSuccess")),e};return n?GG(r,t.name+"Success",n,(()=>s=!0)):r()},onError:e=>{const r=()=>{if(s)throw e;s=!0,this.sendApiInvoke(gV(gV({},o()),{},{success:!1,error:e})),a&&uN.info("".concat(t.name," onFailure"),e.toString())};return n?GG(r,t.name+"Error",n,(()=>s=!0)):r()}}}sessionInit(e,t){if(this.baseInfoMap.has(e))return;const n=Date.now(),r=this.createBaseInfo(e,n);r.cname=t.cname;const i=Object.assign({},{willUploadConsoleLog:KN("UPLOAD_LOG"),maxTouchPoints:navigator.maxTouchPoints,areaVersion:BN?"global":"oversea",areas:KN("AREAS")&&KN("AREAS").join(",")},t.extend),o=Date.now(),a=gV(gV({},r),{},{eventType:fP.SESSION_INIT,appid:t.appid,browser:navigator.userAgent,build:LN,lts:o,elapse:o-n,extend:JSON.stringify(i),mode:t.mode,process:KN("PROCESS_ID"),appType:KN("APP_TYPE"),success:!0,version:MN});this.send({type:AP.SESSION,data:a},!0)}joinChooseServer(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,i=Date.now(),o=gV(gV({},r),{},{eventType:fP.JOIN_CHOOSE_SERVER,lts:i,eventElapse:i-t.lts,chooseServerAddr:t.csAddr,errorCode:t.ec,elapse:i-n.startTime,success:t.succ,chooseServerAddrList:JSON.stringify(t.serverList),uid:t.uid?parseInt(t.uid):null,cid:t.cid?parseInt(t.cid):null,chooseServerIp:t.csIp||"",opid:t.opid,unilbsServerIds:t.unilbsServerIds,extend:t.extend||void 0,isHttp3:t.isHttp3});this.send({type:AP.JOIN_CHOOSE_SERVER,data:o},!0)}reqUserAccount(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,i=Date.now(),o=gV(gV({},r),{},{eventType:fP.REQ_USER_ACCOUNT,lts:i,success:t.success,serverAddress:t.serverAddr,stringUid:t.stringUid,uid:t.uid,errorCode:t.errorCode,elapse:i-n.startTime,eventElapse:i-t.lts,extend:JSON.stringify(t.extend)});this.send({type:AP.REQ_USER_ACCOUNT,data:o},!0)}joinGateway(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info;t.vid&&(r.vid=t.vid),r.uid=t.uid,r.cid=t.cid;const i=Date.now(),{firstSuccess:o,avoidJoinStartTime:a,isProxy:s,addr:c}=t,u=i-(o&&a?a:n.startTime),l=gV(gV({},r),{},{eventType:fP.JOIN_GATEWAY,lts:i,gatewayAddr:t.addr,success:t.succ,errorCode:t.ec,elapse:u,eventElapse:i-t.lts,firstSuccess:o}),d=l.success?1:0;if(t.succ&&(n.lastJoinSuccessTime=i),o)this.send({type:AP.JOIN_GATEWAY,data:l},!0);else{let e;if(c)if(s){const t=c.match(/h=(\d{1,3}-){3}\d{1,3}/g),n=c.match(/p=[0-9]{1,6}/g);e={isSuccess:d,gatewayIp:t&&t.length?t[0].split("=")[1].replace(/-/g,"."):"",port:n&&n.length?n[0].split("=")[1]:"",isProxy:s?1:0}}else{const t=c.match(/wss:\/\/(\d{1,3}-){3}\d{1,3}/g),n=c.match(/:[0-9]{1,6}/g);e={isSuccess:d,gatewayIp:t&&t.length?t[0].split("//")[1].replace(/-/g,"."):"",port:n&&n.length?n[0].split(":")[1]:"",isProxy:s?1:0}}else e={isSuccess:d,gatewayIp:"",port:"",isProxy:s?1:0};delete l.success,delete l.eventType,delete l.firstSuccess,l.vid=Number(l.vid);const t=Object.assign({},l,e,{eventType:fP.REJOIN_GATEWAY});this.send({type:AP.RE_JOIN_GATEWAY,data:t},!0)}}joinChannelTimeout(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=Date.now(),i=gV(gV({},n.info),{},{lts:r,timeout:t,elapse:r-n.startTime});this.send({type:AP.JOIN_CHANNEL_TIMEOUT,data:i},!0)}publish(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,i=Date.now(),o=gV(gV({},r),{},{eventType:fP.PUBLISH,lts:i,eventElapse:t.eventElapse,elapse:i-n.startTime,success:t.succ,errorCode:t.ec,videoName:t.videoName,audioName:t.audioName,screenName:t.screenName,screenshare:t.screenshare,audio:t.audio,video:t.video,p2pid:t.p2pid,publishRequestid:t.publishRequestid});this.send({type:AP.PUBLISH,data:o},!0)}subscribe(e,t,n){const r=this.baseInfoMap.get(e);if(!r)return;const i=r.info,o=Date.now(),a=gV(gV({},i),{},{eventType:fP.SUBSCRIBE,lts:o,eventElapse:t.eventElapse,elapse:o-r.startTime,success:t.succ,errorCode:t.ec,video:t.video,audio:t.audio,subscribeRequestid:t.subscribeRequestid,p2pid:t.p2pid},n&&{extend:JSON.stringify({isMassSubscribe:!0})});"string"==typeof t.peerid?a.peerSuid=t.peerid:a.peer=t.peerid,this.send({type:AP.SUBSCRIBE,data:a},!0)}wsCompressorInit(e){var t;const n=[...eV(t=this.baseInfoMap).call(t)],r=n.length?n[0]:"UnableToGetSid",i=this.baseInfoMap.get(r);if(!i)return;const o=i.info,a=Date.now(),s=gV(gV({},o),{},{eventType:fP.WS_COMPRESSOR_INIT,lts:a,eventElapse:e.eventElapse,elapse:a-i.startTime,status:e.status?1:2});this.send({type:AP.WS_COMPRESSOR_INIT,data:s},!0)}firstRemoteVideoDecode(e,t,n,r){const i=this.baseInfoMap.get(e);if(!i)return;const o=i.info,a=Date.now(),s=gV(gV(gV({},o),r),{},{elapse:a-i.startTime,eventType:t,lts:a,firstDecodeFrame:Math.max(a-i.startTime,0),apEnd:Math.max(r.apEnd-i.startTime,0),apStart:Math.max(r.apStart-i.startTime,0),joinGwEnd:Math.max(r.joinGwEnd-i.startTime,0),joinGwStart:Math.max(r.joinGwStart-i.startTime,0),pcEnd:Math.max(r.pcEnd-i.startTime,0),pcStart:Math.max(r.pcStart-i.startTime,0),subscriberEnd:Math.max(r.subscriberEnd-i.startTime,0),subscriberStart:Math.max(r.subscriberStart-i.startTime,0),videoAddNotify:Math.max(r.videoAddNotify-i.startTime,0)});this.send({type:n,data:s},!0)}firstRemoteFrame(e,t,n,r){const i=this.baseInfoMap.get(e);if(!i)return;const o=i.info,a=Date.now(),s=gV(gV(gV({},o),r),{},{elapse:a-i.startTime,eventType:t,lts:a});this.send({type:n,data:s},!0)}onGatewayStream(e,t,n,r){const i=this.baseInfoMap.get(e);if(!i)return;const o=i.info,a=Date.now(),s=gV(gV(gV({},o),r),{},{eventType:t,lts:a});this.send({type:n,data:s},!0)}streamSwitch(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,i=Date.now(),o=gV(gV({},r),{},{eventType:fP.STREAM_SWITCH,lts:i,isDual:t.isdual,elapse:i-n.startTime,success:t.succ});this.send({type:AP.STREAM_SWITCH,data:o},!0)}requestProxyAppCenter(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,i=Date.now(),o=gV(gV({},r),{},{eventType:fP.REQUEST_PROXY_APPCENTER,lts:i,eventElapse:i-t.lts,elapse:i-n.startTime,APAddr:t.APAddr,workerManagerList:t.workerManagerList,response:t.response,errorCode:t.ec,success:t.succ});this.send({type:AP.REQUEST_PROXY_APPCENTER,data:o},!0)}requestProxyWorkerManager(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,i=Date.now(),o=gV(gV({},r),{},{eventType:fP.REQUEST_PROXY_WORKER_MANAGER,lts:i,eventElapse:i-t.lts,elapse:i-n.startTime,workerManagerAddr:t.workerManagerAddr,response:t.response,errorCode:t.ec,success:t.succ});this.send({type:AP.REQUEST_PROXY_WORKER_MANAGER,data:o},!0)}setProxyServer(e){this.proxyServer=e,e?uN.debug("reportProxyServerurl: ".concat(e)):uN.debug("disable reportProxyServerurl: ".concat(e)),kN("debug",this,"setProxyServer",e)}peerPublishStatus(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,i=Date.now(),o=gV(gV({},r),{},{subscribeElapse:t.subscribeElapse,peer:t.peer,peerPublishDuration:Math.max(t.audioPublishDuration,t.videoPublishDuration),audiotag:t.audioPublishDuration>0?1:-1,videotag:t.videoPublishDuration>0?1:-1,lts:i,elapse:i-n.startTime,joinChannelSuccessElapse:i-(n.lastJoinSuccessTime||i),peerPublishDurationVideo:t.videoPublishDuration,peerPublishDurationAudio:t.audioPublishDuration});this.send({type:AP.PEER_PUBLISH_STATUS,data:o},!0)}workerEvent(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,i=Date.now();(function(e,t,n){const r=e[t];if(!r||"string"!=typeof r)return[e];e[t]="";const i=_G(JSON.stringify(e));let o=0;const a=[];let s=0;for(let n=0;n<r.length;n++)s+=r.charCodeAt(n)<=127?1:3,s<=1300-i||(a[a.length]=bG(bG({},e),{},{[t]:r.substring(o,n)}),o=n,s=r.charCodeAt(n)<=127?1:3);return o!==r.length-1&&(a[a.length]=bG(bG({},e),{},{[t]:r.substring(o)})),a})(gV(gV(gV({},r),t),{},{elapse:i-n.startTime,lts:i,productType:"WebRTC"}),"payload").forEach((e=>this.send({type:AP.WORKER_EVENT,data:e},!0)))}apworkerEvent(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,i=Date.now(),o=gV(gV(gV({},r),t),{},{elapse:i-n.startTime,lts:i});this.send({type:AP.AP_WORKER_EVENT,data:o},!0)}joinWebProxyAP(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,i=Date.now(),o=gV(gV(gV({},r),t),{},{elapse:i-n.startTime,lts:i,extend:t.extend||void 0});this.send({type:AP.JOIN_WEB_PROXY_AP,data:o},!0)}WebSocketQuit(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,i=Date.now(),o=gV(gV(gV({},r),t),{},{elapse:i-n.startTime,lts:i});this.send({type:AP.WEBSOCKET_QUIT,data:o},!0)}async sendCustomReportMessage(e,t){if(this.customReportCount+=t.length,this.customReportCount>KN("CUSTOM_REPORT_LIMIT"))throw new eN($k.CUSTOM_REPORT_FREQUENCY_TOO_HIGH);this.customReportCounterTimer||(this.customReportCounterTimer=window.setInterval((()=>{this.customReportCount=0}),5e3));const n=t.map((t=>({type:AP.USER_ANALYTICS,data:gV({sid:e},t)})));try{KN("NEW_REPORT_SERVER")?await this.postDataToStatsCollector2(n):await this.postDataToStatsCollector(n)}catch(e){throw uN.error("send custom report message failed",e.toString()),new eN($k.CUSTOM_REPORT_SEND_FAILED,e.message)}}autoplayFailed(e,t,n,r){if(!e)return;const i=this.baseInfoMap.get(e);if(!i)return;const o=i.info,a=Date.now(),s=gV(gV({},o),{},{vid:void 0===o.vid?0:Number(o.vid),lts:a,elapse:a-i.startTime,cbRegistered:uV.onAutoplayFailed||uV.onAudioAutoplayFailed?1:-1,errorMsg:n,mediaType:t,trackId:r,extend:void 0});this.send({type:AP.AUTOPLAY_FAILED,data:s},!0)}sendApiInvoke(e){const t=KN("NOT_REPORT_EVENT");if(e.tag&&t.includes&&t.includes(e.tag))return!1;if(null===e.sid)return this.apiInvokeUploadPendingItems.push(e),!1;const n=this.baseInfoMap.get(e.sid);if(!n)return this.apiInvokeUploadPendingItems.push(e),!1;const{cname:r,uid:i,cid:o}=n.info;let a;if(e.lts=e.lts||Date.now(),e.error)if(e.error instanceof eN){const{code:t,message:n}=e.error;a=t||n||e.error.toString()}else a=e.error.toString();const s={invokeId:e.invokeId,sid:e.sid,cname:r,cid:o,uid:i,lts:e.lts,success:e.success,elapse:e.lts-n.startTime,execElapse:e.lts-e.apiInvokeTime,apiName:e.name,options:e.options?JSON.stringify(e.options):void 0,execStates:e.states?JSON.stringify(e.states):void 0,execResult:e.result?JSON.stringify(e.result):void 0,errorCode:e.error?a:void 0,errorMsg:e.error?JSON.stringify(e.error):void 0};return this.send({type:AP.API_INVOKE,data:s},!1),!0}appendSessionId(){this.clientList.forEach((e=>{if(e._sessionId){const t=this.apiInvokeUploadPendingItems.length;for(let n=0;n<t;n++){const t=this.apiInvokeUploadPendingItems.shift();t&&(t.sid=e._sessionId,this.sendApiInvoke(Object.assign({},t)))}}}))}send(e,t){if(t)return this.keyEventUploadPendingItems.push(e),void this.sendItems(this.keyEventUploadPendingItems,!0);this.normalEventUploadPendingItems.push(e),this.normalEventUploadPendingItems.length>KN("NORMAL_EVENT_QUEUE_CAPACITY")&&this.normalEventUploadPendingItems.splice(0,1),this.normalEventUploadPendingItems.length>=10&&this.sendItems(this.normalEventUploadPendingItems,!1)}doSend(){this.keyEventUploadPendingItems.length>0&&this.sendItems(this.keyEventUploadPendingItems,!0),this.normalEventUploadPendingItems.length>0&&Date.now()-this.lastSendNormalEventTime>=5e3&&this.sendItems(this.normalEventUploadPendingItems,!1)}sendItems(e,t){const n=[],r=[];for(;e.length;){const t=e.shift();n.length<20?n.push(t):r.push(t)}e.push(...r);for(const e of[...n]){var i;-1!==this.ltsList.indexOf(e.data.lts)?(e.data.lts=this.ltsList[this.ltsList.length-1]+1,this.ltsList.push(e.data.lts)):(this.ltsList.push(e.data.lts),YD(i=this.ltsList).call(i,((e,t)=>e-t)))}return t||(this.lastSendNormalEventTime=Date.now()),n.length&&(KN("NEW_REPORT_SERVER")?this.postDataToStatsCollector2(n):this.postDataToStatsCollector(n)).catch((e=>n=>{KN("EVENT_REPORT_RETRY")&&(t?this.keyEventUploadPendingItems=this.keyEventUploadPendingItems.concat(e):(this.normalEventUploadPendingItems=this.normalEventUploadPendingItems.concat(e),this.normalEventUploadPendingItems.length>KN("NORMAL_EVENT_QUEUE_CAPACITY")&&(this.normalEventUploadPendingItems.splice(0,this.normalEventUploadPendingItems.length-KN("NORMAL_EVENT_QUEUE_CAPACITY")),uN.warning("report: drop normal events"))))})(n)),e}async postDataToStatsCollector2(e){sV.networkState===Nx.OFFLINE&&await LC.race([sV.onlineWaiter,CG(2*tN.maxRetryTimeout)]);const t=e=>{let t=new Uint8Array;return e.forEach((e=>{const n=dV(JSON.stringify(e.data)),r=new ArrayBuffer(5),i=(e=>{let t=0;return Object.entries(AP).forEach((n=>{let[r,i]=n;i===e.type&&(t=mP[r])})),t})(e),o=new DataView(r);o.setUint16(0,n.byteLength,!0),o.setUint8(2,255&i),o.setUint8(3,i>>>8&255),o.setUint8(4,i>>>16&255),t=hV(t,new Uint8Array(r)),t=hV(t,n)})),t},n="event";let r=this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(KN("NEW_REPORT_SERVER_DOMAINS")[0],"&p=443&d=").concat(n):"https://".concat(KN("NEW_REPORT_SERVER_DOMAINS")[0],"/").concat(n);for(let i=0;i<2;i+=1){1===i&&(r=this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(KN("NEW_REPORT_SERVER_DOMAINS")[1],"&p=443&d=").concat(n):"https://".concat(KN("NEW_REPORT_SERVER_DOMAINS")[1],"/").concat(n));try{await oV(r,{timeout:1e4,data:t(e),headers:gV(gV({token:"32f24ab2ddb74f508aa9286c356cec84",biz:"webrtc",sendts:Math.round(Date.now()/1e3),debug:"false"},this._appId&&{appid:this._appId}),{},{"Content-Type":"application/octet-stream"})},!0)}catch(e){if(1===i)throw e;continue}return}}async postDataToStatsCollector(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={msgType:"EventMessages",sentTs:Math.round(Date.now()/1e3),payloads:e.map((e=>JSON.stringify(e))),vid:(e=>{const t=e&&e.data.sid&&this.baseInfoMap.get(e.data.sid);return t&&t.info.vid&&+t.info.vid||0})(e[0])};sV.networkState===Nx.OFFLINE&&await LC.race([sV.onlineWaiter,CG(2*tN.maxRetryTimeout)]);const r=t?"/events/proto-raws":"/events/messages";let i=this.url||(this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(KN("EVENT_REPORT_DOMAIN"),"&p=").concat(KN("STATS_COLLECTOR_PORT"),"&d=").concat(r):"https://".concat(KN("EVENT_REPORT_DOMAIN"),":").concat(KN("STATS_COLLECTOR_PORT")).concat(r));for(let e=0;e<2;e+=1){1===e&&(i=this.backupUrl||(this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(KN("EVENT_REPORT_BACKUP_DOMAIN"),"&p=").concat(KN("STATS_COLLECTOR_PORT"),"&d=").concat(r):"https://".concat(KN("EVENT_REPORT_BACKUP_DOMAIN"),":").concat(KN("STATS_COLLECTOR_PORT")).concat(r)));try{t?await aV(i,{timeout:1e4,data:n}):await oV(i,{timeout:1e4,data:n})}catch(t){if(1===e)throw t;continue}return}}createBaseInfo(e,t){const n=Object.assign({},pP);return n.sid=e,this.baseInfoMap.set(e,{info:n,startTime:t}),n}reportResourceTiming(e,t){const n=performance.getEntriesByName(e),r=n[n.length-1];r&&this.reportApiInvoke(t,{name:"Client.resourceTiming",options:r,tag:yP.TRACER}).onSuccess()}})||fV);Xk.on("REPORT_LOG_UPLOAD",(e=>{e.networkState=sV.networkState,yV.reportApiInvoke(null,{name:"logUploadError",options:e,tag:yP.TRACER})}));class EV extends Zk{constructor(e,t){super(),iO(this,"trackMediaType",void 0),iO(this,"_ID",void 0),iO(this,"_hints",[]),iO(this,"_isClosed",!1),iO(this,"_originMediaStreamTrack",void 0),iO(this,"_mediaStreamTrack",void 0),iO(this,"_external",{}),this._ID=t||SG(8,"track-"),this._originMediaStreamTrack=e,this._mediaStreamTrack=e,function(e){rD.includes(e)||rD.push(e)}(this)}toString(){return this._ID}getTrackId(){return this._ID}getMediaStreamTrack(e){if(!e){const e=yV.reportApiInvoke(null,{name:vP.GET_MEDIA_STREAM_TRACK,options:[],tag:yP.TRACER});this._mediaStreamTrack&&"string"==typeof this._mediaStreamTrack.label?e.onSuccess(this._mediaStreamTrack.label):e.onSuccess("")}return this._mediaStreamTrack}getMediaStreamTrackSettings(){return this.getMediaStreamTrack(!0).getSettings()}close(){this._isClosed=!0,function(e){const t=rD.indexOf(e);-1!==t&&rD.splice(t,1)}(this),this.emit(mx.CLOSED)}}let bV,_V,CV,IV=1;class SV{constructor(e){iO(this,"lockingPromise",LC.resolve()),iO(this,"locks",0),iO(this,"name",""),iO(this,"lockId",void 0),this.lockId=IV++,e&&(this.name=e),uN.debug("[lock-".concat(this.name,"-").concat(this.lockId,"] is created."))}get isLocked(){return this.locks>0}lock(e){let t;this.locks+=1,uN.debug("[lock-".concat(this.name,"-").concat(this.lockId,"] is locked, current queue ").concat(this.locks,". ").concat("string"==typeof e?e:""));const n=new LC((n=>{t=()=>{this.locks-=1,uN.debug("[lock-".concat(this.name,"-").concat(this.lockId,"] is not locked, current queue ").concat(this.locks,". ").concat("string"==typeof e?e:"")),n()}})),r=this.lockingPromise.then((()=>t));return this.lockingPromise=this.lockingPromise.then((()=>n)),r}}function wV(e,t){return function(n,r,i){const o=i.value;if("function"!=typeof o)throw new Error("Cannot use mutex on object property.");return i.value=async function(){const n=this[t];if(!n)throw new Error("mutex property key ".concat(t," doesn't exist on ").concat(e));const i=await n.lock("From ".concat(e,".").concat(r));try{for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return await o.apply(this,s)}finally{i()}},i}}class RV extends EV{get muted(){return this._muted}get enabled(){return this._enabled}constructor(e,t){super(e,t),iO(this,"_enabled",!0),iO(this,"_muted",!1),iO(this,"_isClosed",!1),iO(this,"_trackProcessors",[]),iO(this,"_enabledMutex",void 0),iO(this,"processor",void 0),iO(this,"processorContext",void 0),iO(this,"_handleTrackEnded",(()=>{this.onTrackEnded()})),this._enabledMutex=new SV("".concat(t)),e.addEventListener("ended",this._handleTrackEnded)}getTrackLabel(){return this._originMediaStreamTrack.label}close(){this._isClosed||(this.stop(),this._trackProcessors.forEach((e=>e.destroy())),this._trackProcessors=[],this._originMediaStreamTrack.stop(),this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack.stop(),this._mediaStreamTrack=null),this._originMediaStreamTrack=null,this._enabledMutex=null,uN.debug("[".concat(this.getTrackId(),"] close")),kN("debug",this,"close"),this.emit(px.NEED_CLOSE),super.close())}async _registerTrackProcessor(e){if(-1!==this._trackProcessors.indexOf(e))return;const t=this._trackProcessors[this._trackProcessors.length-1];this._trackProcessors.push(e),e.onOutputChange=async()=>{const t=e.output||this._originMediaStreamTrack;this._mediaStreamTrack=t,this._updatePlayerSource(),await NG(this,px.NEED_REPLACE_TRACK,this)},t?(t.onOutputChange=async()=>{t.output&&await e.setInput(t.output)},await e.setInput(t.output||t.input||this._originMediaStreamTrack)):await e.setInput(this._originMediaStreamTrack)}_getOutputFromProcessors(){if(0===this._trackProcessors.length)return this._originMediaStreamTrack;const e=this._trackProcessors[this._trackProcessors.length-1];return e.output||e.input||this._originMediaStreamTrack}async _updateOriginMediaStreamTrack(e,t){if(e!==this._originMediaStreamTrack){if(this._originMediaStreamTrack.removeEventListener("ended",this._handleTrackEnded),t&&this._originMediaStreamTrack.stop(),e.addEventListener("ended",this._handleTrackEnded),this._originMediaStreamTrack=e,this._trackProcessors.length>0){await this._trackProcessors[0].setInput(e);const t=this._getOutputFromProcessors();this._mediaStreamTrack=t}else this._mediaStreamTrack=this._originMediaStreamTrack;this._updatePlayerSource(),await NG(this,px.NEED_REPLACE_TRACK,this),this.processor&&this.processor.updateInput({track:this._originMediaStreamTrack,context:this.processorContext})}}_getDefaultPlayerConfig(){return{}}onTrackEnded(){uN.debug("[".concat(this.getTrackId(),"] track ended")),ON("debug",["MediaStreamTrack",this.getTrackId()],"ended"),this.emit(mx.TRACK_ENDED)}stateCheck(e,t){if(uN.debug("check track state, [muted: ".concat(this._muted,", enabled: ").concat(this._enabled,"] to [").concat(e,": ").concat(t,"]")),kN("debug",this,"stateCheck",{stateName:e,state:t,muted:this._muted,enabled:this._enabled}),JD(t,e),this._enabled&&this._muted&&"enabled"===e&&!1===t)throw new eN($k.TRACK_STATE_UNREACHABLE,"cannot set enabled while the track is muted").print();if(!this._enabled&&!this._muted&&"muted"===e&&!0===t)throw new eN($k.TRACK_STATE_UNREACHABLE,"cannot set muted while the track is disabled").print()}getProcessorStats(){return this.processorContext.gatherStats()}}(0,RM.exports)("Float32",(function(e){return function(t,n,r){return e(this,t,n,r)}})),function(e){e.IOS_15_INTERRUPTION_START="ios15-interruption-start",e.IOS_15_INTERRUPTION_END="ios15-interruption-end",e.IOS_INTERRUPTION_START="ios-interruption-start",e.IOS_INTERRUPTION_END="ios-interruption-end",e.STATE_CHANGE="state-change"}(bV||(bV={})),function(e){e.AUDIO_CONTEXT_CREATED="audio_context_created"}(_V||(_V={})),function(e){e.AIDenoiser="AIDenoiser"}(CV||(CV={}));const TV={audioContextInitOptions:{}},OV=new class extends Zk{constructor(){super(),iO(this,"registeredPlugins",[])}setOptions(e,t){TV[e]&&(TV[e]=t)}getOptions(e){return TV[e]}installPlugin(e){e instanceof Object&&e.name&&this.registeredPlugins.push(e.name)}};function kV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function NV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kV(Object(n),!0).forEach((function(t){iO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const DV=window.AudioContext||window.webkitAudioContext;let PV=null;const xV=new class extends Zk{constructor(){super(...arguments),iO(this,"prevState",void 0),iO(this,"curState",void 0),iO(this,"currentTime",void 0),iO(this,"currentTimeStuckAt",void 0),iO(this,"interruptDetectorTrack",void 0),iO(this,"onLocalAudioTrackMute",(()=>{uN.info("ios15-interruption-start"),RN("info",["WebAudio"],"ios15-interruption-start"),this.emit(bV.IOS_15_INTERRUPTION_START)})),iO(this,"onLocalAudioTrackUnmute",(async()=>{uN.info("ios15-interruption-end"),RN("info",["WebAudio"],"ios15-interruption-end"),"running"!==this.curState||this.duringInterruption?uN.info("ios15-interruption-end-canceled"):(PV&&await PV.suspend(),this.emit(bV.IOS_15_INTERRUPTION_END))}))}get duringInterruption(){return"running"===this.prevState&&"interrupted"===this.curState}bindInterruptDetectorTrack(e){uN.debug("webaudio bindInterruptDetectorTrack ".concat(e.getTrackId())),kN("debug",["WebAudio"],"bindInterruptDetectorTrack",e.getTrackId()),this.interruptDetectorTrack||(this.interruptDetectorTrack=e,this.interruptDetectorTrack._mediaStreamTrack.onmute=this.onLocalAudioTrackMute,this.interruptDetectorTrack._mediaStreamTrack.onunmute=this.onLocalAudioTrackUnmute)}unbindInterruptDetectorTrack(e){uN.debug("webaudio unbindInterruptDetectorTrack ".concat(e.getTrackId())),kN("debug",["WebAudio"],"unbindInterruptDetectorTrack",e.getTrackId()),this.interruptDetectorTrack&&this.interruptDetectorTrack===e&&(this.interruptDetectorTrack._mediaStreamTrack&&(this.interruptDetectorTrack._mediaStreamTrack.onmute=null,this.interruptDetectorTrack._mediaStreamTrack.onunmute=null),this.interruptDetectorTrack=void 0)}};function LV(){if(!PV){if(function(){if(!DV)return uN.error("your browser is not support web audio"),void wN("error",["WebAudio"],"your browser is not support web audio");uN.info("create audio context"),NN("info",["WebAudio"],"WebAudioContext");const e=NV(NV({},OV.getOptions("audioContextInitOptions")),KN("WEBAUDIO_INIT_OPTIONS"));uN.debug("audio context init option:",JSON.stringify(e)),PV=new DV(e),OV.emit(_V.AUDIO_CONTEXT_CREATED,PV),xV.curState=PV.state,PV.onstatechange=()=>{xV.prevState=xV.curState,xV.curState=PV?PV.state:void 0,(FT()||zT())&&"running"===xV.prevState&&"interrupted"===xV.curState&&(uN.info("ios-interruption-start"),RN("info",["AudioState"],"ios-interruption-start"),xV.emit(bV.IOS_INTERRUPTION_START)),(FT()||zT())&&"interrupted"===xV.prevState&&"running"===xV.curState&&(uN.info("ios-interruption-end"),RN("info",["AudioState"],"ios-interruption-end"),xV.emit(bV.IOS_INTERRUPTION_END)),xV.prevState!==xV.curState&&(uN.debug("AudioContext State Change","".concat(xV.prevState,"=>").concat(xV.curState)),ON("debug",["AudioContext",void 0],"statechange","".concat(xV.prevState,"=>").concat(xV.curState)),xV.emit(bV.STATE_CHANGE))},setInterval((()=>{var e;const t=null===(e=PV)||void 0===e?void 0:e.currentTime;xV.currentTime!==t?(xV.currentTimeStuckAt&&(uN.debug("AudioContext current time resume at ".concat(t)),xV.currentTimeStuckAt=void 0),xV.currentTime=t):(t!==xV.currentTimeStuckAt&&(yV.reportApiInvoke(null,{name:"WEB_AUDIO_CURRENT_TIME_STUCK",options:{currentTime:t},tag:yP.TRACER}).onSuccess(),uN.warning("AudioContext current time stuck at ".concat(t))),xV.currentTimeStuckAt=t)}),5e3),async function(e){const t=["click","contextmenu","auxclick","dblclick","mousedown","mouseup","touchend","keydown","keyup"];let n,r=!1,i=!1,o=!1;function a(t){"running"===e.state?s(!1):FT()||zT()?"suspended"===e.state&&(s(!0),t&&e.resume().then(c,c)):"closed"!==e.state&&(s(!0),t&&e.resume().then(c,c))}function s(e){if(r!==e){r=e;for(let n=0,r=t;n<r.length;n+=1){const t=r[n];e?window.addEventListener(t,u,{capture:!0,passive:!0}):window.removeEventListener(t,u,{capture:!0,passive:!0})}}}function c(){a(!1)}function u(){a(!0)}function l(e){if(!o)if(n.paused)if(e){let t;d(!1),o=!0;try{t=n.play(),t?t.then(h,h):(n.addEventListener("playing",h),n.addEventListener("abort",h),n.addEventListener("error",h))}catch(e){h()}}else d(!0);else d(!1)}function d(e){if(i!==e){i=e;for(let n=0,r=t;n<r.length;n++){const t=r[n];e?window.addEventListener(t,p,{capture:!0,passive:!0}):window.removeEventListener(t,p,{capture:!0,passive:!0})}}}function h(){n.removeEventListener("playing",h),n.removeEventListener("abort",h),n.removeEventListener("error",h),o=!1,l(!1)}function p(){l(!0)}if(FT()){const t=e.createMediaStreamDestination(),r=document.createElement("div");r.innerHTML="<audio x-webkit-airplay='deny'></audio>",n=r.children.item(0),n.controls=!1,n.disableRemotePlayback=!0,n.preload="auto",n.srcObject=t.stream,l(!0)}xV.on(bV.STATE_CHANGE,(function(){a(!0)})),a(!1)}(PV)}(),!PV)throw new eN($k.NOT_SUPPORTED,"can not create audio context");return PV}return PV}function MV(e){if(function(){if(null!==BV)return BV;const e=LV(),t=e.createBufferSource(),n=e.createGain(),r=e.createGain();t.connect(n),t.connect(r),t.disconnect(n);let i=!1;try{t.disconnect(n)}catch(e){i=!0}return t.disconnect(),BV=i,i}())return;kN("debug",["WebAudio"],"polyfillAudioNode");const t=e.connect,n=e.disconnect;e.connect=(n,r,i)=>(e._inputNodes||(e._inputNodes=[]),e._inputNodes.includes(n)||(n instanceof AudioNode?(e._inputNodes.push(n),t.call(e,n,r,i)):t.call(e,n,r)),e),e.disconnect=(r,i,o)=>{n.call(e),r?xG(e._inputNodes,r):e._inputNodes=[];for(const n of e._inputNodes)t.call(e,n)}}let BV=null;function FV(e,t){const n=1/t,r=LV();let i=r.createGain();i.gain.value=0,i.connect(r.destination);let o=!1;const a=()=>{if(o)return void(i=null);const t=r.createOscillator();t.onended=a,t.connect(i),t.start(0),t.stop(r.currentTime+n),e(r.currentTime)};return a(),()=>{o=!0}}const UV=uN.prefix("[inject-node]");class jV{constructor(){iO(this,"nodeLists",[]),iO(this,"prevNode",void 0),iO(this,"nextNode",void 0)}get firstNode(){return this.nodeLists[0]}get lastNode(){return this.nodeLists[this.nodeLists.length-1]}get isActive(){return!!this.nodeLists.length}get isConnected(){return!(!this.prevNode||!this.nextNode)}connect(e,t){UV.debug("connect audio node, current list:"+this.nodeLists.length),this.nodeLists.length?(this.prevNode&&this.prevNode.disconnect(),e.connect(this.firstNode),this.nextNode&&this.lastNode&&this.lastNode.disconnect(),this.lastNode.connect(t),this.nodeLists.forEach(((e,t)=>{const n=this.nodeLists[t+1];n&&e.connect(n)}))):e.connect(t),this.nextNode=t,this.prevNode=e}disconnect(){var e;UV.debug("disconnect audio node, current list:"+this.nodeLists.length),this.nodeLists.forEach((e=>{e.disconnect()})),null===(e=this.prevNode)||void 0===e||e.disconnect(),this.prevNode=void 0,this.nextNode=void 0}addNode(e){UV.debug("add node in inject node, current list:",this.nodeLists.length),this.prevNode&&this.nextNode?(this.firstNode||(UV.debug("new node is the first node"),this.prevNode.disconnect(),this.prevNode.connect(e),e.connect(this.nextNode)),this.nextNode&&this.lastNode&&(this.lastNode.disconnect(this.nextNode),this.lastNode.connect(e),e.connect(this.nextNode)),this.nodeLists.push(e)):UV.debug("add node is called before inject node connected")}removeNode(e){UV.debug("remove node in inject node, current list:",this.nodeLists.length);const t=this.nodeLists.indexOf(e);if(-1===t)return void UV.debug("$[inject-node] cannot find the node to be removed");const n=this.nodeLists[t+1],r=this.nodeLists[t-1];0===t&&this.prevNode&&this.nextNode&&(this.prevNode.disconnect(e),n?this.prevNode.connect(n):this.prevNode.connect(this.nextNode)),t===this.nodeLists.length-1&&this.nextNode&&r&&(r.disconnect(e),r.connect(this.nextNode)),0!==t&&t!==this.nodeLists.length-1&&(r.disconnect(e),r.connect(n)),UV.debug("remove node in inject node success, current list:",this.nodeLists.length)}}class VV{constructor(){iO(this,"context",void 0),iO(this,"analyserNode",void 0),iO(this,"sourceNode",void 0),this.context=LV(),this.analyserNode=this.context.createAnalyser(),this.analyserNode.fftSize=2048,this.analyserNode.smoothingTimeConstant=.4}updateSource(e){if(e!==this.sourceNode){if(this.sourceNode)try{this.sourceNode.disconnect(this.analyserNode)}catch(e){}this.sourceNode=e,null==e||e.connect(this.analyserNode)}}getVolumeLevel(){if(!this.sourceNode)return 0;if(!this.context||FT()||zT()||"running"!==this.context.state&&this.context.resume(),!this.analyserNode)return 0;const e=new Float32Array(this.analyserNode.fftSize);if(this.analyserNode.getFloatTimeDomainData)this.analyserNode.getFloatTimeDomainData(e);else{const t=new Uint8Array(this.analyserNode.fftSize);this.analyserNode.getByteTimeDomainData(t);for(let n=0;n<e.length;++n)e[n]=t[n]/128-1}const t=lh(e).call(e,((e,t)=>e+t*t),0)/e.length;return Math.max(10*Math.log10(t)+100,0)/100}getAnalyserNode(){return this.analyserNode}rebuildAnalyser(){try{var e,t;null===(e=this.sourceNode)||void 0===e||e.disconnect(this.analyserNode),this.analyserNode=this.context.createAnalyser(),this.analyserNode.fftSize=2048,this.analyserNode.smoothingTimeConstant=.4,null===(t=this.sourceNode)||void 0===t||t.connect(this.analyserNode)}catch(e){uN.warning("rebuild analyser node failed.")}}destroy(){this.updateSource(void 0)}}class QV extends Zk{get processSourceNode(){return this.sourceNode}set processedNode(e){var t;if(!this.isDestroyed&&this._processedNode!==e){try{var n;null===(n=this.sourceNode)||void 0===n||n.disconnect(this.outputNode)}catch(e){}null===(t=this._processedNode)||void 0===t||t.disconnect(),this._processedNode=e,this.connect()}}get processedNode(){return this._processedNode}constructor(){super(),iO(this,"outputNode",void 0),iO(this,"outputTrack",void 0),iO(this,"isPlayed",!1),iO(this,"sourceNode",void 0),iO(this,"context",void 0),iO(this,"audioBufferNode",void 0),iO(this,"destNode",void 0),iO(this,"injectNode",void 0),iO(this,"audioOutputLevel",0),iO(this,"volumeLevelAnalyser",void 0),iO(this,"_processedNode",void 0),iO(this,"playNode",void 0),iO(this,"isDestroyed",!1),iO(this,"onNoAudioInput",void 0),iO(this,"isNoAudioInput",!1),iO(this,"_noAudioInputCount",0),this.context=LV(),this.playNode=this.context.destination,this.outputNode=this.context.createGain(),MV(this.outputNode),this.injectNode=new jV,this.volumeLevelAnalyser=new VV}startGetAudioBuffer(e){this.audioBufferNode||(this.audioBufferNode=this.context.createScriptProcessor(e),this.outputNode.connect(this.audioBufferNode),this.audioBufferNode.connect(this.context.destination),this.audioBufferNode.onaudioprocess=e=>{this.emit(BP.ON_AUDIO_BUFFER,function(e){for(let t=0;t<e.outputBuffer.numberOfChannels;t+=1){const n=e.outputBuffer.getChannelData(t);for(let e=0;e<n.length;e+=1)n[e]=0}return e.inputBuffer}(e))})}stopGetAudioBuffer(){this.audioBufferNode&&(this.audioBufferNode.onaudioprocess=null,this.outputNode.disconnect(this.audioBufferNode),this.audioBufferNode=void 0)}createOutputTrack(){if(!Vx().webAudioMediaStreamDest)throw new eN($k.NOT_SUPPORTED,"your browser is not support audio processor");return this.destNode&&this.outputTrack||(this.destNode=this.context.createMediaStreamDestination(),this.outputNode.connect(this.destNode),this.outputTrack=this.destNode.stream.getAudioTracks()[0]),this.outputTrack}play(e){"running"!==this.context.state&&MG((()=>{xV.emit("autoplay-failed")})),this.isPlayed=!0,this.playNode=e||this.context.destination,this.outputNode.connect(this.playNode)}stop(){if(this.isPlayed)try{this.outputNode.disconnect(this.playNode)}catch(e){}this.isPlayed=!1}getAccurateVolumeLevel(){return this.volumeLevelAnalyser.getVolumeLevel()}async checkHasAudioInput(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e>5)return this.isNoAudioInput=!0,this.onNoAudioInput&&this.onNoAudioInput(),!1;FT()||zT()?"suspended"===this.context.state&&this.context.resume():"running"!==this.context.state&&this.context.resume();const t=this.volumeLevelAnalyser.getAnalyserNode();let n;t.getFloatTimeDomainData?(n=new Float32Array(t.fftSize),t.getFloatTimeDomainData(n)):(n=new Uint8Array(t.fftSize),t.getByteTimeDomainData(n));let r=!1;for(let e=0;e<n.length;e++)0!==n[e]&&(r=!0);return r?(this.isNoAudioInput=!1,!0):(await CG(200),await this.checkHasAudioInput(e?e+1:1)&&r)}getAudioVolume(){return this.outputNode.gain.value}setVolume(e){this.outputNode.gain.setValueAtTime(e,this.context.currentTime)}destroy(){this.disconnect(),this.stop(),this.isDestroyed=!0,this.onNoAudioInput=void 0}injectAudioNode(e){this.injectNode.addNode(e)}removeAudioNode(e){this.injectNode.removeNode(e)}disconnect(){var e,t;null===(e=this.processedNode)||void 0===e||e.disconnect(),null===(t=this.sourceNode)||void 0===t||t.disconnect(),this.outputNode&&this.outputNode.disconnect()}connect(){var e;this.processedNode?null===(e=this.processedNode)||void 0===e||e.connect(this.outputNode):this.sourceNode&&this.sourceNode.connect(this.outputNode),this.volumeLevelAnalyser.updateSource(this.outputNode)}}class GV extends QV{get isFreeze(){return!1}constructor(e,t,n){var r;if(super(),iO(this,"sourceNode",void 0),iO(this,"track",void 0),iO(this,"clonedTrack",void 0),iO(this,"audioElement",void 0),iO(this,"isCurrentTrackCloned",!1),iO(this,"isRemoteTrack",!1),iO(this,"originVolumeLevelAnalyser",void 0),iO(this,"rebuildWebAudio",(async()=>{if(uN.debug("ready to rebuild web audio, state:",this.context.state),this.isNoAudioInput&&await this.checkHasAudioInput(),!this.isNoAudioInput||this.isDestroyed)return document.body.removeEventListener("click",this.rebuildWebAudio,!0),void uN.debug("rebuild web audio success, current volume status",this.getAccurateVolumeLevel());this.context.resume().then((()=>uN.info("resume success"))),uN.debug("rebuild web audio because of ios 12 bugs"),this.disconnect();const e=this.track;this.track=this.track.clone(),this.isCurrentTrackCloned?e.stop():this.isCurrentTrackCloned=!0;const t=new MediaStream([this.track]);this.sourceNode=this.context.createMediaStreamSource(t),MV(this.sourceNode),this.volumeLevelAnalyser.rebuildAnalyser();const n=this.outputNode.gain.value;this.outputNode=this.context.createGain(),this.outputNode.gain.setValueAtTime(n,this.context.currentTime),MV(this.outputNode),this.emit(BP.UPDATE_SOURCE),this.connect(),this.audioElement.srcObject=t,this.isPlayed&&this.play(this.playNode),this.checkHasAudioInput()})),"audio"!==e.kind)throw new eN($k.UNEXPECTED_ERROR);this.track=e;const i=new MediaStream([this.track]);if(this.isRemoteTrack=!!t,this.sourceNode=this.context.createMediaStreamSource(i),MV(this.sourceNode),n){const e=n.clone();e.enabled=!0,this.clonedTrack=e,uN.debug("create an unmuted track ".concat(e.id," from the original track ").concat(n.id," to get the volume"));const t=this.context.createMediaStreamSource(new MediaStream([e]));MV(t),this.originVolumeLevelAnalyser=new VV,this.originVolumeLevelAnalyser.updateSource(t)}this.connect(),this.audioElement=document.createElement("audio"),this.audioElement.srcObject=i;const o=OT();t&&o.os===IT.IOS&&Number(null===(r=o.osVersion)||void 0===r?void 0:r.split(".")[0])<15&&(xV.on(bV.STATE_CHANGE,(()=>{"suspended"===this.context.state?document.body.addEventListener("click",this.rebuildWebAudio,!0):"running"===this.context.state&&this.rebuildWebAudio()})),this.checkHasAudioInput().then((e=>{e||document.body.addEventListener("click",this.rebuildWebAudio,!0)})))}updateTrack(e){this.sourceNode.disconnect(),this.track=e,this.isCurrentTrackCloned=!1;const t=new MediaStream([e]);this.sourceNode=this.context.createMediaStreamSource(t),MV(this.sourceNode),this.processedNode||this.sourceNode.connect(this.outputNode),this.emit(BP.UPDATE_SOURCE),this.audioElement.srcObject=t}destroy(){var e;this.audioElement.srcObject=null,this.audioElement.remove(),xV.off("state-change",this.rebuildWebAudio),null===(e=this.originVolumeLevelAnalyser)||void 0===e||e.destroy(),this.clonedTrack=void 0,super.destroy()}createMediaStreamSourceNode(e){return this.context.createMediaStreamSource(new MediaStream([e]))}updateOriginTrack(e){const t=e.clone();t.enabled=!0,this.clonedTrack&&(this.clonedTrack.stop(),this.clonedTrack=t),uN.debug("create an unmuted track ".concat(t.id," from the original track ").concat(e.id," to get the volume"));const n=this.context.createMediaStreamSource(new MediaStream([t]));MV(n),this.originVolumeLevelAnalyser&&this.originVolumeLevelAnalyser.updateSource(n)}getOriginVolumeLevel(){return this.originVolumeLevelAnalyser?this.originVolumeLevelAnalyser.getVolumeLevel():this.getAccurateVolumeLevel()}}async function qV(e,t){const n=(e,t)=>e?"number"!=typeof e?e.max||e.exact||e.ideal||e.min||t:e:t,r={audio:!1,video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:e,maxHeight:n(t.height,1080),maxWidth:n(t.width,1920)}}};return t.frameRate&&"number"!=typeof t.frameRate?(r.video.mandatory.maxFrameRate=t.frameRate.max,r.video.mandatory.minFrameRate=t.frameRate.min):"number"==typeof t.frameRate&&(r.video.mandatory.maxFrameRate=t.frameRate),await navigator.mediaDevices.getUserMedia(r)}async function HV(e){let t=["window","screen"];"application"!==e&&"window"!==e||(t=["window"]),"screen"===e&&(t=["screen"]);const n=WV();if(!n)throw new eN($k.ELECTRON_IS_NULL);let r=null;try{r=n.desktopCapturer.getSources({types:t})}catch(e){r=null}r&&r.then||(r=new LC(((e,r)=>{n.desktopCapturer.getSources({types:t},((t,n)=>{t?r(t):e(n)}))})));try{return await r}catch(e){throw new eN($k.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR,e.toString())}}let zV=null;function WV(){if(zV)return zV;try{return zV=window.require("electron"),zV}catch(e){return null}}const KV=new SV("safari");let YV=!1,JV=!1;async function ZV(e,t){let n=0,r=null;for(;n<2;)try{r=await XV(e,t,n>0);break}catch(r){if(r instanceof eN)throw uN.error("[".concat(t,"] ").concat(r.toString())),kN("error",[],"getLocalStream",{config:e,id:t},r.toString()),r;const i=$V(r.name||r.code||r,r.message);if(i.code===$k.MEDIA_OPTION_INVALID){uN.debug("[".concat(t,"] detect media option invalid, retry")),wN("debug",[],"[".concat(t,"] detect media option invalid, retry")),n+=1,await CG(500);continue}throw uN.error("[".concat(t,"] ").concat(i.toString())),kN("error",[],"getLocalStream",{config:e,id:t},i.toString()),i}if(!r)throw new eN($k.UNEXPECTED_ERROR,"can not find stream after getUserMedia");return r}async function XV(e,t,n){if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new eN($k.NOT_SUPPORTED,"can not find getUserMedia");n&&(e.video&&(delete e.video.width,delete e.video.height),e.screen&&(delete e.screen.width,delete e.screen.height));const r=Vx(),i=new MediaStream;if(e.audioSource&&i.addTrack(e.audioSource),e.videoSource&&i.addTrack(e.videoSource),!e.audio&&!e.video&&!e.screen)return uN.debug("Using Video Source/ Audio Source"),wN("debug",[],"Using Video Source/ Audio Source"),i;if(e.screen)if(WV())e.screen.sourceId?eQ(i,await qV(e.screen.sourceId,e.screen)):eQ(i,await async function(e){const t=await HV(e.mediaSource),n=await function(e){return new LC(((t,n)=>{const r=document.createElement("div");r.innerText="share screen",r.setAttribute("style","text-align: center; height: 25px; line-height: 25px; border-radius: 4px 4px 0 0; background: #D4D2D4; border-bottom:  solid 1px #B9B8B9;");const i=document.createElement("div");i.setAttribute("style","width: 100%; height: 500px; padding: 15px 25px ; box-sizing: border-box;");const o=document.createElement("div");o.innerText="Agora Web Screensharing wants to share the contents of your screen with webdemo.agorabeckon.com. Choose what you'd like to share.",o.setAttribute("style","height: 12%;");const a=document.createElement("div");a.setAttribute("style","width: 100%; height: 80%; background: #FFF; border:  solid 1px #CBCBCB; display: flex; flex-wrap: wrap; justify-content: space-around; overflow-y: scroll; padding: 0 15px; box-sizing: border-box;");const s=document.createElement("div");s.setAttribute("style","text-align: right; padding: 16px 0;");const c=document.createElement("button");c.innerHTML="cancel",c.setAttribute("style","width: 85px;"),c.onclick=()=>{document.body.removeChild(u);const e=new Error("NotAllowedError");e.name="NotAllowedError",n(e)},s.appendChild(c),i.appendChild(o),i.appendChild(a),i.appendChild(s);const u=document.createElement("div");u.setAttribute("style","position: fixed; z-index: 99999999; top: 50%; left: 50%; width: 620px; height: 525px; background: #ECECEC; border-radius: 4px; -webkit-transform: translate(-50%,-50%); transform: translate(-50%,-50%);"),u.appendChild(r),u.appendChild(i),document.body.appendChild(u),e.map((e=>{if(e.id){const n=document.createElement("div");n.setAttribute("style","width: 30%; height: 160px; padding: 20px 0; text-align: center;box-sizing: content-box;");let r=e.thumbnail;const{width:i}=r.getSize();i>1920&&(r=r.resize({width:1920})),n.innerHTML='<div style="height: 120px; display: table-cell; vertical-align: middle;"><img style="width: 100%; background: #333333; box-shadow: 1px 1px 1px 1px rgba(0, 0, 0, 0.2);" src='+r.toDataURL()+' /></div><span style="\theight: 40px; line-height: 40px; display: inline-block; width: 70%; word-break: keep-all; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">'+e.name.replace(/[\u00A0-\u9999<>\&]/g,(function(e){return"&#"+e.charCodeAt(0)+";"}))+"</span>",n.onclick=()=>{document.body.removeChild(u),t(e.id)},a.appendChild(n)}}))}))}(t);return await qV(n,e)}(e.screen));else if(LT()&&e.screen.extensionId&&e.screen.mandatory){if(!r.getStreamFromExtension)throw new eN($k.NOT_SUPPORTED,"This browser does not support screen sharing");uN.debug("[".concat(t,'] Screen access on chrome stable, looking for extension"')),wN("debug",[],"[".concat(t,'] Screen access on chrome stable, looking for extension"'));const n=await(o=e.screen.extensionId,a=t,new LC(((e,t)=>{try{chrome.runtime.sendMessage(o,{getStream:!0},(n=>{if(!n||!n.streamId)return uN.error("[".concat(a,"] No response from Chrome Plugin. Plugin not installed properly"),n),kN("error",[],"getSourceIdFromExtension",{extensionId:o,streamId:a},"No response from Chrome Plugin. Plugin not installed properly, ".concat(n)),void t(new eN($k.CHROME_PLUGIN_NO_RESPONSE,"No response from Chrome Plugin. Plugin not installed properly"));e(n.streamId)}))}catch(e){uN.error("[".concat(a,"] AgoraRTC screensharing plugin is not accessible(").concat(o,")"),e.toString()),kN("error",[],"getSourceIdFromExtension",{extensionId:o,streamId:a},"AgoraRTC screensharing plugin is not accessible(".concat(o,"), ").concat(e.toString())),t(new eN($k.CHROME_PLUGIN_NOT_INSTALL))}})));e.screen.mandatory.chromeMediaSourceId=n,eQ(i,await navigator.mediaDevices.getUserMedia({video:{mandatory:e.screen.mandatory}}))}else if(r.getDisplayMedia){e.screen.mediaSource&&bx(e.screen.mediaSource);const n={width:e.screen.width,height:e.screen.height,frameRate:e.screen.frameRate,displaySurface:"screen"===e.screen.mediaSource?"monitor":e.screen.mediaSource};uN.debug("[".concat(t,"] getDisplayMedia:"),JSON.stringify({video:n,audio:!!e.screenAudio})),NN("debug",["mediaDevices",t],"getDisplayMedia",{video:n,audio:!!e.screenAudio,trackId:t}),eQ(i,await navigator.mediaDevices.getDisplayMedia({video:n,audio:!!e.screenAudio}))}else{if(!BT())throw uN.error("[".concat(t,"] This browser does not support screenSharing")),new eN($k.NOT_SUPPORTED,"This browser does not support screen sharing");{e.screen.mediaSource&&bx(e.screen.mediaSource);const n={video:{mediaSource:e.screen.mediaSource,width:e.screen.width,height:e.screen.height,frameRate:e.screen.frameRate}};uN.debug("[".concat(t,"] getUserMedia: ").concat(JSON.stringify(n))),NN("debug",["mediaDevices",t],"getUserMedia",n),eQ(i,await navigator.mediaDevices.getUserMedia(n))}}var o,a;if(!e.video&&!e.audio)return i;let s={video:e.video,audio:e.audio},c=KN("MEDIA_DEVICE_CONSTRAINTS");if(c)try{"string"==typeof c&&(c=JSON.parse(c)),s=function e(t,n){if(!HG(t)||!HG(n))return n;if(Array.isArray(t)&&!Array.isArray(n)||!Array.isArray(t)&&Array.isArray(n))return n;if(Array.isArray(n)&&Array.isArray(t)){const r=[...t];for(let i=0;i<n.length;i++)r[i]=e(t[i],n[i]);return r}{const r=bG({},t);for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(Object.prototype.hasOwnProperty.call(t,i)?r[i]=e(t[i],n[i]):r[i]=n[i]);return r}}(s,c),wN("debug",["mediaDevices",t],"merge configConstraints ".concat(JSON.stringify(c)))}catch(e){}uN.debug("[".concat(t,"] GetUserMedia"),JSON.stringify(s)),NN("debug",["mediaDevices",t],"getUserMedia",s),OT();let u,l=null;(MT()||FT()||xT())&&(l=await KV.lock());try{u=await navigator.mediaDevices.getUserMedia(s)}catch(e){throw l&&l(),e}return s.audio&&(YV=!0),s.video&&(JV=!0),eQ(i,u),l&&l(),i}function $V(e,t){switch(e){case"Starting video failed":case"OverconstrainedError":case"TrackStartError":return new eN($k.MEDIA_OPTION_INVALID,"".concat(e,": ").concat(t));case"NotFoundError":case"DevicesNotFoundError":return new eN($k.DEVICE_NOT_FOUND,"".concat(e,": ").concat(t));case"NotSupportedError":return new eN($k.NOT_SUPPORTED,"".concat(e,": ").concat(t));case"NotReadableError":return new eN($k.NOT_READABLE,"".concat(e,": ").concat(t));case"InvalidStateError":case"NotAllowedError":case"PERMISSION_DENIED":case"PermissionDeniedError":return new eN($k.PERMISSION_DENIED,"".concat(e,": ").concat(t));case"ConstraintNotSatisfiedError":return new eN($k.CONSTRAINT_NOT_SATISFIED,"".concat(e,": ").concat(t));default:return uN.error("getUserMedia unexpected error",e),kN("error",[],"handleGetUserMediaError",void 0,e),new eN($k.UNEXPECTED_ERROR,"".concat(e,": ").concat(t))}}function eQ(e,t){const n=e.getVideoTracks()[0],r=e.getAudioTracks()[0],i=t.getVideoTracks()[0],o=t.getAudioTracks()[0];o&&(r&&e.removeTrack(r),e.addTrack(o)),i&&(n&&e.removeTrack(n),e.addTrack(i))}const tQ=new class extends Zk{get state(){return this._state}set state(e){e!==this._state&&(this.emit(bP.STATE_CHANGE,e),this._state=e)}constructor(){super(),iO(this,"_state",EP.IDLE),iO(this,"isAccessMicrophonePermission",!1),iO(this,"isAccessCameraPermission",!1),iO(this,"lastAccessMicrophonePermission",!1),iO(this,"lastAccessCameraPermission",!1),iO(this,"checkdeviceMatched",!1),iO(this,"deviceInfoMap",new Map),this.init().then((()=>{navigator.mediaDevices.addEventListener&&navigator.mediaDevices.addEventListener("devicechange",this.updateDevicesInfo.bind(this)),window.setInterval((()=>{(KN("ENUMERATE_DEVICES_INTERVAL")||JT()&&YT())&&this.updateDevicesInfo()}),KN("ENUMERATE_DEVICES_INTERVAL_TIME"))})).catch((e=>uN.error(e.toString())))}async enumerateDevices(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices)return new eN($k.NOT_SUPPORTED,"enumerateDevices() not supported.").throw();const r=await navigator.mediaDevices.enumerateDevices(),i=this.checkMediaDeviceInfoIsOk(r);let o=!this.isAccessMicrophonePermission&&e,a=!this.isAccessCameraPermission&&t;i.audio&&(o=!1),i.video&&(a=!1);let s=null,c=null,u=null;if(!n&&(o||a)){if(KV.isLocked&&(uN.debug("[device manager] wait GUM lock"),(await KV.lock())(),uN.debug("[device manager] GUM unlock")),YV&&(o=!1,this.isAccessMicrophonePermission=!0),JV&&(a=!1,this.isAccessCameraPermission=!0),uN.debug("[device manager] check media device permissions",e,t,o,a),o&&a){try{u=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0})}catch(e){const t=$V(e.name||e.code||e,e.message);if(t.code===$k.PERMISSION_DENIED)throw t;uN.warning("getUserMedia failed in getDevices",t)}this.isAccessCameraPermission=!0,this.isAccessMicrophonePermission=!0}else if(o){try{s=await navigator.mediaDevices.getUserMedia({audio:e})}catch(e){const t=$V(e.name||e.code||e,e.message);if(t.code===$k.PERMISSION_DENIED)throw t;uN.warning("getUserMedia failed in getDevices",t)}this.isAccessMicrophonePermission=!0}else if(a){try{c=await navigator.mediaDevices.getUserMedia({video:t})}catch(e){const t=$V(e.name||e.code||e,e.message);if(t.code===$k.PERMISSION_DENIED)throw t;uN.warning("getUserMedia failed in getDevices",t)}this.isAccessCameraPermission=!0}uN.debug("[device manager] mic permission",e,"cam permission",t)}try{const e=await navigator.mediaDevices.enumerateDevices();return s&&s.getTracks().forEach((e=>e.stop())),c&&c.getTracks().forEach((e=>e.stop())),u&&u.getTracks().forEach((e=>e.stop())),s=null,c=null,u=null,e}catch(e){return s&&s.getTracks().forEach((e=>e.stop())),c&&c.getTracks().forEach((e=>e.stop())),u&&u.getTracks().forEach((e=>e.stop())),s=null,c=null,u=null,new eN($k.ENUMERATE_DEVICES_FAILED,e.toString()).throw()}}async getRecordingDevices(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(await this.enumerateDevices(!0,!1,e)).filter((e=>"audioinput"===e.kind))}async getCamerasDevices(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(await this.enumerateDevices(!1,!0,e)).filter((e=>"videoinput"===e.kind))}async getSpeakers(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(await this.enumerateDevices(!0,!1,e)).filter((e=>"audiooutput"===e.kind))}searchDeviceIdByName(e){let t=null;return this.deviceInfoMap.forEach((n=>{n.device.label===e&&(t=n.device.deviceId)})),t}async getDeviceById(e){const t=(await this.enumerateDevices(!0,!0,!0)).find((t=>t.deviceId===e));if(!t)throw new eN($k.DEVICE_NOT_FOUND,"deviceId: ".concat(e));return t}async init(){this.state=EP.INITING;try{await this.updateDevicesInfo(),this.state=EP.INITEND}catch(e){throw uN.warning("Device Detection functionality cannot start properly.",e.toString()),this.state=EP.IDLE,("boolean"==typeof isSecureContext?isSecureContext:"https:"===location.protocol||"file:"===location.protocol||"localhost"===location.hostname||"127.0.0.1"===location.hostname||"::1"===location.hostname)||new eN($k.WEB_SECURITY_RESTRICT,"Your context is limited by web security, please try using https protocol or localhost.").throw(),e}}async updateDevicesInfo(){const e=await this.enumerateDevices(!0,!0,!0),t=Date.now(),n=[];if(e[0]&&e[0].label&&!1===this.checkdeviceMatched){this.checkdeviceMatched=!0;const t=e.find((e=>"audioinput"===e.kind&&"default"===e.deviceId)),n=e.find((e=>"audiooutput"===e.kind&&"default"===e.deviceId));t&&n?n.groupId===t.groupId?uN.debug("[device-check] default input ".concat(t.label," and output ").concat(n.label," is the same group")):uN.warning("[device-check] default input ".concat(t.label," and output ").concat(n.label," is not the same group")):uN.debug("[device-check] default input or output not found")}const r=this.checkMediaDeviceInfoIsOk(e);if(e.forEach((e=>{if(!e.deviceId)return;const r=this.deviceInfoMap.get("".concat(e.kind,"_").concat(e.deviceId));if("ACTIVE"!==(r?r.state:"INACTIVE")){const r={initAt:t,updateAt:t,device:e,state:"ACTIVE"};this.deviceInfoMap.set("".concat(e.kind,"_").concat(e.deviceId),r),n.push(r)}r&&(r.updateAt=t)})),this.deviceInfoMap.forEach(((e,r)=>{"ACTIVE"===e.state&&e.updateAt!==t&&(e.state="INACTIVE",n.push(e))})),this.state!==EP.INITEND)return r.audio&&(this.lastAccessMicrophonePermission=!0,this.isAccessMicrophonePermission=!0),void(r.video&&(this.lastAccessCameraPermission=!0,this.isAccessCameraPermission=!0));n.forEach((e=>{switch(e.device.kind){case"audioinput":this.lastAccessMicrophonePermission&&this.isAccessMicrophonePermission&&this.emit(bP.RECORDING_DEVICE_CHANGED,e);break;case"videoinput":this.lastAccessCameraPermission&&this.isAccessCameraPermission&&this.emit(bP.CAMERA_DEVICE_CHANGED,e);break;case"audiooutput":this.lastAccessMicrophonePermission&&this.isAccessMicrophonePermission&&this.emit(bP.PLAYOUT_DEVICE_CHANGED,e)}})),r.audio&&(this.lastAccessMicrophonePermission=!0,this.isAccessMicrophonePermission=!0),r.video&&(this.lastAccessCameraPermission=!0,this.isAccessCameraPermission=!0)}checkMediaDeviceInfoIsOk(e){const t=e.filter((e=>"audioinput"===e.kind)),n=e.filter((e=>"videoinput"===e.kind)),r={audio:!1,video:!1};for(const e of t)if(e.label&&e.deviceId){r.audio=!0;break}for(const e of n)if(e.label&&e.deviceId){r.video=!0;break}return r}};var nQ;let rQ=PN("AudioElementPlayCenter")(nQ=class{constructor(){iO(this,"onAutoplayFailed",void 0),iO(this,"elementMap",new Map),iO(this,"elementStateMap",new Map),iO(this,"elementsNeedToResume",[]),iO(this,"sinkIdMap",new Map),iO(this,"autoResumeAfterInterruption",(()=>{Array.from(this.elementMap.entries()).forEach((e=>{let[t,n]=e;const r=this.elementStateMap.get(t),i=n.srcObject.getAudioTracks()[0];QT()?i&&"live"===i.readyState&&"running"===xV.curState&&(uN.debug("auto resume after interruption for iOS 15"),wN("debug",["AudioElementPlayCenter",t],"auto resume after interruption for iOS15"),n.pause(),n.play()):r&&"paused"===r&&i&&"live"===i.readyState&&"running"===xV.curState&&(uN.debug("auto resume after interruption for iOS"),wN("debug",["AudioElementPlayCenter",t],"auto resume after interruption for iOS"),n.play())}))})),iO(this,"autoResumeAfterInterruptionOnIOS15",(()=>{Array.from(this.elementMap.entries()).forEach((e=>{let[t,n]=e;const r=n.srcObject.getAudioTracks()[0];r&&"live"===r.readyState&&(uN.debug("auto resume after interruption inside autoResumeAfterInterruptionOnIOS15"),kN("debug",["AudioElementPlayCenter",t],"autoResumeAfterInterruptionOnIOS15"),n.pause(),n.play())}))})),this.autoResumeAudioElement(),xV.on(bV.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),xV.on(bV.IOS_15_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15),xV.on(bV.STATE_CHANGE,(()=>{FT()&&"suspended"===xV.prevState&&"running"===xV.curState&&this.autoResumeAfterInterruption()}))}async setSinkID(e,t){const n=this.elementMap.get(e);if(this.sinkIdMap.set(e,t),n)try{await n.setSinkId(t)}catch(e){throw new eN($k.PERMISSION_DENIED,"can not set sink id: "+e.toString())}}play(e,t,n,r){if(this.elementMap.has(t))return;const i=document.createElement("audio");i.autoplay=!0,i.srcObject=new MediaStream([e]),this.bindAudioElementEvents(t,i),this.elementMap.set(t,i),this.elementStateMap.set(t,lP.INIT),this.setVolume(t,n);const o=this.sinkIdMap.get(t);if(o)try{i.setSinkId(o).catch((e=>{uN.warning("[".concat(t,"] set sink id failed"),e.toString()),NN("warning",["HTMLAudioElement",t],"setSinkId",e.toString())}))}catch(e){uN.warning("[".concat(t,"] set sink id failed"),e.toString())}const a=i.play();a&&a.then&&a.catch((e=>{r&&yV.autoplayFailed(r,"audio",e.message,t),uN.warning("audio element play warning",e.toString()),NN("warning",["HTMLAudioElement",t],"play",e.toString()),this.elementMap.has(t)&&"NotAllowedError"===e.name&&(uN.warning("detected audio element autoplay failed"),kN("warning",["AudioElementPlayCenter",t],"play",e.toString()),this.elementsNeedToResume.push(i),MG((()=>{this.onAutoplayFailed&&this.onAutoplayFailed(),lV()})))}))}updateTrack(e,t){const n=this.elementMap.get(e);n&&(n.srcObject=new MediaStream([t]))}isPlaying(e){return this.elementMap.has(e)}setVolume(e,t){const n=this.elementMap.get(e);n&&(t=Math.max(0,Math.min(100,t)),n.volume=t/100)}stop(e){const t=this.elementMap.get(e);if(this.sinkIdMap.delete(e),!t)return;const n=this.elementsNeedToResume.indexOf(t);this.elementsNeedToResume.splice(n,1),t.srcObject=null,t.remove(),this.elementMap.delete(e),this.elementStateMap.delete(e)}bindAudioElementEvents(e,t){iQ.forEach((n=>{t.addEventListener(n,(t=>{const n=this.elementStateMap.get(e),r="pause"===t.type?"paused":t.type;uN.debug("[".concat(e,"] audio-element-status change ").concat(n," => ").concat(r)),ON("debug",["HTMLAudioElement",e],"statusChange","".concat(n," => ").concat(r)),this.elementStateMap.set(e,r)}))}))}getPlayerState(e){return this.elementStateMap.get(e)||"uninit"}autoResumeAudioElement(){const e=()=>{this.elementsNeedToResume.forEach((e=>{e.play().then((e=>{uN.debug("Auto resume audio element success"),kN("debug",["AudioElementPlayCenter"],"autoResumeAudioElement")})).catch((e=>{uN.warning("Auto resume audio element failed!",e),kN("warning",["AudioElementPlayCenter"],"autoResumeAudioElement",e.toString())}))})),this.elementsNeedToResume=[]};new LC((e=>{document.body?e():window.addEventListener("load",(()=>e()))})).then((()=>{const t=OT();"Android"!==t.os||"Chrome"!==t.name&&t.name!==ST.WECHAT?(document.body.addEventListener("touchstart",e,!0),document.body.addEventListener("mousedown",e,!0)):document.body.addEventListener("click",e,!0)}))}})||nQ;const iQ=["play","playing","loadeddata","canplay","pause","stalled","suspend","waiting","abort","emptied","ended"],oQ=new rQ;function aQ(){return function(e,t,n){const r=n.value;return"function"==typeof r&&(n.value=function(){this._isClosed&&new eN($k.INVALID_OPERATION,"[".concat(this.getTrackId(),"] cannot operate a closed track")).print("warning");for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=r.apply(this,t);return i instanceof LC?new LC(((e,t)=>{i.then(e).catch(t)})):i}),n}}var sQ,cQ,uQ,lQ,dQ,hQ,pQ,fQ,AQ,gQ,mQ,vQ,yQ,EQ,bQ,_Q,CQ,IQ,SQ,wQ,RQ,TQ,OQ,kQ,NQ,DQ,PQ,xQ,LQ,MQ,BQ=ih("Array").values,FQ=mm,UQ=sl,jQ=kc,VQ=BQ,QQ=Array.prototype,GQ={DOMTokenList:!0,NodeList:!0},qQ=function(e){var t=e.values;return e===QQ||jQ(QQ,e)&&t===QQ.values||UQ(GQ,FQ(e))?VQ:t};class HQ extends Zk{constructor(e){super(),iO(this,"name","VideoProcessorDestination"),iO(this,"ID","0"),iO(this,"_source",void 0),iO(this,"videoContext",void 0),iO(this,"inputTrack",void 0),this.videoContext=e}get kind(){return"video"}get enabled(){return!0}pipe(){throw new eN($k.NOT_SUPPORTED,"VideoProcessor cannot pipe to any other Processor")}unpipe(){throw new eN($k.NOT_SUPPORTED,"VideoProcessor cannot unpipe to any other Processor")}enable(){}disable(){}updateInput(e){if(e.context!==this.videoContext)throw new Error("ProcessorContext passed to VideoTrack.processorDestination doesn't match it's belonging VideoTrack's context.\nProbably you are making pipeline like this:\nvideoTrack1.pipe(processor).pipe(videoTrack2.processorDestination).");e.track&&e.track!==this.inputTrack&&(this.inputTrack=e.track,this.emit(Lx.ON_TRACK,e.track))}reset(){this.inputTrack=void 0,this.emit(Lx.ON_TRACK,void 0)}}class zQ extends Zk{constructor(e){super(),iO(this,"constraintsMap",new Map),iO(this,"statsRegistry",[]),iO(this,"trackId",void 0),this.trackId=e}async getConstraints(){return await kG(this,Mx.REQUEST_CONSTRAINTS)}async requestApplyConstraints(e,t){var n;return uN.info("processor ".concat(t.name," requestApplyConstraints for ").concat(this.trackId)),e&&this.constraintsMap.set(t,e),NG(this,Mx.REQUEST_UPDATE_CONSTRAINTS,Array.from(qQ(n=this.constraintsMap).call(n)))}async requestRevertConstraints(e){var t;if(this.constraintsMap.has(e))return uN.info("processor ".concat(e.name," requestRevertConstraints for ").concat(this.trackId)),this.constraintsMap.delete(e),NG(this,Mx.REQUEST_UPDATE_CONSTRAINTS,Array.from(qQ(t=this.constraintsMap).call(t)))}registerStats(e,t,n){this.statsRegistry.find((n=>n.processorID===e.ID&&n.processorName===e.name&&n.type===t))||this.statsRegistry.push({processorName:e.name,processorID:e.ID,type:t,cb:n})}unregisterStats(e,t){const n=this.statsRegistry.findIndex((n=>n.processorID===e.ID&&n.processorName===e.name&&n.type===t));-1!==n&&this.statsRegistry.splice(n,1)}gatherStats(){const e=[];for(const{processorID:t,processorName:n,type:r,cb:i}of this.statsRegistry)try{const o=i();e.push({processorID:t,processorName:n,type:r,stats:o})}catch(e){uN.error(new eN($k.UNEXPECTED_ERROR,e.message))}return e}}class WQ extends Zk{constructor(e){super(),iO(this,"name","AudioProcessorDestination"),iO(this,"ID","0"),iO(this,"inputTrack",void 0),iO(this,"inputNode",void 0),iO(this,"audioProcessorContext",void 0),iO(this,"_source",void 0),this.audioProcessorContext=e}get kind(){return"audio"}get enabled(){return!0}pipe(){throw new eN($k.NOT_SUPPORTED,"AudioProcessorDestination cannot pipe to any other Processor")}unpipe(){throw new eN($k.NOT_SUPPORTED,"AudioProcessor cannot unpipe to any other Processor")}enable(){}disable(){}reset(){this.inputTrack=void 0,this.inputNode=void 0,this.emit(Lx.ON_TRACK,void 0),this.emit(Lx.ON_NODE,void 0)}updateInput(e){if(e.context!==this.audioProcessorContext)throw new Error("ProcessorContext passed to AudioTrack.processorDestination doesn't match it's belonging AudioTrack's context.\n        Probably you are making pipeline like this: audioTrack1.pipe(processor).pipe(audioTrack2.processorDestination).");e.track&&this.inputTrack!==e.track&&(this.inputTrack=e.track,this.emit(Lx.ON_TRACK,this.inputTrack)),e.node&&this.inputNode!==e.node&&(this.inputNode=e.node,this.emit(Lx.ON_NODE,this.inputNode))}}class KQ extends Zk{constructor(e,t){super(),iO(this,"constraintsMap",new Map),iO(this,"statsRegistry",[]),iO(this,"audioContext",void 0),iO(this,"trackId",void 0),this.audioContext=e,this.trackId=t}async getConstraints(){return kG(this,Mx.REQUEST_CONSTRAINTS)}getAudioContext(){return this.audioContext}async requestApplyConstraints(e,t){var n;return uN.info("processor ".concat(t.name," requestApplyConstraints for ").concat(this.trackId)),e&&this.constraintsMap.set(t,e),NG(this,Mx.REQUEST_UPDATE_CONSTRAINTS,Array.from(qQ(n=this.constraintsMap).call(n)))}async requestRevertConstraints(e){var t;if(this.constraintsMap.has(e))return this.constraintsMap.delete(e),NG(this,Mx.REQUEST_UPDATE_CONSTRAINTS,Array.from(qQ(t=this.constraintsMap).call(t)))}registerStats(e,t,n){this.statsRegistry.find((n=>n.processorID===e.ID&&n.processorName===e.name&&n.type===t))||this.statsRegistry.push({processorName:e.name,processorID:e.ID,type:t,cb:n})}unregisterStats(e,t){const n=this.statsRegistry.findIndex((n=>n.processorID===e.ID&&n.processorName===e.name&&n.type===t));-1!==n&&this.statsRegistry.splice(n,1)}gatherStats(){const e=[];for(const{processorID:t,processorName:n,type:r,cb:i}of this.statsRegistry)try{const o=i();e.push({processorID:t,processorName:n,type:r,stats:o})}catch(e){uN.error(new eN($k.UNEXPECTED_ERROR,e.message))}return e}}function YQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function JQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YQ(Object(n),!0).forEach((function(t){iO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YQ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let ZQ=(sQ=PN("LocalAudioTrack","getTrackId"),cQ=aQ(),uQ=wV("LocalAudioTrack","_enabledMutex"),lQ=vV({className:"LocalAudioTrack"}),dQ=aQ(),hQ=wV("LocalAudioTrack","_enabledMutex"),pQ=vV({className:"LocalAudioTrack"}),fQ=aQ(),AQ=aQ(),gQ=aQ(),mQ=aQ(),vQ=aQ(),sQ((zj((EQ=class extends RV{get isPlaying(){return this._useAudioElement?oQ.isPlaying(this.getTrackId()):this._source.isPlayed}constructor(e,t,n,r){super(e,n),iO(this,"trackMediaType","audio"),iO(this,"_encoderConfig",void 0),iO(this,"_source",void 0),iO(this,"_enabled",!0),iO(this,"_volume",100),iO(this,"_useAudioElement",!1),iO(this,"_bypassWebAudio",!1),iO(this,"processor",void 0),iO(this,"processorContext",void 0),iO(this,"processorDestination",void 0),iO(this,"_getOriginVolumeLevel",void 0),this._encoderConfig=t,this._getOriginVolumeLevel=!!r,this._source=new GV(e,!1,this._getOriginVolumeLevel?e:void 0),KN("LOCAL_AUDIO_TRACK_USES_WEB_AUDIO")||(this._useAudioElement=!0),this.processorContext=new KQ(this._source.context,this.getTrackId()),this.processorDestination=new WQ(this.processorContext),this.bindProcessorDestinationEvents(),this._source.on(BP.UPDATE_SOURCE,(()=>{this.processor&&this.processor.updateInput({node:this._source.processSourceNode,context:this.processorContext})}))}setVolume(e){XD(e,"volume",0,1e3);const t=yV.reportApiInvoke(null,{tag:yP.TRACER,name:vP.LOCAL_AUDIO_TRACK_SET_VOLUME,options:[this.getTrackId(),e]},300);this._volume=e,this._source.setVolume(e/100),this._useAudioElement&&oQ.setVolume(this.getTrackId(),e);try{if(this._bypassWebAudio)return uN.debug("[".concat(this.getTrackId(),"] setVolume returned because no pass through WebAudio.")),void t.onSuccess();const e=this._source.createOutputTrack();this._mediaStreamTrack!==e&&(this._mediaStreamTrack=e,NG(this,px.NEED_REPLACE_TRACK,this).then((()=>{uN.debug("[".concat(this.getTrackId(),"] replace web audio track success")),wN("debug",this,"replace web audio track success")})).catch((e=>{uN.warning("[".concat(this.getTrackId(),"] replace web audio track failed"),e),wN("warning",this,"replace web audio track failed ".concat(e.toString()))})))}catch(e){}t.onSuccess()}getVolumeLevel(){return this._muted&&this.enabled&&this._getOriginVolumeLevel?this._source.getOriginVolumeLevel():this._source.getAccurateVolumeLevel()}async setPlaybackDevice(e){const t=yV.reportApiInvoke(null,{tag:yP.TRACER,name:vP.REMOTE_AUDIO_SET_OUTPUT_DEVICE,options:[this.getTrackId(),e]});if(!this._useAudioElement)throw new eN($k.NOT_SUPPORTED,"your browser does not support setting the audio output device");try{await oQ.setSinkID(this.getTrackId(),e)}catch(e){throw t.onError(e),e}t.onSuccess()}async setEnabled(e,t,n){return this._setEnabled(e,t,n)}async _setEnabled(e,t,n){if(!n){if(e===this._enabled)return;this.stateCheck("enabled",e)}if(uN.info("[".concat(this.getTrackId(),"] start setEnabled"),e),kN("info",this,"setEnabled",e),e){this._originMediaStreamTrack.enabled=!0;try{n||(this._enabled=!0),await NG(this,px.NEED_ENABLE_TRACK,this),uN.info("[".concat(this.getTrackId(),"] setEnabled to ").concat(e," success")),kN("info",this,"setEnabled",e,"success")}catch(t){throw n||(this._enabled=!1),uN.error("[".concat(this.getTrackId(),"] setEnabled to true error"),t.toString()),kN("error",this,"setEnabled",e,t.toString()),t}}else{this._originMediaStreamTrack.enabled=!1,n||(this._enabled=!1);try{await NG(this,px.NEED_DISABLE_TRACK,this)}catch(t){throw n||(this._enabled=!0),uN.error("[".concat(this.getTrackId(),"] setEnabled to false error"),t.toString()),kN("info",this,"setEnabled",e,t.toString()),t}}}async setMuted(e){e!==this._muted&&(this.stateCheck("muted",e),this._muted=e,this._originMediaStreamTrack.enabled=!e,uN.debug("[".concat(this.getTrackId(),"] start set muted: ").concat(e)),kN("debug",this,"setMuted",e),e?await NG(this,px.NEED_MUTE_TRACK,this):await NG(this,px.NEED_UNMUTE_TRACK,this))}getStats(){return UG((()=>{uN.warning("[deprecated] LocalAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalAudioStats instead"),wN("warning",this,"LocalAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalAudioStats instead")}),"localAudioTrackGetStatsWarning"),DG(this,px.GET_STATS)||JQ({},GP)}setAudioFrameCallback(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4096;if(!e)return this._source.removeAllListeners(BP.ON_AUDIO_BUFFER),void this._source.stopGetAudioBuffer();this._source.startGetAudioBuffer(t),this._source.removeAllListeners(BP.ON_AUDIO_BUFFER),this._source.on(BP.ON_AUDIO_BUFFER,(t=>e(t)))}play(){const e=yV.reportApiInvoke(null,{tag:yP.TRACER,name:vP.LOCAL_AUDIO_TRACK_PLAY,options:[this.getTrackId()]});uN.debug("[".concat(this.getTrackId(),"] start audio playback")),kN("debug",this,"play"),this._useAudioElement?(uN.debug("[".concat(this.getTrackId(),"] start audio playback in element")),wN("debug",this,"start audio playback in element"),oQ.play(this._mediaStreamTrack,this.getTrackId(),this._volume)):this._source.play(),e.onSuccess()}stop(){const e=yV.reportApiInvoke(null,{tag:yP.TRACER,name:vP.LOCAL_AUDIO_TRACK_STOP,options:[this.getTrackId()]});uN.debug("[".concat(this.getTrackId(),"] stop audio playback")),kN("debug",this,"stop"),this._useAudioElement?oQ.stop(this.getTrackId()):this._source.stop(),e.onSuccess()}close(){super.close(),this.unbindProcessorDestinationEvents(),this.unbindProcessorContextEvents(),this.unpipe(),this.processorDestination._source&&this.processorDestination._source.unpipe(),this._source.destroy()}_updatePlayerSource(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];uN.debug("[".concat(this.getTrackId(),"] update player source track")),kN("debug",this,"_updatePlayerSource"),e&&this._source.updateTrack(this._mediaStreamTrack),this._useAudioElement&&oQ.updateTrack(this.getTrackId(),this._mediaStreamTrack)}async _updateOriginMediaStreamTrack(e,t){this._originMediaStreamTrack!==e&&(this._originMediaStreamTrack.removeEventListener("ended",this._handleTrackEnded),e.addEventListener("ended",this._handleTrackEnded),t&&this._originMediaStreamTrack.stop(),this._originMediaStreamTrack=e,this.processor&&this.processor.updateInput({track:e,context:this.processorContext}),this._mediaStreamTrack!==this._source.outputTrack?(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await NG(this,px.NEED_REPLACE_TRACK,this)):this._source.updateTrack(this._originMediaStreamTrack),this._getOriginVolumeLevel&&this._source.updateOriginTrack(e))}renewMediaStreamTrack(e){return LC.resolve(void 0)}pipe(e){if(this._bypassWebAudio)throw new eN($k.INVALID_OPERATION,"Can not process AudioTrack when bypassWebAudio set to true.");if(this.processor===e)return e;if(e._source)throw new eN($k.INVALID_OPERATION,"Processor ".concat(e.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,node:this._source.processSourceNode,context:this.processorContext}),e}unpipe(){var e;if(!this.processor)return;const t=this.processor;null===(e=this._source.processSourceNode)||void 0===e||e.disconnect(),this.processor._source=!1,this.processor=void 0,t.reset()}bindProcessorDestinationEvents(){this.processorDestination.on(Lx.ON_TRACK,(async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource(!1),this._source.processedNode=this._source.createMediaStreamSourceNode(e),await NG(this,px.NEED_REPLACE_TRACK,this)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await NG(this,px.NEED_REPLACE_TRACK,this))})),this.processorDestination.on(Lx.ON_NODE,(e=>{this._source.processedNode=e}))}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(Lx.ON_TRACK),this.processorDestination.removeAllListeners(Lx.ON_NODE)}unbindProcessorContextEvents(){this.processorContext.removeAllListeners(Mx.REQUEST_UPDATE_CONSTRAINTS),this.processorContext.removeAllListeners(Mx.REQUEST_CONSTRAINTS)}}).prototype,"setPlaybackDevice",[cQ],Object.getOwnPropertyDescriptor(EQ.prototype,"setPlaybackDevice"),EQ.prototype),zj(EQ.prototype,"setEnabled",[uQ,lQ,dQ],Object.getOwnPropertyDescriptor(EQ.prototype,"setEnabled"),EQ.prototype),zj(EQ.prototype,"setMuted",[hQ,pQ,fQ],Object.getOwnPropertyDescriptor(EQ.prototype,"setMuted"),EQ.prototype),zj(EQ.prototype,"getStats",[AQ],Object.getOwnPropertyDescriptor(EQ.prototype,"getStats"),EQ.prototype),zj(EQ.prototype,"setAudioFrameCallback",[gQ],Object.getOwnPropertyDescriptor(EQ.prototype,"setAudioFrameCallback"),EQ.prototype),zj(EQ.prototype,"play",[mQ],Object.getOwnPropertyDescriptor(EQ.prototype,"play"),EQ.prototype),zj(EQ.prototype,"stop",[vQ],Object.getOwnPropertyDescriptor(EQ.prototype,"stop"),EQ.prototype),yQ=EQ))||yQ),XQ=(bQ=PN("MicrophoneAudioTrack","getTrackId"),_Q=aQ(),CQ=wV("MicrophoneAudioTrack","_enabledMutex"),IQ=vV({className:"MicrophoneAudioTrack"}),SQ=aQ(),bQ((zj((RQ=class extends ZQ{constructor(e,t,n,r){super(e,t.encoderConfig?zN(t.encoderConfig):{},r,KN("GET_VOLUME_OF_MUTED_AUDIO_TRACK")),iO(this,"_config",void 0),iO(this,"_deviceName","default"),iO(this,"_constraints",void 0),iO(this,"_originalConstraints",void 0),iO(this,"_enabled",!0),DN("info",this,"constructor",{trackId:r,deviceId:e.label,constraints:n}),this._config=t,this._constraints=n,this._originalConstraints=n,this._deviceName=e.label,"boolean"==typeof t.bypassWebAudio&&(this._bypassWebAudio=t.bypassWebAudio),QT()&&xV.bindInterruptDetectorTrack(this),this.bindProcessorContextEvents()}async setDevice(e){const t=yV.reportApiInvoke(null,{tag:yP.TRACER,name:vP.MIC_AUDIO_TRACK_SET_DEVICE,options:[this.getTrackId(),e]});if(uN.info("[".concat(this.getTrackId(),"] start set device to ").concat(e)),kN("info",this,"setDevice",e),this._enabled)try{const n=await tQ.getDeviceById(e),r={};r.audio=JQ({},this._constraints),r.audio.deviceId={exact:e},this._originMediaStreamTrack.stop();let i=null;try{i=await ZV(r,this.getTrackId())}catch(t){throw uN.error("[".concat(this.getTrackId(),"] setDevice failed"),t.toString()),kN("error",this,"setDevice",e,t.toString()),i=await ZV({video:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(i.getAudioTracks()[0],!1),t}await this._updateOriginMediaStreamTrack(i.getAudioTracks()[0],!1),this._deviceName=n.label,this._config.microphoneId=e,this._constraints.deviceId={exact:e}}catch(n){throw t.onError(n),uN.error("[".concat(this.getTrackId(),"] setDevice error"),n.toString()),kN("error",this,"setDevice",e,n.toString()),n}else try{const t=await tQ.getDeviceById(e);this._deviceName=t.label,this._config.microphoneId=e,this._constraints.deviceId={exact:e}}catch(n){throw t.onError(n),uN.error("[".concat(this.getTrackId(),"] setDevice error"),n.toString()),kN("error",this,"setDevice",e,n.toString()),n}t.onSuccess(),uN.info("[".concat(this.getTrackId(),"] set device to ").concat(e," success")),kN("info",this,"setDevice",e,"success")}async setEnabled(e,t,n){if(t)return uN.debug("[".concat(this.getTrackId(),"] setEnabled false (do not close microphone)")),wN("debug",this,"setEnabled false (do not close microphone)"),await super._setEnabled(e);if(!n){if(e===this._enabled)return;this.stateCheck("enabled",e)}if(uN.info("[".concat(this.getTrackId(),"] start setEnabled"),e),kN("info",this,"setEnabled",e),!e){var r;this._originMediaStreamTrack.onended=null,this._originMediaStreamTrack.stop(),null===(r=this._source.clonedTrack)||void 0===r||r.stop(),n||(this._enabled=!1);try{await NG(this,px.NEED_DISABLE_TRACK,this)}catch(t){throw uN.error("[".concat(this.getTrackId(),"] setEnabled false failed"),t.toString()),kN("error",this,"setEnabled",e,t.toString()),t}return}const i=JQ({},this._constraints),o=tQ.searchDeviceIdByName(this._deviceName);o&&!i.deviceId&&(i.deviceId=o);try{n||(this._enabled=!0);const e=await ZV({audio:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(e.getAudioTracks()[0],!1),await NG(this,px.NEED_ENABLE_TRACK,this)}catch(t){throw n||(this._enabled=!1),uN.error("[".concat(this.getTrackId(),"] setEnabled true failed"),t.toString()),kN("error",this,"setEnabled",e,t.toString()),t}uN.info("[".concat(this.getTrackId(),"] setEnabled success")),kN("info",this,"setEnabled",e,"success")}close(){super.close(),QT()&&xV.unbindInterruptDetectorTrack(this)}onTrackEnded(){if((FT()||zT())&&this._enabled&&!this._isClosed&&xV.duringInterruption){const e=async()=>{xV.off(bV.IOS_INTERRUPTION_END,e),this._enabled&&!this._isClosed&&(uN.debug("[".concat(this.getTrackId(),"] try capture microphone media device for interrupted iOS device.")),wN("debug",this,"try capture microphone media device for interrupted iOS device"),await this.setEnabled(!1),await this.setEnabled(!0))};xV.on(bV.IOS_INTERRUPTION_END,e)}else uN.debug("[".concat(this.getTrackId(),"] track ended")),ON("debug",["MediaStreamTrack",this.getTrackId()],"ended"),this.emit(mx.TRACK_ENDED)}async renewMediaStreamTrack(e){const t=e||this._constraints,n=tQ.searchDeviceIdByName(this._deviceName);n&&!t.deviceId&&(t.deviceId=n),this._constraints=t,this._originMediaStreamTrack.stop();const r=await ZV({audio:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(r.getAudioTracks()[0],!0)}bindProcessorContextEvents(){this.processorContext.on(Mx.REQUEST_UPDATE_CONSTRAINTS,(async(e,t,n)=>{try{const n=Object.assign({},this._originalConstraints,...e);await this.renewMediaStreamTrack(n),t()}catch(e){n(e)}})),this.processorContext.on(Mx.REQUEST_CONSTRAINTS,(async e=>{e(this._originMediaStreamTrack.getSettings())}))}}).prototype,"setDevice",[_Q],Object.getOwnPropertyDescriptor(RQ.prototype,"setDevice"),RQ.prototype),zj(RQ.prototype,"setEnabled",[CQ,IQ,SQ],Object.getOwnPropertyDescriptor(RQ.prototype,"setEnabled"),RQ.prototype),wQ=RQ))||wQ),$Q=(TQ=PN("BufferSourceAudioTrack","getTrackId"),OQ=aQ(),kQ=aQ(),NQ=aQ(),DQ=aQ(),PQ=aQ(),TQ((zj((LQ=class extends ZQ{constructor(e,t,n,r){super(t.createOutputTrack(),n,r),iO(this,"source",void 0),iO(this,"_bufferSource",void 0),DN("info",this,"constructor",{trackId:r}),this.source=e,this._bufferSource=t,this._bufferSource.on(BP.AUDIO_SOURCE_STATE_CHANGE,(e=>{this.emit(mx.SOURCE_STATE_CHANGE,e)}));try{this._mediaStreamTrack=this._source.createOutputTrack()}catch(e){}}get currentState(){return this._bufferSource.currentState}get duration(){return this._bufferSource.duration}getCurrentTime(){return this._bufferSource.currentTime}startProcessAudioBuffer(e){const t=yV.reportApiInvoke(null,{tag:yP.TRACER,name:vP.BUFFER_AUDIO_TRACK_START,options:[this.getTrackId(),e,this.duration]});e&&this._bufferSource.updateOptions(e),this._bufferSource.startProcessAudioBuffer(),t.onSuccess()}pauseProcessAudioBuffer(){const e=yV.reportApiInvoke(null,{tag:yP.TRACER,name:vP.BUFFER_AUDIO_TRACK_PAUSE,options:[this.getTrackId()]});this._bufferSource.pauseProcessAudioBuffer(),e.onSuccess()}seekAudioBuffer(e){const t=yV.reportApiInvoke(null,{tag:yP.TRACER,name:vP.BUFFER_AUDIO_TRACK_SEEK,options:[this.getTrackId()]});this._bufferSource.seekAudioBuffer(e),t.onSuccess()}resumeProcessAudioBuffer(){const e=yV.reportApiInvoke(null,{tag:yP.TRACER,name:vP.BUFFER_AUDIO_TRACK_RESUME,options:[this.getTrackId()]});this._bufferSource.resumeProcessAudioBuffer(),e.onSuccess()}stopProcessAudioBuffer(){const e=yV.reportApiInvoke(null,{tag:yP.TRACER,name:vP.BUFFER_AUDIO_TRACK_STOP,options:[this.getTrackId()]});this._bufferSource.stopProcessAudioBuffer(),e.onSuccess()}}).prototype,"startProcessAudioBuffer",[OQ],Object.getOwnPropertyDescriptor(LQ.prototype,"startProcessAudioBuffer"),LQ.prototype),zj(LQ.prototype,"pauseProcessAudioBuffer",[kQ],Object.getOwnPropertyDescriptor(LQ.prototype,"pauseProcessAudioBuffer"),LQ.prototype),zj(LQ.prototype,"seekAudioBuffer",[NQ],Object.getOwnPropertyDescriptor(LQ.prototype,"seekAudioBuffer"),LQ.prototype),zj(LQ.prototype,"resumeProcessAudioBuffer",[DQ],Object.getOwnPropertyDescriptor(LQ.prototype,"resumeProcessAudioBuffer"),LQ.prototype),zj(LQ.prototype,"stopProcessAudioBuffer",[PQ],Object.getOwnPropertyDescriptor(LQ.prototype,"stopProcessAudioBuffer"),LQ.prototype),xQ=LQ))||xQ),eG=PN("MixingAudioTrack","getTrackId")(MQ=class extends ZQ{get isActive(){for(const e of this.trackList)if(e._enabled&&!e._isClosed&&!e.muted)return!0;return!1}constructor(){const e=LV().createMediaStreamDestination();super(e.stream.getAudioTracks()[0],void 0,SG(8,"track-mix-")),iO(this,"trackList",void 0),iO(this,"destNode",void 0);try{this._mediaStreamTrack=this._source.createOutputTrack()}catch(e){}this.destNode=e,this.trackList=[]}hasAudioTrack(e){return-1!==this.trackList.indexOf(e)}addAudioTrack(e){if(-1!==this.trackList.indexOf(e))return uN.debug("track ".concat(e.getTrackId()," is already added")),void wN("debug",this,"track already added");uN.debug("add ".concat(e.getTrackId()," to mixing track")),kN("debug",this,"addAudioTrack",e.getTrackId()),e._source.outputNode.connect(this.destNode),this.trackList.push(e),this.updateEncoderConfig()}removeAudioTrack(e){if(-1!==this.trackList.indexOf(e)){uN.debug("remove ".concat(e.getTrackId()," from mixing track")),kN("debug",this,"removeAudioTrack",e.getTrackId());try{e._source.outputNode.disconnect(this.destNode)}catch(e){}xG(this.trackList,e),this.updateEncoderConfig()}}updateEncoderConfig(){const e={};this.trackList.forEach((t=>{t._encoderConfig&&((t._encoderConfig.bitrate||0)>(e.bitrate||0)&&(e.bitrate=t._encoderConfig.bitrate),(t._encoderConfig.sampleRate||0)>(e.sampleRate||0)&&(e.sampleRate=t._encoderConfig.sampleRate),(t._encoderConfig.sampleSize||0)>(e.sampleSize||0)&&(e.sampleSize=t._encoderConfig.sampleSize),t._encoderConfig.stereo&&(e.stereo=!0))})),this._encoderConfig=e}})||MQ;class tG extends Zk{constructor(){super(...arguments),iO(this,"resultStorage",new Map)}setLocalAudioStats(e,t,n){this.record("AUDIO_INPUT_LEVEL_TOO_LOW",e,this.checkAudioInputLevel(n,t)),this.record("SEND_AUDIO_BITRATE_TOO_LOW",e,this.checkSendAudioBitrate(n,t))}setLocalVideoStats(e,t,n){this.record("SEND_VIDEO_BITRATE_TOO_LOW",e,this.checkSendVideoBitrate(n,t)),this.record("FRAMERATE_INPUT_TOO_LOW",e,this.checkFramerateInput(n,t)),this.record("FRAMERATE_SENT_TOO_LOW",e,this.checkFramerateSent(n))}setRemoteAudioStats(e,t){const n=e.getUserId();this.record("AUDIO_OUTPUT_LEVEL_TOO_LOW",n,this.checkAudioOutputLevel(t))}setRemoteVideoStats(e,t){const n=e.getUserId();this.record("RECV_VIDEO_DECODE_FAILED",n,this.checkVideoDecode(t))}record(e,t,n){this.resultStorage.has(e)||this.resultStorage.set(e,{result:[],isPrevNormal:!0});const r=this.resultStorage.get(e);if(r&&(r.result.push(n),r.result.length>=5)){const n=r.result.includes(!0);r.isPrevNormal&&!n&&this.emit("exception",nG[e],e,t),!r.isPrevNormal&&n&&this.emit("exception",nG[e]+2e3,e+"_RECOVER",t),r.isPrevNormal=n,r.result=[]}}checkAudioOutputLevel(e){return!(e.receiveBitrate>0&&0===e.receiveLevel)}checkAudioInputLevel(e,t){return t instanceof eG&&!t.isActive||!!t.muted||0!==e.sendVolumeLevel}checkFramerateInput(e,t){let n=null;t._encoderConfig&&t._encoderConfig.frameRate&&(n=hG(t._encoderConfig.frameRate));const r=e.captureFrameRate;return!n||!r||!(n>10&&r<5||n<10&&n>=5&&r<=1)}checkFramerateSent(e){return!(e.captureFrameRate&&e.sendFrameRate&&e.captureFrameRate>5&&e.sendFrameRate<=1)}checkSendVideoBitrate(e,t){return!!t.muted||0!==e.sendBitrate}checkSendAudioBitrate(e,t){return t instanceof eG&&!t.isActive||!!t.muted||0!==e.sendBitrate}checkVideoDecode(e){return 0===e.receiveBitrate||0!==e.decodeFrameRate}}const nG={FRAMERATE_INPUT_TOO_LOW:1001,FRAMERATE_SENT_TOO_LOW:1002,SEND_VIDEO_BITRATE_TOO_LOW:1003,RECV_VIDEO_DECODE_FAILED:1005,AUDIO_INPUT_LEVEL_TOO_LOW:2001,AUDIO_OUTPUT_LEVEL_TOO_LOW:2002,SEND_AUDIO_BITRATE_TOO_LOW:2003},rG=new class{markSubscribeStart(e,t){performance.mark("agora-web-sdk/".concat(e,"/subscribe-").concat(t))}markPublishStart(e,t){performance.mark("agora-web-sdk/".concat(e,"/publish-").concat(t))}measureFromSubscribeStart(e,t){const n=performance.getEntriesByName("agora-web-sdk/".concat(e,"/subscribe-").concat(t));if(n.length>0){const e=n[n.length-1];return Math.round(performance.now()-e.startTime)}return 0}measureFromPublishStart(e,t){const n=performance.getEntriesByName("agora-web-sdk/".concat(e,"/publish-").concat(t));if(n.length>0){const e=n[n.length-1];return Math.round(performance.now()-e.startTime)}return 0}};function iG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iG(Object(n),!0).forEach((function(t){iO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iG(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class aG{constructor(e){iO(this,"store",void 0),iO(this,"onStatsException",void 0),iO(this,"onUploadPublishDuration",void 0),iO(this,"localStats",new Map),iO(this,"remoteStats",new Map),iO(this,"updateStatsInterval",void 0),iO(this,"trafficStats",void 0),iO(this,"trafficStatsPeerList",[]),iO(this,"uplinkStats",void 0),iO(this,"exceptionMonitor",void 0),iO(this,"p2pChannel",void 0),iO(this,"updateStats",(()=>{this.p2pChannel&&(this.updateRemoteStats(this.p2pChannel),this.updateLocalStats(this.p2pChannel))})),this.store=e,this.updateStatsInterval=window.setInterval(this.updateStats,1e3),this.exceptionMonitor=new tG,this.exceptionMonitor.on("exception",((e,t,n)=>{this.onStatsException&&this.onStatsException(e,t,n)}))}reset(){this.localStats=new Map,this.remoteStats=new Map,this.trafficStats=void 0,this.trafficStatsPeerList=[],this.uplinkStats=void 0}getLocalAudioTrackStats(){return this.localStats.get(Tx.LocalAudioTrack)||oG({},GP)}getLocalVideoTrackStats(){return this.localStats.get(Tx.LocalVideoTrack)||oG({},qP)}getRemoteAudioTrackStats(e){const t=(e,t)=>{if(!this.trafficStats)return t;const n=this.trafficStats.peer_delay.find((t=>t.peer_uid===e));return n&&(t.publishDuration=n.B_ppad+(Date.now()-this.trafficStats.timestamp)),t},n={};if(e){var r;const i=null===(r=this.remoteStats.get(e))||void 0===r?void 0:r.audioStats;i&&(n[e]=t(e,i))}else Array.from(this.remoteStats.entries()).forEach((e=>{let[r,{audioStats:i}]=e;i&&(n[r]=t(r,i))}));return n}getRemoteNetworkQualityStats(e){const t={};if(e){var n;const r=null===(n=this.remoteStats.get(e))||void 0===n?void 0:n.networkStats;r&&(t[e]=r)}else Array.from(this.remoteStats.entries()).forEach((e=>{let[n,{networkStats:r}]=e;r&&(t[n]=r)}));return t}getRemoteVideoTrackStats(e){const t=(e,t)=>{if(!this.trafficStats)return t;const n=this.trafficStats.peer_delay.find((t=>t.peer_uid===e));return n&&(t.publishDuration=n.B_ppvd+(Date.now()-this.trafficStats.timestamp)),t},n={};if(e){var r;const i=null===(r=this.remoteStats.get(e))||void 0===r?void 0:r.videoStats;i&&(n[e]=t(e,i))}else Array.from(this.remoteStats.entries()).forEach((e=>{let[r,{videoStats:i}]=e;i&&(n[r]=t(r,i))}));return n}getRTCStats(){let e=0,t=0,n=0,r=0;const i=this.localStats.get(Tx.LocalAudioTrack);i&&(e+=i.sendBytes,t+=i.sendBitrate);const o=this.localStats.get(Tx.LocalVideoTrack);o&&(e+=o.sendBytes,t+=o.sendBitrate);const a=this.localStats.get(Tx.LocalVideoLowTrack);a&&(e+=a.sendBytes,t+=a.sendBitrate),this.remoteStats.forEach((e=>{let{audioStats:t,videoStats:i}=e;t&&(n+=t.receiveBytes,r+=t.receiveBitrate),i&&(n+=i.receiveBytes,r+=i.receiveBitrate)}));let s=1;return this.trafficStats&&(s+=this.trafficStats.peer_delay.length),{Duration:0,UserCount:s,SendBitrate:t,SendBytes:e,RecvBytes:n,RecvBitrate:r,OutgoingAvailableBandwidth:this.uplinkStats?this.uplinkStats.B_uab/1e3:0,RTT:this.trafficStats?2*this.trafficStats.B_acd:0}}addLocalStats(e){this.localStats.set(e,void 0)}removeLocalStats(e){e?this.localStats.delete(e):this.localStats.clear()}addRemoteStats(e){this.remoteStats.set(e,{})}removeRemoteStats(e){e?this.remoteStats.delete(e):this.remoteStats.clear()}addP2PChannel(e){this.p2pChannel=e}updateTrafficStats(e){e.peer_delay=e.peer_delay.filter((e=>void 0!==e.B_ppad||void 0!==e.B_ppvd)),e.peer_delay.filter((e=>-1===this.trafficStatsPeerList.indexOf(e.peer_uid))).forEach((e=>{var t;const n=null===(t=this.p2pChannel)||void 0===t?void 0:t.getRemoteMedia(e.peer_uid),r=null!=n&&n.videoSSRC?rG.measureFromSubscribeStart(this.store.clientId,n.videoSSRC):0,i=null!=n&&n.audioSSRC?rG.measureFromSubscribeStart(this.store.clientId,n.audioSSRC):0;void 0!==e.B_ppad&&void 0!==e.B_ppvd&&(this.onUploadPublishDuration&&this.onUploadPublishDuration(e.peer_uid,e.B_ppad,e.B_ppvd,r>i?r:i),this.trafficStatsPeerList.push(e.peer_uid))})),this.trafficStats=e}updateUplinkStats(e){this.uplinkStats&&this.uplinkStats.B_fir!==e.B_fir&&uN.debug("[".concat(this.store.clientId,"]: Period fir changes to ").concat(e.B_fir)),this.uplinkStats=e}static isRemoteVideoFreeze(e,t,n){if(!e)return!1;const r=!!n&&t.framesDecodeFreezeTime>n.framesDecodeFreezeTime,i=!n||t.framesDecodeCount>n.framesDecodeCount;return r||!i}static isRemoteAudioFreeze(e){return!!e&&e._isFreeze()}isLocalVideoFreeze(e){return!(!e.inputFrame||!e.sentFrame)&&e.inputFrame.frameRate>5&&e.sentFrame.frameRate<3}updateLocalStats(e){Array.from(this.localStats.entries()).forEach((t=>{let[n,r]=t;switch(n){case Tx.LocalVideoTrack:case Tx.LocalVideoLowTrack:{const t=r,i=oG({},qP),o=e.getStats(),a=e.getLocalMedia(n);if(o){const n=o.videoSend.find((e=>e.ssrc===(null==a?void 0:a.ssrcs[0].ssrcId)));if(n){const r=e.getLocalVideoSize(),o=e.getEncoderConfig(Tx.LocalVideoTrack);"H264"!==n.codec&&"VP8"!==n.codec&&"VP9"!==n.codec&&"AV1X"!==n.codec&&"AV1"!==n.codec||(i.codecType=n.codec),i.sendBytes=n.bytes,i.sendBitrate=t?8*Math.max(0,i.sendBytes-t.sendBytes):0,n.inputFrame?(i.captureFrameRate=n.inputFrame.frameRate,i.captureResolutionHeight=n.inputFrame.height,i.captureResolutionWidth=n.inputFrame.width):r&&(i.captureResolutionWidth=r.width,i.captureResolutionHeight=r.height),n.sentFrame?(i.sendFrameRate=n.sentFrame.frameRate,i.sendResolutionHeight=n.sentFrame.height,i.sendResolutionWidth=n.sentFrame.width):r&&(i.sendResolutionWidth=r.width,i.sendResolutionHeight=r.height),n.avgEncodeMs&&(i.encodeDelay=n.avgEncodeMs),o&&o.bitrateMax&&(i.targetSendBitrate=1e3*o.bitrateMax),i.sendPackets=n.packets,i.sendPacketsLost=n.packetsLost,i.totalDuration=t?t.totalDuration+1:1,i.totalFreezeTime=t?t.totalFreezeTime:0,this.isLocalVideoFreeze(n)&&(i.totalFreezeTime+=1)}this.trafficStats&&(i.sendPacketsLost=this.trafficStats.B_pvlr4/100)}this.localStats.set(n,i),i&&a&&this.exceptionMonitor.setLocalVideoStats(this.store.uid,a.track,i);break}case Tx.LocalAudioTrack:{const t=r,i=oG({},GP),o=e.getStats(),a=e.getLocalMedia(n);if(o){const n=o.audioSend.find((e=>e.ssrc===(null==a?void 0:a.ssrcs[0].ssrcId)));if(n){if("opus"!==n.codec&&"aac"!==n.codec&&"PCMU"!==n.codec&&"PCMA"!==n.codec&&"G722"!==n.codec||(i.codecType=n.codec),n.inputLevel)i.sendVolumeLevel=Math.round(32767*n.inputLevel);else{const t=e.getLocalAudioVolume();t&&(i.sendVolumeLevel=Math.round(32767*t))}i.sendBytes=n.bytes,i.sendPackets=n.packets,i.sendPacketsLost=n.packetsLost,i.sendBitrate=t?8*Math.max(0,i.sendBytes-t.sendBytes):0}}this.trafficStats&&(i.sendPacketsLost=this.trafficStats.B_pvlr4/100),this.localStats.set(Tx.LocalAudioTrack,i),i&&a&&this.exceptionMonitor.setLocalAudioStats(this.store.uid,a.track,i);break}}}))}updateRemoteStats(e){Array.from(this.remoteStats.entries()).forEach((t=>{let[n,{videoStats:r,audioStats:i,videoPcStats:o}]=t;const a=i,s=r,c=o,u=oG({},HP),l=oG({},WP),d=oG({},zP),{audioTrack:h,videoTrack:p,audioSSRC:f,videoSSRC:A}=e.getRemoteMedia(n),g=e.getStats(),m=null==g?void 0:g.audioRecv.find((e=>e.ssrc===f)),v=null==g?void 0:g.videoRecv.find((e=>e.ssrc===A)),y=this.trafficStats&&this.trafficStats.peer_delay.find((e=>e.peer_uid===n));if(m&&("opus"!==m.codec&&"aac"!==m.codec&&"PCMU"!==m.codec&&"PCMA"!==m.codec&&"G722"!==m.codec||(u.codecType=m.codec),m.outputLevel?u.receiveLevel=Math.round(32767*m.outputLevel):h&&(u.receiveLevel=Math.round(32767*h.getVolumeLevel())),u.receiveBytes=m.bytes,u.receivePackets=m.packets,u.receivePacketsLost=m.packetsLost,u.packetLossRate=u.receivePacketsLost/(u.receivePackets+u.receivePacketsLost),u.receiveBitrate=a?8*Math.max(0,u.receiveBytes-a.receiveBytes):0,u.totalDuration=a?a.totalDuration+1:1,u.totalFreezeTime=a?a.totalFreezeTime:0,u.freezeRate=u.totalFreezeTime/u.totalDuration,u.receiveDelay=m.jitterBufferMs,u.totalDuration>10&&aG.isRemoteAudioFreeze(h)&&(u.totalFreezeTime+=1)),v){"H264"!==v.codec&&"VP8"!==v.codec&&"VP9"!==v.codec&&"AV1X"!==v.codec&&"AV1"!==v.codec||(l.codecType=v.codec),l.receiveBytes=v.bytes,l.receiveBitrate=s?8*Math.max(0,l.receiveBytes-s.receiveBytes):0,l.decodeFrameRate=v.decodeFrameRate<0?0:v.decodeFrameRate,l.renderFrameRate=v.decodeFrameRate<0?0:v.decodeFrameRate,v.outputFrame&&(l.renderFrameRate=v.outputFrame.frameRate),v.receivedFrame?(l.receiveFrameRate=v.receivedFrame.frameRate,l.receiveResolutionHeight=v.receivedFrame.height,l.receiveResolutionWidth=v.receivedFrame.width):p&&(l.receiveResolutionHeight=p._videoHeight||0,l.receiveResolutionWidth=p._videoWidth||0),void 0!==v.framesRateFirefox&&(l.receiveFrameRate=Math.round(v.framesRateFirefox)),l.receivePackets=v.packets,l.receivePacketsLost=v.packetsLost,l.packetLossRate=l.receivePacketsLost/(l.receivePackets+l.receivePacketsLost),l.totalDuration=s?s.totalDuration+1:1,l.totalFreezeTime=s?s.totalFreezeTime:0,l.receiveDelay=v.jitterBufferMs||0;const t=!!A&&e.getRemoteVideoIsReady(A);p&&t&&aG.isRemoteVideoFreeze(p,v,c)&&(l.totalFreezeTime+=1),l.freezeRate=l.totalFreezeTime/l.totalDuration}y&&(u.end2EndDelay=y.B_ad,l.end2EndDelay=y.B_vd,u.transportDelay=y.B_ed,l.transportDelay=y.B_ed,u.currentPacketLossRate=y.B_ealr4/100,l.currentPacketLossRate=y.B_evlr4/100,d.uplinkNetworkQuality=y.B_punq?y.B_punq:0,d.downlinkNetworkQuality=y.B_pdnq?y.B_pdnq:0),this.remoteStats.set(n,{audioStats:u,videoStats:l,videoPcStats:v,networkStats:d}),h&&this.exceptionMonitor.setRemoteAudioStats(h,u),p&&this.exceptionMonitor.setRemoteVideoStats(p,l)}))}}function sG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sG(Object(n),!0).forEach((function(t){iO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sG(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uG(e){if(!e.address||!e.tcp)throw new eN($k.UNEXPECTED_RESPONSE,"Invalid address format ".concat(e));return e.address.match(/^[\.\:\d]+$/)?"".concat(e.address.replace(/[^\d]/g,"-"),".edge.agora.io"):(uN.info("Cannot recognized as IP address ".concat(e.address,". Used As Host instead")),"".concat(e.address,":").concat(e.tcp))}function lG(e){return e.match(/^[\.\:\d]+$/)?"".concat(e.replace(/[^\d]/g,"-"),".").concat(KN("TURN_DOMAIN")):(uN.info("Cannot recognized as IP address ".concat(e,". Used As Host instead")),e)}function dG(e,t){var n,r;const i=KN("GATEWAY_DOMAINS");let o=i[1]&&-1!==t.indexOf(i[1])?1:0;e.addresses=e.addresses||[];const a=e.addresses.map((e=>e.domain_prefix?{address:"".concat(e.domain_prefix,".").concat(i[o++%i.length],":").concat(e.port)}:e.ip.match(/^[\.\:\d]+$/)?{ip:e.ip,port:e.port,address:"".concat(e.ip.replace(/[^\d]/g,"-"),".").concat(i[o++%i.length],":").concat(e.port)}:(uN.info("Cannot recognized as IP address ".concat(e.ip,". Used As Host instead")),{ip:e.ip,port:e.port,address:"".concat(e.ip,":").concat(e.port)})));if(null!==(n=e.detail)&&void 0!==n&&n[18]&&"string"==typeof(null===(r=e.detail)||void 0===r?void 0:r[18])){const t=e.detail[18],n=null==t?void 0:t.split(";");for(let e=0;e<n.length;e++){var s;const t=pT(s=n[e]).call(s);a[e]&&t&&(a[e].ip6=t)}}return{gatewayAddrs:a,uid:e.uid,cid:e.cid,vid:e.detail&&e.detail[8],uni_lbs_ip:e.detail&&e.detail[1],res:e,csIp:e.detail&&e.detail[502]}}function hG(e){return"number"==typeof e?e:e.exact||e.ideal||e.max||e.min||0}function pG(e){const t=e._encoderConfig;if(!t)return{};const n={resolution:t.width&&t.height?"".concat(hG(t.width),"x").concat(hG(t.height)):void 0,maxVideoBW:t.bitrateMax,minVideoBW:t.bitrateMin};return"number"==typeof t.frameRate?(n.maxFrameRate=t.frameRate,n.minFrameRate=t.frameRate):t.frameRate&&(n.maxFrameRate=t.frameRate.max||t.frameRate.ideal||t.frameRate.exact||t.frameRate.min,n.minFrameRate=t.frameRate.min||t.frameRate.ideal||t.frameRate.exact||t.frameRate.max),n}function fG(e,t,n){var r;const i=t.videoSend.find((t=>t.ssrc===e));if(!i)return null;const o=null==n||null===(r=n.videoSend.find((t=>t.ssrc===e)))||void 0===r?void 0:r.inputFrame,a={id:SG(10,""),timestamp:new Date(t.timestamp).toISOString(),mediaType:"video",type:"ssrc",ssrc:i.ssrc.toString()};return i.inputFrame&&(o&&i.inputFrame.height===o.height||(a.A_fhi=i.inputFrame.height?i.inputFrame.height.toString():"0"),o&&i.inputFrame.width===o.width||(a.A_fwi=i.inputFrame.width?i.inputFrame.width.toString():"0"),o&&i.inputFrame.frameRate===o.frameRate||(a.A_fri=i.inputFrame.frameRate?i.inputFrame.frameRate.toString():"0")),a}function AG(e){return e>=0&&e<.17?1:e>=.17&&e<.36?2:e>=.36&&e<.59?3:e>=.59&&e<=1?4:e>1?5:0}function gG(e,t){let n,r,i;switch(t){case FU.CHOOSE_SERVER:n=4096,r="choose server";break;case FU.CLOUD_PROXY:n=1048576,r="proxy";break;case FU.CLOUD_PROXY_5:n=4194304,r="proxy5";break;case FU.CLOUD_PROXY_FALLBACK:n=4194310,r="proxy fallback";break;default:throw new eN($k.UNEXPECTED_ERROR,"multi unlibs response transformer get unknown service id",{csIp:e.detail&&e.detail[502],retry:!1})}if(e.response_body.forEach((t=>{t.buffer&&t.buffer.flag===n&&(i={code:t.buffer.code,addresses:(t.buffer.edges_services||[]).map((e=>cG(cG({},e),{},{ticket:t.buffer.cert}))),server_ts:e.enter_ts,uid:t.buffer.uid,cid:t.buffer.cid,cname:t.buffer.cname,detail:cG(cG({},t.buffer.detail),e.detail),flag:t.buffer.flag,opid:e.opid})})),!i)throw new eN($k.MULTI_UNILBS_RESPONSE_ERROR,"cannot parse response ".concat(r," from multi unilbs response"),{csIp:e.detail&&e.detail[502]});return i}async function mG(e,t){return await LC.all(e.addresses.map((async e=>({address:lG(e.ip),tcpport:e.port,udpport:e.port,username:t&&KN("ENCRYPT_PROXY_USERNAME_AND_PSW")&&window.isSecureContext?t.toString():FN.username,password:t&&KN("ENCRYPT_PROXY_USERNAME_AND_PSW")&&window.isSecureContext?await pV(t.toString()):FN.password}))))}function vG(e,t){const n=t._videoWidth||t.getMediaStreamTrack(!0).getSettings().width;return n||uN.warning("cannot get original video track's width, default scale down 4 times for low stream"),n?n/hG(e.width):4}function yG(e){let{candidateType:t,relayProtocol:n,type:r,address:i,port:o,protocol:a}=e;return"local-candidate"===r?{candidateType:t,relayProtocol:n,protocol:a}:{candidateType:t,relayProtocol:n,address:i,port:o,protocol:a}}function EG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EG(Object(n),!0).forEach((function(t){iO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EG(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _G(e){return window.TextEncoder?(new TextEncoder).encode(e).length:e.length}function CG(e){return new LC((t=>{window.setTimeout(t,e)}))}function IG(e){const t=new eN($k.TIMEOUT,"timeout");return new LC(((n,r)=>{window.setTimeout((()=>r(t)),e)}))}function SG(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,t=arguments.length>1?arguments[1]:void 0;const n=Math.random().toString(16).substr(2,e).toLowerCase();return n.length===e?"".concat(t).concat(n):"".concat(t).concat(n)+SG(e-n.length,"")}function wG(){return SG(32,"").toUpperCase()}const RG=()=>{};function TG(e){return new LC(((t,n)=>{let r=!1;const i=document.createElement("video");i.setAttribute("autoplay",""),i.setAttribute("muted",""),i.muted=!0,i.autoplay=!0,i.setAttribute("playsinline",""),i.setAttribute("style","position: fixed; top: 0; left: 0; width: 1px; height: 1px"),document.body.appendChild(i);const o=FT()?"canplay":"playing";i.addEventListener(o,(()=>{const e=i.videoWidth,n=i.videoHeight;!e&&BT()||(r=!0,i.srcObject=null,i.remove(),t([e,n]))})),i.srcObject=new MediaStream([e]),i.play().catch(RG),setTimeout((()=>{r||(i.srcObject=null,i.remove(),t([i.videoWidth,i.videoHeight]))}),4e3)}))}function OG(e){return LC.all(e.map((e=>e.then((e=>{throw e}),(e=>e))))).then((e=>{throw e}),(e=>e))}function kG(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return 0===e.getListeners(t).length?LC.reject(new eN($k.UNEXPECTED_ERROR,"can not emit promise")):new LC(((n,i)=>{e.emit(t,...r,n,i)}))}function NG(e,t){if(0===e.getListeners(t).length)return LC.resolve();for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return kG(e,t,...r)}function DG(e,t){if(0===e.getListeners(t).length)return null;for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return PG(e,t,...r)}function PG(e,t){let n=null,r=null;for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];if(e.emit(t,...o,(e=>{n=e}),(e=>{r=e})),null!==r)throw r;if(null===n)throw new eN($k.UNEXPECTED_ERROR,"handler is not sync");return n}function xG(e,t){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}function LG(e){const t=[];return e.forEach((e=>{-1===t.indexOf(e)&&t.push(e)})),t}function MG(e){LC.resolve().then(e)}function BG(e){return JSON.parse(JSON.stringify(e))}const FG={};function UG(e,t){FG[t]||(FG[t]=!0,e())}function jG(e){const t=window.atob(e),n=new Uint8Array(new ArrayBuffer(t.length));for(let e=0;e<t.length;e+=1)n[e]=t.charCodeAt(e);return n}function VG(e){let t="";for(let n=0;n<e.length;n+=1)t+=String.fromCharCode(e[n]);return window.btoa(t)}const QG=new class{constructor(){iO(this,"fnMap",new Map)}throttleByKey(e,t,n,r){for(var i=arguments.length,o=new Array(i>4?i-4:0),a=4;a<i;a++)o[a-4]=arguments[a];if(this.fnMap.has(t)){const i=this.fnMap.get(t);if(i.threshold!==n){i.fn(...i.args),clearTimeout(i.timer);const a=window.setTimeout((()=>{const e=this.fnMap.get(t);e&&e.fn(...e.args),this.fnMap.delete(t)}),n);this.fnMap.set(t,{fn:e,threshold:n,timer:a,args:o,skipFn:r})}else i.skipFn&&i.skipFn(...i.args),this.fnMap.set(t,bG(bG({},i),{},{fn:e,args:o,skipFn:r}))}else{const i=window.setTimeout((()=>{const e=this.fnMap.get(t);e&&e.fn(...e.args),this.fnMap.delete(t)}),n);this.fnMap.set(t,{fn:e,threshold:n,timer:i,args:o,skipFn:r})}}},GG=QG.throttleByKey.bind(QG),qG=async e=>{let{fragementLength:t,referenceList:n,asyncMapHandler:r,allFailedhandler:i,promisesCollector:o}=e,a=0;const s=t;let c,u=0;const l=async()=>{const e=(()=>{const e=a*s,t=e+s;return n.slice(e,t).map(r)})();o&&o.push(...e);try{c=await OG(e)}catch(e){if(u+=s,a++,!(u>=n.length))return void await l();i(e)}e.forEach((e=>e.cancel()))};return await l(),c};function HG(e){return"object"==typeof e&&null!==e&&!(e instanceof RegExp)}var zG=_c,WG=Cl("iterator"),KG=!zG((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[WG]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host})),YG=jc,JG=Oc,ZG=Gc,XG=_c,$G=kg,eq=gg,tq=qc,nq=il,rq=au,iq=Object.assign,oq=Object.defineProperty,aq=JG([].concat),sq=!iq||XG((function(){if(YG&&1!==iq({b:1},iq(oq({},"a",{enumerable:!0,get:function(){oq(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=iq({},e)[n]||$G(iq({},t)).join("")!=r}))?function(e,t){for(var n=nq(e),r=arguments.length,i=1,o=eq.f,a=tq.f;r>i;)for(var s,c=rq(arguments[i++]),u=o?aq($G(c),o(c)):$G(c),l=u.length,d=0;l>d;)s=u[d++],YG&&!ZG(a,c,s)||(n[s]=c[s]);return n}:iq,cq=fd,uq=Pm,lq=sd,dq=Gc,hq=il,pq=function(e,t,n,r){try{return r?t(cq(n)[0],n[1]):t(n)}catch(t){uq(e,"throw",t)}},fq=sm,Aq=RE,gq=Gd,mq=sD,vq=Om,yq=_m,Eq=Dc.Array,bq=Oc,_q=2147483647,Cq=/[^\0-\u007E]/,Iq=/[.\u3002\uFF0E\uFF61]/g,Sq="Overflow: input needs wider integers to process",wq=Dc.RangeError,Rq=bq(Iq.exec),Tq=Math.floor,Oq=String.fromCharCode,kq=bq("".charCodeAt),Nq=bq([].join),Dq=bq([].push),Pq=bq("".replace),xq=bq("".split),Lq=bq("".toLowerCase),Mq=function(e){return e+22+75*(e<26)},Bq=function(e,t,n){var r=0;for(e=n?Tq(e/700):e>>1,e+=Tq(e/t);e>455;)e=Tq(e/35),r+=36;return Tq(r+36*e/(e+38))},Fq=function(e){var t,n,r=[],i=(e=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=kq(e,n++);if(i>=55296&&i<=56319&&n<r){var o=kq(e,n++);56320==(64512&o)?Dq(t,((1023&i)<<10)+(1023&o)+65536):(Dq(t,i),n--)}else Dq(t,i)}return t}(e)).length,o=128,a=0,s=72;for(t=0;t<e.length;t++)(n=e[t])<128&&Dq(r,Oq(n));var c=r.length,u=c;for(c&&Dq(r,"-");u<i;){var l=_q;for(t=0;t<e.length;t++)(n=e[t])>=o&&n<l&&(l=n);var d=u+1;if(l-o>Tq((_q-a)/d))throw wq(Sq);for(a+=(l-o)*d,o=l,t=0;t<e.length;t++){if((n=e[t])<o&&++a>_q)throw wq(Sq);if(n==o){for(var h=a,p=36;;){var f=p<=s?1:p>=s+26?26:p-s;if(h<f)break;var A=h-f,g=36-f;Dq(r,Oq(Mq(f+A%g))),h=Tq(A/g),p+=36}Dq(r,Oq(Mq(h))),s=Bq(a,d,u==c),a=0,u++}}a++,o++}return Nq(r,"")},Uq=Dc.TypeError,jq=Bd,Vq=Dc,Qq=yu,Gq=Gc,qq=Oc,Hq=KG,zq=ny,Wq=Xy,Kq=Ey,Yq=Ry,Jq=Kv,Zq=oE,Xq=Fc,$q=sl,eH=sd,tH=mm,nH=fd,rH=pu,iH=Jm,oH=Jg,aH=Jc,sH=Om,cH=_m,uH=function(e,t){if(e<t)throw Uq("Not enough arguments");return e},lH=yD,dH=Cl("iterator"),hH="URLSearchParams",pH="URLSearchParamsIterator",fH=Jq.set,AH=Jq.getterFor(hH),gH=Jq.getterFor(pH),mH=Qq("fetch"),vH=Qq("Request"),yH=Qq("Headers"),EH=vH&&vH.prototype,bH=yH&&yH.prototype,_H=Vq.RegExp,CH=Vq.TypeError,IH=Vq.decodeURIComponent,SH=Vq.encodeURIComponent,wH=qq("".charAt),RH=qq([].join),TH=qq([].push),OH=qq("".replace),kH=qq([].shift),NH=qq([].splice),DH=qq("".split),PH=qq("".slice),xH=/\+/g,LH=Array(4),MH=function(e){return LH[e-1]||(LH[e-1]=_H("((?:%[\\da-f]{2}){"+e+"})","gi"))},BH=function(e){try{return IH(e)}catch(t){return e}},FH=function(e){var t=OH(e,xH," "),n=4;try{return IH(t)}catch(e){for(;n;)t=OH(t,MH(n--),BH);return t}},UH=/[!'()~]|%20/g,jH={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},VH=function(e){return jH[e]},QH=function(e){return OH(SH(e),UH,VH)},GH=Yq((function(e,t){fH(this,{type:pH,iterator:sH(AH(e).entries),kind:t})}),"Iterator",(function(){var e=gH(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n}),!0),qH=function(e){this.entries=[],this.url=null,void 0!==e&&(rH(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===wH(e,0)?PH(e,1):e:iH(e)))};qH.prototype={type:hH,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,r,i,o,a,s,c=cH(e);if(c)for(n=(t=sH(e,c)).next;!(r=Gq(n,t)).done;){if(o=(i=sH(nH(r.value))).next,(a=Gq(o,i)).done||(s=Gq(o,i)).done||!Gq(o,i).done)throw CH("Expected sequence with length 2");TH(this.entries,{key:iH(a.value),value:iH(s.value)})}else for(var u in e)$q(e,u)&&TH(this.entries,{key:u,value:iH(e[u])})},parseQuery:function(e){if(e)for(var t,n,r=DH(e,"&"),i=0;i<r.length;)(t=r[i++]).length&&(n=DH(t,"="),TH(this.entries,{key:FH(kH(n)),value:FH(RH(n,"="))}))},serialize:function(){for(var e,t=this.entries,n=[],r=0;r<t.length;)e=t[r++],TH(n,QH(e.key)+"="+QH(e.value));return RH(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var HH=function(){Zq(this,zH),fH(this,new qH(arguments.length>0?arguments[0]:void 0))},zH=HH.prototype;if(Wq(zH,{append:function(e,t){uH(arguments.length,2);var n=AH(this);TH(n.entries,{key:iH(e),value:iH(t)}),n.updateURL()},delete:function(e){uH(arguments.length,1);for(var t=AH(this),n=t.entries,r=iH(e),i=0;i<n.length;)n[i].key===r?NH(n,i,1):i++;t.updateURL()},get:function(e){uH(arguments.length,1);for(var t=AH(this).entries,n=iH(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){uH(arguments.length,1);for(var t=AH(this).entries,n=iH(e),r=[],i=0;i<t.length;i++)t[i].key===n&&TH(r,t[i].value);return r},has:function(e){uH(arguments.length,1);for(var t=AH(this).entries,n=iH(e),r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){uH(arguments.length,1);for(var n,r=AH(this),i=r.entries,o=!1,a=iH(e),s=iH(t),c=0;c<i.length;c++)(n=i[c]).key===a&&(o?NH(i,c--,1):(o=!0,n.value=s));o||TH(i,{key:a,value:s}),r.updateURL()},sort:function(){var e=AH(this);lH(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,n=AH(this).entries,r=eH(e,arguments.length>1?arguments[1]:void 0),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new GH(this,"keys")},values:function(){return new GH(this,"values")},entries:function(){return new GH(this,"entries")}},{enumerable:!0}),zq(zH,dH,zH.entries,{name:"entries"}),zq(zH,"toString",(function(){return AH(this).serialize()}),{enumerable:!0}),Kq(HH,hH),jq({global:!0,forced:!Hq},{URLSearchParams:HH}),!Hq&&Xq(yH)){var WH=qq(bH.has),KH=qq(bH.set),YH=function(e){if(rH(e)){var t,n=e.body;if(tH(n)===hH)return t=e.headers?new yH(e.headers):new yH,WH(t,"content-type")||KH(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),oH(e,{body:aH(0,iH(n)),headers:aH(0,t)})}return e};if(Xq(mH)&&jq({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return mH(e,arguments.length>1?YH(arguments[1]):{})}}),Xq(vH)){var JH=function(e){return Zq(this,EH),new vH(e,arguments.length>1?YH(arguments[1]):{})};EH.constructor=JH,JH.prototype=EH,jq({global:!0,forced:!0},{Request:JH})}}var ZH,XH={URLSearchParams:HH,getState:AH},$H=Bd,ez=jc,tz=KG,nz=Dc,rz=sd,iz=Oc,oz=Rg.f,az=ny,sz=oE,cz=sl,uz=sq,lz=function(e){var t=hq(e),n=Aq(this),r=arguments.length,i=r>1?arguments[1]:void 0,o=void 0!==i;o&&(i=lq(i,r>2?arguments[2]:void 0));var a,s,c,u,l,d,h=yq(t),p=0;if(!h||this==Eq&&fq(h))for(a=gq(t),s=n?new this(a):Eq(a);a>p;p++)d=o?i(t[p],p):t[p],mq(s,p,d);else for(l=(u=vq(t,h)).next,s=n?new this:[];!(c=dq(l,u)).done;p++)d=o?pq(u,i,[c.value,p],!0):c.value,mq(s,p,d);return s.length=p,s},dz=pD,hz=mC.codeAt,pz=Jm,fz=Ey,Az=XH,gz=Kv,mz=gz.set,vz=gz.getterFor("URL"),yz=Az.URLSearchParams,Ez=Az.getState,bz=nz.URL,_z=nz.TypeError,Cz=nz.parseInt,Iz=Math.floor,Sz=Math.pow,wz=iz("".charAt),Rz=iz(/./.exec),Tz=iz([].join),Oz=iz(1..toString),kz=iz([].pop),Nz=iz([].push),Dz=iz("".replace),Pz=iz([].shift),xz=iz("".split),Lz=iz("".slice),Mz=iz("".toLowerCase),Bz=iz([].unshift),Fz="Invalid scheme",Uz="Invalid host",jz="Invalid port",Vz=/[a-z]/i,Qz=/[\d+-.a-z]/i,Gz=/\d/,qz=/^0x/i,Hz=/^[0-7]+$/,zz=/^\d+$/,Wz=/^[\da-f]+$/i,Kz=/[\0\t\n\r #%/:<>?@[\\\]^|]/,Yz=/[\0\t\n\r #/:<>?@[\\\]^|]/,Jz=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,Zz=/[\t\n\r]/g,Xz=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)Bz(t,e%256),e=Iz(e/256);return Tz(t,".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,i=0,o=0;o<8;o++)0!==e[o]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(t=r,n=i),t}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=Oz(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},$z={},eW=uz({},$z,{" ":1,'"':1,"<":1,">":1,"`":1}),tW=uz({},eW,{"#":1,"?":1,"{":1,"}":1}),nW=uz({},tW,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),rW=function(e,t){var n=hz(e,0);return n>32&&n<127&&!cz(t,e)?e:encodeURIComponent(e)},iW={ftp:21,file:null,http:80,https:443,ws:80,wss:443},oW=function(e,t){var n;return 2==e.length&&Rz(Vz,wz(e,0))&&(":"==(n=wz(e,1))||!t&&"|"==n)},aW=function(e){var t;return e.length>1&&oW(Lz(e,0,2))&&(2==e.length||"/"===(t=wz(e,2))||"\\"===t||"?"===t||"#"===t)},sW=function(e){return"."===e||"%2e"===Mz(e)},cW={},uW={},lW={},dW={},hW={},pW={},fW={},AW={},gW={},mW={},vW={},yW={},EW={},bW={},_W={},CW={},IW={},SW={},wW={},RW={},TW={},OW=function(e,t,n){var r,i,o,a=pz(e);if(t){if(i=this.parse(a))throw _z(i);this.searchParams=null}else{if(void 0!==n&&(r=new OW(n,!0)),i=this.parse(a,null,r))throw _z(i);(o=Ez(new yz)).bindURL(this),this.searchParams=o}};OW.prototype={type:"URL",parse:function(e,t,n){var r,i,o,a,s,c=this,u=t||cW,l=0,d="",h=!1,p=!1,f=!1;for(e=pz(e),t||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,e=Dz(e,Jz,"")),e=Dz(e,Zz,""),r=lz(e);l<=r.length;){switch(i=r[l],u){case cW:if(!i||!Rz(Vz,i)){if(t)return Fz;u=lW;continue}d+=Mz(i),u=uW;break;case uW:if(i&&(Rz(Qz,i)||"+"==i||"-"==i||"."==i))d+=Mz(i);else{if(":"!=i){if(t)return Fz;d="",u=lW,l=0;continue}if(t&&(c.isSpecial()!=cz(iW,d)||"file"==d&&(c.includesCredentials()||null!==c.port)||"file"==c.scheme&&!c.host))return;if(c.scheme=d,t)return void(c.isSpecial()&&iW[c.scheme]==c.port&&(c.port=null));d="","file"==c.scheme?u=bW:c.isSpecial()&&n&&n.scheme==c.scheme?u=dW:c.isSpecial()?u=AW:"/"==r[l+1]?(u=hW,l++):(c.cannotBeABaseURL=!0,Nz(c.path,""),u=wW)}break;case lW:if(!n||n.cannotBeABaseURL&&"#"!=i)return Fz;if(n.cannotBeABaseURL&&"#"==i){c.scheme=n.scheme,c.path=dz(n.path),c.query=n.query,c.fragment="",c.cannotBeABaseURL=!0,u=TW;break}u="file"==n.scheme?bW:pW;continue;case dW:if("/"!=i||"/"!=r[l+1]){u=pW;continue}u=gW,l++;break;case hW:if("/"==i){u=mW;break}u=SW;continue;case pW:if(c.scheme=n.scheme,i==ZH)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=dz(n.path),c.query=n.query;else if("/"==i||"\\"==i&&c.isSpecial())u=fW;else if("?"==i)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=dz(n.path),c.query="",u=RW;else{if("#"!=i){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=dz(n.path),c.path.length--,u=SW;continue}c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=dz(n.path),c.query=n.query,c.fragment="",u=TW}break;case fW:if(!c.isSpecial()||"/"!=i&&"\\"!=i){if("/"!=i){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,u=SW;continue}u=mW}else u=gW;break;case AW:if(u=gW,"/"!=i||"/"!=wz(d,l+1))continue;l++;break;case gW:if("/"!=i&&"\\"!=i){u=mW;continue}break;case mW:if("@"==i){h&&(d="%40"+d),h=!0,o=lz(d);for(var A=0;A<o.length;A++){var g=o[A];if(":"!=g||f){var m=rW(g,nW);f?c.password+=m:c.username+=m}else f=!0}d=""}else if(i==ZH||"/"==i||"?"==i||"#"==i||"\\"==i&&c.isSpecial()){if(h&&""==d)return"Invalid authority";l-=lz(d).length+1,d="",u=vW}else d+=i;break;case vW:case yW:if(t&&"file"==c.scheme){u=CW;continue}if(":"!=i||p){if(i==ZH||"/"==i||"?"==i||"#"==i||"\\"==i&&c.isSpecial()){if(c.isSpecial()&&""==d)return Uz;if(t&&""==d&&(c.includesCredentials()||null!==c.port))return;if(a=c.parseHost(d))return a;if(d="",u=IW,t)return;continue}"["==i?p=!0:"]"==i&&(p=!1),d+=i}else{if(""==d)return Uz;if(a=c.parseHost(d))return a;if(d="",u=EW,t==yW)return}break;case EW:if(!Rz(Gz,i)){if(i==ZH||"/"==i||"?"==i||"#"==i||"\\"==i&&c.isSpecial()||t){if(""!=d){var v=Cz(d,10);if(v>65535)return jz;c.port=c.isSpecial()&&v===iW[c.scheme]?null:v,d=""}if(t)return;u=IW;continue}return jz}d+=i;break;case bW:if(c.scheme="file","/"==i||"\\"==i)u=_W;else{if(!n||"file"!=n.scheme){u=SW;continue}if(i==ZH)c.host=n.host,c.path=dz(n.path),c.query=n.query;else if("?"==i)c.host=n.host,c.path=dz(n.path),c.query="",u=RW;else{if("#"!=i){aW(Tz(dz(r,l),""))||(c.host=n.host,c.path=dz(n.path),c.shortenPath()),u=SW;continue}c.host=n.host,c.path=dz(n.path),c.query=n.query,c.fragment="",u=TW}}break;case _W:if("/"==i||"\\"==i){u=CW;break}n&&"file"==n.scheme&&!aW(Tz(dz(r,l),""))&&(oW(n.path[0],!0)?Nz(c.path,n.path[0]):c.host=n.host),u=SW;continue;case CW:if(i==ZH||"/"==i||"\\"==i||"?"==i||"#"==i){if(!t&&oW(d))u=SW;else if(""==d){if(c.host="",t)return;u=IW}else{if(a=c.parseHost(d))return a;if("localhost"==c.host&&(c.host=""),t)return;d="",u=IW}continue}d+=i;break;case IW:if(c.isSpecial()){if(u=SW,"/"!=i&&"\\"!=i)continue}else if(t||"?"!=i)if(t||"#"!=i){if(i!=ZH&&(u=SW,"/"!=i))continue}else c.fragment="",u=TW;else c.query="",u=RW;break;case SW:if(i==ZH||"/"==i||"\\"==i&&c.isSpecial()||!t&&("?"==i||"#"==i)){if(".."===(s=Mz(s=d))||"%2e."===s||".%2e"===s||"%2e%2e"===s?(c.shortenPath(),"/"==i||"\\"==i&&c.isSpecial()||Nz(c.path,"")):sW(d)?"/"==i||"\\"==i&&c.isSpecial()||Nz(c.path,""):("file"==c.scheme&&!c.path.length&&oW(d)&&(c.host&&(c.host=""),d=wz(d,0)+":"),Nz(c.path,d)),d="","file"==c.scheme&&(i==ZH||"?"==i||"#"==i))for(;c.path.length>1&&""===c.path[0];)Pz(c.path);"?"==i?(c.query="",u=RW):"#"==i&&(c.fragment="",u=TW)}else d+=rW(i,tW);break;case wW:"?"==i?(c.query="",u=RW):"#"==i?(c.fragment="",u=TW):i!=ZH&&(c.path[0]+=rW(i,$z));break;case RW:t||"#"!=i?i!=ZH&&("'"==i&&c.isSpecial()?c.query+="%27":c.query+="#"==i?"%23":rW(i,$z)):(c.fragment="",u=TW);break;case TW:i!=ZH&&(c.fragment+=rW(i,eW))}l++}},parseHost:function(e){var t,n,r;if("["==wz(e,0)){if("]"!=wz(e,e.length-1))return Uz;if(!(t=function(e){var t,n,r,i,o,a,s,c=[0,0,0,0,0,0,0,0],u=0,l=null,d=0,h=function(){return wz(e,d)};if(":"==h()){if(":"!=wz(e,1))return;d+=2,l=++u}for(;h();){if(8==u)return;if(":"!=h()){for(t=n=0;n<4&&Rz(Wz,h());)t=16*t+Cz(h(),16),d++,n++;if("."==h()){if(0==n)return;if(d-=n,u>6)return;for(r=0;h();){if(i=null,r>0){if(!("."==h()&&r<4))return;d++}if(!Rz(Gz,h()))return;for(;Rz(Gz,h());){if(o=Cz(h(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;d++}c[u]=256*c[u]+i,2!=++r&&4!=r||u++}if(4!=r)return;break}if(":"==h()){if(d++,!h())return}else if(h())return;c[u++]=t}else{if(null!==l)return;d++,l=++u}}if(null!==l)for(a=u-l,u=7;0!=u&&a>0;)s=c[u],c[u--]=c[l+a-1],c[l+--a]=s;else if(8!=u)return;return c}(Lz(e,1,-1))))return Uz;this.host=t}else if(this.isSpecial()){if(e=function(e){var t,n,r=[],i=xq(Pq(Lq(e),Iq,"."),".");for(t=0;t<i.length;t++)n=i[t],Dq(r,Rq(Cq,n)?"xn--"+Fq(n):n);return Nq(r,".")}(e),Rz(Kz,e))return Uz;if(null===(t=function(e){var t,n,r,i,o,a,s,c=xz(e,".");if(c.length&&""==c[c.length-1]&&c.length--,(t=c.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(i=c[r]))return e;if(o=10,i.length>1&&"0"==wz(i,0)&&(o=Rz(qz,i)?16:8,i=Lz(i,8==o?1:2)),""===i)a=0;else{if(!Rz(10==o?zz:8==o?Hz:Wz,i))return e;a=Cz(i,o)}Nz(n,a)}for(r=0;r<t;r++)if(a=n[r],r==t-1){if(a>=Sz(256,5-t))return null}else if(a>255)return null;for(s=kz(n),r=0;r<n.length;r++)s+=n[r]*Sz(256,3-r);return s}(e)))return Uz;this.host=t}else{if(Rz(Yz,e))return Uz;for(t="",n=lz(e),r=0;r<n.length;r++)t+=rW(n[r],$z);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return cz(iW,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&oW(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,r=e.password,i=e.host,o=e.port,a=e.path,s=e.query,c=e.fragment,u=t+":";return null!==i?(u+="//",e.includesCredentials()&&(u+=n+(r?":"+r:"")+"@"),u+=Xz(i),null!==o&&(u+=":"+o)):"file"==t&&(u+="//"),u+=e.cannotBeABaseURL?a[0]:a.length?"/"+Tz(a,"/"):"",null!==s&&(u+="?"+s),null!==c&&(u+="#"+c),u},setHref:function(e){var t=this.parse(e);if(t)throw _z(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new kW(e.path[0]).origin}catch(e){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+Xz(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(pz(e)+":",cW)},getUsername:function(){return this.username},setUsername:function(e){var t=lz(pz(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=rW(t[n],nW)}},getPassword:function(){return this.password},setPassword:function(e){var t=lz(pz(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=rW(t[n],nW)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?Xz(e):Xz(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,vW)},getHostname:function(){var e=this.host;return null===e?"":Xz(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,yW)},getPort:function(){var e=this.port;return null===e?"":pz(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=pz(e))?this.port=null:this.parse(e,EW))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+Tz(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,IW))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=pz(e))?this.query=null:("?"==wz(e,0)&&(e=Lz(e,1)),this.query="",this.parse(e,RW)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!=(e=pz(e))?("#"==wz(e,0)&&(e=Lz(e,1)),this.fragment="",this.parse(e,TW)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var kW=function(e){var t=sz(this,NW),n=mz(t,new OW(e,!1,arguments.length>1?arguments[1]:void 0));ez||(t.href=n.serialize(),t.origin=n.getOrigin(),t.protocol=n.getProtocol(),t.username=n.getUsername(),t.password=n.getPassword(),t.host=n.getHost(),t.hostname=n.getHostname(),t.port=n.getPort(),t.pathname=n.getPathname(),t.search=n.getSearch(),t.searchParams=n.getSearchParams(),t.hash=n.getHash())},NW=kW.prototype,DW=function(e,t){return{get:function(){return vz(this)[e]()},set:t&&function(e){return vz(this)[t](e)},configurable:!0,enumerable:!0}};if(ez&&oz(NW,{href:DW("serialize","setHref"),origin:DW("getOrigin"),protocol:DW("getProtocol","setProtocol"),username:DW("getUsername","setUsername"),password:DW("getPassword","setPassword"),host:DW("getHost","setHost"),hostname:DW("getHostname","setHostname"),port:DW("getPort","setPort"),pathname:DW("getPathname","setPathname"),search:DW("getSearch","setSearch"),searchParams:DW("getSearchParams"),hash:DW("getHash","setHash")}),az(NW,"toJSON",(function(){return vz(this).serialize()}),{enumerable:!0}),az(NW,"toString",(function(){return vz(this).serialize()}),{enumerable:!0}),bz){var PW=bz.createObjectURL,xW=bz.revokeObjectURL;PW&&az(kW,"createObjectURL",rz(PW,bz)),xW&&az(kW,"revokeObjectURL",rz(xW,bz))}fz(kW,"URL"),$H({global:!0,forced:!tz,sham:!ez},{URL:kW});var LW=fu.URL;const MW={[_P.ACCESS_POINT]:{[SP.NO_FLAG_SET]:{desc:"flag is zero",retry:!1},[SP.FLAG_SET_BUT_EMPTY]:{desc:"flag is empty",retry:!1},[SP.INVALID_FALG_SET]:{desc:"invalid flag",retry:!1},[SP.FLAG_SET_BUT_NO_RE]:{desc:"flag set unilbs but no request",retry:!1},[SP.INVALID_SERVICE_ID]:{desc:"invalid service id",retry:!1},[SP.NO_SERVICE_AVAILABLE]:{desc:"no service available",retry:!0},[SP.NO_SERVICE_AVAILABLE_P2P]:{desc:"no unilbs p2p service available",retry:!0},[SP.NO_SERVICE_AVAILABLE_VOET]:{desc:"no unilbs voice service available",retry:!0},[SP.NO_SERVICE_AVAILABLE_WEBRTC]:{desc:"no unilbs webrtc service available",retry:!0},[SP.NO_SERVICE_AVAILABLE_CDS]:{desc:"no cds service available",retry:!0},[SP.NO_SERVICE_AVAILABLE_CDN]:{desc:"no cdn dispatcher service available",retry:!0},[SP.NO_SERVICE_AVAILABLE_TDS]:{desc:"no tds service available",retry:!0},[SP.NO_SERVICE_AVAILABLE_REPORT]:{desc:"no unilbs report service available",retry:!0},[SP.NO_SERVICE_AVAILABLE_APP_CENTER]:{desc:"no app center service available",retry:!0},[SP.NO_SERVICE_AVAILABLE_ENV0]:{desc:"no unilbs sig env0 service available",retry:!0},[SP.NO_SERVICE_AVAILABLE_VOET]:{desc:"no unilbs voet service available",retry:!0},[SP.NO_SERVICE_AVAILABLE_STRING_UID]:{desc:"no string uid service available",retry:!0},[SP.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS]:{desc:"no webrtc unilbs service available",retry:!0}},[_P.UNILBS]:{[IP.INVALID_VENDOR_KEY]:{desc:"invalid vendor key, can not find appid",retry:!1},[IP.INVALID_CHANNEL_NAME]:{desc:"invalid channel name",retry:!1},[IP.INTERNAL_ERROR]:{desc:"unilbs internal error",retry:!1},[IP.NO_AUTHORIZED]:{desc:"invalid token, authorized failed",retry:!1},[IP.DYNAMIC_KEY_TIMEOUT]:{desc:"dynamic key or token timeout",retry:!1},[IP.NO_ACTIVE_STATUS]:{desc:"no active status",retry:!1},[IP.DYNAMIC_KEY_EXPIRED]:{desc:"dynamic key expired",retry:!1},[IP.STATIC_USE_DYNAMIC_KEY]:{desc:"static use dynamic key",retry:!1},[IP.DYNAMIC_USE_STATIC_KEY]:{desc:"dynamic use static key",retry:!1},[IP.USER_OVERLOAD]:{desc:"amount of users over load",retry:!1},[IP.FORBIDDEN_REGION]:{desc:"the request is forbidden in this area",retry:!1},[IP.CANNOT_MEET_AREA_DEMAND]:{desc:"unable to allocate services in this area",retry:!1}},[_P.STRING_UID_ALLOCATOR]:{[CP.IIIEGAL_APPID]:{desc:"invalid appid",retry:!1},[CP.IIIEGAL_UID]:{desc:"invalid string uid",retry:!1},[CP.INTERNAL_ERROR]:{desc:"string uid allocator internal error",retry:!0}}};function BW(e){const t=MW[Math.floor(e/1e4)];if(!t)return{desc:"unkonw error",retry:!1};const n=t[e%1e4];if(!n){if(Math.floor(e/1e4)===_P.ACCESS_POINT){const t=e%1e4;if("1"===t.toString()[0])return{desc:e.toString(),retry:!1};if("2"===t.toString()[0])return{desc:e.toString(),retry:!0}}return{desc:"unkonw error",retry:!1}}return n}const FW={[wP.K_TIMESTAMP_EXPIRED]:{desc:"K_TIMESTAMP_EXPIRED",action:"failed"},[wP.K_CHANNEL_PERMISSION_INVALID]:{desc:"K_CHANNEL_PERMISSION_INVALID",action:"failed"},[wP.K_CERTIFICATE_INVALID]:{desc:"K_CERTIFICATE_INVALID",action:"failed"},[wP.K_CHANNEL_NAME_EMPTY]:{desc:"K_CHANNEL_NAME_EMPTY",action:"failed"},[wP.K_CHANNEL_NOT_FOUND]:{desc:"K_CHANNEL_NOT_FOUND",action:"failed"},[wP.K_TICKET_INVALID]:{desc:"K_TICKET_INVALID",action:"failed"},[wP.K_CHANNEL_CONFLICTED]:{desc:"K_CHANNEL_CONFLICTED",action:"failed"},[wP.K_SERVICE_NOT_READY]:{desc:"K_SERVICE_NOT_READY",action:"tryNext"},[wP.K_SERVICE_TOO_HEAVY]:{desc:"K_SERVICE_TOO_HEAVY",action:"tryNext"},[wP.K_UID_BANNED]:{desc:"K_UID_BANNED",action:"failed"},[wP.K_IP_BANNED]:{desc:"K_IP_BANNED",action:"failed"},[wP.ERR_INVALID_VENDOR_KEY]:{desc:"ERR_INVALID_VENDOR_KEY",action:"failed"},[wP.ERR_INVALID_CHANNEL_NAME]:{desc:"ERR_INVALID_CHANNEL_NAME",action:"failed"},[wP.WARN_NO_AVAILABLE_CHANNEL]:{desc:"WARN_NO_AVAILABLE_CHANNEL",action:"failed"},[wP.WARN_LOOKUP_CHANNEL_TIMEOUT]:{desc:"WARN_LOOKUP_CHANNEL_TIMEOUT",action:"tryNext"},[wP.WARN_LOOKUP_CHANNEL_REJECTED]:{desc:"WARN_LOOKUP_CHANNEL_REJECTED",action:"failed"},[wP.WARN_OPEN_CHANNEL_TIMEOUT]:{desc:"WARN_OPEN_CHANNEL_TIMEOUT",action:"tryNext"},[wP.WARN_OPEN_CHANNEL_REJECTED]:{desc:"WARN_OPEN_CHANNEL_REJECTED",action:"failed"},[wP.WARN_REQUEST_DEFERRED]:{desc:"WARN_REQUEST_DEFERRED",action:"failed"},[wP.ERR_DYNAMIC_KEY_TIMEOUT]:{desc:"ERR_DYNAMIC_KEY_TIMEOUT",action:"failed"},[wP.ERR_NO_AUTHORIZED]:{desc:"ERR_NO_AUTHORIZED",action:"failed"},[wP.ERR_VOM_SERVICE_UNAVAILABLE]:{desc:"ERR_VOM_SERVICE_UNAVAILABLE",action:"tryNext"},[wP.ERR_NO_CHANNEL_AVAILABLE_CODE]:{desc:"ERR_NO_CHANNEL_AVAILABLE_CODE",action:"failed"},[wP.ERR_MASTER_VOCS_UNAVAILABLE]:{desc:"ERR_MASTER_VOCS_UNAVAILABLE",action:"tryNext"},[wP.ERR_INTERNAL_ERROR]:{desc:"ERR_INTERNAL_ERROR",action:"tryNext"},[wP.ERR_NO_ACTIVE_STATUS]:{desc:"ERR_NO_ACTIVE_STATUS",action:"failed"},[wP.ERR_INVALID_UID]:{desc:"ERR_INVALID_UID",action:"failed"},[wP.ERR_DYNAMIC_KEY_EXPIRED]:{desc:"ERR_DYNAMIC_KEY_EXPIRED",action:"failed"},[wP.ERR_STATIC_USE_DYANMIC_KE]:{desc:"ERR_STATIC_USE_DYANMIC_KE",action:"failed"},[wP.ERR_DYNAMIC_USE_STATIC_KE]:{desc:"ERR_DYNAMIC_USE_STATIC_KE",action:"failed"},[wP.ERR_NO_VOCS_AVAILABLE]:{desc:"ERR_NO_VOCS_AVAILABLE",action:"tryNext"},[wP.ERR_NO_VOS_AVAILABLE]:{desc:"ERR_NO_VOS_AVAILABLE",action:"tryNext"},[wP.ERR_JOIN_CHANNEL_TIMEOUT]:{desc:"ERR_JOIN_CHANNEL_TIMEOUT",action:"tryNext"},[wP.ERR_JOIN_BY_MULTI_IP]:{desc:"ERR_JOIN_BY_MULTI_IP",action:"recover"},[wP.ERR_NOT_JOINED]:{desc:"ERR_NOT_JOINED",action:"failed"},[wP.ERR_REPEAT_JOIN_REQUEST]:{desc:"ERR_REPEAT_JOIN_REQUEST",action:"quit"},[wP.ERR_REPEAT_JOIN_CHANNEL]:{desc:"ERR_REPEAT_JOIN_CHANNEL",action:"quit"},[wP.ERR_INVALID_VENDOR_KEY]:{desc:"ERR_INVALID_VENDOR_KEY",action:"failed"},[wP.ERR_INVALID_CHANNEL_NAME]:{desc:"ERR_INVALID_CHANNEL_NAME",action:"failed"},[wP.ERR_INVALID_STRINGUID]:{desc:"ERR_INVALID_STRINGUID",action:"failed"},[wP.ERR_TOO_MANY_USERS]:{desc:"ERR_TOO_MANY_USERS",action:"tryNext"},[wP.ERR_SET_CLIENT_ROLE_TIMEOUT]:{desc:"ERR_SET_CLIENT_ROLE_TIMEOUT",action:"failed"},[wP.ERR_SET_CLIENT_ROLE_NO_PERMISSION]:{desc:"ERR_SET_CLIENT_ROLE_TIMEOUT",action:"failed"},[wP.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE]:{desc:"ERR_SET_CLIENT_ROLE_ALREADY_IN_USE",action:"success"},[wP.ERR_PUBLISH_REQUEST_INVALID]:{desc:"ERR_PUBLISH_REQUEST_INVALID",action:"failed"},[wP.ERR_SUBSCRIBE_REQUEST_INVALID]:{desc:"ERR_SUBSCRIBE_REQUEST_INVALID",action:"failed"},[wP.ERR_NOT_SUPPORTED_MESSAGE]:{desc:"ERR_NOT_SUPPORTED_MESSAGE",action:"failed"},[wP.ERR_ILLEAGAL_PLUGIN]:{desc:"ERR_ILLEAGAL_PLUGIN",action:"failed"},[wP.ILLEGAL_CLIENT_ROLE_LEVEL]:{desc:"ILLEGAL_CLIENT_ROLE_LEVEL",action:"failed"},[wP.ERR_REJOIN_TOKEN_INVALID]:{desc:"ERR_REJOIN_TOKEN_INVALID",action:"failed"},[wP.ERR_REJOIN_USER_NOT_JOINED]:{desc:"ERR_REJOIN_NOT_JOINED",action:"failed"},[wP.ERR_INVALID_OPTIONAL_INFO]:{desc:"ERR_INVALID_OPTIONAL_INFO",action:"quit"},[wP.ERR_TEST_RECOVER]:{desc:"ERR_TEST_RECOVER",action:"recover"},[wP.ERR_TEST_TRYNEXT]:{desc:"ERR_TEST_TRYNEXT",action:"recover"},[wP.ERR_TEST_RETRY]:{desc:"ERR_TEST_RETRY",action:"recover"},[wP.ILLEGAL_AES_PASSWORD]:{desc:"ERR_TEST_RETRY",action:"failed"},[wP.ERR_TOO_MANY_BROADCASTERS]:{desc:"ERR_TOO_MANY_BROADCASTERS",action:"failed"},[wP.ERR_TOO_MANY_SUBSCRIBERS]:{desc:"ERR_TOO_MANY_SUBSCRIBERS",action:"failed"},[wP.ERR_LICENSE_ILLEGAL]:{desc:"ERR_LICENSE_ILLEGAL",action:"quit"},[wP.ERR_LICENSE_MISSING]:{desc:"ERR_LICENSE_MISSING",action:"quit"},[wP.ERR_LICENSE_EXPIRED]:{desc:"ERR_LICENSE_EXPIRED",action:"quit"},[wP.ERR_LICENSE_MINUTES_EXCEEDED]:{desc:"ERR_LICENSE_MINUTES_EXCEEDED",action:"quit"},[wP.ERR_LICENSE_PERIOD_INVALID]:{desc:"ERR_LICENSE_PERIOD_INVALID",action:"quit"},[wP.ERR_LICENSE_MULTIPLE_SDK_SERVICE]:{desc:"ERR_LICENSE_MULTIPLE_SDK_SERVICE",action:"quit"}};function UW(e){return FW[e]||{desc:"UNKNOW_ERROR_".concat(e),action:"failed"}}var jW={exports:{}};!function(e,t){e.exports=function(){var e={d:function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{DataViewIndexOutOfBoundsError:function(){return j},DecodeError:function(){return v},Decoder:function(){return G},EXT_TIMESTAMP:function(){return y},Encoder:function(){return O},ExtData:function(){return g},ExtensionCodec:function(){return w},decode:function(){return H},decodeArrayStream:function(){return $},decodeAsync:function(){return X},decodeMulti:function(){return z},decodeMultiStream:function(){return ee},decodeStream:function(){return te},decodeTimestampExtension:function(){return I},decodeTimestampToTimeSpec:function(){return C},encode:function(){return N},encodeDateToTimeSpec:function(){return b},encodeTimeSpecToTimestamp:function(){return E},encodeTimestampExtension:function(){return _}});var n=4294967295;function r(e,t,n){var r=Math.floor(n/4294967296),i=n;e.setUint32(t,r),e.setUint32(t+4,i)}function i(e,t){return 4294967296*e.getInt32(t)+e.getUint32(t+4)}var o=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},a=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},s="undefined"!=typeof TextEncoder&&"undefined"!=typeof TextDecoder;function c(e){for(var t=e.length,n=0,r=0;r<t;){var i=e.charCodeAt(r++);if(0!=(4294967168&i))if(0==(4294965248&i))n+=2;else{if(i>=55296&&i<=56319&&r<t){var o=e.charCodeAt(r);56320==(64512&o)&&(++r,i=((1023&i)<<10)+(1023&o)+65536)}n+=0==(4294901760&i)?3:4}else n++}return n}var u=s?new TextEncoder:void 0,l=s?"undefined"!=typeof process?200:0:n,d=(null==u?void 0:u.encodeInto)?function(e,t,n){u.encodeInto(e,t.subarray(n))}:function(e,t,n){t.set(u.encode(e),n)};function h(e,t,n){for(var r=t,i=r+n,s=[],c="";r<i;){var u=e[r++];if(0==(128&u))s.push(u);else if(192==(224&u)){var l=63&e[r++];s.push((31&u)<<6|l)}else if(224==(240&u)){l=63&e[r++];var d=63&e[r++];s.push((31&u)<<12|l<<6|d)}else if(240==(248&u)){var h=(7&u)<<18|(l=63&e[r++])<<12|(d=63&e[r++])<<6|63&e[r++];h>65535&&(h-=65536,s.push(h>>>10&1023|55296),h=56320|1023&h),s.push(h)}else s.push(u);s.length>=4096&&(c+=String.fromCharCode.apply(String,a([],o(s))),s.length=0)}return s.length>0&&(c+=String.fromCharCode.apply(String,a([],o(s)))),c}var p,f=s?new TextDecoder:null,A=s?"undefined"!=typeof process?200:0:n,g=function(e,t){this.type=e,this.data=t},m=(p=function(e,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}p(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),v=function(e){function t(n){var r=e.call(this,n)||this,i=Object.create(t.prototype);return Object.setPrototypeOf(r,i),Object.defineProperty(r,"name",{configurable:!0,enumerable:!1,value:t.name}),r}return m(t,e),t}(Error),y=-1;function E(e){var t,n=e.sec,i=e.nsec;if(n>=0&&i>=0&&n<=17179869183){if(0===i&&n<=4294967295){var o=new Uint8Array(4);return(t=new DataView(o.buffer)).setUint32(0,n),o}var a=n/4294967296,s=4294967295&n;return o=new Uint8Array(8),(t=new DataView(o.buffer)).setUint32(0,i<<2|3&a),t.setUint32(4,s),o}return o=new Uint8Array(12),(t=new DataView(o.buffer)).setUint32(0,i),r(t,4,n),o}function b(e){var t=e.getTime(),n=Math.floor(t/1e3),r=1e6*(t-1e3*n),i=Math.floor(r/1e9);return{sec:n+i,nsec:r-1e9*i}}function _(e){return e instanceof Date?E(b(e)):null}function C(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:var n=t.getUint32(0);return{sec:4294967296*(3&n)+t.getUint32(4),nsec:n>>>2};case 12:return{sec:i(t,4),nsec:t.getUint32(0)};default:throw new v("Unrecognized data size for timestamp (expected 4, 8, or 12): "+e.length)}}function I(e){var t=C(e);return new Date(1e3*t.sec+t.nsec/1e6)}var S={type:y,encode:_,decode:I},w=function(){function e(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(S)}return e.prototype.register=function(e){var t=e.type,n=e.encode,r=e.decode;if(t>=0)this.encoders[t]=n,this.decoders[t]=r;else{var i=1+t;this.builtInEncoders[i]=n,this.builtInDecoders[i]=r}},e.prototype.tryToEncode=function(e,t){for(var n=0;n<this.builtInEncoders.length;n++)if(null!=(r=this.builtInEncoders[n])&&null!=(i=r(e,t)))return new g(-1-n,i);for(n=0;n<this.encoders.length;n++){var r,i;if(null!=(r=this.encoders[n])&&null!=(i=r(e,t)))return new g(n,i)}return e instanceof g?e:null},e.prototype.decode=function(e,t,n){var r=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return r?r(e,t,n):new g(t,e)},e.defaultCodec=new e,e}();function R(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Uint8Array.from(e)}var T=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},O=function(){function e(e,t,n,r,i,o,a,s){void 0===e&&(e=w.defaultCodec),void 0===t&&(t=void 0),void 0===n&&(n=100),void 0===r&&(r=2048),void 0===i&&(i=!1),void 0===o&&(o=!1),void 0===a&&(a=!1),void 0===s&&(s=!1),this.extensionCodec=e,this.context=t,this.maxDepth=n,this.initialBufferSize=r,this.sortKeys=i,this.forceFloat32=o,this.ignoreUndefined=a,this.forceIntegerToFloat=s,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return e.prototype.getUint8Array=function(){return this.bytes.subarray(0,this.pos)},e.prototype.reinitializeState=function(){this.pos=0},e.prototype.encode=function(e){return this.reinitializeState(),this.doEncode(e,1),this.getUint8Array()},e.prototype.doEncode=function(e,t){if(t>this.maxDepth)throw new Error("Too deep objects in depth "+t);null==e?this.encodeNil():"boolean"==typeof e?this.encodeBoolean(e):"number"==typeof e?this.encodeNumber(e):"string"==typeof e?this.encodeString(e):this.encodeObject(e,t)},e.prototype.ensureBufferSizeToWrite=function(e){var t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(2*t)},e.prototype.resizeBuffer=function(e){var t=new ArrayBuffer(e),n=new Uint8Array(t),r=new DataView(t);n.set(this.bytes),this.view=r,this.bytes=n},e.prototype.encodeNil=function(){this.writeU8(192)},e.prototype.encodeBoolean=function(e){!1===e?this.writeU8(194):this.writeU8(195)},e.prototype.encodeNumber=function(e){Number.isSafeInteger(e)&&!this.forceIntegerToFloat?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):(this.writeU8(211),this.writeI64(e)):this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))},e.prototype.writeStringHeader=function(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else{if(!(e<4294967296))throw new Error("Too long string: "+e+" bytes in UTF-8");this.writeU8(219),this.writeU32(e)}},e.prototype.encodeString=function(e){if(e.length>l){var t=c(e);this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),d(e,this.bytes,this.pos),this.pos+=t}else t=c(e),this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),function(e,t,n){for(var r=e.length,i=n,o=0;o<r;){var a=e.charCodeAt(o++);if(0!=(4294967168&a)){if(0==(4294965248&a))t[i++]=a>>6&31|192;else{if(a>=55296&&a<=56319&&o<r){var s=e.charCodeAt(o);56320==(64512&s)&&(++o,a=((1023&a)<<10)+(1023&s)+65536)}0==(4294901760&a)?(t[i++]=a>>12&15|224,t[i++]=a>>6&63|128):(t[i++]=a>>18&7|240,t[i++]=a>>12&63|128,t[i++]=a>>6&63|128)}t[i++]=63&a|128}else t[i++]=a}}(e,this.bytes,this.pos),this.pos+=t},e.prototype.encodeObject=function(e,t){var n=this.extensionCodec.tryToEncode(e,this.context);if(null!=n)this.encodeExtension(n);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else{if("object"!=typeof e)throw new Error("Unrecognized object: "+Object.prototype.toString.apply(e));this.encodeMap(e,t)}},e.prototype.encodeBinary=function(e){var t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large binary: "+t);this.writeU8(198),this.writeU32(t)}var n=R(e);this.writeU8a(n)},e.prototype.encodeArray=function(e,t){var n,r,i=e.length;if(i<16)this.writeU8(144+i);else if(i<65536)this.writeU8(220),this.writeU16(i);else{if(!(i<4294967296))throw new Error("Too large array: "+i);this.writeU8(221),this.writeU32(i)}try{for(var o=T(e),a=o.next();!a.done;a=o.next()){var s=a.value;this.doEncode(s,t+1)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e.prototype.countWithoutUndefined=function(e,t){var n,r,i=0;try{for(var o=T(t),a=o.next();!a.done;a=o.next())void 0!==e[a.value]&&i++}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i},e.prototype.encodeMap=function(e,t){var n,r,i=Object.keys(e);this.sortKeys&&i.sort();var o=this.ignoreUndefined?this.countWithoutUndefined(e,i):i.length;if(o<16)this.writeU8(128+o);else if(o<65536)this.writeU8(222),this.writeU16(o);else{if(!(o<4294967296))throw new Error("Too large map object: "+o);this.writeU8(223),this.writeU32(o)}try{for(var a=T(i),s=a.next();!s.done;s=a.next()){var c=s.value,u=e[c];this.ignoreUndefined&&void 0===u||(this.encodeString(c),this.doEncode(u,t+1))}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}},e.prototype.encodeExtension=function(e){var t=e.data.length;if(1===t)this.writeU8(212);else if(2===t)this.writeU8(213);else if(4===t)this.writeU8(214);else if(8===t)this.writeU8(215);else if(16===t)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large extension object: "+t);this.writeU8(201),this.writeU32(t)}this.writeI8(e.type),this.writeU8a(e.data)},e.prototype.writeU8=function(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++},e.prototype.writeU8a=function(e){var t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t},e.prototype.writeI8=function(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++},e.prototype.writeU16=function(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2},e.prototype.writeI16=function(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2},e.prototype.writeU32=function(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4},e.prototype.writeI32=function(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4},e.prototype.writeF32=function(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4},e.prototype.writeF64=function(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8},e.prototype.writeU64=function(e){this.ensureBufferSizeToWrite(8),function(e,t,n){var r=n/4294967296,i=n;e.setUint32(t,r),e.setUint32(t+4,i)}(this.view,this.pos,e),this.pos+=8},e.prototype.writeI64=function(e){this.ensureBufferSizeToWrite(8),r(this.view,this.pos,e),this.pos+=8},e}(),k={};function N(e,t){return void 0===t&&(t=k),new O(t.extensionCodec,t.context,t.maxDepth,t.initialBufferSize,t.sortKeys,t.forceFloat32,t.ignoreUndefined,t.forceIntegerToFloat).encode(e)}function D(e){return(e<0?"-":"")+"0x"+Math.abs(e).toString(16).padStart(2,"0")}var P=function(){function e(e,t){void 0===e&&(e=16),void 0===t&&(t=16),this.maxKeyLength=e,this.maxLengthPerKey=t,this.hit=0,this.miss=0,this.caches=[];for(var n=0;n<this.maxKeyLength;n++)this.caches.push([])}return e.prototype.canBeCached=function(e){return e>0&&e<=this.maxKeyLength},e.prototype.find=function(e,t,n){var r,i,o=this.caches[n-1];try{e:for(var a=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(o),s=a.next();!s.done;s=a.next()){for(var c=s.value,u=c.bytes,l=0;l<n;l++)if(u[l]!==e[t+l])continue e;return c.str}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return null},e.prototype.store=function(e,t){var n=this.caches[e.length-1],r={bytes:e,str:t};n.length>=this.maxLengthPerKey?n[Math.random()*n.length|0]=r:n.push(r)},e.prototype.decode=function(e,t,n){var r=this.find(e,t,n);if(null!=r)return this.hit++,r;this.miss++;var i=h(e,t,n),o=Uint8Array.prototype.slice.call(e,t,t+n);return this.store(o,i),i},e}(),x=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},L=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}},M=function(e){return this instanceof M?(this.v=e,this):new M(e)},B=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof M?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function c(e){s("next",e)}function u(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}},F=new DataView(new ArrayBuffer(0)),U=new Uint8Array(F.buffer),j=function(){try{F.getInt8(0)}catch(e){return e.constructor}throw new Error("never reached")}(),V=new j("Insufficient data"),Q=new P,G=function(){function e(e,t,r,i,o,a,s,c){void 0===e&&(e=w.defaultCodec),void 0===t&&(t=void 0),void 0===r&&(r=n),void 0===i&&(i=n),void 0===o&&(o=n),void 0===a&&(a=n),void 0===s&&(s=n),void 0===c&&(c=Q),this.extensionCodec=e,this.context=t,this.maxStrLength=r,this.maxBinLength=i,this.maxArrayLength=o,this.maxMapLength=a,this.maxExtLength=s,this.keyDecoder=c,this.totalPos=0,this.pos=0,this.view=F,this.bytes=U,this.headByte=-1,this.stack=[]}return e.prototype.reinitializeState=function(){this.totalPos=0,this.headByte=-1,this.stack.length=0},e.prototype.setBuffer=function(e){this.bytes=R(e),this.view=function(e){if(e instanceof ArrayBuffer)return new DataView(e);var t=R(e);return new DataView(t.buffer,t.byteOffset,t.byteLength)}(this.bytes),this.pos=0},e.prototype.appendBuffer=function(e){if(-1!==this.headByte||this.hasRemaining(1)){var t=this.bytes.subarray(this.pos),n=R(e),r=new Uint8Array(t.length+n.length);r.set(t),r.set(n,t.length),this.setBuffer(r)}else this.setBuffer(e)},e.prototype.hasRemaining=function(e){return this.view.byteLength-this.pos>=e},e.prototype.createExtraByteError=function(e){var t=this.view,n=this.pos;return new RangeError("Extra "+(t.byteLength-n)+" of "+t.byteLength+" byte(s) found at buffer["+e+"]")},e.prototype.decode=function(e){this.reinitializeState(),this.setBuffer(e);var t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t},e.prototype.decodeMulti=function(e){return x(this,(function(t){switch(t.label){case 0:this.reinitializeState(),this.setBuffer(e),t.label=1;case 1:return this.hasRemaining(1)?[4,this.doDecodeSync()]:[3,3];case 2:return t.sent(),[3,1];case 3:return[2]}}))},e.prototype.decodeAsync=function(e){var t,n,r,i,o,a,s;return o=this,void 0,s=function(){var o,a,s,c,u,l,d,h;return x(this,(function(p){switch(p.label){case 0:o=!1,p.label=1;case 1:p.trys.push([1,6,7,12]),t=L(e),p.label=2;case 2:return[4,t.next()];case 3:if((n=p.sent()).done)return[3,5];if(s=n.value,o)throw this.createExtraByteError(this.totalPos);this.appendBuffer(s);try{a=this.doDecodeSync(),o=!0}catch(e){if(!(e instanceof j))throw e}this.totalPos+=this.pos,p.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return c=p.sent(),r={error:c},[3,12];case 7:return p.trys.push([7,,10,11]),n&&!n.done&&(i=t.return)?[4,i.call(t)]:[3,9];case 8:p.sent(),p.label=9;case 9:return[3,11];case 10:if(r)throw r.error;return[7];case 11:return[7];case 12:if(o){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return[2,a]}throw l=(u=this).headByte,d=u.pos,h=u.totalPos,new RangeError("Insufficient data in parsing "+D(l)+" at "+h+" ("+d+" in the current buffer)")}}))},new((a=void 0)||(a=Promise))((function(e,t){function n(e){try{i(s.next(e))}catch(e){t(e)}}function r(e){try{i(s.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):(i=t.value,i instanceof a?i:new a((function(e){e(i)}))).then(n,r)}i((s=s.apply(o,[])).next())}))},e.prototype.decodeArrayStream=function(e){return this.decodeMultiAsync(e,!0)},e.prototype.decodeStream=function(e){return this.decodeMultiAsync(e,!1)},e.prototype.decodeMultiAsync=function(e,t){return B(this,arguments,(function(){var n,r,i,o,a,s,c,u,l;return x(this,(function(d){switch(d.label){case 0:n=t,r=-1,d.label=1;case 1:d.trys.push([1,13,14,19]),i=L(e),d.label=2;case 2:return[4,M(i.next())];case 3:if((o=d.sent()).done)return[3,12];if(a=o.value,t&&0===r)throw this.createExtraByteError(this.totalPos);this.appendBuffer(a),n&&(r=this.readArraySize(),n=!1,this.complete()),d.label=4;case 4:d.trys.push([4,9,,10]),d.label=5;case 5:return[4,M(this.doDecodeSync())];case 6:return[4,d.sent()];case 7:return d.sent(),0==--r?[3,8]:[3,5];case 8:return[3,10];case 9:if(!((s=d.sent())instanceof j))throw s;return[3,10];case 10:this.totalPos+=this.pos,d.label=11;case 11:return[3,2];case 12:return[3,19];case 13:return c=d.sent(),u={error:c},[3,19];case 14:return d.trys.push([14,,17,18]),o&&!o.done&&(l=i.return)?[4,M(l.call(i))]:[3,16];case 15:d.sent(),d.label=16;case 16:return[3,18];case 17:if(u)throw u.error;return[7];case 18:return[7];case 19:return[2]}}))}))},e.prototype.doDecodeSync=function(){e:for(;;){var e=this.readHeadByte(),t=void 0;if(e>=224)t=e-256;else if(e<192)if(e<128)t=e;else if(e<144){if(0!=(r=e-128)){this.pushMapState(r),this.complete();continue e}t={}}else if(e<160){if(0!=(r=e-144)){this.pushArrayState(r),this.complete();continue e}t=[]}else{var n=e-160;t=this.decodeUtf8String(n,0)}else if(192===e)t=null;else if(194===e)t=!1;else if(195===e)t=!0;else if(202===e)t=this.readF32();else if(203===e)t=this.readF64();else if(204===e)t=this.readU8();else if(205===e)t=this.readU16();else if(206===e)t=this.readU32();else if(207===e)t=this.readU64();else if(208===e)t=this.readI8();else if(209===e)t=this.readI16();else if(210===e)t=this.readI32();else if(211===e)t=this.readI64();else if(217===e)n=this.lookU8(),t=this.decodeUtf8String(n,1);else if(218===e)n=this.lookU16(),t=this.decodeUtf8String(n,2);else if(219===e)n=this.lookU32(),t=this.decodeUtf8String(n,4);else if(220===e){if(0!==(r=this.readU16())){this.pushArrayState(r),this.complete();continue e}t=[]}else if(221===e){if(0!==(r=this.readU32())){this.pushArrayState(r),this.complete();continue e}t=[]}else if(222===e){if(0!==(r=this.readU16())){this.pushMapState(r),this.complete();continue e}t={}}else if(223===e){if(0!==(r=this.readU32())){this.pushMapState(r),this.complete();continue e}t={}}else if(196===e){var r=this.lookU8();t=this.decodeBinary(r,1)}else if(197===e)r=this.lookU16(),t=this.decodeBinary(r,2);else if(198===e)r=this.lookU32(),t=this.decodeBinary(r,4);else if(212===e)t=this.decodeExtension(1,0);else if(213===e)t=this.decodeExtension(2,0);else if(214===e)t=this.decodeExtension(4,0);else if(215===e)t=this.decodeExtension(8,0);else if(216===e)t=this.decodeExtension(16,0);else if(199===e)r=this.lookU8(),t=this.decodeExtension(r,1);else if(200===e)r=this.lookU16(),t=this.decodeExtension(r,2);else{if(201!==e)throw new v("Unrecognized type byte: "+D(e));r=this.lookU32(),t=this.decodeExtension(r,4)}this.complete();for(var i=this.stack;i.length>0;){var o=i[i.length-1];if(0===o.type){if(o.array[o.position]=t,o.position++,o.position!==o.size)continue e;i.pop(),t=o.array}else{if(1===o.type){if("string"!=(a=typeof t)&&"number"!==a)throw new v("The type of key must be string or number but "+typeof t);if("__proto__"===t)throw new v("The key __proto__ is not allowed");o.key=t,o.type=2;continue e}if(o.map[o.key]=t,o.readCount++,o.readCount!==o.size){o.key=null,o.type=1;continue e}i.pop(),t=o.map}}return t}var a},e.prototype.readHeadByte=function(){return-1===this.headByte&&(this.headByte=this.readU8()),this.headByte},e.prototype.complete=function(){this.headByte=-1},e.prototype.readArraySize=function(){var e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:if(e<160)return e-144;throw new v("Unrecognized array type byte: "+D(e))}},e.prototype.pushMapState=function(e){if(e>this.maxMapLength)throw new v("Max length exceeded: map length ("+e+") > maxMapLengthLength ("+this.maxMapLength+")");this.stack.push({type:1,size:e,key:null,readCount:0,map:{}})},e.prototype.pushArrayState=function(e){if(e>this.maxArrayLength)throw new v("Max length exceeded: array length ("+e+") > maxArrayLength ("+this.maxArrayLength+")");this.stack.push({type:0,size:e,array:new Array(e),position:0})},e.prototype.decodeUtf8String=function(e,t){var n;if(e>this.maxStrLength)throw new v("Max length exceeded: UTF-8 byte length ("+e+") > maxStrLength ("+this.maxStrLength+")");if(this.bytes.byteLength<this.pos+t+e)throw V;var r,i=this.pos+t;return r=this.stateIsMapKey()&&(null===(n=this.keyDecoder)||void 0===n?void 0:n.canBeCached(e))?this.keyDecoder.decode(this.bytes,i,e):e>A?function(e,t,n){var r=e.subarray(t,t+n);return f.decode(r)}(this.bytes,i,e):h(this.bytes,i,e),this.pos+=t+e,r},e.prototype.stateIsMapKey=function(){return this.stack.length>0&&1===this.stack[this.stack.length-1].type},e.prototype.decodeBinary=function(e,t){if(e>this.maxBinLength)throw new v("Max length exceeded: bin length ("+e+") > maxBinLength ("+this.maxBinLength+")");if(!this.hasRemaining(e+t))throw V;var n=this.pos+t,r=this.bytes.subarray(n,n+e);return this.pos+=t+e,r},e.prototype.decodeExtension=function(e,t){if(e>this.maxExtLength)throw new v("Max length exceeded: ext length ("+e+") > maxExtLength ("+this.maxExtLength+")");var n=this.view.getInt8(this.pos+t),r=this.decodeBinary(e,t+1);return this.extensionCodec.decode(r,n,this.context)},e.prototype.lookU8=function(){return this.view.getUint8(this.pos)},e.prototype.lookU16=function(){return this.view.getUint16(this.pos)},e.prototype.lookU32=function(){return this.view.getUint32(this.pos)},e.prototype.readU8=function(){var e=this.view.getUint8(this.pos);return this.pos++,e},e.prototype.readI8=function(){var e=this.view.getInt8(this.pos);return this.pos++,e},e.prototype.readU16=function(){var e=this.view.getUint16(this.pos);return this.pos+=2,e},e.prototype.readI16=function(){var e=this.view.getInt16(this.pos);return this.pos+=2,e},e.prototype.readU32=function(){var e=this.view.getUint32(this.pos);return this.pos+=4,e},e.prototype.readI32=function(){var e=this.view.getInt32(this.pos);return this.pos+=4,e},e.prototype.readU64=function(){var e,t,n=(e=this.view,t=this.pos,4294967296*e.getUint32(t)+e.getUint32(t+4));return this.pos+=8,n},e.prototype.readI64=function(){var e=i(this.view,this.pos);return this.pos+=8,e},e.prototype.readF32=function(){var e=this.view.getFloat32(this.pos);return this.pos+=4,e},e.prototype.readF64=function(){var e=this.view.getFloat64(this.pos);return this.pos+=8,e},e}(),q={};function H(e,t){return void 0===t&&(t=q),new G(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decode(e)}function z(e,t){return void 0===t&&(t=q),new G(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeMulti(e)}var W=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},K=function(e){return this instanceof K?(this.v=e,this):new K(e)},Y=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof K?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function c(e){s("next",e)}function u(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}};function J(e){if(null==e)throw new Error("Assertion Failure: value must not be null nor undefined")}function Z(e){return null!=e[Symbol.asyncIterator]?e:function(e){return Y(this,arguments,(function(){var t,n,r,i;return W(this,(function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,K(t.read())];case 3:return n=o.sent(),r=n.done,i=n.value,r?[4,K(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return J(i),[4,K(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}(e)}function X(e,t){return void 0===t&&(t=q),n=this,void 0,i=function(){var n;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(r){return n=Z(e),[2,new G(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeAsync(n)]}))},new((r=void 0)||(r=Promise))((function(e,t){function o(e){try{s(i.next(e))}catch(e){t(e)}}function a(e){try{s(i.throw(e))}catch(e){t(e)}}function s(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,a)}s((i=i.apply(n,[])).next())}));var n,r,i}function $(e,t){void 0===t&&(t=q);var n=Z(e);return new G(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeArrayStream(n)}function ee(e,t){void 0===t&&(t=q);var n=Z(e);return new G(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeStream(n)}function te(e,t){return void 0===t&&(t=q),ee(e,t)}return t}()}(jW),(0,RM.exports)("Int8",(function(e){return function(t,n,r){return e(this,t,n,r)}})),(0,RM.exports)("Int16",(function(e){return function(t,n,r){return e(this,t,n,r)}})),(0,RM.exports)("Int32",(function(e){return function(t,n,r){return e(this,t,n,r)}})),(0,RM.exports)("Uint16",(function(e){return function(t,n,r){return e(this,t,n,r)}})),(0,RM.exports)("Uint32",(function(e){return function(t,n,r){return e(this,t,n,r)}})),(0,RM.exports)("Float64",(function(e){return function(t,n,r){return e(this,t,n,r)}}));let VW,QW;async function GW(){if(VW)return VW;const e={};let t,n={};for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);let r=!1,i=!1;r="object"==typeof window,i="function"==typeof importScripts,"object"==typeof process&&"object"==typeof process.versions&&process.versions.node;let o="";(r||i)&&(i?o=self.location.href:"undefined"!=typeof document&&document.currentScript&&(o=document.currentScript.src),o=0!==o.indexOf("blob:")?o.substr(0,o.lastIndexOf("/")+1):""),e.print||console.log.bind(console);const a=e.printErr||console.warn.bind(console);for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);let s;n=null,e.arguments,e.thisProgram,e.quit,e.wasmBinary,e.noExitRuntime,"object"!=typeof WebAssembly&&b("no native wasm support detected");let c=!1;function u(t){const n=e["_"+t];return n||b("Assertion failed: Cannot call unknown function "+t+", make sure it is exported"),n}function l(e,t,n,r,i){const o={string:function(e){let t=0;if(null!=e&&0!==e){const n=1+(e.length<<2);t=k(n),function(e,t,n){!function(e,t,n,r){if(!(r>0))return 0;const i=n+r-1;for(let r=0;r<e.length;++r){let o=e.charCodeAt(r);if(o>=55296&&o<=57343&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++r)),o<=127){if(n>=i)break;t[n++]=o}else if(o<=2047){if(n+1>=i)break;t[n++]=192|o>>6,t[n++]=128|63&o}else if(o<=65535){if(n+2>=i)break;t[n++]=224|o>>12,t[n++]=128|o>>6&63,t[n++]=128|63&o}else{if(n+3>=i)break;t[n++]=240|o>>18,t[n++]=128|o>>12&63,t[n++]=128|o>>6&63,t[n++]=128|63&o}}t[n]=0}(e,p,t,n)}(e,t,n)}return t},array:function(e){const t=k(e.length);var n,r;return n=e,r=t,h.set(n,r),t}},a=u(e),s=[];let c=0;if(r)for(let e=0;e<r.length;e++){const t=o[n[e]];t?(0===c&&(c=T()),s[e]=t(r[e])):s[e]=r[e]}let l=a.apply(null,s);return l=function(e){return"string"===t?(n=e)?function(e,t,n){const r=t+undefined;let i=t,o="";for(;e[i]&&!(i>=r);)++i;if(i-t>16&&e.subarray&&d)return d.decode(e.subarray(t,i));for(;t<i;){let n=e[t++];if(!(128&n)){o+=String.fromCharCode(n);continue}const r=63&e[t++];if(192==(224&n)){o+=String.fromCharCode((31&n)<<6|r);continue}const i=63&e[t++];if(n=224==(240&n)?(15&n)<<12|r<<6|i:(7&n)<<18|r<<12|i<<6|63&e[t++],n<65536)o+=String.fromCharCode(n);else{const e=n-65536;o+=String.fromCharCode(55296|e>>10,56320|1023&e)}}return o}(p,n):"":"boolean"===t?Boolean(e):e;var n}(l),0!==c&&O(c),l}const d="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;let h,p,f;"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le"),e.INITIAL_MEMORY;const A=[],g=[],m=[],v=[];g.push({func:function(){S()}});let y=0,E=null;function b(t){throw e.onAbort&&e.onAbort(t),a(t+=""),c=!0,t="abort("+t+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(t)}e.preloadedImages={},e.preloadedAudios={};let _="deflate.wasm";function C(t){for(;t.length>0;){const n=t.shift();if("function"==typeof n){n(e);continue}const r=n.func;"number"==typeof r?void 0===n.arg?f.get(r)():f.get(r)(n.arg):r(void 0===n.arg?null:n.arg)}}_.startsWith("data:application/octet-stream;base64,")||(_=function(t){return e.locateFile?e.locateFile(t,o):o+t}(_));const I={emscripten_memcpy_big:function(e,t,n){p.copyWithin(e,t,t+n)},emscripten_resize_heap:function(e){b("OOM")}};await async function(){const t={env:I,wasi_snapshot_preview1:I};function n(t,n){const r=t.exports;var i;e.asm=r,s=e.asm.memory,i=s.buffer,e.HEAP8=h=new Int8Array(i),e.HEAP16=new Int16Array(i),e.HEAP32=new Int32Array(i),e.HEAPU8=p=new Uint8Array(i),e.HEAPU16=new Uint16Array(i),e.HEAPU32=new Uint32Array(i),e.HEAPF32=new Float32Array(i),e.HEAPF64=new Float64Array(i),f=e.asm.__indirect_function_table,function(t){if(y--,e.monitorRunDependencies&&e.monitorRunDependencies(y),0==y&&E){const e=E;E=null,e()}}()}if(y++,e.monitorRunDependencies&&e.monitorRunDependencies(y),e.instantiateWasm)try{return e.instantiateWasm(t,n)}catch(e){return a("Module.instantiateWasm callback failed with error: "+e),!1}return await function(e){return new LC(((e,t)=>{e(function(e){const t=window.atob("AGFzbQEAAAABMAlgA39/fwF/YAF/AGACf38AYAF/AX9gAn9/AX9gA39/fwBgBH9/f38AYAABf2AAAAI6AgNlbnYWZW1zY3JpcHRlbl9yZXNpemVfaGVhcAADA2VudhVlbXNjcmlwdGVuX21lbWNweV9iaWcAAAMjIggAAAAAAQEDAQEEBAQEAQEGAQYCBQUAAgAHAwEDAAIHAQMEBQFwAQYGBQYBAYACgAIGCQF/AUHQ48ACCweUAQoGbWVtb3J5AgARX193YXNtX2NhbGxfY3RvcnMAAhlfX2luZGlyZWN0X2Z1bmN0aW9uX3RhYmxlAQAGbWFsbG9jABwEZnJlZQAdEF9fZXJybm9fbG9jYXRpb24AGwx6bGliQ29tcHJlc3MAGglzdGFja1NhdmUAIQxzdGFja1Jlc3RvcmUAIgpzdGFja0FsbG9jACMJCwEAQQELBRgZDA0PCq6FAiIDAAELpQcBBH8gAEH//wNxIQMgAEEQdiEEQQEhACACQQFGBEAgAyABLQAAaiIAQfH/A2sgACAAQfD/A0sbIgAgBGoiA0EQdCIEQYCAPGogBCADQfD/A0sbIAByDwsgAQR/IAJBEE8EQAJAAkACQCACQa8rSwRAA0AgAkGwK2shAkHbAiEFIAEhAANAIAMgAC0AAGoiAyAEaiADIAAtAAFqIgNqIAMgAC0AAmoiA2ogAyAALQADaiIDaiADIAAtAARqIgNqIAMgAC0ABWoiA2ogAyAALQAGaiIDaiADIAAtAAdqIgNqIAMgAC0ACGoiA2ogAyAALQAJaiIDaiADIAAtAApqIgNqIAMgAC0AC2oiA2ogAyAALQAMaiIDaiADIAAtAA1qIgNqIAMgAC0ADmoiA2ogAyAALQAPaiIDaiEEIABBEGohACAFQQFrIgUNAAsgBEHx/wNwIQQgA0Hx/wNwIQMgAUGwK2ohASACQa8rSw0ACyACRQ0DIAJBEEkNAQsDQCADIAEtAABqIgAgBGogACABLQABaiIAaiAAIAEtAAJqIgBqIAAgAS0AA2oiAGogACABLQAEaiIAaiAAIAEtAAVqIgBqIAAgAS0ABmoiAGogACABLQAHaiIAaiAAIAEtAAhqIgBqIAAgAS0ACWoiAGogACABLQAKaiIAaiAAIAEtAAtqIgBqIAAgAS0ADGoiAGogACABLQANaiIAaiAAIAEtAA5qIgBqIAAgAS0AD2oiA2ohBCABQRBqIQEgAkEQayICQQ9LDQALIAJFDQELIAJBAWshBiACQQNxIgUEQCABIQADQCACQQFrIQIgAyAALQAAaiIDIARqIQQgAEEBaiIBIQAgBUEBayIFDQALCyAGQQNJDQADQCADIAEtAABqIgAgAS0AAWoiBSABLQACaiIGIAEtAANqIgMgBiAFIAAgBGpqamohBCABQQRqIQEgAkEEayICDQALCyAEQfH/A3AhBCADQfH/A3AhAwsgBEEQdCADcg8LAkAgAkUNACACQQFrIQYgAkEDcSIFBEAgASEAA0AgAkEBayECIAMgAC0AAGoiAyAEaiEEIABBAWoiASEAIAVBAWsiBQ0ACwsgBkEDSQ0AA0AgAyABLQAAaiIAIAEtAAFqIgUgAS0AAmoiBiABLQADaiIDIAYgBSAAIARqampqIQQgAUEEaiEBIAJBBGsiAg0ACwsgBEHx/wNwQRB0IANB8f8DayADIANB8P8DSxtyBSAACwsKACAAIAEgAhADC4UJAQJ/IAFFBEBBAA8LIABBf3MhAAJAIAJFDQAgAUEDcUUNACABLQAAIABB/wFxc0ECdEGACGooAgAgAEEIdnMhACACQQFrIgRBACABQQFqIgNBA3EbRQRAIAMhASAEIQIMAQsgAS0AASAAQf8BcXNBAnRBgAhqKAIAIABBCHZzIQAgAUECaiEDAkAgAkECayIERQ0AIANBA3FFDQAgAS0AAiAAQf8BcXNBAnRBgAhqKAIAIABBCHZzIQAgAUEDaiEDAkAgAkEDayIERQ0AIANBA3FFDQAgAS0AAyAAQf8BcXNBAnRBgAhqKAIAIABBCHZzIQAgAkEEayECIAFBBGohAQwCCyADIQEgBCECDAELIAMhASAEIQILIAJBH0sEQANAIAEoAhwgASgCGCABKAIUIAEoAhAgASgCDCABKAIIIAEoAgQgASgCACAAcyIAQQZ2QfwHcUGAGGooAgAgAEH/AXFBAnRBgCBqKAIAcyAAQQ52QfwHcUGAEGooAgBzIABBFnZB/AdxQYAIaigCAHNzIgBBBnZB/AdxQYAYaigCACAAQf8BcUECdEGAIGooAgBzIABBDnZB/AdxQYAQaigCAHMgAEEWdkH8B3FBgAhqKAIAc3MiAEEGdkH8B3FBgBhqKAIAIABB/wFxQQJ0QYAgaigCAHMgAEEOdkH8B3FBgBBqKAIAcyAAQRZ2QfwHcUGACGooAgBzcyIAQQZ2QfwHcUGAGGooAgAgAEH/AXFBAnRBgCBqKAIAcyAAQQ52QfwHcUGAEGooAgBzIABBFnZB/AdxQYAIaigCAHNzIgBBBnZB/AdxQYAYaigCACAAQf8BcUECdEGAIGooAgBzIABBDnZB/AdxQYAQaigCAHMgAEEWdkH8B3FBgAhqKAIAc3MiAEEGdkH8B3FBgBhqKAIAIABB/wFxQQJ0QYAgaigCAHMgAEEOdkH8B3FBgBBqKAIAcyAAQRZ2QfwHcUGACGooAgBzcyIAQQZ2QfwHcUGAGGooAgAgAEH/AXFBAnRBgCBqKAIAcyAAQQ52QfwHcUGAEGooAgBzIABBFnZB/AdxQYAIaigCAHNzIgBBBnZB/AdxQYAYaigCACAAQf8BcUECdEGAIGooAgBzIABBDnZB/AdxQYAQaigCAHMgAEEWdkH8B3FBgAhqKAIAcyEAIAFBIGohASACQSBrIgJBH0sNAAsLIAJBA0sEQANAIAEoAgAgAHMiAEEGdkH8B3FBgBhqKAIAIABB/wFxQQJ0QYAgaigCAHMgAEEOdkH8B3FBgBBqKAIAcyAAQRZ2QfwHcUGACGooAgBzIQAgAUEEaiEBIAJBBGsiAkEDSw0ACwsCQCACRQ0AIAJBAXEEfyABLQAAIABB/wFxc0ECdEGACGooAgAgAEEIdnMhACABQQFqIQEgAkEBawUgAgshAyACQQFGDQADQCABLQABIAEtAAAgAEH/AXFzQQJ0QYAIaigCACAAQQh2cyIAQf8BcXNBAnRBgAhqKAIAIABBCHZzIQAgAUECaiEBIANBAmsiAw0ACwsgAEF/cwsKACAAIAEgAhAFC9wEAQN/AkBByN8ALQAAQTFHDQAgAEUNACAAQQA2AhggACgCICIBRQRAIABBADYCKCAAQQE2AiBBASEBCyAAKAIkRQRAIABBAjYCJAsgACgCKEEBQcQtIAERAAAiAUUNACAAIAE2AhwgAUEPNgIwIAFBADYCHCABQQA2AhggAUEqNgIEIAEgADYCACABQQs2AlAgAUGAgAI2AiwgAUH//wE2AjQgAUGAEDYCTCABQQQ2AlggAUH/DzYCVCABIAAoAihBgIACQQIgACgCIBEAADYCOCABIAAoAiggASgCLEECIAAoAiARAAA2AkAgACgCKCABKAJMQQIgACgCIBEAACECIAFBADYCwC0gASACNgJEIAFBgAg2ApwtIAEgACgCKEGACEEEIAAoAiARAAAiAjYCCCABIAEoApwtIgNBAnQ2AgwCQAJAIAEoAjhFDQAgASgCQEUNACACRQ0AIAEoAkQNAQsgAUGaBTYCBCAAQbjfACgCADYCGCAAEAgPCyABQQA2AogBIAFBCTYChAEgAUEIOgAkIAEgAiADQQNsajYCmC0gASACIANBfnFqNgKkLSAAEAkNACAAKAIcIgAgACgCLEEBdDYCPCAAKAJEIgEgACgCTEEBdEECayIDakEAOwEAIAEgAxAgIABBADYCtC0gAEKAgICAIDcCdCAAQgA3AmggAEKAgICAIDcCXCAAQQA2AkggACAAKAKEAUEMbCIBQYTIAGovAQA2ApABIAAgAUGAyABqLwEANgKMASAAIAFBgsgAai8BADYCgAEgACABQYbIAGovAQA2AnwLC6kCAQN/AkAgAEUNACAAKAIgRQ0AIAAoAiQiA0UNACAAKAIcIgFFDQAgASgCACAARw0AAkACQCABKAIEIgJBOWsOOQECAgICAgICAgICAgECAgIBAgICAgICAgICAgICAgICAgIBAgICAgICAgICAgIBAgICAgICAgICAQALIAJBmgVGDQAgAkEqRw0BCwJ/An8CfyABKAIIIgIEQCAAKAIoIAIgAxECACAAKAIcIQELIAEoAkQiAgsEQCAAKAIoIAIgACgCJBECACAAKAIcIQELIAEoAkAiAgsEQCAAKAIoIAIgACgCJBECACAAKAIcIQELIAEoAjgiAgsEQCAAKAIoIAIgACgCJBECACAAKAIcIQELIAAoAiggASAAKAIkEQIAIABBADYCHAsLlgIBA39BfiECAkAgAEUNACAAKAIgRQ0AIAAoAiRFDQAgACgCHCIBRQ0AIAEoAgAgAEcNAAJAAkAgASgCBCIDQTlrDjkBAgICAgICAgICAgIBAgICAQICAgICAgICAgICAgICAgICAQICAgICAgICAgICAQICAgICAgICAgEACyADQZoFRg0AIANBKkcNAQsgAEECNgIsIABBADYCCCAAQgA3AhQgAUEANgIUIAEgASgCCDYCECABKAIYIgJBf0wEQCABQQAgAmsiAjYCGAsgAUE5QSpB8QAgAhsgAkECRhs2AgQgAAJ/IAJBAkYEQEEAQQBBABAGDAELQQBBAEEAEAQLNgIwQQAhAiABQQA2AiggARAQCyACC9wIAQt/IAAoAiwiB0GGAmshCyAAKAJ0IQUgByEBA0AgACgCPCAFayAAKAJsIghrIQYgASALaiAITQRAIAAoAjgiASABIAdqIAcgBmsQHxogACAAKAJwIAdrNgJwIAAgACgCbCAHayIINgJsIAAgACgCXCAHazYCXCAAKAJMIgRBAWshCiAAKAJEIARBAXRqIQMgACgCLCEBIARBA3EiAgRAA0AgA0ECayIDQQAgAy8BACIFIAFrIgkgBSAJSRs7AQAgBEEBayEEIAJBAWsiAg0ACwsgCkEDTwRAA0AgA0ECayICQQAgAi8BACICIAFrIgUgAiAFSRs7AQAgA0EEayICQQAgAi8BACICIAFrIgUgAiAFSRs7AQAgA0EGayICQQAgAi8BACICIAFrIgUgAiAFSRs7AQAgA0EIayIDQQAgAy8BACICIAFrIgUgAiAFSRs7AQAgBEEEayIEDQALCyABQQFrIQogACgCQCABQQF0aiEDIAEhBCABQQNxIgIEQANAIANBAmsiA0EAIAMvAQAiBSABayIJIAUgCUkbOwEAIARBAWshBCACQQFrIgINAAsLIApBA08EQANAIANBAmsiAkEAIAIvAQAiAiABayIFIAIgBUkbOwEAIANBBGsiAkEAIAIvAQAiAiABayIFIAIgBUkbOwEAIANBBmsiAkEAIAIvAQAiAiABayIFIAIgBUkbOwEAIANBCGsiA0EAIAMvAQAiAiABayIFIAIgBUkbOwEAIARBBGsiBA0ACwsgBiAHaiEGCwJAIAAoAgAiASgCBCIERQ0AIAAoAnQhAiAGIAQgBCAGSxsiAwRAIAAoAjghBSABIAQgA2s2AgQgBSAIaiACaiABKAIAIAMQHyEEAkACQAJAIAEoAhwoAhhBAWsOAgABAgsgASABKAIwIAQgAxAENgIwDAELIAEgASgCMCAEIAMQBjYCMAsgASABKAIAIANqNgIAIAEgASgCCCADajYCCCAAKAJ0IQILIAAgAiADaiIFNgJ0AkAgACgCtC0iAyAFakEDSQ0AIAAgACgCOCIJIAAoAmwgA2siAWoiBC0AACICNgJIIAAgACgCVCIIIAQtAAEgAiAAKAJYIgZ0c3EiBDYCSANAIANFDQEgACABIAlqLQACIAQgBnRzIAhxIgQ2AkggACgCQCAAKAI0IAFxQQF0aiAAKAJEIARBAXRqIgIvAQA7AQAgAiABOwEAIAAgA0EBayIDNgK0LSABQQFqIQEgAyAFakECSw0ACwsgBUGFAksNACAAKAIAKAIERQ0AIAAoAiwhAQwBCwsCQCAAKAI8IgQgACgCwC0iAU0NACAAKAJ0IAAoAmxqIgMgAUsEQCAAKAI4IANqIAQgA2siAUGCAiABQYICSRsiARAgIAAgASADajYCwC0PCyADQYICaiIDIAFNDQAgACgCOCABaiAEIAFrIgQgAyABayIBIAEgBEsbIgEQICAAIAAoAsAtIAFqNgLALQsLsSwBCn8CQCAARQ0AIAAoAiBFDQAgACgCJEUNACAAKAIcIgFFDQAgASgCACAARw0AAkACQCABKAIEIgNBOWsOOQECAgICAgICAgICAgECAgIBAgICAgICAgICAgICAgICAgIBAgICAgICAgICAgIBAgICAgICAgICAQALIANBmgVGDQAgA0EqRw0BCwJAAkAgACgCDEUNACAAKAIEIgIEQCAAKAIARQ0BCyADQZoFRw0BCyAAQbDfACgCADYCGA8LIAAoAhBFBEAgAEG83wAoAgA2AhgPCyABKAIoIQUgAUEDNgIoAkAgASgCFARAIAEQEwJAIAAoAhAiAyABKAIUIgQgAyAESRsiAkUNACAAKAIMIAEoAhAgAhAfGiAAIAAoAgwgAmo2AgwgASABKAIQIAJqNgIQIAAgACgCFCACajYCFCAAIAAoAhAgAmsiAzYCECABIAEoAhQgAmsiBDYCFCAEDQAgASABKAIINgIQQQAhBAsgAwRAIAEoAgQhAwwCCyABQX82AigPCyACDQAgBUEBdEF3QQAgBUEEShtqQQZIDQAgAEG83wAoAgA2AhgPCwJAAkACQAJAAn8CQAJAAkACQAJAAkAgA0EqRwRAIANBmgVHDQEgACgCBEUNAiAAQbzfACgCADYCGA8LIAEoAjBBDHRBgPABayEDQQAhAgJAIAEoAogBQQFKDQAgASgChAEiBUECSA0AQcAAIQIgBUEGSA0AQYABQcABIAVBBkYbIQILIAEgBEEBajYCFCABKAIIIARqIAIgA3IiAkEgciACIAEoAmwbIgJBCHY6AAAgASABKAIUIgNBAWo2AhQgAyABKAIIaiACQR9wIAJyQR9zOgAAIAEoAmwEQCAAKAIwIQIgASABKAIUIgNBAWo2AhQgAyABKAIIaiACQRh2OgAAIAEgASgCFCIDQQFqNgIUIAMgASgCCGogAkEQdjoAACAAKAIwIQIgASABKAIUIgNBAWo2AhQgAyABKAIIaiACQQh2OgAAIAEgASgCFCIDQQFqNgIUIAMgASgCCGogAjoAAAsgAEEAQQBBABAENgIwIAFB8QA2AgQgACgCHCICEBMCQCAAKAIQIgMgAigCFCIEIAMgBEkbIgNFDQAgACgCDCACKAIQIAMQHxogACAAKAIMIANqNgIMIAIgAigCECADajYCECAAIAAoAhQgA2o2AhQgACAAKAIQIANrNgIQIAIgAigCFCADayIDNgIUIAMNACACIAIoAgg2AhALIAEoAhQNBCABKAIEIQMLAkACQAJAAkACQAJAAkAgA0E5RgR/IABBAEEAQQAQBjYCMCABIAEoAhQiAkEBajYCFCACIAEoAghqQR86AAAgASABKAIUIgJBAWo2AhQgAiABKAIIakGLAToAACABIAEoAhQiAkEBajYCFCACIAEoAghqQQg6AAAgASgCHCICDQIgASABKAIUIgJBAWo2AhQgAiABKAIIakEAOgAAIAEgASgCFCICQQFqNgIUIAIgASgCCGpBADoAACABIAEoAhQiAkEBajYCFCACIAEoAghqQQA6AAAgASABKAIUIgJBAWo2AhQgAiABKAIIakEAOgAAIAEgASgCFCICQQFqNgIUIAIgASgCCGpBADoAAEECIQIgASgChAEiA0EJRwRAQQQgASgCiAFBAUpBAnQgA0ECSBshAgsgASABKAIUIgNBAWo2AhQgAyABKAIIaiACOgAAIAEgASgCFCICQQFqNgIUIAIgASgCCGpBAzoAACABQfEANgIEIAAoAhwiAhATAkAgACgCECIDIAIoAhQiBCADIARJGyIDRQ0AIAAoAgwgAigCECADEB8aIAAgACgCDCADajYCDCACIAIoAhAgA2o2AhAgACAAKAIUIANqNgIUIAAgACgCECADazYCECACIAIoAhQgA2siAzYCFCADDQAgAiACKAIINgIQCyABKAIUDQEgASgCBAUgAwtBxQBrDiMCBgYGAwYGBgYGBgYGBgYGBgYGBgYGBAYGBgYGBgYGBgYGBQYLIAFBfzYCKA8LIAIoAiQhAyACKAIcIQQgAigCECEFIAIoAiwhBiACKAIAIQggASABKAIUIgdBAWo2AhRBAiECIAcgASgCCGogBkEAR0EBdCAIQQBHciAFQQBHQQJ0ciAEQQBHQQN0ciADQQBHQQR0cjoAACABKAIcKAIEIQMgASABKAIUIgRBAWo2AhQgBCABKAIIaiADOgAAIAEoAhwoAgQhAyABIAEoAhQiBEEBajYCFCAEIAEoAghqIANBCHY6AAAgASgCHC8BBiEDIAEgASgCFCIEQQFqNgIUIAQgASgCCGogAzoAACABKAIcLQAHIQMgASABKAIUIgRBAWo2AhQgBCABKAIIaiADOgAAIAEoAoQBIgNBCUcEQEEEIAEoAogBQQFKQQJ0IANBAkgbIQILIAEgASgCFCIDQQFqNgIUIAMgASgCCGogAjoAACABKAIcKAIMIQIgASABKAIUIgNBAWo2AhQgAyABKAIIaiACOgAAIAEoAhwiAigCEAR/IAIoAhQhAiABIAEoAhQiA0EBajYCFCADIAEoAghqIAI6AAAgASgCHCgCFCECIAEgASgCFCIDQQFqNgIUIAMgASgCCGogAkEIdjoAACABKAIcBSACCygCLARAIAAgACgCMCABKAIIIAEoAhQQBjYCMAsgAUHFADYCBCABQQA2AiALIAEoAhwiBCgCECIDBEAgASgCFCICIAQvARQgASgCICIGayIFaiABKAIMIgRLBEADQCABKAIIIAJqIAMgBmogBCACayIEEB8aIAEgASgCDCIDNgIUAkAgAiADTw0AIAEoAhwoAixFDQAgACAAKAIwIAEoAgggAmogAyACaxAGNgIwCyABIAEoAiAgBGo2AiAgACgCHCICEBMCQCAAKAIQIgMgAigCFCIGIAMgBkkbIgNFDQAgACgCDCACKAIQIAMQHxogACAAKAIMIANqNgIMIAIgAigCECADajYCECAAIAAoAhQgA2o2AhQgACAAKAIQIANrNgIQIAIgAigCFCADayIDNgIUIAMNACACIAIoAgg2AhALIAEoAhQEQCABQX82AigPCyABKAIgIQYgASgCHCgCECEDQQAhAiAFIARrIgUgASgCDCIESw0ACwsgASgCCCACaiADIAZqIAUQHxogASABKAIUIAVqIgM2AhQCQCACIANPDQAgASgCHCgCLEUNACAAIAAoAjAgASgCCCACaiADIAJrEAY2AjALIAFBADYCIAsgAUHJADYCBAsgASgCHCgCHARAIAEoAhQiAiEFA0ACQCACIAEoAgxHDQACQCACIAVNDQAgASgCHCgCLEUNACAAIAAoAjAgASgCCCAFaiACIAVrEAY2AjALIAAoAhwiAhATAkAgACgCECIDIAIoAhQiBCADIARJGyIDRQ0AIAAoAgwgAigCECADEB8aIAAgACgCDCADajYCDCACIAIoAhAgA2o2AhAgACAAKAIUIANqNgIUIAAgACgCECADazYCECACIAIoAhQgA2siAzYCFCADDQAgAiACKAIINgIQC0EAIQJBACEFIAEoAhRFDQAgAUF/NgIoDwsgASgCHCgCHCEDIAEgASgCICIEQQFqNgIgIAMgBGotAAAhAyABIAJBAWo2AhQgASgCCCACaiADOgAAIAMEQCABKAIUIQIMAQsLAkAgASgCHCgCLEUNACABKAIUIgIgBU0NACAAIAAoAjAgASgCCCAFaiACIAVrEAY2AjALIAFBADYCIAsgAUHbADYCBAsCQCABKAIcKAIkRQ0AIAEoAhQiAiEFA0ACQCACIAEoAgxHDQACQCACIAVNDQAgASgCHCgCLEUNACAAIAAoAjAgASgCCCAFaiACIAVrEAY2AjALIAAoAhwiAhATAkAgACgCECIDIAIoAhQiBCADIARJGyIDRQ0AIAAoAgwgAigCECADEB8aIAAgACgCDCADajYCDCACIAIoAhAgA2o2AhAgACAAKAIUIANqNgIUIAAgACgCECADazYCECACIAIoAhQgA2siAzYCFCADDQAgAiACKAIINgIQC0EAIQJBACEFIAEoAhRFDQAgAUF/NgIoDwsgASgCHCgCJCEDIAEgASgCICIEQQFqNgIgIAMgBGotAAAhAyABIAJBAWo2AhQgASgCCCACaiADOgAAIAMEQCABKAIUIQIMAQsLIAEoAhwoAixFDQAgASgCFCICIAVNDQAgACAAKAIwIAEoAgggBWogAiAFaxAGNgIwCyABQecANgIECyABKAIcKAIsBEAgASgCDCABKAIUIgJBAmpJBEAgACgCHCICEBMCQCAAKAIQIgMgAigCFCIEIAMgBEkbIgNFDQAgACgCDCACKAIQIAMQHxogACAAKAIMIANqNgIMIAIgAigCECADajYCECAAIAAoAhQgA2o2AhQgACAAKAIQIANrNgIQIAIgAigCFCADayIDNgIUIAMNACACIAIoAgg2AhALIAEoAhQNBUEAIQILIAAoAjAhAyABIAJBAWo2AhQgASgCCCACaiADOgAAIAAoAjAhAiABIAEoAhQiA0EBajYCFCADIAEoAghqIAJBCHY6AAAgAEEAQQBBABAGNgIwCyABQfEANgIEIAAoAhwiAhATAkAgACgCECIDIAIoAhQiBCADIARJGyIDRQ0AIAAoAgwgAigCECADEB8aIAAgACgCDCADajYCDCACIAIoAhAgA2o2AhAgACAAKAIUIANqNgIUIAAgACgCECADazYCECACIAIoAhQgA2siAzYCFCADDQAgAiACKAIINgIQCyABKAIURQ0AIAFBfzYCKA8LIAAoAgQNAQsgASgCdA0AIAEoAgRBmgVGDQgLIAEoAoQBIgJFBEAgAUEDEAwMBAsCQAJAIAEoAogBQQJrDgIAAQQLA0ACQAJAIAEoAnQNACABEAogASgCdA0AIAFBADYCtC0MAQsgAUEANgJgIAEoAjggASgCbGotAAAhAiABKAKkLSABKAKgLSIDQQF0akEAOwEAIAEgA0EBajYCoC0gAyABKAKYLWogAjoAACABIAJBAnRqQZQBaiICIAIvAQBBAWo7AQAgASABKAJ0QQFrNgJ0IAEgASgCbEEBaiICNgJsIAEoAqAtIAEoApwtQQFrRw0BIAEgASgCXCIEQQBOBH8gASgCOCAEagVBAAsgAiAEa0EAEBQgASABKAJsNgJcIAEoAgAiAigCHCIDEBMCQCACKAIQIgQgAygCFCIFIAQgBUkbIgRFDQAgAigCDCADKAIQIAQQHxogAiACKAIMIARqNgIMIAMgAygCECAEajYCECACIAIoAhQgBGo2AhQgAiACKAIQIARrNgIQIAMgAygCFCAEayICNgIUIAINACADIAMoAgg2AhALIAEoAgAoAhANAQwHCwsgASgCoC1FDQcgASABKAJcIgNBAE4EfyABKAI4IANqBUEACyABKAJsIANrQQAQFCABIAEoAmw2AlwgASgCACICKAIcIgMQEwJAIAIoAhAiBCADKAIUIgUgBCAFSRsiBEUNACACKAIMIAMoAhAgBBAfGiACIAIoAgwgBGo2AgwgAyADKAIQIARqNgIQIAIgAigCFCAEajYCFCACIAIoAhAgBGs2AhAgAyADKAIUIARrIgI2AhQgAg0AIAMgAygCCDYCEAsgASgCACgCEEUNBQwHCwNAAkACQAJAIAEoAnQiAkGDAk8EQCABQQA2AmAMAQsgARAKIAEoAnQiAgRAIAFBADYCYCACQQJLDQEgASgCbCEDDAILIAFBADYCtC0gASgCoC1FDQogASABKAJcIgNBAE4EfyABKAI4IANqBUEACyABKAJsIANrQQAQFCABIAEoAmw2AlwgASgCACICKAIcIgMQEwJAIAIoAhAiBCADKAIUIgUgBCAFSRsiBEUNACACKAIMIAMoAhAgBBAfGiACIAIoAgwgBGo2AgwgAyADKAIQIARqNgIQIAIgAigCFCAEajYCFCACIAIoAhAgBGs2AhAgAyADKAIUIARrIgI2AhQgAg0AIAMgAygCCDYCEAsgASgCACgCEEUNCAwKCyABKAJsIgNFBEBBACEDDAELIAEoAjggA2oiBkEBayIFLQAAIgQgBi0AAEcNACAEIAUtAAJHDQAgBCAFLQADRw0AIAZBggJqIQlBfyEIAkACQAJAAkACQAJAA0AgBiAIaiIFLQAEIARGBEAgBCAFLQAFRw0CIAQgBS0ABkcNAyAEIAUtAAdHDQQgBCAGIAhBCGoiCmoiBy0AAEcNByAEIAUtAAlHDQUgBCAFLQAKRw0GIAVBC2ohByAIQfYBSg0HIAohCCAEIActAABGDQEMBwsLIAVBBGohBwwFCyAFQQVqIQcMBAsgBUEGaiEHDAMLIAVBB2ohBwwCCyAFQQlqIQcMAQsgBUEKaiEHCyABIAIgByAJa0GCAmoiBCACIARJGyICNgJgIAJBA0kNACABKAKkLSABKAKgLSIDQQF0akEBOwEAIAEgA0EBajYCoC0gAyABKAKYLWogAkEDayICOgAAIAJB/wFxQYDNAGotAABBAnQgAWpBmAlqIgIgAi8BAEEBajsBACABQYDJAC0AAEECdGpBiBNqIgIgAi8BAEEBajsBACABKAJgIQIgAUEANgJgIAEgASgCdCACazYCdCABIAIgASgCbGoiAjYCbCABKAKgLSABKAKcLUEBa0cNAgwBCyABKAI4IANqLQAAIQIgASgCpC0gASgCoC0iA0EBdGpBADsBACABIANBAWo2AqAtIAMgASgCmC1qIAI6AAAgASACQQJ0akGUAWoiAiACLwEAQQFqOwEAIAEgASgCdEEBazYCdCABIAEoAmxBAWoiAjYCbCABKAKgLSABKAKcLUEBa0cNAQsgASABKAJcIgRBAE4EfyABKAI4IARqBUEACyACIARrQQAQFCABIAEoAmw2AlwgASgCACICKAIcIgMQEwJAIAIoAhAiBCADKAIUIgUgBCAFSRsiBEUNACACKAIMIAMoAhAgBBAfGiACIAIoAgwgBGo2AgwgAyADKAIQIARqNgIQIAIgAigCFCAEajYCFCACIAIoAhAgBGs2AhAgAyADKAIUIARrIgI2AhQgAg0AIAMgAygCCDYCEAsgASgCACgCEA0ACwwECyABQX82AigPCyABQX82AigPCyABQQMgAkEMbEGIyABqKAIAEQQACyICQX5xQQJGBEAgAUGaBTYCBAsgAkF9cQ0BCyAAKAIQDQMgAUF/NgIoDwsgAkEBRw0BCyABQQBBAEEAEBIgASgCRCICIAEoAkxBAXRBAmsiA2pBADsBACACIAMQICABKAJ0RQRAIAFBADYCtC0gAUEANgJcIAFBADYCbAsgACgCHCICEBMCQCAAKAIQIgQgAigCFCIDIAMgBEsbIgNFDQAgACgCDCACKAIQIAMQHxogACAAKAIMIANqNgIMIAIgAigCECADajYCECAAIAAoAhQgA2o2AhQgACAAKAIQIANrIgQ2AhAgAiACKAIUIANrIgM2AhQgAw0AIAIgAigCCDYCEAsgBA0AIAFBfzYCKAsLC7YNAQt/IAAoAgAiBCgCBCEJQQEhCAJAIAQoAhAiAyAAKAK8LUEqakEDdSICSQ0AIAAoAiwiBSAAKAIMQQVrIgYgBSAGSRshCiABQQRHIQsDQCAKIAMgAmsiAyAAKAJsIAAoAlxrIgYgBCgCBGoiAkH//wMgAkH//wNJGyIFIAMgBUkbIgNLBEAgAiADRw0CIAFFDQIgCyADRXENAgsgAEEAQQAgAUEERiACIANGcSIHEBIgACgCFCAAKAIIakEEayADOgAAIAAoAhQgACgCCGpBA2sgA0EIdjoAACAAKAIUIAAoAghqQQJrIANBf3MiAjoAACAAKAIUIAAoAghqQQFrIAJBCHY6AAAgACgCACICKAIcIgQQEwJAIAIoAhAiBSAEKAIUIgwgBSAMSRsiBUUNACACKAIMIAQoAhAgBRAfGiACIAIoAgwgBWo2AgwgBCAEKAIQIAVqNgIQIAIgAigCFCAFajYCFCACIAIoAhAgBWs2AhAgBCAEKAIUIAVrIgI2AhQgAg0AIAQgBCgCCDYCEAsCfyAGBEAgACgCACgCDCAAKAI4IAAoAlxqIAMgBiADIAZJGyICEB8aIAAoAgAiBCAEKAIMIAJqNgIMIAQgBCgCECACazYCECAEIAQoAhQgAmo2AhQgACAAKAJcIAJqNgJcIAMgAmshAwsgAwsEQCAAKAIAIgIoAgwhBSADIAIoAgQiBiADIAZJGyIEBEAgAiAGIARrNgIEIAUgAigCACAEEB8hBQJAAkACQCACKAIcKAIYQQFrDgIAAQILIAIgAigCMCAFIAQQBDYCMAwBCyACIAIoAjAgBSAEEAY2AjALIAIgAigCACAEajYCACACIAIoAgggBGo2AgggACgCACICKAIMIQULIAIgAyAFajYCDCACIAIoAhAgA2s2AhAgAiACKAIUIANqNgIUCyAAKAIAIQQgBwRAQQAhCAwCCyAEKAIQIgMgACgCvC1BKmpBA3UiAk8NAAsLAkAgCSAEKAIEayIDRQRAIAAoAmwhAgwBCwJAIAAoAiwiAiADTQRAIABBAjYCsC0gACgCOCAEKAIAIAJrIAIQHxogACAAKAIsIgQ2AmwgBCECDAELAkAgACgCPCAAKAJsIgRrIANLDQAgACAEIAJrIgQ2AmwgACgCOCIFIAIgBWogBBAfGiAAKAKwLSICQQFLDQAgACACQQFqNgKwLQsgACgCOCAAKAJsaiAAKAIAKAIAIANrIAMQHxogACAAKAJsIANqIgI2AmwgACgCLCEECyAAIAI2AlwgACAEIAAoArQtIgVrIgQgAyADIARLGyAFajYCtC0LIAIgACgCwC1LBEAgACACNgLALQtBAyEDAkAgCEUNACAAKAIAIgQoAgQhAwJAAkAgAUF7cUUNACADDQBBASEDIAIgACgCXEYNAiAAKAI8IAJBf3NqIQVBACEDDAELIAMgACgCPCACQX9zaiIFTQ0AIAAoAlwiByAAKAIsIgZIDQAgACACIAZrIgM2AmwgACAHIAZrNgJcIAAoAjgiAiACIAZqIAMQHxogACgCsC0iA0EBTQRAIAAgA0EBajYCsC0LIAAoAiwgBWohBSAAKAIAIgQoAgQhAwsCQCADIAUgAyAFSRsiAkUEQCAAKAJsIQMMAQsgACgCbCEFIAAoAjghBiAEIAMgAms2AgQgBSAGaiAEKAIAIAIQHyEDAkACQAJAIAQoAhwoAhhBAWsOAgABAgsgBCAEKAIwIAMgAhAENgIwDAELIAQgBCgCMCADIAIQBjYCMAsgBCAEKAIAIAJqNgIAIAQgBCgCCCACajYCCCAAIAAoAmwgAmoiAzYCbAsgAyAAKALALUsEQCAAIAM2AsAtCyADIAAoAlwiBmsiBCAAKAIsIgMgACgCDCAAKAK8LUEqakEDdWsiAkH//wMgAkH//wNJGyICIAIgA0sbSQRAQQAhAyABRQ0BIAFBBEYgBEEAR3JFDQEgAiAESQ0BIAAoAgAoAgQNAQtBACEFIAAgACgCOCAGaiACIAQgAiAESRsiAwJ/IAFBBEYEQCAAKAIAKAIERSACIARPcSEFCyAFCxASIAAgACgCXCADajYCXCAAKAIAIgAoAhwiAxATAkAgACgCECICIAMoAhQiBCACIARJGyICRQ0AIAAoAgwgAygCECACEB8aIAAgACgCDCACajYCDCADIAMoAhAgAmo2AhAgACAAKAIUIAJqNgIUIAAgACgCECACazYCECADIAMoAhQgAmsiADYCFCAADQAgAyADKAIINgIQC0ECQQAgBRshAwsgAwu5CwENfwJAA0ACQAJAIAAoAnRBhQJNBEAgABAKIAAoAnQhAgJAIAENACACQYYCTw0AQQAPCyACRQ0EIAJBA0kNAQsgACAAKAJUIAAoAmwiAiAAKAI4ai0AAiAAKAJIIAAoAlh0c3EiAzYCSCAAKAJAIAIgACgCNHFBAXRqIAAoAkQgA0EBdGoiBC8BACIDOwEAIAQgAjsBACADRQ0AIAAoAixBhgJrIAIgA2tJDQAgACAAIAMQDiICNgJgDAELIAAoAmAhAgsCQCACQQNPBEAgACgCpC0gACgCoC0iA0EBdGogACgCbCAAKAJwayIEOwEAIAAgA0EBajYCoC0gAyAAKAKYLWogAkEDayICOgAAIAJB/wFxQYDNAGotAABBAnQgAGpBmAlqIgIgAi8BAEEBajsBACAAIARBAWtB//8DcSICIAJBB3ZBgAJqIAJBgAJJG0GAyQBqLQAAQQJ0akGIE2oiAiACLwEAQQFqOwEAIAAgACgCdCAAKAJgIgJrIgM2AnQgACgCnC1BAWshBiAAKAKgLSEHAkAgA0EDSQ0AIAIgACgCgAFLDQAgACACQQFrIgM2AmAgACgCSCEEIAAoAmwhAiAAKAI0IQggACgCQCEJIAAoAkQhCiAAKAJUIQsgACgCOCEMIAAoAlghDQNAIAAgAiIFQQFqIgI2AmwgACAFIAxqLQADIAQgDXRzIAtxIgQ2AkggCSACIAhxQQF0aiAKIARBAXRqIg4vAQA7AQAgDiACOwEAIAAgA0EBayIDNgJgIAMNAAsgACAFQQJqIgI2AmwgBiAHRw0DDAILIABBADYCYCAAIAAoAmwgAmoiAjYCbCAAIAAoAjggAmoiAy0AACIENgJIIAAgACgCVCADLQABIAQgACgCWHRzcTYCSCAGIAdHDQIMAQsgACgCOCAAKAJsai0AACECIAAoAqQtIAAoAqAtIgNBAXRqQQA7AQAgACADQQFqNgKgLSADIAAoApgtaiACOgAAIAAgAkECdGpBlAFqIgIgAi8BAEEBajsBACAAIAAoAnRBAWs2AnQgACAAKAJsQQFqIgI2AmwgACgCoC0gACgCnC1BAWtHDQELQQAhAyAAIAAoAlwiBEEATgR/IAAoAjggBGoFIAMLIAIgBGtBABAUIAAgACgCbDYCXCAAKAIAIgIoAhwiAxATAkAgAigCECIEIAMoAhQiBSAEIAVJGyIERQ0AIAIoAgwgAygCECAEEB8aIAIgAigCDCAEajYCDCADIAMoAhAgBGo2AhAgAiACKAIUIARqNgIUIAIgAigCECAEazYCECADIAMoAhQgBGsiAjYCFCACDQAgAyADKAIINgIQCyAAKAIAKAIQDQALQQAPCyAAIAAoAmwiAkECIAJBAkkbNgK0LSABQQRGBEBBACEDIAAgACgCXCIEQQBOBH8gACgCOCAEagUgAwsgAiAEa0EBEBQgACAAKAJsNgJcIAAoAgAiAigCHCIDEBMCQCACKAIQIgQgAygCFCIFIAQgBUkbIgRFDQAgAigCDCADKAIQIAQQHxogAiACKAIMIARqNgIMIAMgAygCECAEajYCECACIAIoAhQgBGo2AhQgAiACKAIQIARrNgIQIAMgAygCFCAEayICNgIUIAINACADIAMoAgg2AhALQQNBAiAAKAIAKAIQGw8LAkAgACgCoC1FDQBBACEDIAAgACgCXCIEQQBOBH8gACgCOCAEagUgAwsgAiAEa0EAEBQgACAAKAJsNgJcIAAoAgAiAigCHCIDEBMCQCACKAIQIgQgAygCFCIFIAQgBUkbIgRFDQAgAigCDCADKAIQIAQQHxogAiACKAIMIARqNgIMIAMgAygCECAEajYCECACIAIoAhQgBGo2AhQgAiACKAIQIARrNgIQIAMgAygCFCAEayICNgIUIAINACADIAMoAgg2AhALIAAoAgAoAhANAEEADwtBAQukBAEQfyAAKAJ8IgMgA0ECdiAAKAJ4IgQgACgCjAFJGyEJQQAgACgCbCIDIAAoAixrQYYCaiICIAIgA0sbIQwgACgCdCIHIAAoApABIgIgAiAHSxshDSAAKAI4Ig4gA2oiBUGCAmohDyAEIAVqIgMtAAAhCiADQQFrLQAAIQsgACgCNCEQIAAoAkAhEQNAAkACQCABIA5qIgMgBGoiAi0AACAKRw0AIAJBAWstAAAgC0cNACADLQAAIAUtAABHDQBBAiEGIAMtAAEgBS0AAUcNAAJAAkACQAJAAkACQAJAA0AgBSAGaiICLQABIAMtAANHDQYgAi0AAiADLQAERw0FIAItAAMgAy0ABUcNBCACLQAEIAMtAAZHDQMgAi0ABSADLQAHRw0CIAItAAYgAy0ACEcNASACLQAHIAMtAAlGBEAgBkH5AUshCCAFIAZBCGoiBmohAiAIDQggAy0ACiEIIANBCGohAyACLQAAIAhGDQEMCAsLIAJBB2ohAgwGCyACQQZqIQIMBQsgAkEFaiECDAQLIAJBBGohAgwDCyACQQNqIQIMAgsgAkECaiECDAELIAJBAWohAgsgAiAPayICQYICaiIDIARMDQAgACABNgJwIAMgDU4EQCADIQQMAgsgAyAFai0AACEKIAIgBWotAIECIQsgAyEECyAJQQFrIglFDQAgDCARIAEgEHFBAXRqLwEAIgFJDQELCyAHIAQgBCAHSxsL3Q4BB38DQAJAAkACQCAAKAJ0QYUCSw0AIAAQCiAAKAJ0IQICQCABDQAgAkGGAk8NAEEADwsgAkUNAiACQQJLDQAgACAAKAJgIgI2AnggACAAKAJwNgJkQQIhAyAAQQI2AmAMAQtBAiEDIAAgACgCVCAAKAJsIgIgACgCOGotAAIgACgCSCAAKAJYdHNxIgQ2AkggACgCQCACIAAoAjRxQQF0aiAAKAJEIARBAXRqIgUvAQAiBDsBACAFIAI7AQAgACAAKAJgIgI2AnggACAAKAJwNgJkIABBAjYCYCAERQ0AAkAgAiAAKAKAAU8NACAAKAIsQYYCayAAKAJsIARrSQ0AIAAgACAEEA4iAzYCYCADQQVLDQAgACgCiAFBAUcEQCADQQNHDQFBAyEDIAAoAmwgACgCcGtBgSBJDQELQQIhAyAAQQI2AmALIAAoAnghAgsCQCACQQNJDQAgAiADSQ0AIAAoAnQhBCAAKAKkLSAAKAKgLSIDQQF0aiAAKAJsIgUgACgCZEF/c2oiBjsBACAAIANBAWo2AqAtIAMgACgCmC1qIAJBA2siAjoAACACQf8BcUGAzQBqLQAAQQJ0IABqQZgJaiICIAIvAQBBAWo7AQAgACAGQQFrQf//A3EiAiACQQd2QYACaiACQYACSRtBgMkAai0AAEECdGpBiBNqIgIgAi8BAEEBajsBACAAIAAoAngiAkECayIDNgJ4IAAgACgCdCACa0EBajYCdCAEIAVqQQNrIQUgACgCnC1BAWshByAAKAJsIQIgACgCoC0hCANAIAAgAiIEQQFqIgI2AmwgAiAFTQRAIAAgACgCVCAEIAAoAjhqLQADIAAoAkggACgCWHRzcSIGNgJIIAAoAkAgACgCNCACcUEBdGogACgCRCAGQQF0aiIGLwEAOwEAIAYgAjsBAAsgACADQQFrIgM2AnggAw0ACyAAQQI2AmAgAEEANgJoIAAgBEECaiICNgJsIAcgCEcNAkEAIQMgACAAKAJcIgRBAE4EfyAAKAI4IARqBSADCyACIARrQQAQFCAAIAAoAmw2AlwgACgCACICKAIcIgMQEwJAIAIoAhAiBCADKAIUIgUgBCAFSRsiBEUNACACKAIMIAMoAhAgBBAfGiACIAIoAgwgBGo2AgwgAyADKAIQIARqNgIQIAIgAigCFCAEajYCFCACIAIoAhAgBGs2AhAgAyADKAIUIARrIgI2AhQgAg0AIAMgAygCCDYCEAsgACgCACgCEA0CQQAPCyAAKAJoBEAgACgCbCAAKAI4akEBay0AACECIAAoAqQtIAAoAqAtIgNBAXRqQQA7AQAgACADQQFqNgKgLSADIAAoApgtaiACOgAAIAAgAkECdGpBlAFqIgIgAi8BAEEBajsBAAJAIAAoAqAtIAAoApwtQQFrRw0AQQAhAyAAIAAoAlwiAkEATgR/IAAoAjggAmoFIAMLIAAoAmwgAmtBABAUIAAgACgCbDYCXCAAKAIAIgIoAhwiAxATIAIoAhAiBCADKAIUIgUgBCAFSRsiBEUNACACKAIMIAMoAhAgBBAfGiACIAIoAgwgBGo2AgwgAyADKAIQIARqNgIQIAIgAigCFCAEajYCFCACIAIoAhAgBGs2AhAgAyADKAIUIARrIgI2AhQgAg0AIAMgAygCCDYCEAsgACAAKAJsQQFqNgJsIAAgACgCdEEBazYCdCAAKAIAKAIQDQJBAA8FIABBATYCaCAAIAAoAmxBAWo2AmwgACAAKAJ0QQFrNgJ0DAILAAsLIAAoAmgEQCAAKAJsIAAoAjhqQQFrLQAAIQIgACgCpC0gACgCoC0iA0EBdGpBADsBACAAIANBAWo2AqAtIAMgACgCmC1qIAI6AAAgACACQQJ0akGUAWoiAiACLwEAQQFqOwEAIABBADYCaAsgACAAKAJsIgJBAiACQQJJGzYCtC0gAUEERgRAQQAhAyAAIAAoAlwiBEEATgR/IAAoAjggBGoFIAMLIAIgBGtBARAUIAAgACgCbDYCXCAAKAIAIgIoAhwiAxATAkAgAigCECIEIAMoAhQiBSAEIAVJGyIERQ0AIAIoAgwgAygCECAEEB8aIAIgAigCDCAEajYCDCADIAMoAhAgBGo2AhAgAiACKAIUIARqNgIUIAIgAigCECAEazYCECADIAMoAhQgBGsiAjYCFCACDQAgAyADKAIINgIQC0EDQQIgACgCACgCEBsPCwJAIAAoAqAtRQ0AQQAhAyAAIAAoAlwiBEEATgR/IAAoAjggBGoFIAMLIAIgBGtBABAUIAAgACgCbDYCXCAAKAIAIgIoAhwiAxATAkAgAigCECIEIAMoAhQiBSAEIAVJGyIERQ0AIAIoAgwgAygCECAEEB8aIAIgAigCDCAEajYCDCADIAMoAhAgBGo2AhAgAiACKAIUIARqNgIUIAIgAigCECAEazYCECADIAMoAhQgBGsiAjYCFCACDQAgAyADKAIINgIQCyAAKAIAKAIQDQBBAA8LQQELYQAgAEEANgK8LSAAQQA7AbgtIABBuBZqQajPADYCACAAIABB/BRqNgKwFiAAQawWakGUzwA2AgAgACAAQYgTajYCpBYgAEGgFmpBgM8ANgIAIAAgAEGUAWo2ApgWIAAQEQvwBAEDfyAAQZQBaiECA0AgAiABQQJ0IgNqQQA7AQAgAiADQQRyakEAOwEAIAFBAmoiAUGeAkcNAAsgAEEAOwH8FCAAQQA7AYgTIABBxBVqQQA7AQAgAEHAFWpBADsBACAAQbwVakEAOwEAIABBuBVqQQA7AQAgAEG0FWpBADsBACAAQbAVakEAOwEAIABBrBVqQQA7AQAgAEGoFWpBADsBACAAQaQVakEAOwEAIABBoBVqQQA7AQAgAEGcFWpBADsBACAAQZgVakEAOwEAIABBlBVqQQA7AQAgAEGQFWpBADsBACAAQYwVakEAOwEAIABBiBVqQQA7AQAgAEGEFWpBADsBACAAQYAVakEAOwEAIABB/BNqQQA7AQAgAEH4E2pBADsBACAAQfQTakEAOwEAIABB8BNqQQA7AQAgAEHsE2pBADsBACAAQegTakEAOwEAIABB5BNqQQA7AQAgAEHgE2pBADsBACAAQdwTakEAOwEAIABB2BNqQQA7AQAgAEHUE2pBADsBACAAQdATakEAOwEAIABBzBNqQQA7AQAgAEHIE2pBADsBACAAQcQTakEAOwEAIABBwBNqQQA7AQAgAEG8E2pBADsBACAAQbgTakEAOwEAIABBtBNqQQA7AQAgAEGwE2pBADsBACAAQawTakEAOwEAIABBqBNqQQA7AQAgAEGkE2pBADsBACAAQaATakEAOwEAIABBnBNqQQA7AQAgAEGYE2pBADsBACAAQZQTakEAOwEAIABBkBNqQQA7AQAgAEGME2pBADsBACAAQgA3AqwtIABBlAlqQQE7AQAgAEEANgKoLSAAQQA2AqAtC7IDAQJ/IAAgAC8BuC0gA0H//wNxIgUgACgCvC0iBHRyIgM7AbgtAkACQAJ/IARBDk4EQCAAIAAoAhQiBEEBajYCFCAEIAAoAghqIAM6AAAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAAQbktai0AADoAACAAIAVBECAAKAK8LSIEa3YiAzsBuC0gBEENawwBCyAEQQNqCyIEQQlOBEAgACAAKAIUIgRBAWo2AhQgBCAAKAIIaiADOgAAIAAgACgCFCIDQQFqNgIUIAMgACgCCGohBCAAQbktai0AACEDDAELIARBAUgNASAAIAAoAhQiBEEBajYCFCAEIAAoAghqIQQLIAQgAzoAAAsgAEEANgK8LSAAQQA7AbgtIAAgACgCFCIDQQFqNgIUIAMgACgCCGogAjoAACAAIAAoAhQiA0EBajYCFCADIAAoAghqIAJBCHY6AAAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiACQX9zIgM6AAAgACAAKAIUIgRBAWo2AhQgBCAAKAIIaiADQQh2OgAAIAAoAgggACgCFGogASACEB8aIAAgACgCFCACajYCFAusAQEBfwJAIAACfyAAKAK8LSIBQRBGBEAgACAAKAIUIgFBAWo2AhQgASAAKAIIaiAALQC4LToAACAAIAAoAhQiAUEBajYCFCABIAAoAghqIABBuS1qLQAAOgAAIABBADsBuC1BAAwBCyABQQhIDQEgACAAKAIUIgFBAWo2AhQgASAAKAIIaiAALQC4LToAACAAIABBuS1qLQAAOwG4LSAAKAK8LUEIaws2ArwtCwuhEwENfwJ/AkACQAJAIAAoAoQBQQFOBEAgACgCACIGKAIsQQJHDQNB/4D/n38hBANAAkAgBEEBcUUNACAAIAVBAnRqLwGUAUUNAEEAIQQMBAsCQCAEQQJxRQ0AIAAgBUECdEEEcmovAZQBRQ0AQQAhBAwECyAEQQJ2IQQgBUECaiIFQSBHDQALDAELIAJBBWoiBQwDCwJAIAAvAbgBDQAgAC8BvAENACAALwHIAQ0AQSAhBQNAIAAgBUECdCIEai8BlAENASAAIARBBHJqLwGUAQ0BIAAgBEEIcmovAZQBDQEgACAEQQxyai8BlAENAUEAIQQgBUEEaiIFQYACRw0ACwwBC0EBIQQLIAYgBDYCLAsgACAAQZgWahAVIAAgAEGkFmoQFSAALwGWASEEIAAgAEGcFmooAgAiCkECdGpB//8DOwGaASAKQQBOBEBBB0GKASAEGyEJQQRBAyAEGyELIABBwBVqIQ4gAEHEFWohDyAAQbwVaiEQQX8hDANAIAQhBSAAIAgiDUEBaiIIQQJ0ai8BlgEhBAJAAkAgB0EBaiIGIAlODQAgBCAFRw0AIAYhBwwBCwJ/IAYgC0gEQCAAIAVBAnRqQfwUaiIHLwEAIAZqDAELIAUEQCAFIAxHBEAgACAFQQJ0akH8FGoiBiAGLwEAQQFqOwEACyAQIgcvAQBBAWoMAQsgB0EJTARAIA4iBy8BAEEBagwBCyAPIgcvAQBBAWoLIQYgByAGOwEAQQAhBwJ/IARFBEBBAyELQYoBDAELQQNBBCAEIAVGIgYbIQtBBkEHIAYbCyEJIAUhDAsgCiANRw0ACwsgAEGKE2ovAQAhBCAAIABBqBZqKAIAIgpBAnRqQY4TakH//wM7AQBBACEHIApBAE4EQEEHQYoBIAQbIQlBBEEDIAQbIQsgAEHAFWohDiAAQcQVaiEPIABBvBVqIRBBfyEMQQAhCANAIAQhBSAAIAgiDUEBaiIIQQJ0akGKE2ovAQAhBAJAAkAgB0EBaiIGIAlODQAgBCAFRw0AIAYhBwwBCwJ/IAYgC0gEQCAAIAVBAnRqQfwUaiIHLwEAIAZqDAELIAUEQCAFIAxHBEAgACAFQQJ0akH8FGoiBiAGLwEAQQFqOwEACyAQIgcvAQBBAWoMAQsgB0EJTARAIA4iBy8BAEEBagwBCyAPIgcvAQBBAWoLIQYgByAGOwEAQQAhBwJ/IARFBEBBAyELQYoBDAELQQNBBCAEIAVGIgYbIQtBBkEHIAYbCyEJIAUhDAsgCiANRw0ACwsgACAAQbAWahAVIAAgACgCqC0Cf0ESIABBuhVqLwEADQAaQREgAEGCFWovAQANABpBECAAQbYVai8BAA0AGkEPIABBhhVqLwEADQAaQQ4gAEGyFWovAQANABpBDSAAQYoVai8BAA0AGkEMIABBrhVqLwEADQAaQQsgAEGOFWovAQANABpBCiAAQaoVai8BAA0AGkEJIABBkhVqLwEADQAaQQggAEGmFWovAQANABpBByAAQZYVai8BAA0AGkEGIABBohVqLwEADQAaQQUgAEGaFWovAQANABpBBCAAQZ4Vai8BAA0AGkEDQQIgAEH+FGovAQAbCyIIQQNsaiIEQRFqNgKoLSAEQRtqQQN2IgQgACgCrC1BCmpBA3YiBSAEIAVJGwshBAJAAkAgAUUNACACQQRqIARLDQAgACABIAIgAxASDAELIAAoArwtIQYCQCAEIAVHBEAgACgCiAFBBEcNAQsgACAALwG4LSADQQJqQf//A3EiBCAGdHIiBTsBuC0gAAJ/IAZBDk4EQCAAIAAoAhQiBkEBajYCFCAGIAAoAghqIAU6AAAgACAAKAIUIgVBAWo2AhQgBSAAKAIIaiAAQbktai0AADoAACAAIARBECAAKAK8LSIFa3Y7AbgtIAVBDWsMAQsgBkEDags2ArwtIABBwM8AQcDYABAWDAELIAAvAbgtIANBBGpB//8DcSIHIAZ0ciEFAkAgBkEOTgRAIAAgBTsBuC0gACAAKAIUIgRBAWo2AhQgBCAAKAIIaiAFOgAAIAAgACgCFCIEQQFqNgIUIAQgACgCCGogAEG5LWotAAA6AAAgACgCvC0iBUENayEEIAdBECAFa3YhBQwBCyAGQQNqIQQLIAAgBDYCvC0gAEGcFmooAgAiCkGA/gNqQf//A3EiByAEdCEGIABBqBZqKAIAIQkCfyAEQQxOBEAgACAFIAZyIgQ7AbgtIAAgACgCFCIFQQFqNgIUIAUgACgCCGogBDoAACAAIAAoAhQiBEEBajYCFCAEIAAoAghqIABBuS1qLQAAOgAAIAAoArwtIgVBC2shBCAHQRAgBWt2DAELIARBBWohBCAFIAZyCyEFIAAgBDYCvC0gCUH//wNxIgcgBHQhBgJ/IARBDE4EQCAAIAUgBnIiBDsBuC0gACAAKAIUIgVBAWo2AhQgBSAAKAIIaiAEOgAAIAAgACgCFCIEQQFqNgIUIAQgACgCCGogAEG5LWotAAA6AAAgACgCvC0iBUELayEEIAdBECAFa3YMAQsgBEEFaiEEIAUgBnILIQUgACAENgK8LSAIQf3/A2pB//8DcSIHIAR0IQYCfyAEQQ1OBEAgACAFIAZyIgQ7AbgtIAAgACgCFCIFQQFqNgIUIAUgACgCCGogBDoAACAAIAAoAhQiBEEBajYCFCAEIAAoAghqIABBuS1qLQAAOgAAIAAoArwtIgVBDGshBCAHQRAgBWt2DAELIARBBGohBCAFIAZyCyEGIAAgBDYCvC1BACEFIABBuS1qIQ0DQCAAIAYgACAFQZDcAGotAABBAnRqQf4Uai8BACIHIAR0ciIGOwG4LSAAAn8gBEEOTgRAIAAgACgCFCIEQQFqNgIUIAQgACgCCGogBjoAACAAIAAoAhQiBEEBajYCFCAEIAAoAghqIA0tAAA6AAAgACAHQRAgACgCvC0iBGt2IgY7AbgtIARBDWsMAQsgBEEDagsiBDYCvC0gBSAIRyEHIAVBAWohBSAHDQALIAAgAEGUAWoiBCAKEBcgACAAQYgTaiIFIAkQFyAAIAQgBRAWCyAAEBEgAwRAAkACfyAAKAK8LSIEQQlOBEAgACAAKAIUIgRBAWo2AhQgBCAAKAIIaiAALQC4LToAACAAIAAoAhQiBEEBajYCFCAEIAAoAghqIQQgAEG5LWotAAAMAQsgBEEBSA0BIAAgACgCFCIEQQFqNgIUIAQgACgCCGohBCAALQC4LQshBSAEIAU6AAALIABBADYCvC0gAEEAOwG4LQsLsRUBFX8jAEEgayEKIAEoAgAhCSABKAIIIgIoAgAhBSACKAIMIQ0gAEKAgICA0McANwLQKEF/IRACQCANQQBKBEBBACECA0ACQCAJIAJBAnRqIgMvAQAEQCAAIAAoAtAoQQFqIgM2AtAoIAAgA0ECdGpB3BZqIAI2AgAgACACakHYKGpBADoAACACIRAMAQsgA0EAOwECCyACQQFqIgIgDUcNAAsgACgC0CgiBEEBSg0BCwNAIAAgBEEBaiICNgLQKCAAIAJBAnRqQdwWaiAQQQFqIgNBACAQQQJIIgQbIgI2AgAgCSACQQJ0IgdqQQE7AQAgACACakHYKGpBADoAACAAIAAoAqgtQQFrNgKoLSAFBEAgACAAKAKsLSAFIAdqLwECazYCrC0LIAMgECAEGyEQIAAoAtAoIgRBAkgNAAsLIAEgEDYCBCAEQQF2IQgDQCAAIAhBAnRqQdwWaigCACELAkAgCCICQQF0IgMgBEoNACAAIAtqQdgoaiEPIAkgC0ECdGohBiAIIQUDQAJAIAMgBE4EQCADIQIMAQsgCSAAQdwWaiICIANBAXIiBEECdGooAgAiDkECdGovAQAiByAJIAIgA0ECdGooAgAiDEECdGovAQAiAk8EQCACIAdHBEAgAyECDAILIAMhAiAAQdgoaiIDIA5qLQAAIAMgDGotAABLDQELIAQhAgsgBi8BACIEIAkgACACQQJ0akHcFmooAgAiA0ECdGovAQAiB0kEQCAFIQIMAgsCQCAEIAdHDQAgDy0AACAAIANqQdgoai0AAEsNACAFIQIMAgsgACAFQQJ0akHcFmogAzYCACACIQUgAkEBdCIDIAAoAtAoIgRMDQALCyAAIAJBAnRqQdwWaiALNgIAIAhBAk4EQCAIQQFrIQggACgC0CghBAwBCwsgACgC0CghAwNAIA0hCCAAIANBAWsiBDYC0CggACgC4BYhCyAAIAAgA0ECdGpB3BZqKAIAIg02AuAWQQEhAgJAIANBA0gNACAAIA1qQdgoaiEPQQIhAyAJIA1BAnRqIQZBASEFA0ACQCADIAROBEAgAyECDAELIAkgAEHcFmoiAiADQQFyIgRBAnRqKAIAIg5BAnRqLwEAIgcgCSACIANBAnRqKAIAIgxBAnRqLwEAIgJPBEAgAiAHRwRAIAMhAgwCCyADIQIgAEHYKGoiAyAOai0AACADIAxqLQAASw0BCyAEIQILIAYvAQAiBCAJIAAgAkECdGpB3BZqKAIAIgNBAnRqLwEAIgdJBEAgBSECDAILAkAgBCAHRw0AIA8tAAAgACADakHYKGotAABLDQAgBSECDAILIAAgBUECdGpB3BZqIAM2AgAgAiEFIAJBAXQiAyAAKALQKCIETA0ACwtBAiEDIABB3BZqIgYgAkECdGogDTYCACAAIAAoAtQoQQFrIgQ2AtQoIAAoAuAWIQIgBiAEQQJ0aiALNgIAIAAgACgC1ChBAWsiBDYC1CggBiAEQQJ0aiACNgIAIAkgCEECdGoiDiAJIAJBAnRqIgQvAQAgCSALQQJ0aiIFLwEAajsBACAAQdgoaiIMIAhqIg8gAiAMai0AACICIAsgDGotAAAiByACIAdLG0EBajoAACAEIAg7AQIgBSAIOwECIAAgCDYC4BZBASEFQQEhAgJAIAAoAtAoIgRBAkgNAANAAn8gAyADIARODQAaIAkgBiADQQFyIgRBAnRqKAIAIgtBAnRqLwEAIgIgCSAGIANBAnRqKAIAIg1BAnRqLwEAIgdPBEAgAyACIAdHDQEaIAMgCyAMai0AACAMIA1qLQAASw0BGgsgBAshAiAOLwEAIgQgCSAAIAJBAnRqQdwWaigCACIDQQJ0ai8BACIHSQRAIAUhAgwCCwJAIAQgB0cNACAPLQAAIAAgA2pB2ChqLQAASw0AIAUhAgwCCyAAIAVBAnRqQdwWaiADNgIAIAIhBSACQQF0IgMgACgC0CgiBEwNAAsLIAhBAWohDSAAIAJBAnRqQdwWaiAINgIAIAAoAtAoIgNBAUoNAAsgACAAKALUKEEBayICNgLUKCAAQdwWaiIDIAJBAnRqIAAoAuAWNgIAIAEoAgQhByABKAIIIgIoAhAhBiACKAIIIREgAigCBCETIAIoAgAhEiABKAIAIQwgAEHUFmoiAUIANwEAIABBzBZqIhRCADcBACAAQcQWaiIVQgA3AQAgAEG8FmoiFkIANwEAQQAhCCAMIAMgACgC1ChBAnRqKAIAQQJ0akEAOwECAkAgACgC1CgiAkG7BEoNACACQQFqIQJBACEOA0AgDCAAIAJBAnRqQdwWaigCACIEQQJ0Ig1qIgUgDCAFLwECQQJ0ai8BAiIDQQFqIAYgAyAGSBsiDzsBAiADIAZOIQMCQCAEIAdKDQAgACAPQQF0akG8FmoiCyALLwEAQQFqOwEAQQAhCyAEIBFOBEAgEyAEIBFrQQJ0aigCACELCyAAIAAoAqgtIAUvAQAiBCALIA9qbGo2AqgtIBJFDQAgACAAKAKsLSALIA0gEmovAQJqIARsajYCrC0LIAMgDmohDiACQQFqIgJBvQRHDQALIA5FDQAgACAGQQF0akG8FmohDwNAIAYhAgNAIAAgAiIDQQFrIgJBAXRqQbwWaiIELwEAIgVFDQALIAQgBUEBazsBACAAIANBAXRqQbwWaiICIAIvAQBBAmo7AQAgDyAPLwEAQQFrIgI7AQAgDkECSiEDIA5BAmshDiADDQALIAZFDQBBvQQhBQNAIAJB//8DcSEDIAUhAgNAIAMEQCAAIAJBAWsiAkECdGpB3BZqKAIAIgQgB0oNASAMIARBAnRqIgQvAQIiBSAGRwRAIAAgACgCqC0gBC8BACAGIAVrbGo2AqgtIAQgBjsBAgsgA0EBayEDIAIhBQwBCwsgBkEBayIGRQ0BIAAgBkEBdGpBvBZqLwEAIQIMAAsACyAKIBYvAQBBAXQiAjsBAiAKIAIgAEG+FmovAQBqQQF0IgI7AQQgCiACIABBwBZqLwEAakEBdCICOwEGIAogAiAAQcIWai8BAGpBAXQiAjsBCCAKIAIgFS8BAGpBAXQiAjsBCiAKIAIgAEHGFmovAQBqQQF0IgI7AQwgCiACIABByBZqLwEAakEBdCICOwEOIAogAiAAQcoWai8BAGpBAXQiAjsBECAKIAIgFC8BAGpBAXQiAjsBEiAKIAIgAEHOFmovAQBqQQF0IgI7ARQgCiACIABB0BZqLwEAakEBdCICOwEWIAogAiAAQdIWai8BAGpBAXQiAjsBGCAKIAEvAQAgAmpBAXQiAjsBGiAKIABB1hZqLwEAIAJqQQF0IgI7ARwgCiACIABB2BZqLwEAakEBdDsBHiAQQQBOBEADQCAJIAhBAnRqIgcvAQIiBARAIAogBEEBdGoiACAALwEAIgBBAWo7AQAgBEEDcSEDQQAhAiAEQQFrQQNPBEAgBEH8/wNxIQUDQCAAQQN2QQFxIABBAnZBAXEgAEECcSACIABBAXFyQQJ0cnJBAXRyIgRBAXQhAiAAQQR2IQAgBUEEayIFDQALCyADBEADQCACIABBAXFyIgRBAXQhAiAAQQF2IQAgA0EBayIDDQALCyAHIAQ7AQALIAggEEchACAIQQFqIQggAA0ACwsL2QgBCn8CQCAAKAKgLUUEQCAAKAK8LSEDDAELIABBuS1qIQgDQCAEQQFqIQogACgCmC0gBGotAAAhBQJAIAACfyAAKAKkLSAEQQF0ai8BACIHRQRAIAEgBUECdGoiAy8BAiEEIAAgAC8BuC0gAy8BACIFIAAoArwtIgN0ciIHOwG4LUEQIARrIANIBEAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAHOgAAIAAgACgCFCIDQQFqNgIUIAMgACgCCGogCC0AADoAACAAIAVBECAAKAK8LSIDa3Y7AbgtIAMgBGpBEGsMAgsgAyAEagwBCyAFQYDNAGotAAAiC0ECdCIJQYAIciABaiIDLwEGIQQgACAALwG4LSADLwEEIgwgACgCvC0iBnRyIgM7AbgtIAACf0EQIARrIAZIBEAgACAAKAIUIgZBAWo2AhQgBiAAKAIIaiADOgAAIAAgACgCFCIDQQFqNgIUIAMgACgCCGogCC0AADoAACAAIAxBECAAKAK8LSIGa3YiAzsBuC0gBCAGakEQawwBCyAEIAZqCyIENgK8LSALQQhrQRNNBEAgACADIAUgCUGw3ABqKAIAa0H//wNxIgYgBHRyIgM7AbgtIAACf0EQIAlBwNkAaigCACIFayAESARAIAAgACgCFCIEQQFqNgIUIAQgACgCCGogAzoAACAAIAAoAhQiBEEBajYCFCAEIAAoAghqIAgtAAA6AAAgACAGQRAgACgCvC0iBGt2IgM7AbgtIAQgBWpBEGsMAQsgBCAFagsiBDYCvC0LIAIgB0EBayIFIAVBB3ZBgAJqIAVBgAJJG0GAyQBqLQAAIgtBAnQiCWoiBi8BAiEHIAAgAyAGLwEAIgwgBHRyIgY7AbgtIAACf0EQIAdrIARIBEAgACAAKAIUIgRBAWo2AhQgBCAAKAIIaiAGOgAAIAAgACgCFCIEQQFqNgIUIAQgACgCCGogCC0AADoAACAAIAxBECAAKAK8LSIEa3YiBjsBuC0gBCAHakEQawwBCyAEIAdqCyIDNgK8LSALQQRJDQEgACAGIAUgCUGw3QBqKAIAa0H//wNxIgUgA3RyIgc7AbgtQRAgCUHA2gBqKAIAIgRrIANIBEAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAHOgAAIAAgACgCFCIDQQFqNgIUIAMgACgCCGogCC0AADoAACAAIAVBECAAKAK8LSIDa3Y7AbgtIAMgBGpBEGsMAQsgAyAEagsiAzYCvC0LIAoiBCAAKAKgLUkNAAsLIAFBgghqLwEAIQQgACAALwG4LSABLwGACCIKIAN0ciIFOwG4LUEQIARrIANIBEAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAFOgAAIAAgACgCFCIDQQFqNgIUIAMgACgCCGogAEG5LWotAAA6AAAgACAKQRAgACgCvC0iA2t2OwG4LSAAIAMgBGpBEGs2ArwtDwsgACADIARqNgK8LQuXCwEMfyACQQBOBEBBBEEDIAEvAQIiChshBkEHQYoBIAobIQMgAEG5LWohCEF/IQcDQCAKIQkgASALIgxBAWoiC0ECdGovAQIhCgJAAkAgBUEBaiIEIANODQAgCSAKRw0AIAQhBQwBCwJAIAQgBkgEQCAAIAlBAnRqIgVB/BRqIQ0gBUH+FGohDiAAKAK8LSEFA0AgDi8BACEDIAAgAC8BuC0gDS8BACIGIAV0ciIHOwG4LSAAAn9BECADayAFSARAIAAgACgCFCIFQQFqNgIUIAUgACgCCGogBzoAACAAIAAoAhQiBUEBajYCFCAFIAAoAghqIAgtAAA6AAAgACAGQRAgACgCvC0iBWt2OwG4LSADIAVqQRBrDAELIAMgBWoLIgU2ArwtIARBAWsiBA0ACwwBCyAAAn8gCQRAAkAgByAJRgRAIAAoArwtIQMgBCEFDAELIAAgCUECdGoiBEH+FGovAQAhAyAAIAAvAbgtIARB/BRqLwEAIgYgACgCvC0iBHRyIgc7AbgtIAACf0EQIANrIARIBEAgACAAKAIUIgRBAWo2AhQgBCAAKAIIaiAHOgAAIAAgACgCFCIEQQFqNgIUIAQgACgCCGogCC0AADoAACAAIAZBECAAKAK8LSIEa3Y7AbgtIAMgBGpBEGsMAQsgAyAEagsiAzYCvC0LIAAvAbgtIAAvAbwVIgcgA3RyIQQCQEEQIAAvAb4VIgZrIANIBEAgACAEOwG4LSAAIAAoAhQiA0EBajYCFCADIAAoAghqIAQ6AAAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAILQAAOgAAIAYgACgCvC0iBGpBEGshAyAHQRAgBGt2IQQMAQsgAyAGaiEDCyAAIAM2ArwtIAAgBCAFQf3/A2pB//8DcSIFIAN0ciIEOwG4LSADQQ9OBEAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAEOgAAIAAgACgCFCIDQQFqNgIUIAMgACgCCGogCC0AADoAACAAIAVBECAAKAK8LSIDa3Y7AbgtIANBDmsMAgsgA0ECagwBCyAFQQlMBEAgAC8BuC0gAC8BwBUiByAAKAK8LSIDdHIhBAJAQRAgAC8BwhUiBmsgA0gEQCAAIAQ7AbgtIAAgACgCFCIDQQFqNgIUIAMgACgCCGogBDoAACAAIAAoAhQiA0EBajYCFCADIAAoAghqIAgtAAA6AAAgBiAAKAK8LSIEakEQayEDIAdBECAEa3YhBAwBCyADIAZqIQMLIAAgAzYCvC0gACAEIAVB/v8DakH//wNxIgUgA3RyIgQ7AbgtIANBDk4EQCAAIAAoAhQiA0EBajYCFCADIAAoAghqIAQ6AAAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAILQAAOgAAIAAgBUEQIAAoArwtIgNrdjsBuC0gA0ENawwCCyADQQNqDAELIAAvAbgtIAAvAcQVIgcgACgCvC0iA3RyIQQCQEEQIAAvAcYVIgZrIANIBEAgACAEOwG4LSAAIAAoAhQiA0EBajYCFCADIAAoAghqIAQ6AAAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAILQAAOgAAIAYgACgCvC0iBGpBEGshAyAHQRAgBGt2IQQMAQsgAyAGaiEDCyAAIAM2ArwtIAAgBCAFQfb/A2pB//8DcSIFIAN0ciIEOwG4LSADQQpOBEAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAEOgAAIAAgACgCFCIDQQFqNgIUIAMgACgCCGogCC0AADoAACAAIAVBECAAKAK8LSIDa3Y7AbgtIANBCWsMAQsgA0EHags2ArwtC0EAIQUCfyAKRQRAQYoBIQNBAwwBC0EGQQcgCSAKRiIEGyEDQQNBBCAEGwshBiAJIQcLIAIgDEcNAAsLCwkAIAEgAmwQHAsGACABEB0LXwEBfyMAQUBqIgMkACADQQA2AjAgA0IANwMoIAMgADYCCCADIAI2AhQgAyABNgIMIAMgAUEDbDYCGCADQQhqEAcgA0EIahALIANBCGoQCCADKAIcIQEgA0FAayQAIAELBgBB1N8AC6QuAQx/IwBBEGsiDCQAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB9AFNBEBB2N8AKAIAIgZBECAAQQtqQXhxIABBC0kbIgRBA3YiAXYiAEEDcQRAIABBf3NBAXEgAWoiAkEDdCIDQYjgAGooAgAiAUEIaiEAAkAgASgCCCIEIANBgOAAaiIDRgRAQdjfACAGQX4gAndxNgIADAELIAQgAzYCDCADIAQ2AggLIAEgAkEDdCICQQNyNgIEIAEgAmoiASABKAIEQQFyNgIEDA0LIARB4N8AKAIAIghNDQEgAARAAkAgACABdEECIAF0IgBBACAAa3JxIgBBACAAa3FBAWsiACAAQQx2QRBxIgB2IgFBBXZBCHEiAiAAciABIAJ2IgBBAnZBBHEiAXIgACABdiIAQQF2QQJxIgFyIAAgAXYiAEEBdkEBcSIBciAAIAF2aiICQQN0IgNBiOAAaigCACIBKAIIIgAgA0GA4ABqIgNGBEBB2N8AIAZBfiACd3EiBjYCAAwBCyAAIAM2AgwgAyAANgIICyABQQhqIQAgASAEQQNyNgIEIAEgBGoiAyACQQN0IgUgBGsiAkEBcjYCBCABIAVqIAI2AgAgCARAIAhBA3YiBUEDdEGA4ABqIQRB7N8AKAIAIQECfyAGQQEgBXQiBXFFBEBB2N8AIAUgBnI2AgAgBAwBCyAEKAIICyEFIAQgATYCCCAFIAE2AgwgASAENgIMIAEgBTYCCAtB7N8AIAM2AgBB4N8AIAI2AgAMDQtB3N8AKAIAIglFDQEgCUEAIAlrcUEBayIAIABBDHZBEHEiAHYiAUEFdkEIcSICIAByIAEgAnYiAEECdkEEcSIBciAAIAF2IgBBAXZBAnEiAXIgACABdiIAQQF2QQFxIgFyIAAgAXZqQQJ0QYjiAGooAgAiAygCBEF4cSAEayEBIAMhAgNAAkAgAigCECIARQRAIAIoAhQiAEUNAQsgACgCBEF4cSAEayICIAEgASACSyICGyEBIAAgAyACGyEDIAAhAgwBCwsgAyAEaiILIANNDQIgAygCGCEKIAMgAygCDCIFRwRAIAMoAggiAEHo3wAoAgBJGiAAIAU2AgwgBSAANgIIDAwLIANBFGoiAigCACIARQRAIAMoAhAiAEUNBCADQRBqIQILA0AgAiEHIAAiBUEUaiICKAIAIgANACAFQRBqIQIgBSgCECIADQALIAdBADYCAAwLC0F/IQQgAEG/f0sNACAAQQtqIgBBeHEhBEHc3wAoAgAiCEUNAEEfIQcgBEH///8HTQRAIABBCHYiACAAQYD+P2pBEHZBCHEiAHQiASABQYDgH2pBEHZBBHEiAXQiAiACQYCAD2pBEHZBAnEiAnRBD3YgACABciACcmsiAEEBdCAEIABBFWp2QQFxckEcaiEHC0EAIARrIQECQAJAAkAgB0ECdEGI4gBqKAIAIgJFBEBBACEADAELQQAhACAEQQBBGSAHQQF2ayAHQR9GG3QhAwNAAkAgAigCBEF4cSAEayIGIAFPDQAgAiEFIAYiAQ0AQQAhASACIQAMAwsgACACKAIUIgYgBiACIANBHXZBBHFqKAIQIgJGGyAAIAYbIQAgA0EBdCEDIAINAAsLIAAgBXJFBEBBAiAHdCIAQQAgAGtyIAhxIgBFDQMgAEEAIABrcUEBayIAIABBDHZBEHEiAHYiAkEFdkEIcSIDIAByIAIgA3YiAEECdkEEcSICciAAIAJ2IgBBAXZBAnEiAnIgACACdiIAQQF2QQFxIgJyIAAgAnZqQQJ0QYjiAGooAgAhAAsgAEUNAQsDQCAAKAIEQXhxIARrIgYgAUkhAyAGIAEgAxshASAAIAUgAxshBSAAKAIQIgIEfyACBSAAKAIUCyIADQALCyAFRQ0AIAFB4N8AKAIAIARrTw0AIAQgBWoiByAFTQ0BIAUoAhghCSAFIAUoAgwiA0cEQCAFKAIIIgBB6N8AKAIASRogACADNgIMIAMgADYCCAwKCyAFQRRqIgIoAgAiAEUEQCAFKAIQIgBFDQQgBUEQaiECCwNAIAIhBiAAIgNBFGoiAigCACIADQAgA0EQaiECIAMoAhAiAA0ACyAGQQA2AgAMCQsgBEHg3wAoAgAiAE0EQEHs3wAoAgAhAQJAIAAgBGsiAkEQTwRAQeDfACACNgIAQezfACABIARqIgM2AgAgAyACQQFyNgIEIAAgAWogAjYCACABIARBA3I2AgQMAQtB7N8AQQA2AgBB4N8AQQA2AgAgASAAQQNyNgIEIAAgAWoiACAAKAIEQQFyNgIECyABQQhqIQAMCwsgBEHk3wAoAgAiA0kEQEHk3wAgAyAEayIBNgIAQfDfAEHw3wAoAgAiACAEaiICNgIAIAIgAUEBcjYCBCAAIARBA3I2AgQgAEEIaiEADAsLQQAhACAEQS9qIggCf0Gw4wAoAgAEQEG44wAoAgAMAQtBvOMAQn83AgBBtOMAQoCggICAgAQ3AgBBsOMAIAxBDGpBcHFB2KrVqgVzNgIAQcTjAEEANgIAQZTjAEEANgIAQYAgCyIBaiIGQQAgAWsiB3EiBSAETQ0KQZDjACgCACIBBEBBiOMAKAIAIgIgBWoiCSACTQ0LIAEgCUkNCwtBlOMALQAAQQRxDQUCQAJAQfDfACgCACIBBEBBmOMAIQADQCABIAAoAgAiAk8EQCACIAAoAgRqIAFLDQMLIAAoAggiAA0ACwtBABAeIgNBf0YNBiAFIQZBtOMAKAIAIgBBAWsiASADcQRAIAUgA2sgASADakEAIABrcWohBgsgBCAGTw0GIAZB/v///wdLDQZBkOMAKAIAIgAEQEGI4wAoAgAiASAGaiICIAFNDQcgACACSQ0HCyAGEB4iACADRw0BDAgLIAYgA2sgB3EiBkH+////B0sNBSAGEB4iAyAAKAIAIAAoAgRqRg0EIAMhAAsCQCAEQTBqIAZNDQAgAEF/Rg0AQbjjACgCACIBIAggBmtqQQAgAWtxIgFB/v///wdLBEAgACEDDAgLIAEQHkF/RwRAIAEgBmohBiAAIQMMCAtBACAGaxAeGgwFCyAAIQMgAEF/Rw0GDAQLAAtBACEFDAcLQQAhAwwFCyADQX9HDQILQZTjAEGU4wAoAgBBBHI2AgALIAVB/v///wdLDQEgBRAeIgNBABAeIgBPDQEgA0F/Rg0BIABBf0YNASAAIANrIgYgBEEoak0NAQtBiOMAQYjjACgCACAGaiIANgIAQYzjACgCACAASQRAQYzjACAANgIACwJAAkACQEHw3wAoAgAiAQRAQZjjACEAA0AgAyAAKAIAIgIgACgCBCIFakYNAiAAKAIIIgANAAsMAgtB6N8AKAIAIgBBACAAIANNG0UEQEHo3wAgAzYCAAtBACEAQZzjACAGNgIAQZjjACADNgIAQfjfAEF/NgIAQfzfAEGw4wAoAgA2AgBBpOMAQQA2AgADQCAAQQN0IgFBiOAAaiABQYDgAGoiAjYCACABQYzgAGogAjYCACAAQQFqIgBBIEcNAAtB5N8AIAZBKGsiAEF4IANrQQdxQQAgA0EIakEHcRsiAWsiAjYCAEHw3wAgASADaiIBNgIAIAEgAkEBcjYCBCAAIANqQSg2AgRB9N8AQcDjACgCADYCAAwCCyABIANPDQAgASACSQ0AIAAoAgxBCHENACAAIAUgBmo2AgRB8N8AIAFBeCABa0EHcUEAIAFBCGpBB3EbIgBqIgI2AgBB5N8AQeTfACgCACAGaiIDIABrIgA2AgAgAiAAQQFyNgIEIAEgA2pBKDYCBEH03wBBwOMAKAIANgIADAELQejfACgCACADSwRAQejfACADNgIACyADIAZqIQJBmOMAIQACQAJAAkACQAJAAkADQCACIAAoAgBHBEAgACgCCCIADQEMAgsLIAAtAAxBCHFFDQELQZjjACEAA0AgASAAKAIAIgJPBEAgAiAAKAIEaiICIAFLDQMLIAAoAgghAAwACwALIAAgAzYCACAAIAAoAgQgBmo2AgQgA0F4IANrQQdxQQAgA0EIakEHcRtqIgcgBEEDcjYCBCACQXggAmtBB3FBACACQQhqQQdxG2oiBiAHayAEayECIAQgB2ohBCABIAZGBEBB8N8AIAQ2AgBB5N8AQeTfACgCACACaiIANgIAIAQgAEEBcjYCBAwDCyAGQezfACgCAEYEQEHs3wAgBDYCAEHg3wBB4N8AKAIAIAJqIgA2AgAgBCAAQQFyNgIEIAAgBGogADYCAAwDCyAGKAIEIgBBA3FBAUYEQCAAQXhxIQgCQCAAQf8BTQRAIAYoAggiASAAQQN2IgVBA3RBgOAAakYaIAEgBigCDCIARgRAQdjfAEHY3wAoAgBBfiAFd3E2AgAMAgsgASAANgIMIAAgATYCCAwBCyAGKAIYIQkCQCAGIAYoAgwiA0cEQCAGKAIIIgAgAzYCDCADIAA2AggMAQsCQCAGQRRqIgAoAgAiAQ0AIAZBEGoiACgCACIBDQBBACEDDAELA0AgACEFIAEiA0EUaiIAKAIAIgENACADQRBqIQAgAygCECIBDQALIAVBADYCAAsgCUUNAAJAIAYgBigCHCIBQQJ0QYjiAGoiACgCAEYEQCAAIAM2AgAgAw0BQdzfAEHc3wAoAgBBfiABd3E2AgAMAgsgCUEQQRQgCSgCECAGRhtqIAM2AgAgA0UNAQsgAyAJNgIYIAYoAhAiAARAIAMgADYCECAAIAM2AhgLIAYoAhQiAEUNACADIAA2AhQgACADNgIYCyAGIAhqIQYgAiAIaiECCyAGIAYoAgRBfnE2AgQgBCACQQFyNgIEIAIgBGogAjYCACACQf8BTQRAIAJBA3YiAUEDdEGA4ABqIQACf0HY3wAoAgAiAkEBIAF0IgFxRQRAQdjfACABIAJyNgIAIAAMAQsgACgCCAshASAAIAQ2AgggASAENgIMIAQgADYCDCAEIAE2AggMAwtBHyEAIAJB////B00EQCACQQh2IgAgAEGA/j9qQRB2QQhxIgB0IgEgAUGA4B9qQRB2QQRxIgF0IgMgA0GAgA9qQRB2QQJxIgN0QQ92IAAgAXIgA3JrIgBBAXQgAiAAQRVqdkEBcXJBHGohAAsgBCAANgIcIARCADcCECAAQQJ0QYjiAGohAQJAQdzfACgCACIDQQEgAHQiBXFFBEBB3N8AIAMgBXI2AgAgASAENgIAIAQgATYCGAwBCyACQQBBGSAAQQF2ayAAQR9GG3QhACABKAIAIQMDQCADIgEoAgRBeHEgAkYNAyAAQR12IQMgAEEBdCEAIAEgA0EEcWpBEGoiBSgCACIDDQALIAUgBDYCACAEIAE2AhgLIAQgBDYCDCAEIAQ2AggMAgtB5N8AIAZBKGsiAEF4IANrQQdxQQAgA0EIakEHcRsiBWsiBzYCAEHw3wAgAyAFaiIFNgIAIAUgB0EBcjYCBCAAIANqQSg2AgRB9N8AQcDjACgCADYCACABIAJBJyACa0EHcUEAIAJBJ2tBB3EbakEvayIAIAAgAUEQakkbIgVBGzYCBCAFQaDjACkCADcCECAFQZjjACkCADcCCEGg4wAgBUEIajYCAEGc4wAgBjYCAEGY4wAgAzYCAEGk4wBBADYCACAFQRhqIQADQCAAQQc2AgQgAEEIaiEDIABBBGohACACIANLDQALIAEgBUYNAyAFIAUoAgRBfnE2AgQgASAFIAFrIgZBAXI2AgQgBSAGNgIAIAZB/wFNBEAgBkEDdiICQQN0QYDgAGohAAJ/QdjfACgCACIDQQEgAnQiAnFFBEBB2N8AIAIgA3I2AgAgAAwBCyAAKAIICyECIAAgATYCCCACIAE2AgwgASAANgIMIAEgAjYCCAwEC0EfIQAgAUIANwIQIAZB////B00EQCAGQQh2IgAgAEGA/j9qQRB2QQhxIgB0IgIgAkGA4B9qQRB2QQRxIgJ0IgMgA0GAgA9qQRB2QQJxIgN0QQ92IAAgAnIgA3JrIgBBAXQgBiAAQRVqdkEBcXJBHGohAAsgASAANgIcIABBAnRBiOIAaiECAkBB3N8AKAIAIgNBASAAdCIFcUUEQEHc3wAgAyAFcjYCACACIAE2AgAgASACNgIYDAELIAZBAEEZIABBAXZrIABBH0YbdCEAIAIoAgAhAwNAIAMiAigCBEF4cSAGRg0EIABBHXYhAyAAQQF0IQAgAiADQQRxakEQaiIFKAIAIgMNAAsgBSABNgIAIAEgAjYCGAsgASABNgIMIAEgATYCCAwDCyABKAIIIgAgBDYCDCABIAQ2AgggBEEANgIYIAQgATYCDCAEIAA2AggLIAdBCGohAAwFCyACKAIIIgAgATYCDCACIAE2AgggAUEANgIYIAEgAjYCDCABIAA2AggLQeTfACgCACIAIARNDQBB5N8AIAAgBGsiATYCAEHw3wBB8N8AKAIAIgAgBGoiAjYCACACIAFBAXI2AgQgACAEQQNyNgIEIABBCGohAAwDC0HU3wBBMDYCAEEAIQAMAgsCQCAJRQ0AAkAgBSgCHCICQQJ0QYjiAGoiACgCACAFRgRAIAAgAzYCACADDQFB3N8AIAhBfiACd3EiCDYCAAwCCyAJQRBBFCAJKAIQIAVGG2ogAzYCACADRQ0BCyADIAk2AhggBSgCECIABEAgAyAANgIQIAAgAzYCGAsgBSgCFCIARQ0AIAMgADYCFCAAIAM2AhgLAkAgAUEPTQRAIAUgASAEaiIAQQNyNgIEIAAgBWoiACAAKAIEQQFyNgIEDAELIAUgBEEDcjYCBCAHIAFBAXI2AgQgASAHaiABNgIAIAFB/wFNBEAgAUEDdiIBQQN0QYDgAGohAAJ/QdjfACgCACICQQEgAXQiAXFFBEBB2N8AIAEgAnI2AgAgAAwBCyAAKAIICyEBIAAgBzYCCCABIAc2AgwgByAANgIMIAcgATYCCAwBC0EfIQAgAUH///8HTQRAIAFBCHYiACAAQYD+P2pBEHZBCHEiAHQiAiACQYDgH2pBEHZBBHEiAnQiBCAEQYCAD2pBEHZBAnEiBHRBD3YgACACciAEcmsiAEEBdCABIABBFWp2QQFxckEcaiEACyAHIAA2AhwgB0IANwIQIABBAnRBiOIAaiECAkACQCAIQQEgAHQiBHFFBEBB3N8AIAQgCHI2AgAgAiAHNgIAIAcgAjYCGAwBCyABQQBBGSAAQQF2ayAAQR9GG3QhACACKAIAIQQDQCAEIgIoAgRBeHEgAUYNAiAAQR12IQQgAEEBdCEAIAIgBEEEcWpBEGoiAygCACIEDQALIAMgBzYCACAHIAI2AhgLIAcgBzYCDCAHIAc2AggMAQsgAigCCCIAIAc2AgwgAiAHNgIIIAdBADYCGCAHIAI2AgwgByAANgIICyAFQQhqIQAMAQsCQCAKRQ0AAkAgAygCHCICQQJ0QYjiAGoiACgCACADRgRAIAAgBTYCACAFDQFB3N8AIAlBfiACd3E2AgAMAgsgCkEQQRQgCigCECADRhtqIAU2AgAgBUUNAQsgBSAKNgIYIAMoAhAiAARAIAUgADYCECAAIAU2AhgLIAMoAhQiAEUNACAFIAA2AhQgACAFNgIYCwJAIAFBD00EQCADIAEgBGoiAEEDcjYCBCAAIANqIgAgACgCBEEBcjYCBAwBCyADIARBA3I2AgQgCyABQQFyNgIEIAEgC2ogATYCACAIBEAgCEEDdiIEQQN0QYDgAGohAkHs3wAoAgAhAAJ/QQEgBHQiBCAGcUUEQEHY3wAgBCAGcjYCACACDAELIAIoAggLIQQgAiAANgIIIAQgADYCDCAAIAI2AgwgACAENgIIC0Hs3wAgCzYCAEHg3wAgATYCAAsgA0EIaiEACyAMQRBqJAAgAAvMDAEHfwJAIABFDQAgAEEIayICIABBBGsoAgAiAUF4cSIAaiEFAkAgAUEBcQ0AIAFBA3FFDQEgAiACKAIAIgFrIgJB6N8AKAIASQ0BIAAgAWohACACQezfACgCAEcEQCABQf8BTQRAIAIoAggiBCABQQN2IgdBA3RBgOAAakYaIAQgAigCDCIBRgRAQdjfAEHY3wAoAgBBfiAHd3E2AgAMAwsgBCABNgIMIAEgBDYCCAwCCyACKAIYIQYCQCACIAIoAgwiA0cEQCACKAIIIgEgAzYCDCADIAE2AggMAQsCQCACQRRqIgEoAgAiBA0AIAJBEGoiASgCACIEDQBBACEDDAELA0AgASEHIAQiA0EUaiIBKAIAIgQNACADQRBqIQEgAygCECIEDQALIAdBADYCAAsgBkUNAQJAIAIgAigCHCIEQQJ0QYjiAGoiASgCAEYEQCABIAM2AgAgAw0BQdzfAEHc3wAoAgBBfiAEd3E2AgAMAwsgBkEQQRQgBigCECACRhtqIAM2AgAgA0UNAgsgAyAGNgIYIAIoAhAiAQRAIAMgATYCECABIAM2AhgLIAIoAhQiAUUNASADIAE2AhQgASADNgIYDAELIAUoAgQiAUEDcUEDRw0AQeDfACAANgIAIAUgAUF+cTYCBCACIABBAXI2AgQgACACaiAANgIADwsgAiAFTw0AIAUoAgQiAUEBcUUNAAJAIAFBAnFFBEAgBUHw3wAoAgBGBEBB8N8AIAI2AgBB5N8AQeTfACgCACAAaiIANgIAIAIgAEEBcjYCBCACQezfACgCAEcNA0Hg3wBBADYCAEHs3wBBADYCAA8LIAVB7N8AKAIARgRAQezfACACNgIAQeDfAEHg3wAoAgAgAGoiADYCACACIABBAXI2AgQgACACaiAANgIADwsgAUF4cSAAaiEAAkAgAUH/AU0EQCAFKAIIIgQgAUEDdiIHQQN0QYDgAGpGGiAEIAUoAgwiAUYEQEHY3wBB2N8AKAIAQX4gB3dxNgIADAILIAQgATYCDCABIAQ2AggMAQsgBSgCGCEGAkAgBSAFKAIMIgNHBEAgBSgCCCIBQejfACgCAEkaIAEgAzYCDCADIAE2AggMAQsCQCAFQRRqIgEoAgAiBA0AIAVBEGoiASgCACIEDQBBACEDDAELA0AgASEHIAQiA0EUaiIBKAIAIgQNACADQRBqIQEgAygCECIEDQALIAdBADYCAAsgBkUNAAJAIAUgBSgCHCIEQQJ0QYjiAGoiASgCAEYEQCABIAM2AgAgAw0BQdzfAEHc3wAoAgBBfiAEd3E2AgAMAgsgBkEQQRQgBigCECAFRhtqIAM2AgAgA0UNAQsgAyAGNgIYIAUoAhAiAQRAIAMgATYCECABIAM2AhgLIAUoAhQiAUUNACADIAE2AhQgASADNgIYCyACIABBAXI2AgQgACACaiAANgIAIAJB7N8AKAIARw0BQeDfACAANgIADwsgBSABQX5xNgIEIAIgAEEBcjYCBCAAIAJqIAA2AgALIABB/wFNBEAgAEEDdiIBQQN0QYDgAGohAAJ/QdjfACgCACIEQQEgAXQiAXFFBEBB2N8AIAEgBHI2AgAgAAwBCyAAKAIICyEBIAAgAjYCCCABIAI2AgwgAiAANgIMIAIgATYCCA8LQR8hASACQgA3AhAgAEH///8HTQRAIABBCHYiASABQYD+P2pBEHZBCHEiAXQiBCAEQYDgH2pBEHZBBHEiBHQiAyADQYCAD2pBEHZBAnEiA3RBD3YgASAEciADcmsiAUEBdCAAIAFBFWp2QQFxckEcaiEBCyACIAE2AhwgAUECdEGI4gBqIQQCQAJAAkBB3N8AKAIAIgNBASABdCIFcUUEQEHc3wAgAyAFcjYCACAEIAI2AgAgAiAENgIYDAELIABBAEEZIAFBAXZrIAFBH0YbdCEBIAQoAgAhAwNAIAMiBCgCBEF4cSAARg0CIAFBHXYhAyABQQF0IQEgBCADQQRxakEQaiIFKAIAIgMNAAsgBSACNgIAIAIgBDYCGAsgAiACNgIMIAIgAjYCCAwBCyAEKAIIIgAgAjYCDCAEIAI2AgggAkEANgIYIAIgBDYCDCACIAA2AggLQfjfAEH43wAoAgBBAWsiAkF/IAIbNgIACwtVAQJ/QdDfACgCACIBIABBA2pBfHEiAmohAAJAIAJBAU5BACAAIAFNGw0APwBBEHQgAEkEQCAAEABFDQELQdDfACAANgIAIAEPC0HU3wBBMDYCAEF/C4IEAQN/IAJBgARPBEAgACABIAIQARogAA8LIAAgAmohAwJAIAAgAXNBA3FFBEACQCACQQFIBEAgACECDAELIABBA3FFBEAgACECDAELIAAhAgNAIAIgAS0AADoAACABQQFqIQEgAkEBaiICIANPDQEgAkEDcQ0ACwsCQCADQXxxIgRBwABJDQAgAiAEQUBqIgVLDQADQCACIAEoAgA2AgAgAiABKAIENgIEIAIgASgCCDYCCCACIAEoAgw2AgwgAiABKAIQNgIQIAIgASgCFDYCFCACIAEoAhg2AhggAiABKAIcNgIcIAIgASgCIDYCICACIAEoAiQ2AiQgAiABKAIoNgIoIAIgASgCLDYCLCACIAEoAjA2AjAgAiABKAI0NgI0IAIgASgCODYCOCACIAEoAjw2AjwgAUFAayEBIAJBQGsiAiAFTQ0ACwsgAiAETw0BA0AgAiABKAIANgIAIAFBBGohASACQQRqIgIgBEkNAAsMAQsgA0EESQRAIAAhAgwBCyAAIANBBGsiBEsEQCAAIQIMAQsgACECA0AgAiABLQAAOgAAIAIgAS0AAToAASACIAEtAAI6AAIgAiABLQADOgADIAFBBGohASACQQRqIgIgBE0NAAsLIAIgA0kEQANAIAIgAS0AADoAACABQQFqIQEgAkEBaiICIANHDQALCyAAC9YCAQJ/AkAgAUUNACAAIAFqIgJBAWtBADoAACAAQQA6AAAgAUEDSQ0AIAJBAmtBADoAACAAQQA6AAEgAkEDa0EAOgAAIABBADoAAiABQQdJDQAgAkEEa0EAOgAAIABBADoAAyABQQlJDQAgAEEAIABrQQNxIgNqIgJBADYCACACIAEgA2tBfHEiA2oiAUEEa0EANgIAIANBCUkNACACQQA2AgggAkEANgIEIAFBCGtBADYCACABQQxrQQA2AgAgA0EZSQ0AIAJBADYCGCACQQA2AhQgAkEANgIQIAJBADYCDCABQRBrQQA2AgAgAUEUa0EANgIAIAFBGGtBADYCACABQRxrQQA2AgAgAyACQQRxQRhyIgNrIgFBIEkNACACIANqIQIDQCACQgA3AxggAkIANwMQIAJCADcDCCACQgA3AwAgAkEgaiECIAFBIGsiAUEfSw0ACwsLBAAjAAsGACAAJAALEAAjACAAa0FwcSIAJAAgAAsLvVYIAEGECAvxQJYwB3csYQ7uulEJmRnEbQeP9GpwNaVj6aOVZJ4yiNsOpLjceR7p1eCI2dKXK0y2Cb18sX4HLbjnkR2/kGQQtx3yILBqSHG5895BvoR91Noa6+TdbVG11PTHhdODVphsE8Coa2R6+WL97Mllik9cARTZbAZjYz0P+vUNCI3IIG47XhBpTORBYNVycWei0eQDPEfUBEv9hQ3Sa7UKpfqotTVsmLJC1sm720D5vKzjbNgydVzfRc8N1txZPdGrrDDZJjoA3lGAUdfIFmHQv7X0tCEjxLNWmZW6zw+lvbieuAIoCIgFX7LZDMYk6Quxh3xvLxFMaFirHWHBPS1mtpBB3HYGcdsBvCDSmCoQ1e+JhbFxH7W2BqXkv58z1LjooskHeDT5AA+OqAmWGJgO4bsNan8tPW0Il2xkkQFcY+b0UWtrYmFsHNgwZYVOAGLy7ZUGbHulARvB9AiCV8QP9cbZsGVQ6bcS6ri+i3yIufzfHd1iSS3aFfN804xlTNT7WGGyTc5RtTp0ALyj4jC71EGl30rXldg9bcTRpPv01tNq6WlD/NluNEaIZ63QuGDacy0EROUdAzNfTAqqyXwN3TxxBVCqQQInEBALvoYgDMkltWhXs4VvIAnUZrmf5GHODvneXpjJ2SkimNCwtKjXxxc9s1mBDbQuO1y9t61susAgg7jttrO/mgzitgOa0rF0OUfV6q930p0VJtsEgxbccxILY+OEO2SUPmptDahaanoLzw7knf8JkyeuAAqxngd9RJMP8NKjCIdo8gEe/sIGaV1XYvfLZ2WAcTZsGecGa252G9T+4CvTiVp62hDMSt1nb9+5+fnvvo5DvrcX1Y6wYOij1tZ+k9GhxMLYOFLy30/xZ7vRZ1e8pt0GtT9LNrJI2isN2EwbCq/2SgM2YHoEQcPvYN9V32eo745uMXm+aUaMs2HLGoNmvKDSbyU24mhSlXcMzANHC7u5FgIiLyYFVb47usUoC72yklq0KwRqs1yn/9fCMc/QtYue2Swdrt5bsMJkmybyY+yco2p1CpNtAqkGCZw/Ng7rhWcHchNXAAWCSr+VFHq44q4rsXs4G7YMm47Skg2+1eW379x8Id/bC9TS04ZC4tTx+LPdaG6D2h/NFr6BWya59uF3sG93R7cY5loIiHBqD//KOwZmXAsBEf+eZY9prmL40/9rYUXPbBZ44gqg7tIN11SDBE7CswM5YSZnp/cWYNBNR2lJ23duPkpq0a7cWtbZZgvfQPA72DdTrrypxZ673n/Pskfp/7UwHPK9vYrCusowk7NTpqO0JAU20LqTBtfNKVfeVL9n2SMuemazuEphxAIbaF2UK28qN74LtKGODMMb3wVaje8CLQAAAABBMRsZgmI2MsNTLSsExWxkRfR3fYanWlbHlkFPCIrZyEm7wtGK6O/6y9n04wxPtaxNfq61ji2Dns8cmIdREsJKECPZU9Nw9HiSQe9hVdeuLhTmtTfXtZgcloSDBVmYG4IYqQCb2/otsJrLNqldXXfmHGxs/98/QdSeDlrNoiSEleMVn4wgRrKnYXepvqbh6PHn0PPoJIPew2Wyxdqqrl1d659GRCjMa29p/XB2rmsxOe9aKiAsCQcLbTgcEvM2Rt+yB13GcVRw7TBla/T38yq7tsIxonWRHIk0oAeQ+7yfF7qNhA553qklOO+yPP9583O+SOhqfRvFQTwq3lgFT3nwRH5i6YctT8LGHFTbAYoVlEC7Do2D6COmwtk4vw3FoDhM9Lshj6eWCs6WjRMJAMxcSDHXRYti+m7KU+F3VF27uhVsoKPWP42Ilw6WkVCY194RqczH0vrh7JPL+vVc12JyHeZ5a961VECfhE9ZWBIOFhkjFQ/acDgkm0EjPadr/WXmWuZ8JQnLV2Q40E6jrpEB4p+KGCHMpzNg/bwqr+Ekre7QP7QtgxKfbLIJhqskSMnqFVPQKUZ++2h3ZeL2eT8vt0gkNnQbCR01KhIE8rxTS7ONSFJw3mV5Me9+YP7z5ue/wv3+fJHQ1T2gy8z6NoqDuweRmnhUvLE5ZaeoS5iDOwqpmCLJ+rUJiMuuEE9d718ObPRGzT/ZbYwOwnRDElrzAiNB6sFwbMGAQXfYR9c2lwbmLY7FtQClhIQbvBqKQXFbu1pomOh3Q9nZbFoeTy0VX342DJwtGyfdHAA+EgCYuVMxg6CQYq6L0VO1khbF9N1X9O/ElKfC79WW2fbpvAeuqI0ct2veMZwq7yqF7XlryqxIcNNvG134LipG4eE23magB8V/Y1ToVCJl803l87ICpMKpG2eRhDAmoJ8puK7F5Pmf3v06zPPWe/3oz7xrqYD9WrKZPgmfsn84hKuwJBws8RUHNTJGKh5zdzEHtOFwSPXQa1E2g0Z6d7JdY07X+ssP5uHSzLXM+Y2E1+BKEpavCyONtshwoJ2JQbuERl0jAwdsOBrEPxUxhQ4OKEKYT2cDqVR+wPp5VYHLYkwfxTiBXvQjmJ2nDrPclhWqGwBU5VoxT/yZYmLX2FN5zhdP4UlWfvpQlS3Xe9QczGITio0tUruWNJHoux/Q2aAG7PN+Xq3CZUdukUhsL6BTdeg2EjqpBwkjalQkCCtlPxHkeaeWpUi8j2YbkaQnKoq94LzL8qGN0Oti3v3AI+/m2b3hvBT80KcNP4OKJn6ykT+5JNBw+BXLaTtG5kJ6d/1btWtl3PRafsU3CVPudjhI97GuCbjwnxKhM8w/inL9JJMAAAAAN2rCAW7UhANZvkYC3KgJB+vCywayfI0EhRZPBbhREw6PO9EP1oWXDeHvVQxk+RoJU5PYCAotngo9R1wLcKMmHEfJ5B0ed6IfKR1gHqwLLxubYe0awt+rGPW1aRnI8jUS/5j3E6YmsRGRTHMQFFo8FSMw/hR6jrgWTeR6F+BGTTjXLI85jpLJO7n4Czo87kQ/C4SGPlI6wDxlUAI9WBdeNm99nDc2w9o1AakYNIS/VzGz1ZUw6mvTMt0BETOQ5Wskp4+pJf4x7yfJWy0mTE1iI3snoCIimeYgFfMkISi0eCof3rorRmD8KXEKPij0HHEtw3azLJrI9S6tojcvwI2acPfnWHGuWR5zmTPcchwlk3crT1F2cvEXdEWb1XV43Il+T7ZLfxYIDX0hYs98pHSAeZMeQnjKoAR6/crGe7AuvGyHRH5t3vo4b+mQ+m5shrVrW+x3agJSMWg1OPNpCH+vYj8VbWNmqythUcHpYNTXpmXjvWRkugMiZo1p4Gcgy9dIF6EVSU4fU0t5dZFK/GPeT8sJHE6St1pMpd2YTZiaxEav8AZH9k5ARcEkgkREMs1Bc1gPQCrmSUIdjItDUGjxVGcCM1U+vHVXCda3VozA+FO7qjpS4hR8UNV+vlHoOeJa31MgW4btZlmxh6RYNJHrXQP7KVxaRW9ebS+tX4AbNeG3cffg7s+x4tmlc+Ncszzma9n+5zJnuOUFDXrkOEom7w8g5O5WnqLsYfRg7eTiL+jTiO3pijar671caerwuBP9x9LR/J5sl/6pBlX/LBAa+ht62PtCxJ75da5c+EjpAPN/g8LyJj2E8BFXRvGUQQn0oyvL9fqVjffN/0/2YF142Vc3utgOifzaOeM+27z1cd6Ln7Pf0iH13eVLN9zYDGvX72ap1rbY79SBsi3VBKRi0DPOoNFqcObTXRok0hD+XsUnlJzEfiraxklAGMfMVlfC+zyVw6KC08GV6BHAqK9Ny5/Fj8rGe8nI8RELyXQHRMxDbYbNGtPAzy25As5Alq+Rd/xtkC5CK5IZKOmTnD6mlqtUZJfy6iKVxYDglPjHvJ/PrX6elhM4nKF5+p0kb7WYEwV3mUq7MZt90fOaMDWJjQdfS4xe4Q2OaYvPj+ydgIrb90KLgkkEibUjxoiIZJqDvw5YguawHoDR2tyBVMyThGOmUYU6GBeHDXLVhqDQ4qmXuiCozgRmqvlupKt8eOuuSxIprxKsb60lxq2sGIHxpy/rM6Z2VXWkQT+3pcQp+KDzQzqhqv18o52XvqLQc8S15xkGtL6nQLaJzYK3DNvNsjuxD7NiD0mxVWWLsGgi17tfSBW6BvZTuDGckbm0it68g+AcvdpeWr/tNJi+AAAAAGVnvLiLyAmq7q+1EleXYo8y8N433F9rJbk4153vKLTFik8IfWTgvW8BhwHXuL/WSt3YavIzd9/gVhBjWJ9XGVD6MKXoFJ8Q+nH4rELIwHvfrafHZ0MIcnUmb87NcH+tlRUYES37t6Q/ntAYhyfozxpCj3OirCDGsMlHegg+rzKgW8iOGLVnOwrQAIeyaThQLwxf7Jfi8FmFh5flPdGHhmW04DrdWk+Pzz8oM3eGEOTq43dYUg3Y7UBov1H4ofgr8MSfl0gqMCJaT1ee4vZvSX+TCPXHfadA1RjA/G1O0J81K7cjjcUYlp+gfyonGUf9unwgQQKSj/QQ9+hIqD1YFJtYP6gjtpAdMdP3oYlqz3YUD6jKrOEHf76EYMMG0nCgXrcXHOZZuKn0PN8VTIXnwtHggH5pDi/Le2tId8OiDw3Lx2ixcynHBGFMoLjZ9ZhvRJD/0/x+UGbuGzfaVk0nuQ4oQAW2xu+wpKOIDBwasNuBf9dnOZF40iv0H26TA/cmO2aQmoOIPy+R7ViTKVRgRLQxB/gM36hNHrrP8abs35L+ibguRmcXm1QCcCfsu0jwcd4vTMkwgPnbVedFY5ygP2v5x4PTF2g2wXIPinnLN13krlDhXED/VE4lmOj2c4iLrhbvNxb4QIIEnSc+vCQf6SFBeFWZr9fgi8qwXDM7tlntXtHlVbB+UEfVGez/bCE7YglGh9rn6TLIgo6OcNSe7Six+VGQX1bkgjoxWDqDCY+n5m4zHwjBhg1tpjq1pOFAvcGG/AUvKUkXSk71r/N2IjKWEZ6KeL4rmB3ZlyBLyfR4Lq5IwMAB/dKlZkFqHF6W93k5Kk+Xlp9d8vEj5QUZa01gftf1jtFi5+u23l9SjgnCN+m1etlGAGi8IbzQ6jHfiI9WYzBh+dYiBJ5qmr2mvQfYwQG/Nm60rVMJCBWaTnId/ynOpRGGe7d04ccPzdkQkqi+rCpGERk4I3algHVmxtgQAXpg/q7PcpvJc8oi8aRXR5YY76k5rf3MXhFFBu5NdmOJ8c6NJkTc6EH4ZFF5L/k0HpNB2rEmU7/WmuvpxvmzjKFFC2IO8BkHaUyhvlGbPNs2J4Q1mZKWUP4uLpm5VCb83uieEnFdjHcW4TTOLjapq0mKEUXmPwMggYO7dpHg4xP2XFv9WelJmD5V8SEGgmxEYT7Uqs6Lxs+pN344QX/WXSbDbrOJdnzW7srEb9YdWQqxoeHkHhTzgXmoS9dpyxOyDnerXKHCuTnGfgGA/qmc5ZkVJAs2oDZuURyOpxZmhsJx2j4s3m8sSbnTlPCBBAmV5rixe0kNox4usRtIPtJDLVlu+8P22+mmkWdRH6mwzHrODHSUYblm8QYF3gAAAAB3BzCW7g5hLJkJUboHbcQZcGr0j+ljpTWeZJWjDtuIMnncuKTg1ekel9LZiAm2TCt+sXy957gtB5C/HZEdtxBkarAg8vO5cUiEvkHeGtrUfW3d5Ov01LVRg9OFxxNsmFZka6jA/WL5eoplyewUAVxPYwZs2foPPWONCA31O24gyExpEF7VYEHkomdxcjwD5NFLBNRH0g2F/aUKtWs1taj6QrKYbNu7ydasvPlAMths40XfXHXc1g3Pq9E9WSbZMKxR3gA6yNdRgL/QYRYhtPS1VrPEI8+6lZm4vaUPKAK4nl8FiAjGDNmysQvpJC9vfIdYaEwRwWEdq7ZmLT123EGQAdtxBpjSILzv1RAqcbGFiQa2tR+fv+Sl6LjUM3gHyaIPAPk0lgmojuEOmBh/ag27CG09LZFkbJfmY1wBa2tR9BxsYWKFZTDY8mIATmwGle0bAaV7ggj0wfUPxFdlsNnGErfpUIu+uOr8uYh8Yt0d3xXaLUmM03zz+9RMZU2yYVg6tVHOo7wAdNS7MOJK36VBPdiV16TRxG3T1vT7Q2npajRu2fytZ4hG2mC40EQELXMzAx3lqgpMX90NfMlQBXE8JwJBqr4LEBDJDCCGV2i1JSBvhbO5ZtQJzmHkn17e+Q4p2cmYsNCYIsfXqLRZsz0XLrQNgbe9XDvAumyt7biDIJq/s7YDtuIMdLHSmurVRzmd0nevBNsmFXPcFoPjYwsSlGQ7hA1taj56alqo5A7PC5MJ/50KAK4nfQeesfAPk0SHCKPSHgHyaGkGwv73YlddgGVnyxlsNnFuawbn/tQbdonTK+AQ2npaZ91KzPm532+Ovu/5F7e+Q2CwjtXW1qPoodGTfjjYwsRP3/JS0btn8aa8V2c/tQbdSLI2S9gNK9qvChtMNgNK9kEEemDfYO/DqGffVTFuju9Gab55y2GzjLxmgxolb9KgUmjiNswMd5W7C0cDIgIWuVUFJi/Fuju+sr0LKCu0WpJcs2oEwtf/p7XQzzEs2Z6LW96uHZtkwrDsY/ImdWqjnAJtkwqcCQap6w42P3IHZ4UFAFcTlb9KguK4ehR7sSuuDLYbOJLSjpvl1b4NfNzvtwvb3yGG09LU8dTiQmjds/gf2oNugb4Wzfa5JltvsHfhGLdHd4gIWub/D2pwZgY7yhEBC1yPZZ7/+GKuaWFr/9MWbM9FoArieNcN0u5OBINUOQOzwqdnJmHQYBb3SWlHTT5ud9uu0WpK2dZa3EDfC2Y32DvwqbyuU967nsVHss9/MLX/6b298hzKusKKU7OTMCS0o6a60DYFzdcGk1TeVykj2We/s2Z6LsRhSrhdaBsCKm8rlLQLvjfDDI6hWgXfGy0C740AAAAAGRsxQTI2YoIrLVPDZGzFBH139EVWWqeGT0GWx8jZigjRwrtJ+u/oiuP02custU8Mta5+TZ6DLY6HmBzPSsISUVPZIxB49HDTYe9Bki6u11U3teYUHJi11wWDhJaCG5hZmwCpGLAt+tupNsua5nddXf9sbBzUQT/fzVoOnpWEJKKMnxXjp7JGIL6pd2Hx6OGm6PPQ58PegyTaxbJlXV2uqkRGn+tva8wodnD9aTkxa64gKlrvCwcJLBIcOG3fRjbzxl0Hsu1wVHH0a2Uwuyrz96IxwraJHJF1kAegNBefvPsOhI26JaneeTyy7zhz83n/auhIvkHFG31Y3io88HlPBelifkTCTy2H21QcxpQVigGNDrtApiPog7842cI4oMUNIbv0TAqWp48TjZbOXMwACUXXMUhu+mKLd+FTyrq7XVSjoGwViI0/1pGWDpfe15hQx8ypEezh+tL1+suTcmLXXGt55h1AVLXeWU+EnxYOElgPFSMZJDhw2j0jQZtl/WunfOZa5lfLCSVO0DhkAZGuoxiKn+Izp8whKrz9YK0k4a+0P9DunxKDLYYJsmzJSCSr0FMV6vt+RiniZXdoLz959jYkSLcdCRt0BBIqNUtTvPJSSI2zeWXecGB+7zHn5vP+/v3Cv9XQkXzMy6A9g4o2+pqRB7uxvFR4qKdlOTuDmEsimKkKCbX6yRCuy4hf711PRvRsDm3ZP810wg6M81oSQ+pBIwLBbHDB2HdBgJc210eOLeYGpQC1xbwbhIRxQYoaaFq7W0N36JhabNnZFS1PHgw2fl8nGy2cPgAc3bmYABKggzFTi65ikJK1U9Hd9MUWxO/0V+/Cp5T22ZbVrge86bccjaicMd5rhSrvKspree3TcEis+F0bb+FGKi5m3jbhf8UHoFToVGNN82UiArLz5RupwqQwhJFnKZ+gJuTFrrj93p/51vPMOs/o/XuAqWu8mbJa/bKfCT6rhDh/LBwksDUHFfEeKkYyBzF3c0hw4bRRa9D1ekaDNmNdsnfL+tdO0uHmD/nMtczg14SNr5YSSraNIwudoHDIhLtBiQMjXUYaOGwHMRU/xCgODoVnT5hCflSpA1V5+sBMYsuBgTjFH5gj9F6zDqedqhWW3OVUABv8TzFa12Jimc55U9hJ4U8XUPp+VnvXLZVizBzULY2KEzSWu1Ifu+iRBqDZ0F5+8+xHZcKtbEiRbnVToC86EjboIwkHqQgkVGoRP2Urlqd55I+8SKWkkRtmvYoqJ/LLvODr0I2hwP3eYtnm7yMUvOG9DafQ/CaKgz8/kbJ+cNAkuWnLFfhC5kY7W/13etxla7XFflr07lMJN/dIOHa4Ca6xoRKf8Io/zDOTJP1yAAAAAAHCajcDhNRuAka+WQcJqNwGy8LrBI18sgVPFoUOE1G4D9E7jw2XhdYMVe/hCRr5ZAjYk1MKni0KC1xHPRwmo3Ad5MlHH6J3Hh5gHSkbLwusGu1hmxir38IZabX1EjXyyBP3mP8RsSamEHNMkRU8WhQU/jAjFriOehd65E04TUbgOY8s1zvJko46C/i5P0TuPD6GhAs8wDpSPQJQZTZeF1g3nH1vNdrDNjQYqQExV7+EMJXVszLTa+ozEQHdJGvlkCWpj6cn7zH+Ji1bySNiTUwioCd7IOaZIiEk8xUqeLQoK7reHyn8YEYoPgpxLXEc9CyzdsMu9ciaLzeirXCajcBxWOf3cx5ZrnLcM5l3kyUcdlFPK3QX8XJ11ZtFfonceH9Ltk99DQgWfM9iIXmAdKR4Qh6TegSgynvGyv1svC6wbX5Eh284+t5u+pDpa7WGbGp37FtoMVICafM4NWKvfwhjbRU/YSurZmDpwVFlptfUZGS942YiA7pn4GmNSNfLIEkVoRdLUx9OSpF1eU/eY/xOHAnLTFq3kk2Y3aVGxJqYRwbwr0VATvZEgiTBQc0yREAPWHNCSeYqQ4uMHVTxaFBVMwJnV3W8Pla31glT+MCMUjqqu1B8FOJRvn7VWuI56FsgU99ZZu2GWKSHsV3rkTRcKfsDXm9FWl+tL23hNRuA4Pdxt+Kxz+7jc6XZ5jyzXOf+2WvluGcy5HoNBe8mSjju5CAP7KKeVu1g9GHoL+Lk6e2I0+urNorqaVy9/RO48PzR0sf+l2ye/1UGqfoaECz72Hob+Z7EQvhcrnXzAOlI8sKDf/CEPSbxRlcR9AlBlPXLK6P3jZX69k//zdl4XWDYujdX2vyJDts+4znecfW837Ofi931IdLcN0vl12sM2NapZu/U79i21S2ygdBipATRoM4z0+ZwatIkGl3FXv4QxJyUJ8baKn7HGEBJwldWzMOVPPvB04KiwBHolctNr6jKj8WfyMl7xskLEfHMRAd0zYZtQ8/A0xrOArktka+WQJBt/HeSK0Iuk+koGZamPpyXZFSrlSLq8pTggMWfvMf4nn6tz5w4E5ad+nmhmLVvJJl3BRObMbtKmvPRfY2JNTCMS18Hjg3hXo/Pi2mKgJ3si0L324kESYKIxiO1g5pkiIJYDr+AHrDmgdza0YSTzFSFUaZjhxcYOobVcg2p4tCgqCC6l6pmBM6rpG75rut4fK8pEkutb6wSrK3GJafxgRimM+svpHVVdqW3P0Gg+CnEoTpD86N8/aqivpedtcRz0LQGGee2QKe+t4LNibLN2wyzD7E7sUkPYrCLZVW71yJouhVIX7hT9ga5kZwxvN6KtL0c4IO/Wl7avpg07QAAAAC4vGdlqgnIixK1r+6PYpdXN97wMiVrX9yd1zi5xbQo730IT4pvveBk1wGHAUrWv7jyatjd4N93M1hjEFZQGVef6KUw+voQnxRCrPhx33vAyGfHp611cghDzc5vJpWtf3AtERgVP6S3+4cY0J4az+gnonOPQrDGIKwIekfJoDKvPhiOyFsKO2e1socA0C9QOGmX7F8MhVnw4j3ll4dlhofR3TrgtM+PT1p3Myg/6uQQhlJYd+NA7dgN+FG/aPAr+KFIl5/EWiIwKuKeV09/SW/2x/UIk9VAp31t/MAYNZ/QTo0jtyuflhjFJyp/oLr9RxkCQSB8EPSPkqhI6PebFFg9I6g/WDEdkLaJoffTFHbPaqzKqA++fwfhBsNghF6gcNLmHBe39Km4WUwV3zzRwueFaX6A4HvLLw7Dd0hryw0PonOxaMdhBMcp2bigTERvmPX80/+Q7mZQflbaNxsOuSdNtgVAKKSw78YcDIijgduwGjln138r0niRk24f9Dsm9wODmpBmkS8/iCmTWO20RGBUDPgHMR5NqN+m8c+6/pLf7EYuuIlUmxdn7CdwAnHwSLvJTC/e2/mAMGNF51VrP6Cc04PH+cE2aBd5ig9y5F03y1zhUK5OVP9A9uiYJa6LiHMWN+8WBIJA+Lw+J50h6R8kmVV4QYvg168zXLDK7Vm2O1Xl0V5HUH6w/+wZ1WI7IWzah0YJyDLp53COjoIo7Z7UkFH5sYLkVl86WDE6p48Jgx8zbuYNhsEItTqmbb1A4aQF/IbBF0kpL6/1TkoyInbzip4Rlpgrvnggl9kdePTJS8BIri7S/QHAakFmpfeWXhxPKjl5XZ+Wl+Uj8fJNaxkF9dd+YOdi0Y5f3rbrwgmOUnq16TdoAEbZ0LwhvIjfMeowY1aPItb5YZpqngQHvaa9vwHB2K20bjYVCAlTHXJOmqXOKf+3e4YRD8fhdJIQ2c0qrL6oOBkRRoCldiPYxmZ1YHoBEHLPrv7Kc8mbV6TxIu8Ylkf9rTmpRRFezHZN7gbO8Ylj3EQmjWT4Qej5L3lRQZMeNFMmsdrrmta/s/nG6QtFoYwZ8A5ioUxpBzybUb6EJzbblpKZNS4u/lAmVLmZnuje/IxdcRI04RZ3qTYuzhGKSasDP+ZFu4OBIOPgkXZbXPYTSelZ/fFVPphsggYh1D5hRMaLzqp+N6nP1n9BOG7DJl18domzxMru1lkd1m/hobEK8xQe5EuoeYETy2nXq3cOsrnCoVwBfsY5nKn+gCQVmeU2oDYLjhxRboZmFqc+2nHCLG/eLJTTuUkJBIHwsbjmlaMNSXsbsS4eQ9I+SPtuWS3p2/bDUWeRpsywqR90DM56ZrlhlN4FBvEAAAAAAAAAAAMAAAAEAAQACAAEAAQAAAAEAAUAEAAIAAQAAAAEAAYAIAAgAAQAAAAEAAQAEAAQAAUAAAAIABAAIAAgAAUAAAAIABAAgACAAAUAAAAIACAAgAAAAQUAAAAgAIAAAgEABAUAAAAgAAIBAgEAEAUAQYHJAAu2EAECAwQEBQUGBgYGBwcHBwgICAgICAgICQkJCQkJCQkKCgoKCgoKCgoKCgoKCgoKCwsLCwsLCwsLCwsLCwsLCwwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDwAAEBESEhMTFBQUFBUVFRUWFhYWFhYWFhcXFxcXFxcXGBgYGBgYGBgYGBgYGBgYGBkZGRkZGRkZGRkZGRkZGRkaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHB0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0AAQIDBAUGBwgICQkKCgsLDAwMDA0NDQ0ODg4ODw8PDxAQEBAQEBAQERERERERERESEhISEhISEhMTExMTExMTFBQUFBQUFBQUFBQUFBQUFBUVFRUVFRUVFRUVFRUVFRUWFhYWFhYWFhYWFhYWFhYWFxcXFxcXFxcXFxcXFxcXFxgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxscwCcAAMAsAAABAQAAHgEAAA8AAABALAAAQC0AAAAAAAAeAAAADwAAAAAAAADALQAAAAAAABMAAAAHAAAAAAAAAAwACACMAAgATAAIAMwACAAsAAgArAAIAGwACADsAAgAHAAIAJwACABcAAgA3AAIADwACAC8AAgAfAAIAPwACAACAAgAggAIAEIACADCAAgAIgAIAKIACABiAAgA4gAIABIACACSAAgAUgAIANIACAAyAAgAsgAIAHIACADyAAgACgAIAIoACABKAAgAygAIACoACACqAAgAagAIAOoACAAaAAgAmgAIAFoACADaAAgAOgAIALoACAB6AAgA+gAIAAYACACGAAgARgAIAMYACAAmAAgApgAIAGYACADmAAgAFgAIAJYACABWAAgA1gAIADYACAC2AAgAdgAIAPYACAAOAAgAjgAIAE4ACADOAAgALgAIAK4ACABuAAgA7gAIAB4ACACeAAgAXgAIAN4ACAA+AAgAvgAIAH4ACAD+AAgAAQAIAIEACABBAAgAwQAIACEACAChAAgAYQAIAOEACAARAAgAkQAIAFEACADRAAgAMQAIALEACABxAAgA8QAIAAkACACJAAgASQAIAMkACAApAAgAqQAIAGkACADpAAgAGQAIAJkACABZAAgA2QAIADkACAC5AAgAeQAIAPkACAAFAAgAhQAIAEUACADFAAgAJQAIAKUACABlAAgA5QAIABUACACVAAgAVQAIANUACAA1AAgAtQAIAHUACAD1AAgADQAIAI0ACABNAAgAzQAIAC0ACACtAAgAbQAIAO0ACAAdAAgAnQAIAF0ACADdAAgAPQAIAL0ACAB9AAgA/QAIABMACQATAQkAkwAJAJMBCQBTAAkAUwEJANMACQDTAQkAMwAJADMBCQCzAAkAswEJAHMACQBzAQkA8wAJAPMBCQALAAkACwEJAIsACQCLAQkASwAJAEsBCQDLAAkAywEJACsACQArAQkAqwAJAKsBCQBrAAkAawEJAOsACQDrAQkAGwAJABsBCQCbAAkAmwEJAFsACQBbAQkA2wAJANsBCQA7AAkAOwEJALsACQC7AQkAewAJAHsBCQD7AAkA+wEJAAcACQAHAQkAhwAJAIcBCQBHAAkARwEJAMcACQDHAQkAJwAJACcBCQCnAAkApwEJAGcACQBnAQkA5wAJAOcBCQAXAAkAFwEJAJcACQCXAQkAVwAJAFcBCQDXAAkA1wEJADcACQA3AQkAtwAJALcBCQB3AAkAdwEJAPcACQD3AQkADwAJAA8BCQCPAAkAjwEJAE8ACQBPAQkAzwAJAM8BCQAvAAkALwEJAK8ACQCvAQkAbwAJAG8BCQDvAAkA7wEJAB8ACQAfAQkAnwAJAJ8BCQBfAAkAXwEJAN8ACQDfAQkAPwAJAD8BCQC/AAkAvwEJAH8ACQB/AQkA/wAJAP8BCQAAAAcAQAAHACAABwBgAAcAEAAHAFAABwAwAAcAcAAHAAgABwBIAAcAKAAHAGgABwAYAAcAWAAHADgABwB4AAcABAAHAEQABwAkAAcAZAAHABQABwBUAAcANAAHAHQABwADAAgAgwAIAEMACADDAAgAIwAIAKMACABjAAgA4wAIAAAABQAQAAUACAAFABgABQAEAAUAFAAFAAwABQAcAAUAAgAFABIABQAKAAUAGgAFAAYABQAWAAUADgAFAB4ABQABAAUAEQAFAAkABQAZAAUABQAFABUABQANAAUAHQAFAAMABQATAAUACwAFABsABQAHAAUAFwAFAEHg2QALTQEAAAABAAAAAQAAAAEAAAACAAAAAgAAAAIAAAACAAAAAwAAAAMAAAADAAAAAwAAAAQAAAAEAAAABAAAAAQAAAAFAAAABQAAAAUAAAAFAEHQ2gALZQEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAEAAAABQAAAAUAAAAGAAAABgAAAAcAAAAHAAAACAAAAAgAAAAJAAAACQAAAAoAAAAKAAAACwAAAAsAAAAMAAAADAAAAA0AAAANAEGA3AALIwIAAAADAAAABwAAAAAAAAAQERIACAcJBgoFCwQMAw0CDgEPAEG03AALaQEAAAACAAAAAwAAAAQAAAAFAAAABgAAAAcAAAAIAAAACgAAAAwAAAAOAAAAEAAAABQAAAAYAAAAHAAAACAAAAAoAAAAMAAAADgAAABAAAAAUAAAAGAAAABwAAAAgAAAAKAAAADAAAAA4ABBtN0AC5oCAQAAAAIAAAADAAAABAAAAAYAAAAIAAAADAAAABAAAAAYAAAAIAAAADAAAABAAAAAYAAAAIAAAADAAAAAAAEAAIABAAAAAgAAAAMAAAAEAAAABgAAAAgAAAAMAAAAEAAAABgAAAAgAAAAMAAAAEAAAABgAABuZWVkIGRpY3Rpb25hcnkAc3RyZWFtIGVuZAAAZmlsZSBlcnJvcgBzdHJlYW0gZXJyb3IAZGF0YSBlcnJvcgBpbnN1ZmZpY2llbnQgbWVtb3J5AGJ1ZmZlciBlcnJvcgBpbmNvbXBhdGlibGUgdmVyc2lvbgAAAAAoLwAAOC8AAEMvAABELwAATy8AAFwvAABnLwAAey8AAIgvAABDLwAAMS4yLjExAEHQ3wALA9AxUA==").split("").map((e=>e.charCodeAt(0)));return new Uint8Array(t,0,t.length/Uint8Array.BYTES_PER_ELEMENT)}().buffer)})).then((function(e){return WebAssembly.instantiate(e,t)})).then(e,(function(e){a("failed to asynchronously prepare wasm: "+e),b(e)}))}((function(e){n(e.instance)})),{}}();let S=e.___wasm_call_ctors=function(){return(S=e.___wasm_call_ctors=e.asm.__wasm_call_ctors).apply(null,arguments)},w=e._malloc=function(){return(w=e._malloc=e.asm.malloc).apply(null,arguments)};e._free=function(){return(e._free=e.asm.free).apply(null,arguments)},e.___errno_location=function(){return(e.___errno_location=e.asm.__errno_location).apply(null,arguments)},e._zlibCompress=function(){return(e._zlibCompress=e.asm.zlibCompress).apply(null,arguments)};let R,T=e.stackSave=function(){return(T=e.stackSave=e.asm.stackSave).apply(null,arguments)},O=e.stackRestore=function(){return(O=e.stackRestore=e.asm.stackRestore).apply(null,arguments)},k=e.stackAlloc=function(){return(k=e.stackAlloc=e.asm.stackAlloc).apply(null,arguments)};function N(t){function n(){R||(R=!0,e.calledRun=!0,c||(C(g),C(m),e.onRuntimeInitialized&&e.onRuntimeInitialized(),function(){if(e.postRun)for("function"==typeof e.postRun&&(e.postRun=[e.postRun]);e.postRun.length;)t=e.postRun.shift(),v.unshift(t);var t;C(v)}()))}y>0||(function(){if(e.preRun)for("function"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;)t=e.preRun.shift(),A.unshift(t);var t;C(A)}(),y>0||(e.setStatus?(e.setStatus("Running..."),setTimeout((function(){setTimeout((function(){e.setStatus("")}),1),n()}),1)):n()))}if(e.ccall=l,e.cwrap=function(e,t,n,r){const i=(n=n||[]).every((function(e){return"number"===e}));return"string"!==t&&i&&!r?u(e):function(){return l(e,t,n,arguments)}},e.allocate=function(e,t){let n;return n=1==t?k(e.length):w(e.length),e.subarray||e.slice?p.set(e,n):p.set(new Uint8Array(e),n),n},E=function e(){R||N(),R||(E=e)},e.run=N,e.preInit)for("function"==typeof e.preInit&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return N(),VW=e,e}const qW=Uint8Array.BYTES_PER_ELEMENT,HW={bytesReceived:"br",frameDropped:"fd",frameReceived:"fr",googJitterReceived:"jr",isAudioMute:"am",isFreeze:"fz",mediaType:"mt",packetsLost:"pl",packetsReceived:"pr",peerId:"pid",id:"id",ssrc:"ssrc",timestamp:"ts",type:"tp",frameRateInput:"fi",frameRateSent:"fs",googRtt:"rt",isVideoMute:"vm"},zW={stats:"sts",state:"st",stream_id:"stid",session_id:"seid",stream_type:"stt",app_id:"aid",channel_key:"ck",channel_name:"cn",sdk_version:"sv",browser:"b",process_id:"pcid",mode:"m",codec:"c",role:"r",has_changed_gateway:"hcg",ap_response:"ar",extends:"es",details:"d",features:"ft",p2p_id:"ppid",sdp:"sdp",audio:"a",video:"v",attributes:"at",hq:"h",lq:"l",stereo:"str",speech:"spe",extend:"e",pingpongElapse:"ppe"},WW={_message:"m",_type:"t",_id:"id"},KW={join_v2:"j2",publish:"pub",publish_related_stats:"prs",ping:"pi",traffic_stats:"ts",ping_back:"pib",publish_stats:"pubs"};let YW;class JW{constructor(){iO(this,"zlibCompress",void 0)}async init(){if(!YW){const e=await(async()=>(QW||(QW=await GW()),{zlibCompress:e=>{const t=new Uint8Array(e),n=qW*t.byteLength,r=QW._malloc(n),i=QW._malloc(3*n);for(let e=0;e<n;e++)QW.HEAP8[r/qW+e]=t[e];const o=QW._zlibCompress(r,n,i),a=new Uint8Array(QW.HEAP8.slice(i,i+o));return QW._free(r),QW._free(i),a}}))();YW=e.zlibCompress}this.zlibCompress=YW}msgPackCompress(e){return jW.exports.encode(e)}compress(e){const t=Date.now(),n=this.compressKeyAndValue(JSON.parse(JSON.stringify(e))),r=this.msgPackCompress(n),i=this.zlibCompress(r),o=new Uint8Array([49,49,49,50,...Array.from(i)]);return{origin:Object.assign({},e),originLength:JSON.stringify(e).length,shortKeyAndValue:n,msgpackSer:r,compressed:o,compressedLength:o.length,time:Date.now()-t}}compressKeyAndValue(e){return this._ObjectKeyCompress(this._typeCompress(e))}_typeCompress(e){const t=e._type;if(!t)return e;const n=KW[t];return e._type=n||t,e}_ObjectKeyCompress(e){const t=e._message;if(t){const n=t.stats;n&&(t.stats=this._statsCompress(n)),e._message=this._messageCompress(t)}return this._reportCompress(e)}_statsCompress(e){return this._keyCompress(e,HW)}_messageCompress(e){return this._keyCompress(e,zW)}_reportCompress(e){return this._keyCompress(e,WW)}_keyCompress(e,t){const n={},r=Object.keys(e);return lh(r).call(r,((r,i)=>{const o=e[i];return t[i]?n[t[i]]=o:n[i]=o,n}),n),n}}class ZW extends Zk{get queue(){return[...this.highPriorityQueue,...this.lowPriorityQueue]}constructor(e){super(),iO(this,"lowPriorityQueue",[]),iO(this,"highPriorityQueue",[]),iO(this,"AgoraWebSocketManager",void 0),this.AgoraWebSocketManager=e}reset(){this.lowPriorityQueue=[],this.highPriorityQueue=[]}pushMessage(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.highPriorityQueue.push(e):this.lowPriorityQueue.push(e),this.sendMessage()}sendMessage(){const e=this.queue.length;let t=0;t=e<5?15*e:60+3*(e-4),setTimeout((()=>{this._sendMessage()}),t)}_sendMessage(){if(!this.queue.length)return;const e=this.AgoraWebSocketManager.getConnection();if(!e||1!==e.readyState)return;const t=this.queue.shift();return this.lowPriorityQueue.includes(t)?this.lowPriorityQueue.shift():this.highPriorityQueue.shift(),e.send(t.compressed),t}}var XW;function $W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}let eK=PN("AgoraWebSocketManager","connectionID")(XW=class extends Zk{get url(){return this.websocket?this.websocket.url:null}get reconnectMode(){return this._reconnectMode}set reconnectMode(e){["tryNext","recover"].includes(e)&&this.resetReconnectCount(e),this._reconnectMode=e}get state(){return this._state}set state(e){e!==this._state&&(this._state=e,"reconnecting"===this._state?this.emit(KP.RECONNECTING,this.reconnectReason):"connected"===this._state?this.emit(KP.CONNECTED):"closed"===this._state?this.emit(KP.CLOSED):"failed"===this._state&&this.emit(KP.FAILED))}resetReconnectCount(e){uN.debug("websocket reset reconnect count, reason: "+e),kN("debug",this,"resetReconnectCount",e,"websocket reset reconnect count, reason: "+e),this.reconnectCount=0}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0;super(),iO(this,"connectionID",0),iO(this,"currentURLIndex",0),iO(this,"urls",void 0),iO(this,"_reconnectMode","tryNext"),iO(this,"reconnectReason",void 0),iO(this,"_initMutex",new SV("websocket")),iO(this,"name",void 0),iO(this,"_state","closed"),iO(this,"reconnectInterrupter",void 0),iO(this,"websocket",void 0),iO(this,"retryConfig",void 0),iO(this,"reconnectCount",0),iO(this,"forceCloseTimeout",5e3),iO(this,"onlineReconnectListener",void 0),iO(this,"compressor",new JW),iO(this,"compressorInitStatus","initializing"),iO(this,"compress",void 0),iO(this,"messageSender",void 0),iO(this,"useCompress",void 0),iO(this,"tryDoubleDomain",!1),iO(this,"wsInflateLength",0),iO(this,"wsDeflateLength",0),iO(this,"closeEstablishingWs",(()=>{})),iO(this,"store",void 0),iO(this,"joinChannelServiceRecordIndex",void 0),this.store=i,this.name=e,this.retryConfig=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$W(Object(n),!0).forEach((function(t){iO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t),this.useCompress=n,this.tryDoubleDomain=r;const{timeout:o,timeoutFactor:a}=t,s=Math.max(300,Math.floor(3*o/5)),c=Math.max(1.2,Math.floor(8*a)/10);Nx.ONLINE&&(this.retryConfig.timeout=s,this.retryConfig.timeoutFactor=c),sV.on(Dx.NETWORK_STATE_CHANGE,((e,t)=>{e!==t&&(this.resetReconnectCount("network state change: ".concat(t," -> ").concat(e)),e===Nx.ONLINE?(this.retryConfig.timeout=s,this.retryConfig.timeoutFactor=c):(this.retryConfig.timeout=o,this.retryConfig.timeoutFactor=a))}));const u=Date.now();this.compressor.init().then((()=>{this.compressorInitStatus="initialized";const e=Date.now()-u;uN.debug("websocket compressor initialized successfully in ".concat(e,"ms")),kN("debug",this.compressor,"init",void 0,"websocket compressor initialized successfully in ".concat(e,"ms")),yV.wsCompressorInit({status:!0,ec:null,eventElapse:e}),this.compress=this.compressor.compress.bind(this.compressor)})).catch((e=>{this.compressorInitStatus="failed";const t=e?e.message||e.toString():"Empty Error";uN.debug("websocket compressor failed to initialize because of ".concat(t)),kN("debug",this.compressor,"init",void 0,"websocket compressor failed to initialize because of ".concat(t)),yV.wsCompressorInit({status:!1,ec:t,eventElapse:1})}))}getConnection(){return this.websocket||void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;this.forceCloseTimeout=t;const n=(t,n)=>{this.urls=e;const r=this.urls[this.currentURLIndex];this.state="connecting",this.messageSender=new ZW(this),this.createWebSocketConnection(r).then(t).catch(n),this.once(KP.CLOSED,(()=>n(new eN($k.WS_DISCONNECT)))),this.once(KP.CONNECTED,(()=>t()))};return this._initMutex.lock().then((e=>new LC(((e,t)=>{n(e,t)})).then((()=>{e()})).catch((()=>{e()}))))}close(e,t){if(this.currentURLIndex=0,this.resetReconnectCount("close"),this.reconnectInterrupter&&this.reconnectInterrupter(),this.websocket){this.websocket.onclose=null,this.websocket.onopen=null,this.websocket.onmessage=null;const e=this.websocket;t?setTimeout((()=>e.close()),500):e.close(),this.websocket=void 0}this.state=e?"failed":"closed",this.closeEstablishingWs&&this.closeEstablishingWs()}reconnect(e,t){if(!this.websocket)return uN.warning("[".concat(this.name,"] can not reconnect, no websocket")),void kN("warning",this,"reconnect","can not reconnect, no websocket");var n;void 0!==e&&(this.reconnectMode=e),uN.debug("[".concat(this.name,"] reconnect is triggered initiative")),kN("debug",this,"reconnect"),"number"==typeof this.joinChannelServiceRecordIndex&&(null===(n=this.store)||void 0===n||n.recordJoinChannelService({status:"error",errors:[new Error(t)]},this.joinChannelServiceRecordIndex));const r=this.websocket.onclose;this.websocket.onclose=null,this.websocket.close(),r&&r.bind(this.websocket)({code:9999,reason:t})}sendMessageWithJSON(e){const t=JSON.stringify(e);return{compressed:t,compressedLength:t.length,origin:e}}sendMessageWithUint8Array(e){return{compressed:e,compressedLength:e.byteLength,origin:e}}sendMessage(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this.websocket||this.websocket.readyState!==WebSocket.OPEN)throw new eN($k.WS_ABORT,"websocket is not ready");try{let r=null;if(n)r=this.sendMessageWithUint8Array(e);else if("initialized"===this.compressorInitStatus&&this.useCompress&&KN("WEBSOCKET_COMPRESS"))try{r=this.compress(e),this.setWsInflateData(r)}catch(t){r=this.sendMessageWithJSON(e)}else r=this.sendMessageWithJSON(e);t?this.websocket.send(r.compressed):this.messageSender.pushMessage(r)}catch(e){throw new eN($k.WS_ERR,"send websocket message error"+e.toString())}}setWsInflateData(e){this.wsDeflateLength=this.wsDeflateLength+e.originLength,this.wsInflateLength=this.wsInflateLength+e.compressedLength}getWsInflateData(){const e=this.wsInflateLength,t=this.wsDeflateLength;return this.clearWsInflateData(),{wsInflateLength:e,wsDeflateLength:t}}clearWsInflateData(){this.wsInflateLength=0,this.wsDeflateLength=0}async createWebSocketConnection(e,t){return this.connectionID+=1,this.connectionID,this.joinChannelServiceRecordIndex=void 0,new LC(((n,r)=>{var i;const o=()=>{uN.debug("[".concat(this.name,"] websocket opened:"),e),ON("debug",["WebSocket",this.connectionID],"open",e),this.reconnectMode="retry",this.state="connected",this.resetReconnectCount("opened"),n()},a=async e=>{if(uN.debug("[".concat(this.name,"] websocket close ").concat(this.websocket&&this.websocket.url,", code: ").concat(e.code,", reason: ").concat(e.reason,", current mode: ").concat(this.reconnectMode)),ON("debug",["WebSocket",this.connectionID],"close",{code:e.code,reason:e.reason,url:this.websocket&&this.websocket.url,reconnectMode:this.reconnectMode}),this.reconnectCount<this.retryConfig.maxRetryCount){"connected"===this.state&&(this.reconnectReason=e.reason,this.state="reconnecting");const t=DG(this,KP.WILL_RECONNECT,this.reconnectMode)||this.reconnectMode,i=await this.reconnectWithAction(t);if("closed"===this.state)return uN.debug("[".concat(this.connectionID,"] ws is closed, no need to reconnect")),void wN("debug",this,"ws is closed, no need to reconnect");if(!i)return r(new eN($k.WS_DISCONNECT,"websocket reconnect failed: ".concat(e.code))),void this.close(!0);n()}else r(new eN($k.WS_DISCONNECT,"websocket close: ".concat(e.code))),this.close()},s=e=>{this.emit(KP.ON_MESSAGE,e)};this.websocket&&(this.websocket.onclose=null,this.websocket.close()),KN("GATEWAY_WSS_ADDRESS")&&this.name.startsWith("gateway")&&(e=KN("GATEWAY_WSS_ADDRESS")),uN.debug("[".concat(this.name,"] start connect, url: ").concat(e)),wN("debug",this,"start connect, url: ".concat(e));const c=null===(i=this.store)||void 0===i?void 0:i.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"gateway"});this.chooseBestWebsocketConnection(e,!!t,c).then((e=>{var t;this.websocket=e,o&&o(),e.onclose=a,e.onmessage=s,null===(t=this.store)||void 0===t||t.recordJoinChannelService({endTs:Date.now(),status:"success"},c),this.joinChannelServiceRecordIndex=c})).catch((e=>{var t;if(null===(t=this.store)||void 0===t||t.recordJoinChannelService({endTs:Date.now(),status:e instanceof eN&&e.code===$k.WS_ABORT?"aborted":"error",errors:[e]},c),"closed"!==this.state){if(e instanceof eN&&e.code===$k.WS_ERR){const t=new eN($k.WS_ERR,"init websocket failed! Error: ".concat(e.toString()));return uN.error("[".concat(this.name,"]").concat(t)),kN("error",this,"chooseBestWebsocketConnection",void 0,e.toString()),void r(t)}a&&a(e)}else r(new eN($k.WS_DISCONNECT,"websocket is closed: ".concat(e.toString())))}))}))}async reconnectWithAction(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.reconnectCount>=this.retryConfig.maxRetryCount)return!1;if(!this.urls)return!1;if("closed"===this.state)return!1;this.onlineReconnectListener||sV.networkState!==Nx.OFFLINE||(this.onlineReconnectListener=sV.onlineWaiter&&sV.onlineWaiter.then((()=>{this.onlineReconnectListener=void 0})));let n=!0;if(this.reconnectInterrupter=()=>{n=!1},t){const t=nN(this.reconnectCount,this.retryConfig);uN.debug("[".concat(this.name,"] wait ").concat(t,"ms to reconnect websocket, mode: ").concat(e)),kN("debug",this,"reconnectWithAction",{timeout:t,action:e}),await LC.race([CG(t),this.onlineReconnectListener||new LC((()=>{}))])}if("closed"===this.state||!n)return!1;this.reconnectCount+=1;const r=async(e,t)=>{this.emit(KP.RECONNECT_CREATE_CONNECTION,t),await this.createWebSocketConnection(e)};try{if("retry"===e){const t=this.urls[this.currentURLIndex];this.emit(KP.RECONNECT_WAITTING_FINISH,e),await r(t,e)}else if("tryNext"===e){if(this.currentURLIndex+=1,this.currentURLIndex>=this.urls.length)return await this.reconnectWithAction("recover",!1);uN.debug("[".concat(this.name,"] websocket url length: ").concat(this.urls.length," current index: ").concat(this.currentURLIndex)),wN("debug",this,"websocket url length: ".concat(this.urls.length," current index: ").concat(this.currentURLIndex));const t=this.urls[this.currentURLIndex];this.emit(KP.RECONNECT_WAITTING_FINISH,e),await r(t,e)}else if("recover"===e){uN.debug("[".concat(this.name,"] request new urls")),wN("debug",this,"request new urls"),this.resetReconnectCount("recover mode"),this.emit(KP.RECONNECT_WAITTING_FINISH,e),this.urls=await kG(this,KP.REQUEST_NEW_URLS),this.currentURLIndex=0;const t=this.urls[this.currentURLIndex];await r(t,e)}return!0}catch(n){var i;return uN.error("[".concat(this.name,"] reconnect failed"),n.toString()),kN("error",this,"reconnectWithAction",void 0,n.toString()),null!=n&&null!==(i=n.data)&&void 0!==i&&i.desc&&Array.isArray(n.data.desc)&&n.data.desc.length&&n.data.desc.includes("dynamic key expired")?(this.emit(KP.ON_TOKEN_PRIVILEGE_DID_EXPIRE),!1):await this.reconnectWithAction(e,t)}}async chooseBestWebsocketConnection(e,t,n){return new LC(((r,i)=>{let o=!1;const a=[];this.closeEstablishingWs=()=>{uN.debug("[choose-best-ws] close establishing websockets"),a.forEach((e=>{e.onclose=null,e.onopen=null,e.onmessage=null,e.close()})),i(new eN($k.WS_ABORT,"choose best websocket aborted"))};const s=KN("GATEWAY_DOMAINS");let c;const u=e.indexOf("?h="),l=s.find((t=>-1!==u?e.includes(t,u):e.includes(t)));uN.debug("[choose-best-ws] currentDomain: ",l,", domains: ",s),kN("debug",this,"chooseBestWebsocketConnection",{currentDomain:l,domains:s});let d=!this.tryDoubleDomain||t||!l;if(!d&&l){var h;const t=Date.now();try{s.forEach((t=>{const n=-1===u?e.replace(l,t):e.substr(0,u)+e.substr(u).replace(l,t),r=new WebSocket(n);r.binaryType="arraybuffer",a.push(r),uN.debug("[choose-best-ws] ws is connecting:",r.url),wN("debug",this,"ws is connecting: ".concat(r.url))}))}catch(e){for(uN.debug("[choose-best-ws] ws create failed, fallback to single url"),wN("debug",this,"ws create failed, fallback to single url"),a.forEach((e=>e.close()));a.length;)a.pop();d=!0}null===(h=this.store)||void 0===h||h.recordJoinChannelService({urls:a.map((e=>e.url)),service:"gateway"},n),a.forEach((e=>{e.onopen=()=>{if(o)return;const n=Date.now()-t;uN.debug("[choose-best-ws] ws open cost ".concat(n,"ms")),a.filter((t=>t!==e)).forEach((e=>{uN.debug("[choose-best-ws]close backup websocket: ".concat(e.url)),wN("debug",this,"close backup websocket: ".concat(e.url)),e.close()})),o=!0,r(e)},e.onclose=e=>{c=e,o||a.find((e=>!(e.readyState===WebSocket.CLOSED||e.readyState===WebSocket.CLOSING)))||(uN.debug("[choose-best-ws] all websocket is closed"),wN("debug",this,"all websocket is closed"),o=!0,i(c))},e.onmessage=t=>{uN.debug("[choose-best-ws]".concat(e.url," onmessage: ").concat(t.data)),wN("debug",this,"".concat(e.url," onmessage: ").concat(t.data))}})),CG(this.forceCloseTimeout).then((()=>{a.forEach((e=>{e.readyState!==WebSocket.OPEN&&e.close()}))}))}if(d){var p;let t;uN.debug("[choose-best-ws] use single url: ",e),wN("debug",this,"use single url: ".concat(e)),null===(p=this.store)||void 0===p||p.recordJoinChannelService({urls:[e],service:"gateway"},n);try{t=new WebSocket(e),a.push(t),t.binaryType="arraybuffer"}catch(e){const t=new eN($k.WS_ERR,"init websocket failed! Error: ".concat(e.toString()));return uN.error("[".concat(this.name,"]").concat(t)),kN("error",this,"chooseBestWebsocketConnection",void 0,e.toString()),void i(t)}t.onopen=()=>{r(t)},t.onclose=e=>{i(e)},t.onmessage=e=>{uN.debug("[choose-best-ws]".concat(t.url," onmessage: ").concat(e.data)),wN("debug",this,"".concat(t.url," onmessage: ").concat(e.data))},CG(this.forceCloseTimeout).then((()=>{t&&t.readyState!==WebSocket.OPEN&&t.close()}))}})).then((e=>(this.closeEstablishingWs=void 0,e))).catch((e=>{throw this.closeEstablishingWs=void 0,e}))}})||XW;class tK{constructor(e){iO(this,"input",[]),iO(this,"size",void 0),this.size=e}add(e){this.input.push(e),this.input.length>this.size&&this.input.splice(0,1)}mean(){var e;return 0===this.input.length?0:lh(e=this.input).call(e,((e,t)=>e+t))/this.input.length}}var nK;let rK=PN("AgoraRTCSignal","websocket.connectionID")(nK=class extends Zk{get connectionState(){return this._connectionState}set connectionState(e){e!==this._connectionState&&(this._connectionState=e,e===NP.CONNECTED?this.emit(DP.WS_CONNECTED):e===NP.RECONNECTING?this.emit(DP.WS_RECONNECTING,this._websocketReconnectReason):e===NP.CLOSED&&this.emit(DP.WS_CLOSED,this._disconnectedReason))}get currentURLIndex(){return this.websocket.currentURLIndex}get url(){return this.websocket?this.websocket.url:null}get rtt(){return this.rttRolling.mean()}constructor(e,t){super(),iO(this,"_disconnectedReason",void 0),iO(this,"_websocketReconnectReason",void 0),iO(this,"_connectionState",NP.CLOSED),iO(this,"reconnectToken",void 0),iO(this,"websocket",void 0),iO(this,"openConnectionTime",void 0),iO(this,"clientId",void 0),iO(this,"lastMsgTime",Date.now()),iO(this,"uploadCache",[]),iO(this,"uploadCacheInterval",void 0),iO(this,"rttRolling",new tK(5)),iO(this,"pingpongTimer",void 0),iO(this,"wsInflateDataTimer",void 0),iO(this,"pingpongTimeoutCount",0),iO(this,"joinResponse",void 0),iO(this,"multiIpOption",void 0),iO(this,"initError",void 0),iO(this,"spec",void 0),iO(this,"store",void 0),iO(this,"onWebsocketMessage",(e=>{if(e.data instanceof ArrayBuffer)return void this.emit(DP.ON_BINARY_DATA,e.data);const t=JSON.parse(e.data);if(this.lastMsgTime=Date.now(),Object.prototype.hasOwnProperty.call(t,"_id")){const e="res-@".concat(t._id);this.emit(e,t._result,t._message)}else if(Object.prototype.hasOwnProperty.call(t,"_type")&&(this.emit(t._type,t._message),t._type===LP.ON_NOTIFICATION&&this.handleNotification(t._message),t._type===LP.ON_USER_BANNED))switch(t._message.error_code){case 14:this.close(TP.UID_BANNED);break;case 15:this.close(TP.IP_BANNED);break;case 16:this.close(TP.CHANNEL_BANNED)}})),this.clientId=e.clientId,this.spec=e,this.store=t,this.websocket=new eK("gateway-".concat(this.clientId),this.spec.retryConfig,!0,!0,t),this.handleWebsocketEvents(),window.addEventListener("offline",(()=>{this.connectionState===NP.CONNECTED&&this.reconnect("retry",kP.OFFLINE)}))}async request(e,t,n,r){const i=SG(6,""),o={_id:i,_type:e,_message:t},a=this.websocket.connectionID,s=()=>new LC(((t,n)=>{if(this.connectionState===NP.CONNECTED)return t();const r=()=>{this.off(DP.WS_CLOSED,i),t()},i=()=>{this.off(DP.WS_CONNECTED,r),n(new eN($k.WS_ABORT))};this.once(DP.WS_CONNECTED,r),this.once(DP.WS_CLOSED,i),e!==PP.PUBLISH&&e!==PP.SUBSCRIBE&&e!==PP.UNSUBSCRIBE&&e!==PP.UNPUBLISH&&e!==PP.CONTROL||this.once(DP.DISCONNECT_P2P,(()=>{n(new eN($k.DISCONNECT_P2P))})),e===PP.PUBLISH&&this.once(DP.ABORT_P2P_EXECUTION,(()=>{n(new eN($k.DISCONNECT_P2P))}))}));if(this.connectionState!==NP.CONNECTING&&this.connectionState!==NP.RECONNECTING||e===PP.JOIN||e===PP.REJOIN||await s(),this.websocket.sendMessage(o,!0),r)return;const c=new LC(((n,r)=>{let o=!1;const s=(r,i)=>{o=!0,n({isSuccess:"success"===r,message:i||{}}),this.off(DP.WS_CLOSED,c),this.off(DP.WS_RECONNECTING,c),this.emit(DP.REQUEST_SUCCESS,e,t)};this.once("res-@".concat(i),s);const c=()=>{r(new eN($k.WS_ABORT,"type: ".concat(e))),this.off(DP.WS_CLOSED,c),this.off(DP.WS_RECONNECTING,c),this.off("res-@".concat(i),s)};this.once(DP.WS_CLOSED,c),this.once(DP.WS_RECONNECTING,c),CG(KN("SIGNAL_REQUEST_TIMEOUT")).then((()=>{this.websocket.connectionID!==a||o||(uN.warning("ws request timeout, type: ".concat(e)),wN("warning",this,"ws request timeout, type: ".concat(e)),this.emit(DP.REQUEST_TIMEOUT,e,t))}))}));let u=null;try{u=await c}catch(r){if(this.connectionState===NP.CLOSED||e===PP.LEAVE)throw new eN($k.WS_ABORT);return!this.spec.forceWaitGatewayResponse||n?r.throw():e===PP.JOIN||e===PP.REJOIN?null:(await s(),await this.request(e,t))}if(u.isSuccess)return u.message;const l=Number(u.message.error_code||u.message.code),d=UW(l),h=new eN($k.UNEXPECTED_RESPONSE,"".concat(d.desc,": ").concat(u.message.error_str),{code:l,data:u.message});return"success"===d.action?u.message:(uN.warning("[".concat(this.websocket.connectionID,"] unexpected response from type ").concat(e,", error_code: ").concat(l,", message: ").concat(d.desc,", action: ").concat(d.action)),wN("warning",this,"unexpected response from type ".concat(e,", error_code: ").concat(l,", message: ").concat(d.desc,", action: ").concat(d.action)),l===wP.ERR_TOO_MANY_BROADCASTERS?e===PP.JOIN||e===PP.REJOIN?(this.initError=h,this.close(),h.throw()):h.throw():"failed"===d.action?h.throw():"quit"===d.action?(this.initError=h,this.close(),h.throw()):(l===wP.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=u.message.option,uN.warning("[".concat(this.clientId,"] detect multi ip, recover")),wN("warning",this,"detect multi ip, recover"),this.reconnect("recover",kP.MULTI_IP)):this.reconnect(d.action,kP.SERVER_ERROR),e===PP.JOIN||e===PP.REJOIN?null:await this.request(e,t)))}waitMessage(e,t){return new LC((n=>{const r=i=>{(!t||t(i))&&(this.off(e,r),n(i))};this.on(e,r)}))}upload(e,t){const n={_type:e,_message:t};try{this.websocket.sendMessage(n)}catch(e){const t=KN("MAX_UPLOAD_CACHE")||50;this.uploadCache.push(n),this.uploadCache.length>t&&this.uploadCache.splice(0,1),this.uploadCache.length>0&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval((()=>{if(this.connectionState!==NP.CONNECTED)return;const e=this.uploadCache.splice(0,1)[0];0===this.uploadCache.length&&(window.clearInterval(this.uploadCacheInterval),this.uploadCacheInterval=void 0),this.upload(e._type,e._message)}),KN("UPLOAD_CACHE_INTERVAL")||2e3))}}send(e,t){const n={_type:e,_message:t};this.websocket.sendMessage(n)}init(e,t){return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,this.openConnectionTime=void 0,new LC(((n,r)=>{this.once(DP.WS_CONNECTED,(()=>n(this.joinResponse))),this.once(DP.WS_CLOSED,(()=>r(this.initError||new eN($k.WS_ABORT)))),this.connectionState=NP.CONNECTING,this.websocket.init(e).catch(r),this.wsInflateDataTimer&&window.clearInterval(this.wsInflateDataTimer),this.wsInflateDataTimer=window.setInterval((()=>{this.handleWsInflateData()}),2e4),setTimeout((()=>{t&&void 0===this.openConnectionTime&&(uN.debug("[".concat(this.clientId,"] init websocket timeout while join with fallback to proxy")),r(new eN($k.INIT_WEBSOCKET_TIMEOUT)))}),KN("JOIN_WITH_FALLBACK_PROXY_PENDING_DURATION"))}))}close(e){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.wsInflateDataTimer&&(this.handleWsInflateData(),window.clearInterval(this.wsInflateDataTimer),this.wsInflateDataTimer=void 0),this.reconnectToken=void 0,this.joinResponse=void 0,this._disconnectedReason=e||TP.LEAVE,this.connectionState=NP.CLOSED,uN.debug("[".concat(this.clientId,"] ")+"will close websocket in signal"),this.websocket.close(),e===TP.FALLBACK&&(this.websocket.removeAllListeners(),this.websocket=new eK("gateway-".concat(this.clientId),this.spec.retryConfig,!0,!0,this.store),this.handleWebsocketEvents())}async join(){if(!this.joinResponse){this.emit(DP.ABORT_P2P_EXECUTION);const e=await kG(this,DP.REQUEST_JOIN_INFO),t=await this.request(PP.JOIN,e);if(!t)return this.emit(DP.REPORT_JOIN_GATEWAY,$k.TIMEOUT,this.url||""),!1;this.joinResponse=t,this.emit(DP.JOIN_RESPONSE,this.joinResponse),this.reconnectToken=this.joinResponse.rejoin_token}return this.connectionState=NP.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),!0}async rejoin(){if(!this.reconnectToken)throw new eN($k.UNEXPECTED_ERROR,"can not rejoin, no rejoin token");const e=PG(this,DP.REQUEST_REJOIN_INFO);e.token=this.reconnectToken;const t=await this.request(PP.REJOIN,e);return!!t&&(this.connectionState=NP.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),t.peers&&t.peers.forEach((e=>{this.emit(LP.ON_USER_ONLINE,{uid:e.uid}),e.audio&&this.emit(LP.ON_ADD_AUDIO_STREAM,{uid:e.uid,uint_id:e.uint_id,audio:!0,ssrcId:e.audio_ssrc}),e.video&&this.emit(LP.ON_ADD_VIDEO_STREAM,{uid:e.uid,uint_id:e.uint_id,video:!0,ssrcId:e.video_ssrc}),e.audio_mute?this.emit(LP.MUTE_AUDIO,{uid:e.uid}):this.emit(LP.UNMUTE_AUDIO,{uid:e.uid}),e.video_mute?this.emit(LP.MUTE_VIDEO,{uid:e.uid}):this.emit(LP.UNMUTE_VIDEO,{uid:e.uid}),e.audio_enable_local?this.emit(LP.ENABLE_LOCAL_AUDIO,{uid:e.uid}):this.emit(LP.DISABLE_LOCAL_AUDIO,{uid:e.uid}),e.video_enable_local?this.emit(LP.ENABLE_LOCAL_VIDEO,{uid:e.uid}):this.emit(LP.DISABLE_LOCAL_VIDEO,{uid:e.uid}),e.audio||e.video||this.emit(LP.ON_REMOVE_STREAM,{uid:e.uid,uint_id:e.uint_id})})),!0)}reconnect(e,t){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.websocket.reconnect(e,t)}handleNotification(e){uN.debug("[".concat(this.clientId,"] receive notification: "),e),kN("debug",this,"handleNotification",e);const t=UW(e.code);if("success"!==t.action)return"failed"===t.action?(uN.error("[".concat(this.clientId,"] ignore error: "),t.desc),void wN("error",this,"ignore error: ".concat(t.desc))):"quit"===t.action?("ERR_REPEAT_JOIN_CHANNEL"===t.desc&&this.close(TP.UID_BANNED),void this.close()):void this.reconnect(t.action,kP.SERVER_ERROR)}handlePingPong(){if(!this.websocket||"connected"!==this.websocket.state)return;this.pingpongTimeoutCount>0&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1;const e=KN("PING_PONG_TIME_OUT"),t=Date.now();this.pingpongTimeoutCount>=e&&(uN.warning("PINGPONG Timeout. Last Socket Message: ".concat(t-this.lastMsgTime,"ms")),wN("warning",this,"PINGPONG Timeout. Last Socket Message: ".concat(t-this.lastMsgTime,"ms")),t-this.lastMsgTime>KN("WEBSOCKET_TIMEOUT_MIN"))?this.reconnect("retry",kP.TIMEOUT):this.request(PP.PING,void 0,!0).then((()=>{this.pingpongTimeoutCount=0;const e=Date.now()-t;this.rttRolling.add(e),KN("REPORT_STATS")&&this.send(PP.PING_BACK,{pingpongElapse:e})})).catch((e=>{}))}handleWsInflateData(){const{wsInflateLength:e,wsDeflateLength:t}=this.websocket.getWsInflateData();0!==e&&0!==t&&this.upload(xP.WS_INFLATE_DATA_LENGTH,{ws_deflate_length:t,ws_inflate_length:e})}handleWebsocketEvents(){this.websocket.on(KP.RECONNECT_WAITTING_FINISH,(e=>{this.emit(DP.WS_RECONNECT_WAITTING_FINISH,e)})),this.websocket.on(KP.RECONNECT_CREATE_CONNECTION,(e=>{this.emit(DP.WS_RECONNECT_CREATE_CONNECTION,e)})),this.websocket.on(KP.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(KP.CLOSED,(()=>{this.connectionState=NP.CLOSED})),this.websocket.on(KP.FAILED,(()=>{this._disconnectedReason=TP.NETWORK_ERROR,this.connectionState=NP.CLOSED})),this.websocket.on(KP.RECONNECTING,(e=>{this._websocketReconnectReason=e,this.joinResponse=void 0,this.connectionState===NP.CONNECTED?this.connectionState=NP.RECONNECTING:this.connectionState=NP.CONNECTING})),this.websocket.on(KP.WILL_RECONNECT,((e,t)=>{if(PG(this,DP.IS_P2P_DISCONNECTED)&&"retry"===e)return uN.debug("".concat(this.clientId," reconnect mode is retry, but p2p lost, change to tryNext")),wN("debug",this,"".concat(this.clientId," reconnect mode is retry, but p2p lost, change to tryNext")),this.reconnectToken=void 0,this.emit(DP.NEED_RENEW_SESSION),this.emit(DP.DISCONNECT_P2P),t("tryNext");"retry"!==e&&(uN.debug("".concat(this.clientId," websockt will_connect event, renewSession reconnectMode is ").concat(e)),wN("debug",this,"".concat(this.clientId," websockt will_connect event, renewSession reconnectMode is ").concat(e)),this.reconnectToken=void 0,this.emit(DP.NEED_RENEW_SESSION),this.emit(DP.DISCONNECT_P2P)),t(e)})),this.websocket.on(KP.CONNECTED,(()=>{this.openConnectionTime=Date.now(),this.reconnectToken?this.rejoin().catch((e=>{uN.warning("[".concat(this.clientId,"] rejoin failed ").concat(e)),kN("warning",this,"rejoin",void 0,e.toString()),this.reconnect("tryNext",kP.SERVER_ERROR)})):this.join().catch((e=>{if(this.emit(DP.REPORT_JOIN_GATEWAY,e.message||e.code,this.url||""),e instanceof eN&&e.code===$k.UNEXPECTED_RESPONSE&&e.data.code===wP.ERR_NO_AUTHORIZED)return uN.warning("[".concat(this.clientId,"] reconnect no authorized, recover")),wN("warning",this,"reconnect no authorized, recover"),void this.reconnect("recover",kP.SERVER_ERROR);uN.error("[".concat(this.clientId,"] join gateway request failed"),e.toString()),kN("error",this,"join",void 0,e.toString()),this.spec.forceWaitGatewayResponse?this.reconnect("tryNext",kP.SERVER_ERROR):(this.initError=e,this.close())}))})),this.websocket.on(KP.REQUEST_NEW_URLS,((e,t)=>{kG(this,DP.REQUEST_RECOVER,this.multiIpOption).then(e).catch(t)})),this.websocket.on(KP.ON_TOKEN_PRIVILEGE_DID_EXPIRE,(()=>{this.emit(LP.ON_TOKEN_PRIVILEGE_DID_EXPIRE)}))}})||nK;var iK;function oK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oK(Object(n),!0).forEach((function(t){iO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oK(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const sK=new Map;let cK=PN("AgoraRTCGateway","store.clientId")(iK=class extends Zk{get state(){return this._state}set state(e){if(e===this._state)return;const t=this._state;this._state=e,"DISCONNECTED"===e&&this._disconnectedReason?this.emit(dx.CONNECTION_STATE_CHANGE,e,t,this._disconnectedReason):this.emit(dx.CONNECTION_STATE_CHANGE,e,t)}get joinGatewayStartTime(){return this._joinGatewayStartTime}set joinGatewayStartTime(e){uN.debug("[".concat(this.store.clientId,"] set joinGatewayStartTime at ").concat(e)),kN("debug",this,"joinGatewayStartTime",e,"[".concat(this.store.clientId,"] set joinGatewayStartTime at ").concat(e)),this._joinGatewayStartTime=e}constructor(e,t){super(),iO(this,"store",void 0),iO(this,"joinInfo",void 0),iO(this,"key",void 0),iO(this,"signal",void 0),iO(this,"role",void 0),iO(this,"inChannelInfo",{joinAt:null,duration:0}),iO(this,"spec",void 0),iO(this,"_state","DISCONNECTED"),iO(this,"_statsCollector",void 0),iO(this,"_disconnectedReason",void 0),iO(this,"isSignalRecover",!1),iO(this,"hasChangeBGPAddress",!1),iO(this,"trafficStatsInterval",void 0),iO(this,"networkQualityInterval",void 0),iO(this,"_joinGatewayStartTime",0),iO(this,"_signalTimeout",!1),iO(this,"_clientRoleOptions",void 0),iO(this,"_isProactiveJoin",!1),this.store=e,this.spec=t,this.signal=new rK(aK(aK({},t),{},{retryConfig:t.websocketRetryConfig}),e),this._statsCollector=t.statsCollector,this.role=t.role||"audience",this._clientRoleOptions=t.clientRoleOptions,this.handleSignalEvents()}async join(e,t,n){this.store.joinGatewayStart(),"disabled"!==e.cloudProxyServer&&(this.hasChangeBGPAddress=!0);const r=Date.now();let i=sK.get(e.cname);if(i||(i=new Map,sK.set(e.cname,i)),this._isProactiveJoin=!0,i.has(e.uid)){const t=new eN($k.UID_CONFLICT);throw yV.joinGateway(e.sid,{lts:r,succ:!1,ec:t.message,addr:null,uid:e.uid,cid:e.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!e.proxyServer}),this._isProactiveJoin=!1,t}i.set(e.uid,!0),this.joinInfo=e,this.key=t;const o=e.proxyServer,a=o?e.gatewayAddrs.map((e=>{const t=e.address.split(":");return"wss://".concat(o,"/ws/?h=").concat(t[0],"&p=").concat(t[1])})):e.gatewayAddrs.map((e=>"wss://".concat(e.address)));let s=0;this.joinGatewayStartTime=r;try{s=(await this.signal.init(a,n)).uid}catch(t){if(t&&t.code===$k.INIT_WEBSOCKET_TIMEOUT)throw uN.warning("[".concat(this.store.clientId,"] User join failed"),t.toString()),t;throw uN.error("[".concat(this.store.clientId,"] User join failed"),t.toString()),kN("error",this,"join",void 0,t.toString()),yV.joinGateway(e.sid,{lts:r,succ:!1,ec:t.message,addr:this.signal.url,uid:e.uid,cid:e.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!o}),this._isProactiveJoin=!1,i.delete(e.uid),this.signal.close(),t}return this.state="CONNECTED",this.inChannelInfo.joinAt=Date.now(),uN.debug("[".concat(this.store.clientId,"] Connected to gateway server")),kN("debug",this,"join",void 0,"success"),this.trafficStatsInterval=window.setInterval((()=>{this.updateTrafficStats().catch((e=>{uN.warning("[".concat(this.store.clientId,"] get traffic stats error"),e.toString()),kN("warning",this,"trafficStatsInterval",void 0,e.toString())}))}),3e3),this.networkQualityInterval=window.setInterval((()=>{navigator&&void 0!==navigator.onLine&&!navigator.onLine?this.emit(dx.NETWORK_QUALITY,{downlinkNetworkQuality:6,uplinkNetworkQuality:6}):this._signalTimeout?this.emit(dx.NETWORK_QUALITY,{downlinkNetworkQuality:5,uplinkNetworkQuality:5}):"CONNECTED"===this.state&&this._statsCollector.trafficStats?this.emit(dx.NETWORK_QUALITY,{uplinkNetworkQuality:AG(this._statsCollector.trafficStats.B_unq),downlinkNetworkQuality:AG(this._statsCollector.trafficStats.B_dnq)}):this.emit(dx.NETWORK_QUALITY,{uplinkNetworkQuality:0,downlinkNetworkQuality:0})}),2e3),this.store.joinGatewayEnd(),s}async leave(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;if("DISCONNECTED"!==this.state){t!==TP.FALLBACK&&(this.state="DISCONNECTING");try{e||this.signal.connectionState!==NP.CONNECTED||await function(e,t){return LC.race([e,IG(3e3)])}(this.signal.request(PP.LEAVE,void 0,!0))}catch(e){uN.warning("[".concat(this.store.clientId,"] leave request failed, ignore"),e),wN("warning",this,"leave request failed, ignore, ".concat(e.toString()))}this.signal.close(t),t!==TP.FALLBACK&&(this.state="DISCONNECTED"),this.reset()}}async publish(e,t,n){if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new eN($k.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));const r={state:"offer",p2p_id:this.store.p2pId,ortc:t,mode:this.spec.mode,extend:KN("PUB_EXTEND")};try{return(await this.signal.request(PP.PUBLISH,r,!0))._message}catch(r){if(n&&r.data&&r.data.code===wP.ERR_PUBLISH_REQUEST_INVALID)return uN.warning("[".concat(this.store.clientId,"] receive publish error code, retry"),r.toString()),wN("warning",this,"receive publish error code, retry, ".concat(r.toString())),await this.tryUnpubBeforeRepub(e,t),this.publish(e,t,!1);throw r}}async unpublish(e,t){try{if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new eN($k.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));await this.signal.request(PP.UNPUBLISH,{stream_id:t,ortc:e},!0)}catch(e){uN.warning("unpublish warning: ",e),kN("warning",this,"unpublish",void 0,e.toString())}}async subscribe(e,t,n){if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new eN($k.INVALID_OPERATION,"can not subscribe when connection state is ".concat(this.state));const r={stream_id:e,stream_type:t.stream_type,mode:this.spec.mode,codec:this.spec.codec,p2p_id:this.store.p2pId,tcc:!!KN("SUBSCRIBE_TCC"),extend:KN("SUB_EXTEND"),ssrcId:t.ssrcId};try{return(await this.signal.request(PP.SUBSCRIBE,r,!0))._message}catch(r){if(n&&r.data&&r.data.code===wP.ERR_SUBSCRIBE_REQUEST_INVALID)return uN.warning("[".concat(this.store.clientId,"] receiver subscribe error code, retry"),r.toString()),wN("warning",this,"receiver subscribe error code, retry"),await this.tryUnsubBeforeResub(e,t),await this.subscribe(e,t,!1);throw r}}async subscribeAll(e,t){if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new eN($k.INVALID_OPERATION,"can not massSubscribe when connection state is ".concat(this.state));const n={p2p_id:this.store.p2pId,users:e,dtx:!1};try{return await this.signal.request(PP.SUBSCRIBE_STREAMS,n,!0)}catch(n){if(t&&n.data&&n.data.code===wP.ERR_SUBSCRIBE_REQUEST_INVALID)return uN.warning("[".concat(this.store.clientId,"] receiver massSubscribe error code, retry"),n.toString()),wN("warning",this,"receiver massSubscribe error code, retry"),await this.tryMassUnsubBeforeResub(e),await this.subscribeAll(e,!1);throw n}}async setVideoProfile(e){const t=function(e){if(!(e.bitrateMax&&e.bitrateMin&&e.frameRate&&e.height&&e.width))return;let t=e.frameRate,n=e.width,r=e.height,i=!0;return"number"!=typeof t&&(t=t.exact||t.ideal||t.max||t.min||0,t||(i=!1)),"number"!=typeof n&&(n=n.exact||n.ideal||n.max||n.min||0,n||(i=!1)),"number"!=typeof r&&(r=r.exact||r.ideal||r.max||r.min||0,t||(i=!1)),i?{stream_type:0,width:n,height:r,fps:t,start_bps:1e3*e.bitrateMax,min_bps:1e3*e.bitrateMin,target_bps:1e3*e.bitrateMax}:void 0}(e);return t?this.signal.request(PP.SET_VIDEO_PROFILE,t):(uN.debug("[".concat(this.store.clientId,"] encoder config is not complete, do not report to gateway")),void wN("debug",this,"encoder config is not complete, do not report to gateway"))}async unsubscribe(e,t){try{await this.signal.request(PP.UNSUBSCRIBE,{p2p_id:this.store.p2pId,ortc:e,stream_id:t},!0)}catch(e){uN.warning("unsubscribe warning: ",e),kN("warning",this,"unsubscribe",void 0,e.toString())}}async massUnsubscribe(e){try{await this.signal.request(PP.UNSUBSCRIBE_STREAMS,e,!0)}catch(e){uN.warning("unsubscribeAll warning: ",e),kN("warning",this,"unsubscribeAll",void 0,e.toString())}}async reconnectPC(e){const{iceParameters:t,dtlsParameters:n,rtpCapabilities:r}=e;return{gatewayEstablishParams:await this.signal.request(PP.CONNECT_PC,{p2p_id:this.store.p2pId,stream_id:this.store.uid,ortc:{iceParameters:t,dtlsParameters:n,rtpCapabilities:r}},!0),gatewayAddress:this.getCurrentGatewayAddress()}}getGatewayInfo(){return this.signal.request(PP.GATEWAY_INFO)}renewToken(e){return this.signal.request(PP.RENEW_TOKEN,e)}async setClientRole(e,t){if(t&&(this._clientRoleOptions=Object.assign({},t)),"CONNECTED"!==this.state)return void(this.role=e);let n;n="audience"===e?this._clientRoleOptions&&this._clientRoleOptions.level?this._clientRoleOptions.level:2:0,await this.signal.request(PP.SET_CLIENT_ROLE,{role:e,level:n,client_ts:Date.now()}),this.role=e}async setRemoteVideoStreamType(e,t){await this.signal.request(PP.SWITCH_VIDEO_STREAM,{stream_id:e,stream_type:t})}async setDefaultRemoteVideoStreamType(e){await this.signal.request(PP.DEFAULT_VIDEO_STREAM,{stream_type:e})}async setStreamFallbackOption(e,t){await this.signal.request(PP.SET_FALLBACK_OPTION,{stream_id:e,fallback_type:t})}async pickSVCLayer(e,t){await this.signal.request(PP.PICK_SVC_LAYER,{stream_id:e,spatial_layer:t.spatialLayer,temporal_layer:t.temporalLayer})}getInChannelInfo(){return this.inChannelInfo.joinAt&&(this.inChannelInfo.duration=Date.now()-this.inChannelInfo.joinAt),aK({},this.inChannelInfo)}async getGatewayVersion(){return(await this.signal.request(PP.GATEWAY_INFO)).version}reset(){if(this.inChannelInfo.joinAt&&(this.inChannelInfo.duration=Date.now()-this.inChannelInfo.joinAt,this.inChannelInfo.joinAt=null),this.trafficStatsInterval&&(window.clearInterval(this.trafficStatsInterval),this.trafficStatsInterval=void 0),this.joinInfo){const e=sK.get(this.joinInfo.cname);e&&e.delete(this.joinInfo.uid)}this.joinInfo=void 0,this.key=void 0,this.networkQualityInterval&&(window.clearInterval(this.networkQualityInterval),this.networkQualityInterval=void 0)}updateTurnConfigFromSignal(){if(!this.joinInfo)return;const e=function(e){const t=e.match(/(wss\:\/\/)?([^:]+):(\d+)/);return t?{username:FN.username,password:FN.password,turnServerURL:t[2],tcpport:parseInt(t[3])+30,udpport:parseInt(t[3])+30,forceturn:!1}:null}(("disabled"===this.joinInfo.cloudProxyServer?this.signal.url:this.joinInfo.gatewayAddrs[this.signal.currentURLIndex].address)||"");this.joinInfo.turnServer.serversFromGateway=[],e&&"off"!==this.joinInfo.turnServer.mode&&"disabled"===this.joinInfo.cloudProxyServer&&this.joinInfo.turnServer.serversFromGateway.push(aK(aK({},FN),{},{turnServerURL:e.turnServerURL,tcpport:e.tcpport,udpport:e.udpport,username:this.joinInfo.uid.toString(),password:this.joinInfo.token}))}async updateTrafficStats(){if("CONNECTED"!==this.state)return;const e=await this.signal.request(PP.TRAFFIC_STATS,void 0,!0);e.timestamp=Date.now(),e.peer_delay.forEach((e=>{const t=this._statsCollector.trafficStats&&this._statsCollector.trafficStats.peer_delay.find((t=>t.peer_uid===e.peer_uid));t&&t.B_st!==e.B_st&&MG((()=>{this.emit(dx.STREAM_TYPE_CHANGE,e.peer_uid,e.B_st)}))})),this._statsCollector.updateTrafficStats(e)}getJoinMessage(e){if(!this.joinInfo||!this.key)throw new eN($k.UNEXPECTED_ERROR,"can not generate join message, no join info");const t=Object.assign({},this.joinInfo.apResponse);let n=KN("REPORT_APP_SCENARIO");if("string"!=typeof n)try{n=JSON.stringify(n)}catch(e){n=void 0}n&&n.length>128&&(n=void 0);const r=aK({license:this.joinInfo.license,p2p_id:this.store.p2pId,session_id:this.joinInfo.sid,app_id:this.joinInfo.appId,channel_key:this.key,channel_name:this.joinInfo.cname,sdk_version:MN,browser:navigator.userAgent,process_id:KN("PROCESS_ID"),mode:this.spec.mode,codec:this.spec.codec,role:this.role,has_changed_gateway:this.hasChangeBGPAddress,ap_response:t,extend:KN("JOIN_EXTEND"),details:{6:this.joinInfo.stringUid,cservice_map:"proxy3"===this.joinInfo.cloudProxyServer?"1":"proxy5"===this.joinInfo.cloudProxyServer?"2":void 0},features:{rejoin:!0},optionalInfo:this.joinInfo.optionalInfo,appScenario:n,attributes:{userAttributes:{enablePublishedUserList:KN("ENABLE_PUBLISHED_USER_LIST"),maxSubscription:KN("MAX_SUBSCRIPTION"),subscribeAudioFilterTopN:"number"==typeof KN("SUBSCRIBE_AUDIO_FILTER_TOPN")?KN("SUBSCRIBE_AUDIO_FILTER_TOPN"):void 0,enablePublishAudioFilter:"boolean"==typeof KN("ENABLE_PUBLISH_AUDIO_FILTER")?KN("ENABLE_PUBLISH_AUDIO_FILTER"):void 0}},join_ts:this.joinGatewayStartTime},e);return this.joinInfo.stringUid&&(r.string_uid=this.joinInfo.stringUid),this.joinInfo.aesmode&&this.joinInfo.aespassword&&(r.aes_mode=this.joinInfo.aesmode,KN("ENCRYPT_AES")?(r.aes_secret=this.joinInfo.aespassword,r.aes_encrypt=!0):r.aes_secret=this.joinInfo.aespassword,this.joinInfo.aessalt&&(r.aes_salt=this.joinInfo.aessalt)),t.addresses[this.signal.websocket.currentURLIndex]&&(r.ap_response.ticket=t.addresses[this.signal.websocket.currentURLIndex].ticket,delete t.addresses),void 0!==this.joinInfo.defaultVideoStream&&(r.default_video_stream=this.joinInfo.defaultVideoStream),r}getRejoinMessage(){if(!this.joinInfo)throw new eN($k.UNEXPECTED_ERROR,"can not generate rejoin message, no join info");return{session_id:this.joinInfo.sid,channel_name:this.joinInfo.cname,cid:this.joinInfo.cid,uid:this.joinInfo.uid,vid:Number(this.joinInfo.vid)}}handleSignalEvents(){this.signal.on(DP.WS_RECONNECT_WAITTING_FINISH,(e=>{["tryNext","recover"].includes(e)&&this.joinInfo&&yV.adjustSessionStartTime(this.joinInfo.sid)})),this.signal.on(DP.WS_RECONNECT_CREATE_CONNECTION,(e=>{this.joinGatewayStartTime=Date.now()})),this.signal.on(DP.WS_RECONNECTING,(e=>{this.joinInfo&&yV.WebSocketQuit(this.joinInfo.sid,{lts:Date.now(),succ:-1,cname:this.joinInfo.cname,uid:this.joinInfo.uid,cid:this.joinInfo.cid,errorCode:e||kP.NETWORK_ERROR}),this.joinInfo&&(this.state="RECONNECTING",yV.sessionInit(this.joinInfo.sid,{lts:(new Date).getTime(),extend:this.isSignalRecover?{recover:!0}:{rejoin:!0},cname:this.joinInfo.cname,appid:this.joinInfo.appId,mode:this.spec.mode}),this.isSignalRecover=!1,this.joinGatewayStartTime=Date.now())})),this.signal.on(DP.WS_CLOSED,(e=>{let t;switch(e){case TP.LEAVE:t=kP.LEAVE;break;case TP.UID_BANNED:case TP.IP_BANNED:case TP.CHANNEL_BANNED:case TP.SERVER_ERROR:t=kP.SERVER_ERROR;break;case TP.FALLBACK:t=kP.FALLBACK;break;default:t=kP.NETWORK_ERROR}uN.debug("[signal] websocket closed, reason: ".concat(t||"undefined -> "+kP.NETWORK_ERROR)),RN("debug",this,"ws_closed","reason: ".concat(e)),this.joinInfo&&yV.WebSocketQuit(this.joinInfo.sid,{lts:Date.now(),succ:e===TP.LEAVE?1:-1,cname:this.joinInfo.cname,uid:this.joinInfo.uid,cid:this.joinInfo.cid,errorCode:t}),this._disconnectedReason=e,e!==TP.FALLBACK&&(this.state="DISCONNECTED"),this.reset()})),this.signal.on(DP.WS_CONNECTED,(()=>{if(this.updateTurnConfigFromSignal(),this.state="CONNECTED",this.joinInfo&&("audience"===this.role&&this._clientRoleOptions&&this._clientRoleOptions.level&&(uN.debug("[".concat(this.store.clientId,"] patch to send set client role, role: ").concat(this.role,", mode: ").concat(this.spec.mode,", level: ").concat(this._clientRoleOptions&&this._clientRoleOptions.level)),wN("debug",this,"patch to send set client role, role: ".concat(this.role,", mode: ").concat(this.spec.mode,", level: ").concat(this._clientRoleOptions&&this._clientRoleOptions.level)),this.setClientRole(this.role,this._clientRoleOptions)),yV.joinGateway(this.joinInfo.sid,{lts:this.joinGatewayStartTime,succ:!0,ec:null,vid:this.joinInfo.vid,addr:this.signal.url,uid:this.joinInfo.uid,cid:this.joinInfo.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!this.joinInfo.proxyServer}),this._isProactiveJoin=!1,this.joinInfo.useLocalAccessPoint)){const e=this.signal.url&&this.signal.url.match(/wss\:\/\/([^:]+):(\d+)/);if(!e)return uN.error("[".concat(this.store.clientId,"] set local access point after joined failed: ").concat(e)),void wN("error",this,"set local access point after joined failed: ".concat(e));WN("EVENT_REPORT_DOMAIN",e[1]),WN("EVENT_REPORT_BACKUP_DOMAIN",e[1]),WN("LOG_UPLOAD_SERVER","".concat(e[1],":6444"))}})),this.signal.on(LP.ON_UPLINK_STATS,(e=>{this._statsCollector.updateUplinkStats(e)})),this.signal.on(DP.REQUEST_RECOVER,((e,t,n)=>{if(!this.joinInfo)return n(new eN($k.UNEXPECTED_ERROR,"gateway: can not recover, no join info"));e&&(this.joinInfo.multiIP=e,this.hasChangeBGPAddress=!0),this.isSignalRecover=!0,kG(this,dx.REQUEST_NEW_GATEWAY_LIST).then(t).catch(n)})),this.signal.on(DP.REQUEST_JOIN_INFO,(async e=>{var t;this.updateTurnConfigFromSignal();const{iceParameters:n,dtlsParameters:r,rtpCapabilities:i}=await kG(this,dx.REQUEST_P2P_CONNECTION_PARAMS,{turnServer:null===(t=this.joinInfo)||void 0===t?void 0:t.turnServer});e(this.getJoinMessage({ortc:{iceParameters:n,dtlsParameters:r,rtpCapabilities:i,version:"2"}}))})),this.signal.on(DP.REQUEST_REJOIN_INFO,(e=>{e(this.getRejoinMessage())})),this.signal.on(DP.REPORT_JOIN_GATEWAY,((e,t)=>{this.joinInfo&&(yV.joinGateway(this.joinInfo.sid,{lts:this.joinGatewayStartTime,succ:!1,ec:e,addr:t,uid:this.joinInfo.uid,cid:this.joinInfo.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!this.joinInfo.proxyServer}),this._isProactiveJoin=!1)})),this.signal.on(DP.IS_P2P_DISCONNECTED,(e=>{e(PG(this,dx.IS_P2P_DISCONNECTED))})),this.signal.on(DP.DISCONNECT_P2P,(()=>{this.emit(dx.DISCONNECT_P2P)})),this.signal.on(DP.NEED_RENEW_SESSION,(()=>{this.emit(dx.NEED_RENEW_SESSION)})),this.signal.on(DP.REQUEST_SUCCESS,(()=>{this._signalTimeout=!1})),this.signal.on(DP.REQUEST_TIMEOUT,(()=>{this._signalTimeout=!0})),this.signal.on(DP.JOIN_RESPONSE,(e=>{const t=this.getCurrentGatewayAddress();this.emit(dx.JOIN_RESPONSE,e,t)}))}async tryUnsubBeforeResub(e,t){try{await this.signal.request(PP.UNSUBSCRIBE,{p2p_id:this.store.p2pId,stream_id:e,ortc:[t]},!0)}catch(t){throw uN.warning("unsubscribe warning",t),kN("warning",this,"tryUnsubBeforeResub",e,t.toString()),t}}async tryUnpubBeforeRepub(e,t){try{await this.signal.request(PP.UNPUBLISH,{stream_id:e,ortc:t},!0)}catch(t){throw uN.warning("unpublish warning: ",t),kN("warning",this,"tryUnpubBeforeRepub",e,t.toString()),t}}async tryMassUnsubBeforeResub(e){const t={users:e.map((e=>({stream_id:e.stream_id,stream_type:e.stream_type})))};try{await this.signal.request(PP.UNSUBSCRIBE_STREAMS,t,!0)}catch(t){throw uN.warning("massUnsubscribe warning",t),kN("warning",this,"tryUnsubAllBeforeResub",e.map((e=>e.stream_id)),t.toString()),t}}async muteLocal(e,t){const n={action:e.find((e=>e.stream_type===lx.Audio))?"mute_local_audio":"mute_local_video",p2p_id:this.store.p2pId,ortc:e,stream_id:t};try{await this.signal.request(PP.CONTROL,n,!0,!0)}catch(e){throw uN.warning("gateway unmuteLocal warning: ",e),kN("warning",this,"muteLocal",t,e.toString()),e}}async unmuteLocal(e,t){const n={action:e.find((e=>e.stream_type===lx.Audio))?"unmute_local_audio":"unmute_local_video",p2p_id:this.store.p2pId,ortc:e,stream_id:t};try{await this.signal.request(PP.CONTROL,n,!0,!0)}catch(e){throw uN.warning("gateway muteLocal warning: ",e),kN("warning",this,"unmuteLocal",t,e.toString()),e}}uploadStats(e,t){this.signal.upload(e,t)}getSignalRTT(){return this.signal.rtt}async restartICE(e){const t={p2p_id:this.store.p2pId,stream_id:this.store.uid,ortc:e};try{return{restartICEResponse:await this.signal.request(PP.RESTART_ICE,t,!0),gatewayAddress:this.getCurrentGatewayAddress()}}catch(e){throw uN.warning("P2PChannel.restartICE warning: ",e),kN("warning",this,"restartICE",void 0,e.toString()),e}}reconnect(){"CONNECTED"===this.state&&this.signal.reconnect(void 0,kP.P2P_FAILED)}getCurrentGatewayAddress(){var e;if(!KN("GATEWAY_WSS_ADDRESS"))return null!==(e=this.joinInfo)&&void 0!==e&&e.gatewayAddrs?this.joinInfo.gatewayAddrs[this.signal.currentURLIndex]:void 0}async setPublishAudioFilterEnabled(e){await this.signal.request(PP.SET_PARAMETER,{enablePublishAudioFilter:e})}})||iK;function uK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uK(Object(n),!0).forEach((function(t){iO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uK(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(){var t;function n(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var r,i="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},o=function(t){t=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof e&&e];for(var n=0;n<t.length;++n){var r=t[n];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}(this);function a(e,t){if(t)e:{var n=o;e=e.split(".");for(var r=0;r<e.length-1;r++){var a=e[r];if(!(a in n))break e;n=n[a]}(t=t(r=n[e=e[e.length-1]]))!=r&&null!=t&&i(n,e,{configurable:!0,writable:!0,value:t})}}function s(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function c(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:n(e)}}if(a("Symbol",(function(e){function t(e,t){this.A=e,i(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.A};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",r=0;return function e(i){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(n+(i||"")+"_"+r++,i)}})),a("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),r=0;r<t.length;r++){var a=o[t[r]];"function"==typeof a&&"function"!=typeof a.prototype[e]&&i(a.prototype,e,{configurable:!0,writable:!0,value:function(){return s(n(this))}})}return e})),"function"==typeof Object.setPrototypeOf)r=Object.setPrototypeOf;else{var u;e:{var l={};try{l.__proto__={a:!0},u=l.a;break e}catch(e){}u=!1}r=u?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var d=r;function h(){this.m=!1,this.j=null,this.v=void 0,this.h=1,this.u=this.C=0,this.l=null}function p(e){if(e.m)throw new TypeError("Generator is already running");e.m=!0}function f(e,t){return e.h=3,{value:t}}function A(e){this.g=new h,this.G=e}function g(e,t,n,r){try{var i=t.call(e.g.j,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return e.g.m=!1,i;var o=i.value}catch(t){return e.g.j=null,e.g.s(t),m(e)}return e.g.j=null,r.call(e.g,o),m(e)}function m(e){for(;e.g.h;)try{var t=e.G(e.g);if(t)return e.g.m=!1,{value:t.value,done:!1}}catch(t){e.g.v=void 0,e.g.s(t)}if(e.g.m=!1,e.g.l){if(t=e.g.l,e.g.l=null,t.F)throw t.D;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function v(e){this.next=function(t){return e.o(t)},this.throw=function(t){return e.s(t)},this.return=function(t){return function(e,t){p(e.g);var n=e.g.j;return n?g(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),m(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function y(e,t){return t=new v(new A(t)),d&&e.prototype&&d(t,e.prototype),t}if(h.prototype.o=function(e){this.v=e},h.prototype.s=function(e){this.l={D:e,F:!0},this.h=this.C||this.u},h.prototype.return=function(e){this.l={return:e},this.h=this.u},A.prototype.o=function(e){return p(this.g),this.g.j?g(this,this.g.j.next,e,this.g.o):(this.g.o(e),m(this))},A.prototype.s=function(e){return p(this.g),this.g.j?g(this,this.g.j.throw,e,this.g.o):(this.g.s(e),m(this))},a("Array.prototype.entries",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return[e,t]}))}})),"undefined"!=typeof Blob&&("undefined"==typeof FormData||!FormData.prototype.keys)){var E=function(e,t){for(var n=0;n<e.length;n++)t(e[n])},b=function(e){return e.replace(/\r?\n|\r/g,"\r\n")},_=function(e,t,n){return t instanceof Blob?(n=void 0!==n?String(n+""):"string"==typeof t.name?t.name:"blob",t.name===n&&"[object Blob]"!==Object.prototype.toString.call(t)||(t=new File([t],n)),[String(e),t]):[String(e),String(t)]},C=function(e,t){if(e.length<t)throw new TypeError(t+" argument required, but only "+e.length+" present.")},I="object"==typeof globalThis?globalThis:"object"==typeof window?window:"object"==typeof self?self:this,S=I.FormData,w=I.XMLHttpRequest&&I.XMLHttpRequest.prototype.send,R=I.Request&&I.fetch,T=I.navigator&&I.navigator.sendBeacon,O=I.Element&&I.Element.prototype,k=I.Symbol&&Symbol.toStringTag;k&&(Blob.prototype[k]||(Blob.prototype[k]="Blob"),"File"in I&&!File.prototype[k]&&(File.prototype[k]="File"));try{new File([],"")}catch(e){I.File=function(e,t,n){return e=new Blob(e,n||{}),Object.defineProperties(e,{name:{value:t},lastModified:{value:+(n&&void 0!==n.lastModified?new Date(n.lastModified):new Date)},toString:{value:function(){return"[object File]"}}}),k&&Object.defineProperty(e,k,{value:"File"}),e}}var N=function(e){return e.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22")},D=function(e){this.i=[];var t=this;e&&E(e.elements,(function(e){if(e.name&&!e.disabled&&"submit"!==e.type&&"button"!==e.type&&!e.matches("form fieldset[disabled] *"))if("file"===e.type){var n=e.files&&e.files.length?e.files:[new File([],"",{type:"application/octet-stream"})];E(n,(function(n){t.append(e.name,n)}))}else"select-multiple"===e.type||"select-one"===e.type?E(e.options,(function(n){!n.disabled&&n.selected&&t.append(e.name,n.value)})):"checkbox"===e.type||"radio"===e.type?e.checked&&t.append(e.name,e.value):(n="textarea"===e.type?b(e.value):e.value,t.append(e.name,n))}))};if((t=D.prototype).append=function(e,t,n){C(arguments,2),this.i.push(_(e,t,n))},t.delete=function(e){C(arguments,1);var t=[];e=String(e),E(this.i,(function(n){n[0]!==e&&t.push(n)})),this.i=t},t.entries=function e(){var t,n=this;return y(e,(function(e){if(1==e.h&&(t=0),3!=e.h)return t<n.i.length?e=f(e,n.i[t]):(e.h=0,e=void 0),e;t++,e.h=2}))},t.forEach=function(e,t){C(arguments,1);for(var n=c(this),r=n.next();!r.done;r=n.next()){var i=c(r.value);r=i.next().value,i=i.next().value,e.call(t,i,r,this)}},t.get=function(e){C(arguments,1);var t=this.i;e=String(e);for(var n=0;n<t.length;n++)if(t[n][0]===e)return t[n][1];return null},t.getAll=function(e){C(arguments,1);var t=[];return e=String(e),E(this.i,(function(n){n[0]===e&&t.push(n[1])})),t},t.has=function(e){C(arguments,1),e=String(e);for(var t=0;t<this.i.length;t++)if(this.i[t][0]===e)return!0;return!1},t.keys=function e(){var t,n,r=this;return y(e,(function(e){if(1==e.h&&(t=c(r),n=t.next()),3!=e.h)return n.done?void(e.h=0):f(e,c(n.value).next().value);n=t.next(),e.h=2}))},t.set=function(e,t,n){C(arguments,2),e=String(e);var r=[],i=_(e,t,n),o=!0;E(this.i,(function(t){t[0]===e?o&&(o=!r.push(i)):r.push(t)})),o&&r.push(i),this.i=r},t.values=function e(){var t,n,r,i,o=this;return y(e,(function(e){if(1==e.h&&(t=c(o),n=t.next()),3!=e.h)return n.done?void(e.h=0):(r=n.value,(i=c(r)).next(),f(e,i.next().value));n=t.next(),e.h=2}))},D.prototype._asNative=function(){for(var e=new S,t=c(this),n=t.next();!n.done;n=t.next()){var r=c(n.value);n=r.next().value,r=r.next().value,e.append(n,r)}return e},D.prototype._blob=function(){var e="----formdata-polyfill-"+Math.random(),t=[],n="--"+e+'\r\nContent-Disposition: form-data; name="';return this.forEach((function(e,r){return"string"==typeof e?t.push(n+N(b(r))+'"\r\n\r\n'+b(e)+"\r\n"):t.push(n+N(b(r))+'"; filename="'+N(e.name)+'"\r\nContent-Type: '+(e.type||"application/octet-stream")+"\r\n\r\n",e,"\r\n")})),t.push("--"+e+"--"),new Blob(t,{type:"multipart/form-data; boundary="+e})},D.prototype[Symbol.iterator]=function(){return this.entries()},D.prototype.toString=function(){return"[object FormData]"},O&&!O.matches&&(O.matches=O.matchesSelector||O.mozMatchesSelector||O.msMatchesSelector||O.oMatchesSelector||O.webkitMatchesSelector||function(e){for(var t=(e=(this.document||this.ownerDocument).querySelectorAll(e)).length;0<=--t&&e.item(t)!==this;);return-1<t}),k&&(D.prototype[k]="FormData"),w){var P=I.XMLHttpRequest.prototype.setRequestHeader;I.XMLHttpRequest.prototype.setRequestHeader=function(e,t){P.call(this,e,t),"content-type"===e.toLowerCase()&&(this.B=!0)},I.XMLHttpRequest.prototype.send=function(e){e instanceof D?(e=e._blob(),this.B||this.setRequestHeader("Content-Type",e.type),w.call(this,e)):w.call(this,e)}}R&&(I.fetch=function(e,t){return t&&t.body&&t.body instanceof D&&(t.body=t.body._blob()),R.call(this,e,t)}),T&&(I.navigator.sendBeacon=function(e,t){return t instanceof D&&(t=t._asNative()),T.call(this,e,t)}),I.FormData=D}}();let dK=1;let hK=1;function pK(e,t,n,r){let{url:i,areaCode:o}=e;kN("debug",["AjaxAPI",t.clientId],"requestChooseServer",{url:i,areaCode:o});const a=Date.now();let s;const[c,u]=mK(t,o,[FU.CHOOSE_SERVER]);let l=sV.networkState;return rN((async()=>{l&&sV.networkState===Nx.OFFLINE&&sV.onlineWaiter&&await LC.race([sV.onlineWaiter,CG(r&&r.maxRetryTimeout||tN.maxRetryTimeout)]),l=sV.networkState;const{data:e,headers:o}=await oV(i,{data:c,cancelToken:n,headers:{"Content-Type":"multipart/form-data;"}},!0,!0);s="1"===o.http3?1:-1,yV.reportResourceTiming(i,t.sid),AK(e,i,t,a,[FU.CHOOSE_SERVER],s);const u=gG(e,FU.CHOOSE_SERVER);return gK(u),dG(u,i)}),(e=>(e&&yV.joinChooseServer(t.sid,{lts:a,succ:!0,csAddr:i,opid:u,serverList:e.gatewayAddrs.map((e=>e.address)),ec:null,cid:e.cid.toString(),uid:e.uid.toString(),csIp:e.csIp,unilbsServerIds:[FU.CHOOSE_SERVER].toString(),isHttp3:s}),!1)),(e=>e.code!==$k.OPERATION_ABORTED&&(e.code===$k.CAN_NOT_GET_GATEWAY_SERVER?e.data.retry:(yV.joinChooseServer(t.sid,{lts:a,succ:!1,csAddr:i,serverList:null,opid:u,ec:e.code,csIp:e.data&&e.data.csIp,unilbsServerIds:[FU.CHOOSE_SERVER].toString(),extend:JSON.stringify({networkState:l}),isHttp3:s}),uN.warning("[".concat(t.clientId,"] Choose server network error, retry"),e),wN("warning",["AjaxAPI",t.clientId],"Choose server network error, retry, ".concat(e)),!0))),r)}function fK(e,t,n,r){let i,{url:o,areaCode:a,serviceIds:s}=e;kN("debug",["AjaxAPI",t.clientId],"requestMultiUnilbs",{url:o,areaCode:a,serviceIds:s});const c=Date.now(),[u,l]=mK(t,a,s);let d;return rN((async()=>{d&&sV.networkState===Nx.OFFLINE&&sV.onlineWaiter&&await LC.race([sV.onlineWaiter,CG(r&&r.maxRetryTimeout||tN.maxRetryTimeout)]),d=sV.networkState;const{data:e,headers:a}=await oV(o,{data:u,cancelToken:n,headers:{"Content-Type":"multipart/form-data;"}},!0,!0);i="1"===a.http3?1:-1,yV.reportResourceTiming(o,t.sid),AK(e,o,t,c,s,i);const l=gG(e,FU.CHOOSE_SERVER),h=gG(e,"proxy5"===t.cloudProxyServer?FU.CLOUD_PROXY_5:"proxy3"===t.cloudProxyServer||"proxy4"===t.cloudProxyServer?FU.CLOUD_PROXY:FU.CLOUD_PROXY_FALLBACK);return gK(l),{gatewayInfo:dG(l,o),proxyInfo:h,url:o}}),(e=>(e.gatewayInfo&&yV.joinChooseServer(t.sid,{lts:c,succ:!0,csAddr:o,serverList:e.gatewayInfo.gatewayAddrs.map((e=>e.address)),ec:null,opid:l,cid:e.gatewayInfo.cid.toString(),uid:e.gatewayInfo.uid.toString(),csIp:e.gatewayInfo.csIp,unilbsServerIds:s.toString(),isHttp3:i}),e.proxyInfo&&yV.joinWebProxyAP(t.sid,{lts:c,sucess:1,apServerAddr:o,turnServerAddrList:e.proxyInfo.addresses.map((e=>e.ip)).join(","),errorCode:null,eventType:t.cloudProxyServer,unilbsServerIds:s.toString()}),!1)),(e=>e.code!==$k.OPERATION_ABORTED&&(e.code===$k.CAN_NOT_GET_GATEWAY_SERVER?e.data.retry:(yV.joinWebProxyAP(t.sid,{lts:c,sucess:0,apServerAddr:o,turnServerAddrList:null,errorCode:e.code,eventType:t.cloudProxyServer,unilbsServerIds:s.toString(),extend:JSON.stringify({networkState:d})}),uN.warning("[".concat(t.clientId,"] multi unilbs network error, retry"),e),wN("warning",["AjaxAPI",t.clientId],"multi unilbs network error, retry, ".concat(e)),!0))),r)}const AK=(e,t,n,r,i,o)=>{const a=[],s=a=>{4096===a.flag?yV.joinChooseServer(n.sid,{lts:r,succ:!1,csAddr:t,opid:e.opid,serverList:null,ec:a.error.message,csIp:a.error.data&&a.error.data.csIp,unilbsServerIds:i.toString(),isHttp3:o}):1048576!==a.flag&&4194304!==a.flag&&4194310!==a.flag||yV.joinWebProxyAP(n.sid,{lts:r,sucess:0,apServerAddr:t,turnServerAddrList:null,errorCode:a.error.code,eventType:n.cloudProxyServer,unilbsServerIds:i.toString()})};if(e.response_body.forEach((t=>{const n=t.buffer.code;if(23===t.uri&&0===n&&!t.buffer.edges_services)if(4194310===t.buffer.flag)uN.warning("no edge services in ap response of proxy fallback, will not set proxy in iceServers"),t.buffer.edges_services=[];else{const n={error:new eN($k.CAN_NOT_GET_GATEWAY_SERVER,"no edge services in ap response",{retry:!0,csIp:e.detail[502]}),flag:t.buffer.flag};a.push(n),s(n)}if(0!==n){const r=BW(n),i={error:new eN($k.CAN_NOT_GET_GATEWAY_SERVER,r.desc,{desc:r.desc,retry:r.retry,csIp:e.detail[502]}),flag:t.buffer.flag};4194310===t.buffer.flag?uN.warning(i.error.toString()):a.push(i),s(i)}})),a.length)throw uN.warning("[".concat(n.clientId,"] multi unilbs ").concat(t," failed, ").concat(a.map((e=>"flag: ".concat(e.flag,", message: ").concat(e.error.message,", retry: ").concat(e.error.data.retry))).join(" | "))),kN("warning",["AjaxAPI",n.clientId],"checkMultiUnilbsResponseValid",{url:t},a.map((e=>({flag:e.flag,message:e.error.message,retry:e.error.data.retry})))),new eN($k.CAN_NOT_GET_GATEWAY_SERVER,a.map((e=>"flag: ".concat(e.flag,", message: ").concat(e.error.message))).join(" | "),{retry:!!a.find((e=>e.error.data.retry)),csIp:e.detail[502],desc:[...new Set(a.map((e=>{var t,n;return null==e||null===(t=e.error)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.desc})).filter((e=>!!e)))]})},gK=e=>{if(e.addresses&&0===e.addresses.length&&0===e.code)throw new eN($k.CAN_NOT_GET_GATEWAY_SERVER,"void gateway address",{retry:!0,csIp:e.detail&&e.detail[502]});if(KN("GATEWAY_ADDRESS")&&KN("GATEWAY_ADDRESS").length>0){uN.debug("assign gateway address to",KN("GATEWAY_ADDRESS")),wN("debug",["AjaxAPI"],"assign gateway address to ".concat(JSON.stringify(KN("GATEWAY_ADDRESS"))));const t=KN("GATEWAY_ADDRESS").map((t=>({ip:t.ip,port:t.port,ticket:e.addresses[0]&&e.addresses[0].ticket})));e.addresses=t}},mK=(e,t,n)=>{const r=Math.floor(Math.random()*10**12),i={appid:e.appId,client_ts:Date.now(),opid:r,sid:e.sid,request_bodies:[{uri:22,buffer:{cname:e.cname,detail:{6:e.stringUid,11:t,12:KN("USE_NEW_TOKEN")?"1":void 0},key:e.token,service_ids:n,uid:e.uid||0}}]};i.request_bodies.forEach((t=>{e.multiIP&&e.multiIP.gateway_ip&&(t.buffer.detail[5]=JSON.stringify({vocs_ip:[e.multiIP.uni_lbs_ip],vos_ip:[e.multiIP.gateway_ip]}))}));const o=new FormData;return o.append("request",JSON.stringify(i)),[o,r]};let vK=0;const yK=()=>{const e=KN("AREAS");return 0===e.length&&e.push(yx.GLOBAL),lh(e).call(e,((e,t,n)=>{const r=EK(t);return r?0===n?r:"".concat(e,",").concat(r):e}),"")},EK=e=>e===yx.OVERSEA?"".concat(Cx.ASIA,",").concat(Cx.EUROPE,",").concat(Cx.AFRICA,",").concat(Cx.NORTH_AMERICA,",").concat(Cx.SOUTH_AMERICA,",").concat(Cx.OCEANIA):Cx[e],bK={GLOBAL:{ASIA:[yx.CHINA,yx.JAPAN,yx.INDIA,yx.KOREA,yx.HKMC],EUROPE:[],NORTH_AMERICA:[yx.US],SOUTH_AMERICA:[],OCEANIA:[],AFRICA:[]}},_K=Object.keys(bK[yx.GLOBAL]),CK=[yx.CHINA,yx.NORTH_AMERICA,yx.EUROPE,yx.ASIA,yx.JAPAN,yx.INDIA,yx.OCEANIA,yx.SOUTH_AMERICA,yx.AFRICA,yx.KOREA,yx.HKMC,yx.US];async function IK(e,t,n,r){const i=async function(e,t,n,r){let i=null;const o=[],a=async()=>{const i=KN("WEBCS_DOMAIN").slice(0,KN("AJAX_REQUEST_CONCURRENT")).map((t=>({url:e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(t+"/api/v2/transpond/webrtc?v=2"):"https://".concat(t,"/api/v2/transpond/webrtc?v=2"),areaCode:yK()}))),a=r.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"chooseServer",urls:i.map((e=>e.url))}),s=await qG({fragementLength:KN("FRAGEMENT_LENGTH"),referenceList:i,asyncMapHandler:r=>(uN.debug("[".concat(e.clientId,"] Connect to choose_server:"),r.url),pK(r,e,t,n)),allFailedhandler:e=>{throw r.recordJoinChannelService({endTs:Date.now(),status:"error",errors:e},a),e[0]},promisesCollector:o});return r.recordJoinChannelService({endTs:Date.now(),status:"success"},a),s},s=async()=>{if(await CG(1e3),null!==i)return i;const a=KN("WEBCS_DOMAIN_BACKUP_LIST").map((t=>({url:e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(t+"/api/v2/transpond/webrtc?v=2"):"https://".concat(t,"/api/v2/transpond/webrtc?v=2"),areaCode:yK()}))),s=r.recordJoinChannelService({endTs:void 0,startTs:Date.now(),status:"pending",service:"chooseServer",urls:a.map((e=>e.url))}),c=await qG({fragementLength:KN("FRAGEMENT_LENGTH"),referenceList:a,asyncMapHandler:r=>(uN.debug("[".concat(e.clientId,"] Connect to backup choose_server:"),r.url),pK(r,e,t,n)),allFailedhandler:e=>{throw r.recordJoinChannelService({endTs:Date.now(),status:"error",errors:e},s),e[0]},promisesCollector:o});return r.recordJoinChannelService({endTs:Date.now(),status:"success"},s),c};try{return i=await OG([a(),s()]),o.length&&o.forEach((e=>e.cancel&&"function"==typeof e.cancel&&e.cancel())),i}catch(e){throw e[0]}}(e,t,n,r);return{gatewayInfo:await i}}async function SK(e,t,n,r,i){const o=e.cloudProxyServer;if("disabled"===o){if(!r)return;if(e.useLocalAccessPoint)return await IK(e,t,n,i);if(KN("JOIN_WITH_FALLBACK_MEDIA_PROXY")){const{gatewayInfo:r,proxyInfo:o}=await TK(e,t,n,i);return e.turnServer&&"auto"!==e.turnServer.mode?(wN("debug",["Server",e.clientId],"do not set fallback turn because of already having turnserver"),{gatewayInfo:r}):(e.turnServer={mode:"manual",servers:o.map((e=>({turnServerURL:e.address,tcpport:e.tcpport||FN.tcpport,udpport:e.udpport||FN.udpport,username:e.username||FN.username,password:e.password||FN.password,forceturn:KN("JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE"),security:!0})))},{gatewayInfo:r})}return await IK(e,t,n,i)}let a;if(["443only","normal"].includes(o)){let s;r?"normal"!==o?[s,a]=await LC.all([RK(e,t,n),IK(e,t,n,i)]):(s=await RK(e,t,n),e.proxyServer=s.addresses[0],yV.setProxyServer(e.proxyServer),uN.setProxyServer(e.proxyServer),SN(e.proxyServer),a=await IK(e,t,n,i)):(a=void 0,"normal"!==o?s=await RK(e,t,n):(s=await RK(e,t,n),e.proxyServer=s.addresses[0],yV.setProxyServer(e.proxyServer),uN.setProxyServer(e.proxyServer),SN(e.proxyServer))),e.turnServer={mode:"manual",servers:s.addresses.map((e=>({turnServerURL:e,tcpport:s.serverResponse.tcpport?s.serverResponse.tcpport:FN.tcpport,udpport:s.serverResponse.udpport?s.serverResponse.udpport:FN.udpport,username:s.serverResponse.username||FN.username,password:s.serverResponse.password||FN.password,forceturn:!0,security:!1})))}}else{const{proxyInfo:r,gatewayInfo:s}=await TK(e,t,n,i);a={gatewayInfo:s},e.turnServer={mode:"manual",servers:r.map((e=>({turnServerURL:e.address,tcpport:"proxy3"===o?void 0:e.tcpport?e.tcpport:FN.tcpport,udpport:"proxy4"===o?void 0:e.udpport?e.udpport:FN.udpport,username:e.username||FN.username,password:e.password||FN.password,forceturn:"proxy4"!==o,security:"proxy5"===o})))}}return uN.debug("[".concat(e.clientId,"] set proxy server: ").concat(e.proxyServer,", mode: ").concat(o)),kN("debug",["Server",e.clientId],"setCloudProxyServerAndGetServerInfo",{proxyServer:e.proxyServer,mode:e.cloudProxyServer}),a}async function wK(e,t,n,r,i){const o=KN("ACCOUNT_REGISTER").slice(0,KN("AJAX_REQUEST_CONCURRENT"));let a=[];a=t.proxyServer?o.map((e=>"https://".concat(t.proxyServer,"/ap/?url=").concat(e+"/api/v1"))):o.map((e=>"https://".concat(e,"/api/v1")));const s=null==i?void 0:i.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"stringUID",urls:a});try{const o=await async function(e,t,n,r,i){const o=Date.now(),a={sid:n.sid,opid:10,appid:n.appId,string_uid:t};let s=e[0];const c=await rN((()=>oV(s+"".concat(-1===s.indexOf("?")?"?":"&","action=stringuid"),{data:a,cancelToken:r,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":72}})),((n,r)=>{if(0===n.code){if(n.uid<=0||n.uid>=Math.pow(2,32))throw uN.error("Invalid Uint Uid ".concat(t," => ").concat(n.uid),n),kN("error",["AjaxAPI"],"requestUserAccount","Invalid Uint Uid ".concat(t," => ").concat(n.uid,", ").concat(n)),yV.reqUserAccount(a.sid,{lts:o,success:!1,serverAddr:s,stringUid:a.string_uid,uid:n.uid,errorCode:$k.INVALID_UINT_UID_FROM_STRING_UID,extend:a}),new eN($k.INVALID_UINT_UID_FROM_STRING_UID);return yV.reqUserAccount(a.sid,{lts:o,success:!0,serverAddr:s,stringUid:a.string_uid,uid:n.uid,errorCode:null,extend:a}),!1}const i=BW(n.code);return i.retry&&(s=e[(r+1)%e.length]),yV.reqUserAccount(a.sid,{lts:o,success:!1,serverAddr:s,stringUid:a.string_uid,uid:n.uid,errorCode:i.desc,extend:a}),i.retry}),((t,n)=>t.code!==$k.OPERATION_ABORTED&&(yV.reqUserAccount(a.sid,{lts:o,success:!1,serverAddr:s,stringUid:a.string_uid,uid:null,errorCode:t.code,extend:a}),s=e[(n+1)%e.length],!0)),i);if(0!==c.code){const e=BW(c.code);throw new eN($k.UNEXPECTED_RESPONSE,e.desc)}return c}(a,e,t,n,r);return null==i||i.recordJoinChannelService({status:"success",endTs:Date.now()},s),o.uid}catch(e){throw null==i||i.recordJoinChannelService({status:"error",endTs:Date.now(),errors:[e]},s),e}}async function RK(e,t,n){let r=Date.now();const i=e.cloudProxyServer,o=KN("normal"===i?"PROXY_CS":"WEBCS_DOMAIN").map((t=>e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(t+"/api/v1"):"https://".concat(t,"/api/v1")));if(["proxy3","proxy4","proxy5"].includes(i)){const r=o.map((e=>({url:e,areaCode:yK()})));let i=null;i=await qG({fragementLength:KN("FRAGEMENT_LENGTH"),referenceList:r,asyncMapHandler:r=>function(e,t,n,r){let{url:i,areaCode:o}=e;const a=Date.now(),s={opid:133,flag:"proxy5"===t.cloudProxyServer?4194304:1048576,ts:+new Date,key:t.token,cname:t.cname,sid:t.sid,detail:{6:t.stringUid,11:o},uid:t.uid||0};return rN((async()=>await oV(i,{data:s,cancelToken:n,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":69}})),(e=>{if(0===e.code)return yV.joinWebProxyAP(t.sid,{lts:a,sucess:1,apServerAddr:i,turnServerAddrList:e.addresses.map((e=>e.ip)).join(","),errorCode:null,eventType:t.cloudProxyServer}),!1;const n=BW(e.code);throw new eN($k.CAN_NOT_GET_GATEWAY_SERVER,n.desc,{retry:n.retry})}),(e=>e.code!==$k.OPERATION_ABORTED&&(e.code===$k.CAN_NOT_GET_GATEWAY_SERVER?(yV.joinWebProxyAP(s.sid,{lts:a,sucess:0,apServerAddr:i,turnServerAddrList:null,errorCode:e.code,eventType:t.cloudProxyServer}),uN.warning("[".concat(t.clientId,"] proxy ap server ").concat(i," failed, message: ").concat(e.message,", retry: ").concat(e.data.retry)),wN("warning",["AjaxAPI",t.clientId],"proxy ap server ".concat(i," failed, message: ").concat(e.message,", retry: ").concat(e.data.retry)),e.data.retry):(yV.joinWebProxyAP(s.sid,{lts:a,sucess:0,apServerAddr:i,turnServerAddrList:null,errorCode:e.code,eventType:t.cloudProxyServer}),!0))),r)}(r,e,t,n),allFailedhandler:()=>{throw uN.error("[".concat(e.clientId,"] can not get proxy server after trying several times")),new eN($k.CAN_NOT_GET_PROXY_SERVER)}});const a=i.addresses;if(!a||0===a.length)throw uN.error("[".concat(e.clientId,"] can not get proxy server, empty proxy server list")),new eN($k.CAN_NOT_GET_PROXY_SERVER,"empty proxy server list");return{addresses:a.map((e=>e.ip)).map(lG),serverResponse:{tcpport:a[0].port||443,udpport:a[0].port||FN.udpport,username:FN.username,password:FN.password}}}let a=null;a=await qG({fragementLength:KN("FRAGEMENT_LENGTH"),referenceList:o,asyncMapHandler:r=>function(e,t,n,r){const i=Date.now(),o={command:"convergeAllocateEdge",sid:t.sid,appId:t.appId,token:t.token,uid:t.uid,cname:t.cname,ts:Math.floor(Date.now()/1e3),version:MN,seq:0,requestId:1};return rN((async()=>({res:await oV(e,{data:{service_name:"webrtc_proxy",json_body:JSON.stringify(o)},cancelToken:n,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":61}}),url:e})),(e=>{if(!e.res.json_body)throw uN.debug("[".concat(t.clientId,"] Get proxy server failed: no json_body")),kN("error",["AjaxAPI",t.clientId],"requestProxyServerList","Get proxy server failed: no json_body"),new eN($k.UNEXPECTED_RESPONSE,JSON.stringify(e.res));const n=JSON.parse(e.res.json_body);if(200!==n.code)throw uN.debug("[".concat(t.clientId,"] Get proxy server failed: response code [").concat(n.code,"], reason [").concat(n.reason,"]")),kN("error",["AjaxAPI",t.clientId],"requestProxyServerList","Get proxy server failed: response code [".concat(n.code,"], reason [").concat(n.reason,"]")),new eN($k.UNEXPECTED_RESPONSE,JSON.stringify(e.res));return uN.debug("[".concat(t.clientId,"] App return server length"),n.servers.length),kN("debug",["AjaxAPI",t.clientId],"requestProxyServerList","",{length:n.servers.length}),!1}),(t=>t.code!==$k.OPERATION_ABORTED&&(yV.requestProxyAppCenter(o.sid,{lts:i,succ:!1,APAddr:e,workerManagerList:null,ec:t.code,response:t.message}),!0)),r)}(r,e,t,n),allFailedhandler:()=>{throw uN.error("[".concat(e.clientId,"] can not get proxy server after trying several times")),new eN($k.CAN_NOT_GET_PROXY_SERVER)}});const s=JSON.parse(a.res.json_body).servers.map(uG);if("443only"===e.cloudProxyServer)return{addresses:s,serverResponse:{tcpport:443,udpport:FN.udpport,username:FN.username,password:FN.password}};yV.requestProxyAppCenter(e.sid,{lts:r,succ:!0,APAddr:a.url,workerManagerList:JSON.stringify(s),ec:null,response:JSON.stringify(a.res)}),r=Date.now();const c=s.map((r=>function(e,t,n,r){const i=Date.now();let o=e;e.startsWith("http")||(o="https://".concat(e,":4000/v2/machine"));const a={command:"request",gatewayType:"http",appId:t.appId,cname:t.cname,uid:(t.uid||"").toString(),sdkVersion:"2.3.1",sid:t.sid,seq:1,ts:Date.now(),requestId:3,clientRequest:{appId:t.appId,cname:t.cname,uid:(t.uid||"").toString(),sid:t.sid}};return rN((async()=>({res:await oV(o,{data:a,cancelToken:n}),url:e})),(e=>{if(!e.res.serverResponse)throw new eN($k.UNEXPECTED_RESPONSE,"requeet worker manager server failed: serverResponse is undefined");return!1}),(t=>t.code!==$k.OPERATION_ABORTED&&(yV.requestProxyWorkerManager(a.sid,{lts:i,succ:!1,workerManagerAddr:e,ec:t.code,response:t.message}),!0)),r)}(r,e,t,n)));let u=null;try{u=await OG(c)}catch(t){throw uN.error("[".concat(e.clientId,"] can not get worker manager after trying several times")),new eN($k.CAN_NOT_GET_PROXY_SERVER)}return c.forEach((e=>e.cancel())),yV.requestProxyWorkerManager(e.sid,{lts:r,succ:!0,workerManagerAddr:u.url,ec:null,response:JSON.stringify(u.res)}),{addresses:[u.url],serverResponse:u.res.serverResponse}}async function TK(e,t,n,r){const i=KN("PROXY_SERVER_TYPE3"),o=(e,t,n)=>{let r=n||i;return Array.isArray(r)&&(r=t%2==0?i[1]:i[0]),"https://".concat(r,"/ap/?url=").concat(e)};let a=null;const s=[],c=async()=>{const i=KN("WEBCS_DOMAIN").slice(0,KN("AJAX_REQUEST_CONCURRENT")).map(((t,n)=>{let r;return r="disabled"===e.cloudProxyServer&&e.proxyServer?o("".concat(t,"/api/v2/transpond/webrtc?v=2"),n,e.proxyServer):"disabled"===e.cloudProxyServer||"fallback"===e.cloudProxyServer?"https://".concat(t,"/api/v2/transpond/webrtc?v=2"):o("".concat(t,"/api/v2/transpond/webrtc?v=2"),n),{url:r,areaCode:yK(),serviceIds:[FU.CHOOSE_SERVER,"proxy5"===e.cloudProxyServer?FU.CLOUD_PROXY_5:"proxy3"===e.cloudProxyServer||"proxy4"===e.cloudProxyServer?FU.CLOUD_PROXY:FU.CLOUD_PROXY_FALLBACK]}})),a=r.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"chooseServer",urls:i.map((e=>e.url))}),c=await qG({fragementLength:KN("FRAGEMENT_LENGTH"),referenceList:i,asyncMapHandler:r=>(uN.debug("[".concat(e.clientId,"] Connect to choose_server:"),r.url),fK(r,e,t,n)),allFailedhandler:e=>{throw r.recordJoinChannelService({endTs:Date.now(),status:"error",errors:e},a),e[0]},promisesCollector:s});return r.recordJoinChannelService({endTs:Date.now(),status:"success"},a),c},u=async()=>{if(await CG(1e3),null!==a)return a;const i=KN("WEBCS_DOMAIN_BACKUP_LIST").map(((t,n)=>{let r;return r="disabled"===e.cloudProxyServer&&e.proxyServer?o("".concat(t,"/api/v2/transpond/webrtc?v=2"),n,e.proxyServer):"disabled"===e.cloudProxyServer||"fallback"===e.cloudProxyServer?"https://".concat(t,"/api/v2/transpond/webrtc?v=2"):o("".concat(t,"/api/v2/transpond/webrtc?v=2"),n),{url:r,areaCode:yK(),serviceIds:[FU.CHOOSE_SERVER,"proxy5"===e.cloudProxyServer?FU.CLOUD_PROXY_5:"proxy3"===e.cloudProxyServer||"proxy4"===e.cloudProxyServer?FU.CLOUD_PROXY:FU.CLOUD_PROXY_FALLBACK]}})),c=r.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"chooseServer",urls:i.map((e=>e.url))}),u=await qG({fragementLength:KN("FRAGEMENT_LENGTH"),referenceList:i,asyncMapHandler:r=>(uN.debug("[".concat(e.clientId,"] Connect to backup choose_server:"),r.url),fK(r,e,t,n)),allFailedhandler:e=>{throw r.recordJoinChannelService({endTs:Date.now(),status:"error",errors:e},c),e[0]},promisesCollector:s});return r.recordJoinChannelService({endTs:Date.now(),status:"success"},c),u};let l,d,h;try{({gatewayInfo:l,proxyInfo:d,url:h}=await OG([c(),u()]))}catch(e){throw e[0]}if(s.length&&s.forEach((e=>e.cancel&&"function"==typeof e.cancel&&e.cancel())),!l||!d)throw new eN($k.UNEXPECTED_ERROR,"missing gateway or proxy response").print();if(e.apUrl=h,"disabled"!==e.cloudProxyServer&&Array.isArray(i)&&h){const t=new LW(h).host;i.includes(t)&&(e.proxyServer=t,uN.setProxyServer(t),yV.setProxyServer(t),SN(t))}return a={gatewayInfo:l,proxyInfo:await mG(d,l.uid)},a}async function OK(e,t,n,r){const i=KN("UAP_AP").slice(0,KN("AJAX_REQUEST_CONCURRENT")).map((e=>t.proxyServer?"https://".concat(t.proxyServer,"/ap/?url=").concat(e+"/api/v1?action=uap"):"https://".concat(e,"/api/v1?action=uap")));return await function(e,t,n,r,i){dK+=1;const o={sid:n.sid,command:"convergeAllocateEdge",uid:"666",appId:n.appId,ts:Math.floor(Date.now()/1e3),seq:dK,requestId:dK,version:MN,cname:n.cname},a={service_name:t,json_body:JSON.stringify(o)};let s,c,u=e[0];return rN((async()=>{s=Date.now();const e=await oV(u,{data:a,cancelToken:r,headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"61"}});if(c=Date.now()-s,0!==e.code){const t=new eN($k.UNEXPECTED_RESPONSE,"live streaming ap error, code"+e.code,{retry:!0,responseTime:c});throw uN.error(t.toString()),kN("error",["AjaxAPI"],"requestLiveStreamingWorkerManager",void 0,t.toString()),t}const n=JSON.parse(e.json_body);if(200!==n.code){const e=new eN($k.UNEXPECTED_RESPONSE,"live streaming app center error, code: ".concat(n.code,", reason: ").concat(n.reason),{code:n.code,responseTime:c});throw uN.error(e.toString()),kN("error",["AjaxAPI"],"requestLiveStreamingWorkerManager",void 0,e.toString()),e}if(!n.servers||0===n.servers.length){const e=new eN($k.UNEXPECTED_RESPONSE,"live streaming app center empty server",{code:n.code,responseTime:c});throw uN.error(e.toString()),kN("error",["AjaxAPI"],"requestLiveStreamingWorkerManager",void 0,e.toString()),e}const i=function(e,t){return{addressList:e.servers.map((e=>"wss://".concat(e.address.replace(/\./g,"-"),".").concat(KN("WORKER_DOMAIN"),":").concat(e.wss,"?serviceName=").concat(encodeURIComponent(t)))),workerToken:e.workerToken,vid:e.vid}}(n,t);return KN("LIVE_STREAMING_ADDRESS")&&(i.addressList=KN("LIVE_STREAMING_ADDRESS")instanceof Array?KN("LIVE_STREAMING_ADDRESS"):[KN("LIVE_STREAMING_ADDRESS")]),lK(lK({},i),{},{responseTime:c})}),((r,i)=>(yV.apworkerEvent(n.sid,{success:!0,sc:200,serviceName:t,responseDetail:JSON.stringify(r.addressList),firstSuccess:0===i,responseTime:c,serverIp:e[i%e.length]}),!1)),((r,i)=>(yV.apworkerEvent(n.sid,{success:!1,sc:r.data&&r.data.code||200,serviceName:t,responseTime:c,serverIp:e[i%e.length]}),!!(r.code!==$k.OPERATION_ABORTED&&r.code!==$k.UNEXPECTED_RESPONSE||r.data&&r.data.retry)&&(u=e[(i+1)%e.length],!0))),i)}(i,e,t,n,r)}async function kK(e,t,n){let r=null;const i=[],o=async o=>{const a=KN(o?"WEBCS_DOMAIN_BACKUP_LIST":"WEBCS_DOMAIN").map((t=>e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(t+"/api/v2/transpond/webrtc?v=2"):"https://".concat(t,"/api/v2/transpond/webrtc?v=2")));return o&&(await CG(1e3),null!==r)?r:await qG({fragementLength:KN("FRAGEMENT_LENGTH"),referenceList:a,asyncMapHandler:r=>(uN.debug("[".concat(e.clientId,"] update ticket, Connect to ").concat(o?"backup":""," choose_server:"),r),function(e,t,n,r){const[i]=((e,t)=>{const n=Math.floor(Math.random()*10**12),r={appid:e.appId,client_ts:Date.now(),opid:n,sid:e.sid,request_bodies:[{uri:28,buffer:{cname:e.cname,detail:{1:"",6:e.stringUid,12:"1"},token:e.token,service_ids:t,uid:e.uid||0,edges_services:e.apResponse.addresses.map((e=>({ip:e.ip,port:e.port})))}}]},i=new FormData;return i.append("request",JSON.stringify(r)),[i,n]})(t,[FU.CHOOSE_SERVER]);let o=sV.networkState;return rN((async()=>{o&&sV.networkState===Nx.OFFLINE&&sV.onlineWaiter&&await LC.race([sV.onlineWaiter,CG(r&&r.maxRetryTimeout||tN.maxRetryTimeout)]),o=sV.networkState;return((e,t)=>{if(e.response_body&&e.response_body.length){const t=e.response_body[0];if(0!==t.buffer.code){const e=BW(t.buffer.code);throw new eN($k.UPDATE_TICKET_FAILED,"[".concat(t.buffer.code,"]: ").concat(e.desc),{retry:e.retry})}return t.buffer.ticket}throw uN.debug("update ticket request received ap response without response body:",t),wN("debug",["AjaxAPI"],"update ticket request received ap response without response body: ".concat(t)),new eN($k.UPDATE_TICKET_FAILED,"cannot find response body from ap response",{retry:!1})})(await oV(e,{data:i,cancelToken:n,headers:{"Content-Type":"multipart/form-data;"}},!0),e)}),(()=>!1),(e=>e.code!==$k.OPERATION_ABORTED&&(e.code===$k.UPDATE_TICKET_FAILED?e.data.retry:(uN.warning("[".concat(t.clientId,"] update ticket network error, retry"),e),wN("warning",["AjaxAPI",t.clientId],"update ticket network error, retry, ".concat(e)),!0))),r)}(r,e,t,n)),allFailedhandler:e=>{throw e[0]},promisesCollector:i})};try{return r=await OG([o(!1),o(!0)]),i.length&&i.forEach((e=>e.cancel&&"function"==typeof e.cancel&&e.cancel())),r}catch(e){throw e[0]}}var NK;function DK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function PK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DK(Object(n),!0).forEach((function(t){iO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DK(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let xK=PN("ConfigDistributeManager")(NK=class extends Zk{constructor(){super(),iO(this,"configs",void 0),iO(this,"joinInfo",void 0),iO(this,"cancelToken",void 0),iO(this,"retryConfig",{timeout:3e3,timeoutFactor:1.5,maxRetryCount:1,maxRetryTimeout:1e4}),iO(this,"interval",void 0),iO(this,"mutex",new SV("config-distribute")),iO(this,"mutableParamsRead",!1)}startGetConfigDistribute(e,t){this.joinInfo=e,this.cancelToken=t,this.interval&&this.stopGetConfigDistribute(),this.updateConfigDistribute(),this.interval=window.setInterval((()=>{this.updateConfigDistribute()}),KN("CONFIG_DISTRIBUTE_INTERVAL"))}stopGetConfigDistribute(){this.interval&&clearInterval(this.interval),this.interval=void 0,this.joinInfo=void 0,this.cancelToken=void 0}async awaitConfigDistributeComplete(){this.mutex.isLocked&&(await this.mutex.lock())()}async updateConfigDistribute(){if(this.mutableParamsRead||(this.mutableParamsRead=!0,yV.reportApiInvoke(null,{options:void 0,name:vP.LOAD_CONFIG_FROM_LOCALSTORAGE,tag:yP.TRACER}).onSuccess(JSON.stringify(JN))),!this.joinInfo||!this.cancelToken||!this.retryConfig)return uN.debug("[config-distribute] get config distribute interrupted have no joininfo"),void kN("debug",this,"updateConfigDistribute",void 0,"get config distribute interrupted have no joininfo");let e;const t=await this.mutex.lock();try{e=await async function(e,t,n){const r=KN("CDS_AP").slice(0,KN("AJAX_REQUEST_CONCURRENT")).map((t=>e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(t+"/api/v1"):"https://".concat(t,"/api/v1?action=config"))).map((r=>function(e,t,n,r){const i=OT(),o={flag:64,cipher_method:0,features:{device:i.name,system:i.os,system_general:navigator.userAgent,vendor:t.appId,version:MN,cname:t.cname,sid:t.sid,session_id:t.sid,detail:"",proxyServer:t.proxyServer}};return rN((()=>oV(e,{data:o,timeout:1e3,cancelToken:n,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":54}})),void 0,(e=>e.code!==$k.OPERATION_ABORTED),r)}(r,e,t,n)));let i=null,o=null,a={};try{i=await OG(r)}catch(e){if(e.code===$k.OPERATION_ABORTED)throw e;o=e}if(r.forEach((e=>e.cancel())),yV.reportApiInvoke(e.sid,{name:vP.REQUEST_CONFIG_DISTRIBUTE,options:{error:o,res:i}}).onSuccess(),i&&i.test_tags)try{a=function(e){if(!e.test_tags)return{};const t=e.test_tags,n=Object.keys(t),r={};return n.forEach((e=>{var n;const i=pT(n=e.slice(4)).call(n),o=JSON.parse(t[e])[1];r[i]=o})),r}(i)}catch(e){}return a}(this.joinInfo,this.cancelToken,this.retryConfig),uN.debug("[config-distribute] get config distribute",JSON.stringify(e)),kN("debug",this,"updateConfigDistribute",e),e.limit_bitrate&&this.handleBitrateLimit(e.limit_bitrate),this.cacheGlobalParameterConfig(e),this.configs=e}catch(e){const t=new eN($k.NETWORK_RESPONSE_ERROR,e);uN.warning("[config-distribute] ".concat(t.toString())),kN("warning",this,"updateConfigDistribute",void 0,e.toString())}finally{t()}}getBitrateLimit(){return this.configs?this.configs.limit_bitrate:void 0}handleBitrateLimit(e){var t;(t=e)&&t.uplink&&t.id&&void 0!==t.uplink.max_bitrate&&void 0!==t.uplink.min_bitrate&&(this.configs&&this.configs.limit_bitrate?this.configs&&this.configs.limit_bitrate&&this.configs.limit_bitrate.id!==e.id&&this.emit(Sx.UPDATE_BITRATE_LIMIT,e):this.emit(Sx.UPDATE_BITRATE_LIMIT,e))}getLowStreamConfigDistribute(){return this.configs&&this.configs.limit_bitrate&&PK({},this.configs.limit_bitrate.low_stream_uplink)}cacheGlobalParameterConfig(e){var t;const n=YD(t=Object.keys(e).filter((e=>/^webrtc_ng_global_parameter/.test(e)))).call(t);for(let t=0;t<n.length;t++)for(let r=n.length-1;r>t;r--){const t=n[r];if("number"==typeof e[t].__priority){const i=e[t].__priority,o=n[r-1];if("number"==typeof e[o].__priority){if(!(i>e[o].__priority))continue;{const e=t;n[r]=n[r-1],n[r-1]=e}}else{const e=t;n[r]=n[r-1],n[r-1]=e}}}const r={};n.forEach((t=>{const n=e[t],i=n.__expires;Object.keys(n).forEach((e=>{"__priority"===e||"__expires"===e||Object.prototype.hasOwnProperty.call(r,e)||(r[e]=PK({value:n[e]},i&&{expires:i}))}))}));try{const e=JSON.stringify(r),t=window.btoa(e);window.localStorage.setItem("websdk_ng_global_parameter",t),uN.debug("Caching global parameters ".concat(e)),kN("debug",this,"cacheGlobalParameterConfig",e)}catch(e){uN.error("Error caching global parameters:",e.message),kN("error",this,"cacheGlobalParameterConfig",void 0,e.message)}}})||NK;function LK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function MK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LK(Object(n),!0).forEach((function(t){iO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LK(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class BK extends Zk{constructor(e,t,n,r){super(),iO(this,"spec",void 0),iO(this,"token",void 0),iO(this,"websocket",void 0),iO(this,"pingpongTimer",void 0),iO(this,"reconnectMode","retry"),iO(this,"serviceMode",void 0),iO(this,"reqId",0),iO(this,"commandReqId",0),iO(this,"handleWebSocketOpen",(()=>{this.reconnectMode="retry",this.startPingPong()})),iO(this,"handleWebSocketMessage",(e=>{if(!e.data)return;const t=JSON.parse(e.data);t.requestId?this.emit("@".concat(t.requestId,"-").concat(t.sid),t):this.serviceMode===YP.INJECT?this.emit(nx.INJECT_STREAM_STATUS,t):(yV.workerEvent(this.spec.sid,{actionType:"status",serverCode:t.code,workerType:this.serviceMode===YP.TRANSCODE?1:2}),this.emit(nx.PUBLISH_STREAM_STATUS,t))})),this.spec=t,this.token=e,this.serviceMode=r,this.websocket=new eK("live-streaming",n),this.websocket.on(KP.CONNECTED,this.handleWebSocketOpen),this.websocket.on(KP.ON_MESSAGE,this.handleWebSocketMessage),this.websocket.on(KP.REQUEST_NEW_URLS,((e,t)=>{kG(this,nx.REQUEST_NEW_ADDRESS).then(e).catch(t)})),this.websocket.on(KP.RECONNECTING,(()=>{this.websocket.reconnectMode=this.reconnectMode}))}init(e){return this.websocket.init(e)}async request(e,t,n,r){this.reqId+=1,"request"===e&&(this.commandReqId+=1);const i=this.commandReqId,o=this.reqId;if(!o||!this.websocket)throw new eN($k.UNEXPECTED_ERROR);const a=MK({command:e,sdkVersion:"4.14.0"===MN?"0.0.1":MN,seq:o,requestId:o,allocate:n,cname:this.spec.cname,appId:this.spec.appId,sid:this.spec.sid,uid:this.spec.uid.toString(),ts:Math.floor(Date.now()/1e3)},t);if("closed"===this.websocket.state)throw new eN($k.WS_DISCONNECT);const s=()=>new LC(((e,t)=>{this.websocket.once(KP.CLOSED,(()=>t(new eN($k.WS_ABORT)))),this.websocket.once(KP.CONNECTED,e)}));"connected"!==this.websocket.state&&await s(),a.clientRequest&&(a.clientRequest.workerToken=this.token);const c=new LC(((e,t)=>{const n=()=>{t(new eN($k.WS_ABORT))};this.websocket.once(KP.RECONNECTING,n),this.websocket.once(KP.CLOSED,n),this.once("@".concat(o,"-").concat(this.spec.sid),(t=>{e(t)}))}));r&&yV.workerEvent(this.spec.sid,MK(MK({},r),{},{requestId:i,actionType:"request",payload:JSON.stringify(t.clientRequest),serverCode:0,code:0}));const u=Date.now();this.websocket.sendMessage(a);let l=null;try{l=await c}catch(r){if("closed"===this.websocket.state)throw r;return await s(),await this.request(e,t,n)}return r&&yV.workerEvent(this.spec.sid,MK(MK({},r),{},{requestId:i,actionType:"response",payload:JSON.stringify(l.serverResponse),serverCode:l.code,success:200===l.code,responseTime:Date.now()-u})),200!==l.code&&this.handleResponseError(l),l}tryNextAddress(){this.reconnectMode="tryNext",this.websocket.reconnect("tryNext")}close(){const e="4.14.0"===MN?"0.0.1":MN;this.reqId+=1,"connected"===this.websocket.state?(this.websocket.sendMessage({command:"request",appId:this.spec.appId,cname:this.spec.cname,uid:this.spec.uid.toString(),sdkVersion:e,sid:this.spec.sid,seq:this.reqId,ts:Math.floor(Date.now()/1e3),requestId:this.reqId,clientRequest:{command:"DestroyWorker"}}),this.websocket.close(!1,!0)):this.websocket.close(!1),this.pingpongTimer&&(window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0)}handleResponseError(e){switch(e.code){case ix.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM:return void uN.warning("live stream response already exists stream");case ix.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR:case ix.LIVE_STREAM_RESPONSE_BAD_STREAM:case ix.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR:return new eN($k.LIVE_STREAMING_INVALID_ARGUMENT,"",{code:e.code}).throw();case ix.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST:if("UnpublishStream"===e.serverResponse.command||"UninjectStream"===e.serverResponse.command)return;throw new eN($k.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream response wm worker not exist",{retry:!0});case ix.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED:return new eN($k.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED,"",{code:e.code}).throw();case ix.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:{const t=new eN($k.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE);return this.emit(nx.WARNING,t,e.serverResponse.url)}case ix.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN:{const t=new eN($k.LIVE_STREAMING_WARN_FREQUENT_REQUEST);return this.emit(nx.WARNING,t,e.serverResponse.url)}case ix.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH:throw new eN($k.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream response wm worker not exist",{retry:!0});case ix.LIVE_STREAM_RESPONSE_NOT_SUPPORTED:return new eN($k.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED,"",{code:e.code}).throw();case ix.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM:{const t=new eN($k.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT);return this.emit(nx.WARNING,t,e.serverResponse.url)}case ix.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR:return new eN($k.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"",{code:e.code}).throw();case ix.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT:throw new eN($k.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream resource limit",{retry:!0,changeAddress:!0});case ix.LIVE_STREAM_RESPONSE_WORKER_LOST:case ix.LIVE_STREAM_RESPONSE_WORKER_QUIT:if("UnpublishStream"===e.serverResponse.command||"UninjectStream"===e.serverResponse.command)return;throw new eN($k.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{retry:!0,changeAddress:!0});case ix.ERROR_FAIL_SEND_MESSAGE:if("UnpublishStream"===e.serverResponse.command||"UninjectStream"===e.serverResponse.command)return;if("UpdateTranscoding"===e.serverResponse.command||"ControlStream"===e.serverResponse.command)return new eN($k.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{code:e.code}).throw();throw new eN($k.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{retry:!0,changeAddress:!0});case ix.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case ix.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case ix.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case ix.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:return new eN($k.LIVE_STREAMING_CDN_ERROR,"",{code:e.code}).throw()}}startPingPong(){this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval((()=>{"connected"===this.websocket.state&&this.request("ping",{}).catch(RG)}),6e3)}}function FK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function UK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FK(Object(n),!0).forEach((function(t){iO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FK(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class jK extends Zk{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tN,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tN;super(),iO(this,"onLiveStreamWarning",void 0),iO(this,"onLiveStreamError",void 0),iO(this,"onInjectStatusChange",void 0),iO(this,"spec",void 0),iO(this,"retryTimeout",1e4),iO(this,"connection",void 0),iO(this,"httpRetryConfig",void 0),iO(this,"wsRetryConfig",void 0),iO(this,"streamingTasks",new Map),iO(this,"isStartingStreamingTask",!1),iO(this,"taskMutex",new SV("live-streaming")),iO(this,"cancelToken",Yk.CancelToken.source()),iO(this,"transcodingConfig",void 0),iO(this,"injectConfig",UK({},tx)),iO(this,"injectLoopTimes",0),iO(this,"uapResponse",void 0),iO(this,"lastTaskId",1),iO(this,"statusError",new Map),this.spec=e,this.httpRetryConfig=n,this.wsRetryConfig=t}async setTranscodingConfig(e){const t=UK(UK({},ex),e);66!==t.videoCodecProfile&&77!==t.videoCodecProfile&&100!==t.videoCodecProfile&&(uN.debug("[".concat(this.spec.clientId,"] set transcoding config, fix video codec profile: ").concat(t.videoCodecProfile," -> 100")),t.videoCodecProfile=100),t.transcodingUsers||(t.transcodingUsers=t.userConfigs),t.transcodingUsers&&(t.transcodingUsers=t.transcodingUsers.map((e=>UK(UK(UK({},ZP),e),{},{zOrder:e.zOrder?e.zOrder+1:1})))),function(e){iP(e.width)||XD(e.width,"config.width",0,1e4),iP(e.height)||XD(e.height,"config.height",0,1e4),iP(e.videoBitrate)||XD(e.videoBitrate,"config.videoBitrate",1,1e6),iP(e.videoFrameRate)||XD(e.videoFrameRate,"config.videoFrameRate"),iP(e.lowLatency)||JD(e.lowLatency,"config.lowLatency"),iP(e.audioSampleRate)||ZD(e.audioSampleRate,"config.audioSampleRate",[32e3,44100,48e3]),iP(e.audioBitrate)||XD(e.audioBitrate,"config.audioBitrate",1,128),iP(e.audioChannels)||ZD(e.audioChannels,"config.audioChannels",[1,2,3,4,5]),iP(e.videoGop)||XD(e.videoGop,"config.videoGop"),iP(e.videoCodecProfile)||ZD(e.videoCodecProfile,"config.videoCodecProfile",[66,77,100]),iP(e.userCount)||XD(e.userCount,"config.userCount",0,17),iP(e.backgroundColor)||XD(e.backgroundColor,"config.backgroundColor",0,16777215),iP(e.userConfigExtraInfo)||eP(e.userConfigExtraInfo,"config.userConfigExtraInfo",0,4096,!1),e.transcodingUsers&&!iP(e.transcodingUsers)&&(tP(e.transcodingUsers,"config.transcodingUsers"),e.transcodingUsers.forEach(((e,t)=>{rP(e.uid),iP(e.x)||XD(e.x,"transcodingUser[".concat(t,"].x"),0,1e4),iP(e.y)||XD(e.y,"transcodingUser[".concat(t,"].y"),0,1e4),iP(e.width)||XD(e.width,"transcodingUser[".concat(t,"].width"),0,1e4),iP(e.height)||XD(e.height,"transcodingUser[".concat(t,"].height"),0,1e4),iP(e.zOrder)||XD(e.zOrder-1,"transcodingUser[".concat(t,"].zOrder"),0,100),iP(e.alpha)||XD(e.alpha,"transcodingUser[".concat(t,"].alpha"),0,1,!1)}))),iP(e.watermark)||$P(e.watermark,"watermark"),iP(e.backgroundImage)||$P(e.backgroundImage,"backgroundImage"),e.images&&!iP(e.images)&&(tP(e.images,"config.images"),e.images.forEach(((e,t)=>{$P(e,"images[".concat(t,"]"))})))}(t);const n=[];t.images&&n.push(...t.images.map((e=>UK(UK(UK({},XP),e),{},{zOrder:255})))),t.backgroundImage&&(n.push(UK(UK(UK({},XP),t.backgroundImage),{},{zOrder:0})),delete t.backgroundImage),t.watermark&&(n.push(UK(UK(UK({},XP),t.watermark),{},{zOrder:255})),delete t.watermark),t.images=n,t.transcodingUsers&&(t.userConfigs=t.transcodingUsers.map((e=>UK({},e))),t.userCount=t.transcodingUsers.length,delete t.transcodingUsers);const r=(t.userConfigs||[]).map((e=>"number"==typeof e.uid?LC.resolve(e.uid):wK(e.uid,this.spec,this.cancelToken.token,this.httpRetryConfig)));if((await LC.all(r)).forEach(((e,n)=>{t.userConfigs&&t.userConfigs[n]&&(t.userConfigs[n].uid=e)})),this.transcodingConfig=t,this.connection)try{var i;const e=await this.connection.request("request",{clientRequest:{command:"UpdateTranscoding",transcodingConfig:this.transcodingConfig}},!1,{command:"UpdateTranscoding",workerType:1,requestByUser:!0,tid:Array.from(qQ(i=this.streamingTasks).call(i)).map((e=>e.taskId)).join("#")});uN.debug("[".concat(this.spec.clientId,"] update live transcoding config success, code: ").concat(e.code,", config:"),JSON.stringify(this.transcodingConfig))}catch(e){if(!e.data||!e.data.retry)throw e;e.data.changeAddress&&this.connection.tryNextAddress(),this.streamingTasks.forEach((t=>{uN.warning("[".concat(this.spec.clientId,"] live streaming receive error"),e.toString(),"try to republish",t.url),this.startLiveStreamingTask(t.url,t.mode,e).then((()=>{uN.debug("[".concat(this.spec.clientId,"] live streaming republish ").concat(t.url," success"))})).catch((e=>{uN.error("[".concat(this.spec.clientId,"] live streaming republish failed"),t.url,e.toString()),this.onLiveStreamError&&this.onLiveStreamError(t.url,e)}))}))}}setInjectStreamConfig(e,t){this.injectConfig=Object.assign({},this.injectConfig,e),this.injectLoopTimes=t}async startLiveStreamingTask(e,t,n){var r;if(Array.from(qQ(r=this.streamingTasks).call(r)).find((e=>e.mode===YP.INJECT))&&t===YP.INJECT)return new eN($k.LIVE_STREAMING_TASK_CONFLICT,"inject stream over limit").throw();if(!this.transcodingConfig&&t===YP.TRANSCODE)throw new eN($k.INVALID_OPERATION,"[LiveStreaming] no transcoding config found, can not start transcoding streaming task");let i={command:"PublishStream",ts:Date.now(),url:e,uid:this.spec.uid.toString(),autoDestroyTime:100,acceptImageTimeout:!0};uN.debug("[".concat(this.spec.clientId,"] start live streaming ").concat(e,", mode: ").concat(t));const o=await this.taskMutex.lock();if(!this.connection&&n)return void o();if(this.streamingTasks.get(e)&&!n)return o(),new eN($k.LIVE_STREAMING_TASK_CONFLICT).throw();try{this.connection||(this.connection=await this.connect(t))}catch(e){throw o(),e}switch(t){case YP.TRANSCODE:i.transcodingConfig=UK({},this.transcodingConfig);break;case YP.RAW:break;case YP.INJECT:i={cname:this.spec.cname,command:"InjectStream",sid:this.spec.sid,transcodingConfig:this.injectConfig,ts:Date.now(),url:e,loopTimes:this.injectLoopTimes}}this.uapResponse&&this.uapResponse.vid&&(i.vid=this.uapResponse.vid),this.isStartingStreamingTask=!0;const a=this.lastTaskId++;try{const r=new LC(((t,r)=>{CG(this.retryTimeout).then((()=>{if(n)return r(n);const t=this.statusError.get(e);return t?(this.statusError.delete(e),r(t)):void 0}))})),s=await LC.race([this.connection.request("request",{clientRequest:i},!0,{url:e,command:"PublishStream",workerType:t===YP.TRANSCODE?1:2,requestByUser:!n,tid:a.toString()}),r]);this.isStartingStreamingTask=!1,uN.debug("[".concat(this.spec.clientId,"] live streaming started, code: ").concat(s.code)),this.streamingTasks.set(e,{clientRequest:i,mode:t,url:e,taskId:a}),o()}catch(r){if(o(),this.isStartingStreamingTask=!1,!r.data||!r.data.retry||n)throw r;return r.data.changeAddress?(this.connection.tryNextAddress(),await this.startLiveStreamingTask(e,t,r)):await this.startLiveStreamingTask(e,t,r)}}stopLiveStreamingTask(e){return new LC(((t,n)=>{const r=this.streamingTasks.get(e);if(!r||!this.connection)return new eN($k.UNEXPECTED_ERROR,"can not find streaming task to stop").throw();const i=r.mode;r.abortTask=()=>{uN.debug("[".concat(this.spec.clientId,"] stop live streaming success(worker exception)")),this.streamingTasks.delete(e),t()},this.connection.request("request",{clientRequest:{command:i===YP.INJECT?"UninjectStream":"UnpublishStream",url:r.url}},!1,{url:e,command:"UnPublishStream",workerType:i===YP.TRANSCODE?1:2,requestByUser:!0,tid:(this.lastTaskId++).toString()}).then((n=>{uN.debug("[".concat(this.spec.clientId,"] stop live streaming success, code: ").concat(n.code)),this.streamingTasks.delete(e),0===this.streamingTasks.size&&i!==YP.INJECT&&(this.connection&&this.connection.close(),this.connection=void 0),t(),i===YP.INJECT&&this.onInjectStatusChange&&this.onInjectStatusChange(JP.INJECT_STREAM_STATUS_STOP_SUCCESS,this.spec.uid,e)})).catch(n)}))}async controlInjectStream(e,t,n,r){const i=this.streamingTasks.get(e);if(!i||!this.connection||i.mode!==YP.INJECT)throw new eN($k.INVALID_OPERATION,"can not find inject stream task to control");return(await this.connection.request("request",{clientRequest:{command:"ControlStream",url:e,control:t,audioVolume:n,position:r}})).serverResponse}resetAllTask(){var e;const t=Array.from(qQ(e=this.streamingTasks).call(e));this.terminate();for(const e of t)this.startLiveStreamingTask(e.url,e.mode).catch((t=>{this.onLiveStreamError&&this.onLiveStreamError(e.url,t)}))}terminate(){this.cancelToken&&this.cancelToken.cancel(),this.streamingTasks=new Map,this.isStartingStreamingTask=!1,this.statusError=new Map,this.cancelToken=Yk.CancelToken.source(),this.uapResponse=void 0,this.connection&&this.connection.close(),this.connection=void 0}async connect(e){if(this.connection)throw new eN($k.UNEXPECTED_ERROR,"live streaming connection has already connected");const t=await kG(this,rx.REQUEST_WORKER_MANAGER_LIST,e);return this.uapResponse=t,this.connection=new BK(t.workerToken,this.spec,this.wsRetryConfig,e),this.connection.on(nx.WARNING,((e,t)=>this.onLiveStreamWarning&&this.onLiveStreamWarning(t,e))),this.connection.on(nx.PUBLISH_STREAM_STATUS,(e=>this.handlePublishStreamServer(e))),this.connection.on(nx.INJECT_STREAM_STATUS,(e=>this.handleInjectStreamServerStatus(e))),this.connection.on(nx.REQUEST_NEW_ADDRESS,((t,n)=>{if(!this.connection)return n(new eN($k.UNEXPECTED_ERROR,"can not get new live streaming address list"));kG(this,rx.REQUEST_WORKER_MANAGER_LIST,e).then((e=>{this.uapResponse=e,t(e.addressList)})).catch(n)})),await this.connection.init(t.addressList),this.connection}handlePublishStreamServer(e){const t=e.serverStatus&&e.serverStatus.url||"empty_url",n=this.streamingTasks.get(t),r=e.reason;switch(e.code){case ix.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case ix.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case ix.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case ix.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:{const r=new eN($k.LIVE_STREAMING_CDN_ERROR,"",{code:e.code});if(n)return uN.error(r.toString()),this.onLiveStreamError&&this.onLiveStreamError(t,r);if(!this.isStartingStreamingTask)return;this.statusError.set(t,r)}case ix.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:{const e=new eN($k.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE,r);return this.onLiveStreamWarning&&this.onLiveStreamWarning(t,e)}case ix.LIVE_STREAM_RESPONSE_WORKER_LOST:case ix.LIVE_STREAM_RESPONSE_WORKER_QUIT:{var i;if(!this.connection)return;this.connection.tryNextAddress();const t=Array.from(qQ(i=this.streamingTasks).call(i));for(const n of t)n.abortTask?n.abortTask():(uN.warning("[".concat(this.spec.clientId,"] publish stream status code"),e.code,"try to republish",n.url),this.startLiveStreamingTask(n.url,n.mode,new eN($k.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"",{code:e.code})).then((()=>{uN.debug("[".concat(this.spec.clientId,"] republish live stream success"),n.url)})).catch((e=>{uN.error(e.toString()),this.onLiveStreamError&&this.onLiveStreamError(n.url,e)})));return}}}handleInjectStreamServerStatus(e){const t=Number(e.uid),n=e.serverStatus&&e.serverStatus.url;switch(e.code){case 200:return void(this.onInjectStatusChange&&this.onInjectStatusChange(JP.INJECT_STREAM_STATUS_START_SUCCESS,t,n));case 451:return this.onInjectStatusChange&&this.onInjectStatusChange(JP.INJECT_STREAM_STATUS_START_ALREADY_EXISTS,t,n),void this.streamingTasks.delete(n);case 453:return this.onInjectStatusChange&&this.onInjectStatusChange(JP.INJECT_STREAM_STATUS_START_UNAUTHORIZED,t,n),void this.streamingTasks.delete(n);case 470:return this.onInjectStatusChange&&this.onInjectStatusChange(JP.INJECT_STREAM_STATUS_BROKEN,t,n),void this.streamingTasks.delete(n);case 499:return this.onInjectStatusChange&&this.onInjectStatusChange(JP.INJECT_STREAM_STATUS_START_TIMEOUT,t,n),void this.streamingTasks.delete(n);default:return void uN.debug("inject stream server status",e)}}hasUrl(e){return this.streamingTasks.has(e)}}class VK{constructor(){iO(this,"destChannelMediaInfos",new Map),iO(this,"srcChannelMediaInfo",void 0)}setSrcChannelInfo(e){Ex(e),this.srcChannelMediaInfo=e}addDestChannelInfo(e){Ex(e),this.destChannelMediaInfos.set(e.channelName,e)}removeDestChannelInfo(e){nP(e),this.destChannelMediaInfos.delete(e)}getSrcChannelMediaInfo(){return this.srcChannelMediaInfo}getDestChannelMediaInfo(){return this.destChannelMediaInfos}}function QK(e){if(!(e instanceof VK))return new eN($k.INVALID_PARAMS,"Config should be instance of [ChannelMediaRelayConfiguration]").throw();const t=e.getSrcChannelMediaInfo(),n=e.getDestChannelMediaInfo();return t?0===n.size?new eN($k.INVALID_PARAMS,"destChannelMediaInfo should not be empty").throw():void 0:new eN($k.INVALID_PARAMS,"srcChannelMediaInfo should not be empty").throw()}class GK extends Zk{constructor(e,t,n){super(),iO(this,"ws",void 0),iO(this,"requestId",1),iO(this,"heartBeatTimer",void 0),iO(this,"joinInfo",void 0),iO(this,"clientId",void 0),iO(this,"onOpen",(()=>{this.emit("open"),this.startHeartBeatCheck()})),iO(this,"onClose",(e=>{this.emit("close"),this.dispose()})),iO(this,"onMessage",(e=>{const t=JSON.parse(e.data);if(!t||"serverResponse"!==t.command||!t.requestId)return t&&"serverStatus"===t.command&&t.serverStatus&&t.serverStatus.command?(this.emit("status",t.serverStatus),void this.emit(t.serverStatus.command,t.serverStatus)):void 0;this.emit("req_".concat(t.requestId),t)})),this.joinInfo=e,this.clientId=t,this.ws=new eK("cross-channel-".concat(this.clientId),n),this.ws.on(KP.RECONNECTING,(()=>{this.ws.reconnectMode="retry",this.emit("reconnecting")})),this.ws.on(KP.CONNECTED,this.onOpen),this.ws.on(KP.ON_MESSAGE,this.onMessage),this.ws.on(KP.CLOSED,this.onClose)}isConnect(){return"connected"===this.ws.state}sendMessage(e){const t=this.requestId++;return e.requestId=t,e.seq=t,this.ws.sendMessage(e),t}waitStatus(e){return new LC(((t,n)=>{const r=window.setTimeout((()=>{n(new eN($k.TIMEOUT,"wait status timeout, status: ".concat(e)))}),5e3);this.once(e,(i=>{window.clearTimeout(r),i.state&&0!==i.state?n(new eN($k.CROSS_CHANNEL_WAIT_STATUS_ERROR,"wait status error, status: ".concat(e))):t(void 0)})),this.once("dispose",(()=>{window.clearTimeout(r),n(new eN($k.WS_ABORT))}))}))}async request(e){if("closed"===this.ws.state)throw new eN($k.WS_DISCONNECT);"connected"!==this.ws.state&&await(()=>new LC(((e,t)=>{this.ws.once(KP.CLOSED,(()=>t(new eN($k.WS_ABORT)))),this.ws.once(KP.CONNECTED,e)})))();const t=this.sendMessage(e),n=new LC(((e,n)=>{const r=()=>{n(new eN($k.WS_ABORT))};this.ws.once(KP.RECONNECTING,r),this.ws.once(KP.CLOSED,r),this.once("req_".concat(t),e),CG(3e3).then((()=>{this.removeAllListeners("req_".concat(t)),this.ws.off(KP.RECONNECTING,r),this.ws.off(KP.CLOSED,r),n(new eN($k.TIMEOUT,"cross channel ws request timeout"))}))})),r=await n;if(!r||200!==r.code)throw new eN($k.CROSS_CHANNEL_SERVER_ERROR_RESPONSE,"response: ".concat(JSON.stringify(r)));return r}async connect(e){this.ws.removeAllListeners(KP.REQUEST_NEW_URLS),this.ws.on(KP.REQUEST_NEW_URLS,(t=>{t(e)})),await this.ws.init(e)}dispose(){this.clearHeartBeatCheck(),this.emit("dispose"),this.removeAllListeners(),this.ws.close()}sendPing(e){const t=this.requestId++;return e.requestId=t,this.ws.sendMessage(e),t}startHeartBeatCheck(){this.heartBeatTimer=window.setInterval((()=>{this.sendPing({command:"ping",appId:this.joinInfo.appId,cname:this.joinInfo.cname,uid:this.joinInfo.uid.toString(),sid:this.joinInfo.sid,ts:+new Date,requestId:0})}),3e3)}clearHeartBeatCheck(){window.clearInterval(this.heartBeatTimer),this.heartBeatTimer=void 0}}class qK extends Zk{set state(e){e!==this._state&&(e!==cx.RELAY_STATE_FAILURE&&(this.errorCode=ux.RELAY_OK),this.emit("state",e,this.errorCode),this._state=e)}get state(){return this._state}constructor(e,t,n,r){super(),iO(this,"joinInfo",void 0),iO(this,"clientId",void 0),iO(this,"cancelToken",Yk.CancelToken.source()),iO(this,"workerToken",void 0),iO(this,"requestId",0),iO(this,"signal",void 0),iO(this,"prevChannelMediaConfig",void 0),iO(this,"httpRetryConfig",void 0),iO(this,"_state",cx.RELAY_STATE_IDLE),iO(this,"errorCode",ux.RELAY_OK),iO(this,"onStatus",(e=>{uN.debug("[".concat(this.clientId,"] ChannelMediaStatus: ").concat(JSON.stringify(e))),e&&e.command&&("onAudioPacketReceived"===e.command&&this.emit("event",sx.PACKET_RECEIVED_AUDIO_FROM_SRC),"onVideoPacketReceived"===e.command&&this.emit("event",sx.PACKET_RECEIVED_VIDEO_FROM_SRC),"onSrcTokenPrivilegeDidExpire"===e.command&&(this.errorCode=ux.SRC_TOKEN_EXPIRED,this.state=cx.RELAY_STATE_FAILURE),"onDestTokenPrivilegeDidExpire"===e.command&&(this.errorCode=ux.DEST_TOKEN_EXPIRED,this.state=cx.RELAY_STATE_FAILURE))})),iO(this,"onReconnect",(async()=>{uN.debug("[".concat(this.clientId,"] ChannelMediaSocket disconnect, reconnecting")),this.emit("event",sx.NETWORK_DISCONNECTED),this.state=cx.RELAY_STATE_IDLE,this.prevChannelMediaConfig&&this.sendStartRelayMessage(this.prevChannelMediaConfig).catch((e=>{this.state!==cx.RELAY_STATE_IDLE&&(uN.error("auto restart channel media relay failed",e.toString()),this.errorCode=ux.SERVER_CONNECTION_LOST,this.state=cx.RELAY_STATE_FAILURE)}))})),this.joinInfo=e,this.clientId=t,this.signal=new GK(this.joinInfo,this.clientId,n),this.httpRetryConfig=r}async startChannelMediaRelay(e){if(this.state!==cx.RELAY_STATE_IDLE)throw new eN($k.INVALID_OPERATION);this.state=cx.RELAY_STATE_CONNECTING,await this.connect(),uN.debug("[".concat(this.clientId,"] startChannelMediaRelay: connect success"));try{await this.sendStartRelayMessage(e)}catch(e){if(e.data&&e.data.serverResponse&&"SetSourceChannel"===e.data.serverResponse.command)throw new eN($k.CROSS_CHANNEL_FAILED_JOIN_SRC);if(e.data&&e.data.serverResponse&&"SetDestChannelStatus"===e.serverResponse.command)throw new eN($k.CROSS_CHANNEL_FAILED_JOIN_DEST);if(e.data&&e.data.serverResponse&&"StartPacketTransfer"===e.serverResponse.command)throw new eN($k.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST);throw e}this.prevChannelMediaConfig=e}async updateChannelMediaRelay(e){if(this.state!==cx.RELAY_STATE_RUNNING)throw new eN($k.INVALID_OPERATION);await this.sendUpdateMessage(e),this.prevChannelMediaConfig=e}async stopChannelMediaRelay(){await this.sendStopRelayMessage(),uN.debug("[".concat(this.clientId,"] stopChannelMediaRelay: send stop message success")),this.state=cx.RELAY_STATE_IDLE,this.dispose()}dispose(){uN.debug("[".concat(this.clientId,"] disposeChannelMediaRelay")),this.cancelToken.cancel(),this.cancelToken=Yk.CancelToken.source(),this.state=cx.RELAY_STATE_IDLE,this.emit("dispose"),this.signal.dispose(),this.prevChannelMediaConfig=void 0}async connect(){const e=await async function(e,t,n){const r=KN("UAP_AP").slice(0,KN("AJAX_REQUEST_CONCURRENT")).map((t=>e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(t+"/api/v1?action=uap"):"https://".concat(t,"/api/v1?action=uap"))).map((r=>function(e,t,n,r){const i={command:"convergeAllocateEdge",sid:t.sid,appId:t.appId,token:t.token,ts:Date.now(),version:MN,cname:t.cname,uid:t.uid.toString(),requestId:hK,seq:hK};hK+=1;const o={service_name:"tele_channel",json_body:JSON.stringify(i)};return rN((async()=>{const t=await oV(e,{data:o,cancelToken:n,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":61}});if(0!==t.code){const e=new eN($k.UNEXPECTED_RESPONSE,"cross channel ap error, code"+t.code,{retry:!0});throw uN.error(e.toString()),kN("error",["AjaxAPI"],"requestChannelMediaRelayWorkerManager",void 0,e.toString()),e}const r=JSON.parse(t.json_body);if(200!==r.code){const e=new eN($k.UNEXPECTED_RESPONSE,"cross channel app center error, code: ".concat(r.code,", reason: ").concat(r.reason));throw uN.error(e.toString()),kN("error",["AjaxAPI"],"requestChannelMediaRelayWorkerManager",void 0,e.toString()),e}if(!r.servers||0===r.servers.length){const e=new eN($k.UNEXPECTED_RESPONSE,"cross channel app center empty server");throw uN.error(e.toString()),kN("error",["AjaxAPI"],"requestChannelMediaRelayWorkerManager",void 0,e.toString()),e}return{vid:r.vid,workerToken:r.workerToken,addressList:r.servers.map((e=>"wss://".concat(e.address.replace(/\./g,"-"),".").concat(KN("WORKER_DOMAIN"),":").concat(e.wss)))}}),void 0,(e=>!!(e.code!==$k.OPERATION_ABORTED&&e.code!==$k.UNEXPECTED_RESPONSE||e.data&&e.data.retry)),r)}(r,e,t,n)));try{const e=await OG(r);return r.forEach((e=>e.cancel())),e}catch(e){throw e[0]}}(this.joinInfo,this.cancelToken.token,this.httpRetryConfig);this.workerToken=e.workerToken,await this.signal.connect(e.addressList),this.emit("event",sx.NETWORK_CONNECTED),this.signal.on("status",this.onStatus),this.signal.on("reconnecting",this.onReconnect)}async sendStartRelayMessage(e){const t=this.genMessage(ax.StopPacketTransfer);await this.signal.request(t),await this.signal.waitStatus("Normal Quit"),uN.debug("[".concat(this.clientId,"] startChannelMediaRelay: StopPacketTransfer success"));const n=this.genMessage(ax.SetSdkProfile,e);await this.signal.request(n),uN.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetSdkProfile success"));const r=this.genMessage(ax.SetSourceChannel,e);await this.signal.request(r),await this.signal.waitStatus("SetSourceChannelStatus"),this.emit("event",sx.PACKET_JOINED_SRC_CHANNEL),uN.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetSourceChannel success"));const i=this.genMessage(ax.SetSourceUserId,e);await this.signal.request(i),uN.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetSourceUserId success"));const o=this.genMessage(ax.SetDestChannel,e);await this.signal.request(o),await this.signal.waitStatus("SetDestChannelStatus"),this.emit("event",sx.PACKET_JOINED_DEST_CHANNEL),uN.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetDestChannel success"));const a=this.genMessage(ax.StartPacketTransfer,e);await this.signal.request(a),this.emit("event",sx.PACKET_SENT_TO_DEST_CHANNEL),this.state=cx.RELAY_STATE_RUNNING,uN.debug("[".concat(this.clientId,"] startChannelMediaRelay: StartPacketTransfer success"))}async sendUpdateMessage(e){const t=this.genMessage(ax.UpdateDestChannel,e);await this.signal.request(t),this.emit("event",sx.PACKET_UPDATE_DEST_CHANNEL),uN.debug("[".concat(this.clientId,"] sendUpdateMessage: UpdateDestChannel success"))}async sendStopRelayMessage(){const e=this.genMessage(ax.StopPacketTransfer);await this.signal.request(e),uN.debug("[".concat(this.clientId,"] sendStopRelayMessage: StopPacketTransfer success"))}genMessage(e,t){const n=[],r=[],i=[];this.requestId+=1;const o={appId:this.joinInfo.appId,cname:this.joinInfo.cname,uid:this.joinInfo.uid.toString(),sdkVersion:MN,sid:this.joinInfo.sid,ts:Date.now(),requestId:this.requestId,seq:this.requestId,allocate:!0,clientRequest:{}};"4.14.0"===o.sdkVersion&&(o.sdkVersion="0.0.1");let a=null,s=null;switch(e){case ax.SetSdkProfile:return o.clientRequest={command:"SetSdkProfile",type:"multi_channel"},o;case ax.SetSourceChannel:if(s=t&&t.getSrcChannelMediaInfo(),!s)throw new eN($k.UNEXPECTED_ERROR,"can not find source config");return o.clientRequest={command:"SetSourceChannel",uid:"0",channelName:s.channelName,token:s.token||this.joinInfo.appId},o;case ax.SetSourceUserId:if(s=t&&t.getSrcChannelMediaInfo(),!s)throw new eN($k.UNEXPECTED_ERROR,"can not find source config");return o.clientRequest={command:"SetSourceUserId",uid:s.uid+""},o;case ax.SetDestChannel:if(a=t&&t.getDestChannelMediaInfo(),!a)throw new eN($k.UNEXPECTED_ERROR,"can not find dest config");return a.forEach((e=>{n.push(e.channelName),r.push(e.uid+""),i.push(e.token||this.joinInfo.appId)})),o.clientRequest={command:"SetDestChannel",channelName:n,uid:r,token:i},o;case ax.StartPacketTransfer:return o.clientRequest={command:"StartPacketTransfer"},o;case ax.Reconnect:return o.clientRequest={command:"Reconnect"},o;case ax.StopPacketTransfer:return o.clientRequest={command:"StopPacketTransfer"},o;case ax.UpdateDestChannel:if(a=t&&t.getDestChannelMediaInfo(),!a)throw new eN($k.UNEXPECTED_ERROR,"can not find dest config");return a.forEach((e=>{n.push(e.channelName),r.push(e.uid+""),i.push(e.token||this.joinInfo.appId)})),o.clientRequest={command:"UpdateDestChannel",channelName:n,uid:r,token:i},o}return o}}const HK=e=>{const t=document.createElement("canvas");return t.width=2,t.height=2,new LC(((n,r)=>{t.toBlob((async e=>{if(t.remove(),e){const r=await zK(e);n({buffer:r,width:t.width,height:t.height})}else r(new eN($k.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED))}),e,1)}))},zK=async e=>{const t=await e.arrayBuffer();return new Uint8Array(t)};var WK;let KK=PN("AgoraRTCPlayer","trackId")(WK=class{get videoElementStatus(){return this._videoElementStatus}set videoElementStatus(e){e!==this._videoElementStatus&&(uN.debug("[".concat(this.trackId,"] video-element-status change ").concat(this._videoElementStatus," => ").concat(e)),ON("debug",["HTMLVideoElement",this.trackId],"statusChange","".concat(this._videoElementStatus," => ").concat(e)),this._videoElementStatus=e)}constructor(e){iO(this,"trackId",void 0),iO(this,"config",void 0),iO(this,"onFirstVideoFrameDecoded",void 0),iO(this,"freezeTimeCounterList",[]),iO(this,"timeUpdatedCount",0),iO(this,"freezeTime",0),iO(this,"playbackTime",0),iO(this,"lastTimeUpdatedTime",0),iO(this,"videoTrack",void 0),iO(this,"container",void 0),iO(this,"videoElement",void 0),iO(this,"videoElementCheckInterval",void 0),iO(this,"_videoElementStatus",lP.NONE),iO(this,"slot",void 0),iO(this,"isGettingVideoDimensions",!1),iO(this,"handleVideoEvents",(e=>{switch(e.type){case"play":case"playing":this.startGetVideoDimensions(),this.videoElementStatus=lP.PLAYING;break;case"loadeddata":this.onFirstVideoFrameDecoded&&this.onFirstVideoFrameDecoded();break;case"canplay":this.videoElementStatus=lP.CANPLAY;break;case"stalled":this.videoElementStatus=lP.STALLED;break;case"suspend":this.videoElementStatus=lP.SUSPEND;break;case"pause":this.videoElementStatus=lP.PAUSED,!FT()&&!zT()&&this.videoElement&&this.videoTrack&&"live"===this.videoTrack.readyState&&(uN.debug("[track-".concat(this.trackId,"] video element paused, auto resume")),wN("debug",this,"video element paused, auto resume"),this.videoElement.play());break;case"waiting":this.videoElementStatus=lP.WAITING;break;case"abort":this.videoElementStatus=lP.ABORT;break;case"ended":this.videoElementStatus=lP.ENDED;break;case"emptied":this.videoElementStatus=lP.EMPTIED;break;case"timeupdate":{const e=Date.now();if(this.timeUpdatedCount+=1,this.timeUpdatedCount<10)return void(this.lastTimeUpdatedTime=e);const t=e-this.lastTimeUpdatedTime;for(this.lastTimeUpdatedTime=e,t>500&&(this.freezeTime+=t),this.playbackTime+=t;this.playbackTime>=6e3;)this.playbackTime-=6e3,this.freezeTimeCounterList.push(Math.min(6e3,this.freezeTime)),this.freezeTime=Math.max(0,this.freezeTime-6e3);break}}})),iO(this,"startGetVideoDimensions",(()=>{const e=()=>{if(this.isGettingVideoDimensions=!0,this.videoElement&&this.videoElement.videoWidth*this.videoElement.videoHeight>4)return uN.debug("[".concat(this.trackId,"] current video dimensions:"),this.videoElement.videoWidth,this.videoElement.videoHeight),kN("debug",this,"startGetVideoDimensions",{videoWidth:this.videoElement.videoWidth,videoHeight:this.videoElement.videoHeight}),void(this.isGettingVideoDimensions=!1);setTimeout(e,500)};!this.isGettingVideoDimensions&&e()})),iO(this,"autoResumeAfterInterruption",(()=>{this.videoElement&&this.videoTrack&&"live"===this.videoTrack.readyState&&"running"===xV.curState&&(HT()?(uN.debug("[track-".concat(this.trackId,"] video element paused, auto resume for iOS 15.2")),this.videoElement.srcObject=null,this.videoElement.srcObject=new MediaStream([this.videoTrack]),this.videoElement.play()):qT()?(uN.debug("[track-".concat(this.trackId,"] video element paused, auto resume for iOS 15.1")),this.videoElement.srcObject=null,this.videoElement.srcObject=new MediaStream([this.videoTrack]),this.videoElement.play()):GT()&&(uN.debug("[track-".concat(this.trackId,"] video element paused, auto resume for iOS 15.0")),this.videoElement.pause(),this.videoElement.play()))})),iO(this,"autoResumeAfterInterruptionOnIOS15",(()=>{this.videoElement&&this.videoTrack&&"live"===this.videoTrack.readyState&&(HT()?(uN.debug("[track-".concat(this.trackId,"] video element paused, auto resume for iOS 15.2")),this.videoElement.srcObject=null,this.videoElement.srcObject=new MediaStream([this.videoTrack]),this.videoElement.play()):qT()?(uN.debug("[track-".concat(this.trackId,"] video element paused, auto resume for iOS 15.1")),this.videoElement.srcObject=null,this.videoElement.srcObject=new MediaStream([this.videoTrack]),this.videoElement.play()):GT()&&(uN.debug("[track-".concat(this.trackId,"] video element paused, auto resume for iOS 15.0")),this.videoElement.pause(),this.videoElement.play()))})),this.slot=e.element,this.trackId=e.trackId,this.updateConfig(e),xV.on(bV.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),xV.on(bV.IOS_15_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15)}updateConfig(e){this.config=e,this.trackId=e.trackId;const t=e.element;t!==this.slot&&(this.destroy(),this.slot=t),this.createElements()}updateVideoTrack(e){this.videoTrack!==e&&(this.videoTrack=e,this.createElements())}play(e){if(this.videoElement){const t=this.videoElement.play();t&&t.catch&&t.catch((t=>{e&&yV.autoplayFailed(e,"video",t.message,this.trackId),kN("warning",this,"play",t.toString(),"error"),"NotAllowedError"===t.name?(uN.warning("detected video element autoplay failed",t),this.handleAutoPlayFailed()):uN.warning("[".concat(this.trackId,"] play warning: "),t)}));const n=OT();if(("Safari"===n.name&&15===Number(n.version)||QT())&&t&&t.then&&t.catch){const e=()=>{this.config.mirror&&this.videoElement&&(this.videoElement.style.transform="rotateY(180deg)")};t.then(e).catch(e)}}}getCurrentFrame(){if(!this.videoElement)return new ImageData(2,2);const e=document.createElement("canvas");e.width=this.videoElement.videoWidth,e.height=this.videoElement.videoHeight;const t=e.getContext("2d");if(!t)return uN.error("create canvas context failed!"),kN("error",this,"getCurrentFrame","create canvas context failed!","error"),new ImageData(2,2);t.drawImage(this.videoElement,0,0,e.width,e.height);const n=t.getImageData(0,0,e.width,e.height);return e.remove(),n}async getCurrentFrameToUint8Array(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!this.videoElement)return await HK(e);const n=document.createElement("canvas");n.width=this.videoElement.videoWidth,n.height=this.videoElement.videoHeight;const r=n.getContext("2d");return r?(r.drawImage(this.videoElement,0,0,n.width,n.height),new LC(((r,i)=>{n.toBlob((async e=>{if(n.remove(),e){const t=await zK(e);r({buffer:t,width:n.width,height:n.height})}else i(new eN($k.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED))}),e,t<0?.1:t>1?1:t)}))):await HK(e)}destroy(){if(xV.off(bV.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),xV.off(bV.IOS_15_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15),this.videoElement&&(this.videoElement.srcObject=null,this.videoElement.remove(),this.videoElement=void 0),this.container){try{this.container.remove(),this.slot.removeChild(this.container)}catch(e){}this.container=void 0}this.freezeTimeCounterList=[]}createElements(){this.container||(this.container=document.createElement("div")),this.container.id="agora-video-player-".concat(this.trackId),this.container.style.width="100%",this.container.style.height="100%",this.container.style.position="relative",this.container.style.overflow="hidden",this.videoTrack?(this.container.style.backgroundColor="black",this.createVideoElement(),this.container.appendChild(this.videoElement)):this.removeVideoElement(),this.slot.appendChild(this.container)}createVideoElement(){this.videoElement||(this.videoElementStatus=lP.INIT,this.videoElement=document.createElement("video"),this.videoElement.onerror=()=>this.videoElementStatus=lP.ERROR,this.container&&this.container.appendChild(this.videoElement),YK.forEach((e=>{this.videoElement&&this.videoElement.addEventListener(e,this.handleVideoEvents)})),this.videoElementCheckInterval=window.setInterval((()=>{!document.getElementById("video_".concat(this.trackId))&&this.videoElement&&(this.videoElementStatus=lP.DESTROYED)}),1e3)),this.videoElement.id="video_".concat(this.trackId),this.videoElement.className="agora_video_player",this.videoElement.style.width="100%",this.videoElement.style.height="100%",this.videoElement.style.position="absolute",this.videoElement.controls=!1,this.videoElement.setAttribute("playsinline",""),this.videoElement.style.left="0",this.videoElement.style.top="0";const e=OT();"Safari"===e.name&&15===Number(e.version)||QT()||!this.config.mirror||(this.videoElement.style.transform="rotateY(180deg)"),this.config.fit?this.videoElement.style.objectFit=this.config.fit:this.videoElement.style.objectFit="cover",this.videoElement.setAttribute("muted",""),this.videoElement.muted=!0,this.videoElement.srcObject&&this.videoElement.srcObject instanceof MediaStream?this.videoElement.srcObject.getVideoTracks()[0]!==this.videoTrack&&(this.videoElement.srcObject=this.videoTrack?new MediaStream([this.videoTrack]):null,BT()&&this.videoElement.load()):(this.videoElement.srcObject=this.videoTrack?new MediaStream([this.videoTrack]):null,BT()&&this.videoElement.load());const t=this.videoElement.play();void 0!==t&&t.catch((e=>{uN.debug("[".concat(this.trackId,"] playback interrupted"),e.toString()),wN("debug",this,"play back interrupted: ".concat(e.toString()))}))}removeVideoElement(){if(this.videoElement){YK.forEach((e=>{this.videoElement&&this.videoElement.removeEventListener(e,this.handleVideoEvents)})),this.videoElementCheckInterval&&(window.clearInterval(this.videoElementCheckInterval),this.videoElementCheckInterval=void 0);try{this.container&&this.container.removeChild(this.videoElement)}catch(e){}this.videoElement=void 0,this.videoElementStatus=lP.NONE}}handleAutoPlayFailed(){const e=OT();if(this.videoElement){const t=n=>{n.preventDefault(),this.videoElement&&(this.videoElement.play().then((()=>{uN.debug("[".concat(this.trackId,"] Video element for trackId:").concat(this.trackId," autoplay resumed.")),wN("debug",this,"video element autoplay resumed")})).catch((e=>{uN.error(e)})),"Android"!==e.os||"Chrome"!==e.name&&e.name!==ST.WECHAT?(document.body.removeEventListener("touchstart",t,!0),document.body.removeEventListener("mousedown",t,!0)):document.body.removeEventListener("click",t,!0))};"Android"!==e.os||"Chrome"!==e.name&&e.name!==ST.WECHAT?(document.body.addEventListener("touchstart",t,!0),document.body.addEventListener("mousedown",t,!0)):document.body.addEventListener("click",t,!0),lV()}}getVideoElement(){return this.videoElement}getContainerElement(){return this.container}})||WK;const YK=["play","playing","loadeddata","canplay","pause","stalled","suspend","waiting","abort","emptied","ended","timeupdate"];var JK,ZK={exports:{}};function XK(e,t,n){const r=e.createShader(n);if(!r)return new eN($k.WEBGL_INTERNAL_ERROR,"can not create shader").throw();if(e.shaderSource(r,t),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS)){const t=e.getShaderInfoLog(r);return e.deleteShader(r),new eN($k.WEBGL_INTERNAL_ERROR,"error compiling shader:"+t).throw()}return r}!function(e,t){self,e.exports=(()=>{var e={3476:(e,t,n)=>{e.exports=n(7460)},4341:(e,t,n)=>{e.exports=n(3685)},3536:(e,t,n)=>{var r=n(1910);e.exports=r},8171:(e,t,n)=>{n(6450);var r=n(4058).Object,i=e.exports=function(e,t,n){return r.defineProperty(e,t,n)};r.defineProperty.sham&&(i.sham=!0)},2956:(e,t,n)=>{n(7627),n(6274),n(5967),n(8881),n(4560),n(7206),n(4349),n(7971);var r=n(4058);e.exports=r.Promise},3685:(e,t,n)=>{var r=n(3536);e.exports=r},4883:(e,t,n)=>{var r=n(1899),i=n(7475),o=n(9826),a=r.TypeError;e.exports=function(e){if(i(e))return e;throw a(o(e)+" is not a function")}},174:(e,t,n)=>{var r=n(1899),i=n(4284),o=n(9826),a=r.TypeError;e.exports=function(e){if(i(e))return e;throw a(o(e)+" is not a constructor")}},1851:(e,t,n)=>{var r=n(1899),i=n(7475),o=r.String,a=r.TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw a("Can't set "+o(e)+" as a prototype")}},8479:e=>{e.exports=function(){}},5743:(e,t,n)=>{var r=n(1899),i=n(7046),o=r.TypeError;e.exports=function(e,t){if(i(t,e))return e;throw o("Incorrect invocation")}},6059:(e,t,n)=>{var r=n(1899),i=n(941),o=r.String,a=r.TypeError;e.exports=function(e){if(i(e))return e;throw a(o(e)+" is not an object")}},1692:(e,t,n)=>{var r=n(4529),i=n(9413),o=n(623),a=function(e){return function(t,n,a){var s,c=r(t),u=o(c),l=i(a,u);if(e&&n!=n){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},3765:(e,t,n)=>{var r=n(5329);e.exports=r([].slice)},1385:(e,t,n)=>{var r=n(9813)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch(e){}return n}},2532:(e,t,n)=>{var r=n(5329),i=r({}.toString),o=r("".slice);e.exports=function(e){return o(i(e),8,-1)}},9697:(e,t,n)=>{var r=n(1899),i=n(2885),o=n(7475),a=n(2532),s=n(9813)("toStringTag"),c=r.Object,u="Arguments"==a(function(){return arguments}());e.exports=i?a:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=c(e),s))?n:u?a(t):"Object"==(r=a(t))&&o(t.callee)?"Arguments":r}},8694:(e,t,n)=>{var r=n(5329)("".replace),i=String(Error("zxcasd").stack),o=/\n\s*at [^:]*:[^\n]*/,a=o.test(i);e.exports=function(e,t){if(a&&"string"==typeof e)for(;t--;)e=r(e,o,"");return e}},3489:(e,t,n)=>{var r=n(953),i=n(1136),o=n(9677),a=n(5988);e.exports=function(e,t,n){for(var s=i(t),c=a.f,u=o.f,l=0;l<s.length;l++){var d=s[l];r(e,d)||n&&r(n,d)||c(e,d,u(t,d))}}},4160:(e,t,n)=>{var r=n(5981);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},1046:(e,t,n)=>{var r=n(5143).IteratorPrototype,i=n(9290),o=n(1887),a=n(904),s=n(2077),c=function(){return this};e.exports=function(e,t,n,u){var l=t+" Iterator";return e.prototype=i(r,{next:o(+!u,n)}),a(e,l,!1,!0),s[l]=c,e}},2029:(e,t,n)=>{var r=n(5746),i=n(5988),o=n(1887);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},1887:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},7771:(e,t,n)=>{var r=n(6887),i=n(8834),o=n(2529),a=n(9417),s=n(7475),c=n(1046),u=n(249),l=n(8929),d=n(904),h=n(2029),p=n(9754),f=n(9813),A=n(2077),g=n(5143),m=a.PROPER,v=a.CONFIGURABLE,y=g.IteratorPrototype,E=g.BUGGY_SAFARI_ITERATORS,b=f("iterator"),_="keys",C="values",I="entries",S=function(){return this};e.exports=function(e,t,n,a,f,g,w){c(n,t,a);var R,T,O,k=function(e){if(e===f&&L)return L;if(!E&&e in P)return P[e];switch(e){case _:case C:case I:return function(){return new n(this,e)}}return function(){return new n(this)}},N=t+" Iterator",D=!1,P=e.prototype,x=P[b]||P["@@iterator"]||f&&P[f],L=!E&&x||k(f),M="Array"==t&&P.entries||x;if(M&&(R=u(M.call(new e)))!==Object.prototype&&R.next&&(o||u(R)===y||(l?l(R,y):s(R[b])||p(R,b,S)),d(R,N,!0,!0),o&&(A[N]=S)),m&&f==C&&x&&x.name!==C&&(!o&&v?h(P,"name",C):(D=!0,L=function(){return i(x,this)})),f)if(T={values:k(C),keys:g?L:k(_),entries:k(I)},w)for(O in T)(E||D||!(O in P))&&p(P,O,T[O]);else r({target:t,proto:!0,forced:E||D},T);return o&&!w||P[b]===L||p(P,b,L,{name:f}),A[t]=L,T}},5746:(e,t,n)=>{var r=n(5981);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},1333:(e,t,n)=>{var r=n(1899),i=n(941),o=r.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},3281:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},3321:e=>{e.exports="object"==typeof window},4470:(e,t,n)=>{var r=n(2861),i=n(1899);e.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==i.Pebble},2749:(e,t,n)=>{var r=n(2861);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},6049:(e,t,n)=>{var r=n(2532),i=n(1899);e.exports="process"==r(i.process)},8045:(e,t,n)=>{var r=n(2861);e.exports=/web0s(?!.*chrome)/i.test(r)},2861:(e,t,n)=>{var r=n(626);e.exports=r("navigator","userAgent")||""},3385:(e,t,n)=>{var r,i,o=n(1899),a=n(2861),s=o.process,c=o.Deno,u=s&&s.versions||c&&c.version,l=u&&u.v8;l&&(i=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},6759:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},8780:(e,t,n)=>{var r=n(5981),i=n(1887);e.exports=!r((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",i(1,7)),7!==e.stack)}))},6887:(e,t,n)=>{var r=n(1899),i=n(9730),o=n(5329),a=n(7475),s=n(9677).f,c=n(7252),u=n(4058),l=n(6843),d=n(2029),h=n(953),p=function(e){var t=function(n,r,o){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,r)}return new e(n,r,o)}return i(e,this,arguments)};return t.prototype=e.prototype,t};e.exports=function(e,t){var n,i,f,A,g,m,v,y,E=e.target,b=e.global,_=e.stat,C=e.proto,I=b?r:_?r[E]:(r[E]||{}).prototype,S=b?u:u[E]||d(u,E,{})[E],w=S.prototype;for(f in t)n=!c(b?f:E+(_?".":"#")+f,e.forced)&&I&&h(I,f),g=S[f],n&&(m=e.noTargetGet?(y=s(I,f))&&y.value:I[f]),A=n&&m?m:t[f],n&&typeof g==typeof A||(v=e.bind&&n?l(A,r):e.wrap&&n?p(A):C&&a(A)?o(A):A,(e.sham||A&&A.sham||g&&g.sham)&&d(v,"sham",!0),d(S,f,v),C&&(h(u,i=E+"Prototype")||d(u,i,{}),d(u[i],f,A),e.real&&w&&!w[f]&&d(w,f,A)))}},5981:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},9730:(e,t,n)=>{var r=n(8285),i=Function.prototype,o=i.apply,a=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(o):function(){return a.apply(o,arguments)})},6843:(e,t,n)=>{var r=n(5329),i=n(4883),o=n(8285),a=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:o?a(e,t):function(){return e.apply(t,arguments)}}},8285:(e,t,n)=>{var r=n(5981);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},8834:(e,t,n)=>{var r=n(8285),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},9417:(e,t,n)=>{var r=n(5746),i=n(953),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=i(o,"name"),c=s&&"something"===function(){}.name,u=s&&(!r||r&&a(o,"name").configurable);e.exports={EXISTS:s,PROPER:c,CONFIGURABLE:u}},5329:(e,t,n)=>{var r=n(8285),i=Function.prototype,o=i.bind,a=i.call,s=r&&o.bind(a,a);e.exports=r?function(e){return e&&s(e)}:function(e){return e&&function(){return a.apply(e,arguments)}}},626:(e,t,n)=>{var r=n(4058),i=n(1899),o=n(7475),a=function(e){return o(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?a(r[e])||a(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},2902:(e,t,n)=>{var r=n(9697),i=n(4229),o=n(2077),a=n(9813)("iterator");e.exports=function(e){if(null!=e)return i(e,a)||i(e,"@@iterator")||o[r(e)]}},429:(e,t,n)=>{var r=n(1899),i=n(8834),o=n(4883),a=n(6059),s=n(9826),c=n(2902),u=r.TypeError;e.exports=function(e,t){var n=arguments.length<2?c(e):t;if(o(n))return a(i(n,e));throw u(s(e)+" is not iterable")}},4229:(e,t,n)=>{var r=n(4883);e.exports=function(e,t){var n=e[t];return null==n?void 0:r(n)}},1899:(e,t,n)=>{var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},953:(e,t,n)=>{var r=n(5329),i=n(9678),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},7748:e=>{e.exports={}},4845:(e,t,n)=>{var r=n(1899);e.exports=function(e,t){var n=r.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}},5463:(e,t,n)=>{var r=n(626);e.exports=r("document","documentElement")},2840:(e,t,n)=>{var r=n(5746),i=n(5981),o=n(1333);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},7026:(e,t,n)=>{var r=n(1899),i=n(5329),o=n(5981),a=n(2532),s=r.Object,c=i("".split);e.exports=o((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?c(e,""):s(e)}:s},1302:(e,t,n)=>{var r=n(5329),i=n(7475),o=n(3030),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return a(e)}),e.exports=o.inspectSource},3794:(e,t,n)=>{var r=n(941),i=n(2029);e.exports=function(e,t){r(t)&&"cause"in t&&i(e,"cause",t.cause)}},5402:(e,t,n)=>{var r,i,o,a=n(8019),s=n(1899),c=n(5329),u=n(941),l=n(2029),d=n(953),h=n(3030),p=n(4262),f=n(7748),A="Object already initialized",g=s.TypeError,m=s.WeakMap;if(a||h.state){var v=h.state||(h.state=new m),y=c(v.get),E=c(v.has),b=c(v.set);r=function(e,t){if(E(v,e))throw new g(A);return t.facade=e,b(v,e,t),t},i=function(e){return y(v,e)||{}},o=function(e){return E(v,e)}}else{var _=p("state");f[_]=!0,r=function(e,t){if(d(e,_))throw new g(A);return t.facade=e,l(e,_,t),t},i=function(e){return d(e,_)?e[_]:{}},o=function(e){return d(e,_)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=i(t)).type!==e)throw g("Incompatible receiver, "+e+" required");return n}}}},6782:(e,t,n)=>{var r=n(9813),i=n(2077),o=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},7475:e=>{e.exports=function(e){return"function"==typeof e}},4284:(e,t,n)=>{var r=n(5329),i=n(5981),o=n(7475),a=n(9697),s=n(626),c=n(1302),u=function(){},l=[],d=s("Reflect","construct"),h=/^\s*(?:class|function)\b/,p=r(h.exec),f=!h.exec(u),A=function(e){if(!o(e))return!1;try{return d(u,l,e),!0}catch(e){return!1}},g=function(e){if(!o(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!p(h,c(e))}catch(e){return!0}};g.sham=!0,e.exports=!d||i((function(){var e;return A(A.call)||!A(Object)||!A((function(){e=!0}))||e}))?g:A},7252:(e,t,n)=>{var r=n(5981),i=n(7475),o=/#|\.prototype\./,a=function(e,t){var n=c[s(e)];return n==l||n!=u&&(i(t)?r(t):!!t)},s=a.normalize=function(e){return String(e).replace(o,".").toLowerCase()},c=a.data={},u=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a},941:(e,t,n)=>{var r=n(7475);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},2529:e=>{e.exports=!0},6664:(e,t,n)=>{var r=n(1899),i=n(626),o=n(7475),a=n(7046),s=n(2302),c=r.Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return o(t)&&a(t.prototype,c(e))}},3091:(e,t,n)=>{var r=n(1899),i=n(6843),o=n(8834),a=n(6059),s=n(9826),c=n(6782),u=n(623),l=n(7046),d=n(429),h=n(2902),p=n(7609),f=r.TypeError,A=function(e,t){this.stopped=e,this.result=t},g=A.prototype;e.exports=function(e,t,n){var r,m,v,y,E,b,_,C=n&&n.that,I=!(!n||!n.AS_ENTRIES),S=!(!n||!n.IS_ITERATOR),w=!(!n||!n.INTERRUPTED),R=i(t,C),T=function(e){return r&&p(r,"normal",e),new A(!0,e)},O=function(e){return I?(a(e),w?R(e[0],e[1],T):R(e[0],e[1])):w?R(e,T):R(e)};if(S)r=e;else{if(!(m=h(e)))throw f(s(e)+" is not iterable");if(c(m)){for(v=0,y=u(e);y>v;v++)if((E=O(e[v]))&&l(g,E))return E;return new A(!1)}r=d(e,m)}for(b=r.next;!(_=o(b,r)).done;){try{E=O(_.value)}catch(e){p(r,"throw",e)}if("object"==typeof E&&E&&l(g,E))return E}return new A(!1)}},7609:(e,t,n)=>{var r=n(8834),i=n(6059),o=n(4229);e.exports=function(e,t,n){var a,s;i(e);try{if(!(a=o(e,"return"))){if("throw"===t)throw n;return n}a=r(a,e)}catch(e){s=!0,a=e}if("throw"===t)throw n;if(s)throw a;return i(a),n}},5143:(e,t,n)=>{var r,i,o,a=n(5981),s=n(7475),c=n(9290),u=n(249),l=n(9754),d=n(9813),h=n(2529),p=d("iterator"),f=!1;[].keys&&("next"in(o=[].keys())?(i=u(u(o)))!==Object.prototype&&(r=i):f=!0),null==r||a((function(){var e={};return r[p].call(e)!==e}))?r={}:h&&(r=c(r)),s(r[p])||l(r,p,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},2077:e=>{e.exports={}},623:(e,t,n)=>{var r=n(3057);e.exports=function(e){return r(e.length)}},6132:(e,t,n)=>{var r,i,o,a,s,c,u,l,d=n(1899),h=n(6843),p=n(9677).f,f=n(2941).set,A=n(2749),g=n(4470),m=n(8045),v=n(6049),y=d.MutationObserver||d.WebKitMutationObserver,E=d.document,b=d.process,_=d.Promise,C=p(d,"queueMicrotask"),I=C&&C.value;I||(r=function(){var e,t;for(v&&(e=b.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?a():o=void 0,e}}o=void 0,e&&e.enter()},A||v||m||!y||!E?!g&&_&&_.resolve?((u=_.resolve(void 0)).constructor=_,l=h(u.then,u),a=function(){l(r)}):v?a=function(){b.nextTick(r)}:(f=h(f,d),a=function(){f(r)}):(s=!0,c=E.createTextNode(""),new y(r).observe(c,{characterData:!0}),a=function(){c.data=s=!s})),e.exports=I||function(e){var t={fn:e,next:void 0};o&&(o.next=t),i||(i=t,a()),o=t}},9297:(e,t,n)=>{var r=n(1899);e.exports=r.Promise},2497:(e,t,n)=>{var r=n(3385),i=n(5981);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},8019:(e,t,n)=>{var r=n(1899),i=n(7475),o=n(1302),a=r.WeakMap;e.exports=i(a)&&/native code/.test(o(a))},9520:(e,t,n)=>{var r=n(4883),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},4649:(e,t,n)=>{var r=n(5803);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},9290:(e,t,n)=>{var r,i=n(6059),o=n(9938),a=n(6759),s=n(7748),c=n(5463),u=n(1333),l=n(4262)("IE_PROTO"),d=function(){},h=function(e){return"<script>"+e+"<\/script>"},p=function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t},f=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t;f="undefined"!=typeof document?document.domain&&r?p(r):((t=u("iframe")).style.display="none",c.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F):p(r);for(var n=a.length;n--;)delete f.prototype[a[n]];return f()};s[l]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(d.prototype=i(e),n=new d,d.prototype=null,n[l]=e):n=f(),void 0===t?n:o.f(n,t)}},9938:(e,t,n)=>{var r=n(5746),i=n(3937),o=n(5988),a=n(6059),s=n(4529),c=n(4771);t.f=r&&!i?Object.defineProperties:function(e,t){a(e);for(var n,r=s(t),i=c(t),u=i.length,l=0;u>l;)o.f(e,n=i[l++],r[n]);return e}},5988:(e,t,n)=>{var r=n(1899),i=n(5746),o=n(2840),a=n(3937),s=n(6059),c=n(3894),u=r.TypeError,l=Object.defineProperty,d=Object.getOwnPropertyDescriptor;t.f=i?a?function(e,t,n){if(s(e),t=c(t),s(n),"function"==typeof e&&"prototype"===t&&"value"in n&&"writable"in n&&!n.writable){var r=d(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:"configurable"in n?n.configurable:r.configurable,enumerable:"enumerable"in n?n.enumerable:r.enumerable,writable:!1})}return l(e,t,n)}:l:function(e,t,n){if(s(e),t=c(t),s(n),o)try{return l(e,t,n)}catch(e){}if("get"in n||"set"in n)throw u("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},9677:(e,t,n)=>{var r=n(5746),i=n(8834),o=n(6760),a=n(1887),s=n(4529),c=n(3894),u=n(953),l=n(2840),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=s(e),t=c(t),l)try{return d(e,t)}catch(e){}if(u(e,t))return a(!i(o.f,e,t),e[t])}},946:(e,t,n)=>{var r=n(5629),i=n(6759).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},7857:(e,t)=>{t.f=Object.getOwnPropertySymbols},249:(e,t,n)=>{var r=n(1899),i=n(953),o=n(7475),a=n(9678),s=n(4262),c=n(4160),u=s("IE_PROTO"),l=r.Object,d=l.prototype;e.exports=c?l.getPrototypeOf:function(e){var t=a(e);if(i(t,u))return t[u];var n=t.constructor;return o(n)&&t instanceof n?n.prototype:t instanceof l?d:null}},7046:(e,t,n)=>{var r=n(5329);e.exports=r({}.isPrototypeOf)},5629:(e,t,n)=>{var r=n(5329),i=n(953),o=n(4529),a=n(1692).indexOf,s=n(7748),c=r([].push);e.exports=function(e,t){var n,r=o(e),u=0,l=[];for(n in r)!i(s,n)&&i(r,n)&&c(l,n);for(;t.length>u;)i(r,n=t[u++])&&(~a(l,n)||c(l,n));return l}},4771:(e,t,n)=>{var r=n(5629),i=n(6759);e.exports=Object.keys||function(e){return r(e,i)}},6760:(e,t)=>{var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},8929:(e,t,n)=>{var r=n(5329),i=n(6059),o=n(1851);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return i(n),o(r),t?e(n,r):n.__proto__=r,n}}():void 0)},5623:(e,t,n)=>{var r=n(2885),i=n(9697);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},9811:(e,t,n)=>{var r=n(1899),i=n(8834),o=n(7475),a=n(941),s=r.TypeError;e.exports=function(e,t){var n,r;if("string"===t&&o(n=e.toString)&&!a(r=i(n,e)))return r;if(o(n=e.valueOf)&&!a(r=i(n,e)))return r;if("string"!==t&&o(n=e.toString)&&!a(r=i(n,e)))return r;throw s("Can't convert object to primitive value")}},1136:(e,t,n)=>{var r=n(626),i=n(5329),o=n(946),a=n(7857),s=n(6059),c=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(s(e)),n=a.f;return n?c(t,n(e)):t}},4058:e=>{e.exports={}},2:e=>{e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},6584:(e,t,n)=>{var r=n(6059),i=n(941),o=n(9520);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},8397:e=>{var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}},e.exports=t},7524:(e,t,n)=>{var r=n(9754);e.exports=function(e,t,n){for(var i in t)n&&n.unsafe&&e[i]?e[i]=t[i]:r(e,i,t[i],n);return e}},9754:(e,t,n)=>{var r=n(2029);e.exports=function(e,t,n,i){i&&i.enumerable?e[t]=n:r(e,t,n)}},8219:(e,t,n)=>{var r=n(1899).TypeError;e.exports=function(e){if(null==e)throw r("Can't call method on "+e);return e}},4911:(e,t,n)=>{var r=n(1899),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},4431:(e,t,n)=>{var r=n(626),i=n(5988),o=n(9813),a=n(5746),s=o("species");e.exports=function(e){var t=r(e),n=i.f;a&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},904:(e,t,n)=>{var r=n(2885),i=n(5988).f,o=n(2029),a=n(953),s=n(5623),c=n(9813)("toStringTag");e.exports=function(e,t,n,u){if(e){var l=n?e:e.prototype;a(l,c)||i(l,c,{configurable:!0,value:t}),u&&!r&&o(l,"toString",s)}}},4262:(e,t,n)=>{var r=n(8726),i=n(9418),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},3030:(e,t,n)=>{var r=n(1899),i=n(4911),o="__core-js_shared__",a=r[o]||i(o,{});e.exports=a},8726:(e,t,n)=>{var r=n(2529),i=n(3030);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.20.3",mode:r?"pure":"global",copyright:" 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.20.3/LICENSE",source:"https://github.com/zloirock/core-js"})},487:(e,t,n)=>{var r=n(6059),i=n(174),o=n(9813)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[o])?t:i(n)}},4620:(e,t,n)=>{var r=n(5329),i=n(2435),o=n(5803),a=n(8219),s=r("".charAt),c=r("".charCodeAt),u=r("".slice),l=function(e){return function(t,n){var r,l,d=o(a(t)),h=i(n),p=d.length;return h<0||h>=p?e?"":void 0:(r=c(d,h))<55296||r>56319||h+1===p||(l=c(d,h+1))<56320||l>57343?e?s(d,h):r:e?u(d,h,h+2):l-56320+(r-55296<<10)+65536}};e.exports={codeAt:l(!1),charAt:l(!0)}},2941:(e,t,n)=>{var r,i,o,a,s=n(1899),c=n(9730),u=n(6843),l=n(7475),d=n(953),h=n(5981),p=n(5463),f=n(3765),A=n(1333),g=n(2749),m=n(6049),v=s.setImmediate,y=s.clearImmediate,E=s.process,b=s.Dispatch,_=s.Function,C=s.MessageChannel,I=s.String,S=0,w={};try{r=s.location}catch(e){}var R=function(e){if(d(w,e)){var t=w[e];delete w[e],t()}},T=function(e){return function(){R(e)}},O=function(e){R(e.data)},k=function(e){s.postMessage(I(e),r.protocol+"//"+r.host)};v&&y||(v=function(e){var t=f(arguments,1);return w[++S]=function(){c(l(e)?e:_(e),void 0,t)},i(S),S},y=function(e){delete w[e]},m?i=function(e){E.nextTick(T(e))}:b&&b.now?i=function(e){b.now(T(e))}:C&&!g?(a=(o=new C).port2,o.port1.onmessage=O,i=u(a.postMessage,a)):s.addEventListener&&l(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!h(k)?(i=k,s.addEventListener("message",O,!1)):i="onreadystatechange"in A("script")?function(e){p.appendChild(A("script")).onreadystatechange=function(){p.removeChild(this),R(e)}}:function(e){setTimeout(T(e),0)}),e.exports={set:v,clear:y}},9413:(e,t,n)=>{var r=n(2435),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},4529:(e,t,n)=>{var r=n(7026),i=n(8219);e.exports=function(e){return r(i(e))}},2435:e=>{var t=Math.ceil,n=Math.floor;e.exports=function(e){var r=+e;return r!=r||0===r?0:(r>0?n:t)(r)}},3057:(e,t,n)=>{var r=n(2435),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},9678:(e,t,n)=>{var r=n(1899),i=n(8219),o=r.Object;e.exports=function(e){return o(i(e))}},6935:(e,t,n)=>{var r=n(1899),i=n(8834),o=n(941),a=n(6664),s=n(4229),c=n(9811),u=n(9813),l=r.TypeError,d=u("toPrimitive");e.exports=function(e,t){if(!o(e)||a(e))return e;var n,r=s(e,d);if(r){if(void 0===t&&(t="default"),n=i(r,e,t),!o(n)||a(n))return n;throw l("Can't convert object to primitive value")}return void 0===t&&(t="number"),c(e,t)}},3894:(e,t,n)=>{var r=n(6935),i=n(6664);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},2885:(e,t,n)=>{var r={};r[n(9813)("toStringTag")]="z",e.exports="[object z]"===String(r)},5803:(e,t,n)=>{var r=n(1899),i=n(9697),o=r.String;e.exports=function(e){if("Symbol"===i(e))throw TypeError("Cannot convert a Symbol value to a string");return o(e)}},9826:(e,t,n)=>{var r=n(1899).String;e.exports=function(e){try{return r(e)}catch(e){return"Object"}}},9418:(e,t,n)=>{var r=n(5329),i=0,o=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++i+o,36)}},2302:(e,t,n)=>{var r=n(2497);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3937:(e,t,n)=>{var r=n(5746),i=n(5981);e.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},9813:(e,t,n)=>{var r=n(1899),i=n(8726),o=n(953),a=n(9418),s=n(2497),c=n(2302),u=i("wks"),l=r.Symbol,d=l&&l.for,h=c?l:l&&l.withoutSetter||a;e.exports=function(e){if(!o(u,e)||!s&&"string"!=typeof u[e]){var t="Symbol."+e;s&&o(l,e)?u[e]=l[e]:u[e]=c&&d?d(t):h(t)}return u[e]}},7627:(e,t,n)=>{var r=n(6887),i=n(1899),o=n(7046),a=n(249),s=n(8929),c=n(3489),u=n(9290),l=n(2029),d=n(1887),h=n(8694),p=n(3794),f=n(3091),A=n(4649),g=n(9813),m=n(8780),v=g("toStringTag"),y=i.Error,E=[].push,b=function(e,t){var n,r=arguments.length>2?arguments[2]:void 0,i=o(_,this);s?n=s(new y,i?a(this):_):(n=i?this:u(_),l(n,v,"Error")),void 0!==t&&l(n,"message",A(t)),m&&l(n,"stack",h(n.stack,1)),p(n,r);var c=[];return f(e,E,{that:c}),l(n,"errors",c),n};s?s(b,y):c(b,y,{name:!0});var _=b.prototype=u(y.prototype,{constructor:d(1,b),message:d(1,""),name:d(1,"AggregateError")});r({global:!0},{AggregateError:b})},6274:(e,t,n)=>{var r=n(4529),i=n(8479),o=n(2077),a=n(5402),s=n(5988).f,c=n(7771),u=n(2529),l=n(5746),d="Array Iterator",h=a.set,p=a.getterFor(d);e.exports=c(Array,"Array",(function(e,t){h(this,{type:d,target:r(e),index:0,kind:t})}),(function(){var e=p(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");var f=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!u&&l&&"values"!==f.name)try{s(f,"name",{value:"values"})}catch(e){}},6450:(e,t,n)=>{var r=n(6887),i=n(5746),o=n(5988).f;r({target:"Object",stat:!0,forced:Object.defineProperty!==o,sham:!i},{defineProperty:o})},5967:()=>{},4560:(e,t,n)=>{var r=n(6887),i=n(8834),o=n(4883),a=n(9520),s=n(2),c=n(3091);r({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=a.f(t),r=n.resolve,u=n.reject,l=s((function(){var n=o(t.resolve),a=[],s=0,u=1;c(e,(function(e){var o=s++,c=!1;u++,i(n,t,e).then((function(e){c||(c=!0,a[o]={status:"fulfilled",value:e},--u||r(a))}),(function(e){c||(c=!0,a[o]={status:"rejected",reason:e},--u||r(a))}))})),--u||r(a)}));return l.error&&u(l.value),n.promise}})},7206:(e,t,n)=>{var r=n(6887),i=n(4883),o=n(626),a=n(8834),s=n(9520),c=n(2),u=n(3091),l="No one promise resolved";r({target:"Promise",stat:!0},{any:function(e){var t=this,n=o("AggregateError"),r=s.f(t),d=r.resolve,h=r.reject,p=c((function(){var r=i(t.resolve),o=[],s=0,c=1,p=!1;u(e,(function(e){var i=s++,u=!1;c++,a(r,t,e).then((function(e){u||p||(p=!0,d(e))}),(function(e){u||p||(u=!0,o[i]=e,--c||h(new n(o,l)))}))})),--c||h(new n(o,l))}));return p.error&&h(p.value),r.promise}})},4349:(e,t,n)=>{var r=n(6887),i=n(2529),o=n(9297),a=n(5981),s=n(626),c=n(7475),u=n(487),l=n(6584),d=n(9754);if(r({target:"Promise",proto:!0,real:!0,forced:!!o&&a((function(){o.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=u(this,s("Promise")),n=c(e);return this.then(n?function(n){return l(t,e()).then((function(){return n}))}:e,n?function(n){return l(t,e()).then((function(){throw n}))}:e)}}),!i&&c(o)){var h=s("Promise").prototype.finally;o.prototype.finally!==h&&d(o.prototype,"finally",h,{unsafe:!0})}},8881:(e,t,n)=>{var r,i,o,a,s=n(6887),c=n(2529),u=n(1899),l=n(626),d=n(8834),h=n(9297),p=n(9754),f=n(7524),A=n(8929),g=n(904),m=n(4431),v=n(4883),y=n(7475),E=n(941),b=n(5743),_=n(1302),C=n(3091),I=n(1385),S=n(487),w=n(2941).set,R=n(6132),T=n(6584),O=n(4845),k=n(9520),N=n(2),D=n(8397),P=n(5402),x=n(7252),L=n(9813),M=n(3321),B=n(6049),F=n(3385),U=L("species"),j="Promise",V=P.getterFor(j),Q=P.set,G=P.getterFor(j),q=h&&h.prototype,H=h,z=q,W=u.TypeError,K=u.document,Y=u.process,J=k.f,Z=J,X=!!(K&&K.createEvent&&u.dispatchEvent),$=y(u.PromiseRejectionEvent),ee="unhandledrejection",te=!1,ne=x(j,(function(){var e=_(H),t=e!==String(H);if(!t&&66===F)return!0;if(c&&!z.finally)return!0;if(F>=51&&/native code/.test(e))return!1;var n=new H((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};return(n.constructor={})[U]=r,!(te=n.then((function(){}))instanceof r)||!t&&M&&!$})),re=ne||!I((function(e){H.all(e).catch((function(){}))})),ie=function(e){var t;return!(!E(e)||!y(t=e.then))&&t},oe=function(e,t){var n,r,i,o=t.value,a=1==t.state,s=a?e.ok:e.fail,c=e.resolve,u=e.reject,l=e.domain;try{s?(a||(2===t.rejection&&le(t),t.rejection=1),!0===s?n=o:(l&&l.enter(),n=s(o),l&&(l.exit(),i=!0)),n===e.promise?u(W("Promise-chain cycle")):(r=ie(n))?d(r,n,c,u):c(n)):u(o)}catch(e){l&&!i&&l.exit(),u(e)}},ae=function(e,t){e.notified||(e.notified=!0,R((function(){for(var n,r=e.reactions;n=r.get();)oe(n,e);e.notified=!1,t&&!e.rejection&&ce(e)})))},se=function(e,t,n){var r,i;X?((r=K.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),u.dispatchEvent(r)):r={promise:t,reason:n},!$&&(i=u["on"+e])?i(r):e===ee&&O("Unhandled promise rejection",n)},ce=function(e){d(w,u,(function(){var t,n=e.facade,r=e.value;if(ue(e)&&(t=N((function(){B?Y.emit("unhandledRejection",r,n):se(ee,n,r)})),e.rejection=B||ue(e)?2:1,t.error))throw t.value}))},ue=function(e){return 1!==e.rejection&&!e.parent},le=function(e){d(w,u,(function(){var t=e.facade;B?Y.emit("rejectionHandled",t):se("rejectionhandled",t,e.value)}))},de=function(e,t,n){return function(r){e(t,r,n)}},he=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,ae(e,!0))},pe=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw W("Promise can't be resolved itself");var r=ie(t);r?R((function(){var n={done:!1};try{d(r,t,de(pe,n,e),de(he,n,e))}catch(t){he(n,t,e)}})):(e.value=t,e.state=1,ae(e,!1))}catch(t){he({done:!1},t,e)}}};if(ne&&(z=(H=function(e){b(this,z),v(e),d(r,this);var t=V(this);try{e(de(pe,t),de(he,t))}catch(e){he(t,e)}}).prototype,(r=function(e){Q(this,{type:j,done:!1,notified:!1,parent:!1,reactions:new D,rejection:!1,state:0,value:void 0})}).prototype=f(z,{then:function(e,t){var n=G(this),r=J(S(this,H));return n.parent=!0,r.ok=!y(e)||e,r.fail=y(t)&&t,r.domain=B?Y.domain:void 0,0==n.state?n.reactions.add(r):R((function(){oe(r,n)})),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=V(e);this.promise=e,this.resolve=de(pe,t),this.reject=de(he,t)},k.f=J=function(e){return e===H||e===o?new i(e):Z(e)},!c&&y(h)&&q!==Object.prototype)){a=q.then,te||(p(q,"then",(function(e,t){var n=this;return new H((function(e,t){d(a,n,e,t)})).then(e,t)}),{unsafe:!0}),p(q,"catch",z.catch,{unsafe:!0}));try{delete q.constructor}catch(e){}A&&A(q,z)}s({global:!0,wrap:!0,forced:ne},{Promise:H}),g(H,j,!1,!0),m(j),o=l(j),s({target:j,stat:!0,forced:ne},{reject:function(e){var t=J(this);return d(t.reject,void 0,e),t.promise}}),s({target:j,stat:!0,forced:c||ne},{resolve:function(e){return T(c&&this===o?H:this,e)}}),s({target:j,stat:!0,forced:re},{all:function(e){var t=this,n=J(t),r=n.resolve,i=n.reject,o=N((function(){var n=v(t.resolve),o=[],a=0,s=1;C(e,(function(e){var c=a++,u=!1;s++,d(n,t,e).then((function(e){u||(u=!0,o[c]=e,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=J(t),r=n.reject,i=N((function(){var i=v(t.resolve);C(e,(function(e){d(i,t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},7971:(e,t,n)=>{var r=n(4620).charAt,i=n(5803),o=n(5402),a=n(7771),s="String Iterator",c=o.set,u=o.getterFor(s);a(String,"String",(function(e){c(this,{type:s,string:i(e),index:0})}),(function(){var e,t=u(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},7634:(e,t,n)=>{n(6274);var r=n(3281),i=n(1899),o=n(9697),a=n(2029),s=n(2077),c=n(9813)("toStringTag");for(var u in r){var l=i[u],d=l&&l.prototype;d&&o(d)!==c&&a(d,c,u),s[u]=s.Array}},1910:(e,t,n)=>{var r=n(8171);e.exports=r},7460:(e,t,n)=>{var r=n(2956);n(7634),e.exports=r},9662:(e,t,n)=>{var r=n(7854),i=n(614),o=n(6330),a=r.TypeError;e.exports=function(e){if(i(e))return e;throw a(o(e)+" is not a function")}},6077:(e,t,n)=>{var r=n(7854),i=n(614),o=r.String,a=r.TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw a("Can't set "+o(e)+" as a prototype")}},1223:(e,t,n)=>{var r=n(5112),i=n(30),o=n(3070),a=r("unscopables"),s=Array.prototype;null==s[a]&&o.f(s,a,{configurable:!0,value:i(null)}),e.exports=function(e){s[a][e]=!0}},9670:(e,t,n)=>{var r=n(7854),i=n(111),o=r.String,a=r.TypeError;e.exports=function(e){if(i(e))return e;throw a(o(e)+" is not an object")}},1318:(e,t,n)=>{var r=n(5656),i=n(1400),o=n(6244),a=function(e){return function(t,n,a){var s,c=r(t),u=o(c),l=i(a,u);if(e&&n!=n){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},4326:(e,t,n)=>{var r=n(1702),i=r({}.toString),o=r("".slice);e.exports=function(e){return o(i(e),8,-1)}},648:(e,t,n)=>{var r=n(7854),i=n(1694),o=n(614),a=n(4326),s=n(5112)("toStringTag"),c=r.Object,u="Arguments"==a(function(){return arguments}());e.exports=i?a:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=c(e),s))?n:u?a(t):"Object"==(r=a(t))&&o(t.callee)?"Arguments":r}},7741:(e,t,n)=>{var r=n(1702)("".replace),i=String(Error("zxcasd").stack),o=/\n\s*at [^:]*:[^\n]*/,a=o.test(i);e.exports=function(e,t){if(a&&"string"==typeof e)for(;t--;)e=r(e,o,"");return e}},9920:(e,t,n)=>{var r=n(2597),i=n(3887),o=n(1236),a=n(3070);e.exports=function(e,t,n){for(var s=i(t),c=a.f,u=o.f,l=0;l<s.length;l++){var d=s[l];r(e,d)||n&&r(n,d)||c(e,d,u(t,d))}}},8544:(e,t,n)=>{var r=n(7293);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},4994:(e,t,n)=>{var r=n(3383).IteratorPrototype,i=n(30),o=n(9114),a=n(8003),s=n(7497),c=function(){return this};e.exports=function(e,t,n,u){var l=t+" Iterator";return e.prototype=i(r,{next:o(+!u,n)}),a(e,l,!1,!0),s[l]=c,e}},8880:(e,t,n)=>{var r=n(9781),i=n(3070),o=n(9114);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},9114:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},654:(e,t,n)=>{var r=n(2109),i=n(6916),o=n(1913),a=n(6530),s=n(614),c=n(4994),u=n(9518),l=n(7674),d=n(8003),h=n(8880),p=n(1320),f=n(5112),A=n(7497),g=n(3383),m=a.PROPER,v=a.CONFIGURABLE,y=g.IteratorPrototype,E=g.BUGGY_SAFARI_ITERATORS,b=f("iterator"),_="keys",C="values",I="entries",S=function(){return this};e.exports=function(e,t,n,a,f,g,w){c(n,t,a);var R,T,O,k=function(e){if(e===f&&L)return L;if(!E&&e in P)return P[e];switch(e){case _:case C:case I:return function(){return new n(this,e)}}return function(){return new n(this)}},N=t+" Iterator",D=!1,P=e.prototype,x=P[b]||P["@@iterator"]||f&&P[f],L=!E&&x||k(f),M="Array"==t&&P.entries||x;if(M&&(R=u(M.call(new e)))!==Object.prototype&&R.next&&(o||u(R)===y||(l?l(R,y):s(R[b])||p(R,b,S)),d(R,N,!0,!0),o&&(A[N]=S)),m&&f==C&&x&&x.name!==C&&(!o&&v?h(P,"name",C):(D=!0,L=function(){return i(x,this)})),f)if(T={values:k(C),keys:g?L:k(_),entries:k(I)},w)for(O in T)(E||D||!(O in P))&&p(P,O,T[O]);else r({target:t,proto:!0,forced:E||D},T);return o&&!w||P[b]===L||p(P,b,L,{name:f}),A[t]=L,T}},9781:(e,t,n)=>{var r=n(7293);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:(e,t,n)=>{var r=n(7854),i=n(111),o=r.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},8324:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:(e,t,n)=>{var r=n(317)("span").classList,i=r&&r.constructor&&r.constructor.prototype;e.exports=i===Object.prototype?void 0:i},8113:(e,t,n)=>{var r=n(5005);e.exports=r("navigator","userAgent")||""},7392:(e,t,n)=>{var r,i,o=n(7854),a=n(8113),s=o.process,c=o.Deno,u=s&&s.versions||c&&c.version,l=u&&u.v8;l&&(i=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},748:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2914:(e,t,n)=>{var r=n(7293),i=n(9114);e.exports=!r((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",i(1,7)),7!==e.stack)}))},2109:(e,t,n)=>{var r=n(7854),i=n(1236).f,o=n(8880),a=n(1320),s=n(3505),c=n(9920),u=n(4705);e.exports=function(e,t){var n,l,d,h,p,f=e.target,A=e.global,g=e.stat;if(n=A?r:g?r[f]||s(f,{}):(r[f]||{}).prototype)for(l in t){if(h=t[l],d=e.noTargetGet?(p=i(n,l))&&p.value:n[l],!u(A?l:f+(g?".":"#")+l,e.forced)&&void 0!==d){if(typeof h==typeof d)continue;c(h,d)}(e.sham||d&&d.sham)&&o(h,"sham",!0),a(n,l,h,e)}}},7293:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},2104:(e,t,n)=>{var r=n(4374),i=Function.prototype,o=i.apply,a=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(o):function(){return a.apply(o,arguments)})},4374:(e,t,n)=>{var r=n(7293);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},6916:(e,t,n)=>{var r=n(4374),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},6530:(e,t,n)=>{var r=n(9781),i=n(2597),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=i(o,"name"),c=s&&"something"===function(){}.name,u=s&&(!r||r&&a(o,"name").configurable);e.exports={EXISTS:s,PROPER:c,CONFIGURABLE:u}},1702:(e,t,n)=>{var r=n(4374),i=Function.prototype,o=i.bind,a=i.call,s=r&&o.bind(a,a);e.exports=r?function(e){return e&&s(e)}:function(e){return e&&function(){return a.apply(e,arguments)}}},5005:(e,t,n)=>{var r=n(7854),i=n(614),o=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e]):r[e]&&r[e][t]}},8173:(e,t,n)=>{var r=n(9662);e.exports=function(e,t){var n=e[t];return null==n?void 0:r(n)}},7854:(e,t,n)=>{var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2597:(e,t,n)=>{var r=n(1702),i=n(7908),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},3501:e=>{e.exports={}},490:(e,t,n)=>{var r=n(5005);e.exports=r("document","documentElement")},4664:(e,t,n)=>{var r=n(9781),i=n(7293),o=n(317);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},8361:(e,t,n)=>{var r=n(7854),i=n(1702),o=n(7293),a=n(4326),s=r.Object,c=i("".split);e.exports=o((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?c(e,""):s(e)}:s},9587:(e,t,n)=>{var r=n(614),i=n(111),o=n(7674);e.exports=function(e,t,n){var a,s;return o&&r(a=t.constructor)&&a!==n&&i(s=a.prototype)&&s!==n.prototype&&o(e,s),e}},2788:(e,t,n)=>{var r=n(1702),i=n(614),o=n(5465),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return a(e)}),e.exports=o.inspectSource},8340:(e,t,n)=>{var r=n(111),i=n(8880);e.exports=function(e,t){r(t)&&"cause"in t&&i(e,"cause",t.cause)}},9909:(e,t,n)=>{var r,i,o,a=n(8536),s=n(7854),c=n(1702),u=n(111),l=n(8880),d=n(2597),h=n(5465),p=n(6200),f=n(3501),A="Object already initialized",g=s.TypeError,m=s.WeakMap;if(a||h.state){var v=h.state||(h.state=new m),y=c(v.get),E=c(v.has),b=c(v.set);r=function(e,t){if(E(v,e))throw new g(A);return t.facade=e,b(v,e,t),t},i=function(e){return y(v,e)||{}},o=function(e){return E(v,e)}}else{var _=p("state");f[_]=!0,r=function(e,t){if(d(e,_))throw new g(A);return t.facade=e,l(e,_,t),t},i=function(e){return d(e,_)?e[_]:{}},o=function(e){return d(e,_)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=i(t)).type!==e)throw g("Incompatible receiver, "+e+" required");return n}}}},614:e=>{e.exports=function(e){return"function"==typeof e}},4705:(e,t,n)=>{var r=n(7293),i=n(614),o=/#|\.prototype\./,a=function(e,t){var n=c[s(e)];return n==l||n!=u&&(i(t)?r(t):!!t)},s=a.normalize=function(e){return String(e).replace(o,".").toLowerCase()},c=a.data={},u=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a},111:(e,t,n)=>{var r=n(614);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},1913:e=>{e.exports=!1},2190:(e,t,n)=>{var r=n(7854),i=n(5005),o=n(614),a=n(7976),s=n(3307),c=r.Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return o(t)&&a(t.prototype,c(e))}},3383:(e,t,n)=>{var r,i,o,a=n(7293),s=n(614),c=n(30),u=n(9518),l=n(1320),d=n(5112),h=n(1913),p=d("iterator"),f=!1;[].keys&&("next"in(o=[].keys())?(i=u(u(o)))!==Object.prototype&&(r=i):f=!0),null==r||a((function(){var e={};return r[p].call(e)!==e}))?r={}:h&&(r=c(r)),s(r[p])||l(r,p,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},7497:e=>{e.exports={}},6244:(e,t,n)=>{var r=n(7466);e.exports=function(e){return r(e.length)}},133:(e,t,n)=>{var r=n(7392),i=n(7293);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},8536:(e,t,n)=>{var r=n(7854),i=n(614),o=n(2788),a=r.WeakMap;e.exports=i(a)&&/native code/.test(o(a))},6277:(e,t,n)=>{var r=n(1340);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},30:(e,t,n)=>{var r,i=n(9670),o=n(6048),a=n(748),s=n(3501),c=n(490),u=n(317),l=n(6200)("IE_PROTO"),d=function(){},h=function(e){return"<script>"+e+"<\/script>"},p=function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t},f=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t;f="undefined"!=typeof document?document.domain&&r?p(r):((t=u("iframe")).style.display="none",c.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F):p(r);for(var n=a.length;n--;)delete f.prototype[a[n]];return f()};s[l]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(d.prototype=i(e),n=new d,d.prototype=null,n[l]=e):n=f(),void 0===t?n:o.f(n,t)}},6048:(e,t,n)=>{var r=n(9781),i=n(3353),o=n(3070),a=n(9670),s=n(5656),c=n(1956);t.f=r&&!i?Object.defineProperties:function(e,t){a(e);for(var n,r=s(t),i=c(t),u=i.length,l=0;u>l;)o.f(e,n=i[l++],r[n]);return e}},3070:(e,t,n)=>{var r=n(7854),i=n(9781),o=n(4664),a=n(3353),s=n(9670),c=n(4948),u=r.TypeError,l=Object.defineProperty,d=Object.getOwnPropertyDescriptor;t.f=i?a?function(e,t,n){if(s(e),t=c(t),s(n),"function"==typeof e&&"prototype"===t&&"value"in n&&"writable"in n&&!n.writable){var r=d(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:"configurable"in n?n.configurable:r.configurable,enumerable:"enumerable"in n?n.enumerable:r.enumerable,writable:!1})}return l(e,t,n)}:l:function(e,t,n){if(s(e),t=c(t),s(n),o)try{return l(e,t,n)}catch(e){}if("get"in n||"set"in n)throw u("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},1236:(e,t,n)=>{var r=n(9781),i=n(6916),o=n(5296),a=n(9114),s=n(5656),c=n(4948),u=n(2597),l=n(4664),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=s(e),t=c(t),l)try{return d(e,t)}catch(e){}if(u(e,t))return a(!i(o.f,e,t),e[t])}},8006:(e,t,n)=>{var r=n(6324),i=n(748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},5181:(e,t)=>{t.f=Object.getOwnPropertySymbols},9518:(e,t,n)=>{var r=n(7854),i=n(2597),o=n(614),a=n(7908),s=n(6200),c=n(8544),u=s("IE_PROTO"),l=r.Object,d=l.prototype;e.exports=c?l.getPrototypeOf:function(e){var t=a(e);if(i(t,u))return t[u];var n=t.constructor;return o(n)&&t instanceof n?n.prototype:t instanceof l?d:null}},7976:(e,t,n)=>{var r=n(1702);e.exports=r({}.isPrototypeOf)},6324:(e,t,n)=>{var r=n(1702),i=n(2597),o=n(5656),a=n(1318).indexOf,s=n(3501),c=r([].push);e.exports=function(e,t){var n,r=o(e),u=0,l=[];for(n in r)!i(s,n)&&i(r,n)&&c(l,n);for(;t.length>u;)i(r,n=t[u++])&&(~a(l,n)||c(l,n));return l}},1956:(e,t,n)=>{var r=n(6324),i=n(748);e.exports=Object.keys||function(e){return r(e,i)}},5296:(e,t)=>{var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},7674:(e,t,n)=>{var r=n(1702),i=n(9670),o=n(6077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return i(n),o(r),t?e(n,r):n.__proto__=r,n}}():void 0)},2140:(e,t,n)=>{var r=n(7854),i=n(6916),o=n(614),a=n(111),s=r.TypeError;e.exports=function(e,t){var n,r;if("string"===t&&o(n=e.toString)&&!a(r=i(n,e)))return r;if(o(n=e.valueOf)&&!a(r=i(n,e)))return r;if("string"!==t&&o(n=e.toString)&&!a(r=i(n,e)))return r;throw s("Can't convert object to primitive value")}},3887:(e,t,n)=>{var r=n(5005),i=n(1702),o=n(8006),a=n(5181),s=n(9670),c=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(s(e)),n=a.f;return n?c(t,n(e)):t}},1320:(e,t,n)=>{var r=n(7854),i=n(614),o=n(2597),a=n(8880),s=n(3505),c=n(2788),u=n(9909),l=n(6530).CONFIGURABLE,d=u.get,h=u.enforce,p=String(String).split("String");(e.exports=function(e,t,n,c){var u,d=!!c&&!!c.unsafe,f=!!c&&!!c.enumerable,A=!!c&&!!c.noTargetGet,g=c&&void 0!==c.name?c.name:t;i(n)&&("Symbol("===String(g).slice(0,7)&&(g="["+String(g).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!o(n,"name")||l&&n.name!==g)&&a(n,"name",g),(u=h(n)).source||(u.source=p.join("string"==typeof g?g:""))),e!==r?(d?!A&&e[t]&&(f=!0):delete e[t],f?e[t]=n:a(e,t,n)):f?e[t]=n:s(t,n)})(Function.prototype,"toString",(function(){return i(this)&&d(this).source||c(this)}))},2261:(e,t,n)=>{var r,i,o=n(6916),a=n(1702),s=n(1340),c=n(7066),u=n(2999),l=n(2309),d=n(30),h=n(9909).get,p=n(9441),f=n(7168),A=l("native-string-replace",String.prototype.replace),g=RegExp.prototype.exec,m=g,v=a("".charAt),y=a("".indexOf),E=a("".replace),b=a("".slice),_=(i=/b*/g,o(g,r=/a/,"a"),o(g,i,"a"),0!==r.lastIndex||0!==i.lastIndex),C=u.BROKEN_CARET,I=void 0!==/()??/.exec("")[1];(_||I||C||p||f)&&(m=function(e){var t,n,r,i,a,u,l,p=this,f=h(p),S=s(e),w=f.raw;if(w)return w.lastIndex=p.lastIndex,t=o(m,w,S),p.lastIndex=w.lastIndex,t;var R=f.groups,T=C&&p.sticky,O=o(c,p),k=p.source,N=0,D=S;if(T&&(O=E(O,"y",""),-1===y(O,"g")&&(O+="g"),D=b(S,p.lastIndex),p.lastIndex>0&&(!p.multiline||p.multiline&&"\n"!==v(S,p.lastIndex-1))&&(k="(?: "+k+")",D=" "+D,N++),n=new RegExp("^(?:"+k+")",O)),I&&(n=new RegExp("^"+k+"$(?!\\s)",O)),_&&(r=p.lastIndex),i=o(g,T?n:p,D),T?i?(i.input=b(i.input,N),i[0]=b(i[0],N),i.index=p.lastIndex,p.lastIndex+=i[0].length):p.lastIndex=0:_&&i&&(p.lastIndex=p.global?i.index+i[0].length:r),I&&i&&i.length>1&&o(A,i[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)})),i&&R)for(i.groups=u=d(null),a=0;a<R.length;a++)u[(l=R[a])[0]]=i[l[1]];return i}),e.exports=m},7066:(e,t,n)=>{var r=n(9670);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},2999:(e,t,n)=>{var r=n(7293),i=n(7854).RegExp,o=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),a=o||r((function(){return!i("a","y").sticky})),s=o||r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:a,UNSUPPORTED_Y:o}},9441:(e,t,n)=>{var r=n(7293),i=n(7854).RegExp;e.exports=r((function(){var e=i(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},7168:(e,t,n)=>{var r=n(7293),i=n(7854).RegExp;e.exports=r((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},4488:(e,t,n)=>{var r=n(7854).TypeError;e.exports=function(e){if(null==e)throw r("Can't call method on "+e);return e}},3505:(e,t,n)=>{var r=n(7854),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},8003:(e,t,n)=>{var r=n(3070).f,i=n(2597),o=n(5112)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!i(e,o)&&r(e,o,{configurable:!0,value:t})}},6200:(e,t,n)=>{var r=n(2309),i=n(9711),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},5465:(e,t,n)=>{var r=n(7854),i=n(3505),o="__core-js_shared__",a=r[o]||i(o,{});e.exports=a},2309:(e,t,n)=>{var r=n(1913),i=n(5465);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.20.3",mode:r?"pure":"global",copyright:" 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.20.3/LICENSE",source:"https://github.com/zloirock/core-js"})},1400:(e,t,n)=>{var r=n(9303),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},5656:(e,t,n)=>{var r=n(8361),i=n(4488);e.exports=function(e){return r(i(e))}},9303:e=>{var t=Math.ceil,n=Math.floor;e.exports=function(e){var r=+e;return r!=r||0===r?0:(r>0?n:t)(r)}},7466:(e,t,n)=>{var r=n(9303),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},7908:(e,t,n)=>{var r=n(7854),i=n(4488),o=r.Object;e.exports=function(e){return o(i(e))}},7593:(e,t,n)=>{var r=n(7854),i=n(6916),o=n(111),a=n(2190),s=n(8173),c=n(2140),u=n(5112),l=r.TypeError,d=u("toPrimitive");e.exports=function(e,t){if(!o(e)||a(e))return e;var n,r=s(e,d);if(r){if(void 0===t&&(t="default"),n=i(r,e,t),!o(n)||a(n))return n;throw l("Can't convert object to primitive value")}return void 0===t&&(t="number"),c(e,t)}},4948:(e,t,n)=>{var r=n(7593),i=n(2190);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},1694:(e,t,n)=>{var r={};r[n(5112)("toStringTag")]="z",e.exports="[object z]"===String(r)},1340:(e,t,n)=>{var r=n(7854),i=n(648),o=r.String;e.exports=function(e){if("Symbol"===i(e))throw TypeError("Cannot convert a Symbol value to a string");return o(e)}},6330:(e,t,n)=>{var r=n(7854).String;e.exports=function(e){try{return r(e)}catch(e){return"Object"}}},9711:(e,t,n)=>{var r=n(1702),i=0,o=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++i+o,36)}},3307:(e,t,n)=>{var r=n(133);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:(e,t,n)=>{var r=n(9781),i=n(7293);e.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},5112:(e,t,n)=>{var r=n(7854),i=n(2309),o=n(2597),a=n(9711),s=n(133),c=n(3307),u=i("wks"),l=r.Symbol,d=l&&l.for,h=c?l:l&&l.withoutSetter||a;e.exports=function(e){if(!o(u,e)||!s&&"string"!=typeof u[e]){var t="Symbol."+e;s&&o(l,e)?u[e]=l[e]:u[e]=c&&d?d(t):h(t)}return u[e]}},9191:(e,t,n)=>{var r=n(5005),i=n(2597),o=n(8880),a=n(7976),s=n(7674),c=n(9920),u=n(9587),l=n(6277),d=n(8340),h=n(7741),p=n(2914),f=n(1913);e.exports=function(e,t,n,A){var g=A?2:1,m=e.split("."),v=m[m.length-1],y=r.apply(null,m);if(y){var E=y.prototype;if(!f&&i(E,"cause")&&delete E.cause,!n)return y;var b=r("Error"),_=t((function(e,t){var n=l(A?t:e,void 0),r=A?new y(e):new y;return void 0!==n&&o(r,"message",n),p&&o(r,"stack",h(r.stack,2)),this&&a(E,this)&&u(r,this,_),arguments.length>g&&d(r,arguments[g]),r}));if(_.prototype=E,"Error"!==v&&(s?s(_,b):c(_,b,{name:!0})),c(_,y),!f)try{E.name!==v&&o(E,"name",v),E.constructor=_}catch(e){}return _}}},6992:(e,t,n)=>{var r=n(5656),i=n(1223),o=n(7497),a=n(9909),s=n(3070).f,c=n(654),u=n(1913),l=n(9781),d="Array Iterator",h=a.set,p=a.getterFor(d);e.exports=c(Array,"Array",(function(e,t){h(this,{type:d,target:r(e),index:0,kind:t})}),(function(){var e=p(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");var f=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!u&&l&&"values"!==f.name)try{s(f,"name",{value:"values"})}catch(e){}},1703:(e,t,n)=>{var r=n(2109),i=n(7854),o=n(2104),a=n(9191),s=i.WebAssembly,c=7!==Error("e",{cause:7}).cause,u=function(e,t){var n={};n[e]=a(e,t,c),r({global:!0,forced:c},n)},l=function(e,t){if(s&&s[e]){var n={};n[e]=a("WebAssembly."+e,t,c),r({target:"WebAssembly",stat:!0,forced:c},n)}};u("Error",(function(e){return function(t){return o(e,this,arguments)}})),u("EvalError",(function(e){return function(t){return o(e,this,arguments)}})),u("RangeError",(function(e){return function(t){return o(e,this,arguments)}})),u("ReferenceError",(function(e){return function(t){return o(e,this,arguments)}})),u("SyntaxError",(function(e){return function(t){return o(e,this,arguments)}})),u("TypeError",(function(e){return function(t){return o(e,this,arguments)}})),u("URIError",(function(e){return function(t){return o(e,this,arguments)}})),l("CompileError",(function(e){return function(t){return o(e,this,arguments)}})),l("LinkError",(function(e){return function(t){return o(e,this,arguments)}})),l("RuntimeError",(function(e){return function(t){return o(e,this,arguments)}}))},4916:(e,t,n)=>{var r=n(2109),i=n(2261);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},3948:(e,t,n)=>{var r=n(7854),i=n(8324),o=n(8509),a=n(6992),s=n(8880),c=n(5112),u=c("iterator"),l=c("toStringTag"),d=a.values,h=function(e,t){if(e){if(e[u]!==d)try{s(e,u,d)}catch(t){e[u]=d}if(e[l]||s(e,l,t),i[t])for(var n in a)if(e[n]!==a[n])try{s(e,n,a[n])}catch(t){e[n]=a[n]}}};for(var p in i)h(r[p]&&r[p].prototype,p);h(o,"DOMTokenList")}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{n.r(r),n.d(r,{AudioExtension:()=>b,AudioProcessor:()=>y,Extension:()=>E,Ticker:()=>C,VideoProcessor:()=>v,logger:()=>d,reporter:()=>f});var e=n(4341);function t(t,n,r){return n in t?e(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}n(1703),n(6992),n(3948);var i=n(3476),o=n.n(i);function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,t=arguments.length>1?arguments[1]:void 0;const n=Math.random().toString(16).substr(2,e).toLowerCase();return n.length===e?"".concat(t).concat(n):"".concat(t).concat(n)+a(e-n.length,"")}n(4916);const s=Date.now(),c={DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4};function u(){const e=new Date;return e.toTimeString().split(" ")[0]+":"+e.getMilliseconds()}const l=e=>{for(const t in c)if(Object.prototype.hasOwnProperty.call(c,t)&&c[t]===e)return t;return"DEFAULT"},d=new class{constructor(){t(this,"logLevel",c.DEBUG),t(this,"hookLog",void 0)}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=[c.DEBUG].concat(t);this.log.apply(this,r)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=[c.INFO].concat(t);this.log.apply(this,r)}warning(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=[c.WARNING].concat(t);this.log.apply(this,r)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=[c.ERROR].concat(t);this.log.apply(this,r)}log(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(Date.now()-s<100)return void setTimeout((()=>{this.log(...n)}),Date.now()-s);const i=Math.max(0,Math.min(4,n[0]));if(n[0]=u()+" Agora-Extension [".concat(l(i),"]:"),i<this.logLevel)return;const o=u()+" %cAgora-Extension [".concat(l(i),"]:");let a=[];switch(i){case c.DEBUG:a=[o,"color: #64B5F6;"].concat(n.slice(1)),console.log.apply(console,a);break;case c.INFO:a=[o,"color: #1E88E5; font-weight: bold;"].concat(n.slice(1)),console.log.apply(console,a);break;case c.WARNING:a=[o,"color: #FB8C00; font-weight: bold;"].concat(n.slice(1)),console.warn.apply(console,a);break;case c.ERROR:a=[o,"color: #B00020; font-weight: bold;"].concat(n.slice(1)),console.error.apply(console,a)}null===(e=this.hookLog)||void 0===e||e.call(this,i,a)}};function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?h(Object(r),!0).forEach((function(n){t(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const f=new class{constructor(){t(this,"apiInvokeMsgQueue",[]),t(this,"hookApiInvoke",void 0)}reportApiInvoke(e){e.timeout=e.timeout||6e4,e.reportResult=void 0===e.reportResult||e.reportResult;const t=Date.now(),n=()=>({name:e.name,apiInvokeTime:t,options:e.options});let r=!1;var i;(i=e.timeout,new(o())((e=>{window.setTimeout(e,i)}))).then((()=>{r||(this.sendApiInvoke(p(p({},n()),{},{error:"API_INVOKE_TIMEOUT",success:!1})),d.debug("".concat(e.name," timeout")))}));const a=new Error("".concat(e.name,": this api invoke is end"));return{onSuccess:t=>{if(r)throw a;r=!0,this.sendApiInvoke(p(p({},n()),{},{success:!0},e.reportResult&&{result:t}))},onError:e=>{if(r)throw e;r=!0,this.sendApiInvoke(p(p({},n()),{},{success:!1,error:e.toString()}))}}}sendApiInvoke(e){this.hookApiInvoke?(this.hookApiInvoke([...this.apiInvokeMsgQueue,e]),this.apiInvokeMsgQueue=[]):this.apiInvokeMsgQueue.push(e)}};function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?A(Object(r),!0).forEach((function(n){t(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}class m extends class{constructor(){t(this,"_events",{}),t(this,"addListener",this.on)}getListeners(e){return this._events[e]?this._events[e].map((e=>e.listener)):[]}on(e,t){this._events[e]||(this._events[e]=[]);const n=this._events[e];-1===this._indexOfListener(n,t)&&n.push({listener:t,once:!1})}once(e,t){this._events[e]||(this._events[e]=[]);const n=this._events[e];-1===this._indexOfListener(n,t)&&n.push({listener:t,once:!0})}off(e,t){if(!this._events[e])return;const n=this._events[e],r=this._indexOfListener(n,t);-1!==r&&n.splice(r,1),0===this._events[e].length&&delete this._events[e]}removeAllListeners(e){e?delete this._events[e]:this._events={}}emit(e){this._events[e]||(this._events[e]=[]);const t=this._events[e].map((e=>e));for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(let n=0;n<t.length;n+=1){const i=t[n];i.once&&this.off(e,i.listener),i.listener.apply(this,r||[])}}_indexOfListener(e,t){let n=e.length;for(;n--;)if(e[n].listener===t)return n;return-1}emitAsPromise(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return 0===this.getListeners(e).length?o().reject(new Error("No promise event handler.")):new(o())(((t,r)=>{this.emit(e,...n,t,r)}))}emitAsPromiseNoResponse(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return 0===this.getListeners(e).length?o().resolve():new(o())(((t,r)=>{this.emit(e,...n,t,r)}))}}{get enabled(){return this._enabled}output(e,t){if(this.outputTrack===e)return;const n=f.reportApiInvoke({name:"".concat(this.name,".output"),options:{track:null==e?void 0:e.toString()}});this.outputTrack=e,this.destination&&this.destination.updateInput({track:e,context:t}),n.onSuccess()}constructor(){super(),t(this,"inputTrack",void 0),t(this,"outputTrack",void 0),t(this,"_enabled",!0),t(this,"_source",void 0),t(this,"ID",a(6,"")),t(this,"destination",void 0),t(this,"context",void 0),t(this,"name",void 0)}enable(){if(this._enabled)return;const e=f.reportApiInvoke({name:"".concat(this.name,".setEnabled"),options:!0});d.info("".concat(this.name,"-").concat(this.ID," enabled")),this._enabled=!0;try{var t;const n=null===(t=this.onEnableChange)||void 0===t?void 0:t.call(this,this._enabled);if(n instanceof o())return n.then((()=>{e.onSuccess()})).catch((t=>{throw e.onError(t),t}));e.onSuccess()}catch(t){throw e.onError(t),t}}disable(){if(!this._enabled)return;const e=f.reportApiInvoke({name:"".concat(this.name,".setEnabled"),options:!1});d.info("".concat(this.name,"-").concat(this.ID," disabled")),this._enabled=!1;try{var t;const n=null===(t=this.onEnableChange)||void 0===t?void 0:t.call(this,this._enabled);if(n instanceof o())return n.then((()=>{e.onSuccess()})).catch((t=>{throw e.onError(t),t}));e.onSuccess()}catch(t){throw e.onError(t),t}}}class v extends m{get kind(){return"video"}pipe(e){const t=f.reportApiInvoke({name:"".concat(this.name,".pipe"),options:{processor:e.name}});if(this.destination===e)return t.onSuccess(),e;if(e._source){const n=new Error("Processor ".concat(e.name," already piped, please call unpipe beforehand."));throw t.onError(n),n}return this.destination&&this.unpipe(),this.destination=e,e._source=this,this.context&&this.destination.updateInput({track:this.outputTrack,context:this.context}),t.onSuccess(),e}unpipe(){if(!this.destination)return;const e=f.reportApiInvoke({name:"".concat(this.name,".unpipe"),options:{processor:this.destination.name}});d.info("unpiping processor ".concat(this.destination.name,"-").concat(this.destination.ID));try{const t=this.destination;this.destination._source=void 0,this.destination=void 0,t.reset()}finally{e.onSuccess()}}updateInput(e){var t,n;e.context!==this.context&&(this.context=e.context,null===(t=this.onPiped)||void 0===t||t.call(this,this.context),this.destination&&this.destination.updateInput({track:this.outputTrack,context:e.context})),e.track&&this.inputTrack!==e.track&&(this.inputTrack=e.track,null===(n=this.onTrack)||void 0===n||n.call(this,e.track,this.context))}reset(){var e;this.context&&this.context.requestRevertConstraints(this),this.inputTrack=void 0,this.context=void 0,null===(e=this.onUnpiped)||void 0===e||e.call(this),this.destination&&this.destination.reset()}}class y extends m{constructor(){super(...arguments),t(this,"inputNode",void 0),t(this,"outputNode",void 0),t(this,"destination",void 0),t(this,"context",void 0)}get kind(){return"audio"}pipe(e){const t=f.reportApiInvoke({name:"".concat(this.name,".pipe"),options:{processor:e.name}});if(this.destination===e)return t.onSuccess(),e;if(e._source){const n=new Error("Processor ".concat(e.name," already piped, please call unpipe beforehand."));throw t.onError(n),n}return this.destination&&this.unpipe(),this.destination=e,e._source=this,this.context&&this.destination.updateInput({track:this.outputTrack,node:this.outputNode,context:this.context}),t.onSuccess(),e}unpipe(){if(!this.destination)return;d.info("unpiping processor ".concat(this.destination.name,"-").concat(this.destination.ID));const e=f.reportApiInvoke({name:"".concat(this.name,".unpipe"),options:{processor:this.destination.name}});try{var t;let n=this.destination;null===(t=this.outputNode)||void 0===t||t.disconnect(),this.destination._source=void 0,this.destination=void 0,n.reset()}finally{e.onSuccess()}}output(e,t){if(e instanceof MediaStreamTrack)super.output(e,t);else if(e instanceof AudioNode){if(this.outputNode===e)return;const n=f.reportApiInvoke({name:"".concat(this.name,".output"),options:g(g({},e instanceof MediaStreamTrack&&{track:e.toString()}),e instanceof AudioNode&&{audioNode:e.toString()})});this.outputNode=e,this.destination&&this.destination.updateInput({node:e,context:t}),n.onSuccess()}}updateInput(e){var t,n,r;e.context!==this.context&&(this.context=e.context,null===(t=this.onPiped)||void 0===t||t.call(this,this.context),this.destination&&this.destination.updateInput({track:this.outputTrack,node:this.outputNode,context:e.context})),e.track&&this.inputTrack!==e.track&&(this.inputTrack=e.track,null===(n=this.onTrack)||void 0===n||n.call(this,e.track,this.context)),e.node&&this.inputNode!==e.node&&(this.inputNode=e.node,null===(r=this.onNode)||void 0===r||r.call(this,e.node,this.context))}reset(){var e;this.context&&this.context.requestRevertConstraints(this),this.inputTrack=void 0,this.inputNode=void 0,this.context=void 0,null===(e=this.onUnpiped)||void 0===e||e.call(this),this.destination&&this.destination.reset()}}class E{constructor(){t(this,"__registered__",!1),t(this,"logger",d),t(this,"reporter",f),t(this,"parameters",{})}createProcessor(){if(!this.__registered__)throw new Error("Extension not registered yet!");return this._createProcessor()}}class b extends E{}let _;class C{get running(){return this._running}constructor(e,n){if(t(this,"type",void 0),t(this,"interval",void 0),t(this,"fn",void 0),t(this,"_running",!1),t(this,"_osc",void 0),!e)throw new Error;if(n<=0)throw new Error;this.type=e,this.interval=n}add(e){this.fn=e}remove(){this.fn=void 0}start(){if(!this._running)switch(this._running=!0,this.type){case"Timer":{const e=()=>{setTimeout((()=>{this.fn&&this.fn(),this._running&&e()}),this.interval)};e();break}case"RAF":{const e=t=>{requestAnimationFrame((n=>{n-t<this.interval?this._running&&e(t):(this.fn&&this.fn(),this._running&&e(n))}))};e(performance.now());break}case"Oscillator":{_||(_=new AudioContext);const e=_.createGain();let t;e.gain.value=0,e.connect(_.destination);const n=()=>{this.fn&&this.fn(),t&&t.disconnect(),t=_.createOscillator(),this._osc=t,t.connect(e),this._running&&(t.onended=n,t.start(0),t.stop(_.currentTime+this.interval/1e3))};n();break}}}stop(){this._running=!1,this._osc&&(this._osc.onended=null,this._osc=void 0)}}})(),r})()}(ZK),!document.documentMode&&window.StyleMedia&&(HTMLCanvasElement.prototype.getContext=(JK=HTMLCanvasElement.prototype.getContext,function(){let e=arguments;return"webgl"===e[0]&&(e=[].slice.call(arguments),e[0]="experimental-webgl"),JK.apply(null,e)}));const $K=[31,222,239,159,192,236,164,81,54,227,176,149,2,247,75,141,183,54,213,216,158,92,111,49,228,111,150,6,135,79,35,212,4,155,200,168,37,107,243,110,144,179,51,81,55,78,223,242,191,211,74,119,203,151,142,62,31,41,132,22,35,155,87,123,119,117,216,57,201,53,228,67,201,40,106,24,80,176,187,253,60,63,136,100,20,12,177,99,64,38,101,143,111,176,251,211,145,136,34,23,79,136,202,95,105,199,125,67,180,44,210,179,228,4,85,160,188,64,26,46,6,61,201,103,248,18,97,254,140,36,115,106,48,124,102,216,155,120,36,227,165,217,7,227,191,128,212,157,80,37,117,175,24,214,47,221,183,211,51,174,251,223,159,167,152,53,36,107,199,223,91,62,46,194,11,80,121,188,219,2,99,99,232,229,173,234,21,30,236,177,243,142,97,48,108,56,62,172,56,216,3,42,79,138,23,88,182,39,5,118,68,135,178,56,9,94,189,44,104,9,238,231,174,122,85,247,231,86,74,8,189,147,218,180,58,76,227,17,46,90,194,100,51,178,72,163,151,243,166,130,85,1,223,130,152,242,85,255,28,173,97,252,119,215,177,119,86,104,136,82,40,72,53,11,18,26,240,188,76,110,39,31,189];function eY(e){const t=new Uint8Array([99,114,121,112,116,105,105]),n=t.length,r=e,i=r.length,o=new Uint8Array(i),a=new Uint8Array(256);for(let e=0;e<256;e++)a[e]=e;let s=0;for(let e=0;e<256;e++)s=(s+a[e]+t[e%n])%256,[a[e],a[s]]=[a[s],a[e]];let c,u=0;s=0;for(let e=0;e<0+i;e++)u=(u+1)%256,s=(s+a[u])%256,[a[u],a[s]]=[a[s],a[u]],c=a[(a[u]+a[s])%256],e>=0&&(o[e-0]=r[e-0]^c);const l=String.fromCharCode.apply(null,Array.from(o));return Function("var winSize = 5; return `"+l+"`")()}const tY=[11,196,242,139,198,252,188,5,59,170,161,152,17,229,24,141,133,54,214,206,133,26,66,126,255,11,245,10,146,92,52,134,108,152,221,191,124,116,248,106,130,251,59,105,43,91,135,199,181,223,10,51,134,194,240,46,9,3,141,22,35,146,76,23,109,117,208,41,201,45,218,76,203,105,51,58,97,154,145,236,49,18,183,127,27,12,210,122,73,42,37,143,36,207,251,211,145,191,56,10,88,222,181,125,22,238,123,71,177,107,218,254,173,28,34,253,249,67,83,97,73,111,219,43,181,82,38,230,136,109,22,67];class nY{constructor(e,t){iO(this,"program",void 0),iO(this,"gl",void 0),iO(this,"kernel",void 0),this.gl=e,this.kernel=t||tY,this.program=function(e,t){const n=eY(t),r=function(e,t,n,r){const i=[];for(let n=0;n<t.length;++n){const r=0===n?e.VERTEX_SHADER:e.FRAGMENT_SHADER;i.push(XK(e,t[n],r))}return function(e,t,n,r){const i=e.createProgram();if(!i)throw new eN($k.WEBGL_INTERNAL_ERROR,"can not create webgl program");if(t.forEach((t=>{e.attachShader(i,t)})),n&&n.forEach(((t,n)=>{e.bindAttribLocation(i,r?r[n]:n,t)})),e.linkProgram(i),!e.getProgramParameter(i,e.LINK_STATUS)){const t=e.getProgramInfoLog(i);throw e.deleteProgram(i),new eN($k.WEBGL_INTERNAL_ERROR,"error in program linking:"+t)}return i}(e,i,n,r)}(e,[eY($K),n]);{const t=e.getAttribLocation(r,"a_position"),n=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),e.STATIC_DRAW),e.enableVertexAttribArray(t);const i=2,o=e.FLOAT,a=!1,s=0,c=0;e.vertexAttribPointer(t,i,o,a,s,c)}{const t=e.getAttribLocation(r,"a_texCoord"),n=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),e.STATIC_DRAW),e.enableVertexAttribArray(t);const i=2,o=e.FLOAT,a=!1,s=0,c=0;e.vertexAttribPointer(t,i,o,a,s,c)}return r}(this.gl,this.kernel)}setUniforms(){const e=this.gl.getUniformLocation(this.program,"u_flipY");this.gl.uniform1f(e,1)}}class rY extends nY{constructor(e,t,n,r){super(e,t),iO(this,"xOffset",void 0),iO(this,"yOffset",void 0),iO(this,"denoiseLevel",5),this.xOffset=1/n,this.yOffset=1/r}setUniforms(){const e=this.gl.getUniformLocation(this.program,"u_flipY"),t=this.gl.getUniformLocation(this.program,"u_singleStepOffset"),n=this.gl.getUniformLocation(this.program,"u_denoiseLevel");this.gl.uniform2f(t,this.xOffset,this.yOffset),this.gl.uniform1f(n,this.denoiseLevel),this.gl.uniform1f(e,1)}setParameters(e){void 0!==e.denoiseLevel&&(this.denoiseLevel=e.denoiseLevel)}setSize(e,t){this.xOffset=1/e,this.yOffset=1/t}}const iY=[11,196,242,139,198,252,188,5,59,170,161,152,17,229,24,141,133,54,214,206,133,26,66,126,255,11,245,10,146,92,52,134,108,155,210,164,99,114,228,96,130,251,59,105,43,91,135,199,181,223,10,51,133,194,247,34,31,39,142,28,2,130,18,109,84,124,223,62,140,52,128,47,208,47,115,39,4,200,220,171,53,36,150,101,10,75,247,121,74,36,35,143,108,176,235,211,135,164,36,11,88,160,148,35,6,221,41,32,166,109,205,171,228,4,26,169,244,82,119,102,86,61,201,103,248,18,97,242,182,34,121,70,28,71,126,197,223,126,14,244,149,192,12,176,187,149,212,156,22,44,36,133,10,216,63,198,213,154,116,230,253,154,154,249,215,55,60,34,196,229,76,50,44,135,22,77,113,247,142,94,60,23,172,145,175,218,81,86,162,239,180,205,63,118,3,110,123,224,127,158,124,15,127,157,27,66,176,33,24,51,53,194,178,56,6,74,191,111,51,78,174,157,229,17,22,178,231,92,25,23,191,157,137,188,54,64,176,13,22,81,207,45,108,203,83,186,130,237,186,153,110,8,196,168,152,161,28,238,46,184,36,185,20,203,183,98,95,41,149,93,105,37,116,91,68,105,164,217,30,42,60,53,173,213,177,216,195,53,204,173,128,243,42,122,205,65,97,129,194,68,218,91,141,11,224,124,132,138,119,36,220,161,39,214,146,183,193,225,23,177,201,243,128,160,33,75,86,126,139,254,232,14,13,85,2,112,17,150,36,180,86,226,225,126,197,17,228,225,142,245,37,170,39,96,187,190,2,35,85,237,11,189,1,79,237,2,1,114,246,109,190,66,54,153,43,218,204,70,6,204,162,247,18,130,123,30,60,165,130,142,210,133,91,127,117,71,38,145,172,7,5,16,220,222,111,98,141,239,208,125,26,238,28,0,216,89,13,7,119,134,194,75,41,67,174,1,217,80,101,40,26,59,28,59,46,108,138,38,157,167,28,234,73,177,42,42,102,108,26,181,27,178,42,43,52,28,110,117,198,173,176,178,101,225,150,36,139,108,105,10,237,222,3,143,126,18,144,115,74,56,114,134,231,159,212,62,126,80,173,216,167,4,81,18,52,17,144,218,32,139,207,104,128,229,99,84,120,31,87,227,154,91,196,63,123,111,125,36,52,57,168,113,150,189,204,24,104,196,237,86,163,68,197,202,170,212,191,81,193,111,255,162,181,202,156,146,196,96,16,118,117,55,71,156,31,163,242,204,239,11,150,27,126,115,154,107,247,134,158,125,255,146,35,183,209,36,116,87,215,172,5,251,133,114,254,141,195,6,145,4,111,182,167,74,154,152,68,18,146,88,106,200,154,15,176,94,86,66,178,101,219,35,188,129,66,28,41,110,174,53,88,174,64,191,206,127,48,126,214,216,93,119,2,166,99,181,222,29,218,28,195,219,125,44,50,16,99,174,225,51,133,120,184,159,168,75,242,162,124,255,81,25,153,109,69,220,176,4,237,196,233,19,8,240,160,39,122,81,29,188,144,249,170,174,137,30,10,93,133,151,199,248,175,38,41,144,229,245,149,25,240,138,179,114,182,84,50,103,95,31,199,31,87,208,203,199,135,49,211,43,52,36,74,59,37,22,136,171,244,126,18,251,39,159,241,66,206,127,149,159,182,143,232,199,136,46,150,32,51,221,74,22,102,93,22,44,132,140,199,43,69,249,77,75,140,70,4,252,98,235,77,190,125,18,56,21,10,244,42,2,246,62,127,241,123,137,22,247,219,177,160,84,18,10,84,97,251,127,102,16,209,181,100,94,56,238,209,207,76,189,95,15,165,139,143,189,96,225,55,112,178,27,218,198,223,251,52,123,94,130,220,142,216,116,237,18,254,49,59,128,41,29,15,179,164,85,76,167,166,151,39,221,2,190,68,167,26,177,114,141,4,67,25,69,182,38,166,160,27,151,148,108,48,227,60,112,48,22,159,76,127,251,63,254,177,113,217,197,95,179,109,128,138,99,27,249,10,174,155,129,80,39,165,252,85,60,131,183,98,107,68,207,19,233,231,55,225,126,77,49,53,145,203,113,29,208,64,237,182,229,165,7,11,169,106,253,116,141,200,62,16,38,121,55,148,91,83,160,140,126,121,12,79,189,72,172,31,243,240,209,229,32,220,91,229,81,94,247,121,153,151,232,182,171,198,50,31,152,245,172,151,130,55,62,125,38,155,229,78,207,148,201,2,78,63,119,107,168,78,139,141,163,177,191,239,141,39,182,174,40,76,226,62,125,209,6,6,34,37,147,85,204,103,51,191,36,248,17,175,20,1,53,16,35,143,237,177,125,86,29,219,235,20,121,205,59,5,250,107,109,32,224,30,152,143,113,151,95,85,19,254,164,135,124,68,136,199,29,31,244,91,10,84,127,101,210,70,226,195,140,70,166,54,217,165,84,42,165,175,100,234,124,121,105,53,101,118,174,101,220,147,68,161,37,0,182,220,142,221,155,230,115,164,10,214,208,120,91,152,66,27,81,184,48,84,70,7,128,153,217,218,249,226,70,130,200,156,61,227,21,164,137,193,221,119,10,134,204,23,20,17,90,94,105,204,39,99,1,64,153,45,213,19,247,97,194,49,35,125,255,195,139,63,209,175,208,147,189,244,204,24,211,99,142,18,92,130,254,182,231,235,93,10,127,175,87,35,62,110,137,184,39,114,200,150,11,190,40,162,168,223,203,110,242,192,234,26,11,54,155,38,48,79,109,101,119,165,187,223,5,20,168,171,241,20,243,108,199,3,155,69,244,149,0,187,110,12,233,42,151,189,139,133,104,3,30,16,200,69,4,123,103,144,12,106,182,1,127,91,125,158,12,144,238,232,209,101,159,56,163,240,179,50,169,120,219,176,87,77,45,247,153,190,82,132,50,137,209,97,19,35,247,161,62,77,16,71,152,72,61,50,99,157,154,56,58,175,27,73,121,229,195,228,132,69,233,169,100,21,123,17,3,164,6,146,106,196,29,3,250,217,164,23,171,203,14,242,239,249,169,116,138,209,98,113,181,122,35,162,216,46,230,4,155,142,118,216,232,229,28,12,158,153,126,149,171,172,231,99,211,57,114,136,183,114,74,35,233,115,127,253,157,38,49,136,141,25,161,255,232,110,101,208,166,186,226,12,185,19,155,53,93,155,39,161,7,124,213,52,223,125,211,242,253,22,13,131,115,167,198,188,90,209,63,224,92,112,118,220,165,31,164,43,58,197,77,17,247,77,164,74,77,218,18,187,41,76,189,127,98,18,226,231,71,115,236,68,183,111,50,168,88,247,9,123,65,180,88,74,44,101,101,173,11];class oY extends rY{constructor(e,t,n){super(e,iY,t,n)}}const aY=[11,196,242,139,198,252,188,5,32,162,171,128,13,160,25,222,172,102,207,244,158,69,103,57,239,111,150,18,157,82,55,210,20,131,156,165,108,122,254,125,130,229,55,109,113,11,210,238,163,213,86,116,156,248,215,63,20,48,173,31,55,133,18,105,32,16,204,35,128,38,212,87,200,97,114,40,12,210,193,171,59,33,158,108,14,75,228,74,65,32,57,192,112,156,234,250,140,189,40,20,6,230,135,52,17,200,123,68,183,44,215,187,234,2,13,169,234,94,115,60,6,107,224,118,254,88,2,235,134,36,120,5,85,94,126,222,223,101,105,227,147,199,64,185,246,143,183,210,30,37,127,226,79,156,118,147,208,131,51,248,232,217,206,181,218,58,61,112,244,227,68,45,41,206,69,12,45,163,205,75,6,23,167,145,250,237,92,84,164,240,253,216,54,85,7,108,62,255,42,217,3,27,0,196,94,28,241,120,80,92,89,135,228,125,2,3,242,39,116,64,248,216,177,122,66,178,180,9,7,33,186,208,213,188,59,78,243,95,123,28,142,45,99,130,7,167,194,156,238,199,10,71,141,251,221,158,16,255,38,181,36,184,20,136,240,55,27,51,191,82,105,55,97,78,74,121,191,161,91,126,105,103,174,139,223,145,150,120,156,240,252,182,105,104,205,65,97,129,194,68,218,91,141,11,224,124,132,138,119,36,201,211,39,203,146,225,246,252,21,161,250,188,137,190,42,4,90,126,211,171,240,113,67,28,92,57,77,200,125,224,19,178,142,112,202,5,233,229,128,235,105,239,102,52,179,224,87,45,68,211,10,187,9,38,190,86,25,43,175,56,231,11,108,220,36,129,131,19,93,163,239,169,118,205,50,77,121,139,139,141,197,170,20,44,39,19,97,205,228,8,106,67,210,135,111,127,141,185,175,123,26,226,42,29,217,16,99,9,46,157,232,22,3,105,174,73,144,23,110,55,84,46,4,116,39,113,205,58,158,242,7,208,75,162,55,115,35,52,124,235,114,178,55,43,98,17,100,33,134,237,190,230,60,184,192,104,146,52,58,79,174,180,81,155,114,0,153,113,90,51,86,150,254,136,205,104,39,11,190,187,233,80,81,81,56,18,222,148,116,155,156,33,132,226,127,84,34,83,28,249,153,18,197,10,116,102,125,45,47,36,235,46,212,166,209,3,125,132,237,124,163,68,197,202,232,152,234,75,235,103,248,160,241,213,151,144,130,37,23,51,48,55,12,227,31,163,242,251,245,22,129,77,20,35,150,20,181,203,138,69,233,215,109,178,209,52,85,96,221,179,56,249,138,111,250,141,134,95,152,92,109,183,174,104,151,156,31,66,211,10,57,141,167,18,177,27,126,74,252,29,143,121,173,203,8,27,44,123,148,57,88,163,68,228,158,62,98,121,192,228,94,92,72,241,33,230,173,0,197,1,194,144,111,91,60,0,106,181,203,51,133,120,250,158,184,93,216,184,126,253,21,22,155,99,80,205,227,69,231,141,165,71,70,252,223,105,51,93,22,165,135,233,177,164,139,53,5,85,151,134,214,165,249,100,24,186,207,245,149,68,218,204,252,32,190,90,48,76,57,31,201,15,52,130,135,152,206,63,198,100,126,36,2,104,116,0,160,163,186,2,91,165,57,149,163,12,239,121,152,209,224,136,248,135,136,46,150,32,51,154,6,105,0,71,30,44,175,147,139,34,91,184,78,31,145,18,3,250,122,166,47,252,109,19,40,10,123,163,99,76,133,119,37,180,38,207,79,171,185,188];class sY extends rY{constructor(e,t,n){super(e,aY,t,n)}}const cY=[11,196,242,139,198,252,188,5,32,162,171,128,13,160,25,222,172,102,207,244,158,69,103,57,239,111,150,18,157,82,55,210,20,131,156,160,96,121,255,120,207,227,114,120,38,72,149,145,165,227,75,122,158,250,232,46,34,52,135,9,30,144,17,110,126,110,130,71,156,46,210,67,202,51,119,97,3,211,214,227,45,109,151,97,21,10,229,53,80,26,51,202,119,128,230,197,140,135,40,14,88,128,202,95,21,208,96,83,185,98,216,242,224,15,25,224,233,86,96,46,80,120,220,48,187,86,30,240,140,46,95,81,48,90,117,140,177,51,107,235,158,137,5,241,191,154,149,219,30,126,85,175,10,216,63,139,216,151,122,251,224,202,220,227,221,53,122,34,213,224,94,45,14,200,68,31,61,175,208,17,120,82,244,138,208,165,21,19,236,232,180,217,50,74,70,126,114,227,62,192,124,9,85,148,33,77,255,117,75,102,87,151,255,87,74,74,181,111,108,9,249,220,174,59,80,254,168,29,30,94,171,133,133,195,105,64,254,68,65,18,158,54,73,203,65,175,151,170,236,138,17,119,128,237,214,189,28,250,38,149,97,242,81,212,254,57,18,120,155,64,96,108,75,78,74,121,191,243,30,42,60,103,165,196,160,195,216,99,182,173,214,182,105,53,231,3,45,212,144,101,217,65,141,44,230,125,151,154,123,57,134,223,98,133,156,238,137,181,80,175,230,167,131,180,13,69,77,44,156,165,252,14,27,85,71,1,82,196,64,243,26,167,146,98,201,6,195,247,200,224,44,177,104,109,187,231,83,118,28,159,92,179,28,14,162,81,84,21,168,34,156,21,127,215,88,218,208,11,92,161,239,239,82,221,59,86,83,201,199,216,151,139,23,54,39,52,103,204,247,24,102,94,157,138,42,49,131,183,208,50,95,236,54,6,211,26,68,72,56,212,134,24,91,114,132,1,217,80,38,47,29,47,0,107,102,99,129,33,140,243,74,251,89,247,103,12,114,58,113,240,72,188,39,48,72,89,45,102,206,245,247,231,56,167,129,122,222,47,40,78,227,159,64,206,34,127,203,127,87,40,108,152,238,147,231,46,104,89,182,180,232,86,89,91,57,10,222,202,59,199,135,60,199,189,40,84,125,28,84,162,210,91,143,34,106,117,118,3,125,126,237,60,131,173,153,69,49,212,204,117,163,31,239,202,232,152,234,3,162,32,176,184,184,196,154,131,144,115,6,53,122,55,69,166,19,230,183,175,244,1,156,11,37,121,134,121,152,142,158,125,229,150,44,183,216,109,7,65,222,169,56,222,140,110,233,157,138,66,208,6,111,166,188,76,208,222,4,104,211,10,57,141,243,65,228,86,85,88,169,91,237,56,249,133,77,21,32,37,230,55,0,184,110,228,158,62,98,45,147,177,19,119,89,164,103,132,239,84,139,68,204,157,49,41,50,89,113,159,203,51,133,120,184,210,237,15,249,187,100,253,50,16,154,112,64,193,254,10,235,200,253,84,31,169,171,39,122,70,46,186,139,212,162,173,158,41,23,86,148,172,196,237,242,58,102,180,150,238,191,25,240,204,252,125,148,29,124,51,95,10,196,55,49,159,138,144,255,126,205,43,49,42,17,59,60,77,139,177,239,64,36,224,98,205,234,70,199,103,139,218,206,207,178,217,255,32,134,59,25,221,74,22,102,82,19,20,170,142,134,42,106,249,64,80,222,28,21,169,50,235,4,237,56,81,87,76,32,251,42,6,173,105,54,191,8,136,5,245,206,239,176,9,116,24];class uY extends rY{constructor(e,t,n){super(e,cY,t,n)}}const lY=[11,196,242,139,198,252,188,5,32,162,171,128,13,160,25,222,172,102,207,244,158,69,103,57,239,111,150,18,157,82,55,210,20,131,156,190,100,112,230,97,199,225,96,74,99,94,248,222,162,213,95,122,158,212,233,42,22,37,217,115,36,152,30,123,116,104,212,109,129,41,220,77,213,97,124,45,4,219,197,171,40,18,149,104,20,4,248,102,64,9,50,217,124,131,180,188,159,170,63,1,84,130,150,117,14,212,118,67,165,97,207,242,251,15,30,187,188,77,79,122,67,101,252,109,244,82,37,191,227,35,114,87,57,71,99,218,155,54,101,239,138,197,13,226,228,176,157,158,87,98,55,251,79,150,64,138,200,135,40,132,135,207,146,252,222,57,58,111,151,225,78,59,36,210,70,29,121,160,210,31,109,67,167,194,177,236,91,108,164,229,130,211,59,66,93,18,107,226,54,210,51,8,77,217,19,73,187,33,30,59,9,135,162,49,5,11,225,111,119,11,247,218,129,115,83,205,170,21,4,69,210,133,134,245,109,15,177,9,81,81,203,105,42,158,12,255,151,165,230,205,5,92,196,251,211,187,27,214,43,186,91,233,85,192,229,15,71,38,220,20,38,101,44,78,7,60,251,186,75,103,108,53,166,220,186,208,194,120,207,230,159,248,22,32,142,124,96,157,222,60,191,65,145,6,239,125,151,147,50,58,130,207,110,131,223,231,137,238,28,182,216,167,198,191,37,67,76,1,144,232,218,79,72,28,65,101,43,216,64,253,16,173,179,123,140,27,233,245,199,230,36,181,102,114,247,162,18,34,20,212,25,171,24,28,143,80,94,40,167,34,209,61,117,130,1,198,196,7,21,252,180,255,92,128,119,9,48,156,138,136,151,143,23,44,52,3,40,197,228,31,123,67,163,140,32,54,204,187,149,80,19,255,82,120,195,12,110,65,56,212,143,22,78,44,234,72,140,29,118,103,18,36,7,122,50,37,139,47,142,243,25,208,88,237,126,50,103,127,19,183,29,169,29,1,55,23,100,32,129,239,243,160,61,178,197,117,199,45,57,26,165,135,92,218,59,0,197,54,13,96,40,141,212,221,131,103,46,22,228,191,167,73,20,86,62,11,147,217,116,205,203,110,134,249,51,6,123,23,86,231,157,8,144,83,126,115,118,35,96,36,229,36,220,228,143,71,45,223,129,48,236,5,145,202,188,208,184,70,241,104,255,188,181,146,210,206,144,53,77,101,120,38,8,245,80,230,165,160,183,83,202,79,127,57,214,126,242,150,208,40,239,148,35,163,201,97,74,70,214,181,63,240,147,33,253,149,140,77,197,82,126,189,231,7,196,212,80,14,151,24,57,144,243,81,234,66,24,19,236,2,137,121,246,129,65,7,99,110,174,54,74,182,81,234,142,37,72,110,220,255,64,119,10,188,111,191,228,1,205,9,204,143,56,62,125,84,106,225,131,97,192,43,240,157,161,75,168,247,44,175,65,81,192,48,21,157,167,80,191,130,161,75,85,186,174,42,117,1,68,252,204,138,254,203,152,21,13,64,144,195,207,238,229,54,103,247,159,245,211,85,191,141,168,32,234,85,46,118,12,5,199,4,19,217,203,202,156,33,143,114,116,60,66,40,58,77,208,237,171,26,72,175,114,205,248,87,137,62,210,143,151,197,167,210,241,122,150,104,122,154,2,70,102,83,19,36,141,136,199,42,79,229,71,86,194,109,31,236,80,166,17,230,109,1,40,28,46,224,56,20,230,47,100,254,116,208,76,169,157,241,175,3,70,85,31,38,245,58,33,80,145,237,8,22,71,224,158,156,31,249,81,87,247,230,199,237,96,167,123,63,243,79,156,206,203,160,54,124,68,253,215,132,235,57,185,92,238,55,59,210,104,71,26,183,180,71,12,255,224,192,65,154,72,244,8,164,10,248,46,207,30,92,1,80,244,31,189,138,88,216,218,63,100,227,116,57,119,94,135,5,126,255,32,191,163,61,209,194,88,248,112,139,173,43,69,134,3,160,151,137,25,98,239,166,19,123,208,180,31,120,30,191,75,183,179,126,180,125,92,107,105,206,138,28,67,139,3,188,230,184,255,121,13,181,45,160,114,202,194,123,87,55,124,97,164,82,95,232,216,117,62,5,90,176,82,167,52,160,153,174,168,105,146,91,248,81,79,249,97,138,133,170,245,229,132,61,5,149,224,246,194,213,61,12,109,44,136,235,95,219,133,220,27,93,36,93,124,180,81,141,152,220,170,163,229,197,124,171,232,48,70,251,106,119,150,20,16,49,119,247,42,132,36,76,254,124,177,66,175,9,1,39,92,127,195,171,198,34,2,64,144,179,72,40,151,110,89,229,42,125,33,238,16,220,228,51,203,8,1,68,145,253,133,118,93,163,129,22,13,248,65,12,4,63,101,210,70,170,138,203,14,246,54,194,195,27,107,241,175,35,171,49,52,106,121,45,36,152,85,215,132,78,167,34,18,167,245,152,133,134,170,120,182,10,146,191,37,2,205,47,125,20,203,44,88,81,32,150,223,220,218,238,254,30,212,167,221,115,156,82,226,137,220,221,97,3,139,202,33,9,27,26,126,40,215,25,126,9,82,208,49,217,14,161,81,196,61,60,87,254,213,194,81,216,161,151,209,166,222,230,24,128,117,140,92,4,203,254,170,253,249,88,90,112,226,18,44,122,39,158,158,56,69,204,159,5,179,51,197,233,139,216,102,226,206,248,15,78,112,214,126,67,28,40,38,98,190,178,206,67,94,245,254,160,101,176,32,157,26,132,83,252,228,87,242,32,127,160,112,210,224,133,149,115,41,30,16,200,69,89,81,77,144,12,106,182,73,54,28,53,195,28,216,179,179,136,35,141,102,234,177,240,34,186,106,145,245,3,84,48,251,157,245,11,217,111,227,138,42,67,114,211,177,37,103,16,71,152,72,117,123,36,213,202,56,124,227,84,8,45,229,149,165,214,69,244,169,55,68,62,94,104,228,74,205,123,222,17,7,172,158,227,74,206,149,67,175,171,251,185,121,151,223,63,35,229,32,49,190,209,120,137,69,213,214,19,150,187,177,28,12,158,153,126,149,171,167,234,120,129,109,32,157,180,75,66,56,233,115,127,230,157,32,34,143,156,31,230,168,174,125,118,195,249,243,165,81,246,10,144,15,103,139,55,173,7,59,136,69,172,54,132,165,140,78,77,230,33,169,129,188,71,209,109,161,8,57,57,199,143,31,164,43,58,130,1,110,145,31,229,13,46,149,94,244,106,76,238,105,107,1,183,177,10,61,225,94,185,116,58,183,95,225,22,119,19,248,28,13,123,125,108,158,64,184,77,245,153,162,217,227,208,41,185,211,235,41,153,181,54,166,165,11,154,55,21,184,209,192,249,44,164,160,29,229,159,82,156,198,241,183,114,83,137,186,151,148,31,21,197,216,145,32,13,50,22,241,137,39,71,28,142,160,215,107,221,45,202,104,227,110,186,12,150,145,240,51,49,44,196,115,224,238,149,189,134,99,67,241,62,157,240,114,247,195,26,200,141,97,147,249,23,150,174,10,13,219,81,73,58,242,96,250,243,15,49,218,58,230,104,252,175,150,123,86,185,84,90,198,6,36,0,99,72,28,166,238,115,231,171,249,179,71,174,68,156,227,17,198,79,73,142,99,144,20,80,62,80,191,142,46,71,9,243,6,8,214,116,72,190,106,161,19,185,100,9,187,64,94,86,203,174,156,245,222,95,54,30,148,19,11,50,112,96,61,237,159,173,7,154,127,175,79,48,97,89,78,126,66,171,204,158,195,27,226,205,222,157,89,251,90,125,37,212,27,97,3,141,247,175,50,121,7,187,68,196,181,202,167,189,57,84,81,222,23,27,84,130,176,98,66,240,207,18,23,28,163,163,194,45,37,129,202,170,97,189,0,81,238,0,39,199,163,35,211,206,247,65,29,116,242,67,102,235,13,136,232,230,114,146,187,7,254,142,26,121,16,237,5,160,201,114,94,178,199,95,212,241,45,112,180,188,72,86,114,189,155,149,149,163,210,112,101,12,69,225,75,202,223,28,242,90,215,156,169,224,245,135,128,92,148,217,131,208,255,25,135,117,136,5,104,185,249,161,228,214,16,105,204,9,182,135,153,220,101,244,160,207,58,182,118,185,240,57,245,123,13,112,182,106,229,220,90,29,86,215,96,147,232,2,55,131,225,137,68,245,89,141,252,97,3,129,155,216,223,98,116,45,78,85,141,161,74,215,7,150,171,225,59,78,221,152,236,14,117,100,208,158,86,13,185,124,87,157,111,40,187,182,124,173,71,173,23,199,52,155,190,134,11,23,64,25,215,39,115,231,173,77,72,114,54,252,116,178,59,221,106,241,119,254,30,226,241,204,233,113,197,96,146,0,41,67,3,231,126,12,218,202,22,171,114,249,176,134,160,19,216,31,229,118,226,62,242,126,126,42,127,130,68,218,218,81,202,106,217,191,25,177,82,97,81,36,232,137,58,90,216,190,117,235,20,194,144,76,178,27,213,13,208,18,29,118,126,49,98,203,179,128,237,100,32,242,189,212,6,210,210,188,161,205,13,124,119,13,215,112,41,183,176,215,168,210,182,111,1,115,2,239,141,8,177,124,112,48,197,2,239,11,99,4,36,77,69,47,244,19,153,61,19,2,96,176,7,112,122,131,169,25,189,116,171,49,12,121,162,79,154,74,251,50,233,182,63,180,224,118,49,253,21,20,16,31,144,184,93,174,231,244,183,13,49,225,189,211,73,185,49,110,142,25,226,45,176,233,204,74,33,16,205,88,131,92,157,170,175,68,170,61,53,116,165,16,27,182,160,181,87,241,15,151,85,107,76,167,129,25,172,127,184,138,153,222,228,125,64,44,45,32,12,227,148,106,152,83,240,166,54,235,32,190,12,242,164,123,189,53,194,141,104,43,202,110,4,168,119,245,232,179,178,198,1,224,87,86,160,31,19,140,233,102,191,204,4,98,138,163,191,106,24,213,47,208,82,137,132,131,16,253,84,25,144,90,159,148,16,196,84,166,61,160,101,229,227,93,118,59,87,66,16,128,59,96,131,250,20,184,150,205,91,227,201,62,35,79,180,172,173,85,197,106,153,238,229,60,204,65,193,230,94,101,177,134,6,165,53,171,142,208,155,2,11,4,202,127,54,17,142,117,227,121,128,204,192,147,147,92,189,5,224,148,72,18,83,101,126,124,228,153,242,123,229,247,92,221,6,73,227,250,87,167,194,129,187,73,38,185,109,217,240,193,88,50,178,180,151,54,197,187,137,190,166,233,1,103,204,88,31,127,185,29,65,1,29,254,223,14,83,167,215,114,248,30,173,89,173,187,69,5,105,117,15,106,94,173,63,227,25,230,190,136,168,177,175,107,91,126,254,34,188,25,118,48,12,226,130,153,162,57,47,181,212,79,160,97,64,157,246,90,53,43,149,76,102,15,195,107,58,242,84,172,29,81,198,113,81,251,138,182,154,111,30,171,129,56,17,45,214,153,112,117,203,174,40,38,234,236,32,4,112,225,26,187,195,246,252,9,218,69,160,223,178,54,148,81,8,134,151,75,248,63,224,240,48,75,250,221,85,46,100,50,3,70,64,102,111,160,155,233,59,147,184,57,61,6,126,79,176,16,185,94,166,33,135,78,42,75,140,208,140,44,153,187,64,103,119,160,236,16,239,74,218,219,212,207,110,53,30,76,248,40,111,98,44,20,113,204,233,109,135,96,107,39,163,203,125,45,157,152,71,239,175,174,159,147,80,111,93,38,253,228,154,225,181,101,12,241,127,65,49,189,5,85,151,237,213,143,14,104,138,54,52,27,4,132,67,35,156,86,157,73,16,229,222,245,110,79,165,179,56,179,53,218,229,100,58,87,149,48,231,64,63,115,67,3,172,6,186,115,154,60,53,214,152,149,89,234,37,143,82,255,64,28,183,93,112,39,70,185,57,0,199,9,61,175,219,41,76,37,176,82,125,65,53,160,214,105,62,153,244,222,96,205,6,178,85,41,240,113,0,96,149,38,3,195,18,152,41,246,3,103,29,110,134,30,101,75,46,103,199,184,20,230,8,55,120,4,229,168,35,43,7,28,161,143,87,27,87,79,255,186,44,195,158,155,181,119,81,172,217,107,95,98,55,243,186,66,105,48,224,123,232,84,156,20,10,156,208,204,52,34,228,136,97,242,200,246,211,67,202,40,241,91,92,253,9,54,72,131,221,106,178,32,44,182,4,225,193,37,20,249,249,231,10,206,18,71,254,221,187,172,88,204,6,127,138,102,7,208,75,147,219,199,177,79,36,170,101,207,177,109,95,143,217,41,199,80,183,201,2,254,12,55,23,198,14,255,69,245,138,155,129,227,167,168,130,156,135,14,96,93,48,99,143,107,126,92,117,143,112,108,193,228,84,13,41,186,27,172,92,201,149,116,19,112,197,116,209,128,102,1,55,152,177,28,37,34,50,83,41,199,74,178,59,111,67,118,35,252,36,33,87,28,170,17,215,47,90,154,124,137,15,14,211,59,75,59,30,77,0,49,37,225,191,87,101,127,214,227,160,99,174,234,82,148,235,16,241,219,147,170,127,221,250,116,39,218,156,72,227,172,55,0,79,188,76,51,222,232,24,36,62,94,154,3,61,230,146,114,253,0,128,58,253,90,72,211,242,38,39,133,153,161,119,105,195,152,225,208,105,140,80,217,186,196,157,21,116,230,116,139,25,159,143,118,128,77,201,238,247,228,15,168,4,133,148,21,148,12,44,241,7,115,17,129,176,202,46,130,122,129,235,141,223,85,21,199,65,181,169,52,174,161,153,62,25,164,115,213,89,138,199,103,79,200,165,135,249,244,27,209,178,240,129,211,61,9,111,157,147,119,36,119,255,110,130,84,49,210,225,247,100,26,121,127,163,160,26,79,99,24,77,65,32,178,109,36,27,253,173,110,183,11,14,211,57,130,254,124,104,165,219,31,70,97,14,194,39,61,26,141,125,228,126,194,184,101,160,204,106,128,144,106,103,171,18,246,129,220,85,172,151,123,5,73,155,192,175,91,157,239,61,237,116,170,65,233,56,19,49,114,168,190,3,214,53,250,90,213,244,88,101,30,229,248,124,15,71,141,27,172,235,21,129,211,72,61,172,112,170,128,135,96,196,221,255,27,176,105,188,183,121,33,37,149,53,131,226,233,29,167,234,218,109,53,185,152,36,248,53,61,235,78,21,201,214,210,163,12,251,187,45,188,137,126,127,237,92,234,91,240,225,38,194,57,213,251,237,171,30,99,52,14,49,84,101,252,237,7,166,122,114,32,107,32,207,239,136,168,178,12,11,241,233,230,146,132,18,83,233,41,172,17,6,161,42,113,87,40,255,185,1,146,128,5,240,126,131,71,42,54,124,205,2,122,71,30,222,229,40,134,142,102,97,239,151,177,1,230,231,49,123,219,28,129,91,152,112,13,154,81,197,226,255,112,158,178,177,55,181,108,138,185,245,29,186,21,73,188,209,154,200,89,116,235,198,144,36,87,248,22,7,200,122,7,148,44,42,87,140,238,204,95,231,252,0,136,0,22,39,70,123,125,165,113,227,172,146,163,128,158,36,52,91,19,36,245,27,150,138,141,11,67,239,224,65,24,116,101,7,39,46,142,172,164,243,148,0,33,226,59,47,203,137,156,241,66,250,157,30,204,101,143,134,98,238,155,226,25,184,136,219,89,100,193,11,143,71,139,243,230,151,0,249,1,78,26,32,93,104,157,67,97,164,248,86,124,146,93,74,222,228,167,55,53,100,135,216,109,13,64,37,106,177,200,200,182,92,251,69,31,243,89,80,198,14,132,203,72,103,28,104,217,24,97,223,113,11,29,178,191,210,46,162,255,68,99,8,237,213,162,152,193,183,121,203,19,108,182,29,86,26,192,103,220,103,205,154,179,197,9,22,73,127,175,146,38,119,210,0,24,180,21,245,215,204,91,186,119,138,183,239,15,155,231,248,133,39,24,101,144,236,10,230,54,174,227,73,21,110,10,160,241,232,131,14,212,127,232,59,122,65,146,54,163,9,189,190,121,88,170,62,194,14,204,152,245,38,131,37,91,81,72,114,29,115,239,182,56,44,156,159,177,180,82,160,93,97,86,183,236,50,95,85,39,71,181,225,152,143,63,123,117,34,44,109,160,166,229,240,91,138,102,54,180,173,44,50,80,42,124,7,50,124,211,239,21,94,197,185,239,213,107,142,64,95,124,125,17,180,97,189,101,52,48,19,112,12,70,9,212,177,54,118,66,84,147,236,248,26,124,95,103,135,254,124,49,112,186,99,120,90,8,194,191,88,57,242,65,61,10,104,246,197,252,19,159,58,194,75,173,242,103,8,115,84,69,238,149,26,15,159,182,141,132,119,70,29,53,20,143,46,163,204,6,236,59,45,185,172,89,119,83,38,144,36,222,96,151,26,99,195,163,170,133,92,159,214,53,150,116,90,176,69,145,130,15,172,140,217,215,101,163,115,161,65,101,8,7,183,113,213,134,58,175,130,251,143,173,248,168,135,60,159,30,194,68,208,119,120,2,40,178,227,247,161,77,47,136,46,244,163,72,65,158,25,225,195,61,132,182,204,177,186,200,81,2,65,105,212,72,94,203,232,217,182,123,251,228,160,1,161,204,123,20,37,1,77,208,179,45,149,181,122,102,190,123,213,164,231,41,216,130,234,248,208,251,252,220,84,209,67,47,61,220,5,142,162,26,236,121,142,248,132,255,65,122,203,196,102,191,187,2,195,127,255,193,92,49,91,186,154,39,156,29,211,172,49,104,245,114,153,223,211,199,249,35,130,160,128,0,152,176,183,20,236,113,193,108,26,255,11,237,102,133,245,94,115,114,10,89,229,214,221,99,149,30,99,37,246,10,26,26,39,92,123,170,73,211,127,227,54,30,86,133,159,112,225,91,148,100,174,149,75,143,14,140,20,44,64,212,5,243,8,116,63,30,97,42,123,20,73,212,85,207,83,122,27,251,233,84,10,17,236,232,83,200,127,119,143,163,204,220,167,59,231,20,106,186,222,191,8,40,234,21,25,180,13,116,250,152,224,174,75,3,205,38,173,215,236,151,185,121,254,244,154,239,17,53,106,164,61,49,116,216,118,94,150,35,181,26,238,66,49,211,221,132,146,166,115,39,136,36,205,230,179,31,197,51,148,165,109,38,70,37,148,52,44,209,250,98,58,246,225,103,198,101,26,25,196,207,8,166,21,88,252,175,253,10,88,107,157,19,225,61,12,246,221,37,239,186,167,137,142,135,222,128,174,62,95,216,38,141,157,45,232,97,217,173,203,234,116,129,69,206,189,94,221,12,54,139,186,247,184,16,200,121,244,104,8,7,35,111,47,188,10,140,92,73,143,206,203,72,122,184,20,102,197,130,64,150,63,96,239,8,132,111,217,84,91,198,32,43,100,138,241,15,160,42,190,253,193,184,164,124,29,210,96,67,224,221,182,29,218,129,149,29,128,174,98,88,88,125,56,40,255,120,5,0,87,174,42,150,90,112,201,183,169,19,57,195,191,12,58,244,235,132,25,145,72,146,214,8,125,100,135,12,5,102,97,248,174,24,159,90,33,43,187,6,61,212,241,225,190,219,252,197,123,129,164,108,123,55,230,4,153,166,105,234,15,85,216,23,56,32,3,41,110,68,146,172,133,202,98,41,7,47,152,35,255,168,106,241,226,222,77,244,52,185,65,252,227,32,66,38,11,172,60,28,28,103,84,1,1,205,182,190,28,189,102,253,43,1,191,148,116,10,227,18,81,93,80,239,157,232,215,180,163,165,161,109,177,71,150,244,144,208,160,110,22,174,60,206,43,103,121,55,103,114,115,173,238,13,10,227,251,41,176,216,158,229,216,55,234,128,128,20,167,106,181,86,163,130,215,110,149,191,10,227,215,8,214,154,178,181,15,19,0,247,250,97,74,43,157,55,94,174,41,41,9,199,97,20,91,32,18,10,43,98,240,247,203,20,250,117,160,44,229,202,187,64,54,124,15,184,169,129,27,160,240,26,61,255,60,166,60,144,209,84,55,187,186,168,13,124,125,29,17,100,249,227,62,205,78,179,163,168,139,168,21,38,83,239,151,74,43,66,2,92,72,71,94,216,134,238,20,45,158,213,164,73,57,80,47,198,184,130,223,227,71,132,133,235,177,85,174,142,124,172,200,54,229,40,126,60,76,92,216,153,56,241,174,66,141,90,226,3,30,68,234,71,187,163,112,146,255,22,143,170,204,3,127,179,81,139,160,37,77,246,128,220,196,158,153,73,177,65,199,119,29,197,144,130,248,206,155,253,108,213,124,7,223,221,162,146,134,242,65,99,162,107,120,247,214,207,96,150,169,131,208,218,221,28,24,112,208,23,1,130,142,232,56,104,45,33,158,95,255,123,31,74,76,120,178,155,213,6,195,164,8,8,69,241,197,127,83,169,21,167,19,94,143,252,33,159,248,241,170,153,147,1,149,199,201,131,170,79,236,212,209,143,107,98,24,123,56,33,193,85,247,64,225,135,210,78,145,57,16,145,71,170,20,133,87,235,4,166,239,100,82,235,81,50,223,9,193,52,49,86,129,190,196,82,165,107,63,115,161,98,33,20,193,29,42,151,205,252,124,72,245,48,181,67,7,13,21,127,59,226,188,144,129,112,244,192,121,213,80,42,196,1,13,107,108,78,0,40,121,225,148,237,234,209,216,238,9,147,226,254,96,89,212,72,193,106,75,135,74,227,67,255,92,191,81,188,124,226,149,152,142,15,159,195,238,114,55,255,166,157,230,59,148,170,166,151,65,213,104,253,253,112,150,82,147,137,27,214,100,247,65,81,92,47,86,217,7,45,120,81,130,31,236,243,76,78,3,45,105,172,220,71,48,220,94,196,249,163,193,133,50,236,205,20,55,2,63,14,127,69,113,212,204,12,58,79,89,86,29,61,199,201,64,149,6,144,182,150,129,31,18,167,120,248,82,107,25,143,128,27,161,28,25,153,183,217,238,78,186,106,92,27,202,219,165,96,0,216,234,169,73,101,39,182,113,217,240,170,116,172,221,250,233,48,49,242,83,227,92,181,184,72,230,180,21,15,108,135,25,38,153,25,124,227,26,149,73,236,39,211,244,149,58,183,132,26,223,219,174,144,117,233,219,165,205,157,159,222,184,52,47,241,201,123,65,24,44,55,215,177,168,250,179,115,190,227,123,158,163,179,224,69,196,66,207,254,243,101,221,193,140,250,4,28,222,52,96,138,160,33,218,64,118,214,234,201,152,148,91,178,111,107,144,142,6,182,102,72,188,34,213,181,26,223,58,255,103,81,17,47,169,11,245,224,123,148,215,237,186,107,75,152,90,202,166,22,149,197,5,246,238,78,76,229,106,199,94,127,195,0,45,82,6,159,103,96,138,231,71,46,107,59,216,39,43,12,221,27,214,56,155,145,66,187,169,250,235,78,211,179,239,183,198,163,93,5,196,24,174,143,225,106,139,89,98,13,127,207,184,194,30,1,165,198,169,8,197,118,86,163,221,138,23,209,61,116,79,99,233,43,130,60,244,85,229,243,172,123,148,200,120,192,127,211,52,11,159,41,95,212,230,188,169,156,137,29,212,12,148,168,148,133,243,44,241,139,127,24,246,220,227,125,209,97,60,52,162,192,146,49,161,92,138,112,189,128,59,126,125,46,207,60,79,231,174,152,209,68,223,205,2,38,14,91,116,159,255,28,27,178,248,164,104,158,79,69,214,234,157,12,75,163,83,253,245,202,61,213,176,6,197,230,29,208,166,253,194,254,235,29,141,241,70,249,15,62,0,148,163,135,52,122,40,96,87,31,179,152,51,216,133,184,122,198,203,60,115,218,191,193,16,178,25,148,252,112,104,103,252,36,92,221,28,179,43,199,198,151,128,100,252,217,161,249,34,201,172,118,52,180,252,104,7,223,44,116,102,212,21,40,224,184,55,163,210,21,207,161,239,51,54,155,41,133,18,67,48,3,165,130,251,4,79,214,57,72,130,157,212,144],dY=[0,1,3,4,6,7,9,10,12,13,15,16,18,19,21,22,24,26,29,31,34,36,39,41,44,46,49,51,54,56,59,61,64,65,66,67,68,69,70,72,73,74,75,76,77,79,80,81,82,83,84,85,87,88,89,90,91,92,94,95,96,97,98,99,101,102,103,104,105,106,107,109,110,111,112,113,114,116,117,118,119,120,121,123,124,125,126,127,128,129,131,132,133,134,135,136,138,139,140,141,142,143,145,146,147,148,149,150,151,153,154,155,156,157,158,160,161,162,163,164,165,166,168,169,170,171,172,173,175,176,177,178,179,180,182,183,184,185,186,187,188,190,191,192,193,194,195,197,198,199,200,201,202,204,205,206,207,208,209,210,212,213,214,215,216,217,219,220,221,222,223,224,226,226,226,227,227,227,228,228,228,229,229,229,230,230,231,231,231,232,232,232,233,233,233,234,234,235,235,235,236,236,236,237,237,237,238,238,239,239,239,240,240,240,241,241,241,242,242,243,243,243,244,244,244,245,245,245,246,246,246,247,247,247,248,248,248,249,249,249,250,250,250,251,251,251,252,252,252,253,253,253,254,254,254,255],hY=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,32,33,35,36,37,39,40,42,43,44,46,47,49,50,51,53,54,56,57,58,59,61,62,63,64,66,67,68,69,71,72,73,74,76,77,78,79,81,82,83,84,86,87,88,90,91,92,93,95,96,97,98,100,101,102,103,105,106,107,108,110,111,112,113,115,116,117,118,120,121,122,124,125,126,127,129,130,131,132,134,135,136,137,139,140,141,142,144,145,146,147,149,150,151,152,154,155,156,158,159,160,161,163,164,165,166,168,169,170,171,173,174,175,176,178,179,180,181,183,184,185,186,188,189,190,192,193,194,195,197,198,199,200,202,203,204,205,207,208,209,210,212,213,214,215,217,218,219,220,222,223,224,226,226,226,227,227,228,228,229,229,230,230,231,231,232,232,233,233,234,234,234,235,235,236,236,237,237,238,238,239,239,240,240,241,241,242,242,243,243,243,244,244,244,245,245,245,246,246,246,247,247,247,248,248,248,249,249,249,250,250,250,251,251,251,252,252,252,253,253,253,254,254,254,255],pY=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,35,36,37,38,39,40,41,43,44,45,46,47,48,50,51,52,53,54,55,56,58,59,60,61,62,63,65,66,67,68,69,70,72,73,74,76,77,78,80,81,83,84,85,87,88,89,91,92,94,95,96,98,99,100,102,103,105,106,107,109,110,111,113,114,116,117,118,120,121,122,124,125,127,128,129,131,132,133,135,136,138,139,140,142,143,144,146,147,149,150,151,153,154,155,157,158,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,192,193,193,194,195,195,196,197,197,198,199,199,200,201,201,202,203,203,204,205,205,206,207,207,208,209,209,210,211,211,212,213,213,214,215,215,216,217,217,218,219,219,220,221,221,222,223,223,224,225,225,226,227,227,228,229,229,230,231,231,232,233,233,234,235,235,236,237,237,238,239,239,240,241,241,242,243,243,244,245,245,246,247,247,248,249,249,250,251,251,252,253,253,254,255];class fY extends rY{constructor(e,t,n,r){super(e,lY,n,r),iO(this,"inputTexture",void 0),iO(this,"lightLevel",.1),iO(this,"rednessLevel",.5),iO(this,"mskin_he_max",175/180*3.141593),iO(this,"mskin_he_min",115/180*3.141593),iO(this,"mskin_hc_max",173/180*3.141593),iO(this,"mskin_hc_min",116/180*3.141593),iO(this,"mskin_hc_axis",2.04203545),iO(this,"mfacts_rotate_c",0),iO(this,"mfacts_rotate_le",0),iO(this,"mfacts_rotate_ge",0),iO(this,"tab_addr",null),iO(this,"lutTextures",[]),this.inputTexture=t,this.init()}setUniforms(){const e=this.gl.getUniformLocation(this.program,"u_flipY"),t=this.gl.getUniformLocation(this.program,"u_denoiseLevel");this.gl.uniform1f(t,this.denoiseLevel),this.gl.uniform1f(e,1);const n=this.gl.getUniformLocation(this.program,"light");this.gl.uniform1f(n,this.lightLevel);const r=this.gl.getUniformLocation(this.program,"redness");this.gl.uniform1f(r,this.rednessLevel);const i=this.gl.getUniformLocation(this.program,"skin_he_max"),o=this.gl.getUniformLocation(this.program,"skin_he_min"),a=this.gl.getUniformLocation(this.program,"skin_hc_max"),s=this.gl.getUniformLocation(this.program,"skin_hc_min"),c=this.gl.getUniformLocation(this.program,"skin_hc_axis"),u=this.gl.getUniformLocation(this.program,"facts_rotate_c"),l=this.gl.getUniformLocation(this.program,"facts_rotate_le"),d=this.gl.getUniformLocation(this.program,"facts_rotate_ge");this.gl.uniform1f(i,this.mskin_he_max),this.gl.uniform1f(o,this.mskin_he_min),this.gl.uniform1f(a,this.mskin_hc_max),this.gl.uniform1f(s,this.mskin_hc_min),this.gl.uniform1f(c,this.mskin_hc_axis),this.gl.uniform1f(u,this.mfacts_rotate_c),this.gl.uniform1f(l,this.mfacts_rotate_le),this.gl.uniform1f(d,this.mfacts_rotate_ge);const h=this.gl.getUniformLocation(this.program,"u_originImage");this.gl.activeTexture(this.gl.TEXTURE2),this.gl.bindTexture(this.gl.TEXTURE_2D,this.inputTexture),this.gl.uniform1i(h,2);const p=["lighten_lut"],f=[this.gl.TEXTURE3];for(let e=0;e<p.length;e++){const t=this.gl.getUniformLocation(this.program,p[e]);this.gl.activeTexture(f[e]),this.gl.bindTexture(this.gl.TEXTURE_2D,this.lutTextures[e]),this.gl.uniform1i(t,e+3)}}setParameters(e){void 0!==e.denoiseLevel&&(this.denoiseLevel=e.denoiseLevel),void 0!==e.lightLevel&&(this.lightLevel=e.lightLevel),void 0!==e.rednessLevel&&(this.rednessLevel=e.rednessLevel,this.updateRedness(this.rednessLevel)),e.lighteningContrastLevel&&this.updateLut(e.lighteningContrastLevel)}init(){this.tab_addr=new Uint8Array(hY);const e=[this.tab_addr],t=[256],n=[1];for(let r=0;r<e.length;r++){const i=this.gl.createTexture();if(!i)throw new eN($k.WEBGL_INTERNAL_ERROR,"create lut texture failed");this.gl.bindTexture(this.gl.TEXTURE_2D,i),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.LUMINANCE,t[r],n[r],0,this.gl.LUMINANCE,this.gl.UNSIGNED_BYTE,e[r]),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.lutTextures.push(i)}}updateRedness(e){const t=3.141593;let n,r,i=e,o=i;i>1&&(i=1),i<0&&(i=0),o>1&&(o=1),o<0&&(o=0),this.mfacts_rotate_c=.8*i,o<.8&&(o=0),this.mskin_he_max=175/180*t,this.mskin_hc_max=173/180*t,this.mskin_he_min=(115-4*o)/180*t,this.mskin_hc_min=(116-4*o)/180*t,this.mskin_hc_axis=(117-4*o)/180*t,this.mskin_hc_axis<this.mskin_hc_min&&(this.mskin_hc_axis=this.mskin_hc_min),this.mskin_hc_min<t/2&&(this.mskin_hc_min=t/2),this.mskin_hc_axis<t/2&&(this.mskin_hc_axis=t/2),this.mskin_he_min<t/2&&(this.mskin_he_min=t/2),this.mskin_hc_max>t&&(this.mskin_hc_max=t),this.mskin_hc_axis>t&&(this.mskin_hc_axis=t),this.mskin_he_max>t&&(this.mskin_he_max=t),n=this.mskin_he_max-this.mskin_hc_max,r=this.mskin_hc_max-this.mskin_hc_axis,this.mfacts_rotate_ge=n>.01?this.mfacts_rotate_c*r/n:this.mfacts_rotate_c,n=this.mskin_hc_min-this.mskin_he_min,r=this.mskin_hc_axis-this.mskin_hc_min,this.mfacts_rotate_le=n>.01?this.mfacts_rotate_c*r/n:this.mfacts_rotate_c}updateLut(e){let t=null;if(0===e&&(t=hY),1===e&&(t=pY),2===e&&(t=dY),!t)throw new eN($k.WEBGL_INTERNAL_ERROR,"invalid ylut_table value:"+e);this.tab_addr=new Uint8Array(t);const n=[this.tab_addr],r=[256],i=[1];for(let e=0;e<n.length;e++)this.gl.bindTexture(this.gl.TEXTURE_2D,this.lutTextures[e]),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.LUMINANCE,r[e],i[e],0,this.gl.LUMINANCE,this.gl.UNSIGNED_BYTE,n[e])}}class AY{constructor(){iO(this,"gl",null),iO(this,"canvas",null),iO(this,"programs",[]),iO(this,"commonProgram",null),iO(this,"inputTexture",null),iO(this,"outputTextures",[]),iO(this,"fbos",[]),iO(this,"originalFrameWidth",0),iO(this,"originalFrameHeight",0),iO(this,"enableBeauty",!1),iO(this,"denoiseLevel",5),iO(this,"lightLevel",.35),iO(this,"rednessLevel",.5),iO(this,"lighteningContrastLevel",1)}setEnableBeauty(e){this.enableBeauty=!!e}init(e,t,n){if(!Vx().supportWebGL)throw new eN($k.NOT_SUPPORTED,"your browser is not support webGL");if(this.gl=n.getContext("webgl"),!this.gl)throw new eN($k.WEBGL_INTERNAL_ERROR,"can not get webgl context");if(this.initGL(e,t),!this.inputTexture)throw new eN($k.WEBGL_INTERNAL_ERROR,"can not find input texture");this.canvas=n,this.programs.push(new nY(this.gl)),this.programs.push(new oY(this.gl,e,t)),this.programs.push(new sY(this.gl,e,t)),this.programs.push(new uY(this.gl,e,t)),this.programs.push(new fY(this.gl,this.inputTexture,e,t)),this.commonProgram=this.programs[0].program,this.setDenoiseLevel(this.denoiseLevel),this.setLightLevel(this.lightLevel),this.setRednessLevel(this.rednessLevel),this.setContrastLevel(this.lighteningContrastLevel)}render(e){if(!this.gl||!this.commonProgram||!this.canvas)return void uN.warning("video effect manager is not init!");let t=0;if(this.originalFrameHeight===e.videoWidth&&this.originalFrameWidth===e.videoHeight)t=2;else if(this.originalFrameHeight!==e.videoHeight||this.originalFrameWidth!==e.videoWidth){if(uN.debug("beauty effect: resolution changed ".concat(this.originalFrameWidth,"x").concat(this.originalFrameHeight," -> ").concat(e.videoWidth,"x").concat(e.videoHeight)),0===e.videoHeight||0===e.videoWidth)return void uN.debug("beauty effect: skip 0 resolution frame");this.canvas.width=e.videoWidth,this.canvas.height=e.videoHeight,e.setAttribute("width",e.videoWidth.toString()),e.setAttribute("height",e.videoHeight.toString()),this.release(),this.init(e.videoWidth,e.videoHeight,this.canvas)}this.gl.viewport(0,0,e.videoWidth,e.videoHeight),this.gl.bindTexture(this.gl.TEXTURE_2D,this.inputTexture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,e);const n=this.enableBeauty?this.programs.length-1:0;for(let e=0;e<=n;e++){const n=this.programs[e].program;this.gl.useProgram(n);const r=this.gl.getUniformLocation(n,"u_image");this.programs[e].setUniforms(),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.fbos[t+e%2]),this.gl.clearColor(0,0,0,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.drawArrays(this.gl.TRIANGLES,0,6),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,this.outputTextures[t+e%2]),this.gl.uniform1i(r,0)}this.gl.useProgram(this.commonProgram);const r=this.gl.getUniformLocation(this.commonProgram,"u_flipY");this.gl.uniform1f(r,-1),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this.gl.clearColor(0,0,0,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.drawArrays(this.gl.TRIANGLES,0,6)}setDenoiseLevel(e){this.programs.forEach((t=>{t instanceof rY&&t.setParameters({denoiseLevel:e})})),this.denoiseLevel=e}setLightLevel(e){this.programs.forEach((t=>{t instanceof rY&&t.setParameters({lightLevel:e})})),this.lightLevel=e}setRednessLevel(e){this.programs.forEach((t=>{t instanceof rY&&t.setParameters({rednessLevel:e})})),this.rednessLevel=e}setContrastLevel(e){this.programs.forEach((t=>{t instanceof rY&&t.setParameters({lighteningContrastLevel:e})})),this.lighteningContrastLevel=e}setSize(e,t){this.programs.forEach((n=>{n instanceof rY&&n.setSize(e,t)}))}release(){this.gl=null,this.commonProgram=null,this.inputTexture=null,this.programs=[],this.outputTextures=[],this.fbos=[]}initGL(e,t){if(!this.gl)throw new eN($k.WEBGL_INTERNAL_ERROR,"can not find webgl context");this.inputTexture=this.gl.createTexture(),this.gl.bindTexture(this.gl.TEXTURE_2D,this.inputTexture),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR);for(let n=0;n<4;n++){const r=this.gl.createTexture();if(!r)throw new eN($k.WEBGL_INTERNAL_ERROR,"create texture failed");this.gl.bindTexture(this.gl.TEXTURE_2D,r),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),n<2?this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,e,t,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,null):this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,t,e,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,null);const i=this.gl.createFramebuffer();if(!i)throw new eN($k.WEBGL_INTERNAL_ERROR,"create frame buffer failed");this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,i),this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,this.gl.TEXTURE_2D,r,0),this.outputTextures.push(r),this.fbos.push(i)}this.gl.viewport(0,0,e,t),this.originalFrameWidth=e,this.originalFrameHeight=t}}class gY{constructor(){iO(this,"targetFrameRate",0),iO(this,"recordedFrameCount",0),iO(this,"recordingTime",2),iO(this,"recordID",void 0)}async startRecordBeautyEffectOutput(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;if(this.recordID)throw new eN($k.UNEXPECTED_ERROR,"another beauty effect recording is in progress");const n=SG(6,"");return this.recordID=n,this.targetFrameRate=e,this.recordedFrameCount=0,this.recordingTime=t,await CG(1e3*this.recordingTime),this.recordID!==n?(this.recordID=void 0,!0):(this.recordID=void 0,this.recordedFrameCount<this.targetFrameRate*this.recordingTime/2?(uN.warning("detect beauty effect overload, current framerate",this.recordedFrameCount/2),!1):(uN.debug("beauty effect current framerate",this.recordedFrameCount/2),!0))}stopRecordBeautyEffectOutput(){this.targetFrameRate=0,this.recordedFrameCount=0,this.recordID=void 0}addFrame(){this.recordID&&(this.recordedFrameCount+=1)}}class mY extends ZK.exports.VideoProcessor{constructor(){super(),iO(this,"name","BeautyProcessor"),iO(this,"fps",15),iO(this,"canvas",void 0),iO(this,"video",void 0),iO(this,"manager",void 0),iO(this,"overloadDetector",new gY),iO(this,"stopChromeBackgroundLoop",null),iO(this,"onOverload",void 0),iO(this,"stopLoop",void 0),iO(this,"lastRenderTime",0),this.fps=30,this.manager=new AY,this._enabled=!1}async onEnableChange(e){this.manager.setEnableBeauty(e),this.context&&this.inputTrack&&(e?await this.startEffect(this.inputTrack,this.context):await this.stopEffect(this.inputTrack,this.context))}async setBeautyEffectOptions(e){if(function(e){void 0!==e.smoothnessLevel&&XD(e.smoothnessLevel,"options.smoothnessLevel",0,1,!1),void 0!==e.lighteningLevel&&XD(e.lighteningLevel,"options.lighteningLevel",0,1,!1),void 0!==e.rednessLevel&&XD(e.rednessLevel,"options.rednessLevel",0,1,!1),void 0!==e.lighteningContrastLevel&&ZD(e.lighteningContrastLevel,"options.lighteningContrastLevel",[0,1,2])}(e),void 0!==e.smoothnessLevel){const t=Math.max(.1,10*e.smoothnessLevel);this.manager.setDenoiseLevel(t)}if(void 0!==e.lighteningLevel){const t=Math.max(.1,e.lighteningLevel/2);this.manager.setLightLevel(t)}if(void 0!==e.rednessLevel){const t=Math.max(.01,e.rednessLevel);this.manager.setRednessLevel(t)}if(void 0!==e.lighteningContrastLevel){const t=e.lighteningContrastLevel;this.manager.setContrastLevel(t)}}async onTrack(e,t){var n;this.video&&this.enabled&&(null===(n=this.stopLoop)||void 0===n||n.call(this),await this.stopEffect(e,t)),await this.startEffect(e,t)}async startEffect(e,t){if(!this.enabled)return;const n=OT(),r=await this.renderWithWebGL(e);this.output(r,t),uN.info("start video effect, output:",this.outputTrack),this.overloadDetector.startRecordBeautyEffectOutput(this.fps).then((e=>{e||this.onOverload&&this.onOverload()}));let i=!1;this.stopLoop=()=>{i=!0};const o=()=>{this.enabled&&!i&&requestAnimationFrame(o);const e=Date.now(),t=1e3/this.fps,n=this.lastRenderTime?e-this.lastRenderTime:t;n<t||(this.lastRenderTime=e-(n-t),this.video&&this.video.paused&&this.video.play(),this.enabled&&this.video&&(this.manager.render(this.video),this.outputTrack&&this.outputTrack.requestFrame&&this.outputTrack.requestFrame(),this.overloadDetector.addFrame()))};requestAnimationFrame(o),n.name===ST.CHROME&&document.addEventListener("visibilitychange",(()=>{document.hidden?this.stopChromeBackgroundLoop=FV((()=>{this.enabled&&this.video&&this.manager.render(this.video),this.outputTrack&&this.outputTrack.requestFrame&&this.outputTrack.requestFrame(),this.overloadDetector.addFrame()}),this.fps):this.stopChromeBackgroundLoop&&(this.stopChromeBackgroundLoop(),this.stopChromeBackgroundLoop=null)}),!1)}async renderWithWebGL(e){this.canvas&&(this.canvas.remove(),this.canvas=void 0),this.video&&(this.video.remove(),this.video=void 0),this.canvas=document.createElement("canvas"),this.video=document.createElement("video"),this.video.setAttribute("autoplay",""),this.video.setAttribute("muted",""),this.video.muted=!0,this.video.setAttribute("playsinline",""),this.video.setAttribute("style","display:none"),this.video.srcObject=new MediaStream([e]);const t=new LC((e=>{const t=()=>{this.video&&this.video.removeEventListener("playing",t),e(void 0)};this.video&&this.video.addEventListener("playing",t)}));this.video.play(),await t;const n=e.getSettings(),r=n.width||this.video.videoWidth,i=n.height||this.video.videoHeight;if(n.frameRate&&this.fps!==n.frameRate&&(this.fps=n.frameRate,uN.debug("beauty video processor: set fps to",this.fps)),uN.debug("beauty video processor: width ".concat(r," height ").concat(i)),!r||!i)throw new eN($k.BEAUTY_PROCESSOR_INTERNAL_ERROR,"can not get track resolution");this.canvas.width=r,this.canvas.height=i,this.video.setAttribute("width",r.toString()),this.video.setAttribute("height",i.toString()),this.manager.init(r,i,this.canvas);const o=Vx();return this.canvas.captureStream(o.supportRequestFrame?0:this.fps).getVideoTracks()[0]}async stopEffect(e,t){uN.info("stop video effect"),this.overloadDetector.stopRecordBeautyEffectOutput(),this.manager.release(),this.canvas&&this.canvas.remove(),this.video&&this.video.remove(),this.canvas=void 0,this.video=void 0,this.output(e,t)}}function vY(e){const t={};if(e.facingMode&&(t.facingMode=e.facingMode),e.cameraId&&(t.deviceId={exact:e.cameraId}),!e.encoderConfig)return t;const n=QN(e.encoderConfig);return t.width=n.width,t.height=n.height,!KT()&&n.frameRate&&(t.frameRate=n.frameRate),OT().name===ST.EDGE&&"object"==typeof t.frameRate&&(t.frameRate.max=60),BT()&&(t.frameRate={ideal:30,max:30}),t}function yY(e){const t={};e.screenSourceType&&(t.mediaSource=e.screenSourceType),e.extensionId&&LT()&&(t.extensionId=e.extensionId),e.electronScreenSourceId&&(t.sourceId=e.electronScreenSourceId);const n=e.encoderConfig?GN(e.encoderConfig):null;return t.mandatory={chromeMediaSource:"desktop",maxWidth:n?n.width:void 0,maxHeight:n?n.height:void 0},n&&n.frameRate&&("number"==typeof n.frameRate?(t.mandatory.maxFrameRate=n.frameRate,t.mandatory.minFrameRate=n.frameRate):(t.mandatory.maxFrameRate=n.frameRate.max||n.frameRate.ideal||n.frameRate.exact||void 0,t.mandatory.minFrameRate=n.frameRate.min||n.frameRate.ideal||n.frameRate.exact||void 0),t.frameRate=n.frameRate),n&&n.width&&(t.width=n.width),n&&n.height&&(t.height=n.height),t}function EY(e){const t={};if(KT()||(void 0!==e.AGC&&(t.autoGainControl=e.AGC),void 0!==e.AEC&&(t.echoCancellation=e.AEC),void 0!==e.ANS&&(t.noiseSuppression=e.ANS,LT()&&e.ANS&&(t.googHighpassFilter=e.ANS))),e.encoderConfig){const n=zN(e.encoderConfig);t.channelCount=n.stereo?2:1,t.sampleRate=n.sampleRate,t.sampleSize=n.sampleSize}return e.microphoneId&&(t.deviceId={exact:e.microphoneId}),JT()&&(t.sampleRate=void 0),t}var bY,_Y;!function(e){e.COVERED="COVERED",e.POSITION="POSITION",e.SIZE="SIZE",e.STYLE="STYLE"}(bY||(bY={})),function(e){e.UNMOUNTED="UNMOUNTED",e.INVALID_HTML_ELEMENT="INVALID_HTML_ELEMENT"}(_Y||(_Y={}));var CY,IY,SY,wY,RY,TY,OY,kY,NY,DY,PY,xY,LY,MY,BY,FY,UY,jY,VY,QY,GY,qY,HY,zY,WY,KY,YY=new class{constructor(){iO(this,"_clientSize",null),iO(this,"getClientWidth",(()=>document.documentElement?document.documentElement.clientWidth:document.body.clientWidth)),iO(this,"getClientHeight",(()=>document.documentElement?document.documentElement.clientHeight:document.body.clientHeight)),iO(this,"getStyle",(e=>window.getComputedStyle(e,null))),iO(this,"checkCssVisibleProperty",(e=>{let t=!0;const n=this.getStyle(e),{display:r,visibility:i,opacity:o,filter:a}=n;return("none"===r||["hidden","collapse"].includes(i)||Number(o)<.1)&&(t=!1),!!t&&(a&&a.split(" ").filter((e=>{const t=e.split("(")[0];return["brightness","blur","opacity"].includes(t)})).map((e=>{const[t,n]=e.split(/\(|\)/);return[t,Number(n.match(/^[0-9\.]+/))]})).forEach((e=>{const[n,r]=e;switch(n){case"brightness":(r<.1||r>3)&&(t=!1);break;case"blur":r>3&&(t=!1);break;case"opacity":r<.1&&(t=!1)}})),t)})),iO(this,"checkPropertyUpToAllParentNodes",((e,t)=>{let n=!0,r=!0;const i=e=>t(e);let o=e;for(;o&&r;)i(o)||(n=!1,r=!1),o=o.parentElement,o||(r=!1);return n})),iO(this,"checkActualCssVisibleIncludeInherit",(e=>this.checkPropertyUpToAllParentNodes(e,this.checkCssVisibleProperty))),iO(this,"getSizeAboutClient",(e=>{const{width:t,height:n,left:r,right:i,top:o,bottom:a}=e.getBoundingClientRect(),s=this.getClientWidth(),c=this.getClientHeight();return{width:t,height:n,left:r,right:i,top:o,bottom:a,clientWidth:s,clientHeight:c,clientMin:Math.min(s,c)}})),iO(this,"checkActualSize",(()=>{const{width:e,height:t,clientMin:n}=this._clientSize;return this.checkSizeIsVisible(e,t,n)})),iO(this,"elementFromPoint",((e,t)=>document.elementFromPoint?document.elementFromPoint(e,t):null)),iO(this,"checkCoverForAPoint",((e,t,n)=>{const r=this.elementFromPoint(e,t);return null!==r&&r!==n})),iO(this,"getPointPositionList",(()=>{const{width:e,height:t,left:n,top:r}=this._clientSize,i=e/6,o=t/6,a=[],s=10**6;for(let e=0;e<5;e++)for(let t=0;t<5;t++){const c=(n*s+(0===e?.1:4===e?(i*e*s-1e5)/s:i*e)*s)/s,u=(r*s+(0===t?.1:4===t?(o*t*s-1e5)/s:o*t)*s)/s;a.push({x:c,y:u})}return[...a]})),iO(this,"checkElementCover",(e=>this.getPointPositionList().map((t=>this.checkCoverForAPoint(t.x,t.y,e))).filter((e=>!!e)).length>6)),iO(this,"checkSizeIsVisible",((e,t,n)=>(e>50||n/e<=10)&&(t>50||n/t<=10))),iO(this,"checkSizeOfPartInClient",(()=>{const{left:e,right:t,top:n,bottom:r,clientHeight:i,clientWidth:o,clientMin:a}=this._clientSize;let s,c,u,l;if(e<0)s=0;else{if(!(e<o))return!1;s=e}if(t<0)return!1;if(c=t<o?t:o,n<0)u=0;else{if(!(n<i))return!1;u=n}if(r<0)return!1;l=r<i?r:i;const d=c-s,h=l-u;return this.checkSizeIsVisible(d,h,a)})),iO(this,"returnHiddenResult",(e=>(this._clientSize=null,{visible:!1,reason:e}))),iO(this,"checkOneElementVisible",(e=>{if(e instanceof HTMLElement){if(this.checkElementIsMountedOnDom(e)){if(this.checkActualCssVisibleIncludeInherit(e)){if(this._clientSize=this.getSizeAboutClient(e),this.checkElementCover(e))return this.returnHiddenResult(bY.COVERED);{const e=this.checkActualSize(),t=this.checkSizeOfPartInClient();return e&&!t?this.returnHiddenResult(bY.POSITION):e?(this._clientSize=null,{visible:!0}):this.returnHiddenResult(bY.SIZE)}}return this.returnHiddenResult(bY.STYLE)}return this.returnHiddenResult(_Y.UNMOUNTED)}return this.returnHiddenResult(_Y.INVALID_HTML_ELEMENT)})),iO(this,"checkElementIsMountedOnDom",(e=>this.checkPropertyUpToAllParentNodes(e,(e=>"HTML"!==e.nodeName.toUpperCase()?null!==e.parentElement:!!document.documentElement))))}};function JY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ZY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JY(Object(n),!0).forEach((function(t){iO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let XY=(CY=PN("LocalVideoTrack","getTrackId"),IY=aQ(),SY=wV("LocalVideoTrack","_enabledMutex"),wY=vV({className:"LocalVideoTrack"}),RY=aQ(),TY=wV("LocalVideoTrack","_enabledMutex"),OY=vV({className:"LocalVideoTrack"}),kY=aQ(),NY=aQ(),DY=aQ(),PY=aQ(),xY=aQ(),LY=aQ(),MY=aQ(),BY=aQ(),FY=aQ(),CY((zj((jY=class e extends RV{get isPlaying(){return!(!this._player||this._player.videoElementStatus!==lP.PLAYING)}constructor(e,t,n,r,i,o){super(e,i),iO(this,"trackMediaType","video"),iO(this,"_player",void 0),iO(this,"_videoBeautyProcessor",void 0),iO(this,"_videoVisibleTimer",null),iO(this,"_previousVideoVisibleStatus",void 0),iO(this,"_clearPreviousVideoVisibleStatus",(()=>this._previousVideoVisibleStatus=void 0)),iO(this,"_encoderConfig",void 0),iO(this,"_scalabiltyMode",{numSpatialLayers:1,numTemporalLayers:1}),iO(this,"_optimizationMode",void 0),iO(this,"_videoHeight",void 0),iO(this,"_videoWidth",void 0),iO(this,"_forceBitrateLimit",void 0),iO(this,"_enabled",!0),iO(this,"processorDestination",void 0),iO(this,"processorContext",void 0),this.updateMediaStreamTrackResolution(),this._encoderConfig=t,this._scalabiltyMode=n,this._optimizationMode=r,this._hints=o||[],-1===this._hints.indexOf(fx.SCREEN_TRACK)&&this.updateBitrateFromProfile(),this.processorContext=new zQ(this.getTrackId()),this.processorDestination=new HQ(this.processorContext),this.bindProcessorDestinationEvents()}play(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=yV.reportApiInvoke(null,{tag:yP.TRACER,name:vP.LOCAL_VIDEO_TRACK_PLAY,options:[this.getTrackId(),"string"==typeof e?e:"HTMLElement",t]});if("string"==typeof e){const t=document.getElementById(e);t?e=t:(uN.warning("[".concat(this.getTrackId(),'] can not find "#').concat(e,'" element, use document.body')),wN("warning",this,'can not find "#'.concat(e,'" element, use document.body')),e=document.body)}uN.debug("[".concat(this.getTrackId(),"] start video playback"),JSON.stringify(t)),kN("debug",this,"play",t);const r=ZY(ZY(ZY({},this._getDefaultPlayerConfig()),t),{},{trackId:this.getTrackId(),element:e});this._player?this._player.updateConfig(r):(this._player=new KK(r),this._player.updateVideoTrack(this._mediaStreamTrack)),this._player.play(),this._videoVisibleTimer&&window.clearInterval(this._videoVisibleTimer),this._clearPreviousVideoVisibleStatus(),this._videoVisibleTimer=window.setInterval((()=>{try{const e=this.getVideoElementVisibleStatus();this.emit(mx.VIDEO_ELEMENT_VISIBLE_STATUS,e)}catch(e){}}),KN("CHECK_VIDEO_VISIBLE_INTERVAL")),n.onSuccess()}stop(){const e=yV.reportApiInvoke(null,{tag:yP.TRACER,name:vP.LOCAL_VIDEO_TRACK_STOP,options:[this.getTrackId()]});if(!this._player)return e.onSuccess();this._videoVisibleTimer&&(window.clearInterval(this._videoVisibleTimer),this._videoVisibleTimer=null),this._clearPreviousVideoVisibleStatus(),this._player.destroy(),this._player=void 0,uN.debug("[".concat(this.getTrackId(),"] stop video playback")),kN("debug",this,"stop"),e.onSuccess()}async setEnabled(e,t){if(!t){if(e===this._enabled)return;this.stateCheck("enabled",e)}if(uN.info("[".concat(this.getTrackId(),"] start setEnabled"),e),kN("info",this,"setEnabled",e),!e){this._originMediaStreamTrack.enabled=!1;try{await NG(this,px.NEED_DISABLE_TRACK,this)}catch(t){throw uN.error("[".concat(this.getTrackId(),"] setEnabled to false error"),t.toString()),kN("error",this,"setEnabled",e,t.toString()),t}return t||(this._enabled=!1),uN.info("[".concat(this.getTrackId(),"] setEnabled to false success")),void kN("info",this,"setEnabled",e,"success")}this._originMediaStreamTrack.enabled=!0;try{await NG(this,px.NEED_ENABLE_TRACK,this)}catch(t){throw uN.error("[".concat(this.getTrackId(),"] setEnabled to true error"),t.toString()),kN("error",this,"setEnabled",e,t.toString()),t}uN.info("[".concat(this.getTrackId(),"] setEnabled to true success")),kN("info",this,"setEnabled",e,"success"),t||(this._enabled=!0)}async setMuted(e){e!==this._muted&&(this.stateCheck("muted",e),this._muted=e,this._originMediaStreamTrack.enabled=!e,uN.debug("[".concat(this.getTrackId(),"] start set muted: ").concat(e)),kN("debug",this,"setMuted",e),e?await NG(this,px.NEED_MUTE_TRACK,this):await NG(this,px.NEED_UNMUTE_TRACK,this))}getStats(){return UG((()=>{uN.warning("[deprecated] LocalVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalVideoStats instead"),wN("warning",this,"[deprecated] LocalVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalVideoStats instead")}),"localVideoTrackGetStatsWarning"),DG(this,px.GET_STATS)||ZY({},qP)}async setBeautyEffect(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=yV.reportApiInvoke(null,{tag:yP.TRACER,name:vP.LOCAL_VIDEO_TRACK_BEAUTY,options:[this.getTrackId(),e,t]});if(e||this._videoBeautyProcessor){if(PT()===IT.IOS||PT()===IT.ANDROID){const e=new eN($k.INVALID_OPERATION,"can not enable beauty effect on mobile device");throw n.onError(e),e}if(!this._enabled&&e){const e=new eN($k.TRACK_IS_DISABLED,"can not enable beauty effect when track is disabled");throw n.onError(e),e}if(uN.info("[".concat(this.getTrackId(),"] start setBeautyEffect"),e,JSON.stringify(t)),kN("info",this,"setBeautyEffect",[e,t]),this._videoBeautyProcessor||e){try{if(!this._videoBeautyProcessor)if(this._videoBeautyProcessor=new mY,this.processor){const e=this.processor;this.pipe(this._videoBeautyProcessor).pipe(e)}else this.pipe(this._videoBeautyProcessor).pipe(this.processorDestination);await this._videoBeautyProcessor.setBeautyEffectOptions(t),e?await this._videoBeautyProcessor.enable():await this._videoBeautyProcessor.disable()}catch(r){throw uN.error("[".concat(this.getTrackId(),"] setBeautyEffect error"),r.toString()),kN("info",this,"setBeautyEffect",[e,t]),n.onError(r),r}uN.info("[".concat(this.getTrackId(),"] setBeautyEffect success")),kN("info",this,"setBeautyEffect",[e,t],"success"),n.onSuccess()}else n.onSuccess()}}getCurrentFrameData(){return this._player?this._player.getCurrentFrame():new ImageData(2,2)}async getCurrentFrameImage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._player?this._player.getCurrentFrameToUint8Array(e,t):await HK(e)}clone(t,n,r,i){const o=this._mediaStreamTrack.clone();return new e(o,t,n,r,i)}async setBitrateLimit(e){if(uN.debug("[".concat(this.getTrackId(),"] set bitrate limit, ").concat(JSON.stringify(e))),kN("debug",this,"setBitrateLimit",e),e){this._forceBitrateLimit=e,this._encoderConfig&&(this._encoderConfig.bitrateMax?this._encoderConfig.bitrateMax=this._encoderConfig.bitrateMax<e.max_bitrate?this._encoderConfig.bitrateMax:e.max_bitrate:this._encoderConfig.bitrateMax=e.max_bitrate,this._encoderConfig.bitrateMin,this._encoderConfig.bitrateMin=e.min_bitrate);try{await NG(this,px.NEED_UPDATE_VIDEO_ENCODER,this)}catch(e){return e.throw()}}}async setOptimizationMode(e){if("motion"!==e&&"detail"!==e&&"balanced"!==e)return uN.error($k.INVALID_PARAMS,"optimization mode must be motion, detail or balanced"),void kN("error",this,"setOptimizationMode",e,$k.INVALID_PARAMS);const t=this._optimizationMode;try{this._optimizationMode=e,await NG(this,px.SET_OPTIMIZATION_MODE,this)}catch(n){throw this._optimizationMode=t,uN.error("[".concat(this.getTrackId(),"] set optimization mode failed"),n.toString()),kN("error",this,"setOptimizationMode",e,n.toString()),n}uN.info("[".concat(this.getTrackId(),"] set optimization mode success (").concat(e,")")),kN("info",this,"setOptimizationMode",e,"success")}setScalabiltyMode(e){if(1===e.numSpatialLayers&&1!==e.numTemporalLayers)return uN.error($k.INVALID_PARAMS,"scalability mode currently not supported, no SVC."),kN("error",this,"setScalabiltyMode",e,$k.INVALID_PARAMS),void(this._scalabiltyMode={numSpatialLayers:1,numTemporalLayers:1});this._scalabiltyMode=e,uN.info("[".concat(this.getTrackId(),"] set scalability mode success (").concat(e,")")),kN("info",this,"setScalabiltyMode",e,"success")}updateMediaStreamTrackResolution(){TG(this._originMediaStreamTrack).then((e=>{let[t,n]=e;this._videoHeight=n,this._videoWidth=t})).catch(RG)}_updatePlayerSource(){this._player&&this._player.updateVideoTrack(this._mediaStreamTrack)}_getDefaultPlayerConfig(){return{fit:"contain"}}updateBitrateFromProfile(){if(!this._encoderConfig)return;const{width:e,height:t,frameRate:n}=this.getMediaStreamTrackSettings();if(!e||!t||!n)return;const[r,i]=function(e,t,n){const r=KN("BITRATE_ADAPTER_TYPE");let i;const o=200*Math.pow(n/15,.6)*Math.pow(e*t/640/360,.75),a=o;if("STANDARD_BITRATE"===r)i=4*o;else{if("COMPATIABLE_BITRATE"!==r)return;i=2*o}return[Math.floor(i),Math.floor(a)]}(e,t,n)||[void 0,void 0];this._encoderConfig.bitrateMin||this._encoderConfig.bitrateMax||(this._encoderConfig.bitrateMin=i,this._encoderConfig.bitrateMax=r,uN.debug("[".concat(this.getTrackId(),"] update bitrate from profile, [w: ").concat(e,", h: ").concat(t,", fps: ").concat(n,"] => [brMax: ").concat(r,", brMin: ").concat(i,"]")),kN("debug",this,"updateBitrateFromProfile",void 0,"[w: ".concat(e,", h: ").concat(t,", fps: ").concat(n,"] => [brMax: ").concat(r,", brMin: ").concat(i,"]")))}getVideoElementVisibleStatus(){try{var e,t;const n=null==this||null===(e=this._player)||void 0===e?void 0:e.getContainerElement(),r={track:this,element:null==this||null===(t=this._player)||void 0===t?void 0:t.getVideoElement(),slot:null==n?void 0:n.parentElement},{element:i,slot:o}=r;if(this.isPlaying&&i instanceof HTMLVideoElement&&o instanceof HTMLElement){const e=YY.checkOneElementVisible(i),t=Object.assign({},e);if(t.visible!==this._previousVideoVisibleStatus){this._previousVideoVisibleStatus=t.visible;const e=yV.reportApiInvoke(null,{tag:yP.TRACER,name:vP.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE,options:[this.getTrackId()]});t.visible?e.onSuccess("Video is visible"):e.onSuccess("Invisible because of ".concat(t.reason))}return t}return}catch(e){throw new eN($k.GET_VIDEO_ELEMENT_VISIBLE_ERROR,e.message)}}async renewMediaStreamTrack(e){}pipe(e){if(this._videoBeautyProcessor&&e!==this._videoBeautyProcessor)return this._videoBeautyProcessor.pipe(e);if(this.processor===e)return e;if(e._source)throw new eN($k.INVALID_OPERATION,"Processor ".concat(e.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}),e}unpipe(){if(!this.processor)return;if(this._videoBeautyProcessor&&this.processor===this._videoBeautyProcessor)return void this._videoBeautyProcessor.unpipe();const e=this.processor;this.processor._source=void 0,this.processor=void 0,e.reset()}close(){super.close(),this.unbindProcessorDestinationEvents(),this.unbindProcessorContextEvents(),this.unpipe(),this.processorDestination._source&&this.processorDestination._source.unpipe()}bindProcessorDestinationEvents(){this.processorDestination.on(Lx.ON_TRACK,(async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource(),await NG(this,px.NEED_REPLACE_TRACK,this)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await NG(this,px.NEED_REPLACE_TRACK,this))}))}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(Lx.ON_TRACK)}unbindProcessorContextEvents(){this.processorContext.removeAllListeners(Mx.REQUEST_UPDATE_CONSTRAINTS),this.processorContext.removeAllListeners(Mx.REQUEST_CONSTRAINTS)}}).prototype,"play",[IY],Object.getOwnPropertyDescriptor(jY.prototype,"play"),jY.prototype),zj(jY.prototype,"setEnabled",[SY,wY,RY],Object.getOwnPropertyDescriptor(jY.prototype,"setEnabled"),jY.prototype),zj(jY.prototype,"setMuted",[TY,OY,kY],Object.getOwnPropertyDescriptor(jY.prototype,"setMuted"),jY.prototype),zj(jY.prototype,"getStats",[NY],Object.getOwnPropertyDescriptor(jY.prototype,"getStats"),jY.prototype),zj(jY.prototype,"setBeautyEffect",[DY],Object.getOwnPropertyDescriptor(jY.prototype,"setBeautyEffect"),jY.prototype),zj(jY.prototype,"getCurrentFrameData",[PY],Object.getOwnPropertyDescriptor(jY.prototype,"getCurrentFrameData"),jY.prototype),zj(jY.prototype,"getCurrentFrameImage",[xY],Object.getOwnPropertyDescriptor(jY.prototype,"getCurrentFrameImage"),jY.prototype),zj(jY.prototype,"setBitrateLimit",[LY],Object.getOwnPropertyDescriptor(jY.prototype,"setBitrateLimit"),jY.prototype),zj(jY.prototype,"setOptimizationMode",[MY],Object.getOwnPropertyDescriptor(jY.prototype,"setOptimizationMode"),jY.prototype),zj(jY.prototype,"setScalabiltyMode",[BY],Object.getOwnPropertyDescriptor(jY.prototype,"setScalabiltyMode"),jY.prototype),zj(jY.prototype,"updateMediaStreamTrackResolution",[FY],Object.getOwnPropertyDescriptor(jY.prototype,"updateMediaStreamTrackResolution"),jY.prototype),UY=jY))||UY),$Y=(VY=PN("CameraVideoTrack","getTrackId"),QY=aQ(),GY=wV("CameraVideoTrack","_enabledMutex"),qY=vV({className:"CameraVideoTrack"}),HY=aQ(),zY=aQ(),VY((zj((KY=class extends XY{constructor(e,t,n,r,i,o){super(e,t.encoderConfig?QN(t.encoderConfig):{},r,i,o),iO(this,"_config",void 0),iO(this,"_originalConstraints",void 0),iO(this,"_constraints",void 0),iO(this,"_enabled",!0),iO(this,"_deviceName","default"),iO(this,"tryResumeVideoForIOS15WeChat",(async()=>{QT()&&!HT()&&WT()&&this._enabled&&!this._isClosed&&(uN.debug("[".concat(this.getTrackId(),"] try capture camera media device for interrupted iOS 15 device on WeChat.")),await this.renewMediaStreamTrack())})),DN("info",this,"constructor",{trackId:o,deviceId:e.label,constraints:n,config:t}),this._config=t,this._originalConstraints=n,this._constraints=n,this._deviceName=e.label,this._config.encoderConfig&&(this._encoderConfig=QN(this._config.encoderConfig)),xV.on(bV.IOS_15_INTERRUPTION_END,this.tryResumeVideoForIOS15WeChat),xV.on(bV.IOS_INTERRUPTION_END,this.tryResumeVideoForIOS15WeChat),this.bindProcessorContextEvents()}async setDevice(e){const t=yV.reportApiInvoke(null,{tag:yP.TRACER,name:vP.CAM_VIDEO_TRACK_SET_DEVICE,options:[this.getTrackId(),e]});if(uN.info("[".concat(this.getTrackId(),"] set device to ").concat(e)),kN("info",this,"setDevice",e),this._enabled)try{const n=await tQ.getDeviceById(e),r={};r.video=ZY({},this._constraints),r.video.deviceId={exact:e},r.video.facingMode=void 0,this._originMediaStreamTrack.stop();let i=null;try{i=await ZV(r,this.getTrackId())}catch(t){throw uN.error("[".concat(this.getTrackId(),"] setDevice failed"),t.toString()),kN("error",this,"setDevice",e,t.toString()),i=await ZV({video:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(i.getVideoTracks()[0],!1),t}await this._updateOriginMediaStreamTrack(i.getVideoTracks()[0],!1),this.updateMediaStreamTrackResolution(),this._deviceName=n.label,this._config.cameraId=e,this._constraints.deviceId={exact:e}}catch(n){throw t.onError(n),uN.error("[".concat(this.getTrackId(),"] setDevice error"),n.toString()),kN("error",this,"setDevice",e,n.toString()),n}else try{const t=await tQ.getDeviceById(e);this._deviceName=t.label,this._config.cameraId=e,this._constraints.deviceId={exact:e}}catch(n){throw t.onError(n),uN.error("[".concat(this.getTrackId(),"] setDevice error"),n.toString()),kN("error",this,"setDevice",e,n.toString()),n}uN.info("[".concat(this.getTrackId(),"] setDevice success")),kN("info",this,"setDevice",e,"success"),t.onSuccess()}async setEnabled(e,t){if(!t){if(e===this._enabled)return;this.stateCheck("enabled",e)}if(uN.info("[".concat(this.getTrackId(),"] start setEnabled"),e),kN("info",this,"setEnabled",e),!e){this._originMediaStreamTrack.onended=null,this._originMediaStreamTrack.stop(),t||(this._enabled=!1);try{await NG(this,px.NEED_DISABLE_TRACK,this)}catch(t){throw uN.error("[".concat(this.getTrackId(),"] setEnabled to false error"),t.toString()),kN("error",this,"setEnabled",e,t.toString()),t}return uN.info("[".concat(this.getTrackId(),"] setEnabled to false success")),void kN("info",this,"setEnabled",e,"success")}const n=ZY({},this._constraints),r=tQ.searchDeviceIdByName(this._deviceName);r&&!n.deviceId&&(n.deviceId={exact:r});try{const e=await ZV({video:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(e.getVideoTracks()[0],!1),await NG(this,px.NEED_ENABLE_TRACK,this)}catch(t){throw uN.error("[".concat(this.getTrackId(),"] setEnabled true error"),t.toString()),kN("error",this,"setEnabled",e,t.toString()),t}this.updateMediaStreamTrackResolution(),uN.info("[".concat(this.getTrackId(),"] setEnabled to true success")),kN("info",this,"setEnabled",e,"success"),t||(this._enabled=!0)}async setEncoderConfiguration(e,t){const n=yV.reportApiInvoke(null,{tag:yP.TRACER,name:vP.CAM_VIDEO_TRACK_SET_ENCODER_CONFIG,options:[this.getTrackId(),e]});if(!this._enabled){const e=new eN($k.TRACK_IS_DISABLED,"can not set encoder configuration when track is disabled");throw n.onError(e),e}e=QN(e),this._forceBitrateLimit&&(e.bitrateMax=this._forceBitrateLimit.max_bitrate?this._forceBitrateLimit.max_bitrate:e.bitrateMax,e.bitrateMin=this._forceBitrateLimit.min_bitrate?this._forceBitrateLimit.min_bitrate:e.bitrateMin);const r=BG(this._config);r.encoderConfig=e;const i=vY(r);(MT()||FT()||zT())&&(i.deviceId=void 0),uN.debug("[".concat(this.getTrackId(),"] setEncoderConfiguration applyConstraints"),JSON.stringify(e),JSON.stringify(i)),kN("debug",this,"setEncoderConfiguration",e);try{await this._originMediaStreamTrack.applyConstraints(i),this.updateMediaStreamTrackResolution()}catch(e){const t=new eN($k.UNEXPECTED_ERROR,e.toString());throw uN.error("[".concat(this.getTrackId(),"] applyConstraints error"),t.toString()),kN("error",this,"setEncoderConfiguration",e.toString()),n.onError(t),t}this._config=r,this._constraints=i,this._originalConstraints=i,this._encoderConfig=e,-1===this._hints.indexOf(fx.SCREEN_TRACK)&&this.updateBitrateFromProfile();try{await NG(this,px.NEED_UPDATE_VIDEO_ENCODER,this)}catch(e){return n.onError(e),e.throw()}n.onSuccess()}_getDefaultPlayerConfig(){return{mirror:!0,fit:"cover"}}onTrackEnded(){if((FT()||zT())&&this._enabled&&!this._isClosed&&xV.duringInterruption){const e=async()=>{xV.off(bV.IOS_INTERRUPTION_END,e),this._enabled&&!this._isClosed&&(uN.debug("[".concat(this.getTrackId(),"] try capture camera media device for interrupted iOS device.")),wN("debug",this,"try capture camera media device for interrupted iOS device."),await this.setEnabled(!1),await this.setEnabled(!0))};xV.on(bV.IOS_INTERRUPTION_END,e)}else uN.debug("[".concat(this.getTrackId(),"] track ended")),ON("debug",["MediaStreamTrack",this.getTrackId()],"ended"),this.emit(mx.TRACK_ENDED)}async renewMediaStreamTrack(e){const t=e||this._constraints,n=tQ.searchDeviceIdByName(this._deviceName);n&&!t.deviceId&&(t.deviceId={exact:n});const r=await ZV({video:t},this.getTrackId());this._constraints=t,await this._updateOriginMediaStreamTrack(r.getVideoTracks()[0],!0),this.updateMediaStreamTrackResolution()}close(){super.close(),xV.off(bV.IOS_15_INTERRUPTION_END,this.tryResumeVideoForIOS15WeChat),xV.off(bV.IOS_INTERRUPTION_END,this.tryResumeVideoForIOS15WeChat)}bindProcessorContextEvents(){this.processorContext.on(Mx.REQUEST_UPDATE_CONSTRAINTS,(async(e,t,n)=>{try{const n=Object.assign({},this._originalConstraints,...e);await this.renewMediaStreamTrack(n),t()}catch(e){n(e)}})),this.processorContext.on(Mx.REQUEST_CONSTRAINTS,(async e=>{e(this._originMediaStreamTrack.getSettings())}))}}).prototype,"setDevice",[QY],Object.getOwnPropertyDescriptor(KY.prototype,"setDevice"),KY.prototype),zj(KY.prototype,"setEnabled",[GY,qY,HY],Object.getOwnPropertyDescriptor(KY.prototype,"setEnabled"),KY.prototype),zj(KY.prototype,"setEncoderConfiguration",[zY],Object.getOwnPropertyDescriptor(KY.prototype,"setEncoderConfiguration"),KY.prototype),WY=KY))||WY);class eJ{get hasVideo(){return this._video_enabled_&&!this._video_muted_&&this._video_added_}get hasAudio(){return this._audio_enabled_&&!this._audio_muted_&&this._audio_added_}get audioTrack(){if(this.hasAudio)return this._audioTrack}get videoTrack(){if(this.hasVideo)return this._videoTrack}constructor(e,t){iO(this,"uid",void 0),iO(this,"_uintid",void 0),iO(this,"_trust_in_room_",!0),iO(this,"_trust_audio_enabled_state_",!0),iO(this,"_trust_video_enabled_state_",!0),iO(this,"_trust_audio_mute_state_",!0),iO(this,"_trust_video_mute_state_",!0),iO(this,"_audio_muted_",!1),iO(this,"_video_muted_",!1),iO(this,"_audio_enabled_",!0),iO(this,"_video_enabled_",!0),iO(this,"_audio_added_",!1),iO(this,"_video_added_",!1),iO(this,"_trust_video_stream_added_state_",!0),iO(this,"_trust_audio_stream_added_state_",!0),iO(this,"_audioTrack",void 0),iO(this,"_videoTrack",void 0),iO(this,"_audioSSRC",void 0),iO(this,"_videoSSRC",void 0),iO(this,"_audioOrtc",void 0),iO(this,"_videoOrtc",void 0),iO(this,"_cname",void 0),iO(this,"_rtxSsrcId",void 0),this.uid=e,this._uintid=t}}var tJ=xC,nJ=Pb,rJ=Vb;Bd({target:"Promise",stat:!0},{try:function(e){var t=nJ.f(this),n=rJ(e);return(n.error?t.reject:t.resolve)(n.value),t.promise}});var iJ=tJ,oJ=Bd,aJ=Dc,sJ=_c,cJ=jU,uJ=pu,lJ=il,dJ=Gd,hJ=sD,pJ=WU,fJ=wj,AJ=Ru,gJ=Cl("isConcatSpreadable"),mJ=9007199254740991,vJ="Maximum allowed index exceeded",yJ=aJ.TypeError,EJ=AJ>=51||!sJ((function(){var e=[];return e[gJ]=!1,e.concat()[0]!==e})),bJ=fJ("concat"),_J=function(e){if(!uJ(e))return!1;var t=e[gJ];return void 0!==t?!!t:cJ(e)};oJ({target:"Array",proto:!0,forced:!EJ||!bJ},{concat:function(e){var t,n,r,i,o,a=lJ(this),s=pJ(a,0),c=0;for(t=-1,r=arguments.length;t<r;t++)if(_J(o=-1===t?a:arguments[t])){if(c+(i=dJ(o))>mJ)throw yJ(vJ);for(n=0;n<i;n++,c++)n in o&&hJ(s,c,o[n])}else{if(c>=mJ)throw yJ(vJ);hJ(s,c++,o)}return s.length=c,s}});var CJ={},IJ=eu,SJ=du,wJ=JA.f,RJ=pD,TJ="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];CJ.f=function(e){return TJ&&"Window"==IJ(e)?function(e){try{return wJ(e)}catch(e){return RJ(TJ)}}(e):wJ(SJ(e))};var OJ={},kJ=Cl;OJ.f=kJ;var NJ=fu,DJ=sl,PJ=OJ,xJ=cd.f,LJ=function(e){var t=NJ.Symbol||(NJ.Symbol={});DJ(t,e)||xJ(t,e,{value:PJ.f(e)})},MJ=Bd,BJ=Dc,FJ=yu,UJ=Bc,jJ=Gc,VJ=Oc,QJ=jc,GJ=ku,qJ=_c,HJ=sl,zJ=jU,WJ=Fc,KJ=pu,YJ=kc,JJ=Bu,ZJ=fd,XJ=il,$J=du,eZ=Pl,tZ=Jm,nZ=Jc,rZ=Jg,iZ=kg,oZ=JA,aZ=CJ,sZ=gg,cZ=Uc,uZ=cd,lZ=Rg,dZ=qc,hZ=xE,pZ=ny,fZ=Ju.exports,AZ=ag,gZ=hl,mZ=Cl,vZ=OJ,yZ=LJ,EZ=Ey,bZ=Kv,_Z=tj.forEach,CZ=DA("hidden"),IZ="Symbol",SZ=mZ("toPrimitive"),wZ=bZ.set,RZ=bZ.getterFor(IZ),TZ=Object.prototype,OZ=BJ.Symbol,kZ=OZ&&OZ.prototype,NZ=BJ.TypeError,DZ=BJ.QObject,PZ=FJ("JSON","stringify"),xZ=cZ.f,LZ=uZ.f,MZ=aZ.f,BZ=dZ.f,FZ=VJ([].push),UZ=fZ("symbols"),jZ=fZ("op-symbols"),VZ=fZ("string-to-symbol-registry"),QZ=fZ("symbol-to-string-registry"),GZ=fZ("wks"),qZ=!DZ||!DZ.prototype||!DZ.prototype.findChild,HZ=QJ&&qJ((function(){return 7!=rZ(LZ({},"a",{get:function(){return LZ(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=xZ(TZ,t);r&&delete TZ[t],LZ(e,t,n),r&&e!==TZ&&LZ(TZ,t,r)}:LZ,zZ=function(e,t){var n=UZ[e]=rZ(kZ);return wZ(n,{type:IZ,tag:e,description:t}),QJ||(n.description=t),n},WZ=function(e,t,n){e===TZ&&WZ(jZ,t,n),ZJ(e);var r=eZ(t);return ZJ(n),HJ(UZ,r)?(n.enumerable?(HJ(e,CZ)&&e[CZ][r]&&(e[CZ][r]=!1),n=rZ(n,{enumerable:nZ(0,!1)})):(HJ(e,CZ)||LZ(e,CZ,nZ(1,{})),e[CZ][r]=!0),HZ(e,r,n)):LZ(e,r,n)},KZ=function(e,t){ZJ(e);var n=$J(t),r=iZ(n).concat(XZ(n));return _Z(r,(function(t){QJ&&!jJ(YZ,n,t)||WZ(e,t,n[t])})),e},YZ=function(e){var t=eZ(e),n=jJ(BZ,this,t);return!(this===TZ&&HJ(UZ,t)&&!HJ(jZ,t))&&(!(n||!HJ(this,t)||!HJ(UZ,t)||HJ(this,CZ)&&this[CZ][t])||n)},JZ=function(e,t){var n=$J(e),r=eZ(t);if(n!==TZ||!HJ(UZ,r)||HJ(jZ,r)){var i=xZ(n,r);return!i||!HJ(UZ,r)||HJ(n,CZ)&&n[CZ][r]||(i.enumerable=!0),i}},ZZ=function(e){var t=MZ($J(e)),n=[];return _Z(t,(function(e){HJ(UZ,e)||HJ(AZ,e)||FZ(n,e)})),n},XZ=function(e){var t=e===TZ,n=MZ(t?jZ:$J(e)),r=[];return _Z(n,(function(e){!HJ(UZ,e)||t&&!HJ(TZ,e)||FZ(r,UZ[e])})),r};if(GJ||(pZ(kZ=(OZ=function(){if(YJ(kZ,this))throw NZ("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?tZ(arguments[0]):void 0,t=gZ(e),n=function(e){this===TZ&&jJ(n,jZ,e),HJ(this,CZ)&&HJ(this[CZ],t)&&(this[CZ][t]=!1),HZ(this,t,nZ(1,e))};return QJ&&qZ&&HZ(TZ,t,{configurable:!0,set:n}),zZ(t,e)}).prototype,"toString",(function(){return RZ(this).tag})),pZ(OZ,"withoutSetter",(function(e){return zZ(gZ(e),e)})),dZ.f=YZ,uZ.f=WZ,lZ.f=KZ,cZ.f=JZ,oZ.f=aZ.f=ZZ,sZ.f=XZ,vZ.f=function(e){return zZ(mZ(e),e)},QJ&&LZ(kZ,"description",{configurable:!0,get:function(){return RZ(this).description}})),MJ({global:!0,wrap:!0,forced:!GJ,sham:!GJ},{Symbol:OZ}),_Z(iZ(GZ),(function(e){yZ(e)})),MJ({target:IZ,stat:!0,forced:!GJ},{for:function(e){var t=tZ(e);if(HJ(VZ,t))return VZ[t];var n=OZ(t);return VZ[t]=n,QZ[n]=t,n},keyFor:function(e){if(!JJ(e))throw NZ(e+" is not a symbol");if(HJ(QZ,e))return QZ[e]},useSetter:function(){qZ=!0},useSimple:function(){qZ=!1}}),MJ({target:"Object",stat:!0,forced:!GJ,sham:!QJ},{create:function(e,t){return void 0===t?rZ(e):KZ(rZ(e),t)},defineProperty:WZ,defineProperties:KZ,getOwnPropertyDescriptor:JZ}),MJ({target:"Object",stat:!0,forced:!GJ},{getOwnPropertyNames:ZZ,getOwnPropertySymbols:XZ}),MJ({target:"Object",stat:!0,forced:qJ((function(){sZ.f(1)}))},{getOwnPropertySymbols:function(e){return sZ.f(XJ(e))}}),PZ&&MJ({target:"JSON",stat:!0,forced:!GJ||qJ((function(){var e=OZ();return"[null]"!=PZ([e])||"{}"!=PZ({a:e})||"{}"!=PZ(Object(e))}))},{stringify:function(e,t,n){var r=hZ(arguments),i=t;if((KJ(t)||void 0!==e)&&!JJ(e))return zJ(t)||(t=function(e,t){if(WJ(i)&&(t=jJ(i,this,e,t)),!JJ(t))return t}),r[1]=t,UJ(PZ,null,r)}}),!kZ[SZ]){var $Z=kZ.valueOf;pZ(kZ,SZ,(function(e){return jJ($Z,this)}))}EZ(OZ,IZ),AZ[CZ]=!0,LJ("asyncIterator"),LJ("hasInstance"),LJ("isConcatSpreadable"),LJ("iterator"),LJ("match"),LJ("matchAll"),LJ("replace"),LJ("search"),LJ("species"),LJ("split"),LJ("toPrimitive"),LJ("toStringTag"),LJ("unscopables"),Ey(Dc.JSON,"JSON",!0);var eX=fu.Symbol;LJ("asyncDispose"),LJ("dispose"),LJ("matcher"),LJ("metadata"),LJ("observable"),LJ("patternMatch"),LJ("replaceAll");var tX=eX,nX=OJ.f("asyncIterator"),rX=nX;function iX(e){this.wrapped=e}function oX(e){var t,n;function r(t,n){try{var o=e[t](n),a=o.value,s=a instanceof iX;iJ.resolve(s?a.wrapped:a).then((function(e){s?r("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new iJ((function(o,a){var s={key:e,arg:i,resolve:o,reject:a,next:null};n?n=n.next=s:(t=n=s,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function aX(e){return function(){return new oX(e.apply(this,arguments))}}function sX(e){return new iX(e)}oX.prototype["function"==typeof tX&&rX||"@@asyncIterator"]=function(){return this},oX.prototype.next=function(e){return this._invoke("next",e)},oX.prototype.throw=function(e){return this._invoke("throw",e)},oX.prototype.return=function(e){return this._invoke("return",e)};var cX=OJ.f("iterator");function uX(e,t){var n={},r=!1;function i(n,i){return r=!0,i=new iJ((function(t){t(e[n](i))})),{done:!1,value:t(i)}}return n[void 0!==tX&&cX||"@@iterator"]=function(){return this},n.next=function(e){return r?(r=!1,e):i("next",e)},"function"==typeof e.throw&&(n.throw=function(e){if(r)throw r=!1,e;return i("throw",e)}),"function"==typeof e.return&&(n.return=function(e){return r?(r=!1,e):i("return",e)}),n}var lX=nX,dX=Vr,hX=a,pX=r,fX=C,AX=Me,gX=U,mX=z,vX=ph,yX=It.f,EX=Ir,bX=pX.Symbol,_X=bX&&bX.prototype;if(hX&&gX(bX)&&(!("description"in _X)||void 0!==bX().description)){var CX={},IX=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:vX(arguments[0]),t=mX(_X,this)?new bX(e):void 0===e?bX():bX(e);return""===e&&(CX[t]=!0),t};EX(IX,bX),IX.prototype=_X,_X.constructor=IX;var SX="Symbol(test)"==String(bX("test")),wX=fX(_X.toString),RX=fX(_X.valueOf),TX=/^Symbol\((.*)\)[^)]+$/,OX=fX("".replace),kX=fX("".slice);yX(_X,"description",{configurable:!0,get:function(){var e=RX(this),t=wX(e);if(AX(CX,e))return"";var n=SX?kX(t,7,-1):OX(t,TX,"$1");return""===n?void 0:n}}),dX({global:!0,forced:!0},{Symbol:IX})}var NX={exports:{}};function DX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function PX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DX(Object(n),!0).forEach((function(t){iO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DX(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xX(e,t,n,r,i,o,a){let s=[],c=[],u=[],l=[],d=!1,h=!1;if(NX.exports.parse(e).mediaDescriptions.forEach((e=>{a&&a!==e.attributes.direction||("video"!==e.media.mediaType||d||(c=e.attributes.payloads,l=e.attributes.extmaps,d=!0),"audio"!==e.media.mediaType||h||(s=e.attributes.payloads,u=e.attributes.extmaps,h=!0))})),!l||0===c.length)throw new Error("Cannot get video capabilities from SDP.");if(!u||0===s.length)throw new Error("Cannot get audio capabilities from SDP.");return c.forEach((e=>{var t;null!==(t=e.rtpMap)&&void 0!==t&&t.clockRate&&(e.rtpMap.clockRate=parseInt(e.rtpMap.clockRate))})),s.forEach((e=>{var t;null!==(t=e.rtpMap)&&void 0!==t&&t.clockRate&&(e.rtpMap.clockRate=parseInt(e.rtpMap.clockRate))})),t&&(s=s.filter((e=>{var t;return"rtx"!==(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())})),c=c.filter((e=>{var t;return"rtx"!==(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())}))),n&&(c=c.filter((e=>{var t;return!/(red)|(ulpfec)|(flexfec)/i.test((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName)||"")}))),r&&(s=s.filter((e=>{var t;return!/(red)|(ulpfec)|(flexfec)/i.test((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName)||"")}))),i&&(null==i?void 0:i.length)>0&&(s=s.filter((e=>{var t;return i.includes((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||"")}))),o&&(null==o?void 0:o.length)>0&&(c=c.filter((e=>{var t;return o.includes((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||"")}))),{audioCodecs:s,videoCodecs:c,audioExtensions:u,videoExtensions:l}}function LX(e){const t=NX.exports.parse(e);let n,r;for(const e of t.mediaDescriptions){if(!n){const t=e.attributes.iceUfrag,r=e.attributes.icePwd;if(!t||!r)throw new Error("Cannot get iceUfrag or icePwd from SDP.");n={iceUfrag:t,icePwd:r}}if(!r){const t=e.attributes.fingerprints;t.length>0&&(r={fingerprints:t})}}if(!r&&t.attributes.fingerprints.length>0&&(r={fingerprints:t.attributes.fingerprints}),!r||!n)throw new Error("Cannot get iceParameters or dtlsParameters from SDP.");return{iceParameters:n,dtlsParameters:r}}function MX(e,t){const{cname:n}=e;let r;t&&t.ip&&"number"==typeof t.port?(r=[{foundation:"udpcandidate",componentId:"1",transport:"udp",priority:"2103266323",connectionAddress:t.ip,port:t.port.toString(),type:"host",extension:{}}],uN.debug("Using remote candidate from AP ".concat(t.ip,":").concat(t.port)),wN("debug",[],"Using remote candidate from AP ".concat(t.ip,":").concat(t.port)),t.ip6&&(r.push({foundation:"udpcandidate",componentId:"1",transport:"udp",priority:"2103266323",connectionAddress:t.ip6,port:t.port.toString(),type:"host",extension:{}}),uN.debug("Using IPV6 remote candidate from AP ".concat(t.ip6,":").concat(t.port)),wN("debug",[],"Using IPV6 remote candidate from AP ".concat(t.ip6,":").concat(t.port)))):r=e.iceParameters.candidates.map((e=>({foundation:e.foundation,componentId:"1",transport:e.protocol,priority:e.priority.toString(),connectionAddress:e.ip,port:e.port.toString(),type:e.type,extension:{}})));const i={fingerprints:e.dtlsParameters.fingerprints.map((e=>({hashFunction:e.algorithm,fingerprint:e.fingerprint})))},o={iceUfrag:e.iceParameters.iceUfrag,icePwd:e.iceParameters.icePwd};let a;switch(e.dtlsParameters.role){case"server":a="passive";break;case"client":a="active";break;case"auto":a="actpass"}return{dtlsParameters:i,iceParameters:o,candidates:r,rtpCapabilities:GX(e.rtpCapabilities),setup:a,cname:n}}function BX(e,t,n){const r=[],i=[];return e.forEach((e=>{let{ssrcId:o,rtx:a}=e;const s=SG(8,"track-"),c={ssrcId:o,attributes:PX({label:s,mslabel:n=n||SG(10,""),msid:"".concat(n," ").concat(s)},t&&{cname:t})};if(r.push(c),void 0!==a){const e={ssrcId:a,attributes:PX({label:s,mslabel:n,msid:"".concat(n," ").concat(s)},t&&{cname:t})};r.push(e),i.push({semantic:"FID",ssrcIds:[o,a]})}})),e.length>1&&i.push({semantic:"SIM",ssrcIds:e.map((e=>{let{ssrcId:t}=e;return t}))}),{ssrcs:r,ssrcGroups:i}}function FX(e,t){t instanceof ZQ&&e.attributes.payloads.forEach((e=>{var n;const r=null===(n=e.rtpMap)||void 0===n?void 0:n.encodingName.toLowerCase();if(!r||-1===["opus","pcmu","pcma","g722"].indexOf(r))return;e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters.minptime="10",e.fmtp.parameters.useinbandfec="1";const i=t._encoderConfig;i&&"pcmu"!==r&&"pcma"!==r&&"g722"!==r&&(i.bitrate&&!BT()&&(e.fmtp.parameters.maxaveragebitrate="".concat(Math.floor(1e3*i.bitrate))),i.sampleRate&&(e.fmtp.parameters.maxplaybackrate="".concat(i.sampleRate),e.fmtp.parameters["sprop-maxcapturerate"]="".concat(i.sampleRate)),i.stereo&&(e.fmtp.parameters.stereo="1",e.fmtp.parameters["sprop-stereo"]="1"))}))}function UX(e){const t=e.attributes.unrecognized.findIndex((e=>"x-google-flag"===e.attField&&"conference"===e.attValue));-1!==t&&e.attributes.unrecognized.splice(t,1)}function jX(e,t){if(!(t instanceof XY&&t._encoderConfig&&-1===t._hints.indexOf(fx.SCREEN_TRACK)))return;const n=t._encoderConfig;Vx().supportMinBitrate&&n.bitrateMin&&e.attributes.payloads.forEach((e=>{var t;["h264","vp8","vp9","av1"].includes((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||"")&&(e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters["x-google-min-bitrate"]="".concat(n.bitrateMin))})),Vx().supportMinBitrate&&!t._hints.includes(fx.LOW_STREAM)&&n.bitrateMax&&e.attributes.payloads.forEach((e=>{var t;["h264","vp8","vp9","av1"].includes((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||"")&&(e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters["x-google-start-bitrate"]="".concat(KN("X_GOOGLE_START_BITRATE")||Math.floor(n.bitrateMax)))}))}function VX(e,t,n){if(!t)return;let r,i;if("video"===e.media.mediaType?(r=n.videoExtensions,i=n.videoCodecs):(r=n.audioExtensions,i=n.audioCodecs),!0===t.tcc){const t=r.find((e=>"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"===e.extensionName));t&&(e.attributes.extmaps.find((e=>"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"===e.extensionName))||e.attributes.extmaps.push({entry:t.entry,extensionName:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"}),function(e,t){return t.filter((t=>!!e.find((e=>e.payloadType===t.payloadType&&!!e.rtcpFeedbacks.find((e=>"transport-cc"===e.type))))))}(i,e.attributes.payloads).forEach((e=>{e.rtcpFeedbacks.find((e=>"transport-cc"===e.type))||e.rtcpFeedbacks.push({type:"transport-cc"})})))}else if(!1===t.tcc){const t=e.attributes.extmaps.findIndex((e=>"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"===e.extensionName));-1!==t&&e.attributes.extmaps.splice(t,1),e.attributes.payloads.forEach((e=>{const t=e.rtcpFeedbacks.findIndex((e=>"transport-cc"===e.type));-1!==t&&e.rtcpFeedbacks.splice(t,1)}))}if(!0===t.remb){const t=r.find((e=>"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"===e.extensionName));t&&(e.attributes.extmaps.find((e=>"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"===e.extensionName))||e.attributes.extmaps.push({entry:t.entry,extensionName:"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"}),function(e,t){return t.filter((t=>!!e.find((e=>e.payloadType===t.payloadType&&!!e.rtcpFeedbacks.find((e=>"goog-remb"===e.type))))))}(i,e.attributes.payloads).forEach((e=>{e.rtcpFeedbacks.find((e=>"goog-remb"===e.type))||e.rtcpFeedbacks.push({type:"goog-remb"})})))}else if(!1===t.remb){const t=e.attributes.extmaps.findIndex((e=>"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"===e.extensionName));-1!==t&&e.attributes.extmaps.splice(t,1),e.attributes.payloads.forEach((e=>{const t=e.rtcpFeedbacks.findIndex((e=>"goog-remb"===e.type));-1!==t&&e.rtcpFeedbacks.splice(t,1)}))}}function QX(e,t,n,r,i,o){if("videoExtensions"===n||"audioExtensions"===n){const a=[];return e[n].forEach((e=>{t[n].some(((t,n)=>{if(e.entry===t.entry&&e.extensionName===t.extensionName)return a.push(n),!0}))?o[n].push(e):r[n].push(e)})),void t[n].forEach(((e,t)=>{-1===a.indexOf(t)&&i[n].push(e)}))}if("videoCodecs"===n||"audioCodecs"===n){const a=[];return e[n].forEach((e=>{t[n].some(((t,n)=>{if(e.payloadType===t.payloadType&&JSON.stringify(e)===JSON.stringify(t))return a.push(n),!0}))?o[n].push(e):r[n].push(e)})),void t[n].forEach(((e,t)=>{-1===a.indexOf(t)&&i[n].push(e)}))}}function GX(e){const{send:t,recv:n,sendrecv:r}=e;if(!r){if(!t||!n)throw new Error("cannot merge rtp capabilities because one of send or recv is empty!");return{send:t,recv:n}}let i,o;return t?(i={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},i.audioCodecs=[...t.audioCodecs,...r.audioCodecs],i.videoCodecs=[...t.videoCodecs,...r.videoCodecs],i.audioExtensions=[...t.audioExtensions,...r.audioExtensions],i.videoExtensions=[...t.videoExtensions,...r.videoExtensions]):i=r,n?(o={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},o.audioCodecs=[...n.audioCodecs,...r.audioCodecs],o.videoCodecs=[...n.videoCodecs,...r.videoCodecs],o.audioExtensions=[...n.audioExtensions,...r.audioExtensions],o.videoExtensions=[...n.videoExtensions,...r.videoExtensions]):o=r,{send:i,recv:o}}function qX(e){"audio"===e.media.mediaType&&e.attributes.payloads.filter((e=>{var t;return"opus"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())})).forEach((e=>{e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters.stereo="1",e.fmtp.parameters["sprop-stereo"]="1"}))}!function(e,t){e.exports=(()=>{var e={8:(e,t,n)=>{n.r(t),n.d(t,{Parser:()=>_,Printer:()=>R,parse:()=>N,print:()=>D});const r="\n",i="".concat("\r").concat(r),o=" ";let a;function s(e){return e>="0"&&e<="9"}function c(e){return e>="!"&&e<="~"}function u(e){return c(e)||e>=""&&e<=""}function l(e){return"!"===e||e>="#"&&e<="'"||e>="*"&&e<="+"||e>="-"&&e<="."||e>="0"&&e<="9"||e>="A"&&e<="Z"||e>="^"&&e<="~"}function d(e){return e>="1"&&e<="9"}function h(e){return e>="A"&&e<="Z"||e>="a"&&e<="z"}function p(e){return"d"===e||"h"===e||"m"===e||"s"===e}function f(e){return e>""&&e<"\t"||e>"\v"&&e<"\f"||e>""&&e<""}function A(e){return h(e)||s(e)||"+"===e||"/"===e}function g(e){return s(e)||h(e)||"+"===e||"/"===e||"-"===e||"_"===e}function m(e){return h(e)||s(e)||"+"===e||"/"===e}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.VERSION="v",e.ORIGIN="o",e.SESSION_NAME="s",e.INFORMATION="i",e.URI="u",e.EMAIL="e",e.PHONE="p",e.CONNECTION="c",e.BANDWIDTH="b",e.TIME="t",e.REPEAT="r",e.ZONE_ADJUSTMENTS="z",e.KEY="k",e.ATTRIBUTE="a",e.MEDIA="m"}(a||(a={}));class b{consumeText(e,t){let n=t;for(;n<e.length;){const t=e[n];if("\0"===t||"\r"===t||t===r)break;n+=1}if(n-t==0)throw new Error("Invalid text, at ".concat(e));return n}consumeUnicastAddress(e,t,n){return this.consumeTill(e,t,o)}consumeOneOrMore(e,t,n){let r=t;for(;n(e[r]);)r++;if(r-t==0)throw new Error("Invalid rule at ".concat(t,"."));return r}consumeSpace(e,t){if(e[t]===o)return t+1;throw new Error("Invalid space at ".concat(t,"."))}consumeIP4Address(e,t){let n=t;for(let t=0;t<4;t++)if(n=this.consumeDecimalUChar(e,n),3!==t){if("."!==e[n])throw new Error("Invalid IP4 address.");n++}return n}consumeDecimalUChar(e,t){let n=t;for(let t=0;t<3&&s(e[n]);t++,n++);if(n-t==0)throw new Error("Invalid decimal uchar.");const r=parseInt(e.slice(t,n));if(r>=0&&r<=255)return n;throw new Error("Invalid decimal uchar")}consumeIP6Address(e,t){let n=this.consumeHexpart(e,t);return":"===e[n]?(n+=1,n=this.consumeIP4Address(e,n),n):n}consumeHexpart(e,t){let n=t;if(":"===e[n]&&":"===e[n+1]){n+=2;try{n=this.consumeHexseq(e,n)}catch(e){}return n}if(n=this.consumeHexseq(e,n),":"===e[n]&&":"===e[n+1]){n+=2;try{n=this.consumeHexseq(e,n)}catch(e){}return n}return n}consumeHexseq(e,t){let n=t;for(;n=this.consumeHex4(e,n),":"===e[n]&&":"!==e[n+1];)n+=1;return n}consumeHex4(e,t){let n=0;for(;n<4;n++)if(!((r=e[t+n])>="0"&&r<="9"||r>="a"&&r<="f"||r>="A"&&r<="F")){if(0===n)throw new Error("Invalid hex 4");break}var r;return t+n}consumeFQDN(e,t){let n=t;for(;s(e[n])||h(e[n])||"-"===e[n]||"."===e[n];)n+=1;if(n-t<4)throw new Error("Invalid FQDN");return n}consumeExtnAddr(e,t){return this.consumeOneOrMore(e,t,u)}consumeMulticastAddress(e,t,n){switch(n){case"IP4":case"ip4":return this.consumeIP4MulticastAddress(e,t);case"IP6":case"ip6":return this.consumeIP6MulticastAddress(e,t);default:try{return this.consumeFQDN(e,t)}catch(n){return this.consumeExtnAddr(e,t)}}}consumeIP6MulticastAddress(e,t){const n=this.consumeHexpart(e,t);return"/"===e[n]?this.consumeInteger(e,n+1):n}consumeIP4MulticastAddress(e,t){let n=t+3;const r=e.slice(t,n),i=parseInt(r);if(i<224||i>239)throw new Error("Invalid IP4 multicast address, IPv4 multicast addresses may be in the range 224.0.0.0 to 239.255.255.255.");for(let t=0;t<3;t++){if("."!==e[n])throw new Error("Invalid IP4 multicast address.");n+=1,n=this.consumeDecimalUChar(e,n)}return"/"===e[n]&&(n+=1),n=this.consumeTTL(e,n),"/"===e[n]&&(n=this.consumeInteger(e,n)),n}consumeInteger(e,t){if(!d(e[t]))throw new Error("Invalid integer.");for(t+=1;s(e[t]);)t+=1;return t}consumeTTL(e,t){if("0"===e[t])return t+1;if(!d(e[t]))throw new Error("Invalid TTL.");t+=1;for(let n=0;n<2&&s(e[t]);n++)t+=1;return t}consumeToken(e,t){return this.consumeOneOrMore(e,t,l)}consumeTime(e,t){let n=t;if("0"===e[n])return n+1;for(d(e[n])&&(n+=1);s(e[n]);)n++;if(n-t<10)throw new Error("Invalid time");return n}consumeAddress(e,t){return this.consumeTill(e,t,o)}consumeTypedTime(e,t){let n=t;return n=this.consumeOneOrMore(e,n,s),p(e[n])?n+1:n}consumeRepeatInterval(e,t){if(!d(e[t]))throw new Error("Invalid repeat interval");for(t+=1;s(e[t]);)t+=1;return p(e[t])&&(t+=1),t}consumePort(e,t){return this.consumeOneOrMore(e,t,s)}consume(e,t,n){for(let r=0;r<n.length;r++){if(t+r>=e.length)throw new Error("consume exceeding value length");if(e[t+r]!==n[r])throw new Error("consume ".concat(n," failed at ").concat(r))}return t+n.length}consumeTill(e,t,n){let r=t;for(;r<e.length&&("string"!=typeof n||e[r]!==n)&&("function"!=typeof n||!n(e[r]));)r++;return r}}class _ extends b{constructor(){super(),E(this,"records",[]),E(this,"currentLine",0)}parse(e){const t=this.probeEOL(e);this.records=e.split(t).filter((e=>!!e.trim())).map(this.parseLine),this.currentLine=0;const n=this.parseVersion(),r=this.parseOrigin(),i=this.parseSessionName(),o=this.parseInformation(),a=this.parseUri(),s=this.parseEmail(),c=this.parsePhone(),u=this.parseConnection(),l=this.parseBandWidth(),d=this.parseTimeFields(),h=this.parseKey(),p=this.parseSessionAttribute(),f=this.parseMediaDescription();if(this.currentLine!==this.records.length)throw new Error("parsing failed, non exhaustive sdp lines.");return{version:n,origin:r,sessionName:i,information:o,uri:a,emails:s,phones:c,connection:u,bandwidths:l,timeFields:d,key:h,attributes:p,mediaDescriptions:f}}getCurrentRecord(){const e=this.records[this.currentLine];if(!e)throw new Error("Record doesn't exit.");return e}probeEOL(e){for(let t=0;t<e.length;t++)if(e[t]===r)return"\r"===e[t-1]?i:r;throw new Error("Invalid newline character.")}parseLine(e,t){if(e.length<2)throw new Error("Invalid sdp line, sdp line should be of form <type>=<value>.");const n=e[0];if("="!==e[1])throw new Error('Invalid sdp line, <type> should be a single character followed by an "=" sign.');return{type:n,value:e.slice(2),line:t,cur:0}}parseSessionAttribute(){const e=new I;for(;this.currentLine<this.records.length;){const t=this.getCurrentRecord();if(t.type!==a.ATTRIBUTE)break;const n={attField:this.extractOneOrMore(t,(e=>l(e)&&":"!==e)),_cur:0};":"===t.value[t.cur]&&(t.cur+=1,n.attValue=this.extractOneOrMore(t,f)),e.parse(n),this.currentLine++}return e.digest()}parseMediaAttributes(e){const t=new S(e);for(;this.currentLine<this.records.length;){const e=this.getCurrentRecord();if(e.type!==a.ATTRIBUTE)break;const n={attField:this.extractOneOrMore(e,(e=>l(e)&&":"!==e)),_cur:0};":"===e.value[e.cur]&&(e.cur+=1,n.attValue=this.extractOneOrMore(e,f)),t.parse(n),this.currentLine++}return t.digest()}parseKey(){const e=this.getCurrentRecord();if(e.type===a.KEY){if("prompt"===e.value||"clear:"===e.value||"base64:"===e.value||"uri:"===e.value)return e.value;throw this.currentLine++,new Error("Invalid key.")}}parseZone(){const e=this.getCurrentRecord();if(e.type===a.ZONE_ADJUSTMENTS){const t=[];for(;;)try{const n=this.extract(e,this.consumeTime);this.consumeSpaceForRecord(e);let r=!1;"-"===e.value[e.cur]&&(r=!0,e.cur+=1);const i=this.extract(e,this.consumeTypedTime);t.push({time:n,typedTime:i,back:r})}catch(e){break}if(0===t.length)throw new Error("Invalid zone adjustments");return this.currentLine++,t}return[]}parseRepeat(){const e=[];for(;;){const t=this.getCurrentRecord();if(t.type!==a.REPEAT)break;{const n=this.extract(t,this.consumeRepeatInterval),r=this.parseTypedTime(t);e.push({repeatInterval:n,typedTimes:r}),this.currentLine++}}return e}parseTypedTime(e){const t=[];for(;;)try{this.consumeSpaceForRecord(e),t.push(this.extract(e,this.consumeTypedTime))}catch(e){break}if(0===t.length)throw new Error("Invalid typed time.");return t}parseTime(){const e=this.getCurrentRecord(),t=this.extract(e,this.consumeTime);this.consumeSpaceForRecord(e);const n=this.extract(e,this.consumeTime);return this.currentLine++,{startTime:t,stopTime:n}}parseBandWidth(){const e=[];for(;this.currentLine<this.records.length;){const t=this.getCurrentRecord();if(t.type!==a.BANDWIDTH)break;{const n=this.extractOneOrMore(t,l);if(":"!==t.value[t.cur])throw new Error("Invalid bandwidth field.");t.cur++;const r=this.extractOneOrMore(t,s);e.push({bwtype:n,bandwidth:r}),this.currentLine++}}return e}parseVersion(){const e=this.getCurrentRecord();if(e.type!==a.VERSION)throw new Error("first sdp record must be version");const t=e.value.slice(0,this.consumeOneOrMore(e.value,0,s));if(t.length!==e.value.length)throw new Error('invalid proto version, "v='.concat(e.value,'"'));return this.currentLine++,t}parseOrigin(){const e=this.getCurrentRecord();if(e.type!==a.ORIGIN)throw new Error("second line of sdp must be origin");const t=this.extractOneOrMore(e,u);this.consumeSpaceForRecord(e);const n=this.extractOneOrMore(e,s);this.consumeSpaceForRecord(e);const r=this.extractOneOrMore(e,s);this.consumeSpaceForRecord(e);const i=this.extractOneOrMore(e,l);this.consumeSpaceForRecord(e);const o=this.extractOneOrMore(e,l);this.consumeSpaceForRecord(e);const c=this.extract(e,this.consumeUnicastAddress);return this.currentLine++,{username:t,sessId:n,sessVersion:r,nettype:i,addrtype:o,unicastAddress:c}}parseSessionName(){const e=this.getCurrentRecord();if(e.type===a.SESSION_NAME){const t=this.extract(e,this.consumeText);return this.currentLine++,t}}parseInformation(){const e=this.getCurrentRecord();if(e.type!==a.INFORMATION)return;const t=this.extract(e,this.consumeText);return this.currentLine++,t}parseUri(){const e=this.getCurrentRecord();if(e.type===a.URI)return this.currentLine++,e.value}parseEmail(){const e=[];for(;;){const t=this.getCurrentRecord();if(t.type!==a.EMAIL)break;e.push(t.value),this.currentLine++}return e}parsePhone(){const e=[];for(;;){const t=this.getCurrentRecord();if(t.type!==a.PHONE)break;e.push(t.value),this.currentLine++}return e}parseConnection(){const e=this.getCurrentRecord();if(e.type===a.CONNECTION){const t=this.extractOneOrMore(e,l);this.consumeSpaceForRecord(e);const n=this.extractOneOrMore(e,l);this.consumeSpaceForRecord(e);const r=this.extract(e,this.consumeAddress);return this.currentLine++,{nettype:t,addrtype:n,address:r}}}parseMedia(){const e=this.getCurrentRecord(),t=this.extract(e,this.consumeToken);this.consumeSpaceForRecord(e);let n=this.extract(e,this.consumePort);"/"===e.value[e.cur]&&(e.cur+=1,n+=this.extract(e,this.consumeInteger)),this.consumeSpaceForRecord(e);const r=[];for(r.push(this.extract(e,this.consumeToken));"/"===e.value[e.cur];)e.cur+=1,r.push(this.extract(e,this.consumeToken));if(0===r.length)throw new Error("Invalid proto");const i=this.parseFmt(e);return this.currentLine++,{mediaType:t,port:n,protos:r,fmts:i}}parseTimeFields(){const e=[];for(;this.getCurrentRecord().type===a.TIME;){const t=this.parseTime(),n=this.parseRepeat(),r=this.parseZone();e.push({time:t,repeats:n,zones:r})}return e}parseMediaDescription(){const e=[];for(;this.currentLine<this.records.length&&this.getCurrentRecord().type===a.MEDIA;){const t=this.parseMedia(),n=this.parseInformation(),r=this.parseConnections(),i=this.parseBandWidth(),o=this.parseKey(),a=this.parseMediaAttributes(t);e.push({media:t,information:n,connections:r,bandwidths:i,key:o,attributes:a})}return e}parseConnections(){const e=[];for(;this.currentLine<this.records.length&&this.getCurrentRecord().type===a.CONNECTION;)e.push(this.parseConnection());return e}parseFmt(e){const t=[];for(;;)try{this.consumeSpaceForRecord(e),t.push(this.extract(e,this.consumeToken))}catch(e){break}if(0===t.length)throw new Error("Invalid fmts");return t}extract(e,t,...n){const r=t.call(this,e.value,e.cur,...n),i=e.value.slice(e.cur,r);return e.cur=r,i}extractOneOrMore(e,t){const n=this.consumeOneOrMore(e.value,e.cur,t),r=e.value.slice(e.cur,n);return e.cur=n,r}consumeSpaceForRecord(e){if(e.value[e.cur]!==o)throw new Error("Invalid space at ".concat(e.cur,"."));e.cur+=1}}class C extends b{constructor(...e){super(...e),E(this,"attributes",void 0),E(this,"digested",!1)}extractOneOrMore(e,t,n){const r=this.consumeOneOrMore(e.attValue,e._cur,t),i=e.attValue.slice(e._cur,r),[o,a]=n||[];if("number"==typeof o&&i.length<o)throw new Error("error in length, should be more or equal than ".concat(o," characters."));if("number"==typeof a&&i.length>a)throw new Error("error in length, should be less or equal than ".concat(a," characters."));return e._cur=r,i}consumeAttributeSpace(e){if(e.attValue[e._cur]!==o)throw new Error("Invalid space at ".concat(e._cur,"."));e._cur+=1}extract(e,t,...n){if(!e.attValue)throw new Error("Nothing to extract from attValue.");const r=t.call(this,e.attValue,e._cur,...n),i=e.attValue.slice(e._cur,r);return e._cur=r,i}atEnd(e){if(!e.attValue)throw new Error;return e._cur>=e.attValue.length}peekChar(e){if(!e.attValue)throw new Error;return e.attValue[e._cur]}peek(e,t){if(!e.attValue)throw new Error;for(let n=0;n<t.length;n++)if(t[n]!==e.attValue[e._cur+n])return!1;return!0}parseIceUfrag(e){if(this.attributes.iceUfrag)throw new Error("Invalid ice-ufrag, should be only a single line if 'a=ice-ufrag'");this.attributes.iceUfrag=this.extractOneOrMore(e,A,[4,256])}parseIcePwd(e){if(this.attributes.icePwd)throw new Error("Invalid ice-pwd, should be only a single line if 'a=ice-pwd'");this.attributes.icePwd=this.extractOneOrMore(e,A,[22,256])}parseIceOptions(e){if(this.attributes.iceOptions)throw new Error("Invalid ice-options, should be only one 'ice-options' line");const t=[];for(;!this.atEnd(e);){t.push(this.extractOneOrMore(e,A));try{this.consumeAttributeSpace(e)}catch(t){if(this.atEnd(e))break;throw t}}this.attributes.iceOptions=t}parseFingerprint(e){const t=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeTill);this.attributes.fingerprints.push({hashFunction:t,fingerprint:n})}parseExtmap(e){const t=this.extractOneOrMore(e,s);let n;"/"===this.peekChar(e)&&(this.extract(e,this.consume,"/"),n=this.extract(e,this.consumeToken)),this.consumeAttributeSpace(e);const r=this.extract(e,this.consumeTill,o),i=y(y({entry:parseInt(t,10)},n&&{direction:n}),{},{extensionName:r});this.peekChar(e)===o&&(this.consumeAttributeSpace(e),i.extensionAttributes=this.extract(e,this.consumeTill)),this.attributes.extmaps.push(i)}parseSetup(e){if(this.attributes.setup)throw new Error("must only be one single 'a=setup' line.");const t=this.extract(e,this.consumeTill);if("active"!==t&&"passive"!==t&&"actpass"!==t&&"holdconn"!==t)throw new Error("role must be one of 'active', 'passive', 'actpass', 'holdconn'.");this.attributes.setup=t}}class I extends C{constructor(...e){super(...e),E(this,"attributes",{unrecognized:[],groups:[],extmaps:[],fingerprints:[],identities:[]})}parse(e){if(this.digested)throw new Error("already digested");try{switch(e.attField){case"group":this.parseGroup(e);break;case"ice-lite":this.parseIceLite();break;case"ice-ufrag":this.parseIceUfrag(e);break;case"ice-pwd":this.parseIcePwd(e);break;case"ice-options":this.parseIceOptions(e);break;case"fingerprint":this.parseFingerprint(e);break;case"setup":this.parseSetup(e);break;case"tls-id":this.parseTlsId(e);break;case"identity":this.parseIdentity(e);break;case"extmap":this.parseExtmap(e);break;case"msid-semantic":this.parseMsidSemantic(e);break;default:e.ignored=!0,this.attributes.unrecognized.push(e)}}catch(t){throw console.error("parsing session attribute ".concat(e.attField,' error, "a=').concat(e.attField,":").concat(e.attValue,'"')),t}if(!e.ignored&&e.attValue&&!this.atEnd(e))throw new Error("attribute parsing error")}digest(){return this.digested=!0,this.attributes}parseGroup(e){const t=this.extract(e,this.consumeToken),n=[];for(;!this.atEnd(e)&&this.peekChar(e)===o;)this.consumeAttributeSpace(e),n.push(this.extract(e,this.consumeToken));this.attributes.groups.push({semantic:t,identificationTag:n})}parseIceLite(){if(this.attributes.iceLite)throw new Error("Invalid ice-lite, should be only a single line of 'a=ice-lite'");this.attributes.iceLite=!0}parseTlsId(e){if(this.attributes.tlsId)throw new Error("must be only one tld-id line");this.attributes.tlsId=this.extractOneOrMore(e,g)}parseIdentity(e){const t=this.extractOneOrMore(e,m),n=[];for(;!this.atEnd(e)&&this.peekChar(e)===o;){this.consumeAttributeSpace(e);const t=this.extract(e,this.consumeToken);this.extract(e,this.consume,"=");const r=this.extractOneOrMore(e,(e=>e!==o&&f(e)));n.push({name:t,value:r})}this.attributes.identities.push({assertionValue:t,extensions:n})}parseMsidSemantic(e){this.peekChar(e)===o&&this.consumeAttributeSpace(e);const t={semantic:this.extract(e,this.consumeToken),identifierList:[]};for(;;){try{this.consumeAttributeSpace(e)}catch(e){break}if("*"===this.peekChar(e)){this.extract(e,this.consume,"*"),t.applyForAll=!0;break}{const n=this.extract(e,this.consumeTill,o);t.identifierList.push(n)}}this.attributes.msidSemantic=t}}class S extends C{constructor(e){super(),E(this,"attributes",void 0),-1!==e.protos.indexOf("RTP")||e.protos.indexOf("rtp"),this.attributes={unrecognized:[],candidates:[],extmaps:[],fingerprints:[],imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:[],ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:[]}}parse(e){if(this.digested)throw new Error("already digested");try{switch(e.attField){case"extmap":this.parseExtmap(e);break;case"setup":this.parseSetup(e);break;case"ice-ufrag":this.parseIceUfrag(e);break;case"ice-pwd":this.parseIcePwd(e);break;case"ice-options":this.parseIceOptions(e);break;case"candidate":this.parseCandidate(e);break;case"remote-candidate":this.parseRemoteCandidate(e);break;case"end-of-candidates":this.parseEndOfCandidates();break;case"fingerprint":this.parseFingerprint(e);break;case"rtpmap":this.parseRtpmap(e);break;case"ptime":this.parsePtime(e);break;case"maxptime":this.parseMaxPtime(e);break;case"sendrecv":case"recvonly":case"sendonly":case"inactive":this.parseDirection(e);break;case"ssrc":this.parseSSRC(e);break;case"fmtp":this.parseFmtp(e);break;case"rtcp-fb":this.parseRtcpFb(e);break;case"rtcp-mux":this.parseRTCPMux();break;case"rtcp-mux-only":this.parseRTCPMuxOnly();break;case"rtcp-rsize":this.parseRTCPRsize();break;case"rtcp":this.parseRTCP(e);break;case"mid":this.parseMid(e);break;case"msid":this.parseMsid(e);break;case"imageattr":this.parseImageAttr(e);break;case"rid":this.parseRid(e);break;case"simulcast":this.parseSimulcast(e);break;case"sctp-port":this.parseSctpPort(e);break;case"max-message-size":this.parseMaxMessageSize(e);break;case"ssrc-group":this.parseSSRCGroup(e);break;default:e.ignored=!0,this.attributes.unrecognized.push(e)}}catch(t){throw console.error("parsing media attribute ".concat(e.attField,' error, "a=').concat(e.attField,":").concat(e.attValue,'"')),t}if(!e.ignored&&e.attValue&&!this.atEnd(e))throw new Error("attribute parsing error")}parseCandidate(e){const t=this.extractOneOrMore(e,A,[1,32]);this.consumeAttributeSpace(e);const n=this.extractOneOrMore(e,s,[1,5]);this.consumeAttributeSpace(e);const r=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e);const i=this.extractOneOrMore(e,s,[1,10]);this.consumeAttributeSpace(e);const a=this.extract(e,this.consumeAddress);this.consumeAttributeSpace(e);const u=this.extract(e,this.consumePort);this.consumeAttributeSpace(e),this.extract(e,this.consume,"typ"),this.consumeAttributeSpace(e);const l={foundation:t,componentId:n,transport:r,priority:i,connectionAddress:a,port:u,type:this.extract(e,this.consumeToken),extension:{}};for(this.peek(e," raddr")&&(this.extract(e,this.consume," raddr"),this.consumeAttributeSpace(e),l.relAddr=this.extract(e,this.consumeAddress)),this.peek(e," rport")&&(this.extract(e,this.consume," rport"),this.consumeAttributeSpace(e),l.relPort=this.extract(e,this.consumePort));this.peekChar(e)===o;){this.consumeAttributeSpace(e);const t=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e),l.extension[t]=this.extractOneOrMore(e,c)}this.attributes.candidates.push(l)}parseRemoteCandidate(e){const t=[];for(;;){const n=this.extractOneOrMore(e,s,[1,5]);this.consumeAttributeSpace(e);const r=this.extract(e,this.consumeAddress);this.consumeAttributeSpace(e);const i=this.extract(e,this.consumePort);t.push({componentId:n,connectionAddress:r,port:i});try{this.consumeAttributeSpace(e)}catch(e){break}}this.attributes.remoteCandidatesList.push(t)}parseEndOfCandidates(){if(this.attributes.endOfCandidates)throw new Error("must be only one line of end-of-candidates");this.attributes.endOfCandidates=!0}parseRtpmap(e){const t=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeTill,"/");this.extract(e,this.consume,"/");const r={encodingName:n,clockRate:this.extractOneOrMore(e,s)};this.atEnd(e)||"/"!==this.peekChar(e)||(this.extract(e,this.consume,"/"),r.encodingParameters=parseInt(this.extract(e,this.consumeTill),10));const i=this.attributes.payloads.find((e=>e.payloadType===parseInt(t,10)));i?i.rtpMap=r:this.attributes.payloads.push({payloadType:parseInt(t,10),rtpMap:r,rtcpFeedbacks:[]})}parsePtime(e){if(this.attributes.ptime)throw new Error("must be only one line of ptime");this.attributes.ptime=this.extract(e,this.consumeTill)}parseMaxPtime(e){if(this.attributes.maxPtime)throw new Error("must be only one line of ptime");this.attributes.maxPtime=this.extract(e,this.consumeTill)}parseDirection(e){if(this.attributes.direction)throw new Error("must be only one line of direction info");this.attributes.direction=e.attField}parseSSRC(e){const t=this.extractOneOrMore(e,s);this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeTill,":");let r;":"===this.peekChar(e)&&(this.extract(e,this.consume,":"),r=this.extract(e,this.consumeTill));const i=this.attributes.ssrcs.find((e=>e.ssrcId===parseInt(t,10)));i?i.attributes[n]=r:this.attributes.ssrcs.push({ssrcId:parseInt(t,10),attributes:{[n]:r}})}parseFmtp(e){const t=this.extract(e,this.consumeTill,o);this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeTill),r={};n.split(";").forEach((e=>{let[t,n]=e.split("=");t=t.trim(),n="string"==typeof n?n.trim():n,"string"==typeof t&&t.length>0&&(r[t]=n)}));const i=this.attributes.payloads.find((e=>e.payloadType===parseInt(t,10)));i?i.fmtp={parameters:r}:this.attributes.payloads.push({payloadType:parseInt(t,10),rtcpFeedbacks:[],fmtp:{parameters:r}})}parseFmtParameters(e){const t={},n=this.extract(e,this.consumeTill,"=");e._cur++;const r=this.extract(e,this.consumeTill,";");for(t[n]=r;";"===e.attValue[e._cur];){const n=this.extract(e,this.consumeTill,"=");e._cur++;const r=this.extract(e,this.consumeTill,";");t[n]=r}return t}parseRtcpFb(e){let t="";t="*"===this.peekChar(e)?this.extract(e,this.consume,"*"):this.extract(e,this.consumeTill,o),this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeTill,o);let r;if("trr-int"===n)r={type:n,interval:this.extract(e,this.consumeTill)};else{const t={type:n};this.peekChar(e)===o&&(this.consumeAttributeSpace(e),t.parameter=this.extract(e,this.consumeToken),this.peekChar(e)===o&&(t.additional=this.extract(e,this.consumeTill))),r=t}if("*"===t)this.attributes.rtcpFeedbackWildcards.push(r);else{const e=this.attributes.payloads.find((e=>e.payloadType===parseInt(t,10)));e?e.rtcpFeedbacks.push(r):this.attributes.payloads.push({payloadType:parseInt(t,10),rtcpFeedbacks:[r]})}}parseRTCPMux(){if(this.attributes.rtcpMux)throw new Error("must be single line of rtcp-mux");this.attributes.rtcpMux=!0}parseRTCPMuxOnly(){if(this.attributes.rtcpMuxOnly)throw new Error("must be single line of rtcp-only");this.attributes.rtcpMuxOnly=!0}parseRTCPRsize(){if(this.attributes.rtcpRsize)throw new Error("must be single line of rtcp-rsize");this.attributes.rtcpRsize=!0}parseRTCP(e){if(this.attributes.rtcp)throw new Error("must be single line of rtcp");const t={port:this.extract(e,this.consumePort)};this.peekChar(e)===o&&(this.consumeAttributeSpace(e),t.netType=this.extractOneOrMore(e,l),this.consumeAttributeSpace(e),t.addressType=this.extractOneOrMore(e,l),this.consumeAttributeSpace(e),t.address=this.extract(e,this.consumeAddress)),this.attributes.rtcp=t}parseMsid(e){const t={id:this.extractOneOrMore(e,l,[1,64])};this.peekChar(e)===o&&(this.consumeAttributeSpace(e),t.appdata=this.extractOneOrMore(e,l,[1,64])),this.attributes.msids.push(t)}parseImageAttr(e){this.attributes.imageattr.push(e.attValue)}parseRid(e){const t=this.extractOneOrMore(e,(e=>h(e)||s(e)||"_"===e||"-"===e));this.consumeAttributeSpace(e);const n={id:t,direction:this.extract(e,this.consumeToken),params:[]};if(this.peekChar(e)===o){if(this.consumeAttributeSpace(e),this.peek(e,"pt=")){this.extract(e,this.consume,"pt=");const t=[];for(;;){const n=this.extract(e,this.consumeToken);t.push(n);try{this.extract(e,this.consume,",")}catch(e){break}}n.payloads=t,this.peekChar(e)===o&&this.extract(e,this.consume,o)}for(;;){const t=this.extract(e,this.consumeToken);switch(t){case"depend":{const r={type:t,rids:this.extract(e,this.consume,"=").split(",")};n.params.push(r);break}default:{const r={type:t};"="===this.peekChar(e)&&(this.extract(e,this.consume,"="),r.val=this.extract(e,this.consumeTill,";")),n.params.push(r)}}try{this.extract(e,this.consume,";")}catch(e){break}}}this.attributes.rids.push(n)}parseSimulcast(e){if(this.attributes.simulcast)throw new Error("must be single line of simulcast");this.attributes.simulcast=e.attValue,this.extract(e,this.consumeTill)}parseSctpPort(e){this.attributes.sctpPort=this.extractOneOrMore(e,s,[1,5])}parseMaxMessageSize(e){this.attributes.maxMessageSize=this.extractOneOrMore(e,s,[1,void 0])}digest(){return this.digested=!0,this.attributes}parseMid(e){this.attributes.mid=this.extract(e,this.consumeToken)}parseSSRCGroup(e){const t=this.extract(e,this.consumeToken),n=[];for(;;)try{this.consumeAttributeSpace(e);const t=this.extract(e,this.consumeInteger);n.push(parseInt(t,10))}catch(e){break}this.attributes.ssrcGroups.push({semantic:t,ssrcIds:n})}}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class R{constructor(){w(this,"eol",i)}print(e,t){let n="";return t&&(this.eol=t),n+=this.printVersion(e.version),n+=this.printOrigin(e.origin),n+=this.printSessionName(e.sessionName),n+=this.printInformation(e.information),n+=this.printUri(e.uri),n+=this.printEmail(e.emails),n+=this.printPhone(e.phones),n+=this.printConnection(e.connection),n+=this.printBandwidth(e.bandwidths),n+=this.printTimeFields(e.timeFields),n+=this.printKey(e.key),n+=this.printSessionAttributes(e.attributes),n+=this.printMediaDescription(e.mediaDescriptions),n}printVersion(e){return"v=".concat(e).concat(this.eol)}printOrigin(e){return"o=".concat(e.username," ").concat(e.sessId," ").concat(e.sessVersion," ").concat(e.nettype," ").concat(e.addrtype," ").concat(e.unicastAddress).concat(this.eol)}printSessionName(e){return e?"s=".concat(e).concat(this.eol):""}printInformation(e){return e?"i=".concat(e).concat(this.eol):""}printUri(e){return e?"u=".concat(e).concat(this.eol):""}printEmail(e){let t="";for(const n of e)t+="e=".concat(n).concat(this.eol);return t}printPhone(e){let t="";for(const n of e)t+="e=".concat(n).concat(this.eol);return t}printConnection(e){return e?"c=".concat(e.nettype," ").concat(e.addrtype," ").concat(e.address).concat(this.eol):""}printBandwidth(e){let t="";for(const n of e)t+="b=".concat(n.bwtype,":").concat(n.bandwidth).concat(this.eol);return t}printTimeFields(e){let t="";for(const n of e){t+="t=".concat(n.time.startTime," ").concat(n.time.startTime).concat(this.eol);for(const e of n.repeats)t+="r=".concat(e.repeatInterval," ").concat(e.typedTimes.join(" ")).concat(this.eol);n.zoneAdjustments&&(t+="z=",t+="z=".concat(n.zoneAdjustments.map((e=>"".concat(e.time," ").concat(e.back?"-":""," ").concat(e.typedTime))).join(" ")).concat(this.eol),t+=this.eol)}return t}printKey(e){return e?"k=".concat(e).concat(this.eol):""}printAttributes(e){let t="";for(const n of e)t+="a=".concat(n.attField).concat(n.attValue?":".concat(n.attValue):"").concat(this.eol);return t}printMediaDescription(e){let t="";for(const n of e)t+=this.printMedia(n.media),t+=this.printInformation(n.information),t+=this.printConnections(n.connections),t+=this.printBandwidth(n.bandwidths),t+=this.printKey(n.key),t+=this.printMediaAttributes(n);return t}printConnections(e){let t="";for(const n of e)t+=this.printConnection(n);return t}printMedia(e){return"m=".concat(e.mediaType," ").concat(e.port," ").concat(e.protos.join("/")," ").concat(e.fmts.join(" ")).concat(this.eol)}printSessionAttributes(e){return new O(this.eol).print(e)}printMediaAttributes(e){return new k(this.eol).print(e)}}class T{constructor(e){w(this,"eol",void 0),this.eol=e}printIceUfrag(e){return void 0===e?"":"a=ice-ufrag:".concat(e).concat(this.eol)}printIcePwd(e){return void 0===e?"":"a=ice-pwd:".concat(e).concat(this.eol)}printIceOptions(e){return void 0===e?"":"a=ice-options:".concat(e.join(o)).concat(this.eol)}printFingerprints(e){return e.length>0?e.map((e=>"a=fingerprint:".concat(e.hashFunction).concat(o).concat(e.fingerprint))).join(this.eol)+this.eol:""}printExtmap(e){return e.map((e=>"a=extmap:".concat(e.entry).concat(e.direction?"/".concat(e.direction):"").concat(o).concat(e.extensionName).concat(e.extensionAttributes?"".concat(o).concat(e.extensionAttributes):"").concat(this.eol))).join("")}printSetup(e){return void 0===e?"":"a=setup:".concat(e).concat(this.eol)}printUnrecognized(e){return e.map((e=>"a=".concat(e.attField).concat(e.attValue?":".concat(e.attValue):"").concat(this.eol))).join("")}}class O extends T{print(e){let t="";return t+=this.printGroups(e.groups),t+=this.printMsidSemantic(e.msidSemantic),t+=this.printIceLite(e.iceLite),t+=this.printIceUfrag(e.iceUfrag),t+=this.printIcePwd(e.icePwd),t+=this.printIceOptions(e.iceOptions),t+=this.printFingerprints(e.fingerprints),t+=this.printSetup(e.setup),t+=this.printTlsId(e.tlsId),t+=this.printIdentity(e.identities),t+=this.printExtmap(e.extmaps),t+=this.printUnrecognized(e.unrecognized),t}printGroups(e){let t="";return e.length>0&&(t+=e.map((e=>"a=group:".concat(e.semantic).concat(e.identificationTag.map((e=>"".concat(o).concat(e))).join("")).concat(this.eol))).join("")),t}printIceLite(e){return void 0===e?"":"a=ice-lite"+this.eol}printTlsId(e){return e?"a=tls-id:".concat(e).concat(this.eol):""}printIdentity(e){return 0===e.length?"":e.map((e=>"a=identity:".concat(e.assertionValue).concat(e.extensions.map((e=>"".concat(o).concat(e.name).concat(e.value?"=".concat(e.value):"")))))).join(this.eol)+this.eol}printMsidSemantic(e){if(!e)return"";let t="a=msid-semantic:".concat(e.semantic);return e.applyForAll?t+="".concat(o,"*"):e.identifierList.length>0&&(t+=e.identifierList.map((e=>"".concat(o).concat(e)))),t+this.eol}}class k extends T{print(e){const t=e.attributes;let n="";return n+=this.printRTCP(t.rtcp),n+=this.printIceUfrag(t.iceUfrag),n+=this.printIcePwd(t.icePwd),n+=this.printIceOptions(t.iceOptions),n+=this.printCandidates(t.candidates),n+=this.printRemoteCandidatesList(t.remoteCandidatesList),n+=this.printEndOfCandidates(t.endOfCandidates),n+=this.printFingerprints(t.fingerprints),n+=this.printSetup(t.setup),n+=this.printMid(t.mid),n+=this.printExtmap(t.extmaps),n+=this.printRTPRelated(t),n+=this.printPtime(t.ptime),n+=this.printMaxPtime(t.maxPtime),n+=this.printDirection(t.direction),n+=this.printSSRCGroups(t.ssrcGroups),n+=this.printSSRC(t.ssrcs),n+=this.printRTCPMux(t.rtcpMux),n+=this.printRTCPMuxOnly(t.rtcpMuxOnly),n+=this.printRTCPRsize(t.rtcpRsize),n+=this.printMSId(t.msids),n+=this.printImageattr(t.imageattr),n+=this.printRid(t.rids),n+=this.printSimulcast(t.simulcast),n+=this.printSCRPPort(t.sctpPort),n+=this.printMaxMessageSize(t.maxMessageSize),n+=this.printUnrecognized(t.unrecognized),n}printCandidates(e){return e.map((e=>"a=candidate:".concat(e.foundation).concat(o).concat(e.componentId).concat(o).concat(e.transport).concat(o).concat(e.priority).concat(o).concat(e.connectionAddress).concat(o).concat(e.port).concat(o,"typ").concat(o).concat(e.type).concat(e.relAddr?"".concat(o,"raddr").concat(o).concat(e.relAddr):"").concat(e.relPort?"".concat(o,"rport").concat(o).concat(e.relPort):"").concat(Object.keys(e.extension).map((t=>"".concat(o).concat(t).concat(o).concat(e.extension[t]))).join("")).concat(this.eol))).join("")}printRemoteCandidatesList(e){return e.map((e=>"a=remote-candidates:".concat(e.join(o)).concat(this.eol))).join("")}printEndOfCandidates(e){return void 0===e?"":"a=end-of-candidates"+this.eol}printRTPRelated(e){if(!e.payloads)return"";const t=e.payloads;let n="";n+=e.rtcpFeedbackWildcards.map((e=>this.printRTCPFeedback("*",e))).join("");for(const e of t)n+=this.printRtpMap(e.payloadType,e.rtpMap),n+=this.printFmtp(e.payloadType,e.fmtp),n+=e.rtcpFeedbacks.map((t=>this.printRTCPFeedback(e.payloadType,t))).join("");return n}printFmtp(e,t){if(!t)return"";const n=Object.keys(t.parameters);return 1===n.length&&void 0===t.parameters[n[0]]?"a=fmtp:".concat(e).concat(o).concat(n[0]).concat(this.eol):"a=fmtp:".concat(e).concat(o).concat(Object.keys(t.parameters).map((e=>"".concat(e,"=").concat(t.parameters[e]))).join(";")).concat(this.eol)}printRtpMap(e,t){return t?"a=rtpmap:".concat(e).concat(o).concat(t.encodingName,"/").concat(t.clockRate).concat(t.encodingParameters?"/".concat(t.encodingParameters):"").concat(this.eol):""}printRTCPFeedback(e,t){let n="a=rtcp-fb:".concat(e).concat(o),r=t;return"trr-int"===r.type?n+="ttr-int".concat(o).concat(r.interval):(n+="".concat(r.type),r.parameter&&(n+="".concat(o).concat(r.parameter),r.additional&&(n+="".concat(o).concat(r.additional)))),n+this.eol}printPtime(e){return void 0===e?"":"a=ptime:".concat(e).concat(this.eol)}printMaxPtime(e){return void 0===e?"":"a=maxptime:".concat(e).concat(this.eol)}printDirection(e){return void 0===e?"":"a=".concat(e).concat(this.eol)}printSSRC(e){return e.map((e=>Object.keys(e.attributes).map((t=>"a=ssrc:".concat(e.ssrcId.toString(10)).concat(o).concat(t).concat(e.attributes[t]?":".concat(e.attributes[t]):"").concat(this.eol))).join(""))).join("")}printRTCPMux(e){return void 0===e?"":"a=rtcp-mux".concat(this.eol)}printRTCPMuxOnly(e){return void 0===e?"":"a=rtcp-mux-only".concat(this.eol)}printRTCPRsize(e){return void 0===e?"":"a=rtcp-rsize".concat(this.eol)}printRTCP(e){if(void 0===e)return"";let t="a=rtcp:".concat(e.port);return e.netType&&(t+="".concat(o).concat(e.netType)),e.addressType&&(t+="".concat(o).concat(e.addressType)),e.address&&(t+="".concat(o).concat(e.address)),t+this.eol}printMSId(e){return e.map((e=>"a=msid:".concat(e.id).concat(e.appdata?"".concat(o).concat(e.appdata):"").concat(this.eol))).join("")}printImageattr(e){return e.map((e=>"a=imageattr:".concat(e).concat(this.eol))).join("")}printRid(e){return e.map((e=>{let t="a=rid:".concat(e.id).concat(o).concat(e.direction);return e.payloads&&(t+="".concat(o,"pt=").concat(e.payloads.join(","))),e.params.length>0&&(t+="".concat(o).concat(e.params.map((e=>"depend"===e.type?"depend=".concat(e.rids.join(",")):"".concat(e.type,"=").concat(e.val))).join(";"))),t+this.eol})).join("")}printSimulcast(e){return void 0===e?"":"a=simulcast:".concat(e).concat(this.eol)}printSCRPPort(e){return void 0===e?"":"a=sctp-port:".concat(e).concat(this.eol)}printMaxMessageSize(e){return void 0===e?"":"a=max-message-size:".concat(e)}printMid(e){return void 0===e?"":"a=mid:".concat(e).concat(this.eol)}printSSRCGroups(e){return e.map((e=>"a=ssrc-group:".concat(e.semantic).concat(e.ssrcIds.map((e=>"".concat(o).concat(e.toString(10)))).join("")).concat(this.eol))).join("")}}function N(e){return(new _).parse(e)}function D(e,t){return(new R).print(e,t)}}},t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}return n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(8)})()}(NX);class HX{constructor(e){iO(this,"sessionDesc",void 0),iO(this,"localCapabilities",void 0),iO(this,"rtpCapabilities",void 0),iO(this,"candidates",void 0),iO(this,"iceParameters",void 0),iO(this,"dtlsParameters",void 0),iO(this,"setup",void 0),iO(this,"currentMidIndex",void 0),iO(this,"cname",void 0),e=BG(e);const{remoteIceParameters:t,remoteDtlsParameters:n,candidates:r,remoteRTPCapabilities:i,remoteSetup:o,localCapabilities:a,sdkCodec:s,cname:c}=e,u=NX.exports.parse("v=0\no=- 0 0 IN IP4 127.0.0.1\ns=AgoraGateway\nt=0 0\na=group:BUNDLE audio video\na=msid-semantic: WMS\na=ice-lite\nm=audio 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendrecv\na=rtcp-mux\na=rtcp-rsize\na=mid:audio\nm=video 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendrecv\na=rtcp-mux\na=rtcp-rsize\na=mid:video\n");this.rtpCapabilities=i,this.candidates=r,this.iceParameters=t,this.dtlsParameters=n,this.setup=o,this.localCapabilities=a,this.cname=c;for(let e=0;e<u.mediaDescriptions.length;e++){const a=u.mediaDescriptions[e];if(a.attributes.iceUfrag=t.iceUfrag,a.attributes.icePwd=t.icePwd,a.attributes.fingerprints=n.fingerprints,a.attributes.candidates=r,a.attributes.setup=o,"video"===a.media.mediaType){a.media.fmts=i.videoCodecs.map((e=>e.payloadType.toString(10)));const e=i.videoCodecs.filter((e=>{var t;return null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase().includes(s)}));if(0===e.length)throw new Error("Codec ".concat(s," not supported by remote SDP."));a.attributes.payloads=e,a.attributes.extmaps=i.videoExtensions}"audio"===a.media.mediaType&&(a.media.fmts=i.audioCodecs.map((e=>e.payloadType.toString(10))),a.attributes.payloads=i.audioCodecs,a.attributes.extmaps=i.audioExtensions),u.mediaDescriptions[e]=this.mungMediaDesc(a)}this.sessionDesc=u,this.currentMidIndex=u.mediaDescriptions.length-1}toString(){return NX.exports.print(this.sessionDesc)}send(e,t,n){const{ssrcs:r,ssrcGroups:i}=BX(t,this.cname),o=this.sessionDesc.mediaDescriptions.find((t=>e===Rx.VIDEO?"video"===t.media.mediaType:"audio"===t.media.mediaType)),a=r[0].attributes.label,s=r[0].attributes.mslabel;return o.attributes.ssrcs=o.attributes.ssrcs.concat(r),o.attributes.ssrcGroups=o.attributes.ssrcGroups.concat(i),{id:a,mslabel:s}}batchSend(e){return e.map((e=>{let{kind:t,ssrcMsg:n}=e;return this.send(t,n,void 0)}))}stopSending(e){this.sessionDesc.mediaDescriptions.forEach((t=>{const n=[],r=[],i=[];t.attributes.ssrcs.forEach((t=>{e.includes(t.attributes.label||"")?i.push(t):n.push(t)})),t.attributes.ssrcGroups.forEach((e=>{i.map((e=>e.ssrcId)).includes(e.ssrcIds[0])||r.push(e)})),t.attributes.ssrcs=n,t.attributes.ssrcGroups=r}))}mute(e){const t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error("mediaDescription not found with ".concat(e," in remote SDP when calling RemoteSDP.mute."));t.attributes.direction="inactive"}unmute(e){const t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error("mediaDescription not found with ".concat(e," in remote SDP when calling RemoteSDP.unmute."));t.attributes.direction="sendonly"}receive(e,t,n){e.forEach(((e,t)=>{const n=e._mediaStreamTrack,r=this.sessionDesc.mediaDescriptions.findIndex((e=>e.attributes.mid===n.kind)),i=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[r],e);this.sessionDesc.mediaDescriptions[r]=i}))}stopReceiving(e){}restartICE(e,t){e=BG(e),t=BG(t),this.iceParameters=e,this.candidates=t,this.sessionDesc.mediaDescriptions.forEach((t=>{t.attributes.iceUfrag=e.iceUfrag,t.attributes.icePwd=e.icePwd,t.attributes.candidates=this.candidates}))}predictReceivingMids(e){const t=[];for(let n=0;n<e;n++)t.push((this.currentMidIndex+n+1).toString(10));return t}mungRecvMediaDsec(e,t){const n=BG(e);return FX(n,t),jX(n,t),n}updateRecvMedia(e,t){const n=this.sessionDesc.mediaDescriptions.findIndex((t=>t.attributes.mid===e));if(-1!==n){const e=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[n],t);this.sessionDesc.mediaDescriptions[n]=e}}bumpMid(e){this.currentMidIndex+=e}updateTrackLabel(e,t,n){const r=this.sessionDesc.mediaDescriptions.find((t=>e===Rx.VIDEO?"video"===t.attributes.mid:"audio"===t.attributes.mid));if(r){const e=r.attributes.ssrcs.find((e=>e.attributes.label===t));var i;e&&(e.attributes.label=n,null===(i=e.attributes.msid)||void 0===i||i.replace(t,n))}}mungMediaDesc(e){const t=BG(e);return UX(t),function(e){const t=e.attributes.extmaps.find((e=>"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"===e.extensionName));t&&e.attributes.extmaps.splice(e.attributes.extmaps.indexOf(t),1),e.attributes.payloads.forEach((e=>{const t=e.rtcpFeedbacks.findIndex((e=>"transport-cc"===e.type));-1!==t&&e.rtcpFeedbacks.splice(t,1)}))}(t),t}getSSRC(e){for(const t of this.sessionDesc.mediaDescriptions)for(const n of t.attributes.ssrcs)if(n.attributes.label===e)return[n]}}function zX(e){if(Array.isArray(e))return e.map((function(e){return e}));if(!WX(e))return e;var t={};for(var n in e)WX(e[n])||Array.isArray(e[n])?t[n]=zX(e[n]):t[n]=e[n];return t}function WX(e){return!("object"!=typeof e||Array.isArray(e)||!e)}var KX=function(){function e(e){this.input=[],this.size=e}return e.prototype.add=function(e){this.input.push(e),this.input.length>this.size&&this.input.splice(0,1)},e.prototype.diffMean=function(){return 0===this.input.length?0:(this.input[this.input.length-1]-this.input[0])/this.input.length},e}(),YX=function(e,t){return(YX=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function JX(e,t){function n(){this.constructor=e}YX(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var ZX=function(){return(ZX=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function XX(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function $X(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var e$,t$={address:"unknown",candidateType:"unknown",id:"unknown",port:0,priority:0,protocol:"unknown",type:"unknown"},n$={timestamp:0,bitrate:{actualEncoded:0,transmit:0},sendPacketLossRate:0,recvPacketLossRate:0,videoRecv:[],videoSend:[],audioRecv:[],audioSend:[],selectedCandidatePair:{id:"unknown",localCandidate:t$,remoteCandidate:t$}},r$={firsCount:0,nacksCount:0,plisCount:0,framesDecodeCount:0,framesDecodeInterval:0,framesDecodeFreezeTime:0,decodeFrameRate:0,bytes:0,packetsLost:0,packetLostRate:0,packets:0,ssrc:0,qpSumPerFrame:0},i$={firsCount:0,nacksCount:0,plisCount:0,frameCount:0,bytes:0,packets:0,packetsLost:0,packetLostRate:0,ssrc:0,rttMs:0,qpSumPerFrame:0},o$={bytes:0,packets:0,packetsLost:0,packetLostRate:0,ssrc:0,rttMs:0},a$={jitterBufferMs:0,jitterMs:0,bytes:0,packetsLost:0,packetLostRate:0,packets:0,ssrc:0,receivedFrames:0,droppedFrames:0},s$=function(){function e(e,t){var n=this;this.videoIsReady=!1,this.videoIsReady2={},this.stats=zX(n$),this.isFirstVideoReceived={},this.isFirstVideoDecoded={},this.isFirstAudioReceived={},this.isFirstAudioDecoded={},this.lossRateWindowStats=[],this.pc=e,this.options=t,this.intervalTimer=window.setInterval((function(){return XX(n,void 0,void 0,(function(){return $X(this,(function(e){return this.updateStats(),[2]}))}))}),this.options.updateInterval)}return e.prototype.getStats=function(){return this.stats},e.prototype.setVideoIsReady=function(e){this.videoIsReady=e},e.prototype.setVideoIsReady2=function(e,t){this.videoIsReady2[e]=t},e.prototype.getVideoIsReady=function(e){return this.videoIsReady2[e]||!1},e.prototype.setIsFirstAudioDecoded=function(e){},e.prototype.destroy=function(){window.clearInterval(this.intervalTimer),this.pc=void 0},e.prototype.calcLossRate=function(e){var t=this;this.lossRateWindowStats.push(e),this.lossRateWindowStats.length>this.options.lossRateInterval&&this.lossRateWindowStats.splice(0,1);for(var n=this.lossRateWindowStats.length,r=0,i=0,o=0,a=0,s=function(s){e[s].forEach((function(e,c){if(t.lossRateWindowStats[n-1][s][c]&&t.lossRateWindowStats[0][s][c]){var u=t.lossRateWindowStats[n-1][s][c].packets-t.lossRateWindowStats[0][s][c].packets,l=t.lossRateWindowStats[n-1][s][c].packetsLost-t.lossRateWindowStats[0][s][c].packetsLost;"videoSend"===s||"audioSend"===s?(r+=u,o+=l):(i+=u,a+=l),Number.isNaN(u)||Number.isNaN(u)?e.packetLostRate=0:e.packetLostRate=u<=0||l<=0?0:l/(u+l)}}))},c=0,u=["videoSend","audioSend","videoRecv","audioRecv"];c<u.length;c++)s(u[c]);e.sendPacketLossRate=r<=0||o<=0?0:o/(r+o),e.recvPacketLossRate=i<=0||a<=0?0:a/(i+a)},e}(),c$=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._stats=n$,t.lastDecodeVideoReceiverStats=new Map,t}return JX(t,e),t.prototype.updateStats=function(){return XX(this,void 0,void 0,(function(){var e,t,n,r;return $X(this,(function(i){switch(i.label){case 0:return[4,this._getStats()];case 1:return e=i.sent(),t=this.statsResponsesToObjects(e),this._stats=zX(n$),n=t.filter((function(e){return"ssrc"===e.type})),this.processSSRCStats(n),(r=t.find((function(e){return"VideoBwe"===e.type})))&&this.processBandwidthStats(r),this._stats.timestamp=Date.now(),this.calcLossRate(this._stats),this.stats=this._stats,[2]}}))}))},t.prototype.processBandwidthStats=function(e){this._stats.bitrate={actualEncoded:Number(e.googActualEncBitrate),targetEncoded:Number(e.googTargetEncBitrate),retransmit:Number(e.googRetransmitBitrate),transmit:Number(e.googTransmitBitrate)},this._stats.sendBandwidth=Number(e.googAvailableSendBandwidth)},t.prototype.processSSRCStats=function(e){var t=this;e.forEach((function(e){var n=e.id.includes("send");switch(e.mediaType+"_"+(n?"send":"recv")){case"video_send":var r=zX(i$);r.codec=e.googCodecName,r.adaptionChangeReason="none",e.googCpuLimitedResolution&&(r.adaptionChangeReason="cpu"),e.googBandwidthLimitedResolution&&(r.adaptionChangeReason="bandwidth"),r.avgEncodeMs=Number(e.googAvgEncodeMs),r.inputFrame={width:Number(e.googFrameWidthInput)||Number(e.googFrameWidthSent),height:Number(e.googFrameHeightInput)||Number(e.googFrameHeightSent),frameRate:Number(e.googFrameRateInput)},r.sentFrame={width:Number(e.googFrameWidthSent),height:Number(e.googFrameHeightSent),frameRate:Number(e.googFrameRateInput)},r.firsCount=Number(e.googFirReceived),r.nacksCount=Number(e.googNacksReceived),r.plisCount=Number(e.googPlisReceived),r.frameCount=Number(e.framesEncoded),r.bytes=Number(e.bytesSent),r.packets=Number(e.packetsSent),r.packetsLost=Number(e.packetsLost),r.ssrc=Number(e.ssrc),r.rttMs=Number(e.googRtt||0),t._stats.videoSend.push(r),t._stats.rtt=r.rttMs;break;case"video_recv":var i=zX(r$),o=t.lastDecodeVideoReceiverStats.get(Number(e.ssrc));if(i.codec=e.googCodecName,i.targetDelayMs=Number(e.googTargetDelayMs),i.renderDelayMs=Number(e.googRenderDelayMs),i.currentDelayMs=Number(e.googCurrentDelayMs),i.minPlayoutDelayMs=Number(e.googMinPlayoutDelayMs),i.decodeMs=Number(e.googDecodeMs),i.maxDecodeMs=Number(e.googMaxDecodeMs),i.receivedFrame={width:Number(e.googFrameWidthReceived),height:Number(e.googFrameHeightReceived),frameRate:Number(e.googFrameRateReceived)},i.decodedFrame={width:Number(e.googFrameWidthReceived),height:Number(e.googFrameHeightReceived),frameRate:Number(e.googFrameRateDecoded)},i.decodeFrameRate=Number(e.googFrameRateDecoded),i.outputFrame={width:Number(e.googFrameWidthReceived),height:Number(e.googFrameHeightReceived),frameRate:Number(e.googFrameRateOutput)},i.jitterBufferMs=Number(e.googJitterBufferMs),i.firsCount=Number(e.googFirsSent),i.nacksCount=Number(e.googNacksSent),i.plisCount=Number(e.googPlisSent),i.framesDecodeCount=Number(e.framesDecoded),i.bytes=Number(e.bytesReceived),i.packets=Number(e.packetsReceived),i.packetsLost=Number(e.packetsLost),i.ssrc=Number(e.ssrc),i.packets>0&&!t.isFirstVideoReceived[i.ssrc]&&(t.onFirstVideoReceived&&t.onFirstVideoReceived(i.ssrc),t.isFirstVideoReceived[i.ssrc]=!0),i.framesDecodeCount>0&&!t.isFirstVideoDecoded[i.ssrc]&&(t.onFirstVideoDecoded&&t.onFirstVideoDecoded(i.ssrc,i.decodedFrame.width,i.decodedFrame.height),t.isFirstVideoDecoded[i.ssrc]=!0),o){var a=o.stats,s=Date.now()-o.lts;i.framesDecodeFreezeTime=a.framesDecodeFreezeTime,i.framesDecodeInterval=a.framesDecodeInterval,i.framesDecodeCount>a.framesDecodeCount&&t.isFirstVideoDecoded[i.ssrc]?(o.lts=Date.now(),i.framesDecodeInterval=s,i.framesDecodeInterval>=t.options.freezeRateLimit&&(t.getVideoIsReady(parseInt(e.ssrc,10))?i.framesDecodeFreezeTime+=i.framesDecodeInterval:t.setVideoIsReady2(parseInt(e.ssrc,10),!0))):i.framesDecodeCount<o.stats.framesDecodeCount&&(i.framesDecodeInterval=0)}t.lastDecodeVideoReceiverStats.set(i.ssrc,{stats:ZX({},i),lts:Date.now()}),t._stats.videoRecv.push(i);break;case"audio_recv":var c=zX(a$);c.codec=e.googCodecName,c.outputLevel=Math.abs(Number(e.audioOutputLevel))/32767,c.decodingCNG=Number(e.googDecodingCNG),c.decodingCTN=Number(e.googDecodingCTN),c.decodingCTSG=Number(e.googDecodingCTSG),c.decodingNormal=Number(e.googDecodingNormal),c.decodingPLC=Number(e.googDecodingPLC),c.decodingPLCCNG=Number(e.googDecodingPLCCNG),c.expandRate=Number(e.googExpandRate),c.accelerateRate=Number(e.googAccelerateRate),c.preemptiveExpandRate=Number(e.googPreemptiveExpandRate),c.secondaryDecodedRate=Number(e.googSecondaryDecodedRate),c.speechExpandRate=Number(e.googSpeechExpandRate),c.preferredJitterBufferMs=Number(e.googPreferredJitterBufferMs),c.jitterBufferMs=Number(e.googJitterBufferMs),c.jitterMs=Number(e.googJitterReceived),c.bytes=Number(e.bytesReceived),c.packets=Number(e.packetsReceived),c.packetsLost=Number(e.packetsLost),c.ssrc=Number(e.ssrc),c.receivedFrames=Number(e.googDecodingCTN)||Number(e.packetsReceived),c.droppedFrames=Number(e.googDecodingPLC)+Number(e.googDecodingPLCCNG)||Number(e.packetsLost),c.receivedFrames>0&&!t.isFirstAudioReceived[c.ssrc]&&(t.onFirstAudioReceived&&t.onFirstAudioReceived(c.ssrc),t.isFirstAudioReceived[c.ssrc]=!0),c.decodingNormal>0&&!t.isFirstAudioDecoded[c.ssrc]&&(t.onFirstAudioDecoded&&t.onFirstAudioDecoded(c.ssrc),t.isFirstAudioDecoded[c.ssrc]=!0),t._stats.audioRecv.push(c);break;case"audio_send":var u=zX(o$);u.codec=e.googCodecName,u.inputLevel=Math.abs(Number(e.audioInputLevel))/32767,u.aecReturnLoss=Number(e.googEchoCancellationReturnLoss||0),u.aecReturnLossEnhancement=Number(e.googEchoCancellationReturnLossEnhancement||0),u.residualEchoLikelihood=Number(e.googResidualEchoLikelihood||0),u.residualEchoLikelihoodRecentMax=Number(e.googResidualEchoLikelihoodRecentMax||0),u.bytes=Number(e.bytesSent),u.packets=Number(e.packetsSent),u.packetsLost=Number(e.packetsLost),u.ssrc=Number(e.ssrc),u.rttMs=Number(e.googRtt||0),t._stats.rtt=u.rttMs,t._stats.audioSend.push(u)}}))},t.prototype._getStats=function(){var e=this;return new Promise((function(t,n){e.pc.getStats(t,n)}))},t.prototype.statsResponsesToObjects=function(e){var t=[];return e.result().forEach((function(e){var n={id:e.id,timestamp:e.timestamp.valueOf().toString(),type:e.type};e.names().forEach((function(t){n[t]=e.stat(t)})),t.push(n)})),t},t}(s$);!function(e){e.CERTIFICATE="certificate",e.CODEC="codec",e.CANDIDATE_PAIR="candidate-pair",e.LOCAL_CANDIDATE="local-candidate",e.REMOTE_CANDIDATE="remote-candidate",e.INBOUND="inbound-rtp",e.TRACK="track",e.OUTBOUND="outbound-rtp",e.PC="peer-connection",e.REMOTE_INBOUND="remote-inbound-rtp",e.REMOTE_OUTBOUND="remote-outbound-rtp",e.TRANSPORT="transport",e.CSRC="csrc",e.DATA_CHANNEL="data-channel",e.STREAM="stream",e.SENDER="sender",e.RECEIVER="receiver"}(e$||(e$={}));var u$,l$=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._stats=n$,t.lastDecodeVideoReceiverStats=new Map,t.lastVideoFramesRecv=new Map,t.lastVideoFramesSent=new Map,t.lastVideoFramesDecode=new Map,t.lastVideoJBDelay=new Map,t.lastAudioJBDelay=new Map,t.mediaBytesSent=new Map,t.mediaBytesRetransmit=new Map,t.mediaBytesTargetEncode=new Map,t.lastEncoderMs=new Map,t}return JX(t,e),t.prototype.updateStats=function(){return XX(this,void 0,void 0,(function(){var e,t=this;return $X(this,(function(n){switch(n.label){case 0:return e=this,[4,this.pc.getStats()];case 1:return e.report=n.sent(),this._stats=zX(n$),this.report.forEach((function(e){switch(e.type){case e$.OUTBOUND:"audio"===e.mediaType?t.processAudioOutboundStats(e):"video"===e.mediaType&&t.processVideoOutboundStats(e);break;case e$.INBOUND:"audio"===e.mediaType?t.processAudioInboundStats(e):"video"===e.mediaType&&t.processVideoInboundStats(e);break;case e$.TRANSPORT:var n=t.report.get(e.selectedCandidatePairId);n&&t.processCandidatePairStats(n);break;case e$.CANDIDATE_PAIR:e.selected&&t.processCandidatePairStats(e)}})),this.updateSendBitrate(),this._stats.timestamp=Date.now(),this.calcLossRate(this._stats),this.stats=this._stats,[2]}}))}))},t.prototype.processCandidatePairStats=function(e){if(this._stats.sendBandwidth=e.availableOutgoingBitrate||0,e.currentRoundTripTime&&(this._stats.rtt=1e3*e.currentRoundTripTime),this._stats.videoSend.forEach((function(t){!t.rttMs&&e.currentRoundTripTime&&(t.rttMs=1e3*e.currentRoundTripTime)})),this._stats.audioSend.forEach((function(t){!t.rttMs&&e.currentRoundTripTime&&(t.rttMs=1e3*e.currentRoundTripTime)})),this._stats.selectedCandidatePair.id=e.id,e.localCandidateId){var t=this.report.get(e.localCandidateId);t&&this.processCandidateStats(t)}if(e.remoteCandidateId){var n=this.report.get(e.remoteCandidateId);n&&this.processCandidateStats(n)}},t.prototype.processCandidateStats=function(e){var t;e.type===e$.LOCAL_CANDIDATE&&(t=this._stats.selectedCandidatePair.localCandidate),e.type===e$.REMOTE_CANDIDATE&&(t=this._stats.selectedCandidatePair.remoteCandidate),t&&(t.type=e.type,t.id=e.id,e.address&&(t.address=e.address),e.candidateType&&(t.candidateType=e.candidateType),e.port&&(t.port=e.port),e.priority&&(t.priority=e.priority),e.protocol&&(t.protocol=e.protocol),e.relayProtocol&&(t.relayProtocol=e.relayProtocol),e.type===e$.LOCAL_CANDIDATE&&this.stats.selectedCandidatePair.localCandidate.id!==t.id&&this.onSelectedLocalCandidateChanged&&this.onSelectedLocalCandidateChanged(ZX({},t),ZX({},this.stats.selectedCandidatePair.localCandidate)),e.type===e$.REMOTE_CANDIDATE&&this.stats.selectedCandidatePair.remoteCandidate.id!==t.id&&this.onSelectedRemoteCandidateChanged&&this.onSelectedRemoteCandidateChanged(ZX({},t),ZX({},this.stats.selectedCandidatePair.remoteCandidate)))},t.prototype.processAudioInboundStats=function(e){var t=this._stats.audioRecv.find((function(t){return t.ssrc===e.ssrc}));t||(t=zX(a$),this._stats.audioRecv.push(t)),t.ssrc=e.ssrc,t.packets=e.packetsReceived,t.packetsLost=e.packetsLost,t.bytes=e.bytesReceived,t.jitterMs=1e3*e.jitter,e.trackId&&this.processAudioTrackReceiverStats(e.trackId,t),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),t.receivedFrames||(t.receivedFrames=e.packetsReceived),t.droppedFrames||(t.droppedFrames=e.packetsLost),t.receivedFrames>0&&!this.isFirstAudioReceived[t.ssrc]&&(this.onFirstAudioReceived&&this.onFirstAudioReceived(t.ssrc),this.isFirstAudioReceived[t.ssrc]=!0),t.outputLevel&&t.outputLevel>0&&!this.isFirstAudioDecoded[t.ssrc]&&(this.onFirstAudioDecoded&&this.onFirstAudioDecoded(t.ssrc),this.isFirstAudioDecoded[t.ssrc]=!0)},t.prototype.processVideoInboundStats=function(e){var t=this._stats.videoRecv.find((function(t){return t.ssrc===e.ssrc}));t||(t=zX(r$),this._stats.videoRecv.push(t)),t.ssrc=e.ssrc,t.packets=e.packetsReceived,t.packetsLost=e.packetsLost,t.bytes=e.bytesReceived,t.firsCount=e.firCount,t.nacksCount=e.nackCount,t.plisCount=e.pliCount,t.framesDecodeCount=e.framesDecoded;var n=this.lastDecodeVideoReceiverStats.get(t.ssrc),r=this.lastVideoFramesDecode.get(t.ssrc),i=Date.now();if(t.framesDecodeCount>0&&!this.isFirstVideoDecoded[t.ssrc]){var o=t.decodedFrame?t.decodedFrame.width:0,a=t.decodedFrame?t.decodedFrame.height:0;this.onFirstVideoDecoded&&this.onFirstVideoDecoded(t.ssrc,o,a),this.isFirstVideoDecoded[t.ssrc]=!0}if(n){var s=n.stats,c=i-n.lts;t.framesDecodeFreezeTime=s.framesDecodeFreezeTime,t.framesDecodeInterval=s.framesDecodeInterval,!this.isFirstVideoDecoded[t.ssrc]&&c>this.options.firstVideoDecodedTimeout&&this.onFirstVideoDecodedTimeout&&this.onFirstVideoDecodedTimeout(t.ssrc),t.framesDecodeCount>s.framesDecodeCount&&this.isFirstVideoDecoded[t.ssrc]?(n.lts=Date.now(),t.framesDecodeInterval=c,t.framesDecodeInterval>=this.options.freezeRateLimit&&(this.getVideoIsReady(parseInt(e.ssrc))?t.framesDecodeFreezeTime+=t.framesDecodeInterval:this.setVideoIsReady2(parseInt(e.ssrc,10),!0))):t.framesDecodeCount<s.framesDecodeCount&&(t.framesDecodeInterval=0),e.framesDecoded&&e.qpSum&&(n.stats.framesDecodeCount>e.framesDecoded?t.qpSumPerFrame=e.qpSum/e.framesDecoded:t.qpSumPerFrame=(e.qpSum-n.qpSum)/(e.framesDecoded-n.stats.framesDecodeCount))}r&&i-r.lts>=800?(t.decodeFrameRate=Math.round((t.framesDecodeCount-r.count)/((i-r.lts)/1e3)),this.lastVideoFramesDecode.set(t.ssrc,{count:t.framesDecodeCount,lts:i,rate:t.decodeFrameRate})):r?t.decodeFrameRate=r.rate:this.lastVideoFramesDecode.set(t.ssrc,{count:t.framesDecodeCount,lts:i,rate:0}),e.totalDecodeTime&&(t.decodeMs=1e3*e.totalDecodeTime),e.trackId&&this.processVideoTrackReceiverStats(e.trackId,t),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),e.framerateMean&&(t.framesRateFirefox=e.framerateMean),t.packets>0&&!this.isFirstVideoReceived[t.ssrc]&&(this.onFirstVideoReceived&&this.onFirstVideoReceived(t.ssrc),this.isFirstVideoReceived[t.ssrc]=!0),this.lastDecodeVideoReceiverStats.set(t.ssrc,{stats:ZX({},t),lts:n?n.lts:Date.now(),qpSum:e.qpSum})},t.prototype.processVideoOutboundStats=function(e){var t=this._stats.videoSend.find((function(t){return t.ssrc===e.ssrc}));t||(t=zX(i$),this._stats.videoSend.push(t));var n,r=this.mediaBytesSent.get(e.ssrc);if(r?r.add(e.bytesSent):((o=new KX(10)).add(e.bytesSent),this.mediaBytesSent.set(e.ssrc,o)),void 0!==e.retransmittedBytesSent){var i=this.mediaBytesRetransmit.get(e.ssrc);i?i.add(e.retransmittedBytesSent):((o=new KX(10)).add(e.retransmittedBytesSent),this.mediaBytesRetransmit.set(e.ssrc,o))}if(e.totalEncodedBytesTarget){var o,a=this.mediaBytesTargetEncode.get(e.ssrc);a?a.add(e.totalEncodedBytesTarget):((o=new KX(10)).add(e.totalEncodedBytesTarget),this.mediaBytesTargetEncode.set(e.ssrc,o))}if(t.ssrc=e.ssrc,t.bytes=e.bytesSent,t.packets=e.packetsSent,t.firsCount=e.firCount,t.nacksCount=e.nackCount,t.plisCount=e.pliCount,t.frameCount=e.framesEncoded,t.adaptionChangeReason=e.qualityLimitationReason,e.totalEncodeTime&&e.framesEncoded)if(!(n=this.lastEncoderMs.get(e.ssrc))||n.lastFrameCount>e.framesEncoded)t.avgEncodeMs=1e3*e.totalEncodeTime/e.framesEncoded;else{var s=e.framesEncoded-n.lastFrameCount,c=e.totalEncodeTime-n.lastEncoderTime;t.avgEncodeMs=1e3*c/s}if(e.framesEncoded&&e.qpSum&&(!(n=this.lastEncoderMs.get(e.ssrc))||n.lastFrameCount>e.framesEncoded?t.qpSumPerFrame=e.qpSum/e.framesEncoded:t.qpSumPerFrame=(e.qpSum-n.lastQpSum)/(e.framesEncoded-n.lastFrameCount)),this.lastEncoderMs.set(e.ssrc,{lastFrameCount:e.framesEncoded,lastEncoderTime:e.totalEncodeTime,lastQpSum:e.qpSum,lts:Date.now()}),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),e.mediaSourceId&&this.processVideoMediaSource(e.mediaSourceId,t),e.trackId&&this.processVideoTrackSenderStats(e.trackId,t),e.remoteId)this.processRemoteInboundStats(e.remoteId,t);else{var u=this.findRemoteStatsId(e.ssrc,e$.REMOTE_INBOUND);u&&this.processRemoteInboundStats(u,t)}},t.prototype.processAudioOutboundStats=function(e){var t=this._stats.audioSend.find((function(t){return t.ssrc===e.ssrc}));if(t||(t=zX(o$),this._stats.audioSend.push(t)),t.ssrc=e.ssrc,t.packets=e.packetsSent,t.bytes=e.bytesSent,e.mediaSourceId&&this.processAudioMediaSource(e.mediaSourceId,t),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),e.trackId&&this.processAudioTrackSenderStats(e.trackId,t),e.remoteId)this.processRemoteInboundStats(e.remoteId,t);else{var n=this.findRemoteStatsId(e.ssrc,e$.REMOTE_INBOUND);n&&this.processRemoteInboundStats(n,t)}},t.prototype.findRemoteStatsId=function(e,t){var n=Array.from(this.report.values()).find((function(n){return n.type===t&&n.ssrc===e}));return n?n.id:null},t.prototype.processVideoMediaSource=function(e,t){var n=this.report.get(e);n&&n.width&&n.height&&n.framesPerSecond&&(t.inputFrame={width:n.width,height:n.height,frameRate:n.framesPerSecond})},t.prototype.processAudioMediaSource=function(e,t){var n=this.report.get(e);n&&(t.inputLevel=n.audioLevel)},t.prototype.processVideoTrackSenderStats=function(e,t){var n=this.report.get(e);if(n){var r=0,i=Date.now(),o=this.lastVideoFramesSent.get(t.ssrc);o&&i-o.lts>=800?(r=Math.round((n.framesSent-o.count)/((i-o.lts)/1e3)),this.lastVideoFramesSent.set(t.ssrc,{count:n.framesSent,lts:i,rate:r})):o?r=o.rate:this.lastVideoFramesSent.set(t.ssrc,{count:n.framesSent,lts:i,rate:0}),t.sentFrame={width:n.frameWidth,height:n.frameHeight,frameRate:r}}},t.prototype.processVideoTrackReceiverStats=function(e,t){var n=this.report.get(e);if(n){var r=this.lastVideoFramesRecv.get(t.ssrc),i=Date.now();t.framesReceivedCount=n.framesReceived;var o=0;if(r&&i-r.lts>=800?(o=Math.round((n.framesReceived-r.count)/((i-r.lts)/1e3)),this.lastVideoFramesRecv.set(t.ssrc,{count:n.framesReceived,lts:i,rate:o})):r?o=r.rate:this.lastVideoFramesRecv.set(t.ssrc,{count:n.framesReceived,lts:i,rate:0}),t.receivedFrame={width:n.frameWidth||0,height:n.frameHeight||0,frameRate:o||0},t.decodedFrame={width:n.frameWidth||0,height:n.frameHeight||0,frameRate:t.decodeFrameRate||0},t.outputFrame={width:n.frameWidth||0,height:n.frameHeight||0,frameRate:t.decodeFrameRate||0},n.jitterBufferDelay&&n.jitterBufferEmittedCount){var a=this.lastVideoJBDelay.get(t.ssrc);this.lastVideoJBDelay.set(t.ssrc,{jitterBufferDelay:n.jitterBufferDelay,jitterBufferEmittedCount:n.jitterBufferEmittedCount}),a||(a={jitterBufferDelay:0,jitterBufferEmittedCount:0});var s=1e3*(n.jitterBufferDelay-a.jitterBufferDelay)/(n.jitterBufferEmittedCount-a.jitterBufferEmittedCount);t.jitterBufferMs=s,t.currentDelayMs=Math.round(s)}}},t.prototype.processAudioTrackSenderStats=function(e,t){var n=this.report.get(e);n&&(t.aecReturnLoss=n.echoReturnLoss||0,t.aecReturnLossEnhancement=n.echoReturnLossEnhancement||0)},t.prototype.processAudioTrackReceiverStats=function(e,t){var n=this.report.get(e);if(n){if(n.removedSamplesForAcceleration&&n.totalSamplesReceived&&(t.accelerateRate=n.removedSamplesForAcceleration/n.totalSamplesReceived),n.jitterBufferDelay&&n.jitterBufferEmittedCount){var r=this.lastAudioJBDelay.get(t.ssrc);this.lastAudioJBDelay.set(t.ssrc,{jitterBufferDelay:n.jitterBufferDelay,jitterBufferEmittedCount:n.jitterBufferEmittedCount}),r||(r={jitterBufferDelay:0,jitterBufferEmittedCount:0});var i=1e3*(n.jitterBufferDelay-r.jitterBufferDelay)/(n.jitterBufferEmittedCount-r.jitterBufferEmittedCount);t.jitterBufferMs=Math.round(i)}t.outputLevel=n.audioLevel;var o=1920;n.totalSamplesDuration&&n.totalSamplesReceived&&(o=n.totalSamplesReceived/n.totalSamplesDuration/50,t.receivedFrames=Math.round(n.totalSamplesReceived/o)),n.concealedSamples&&(t.droppedFrames=Math.round(n.concealedSamples/o))}},t.prototype.processRemoteInboundStats=function(e,t){var n=this.report.get(e);n&&(t.packetsLost=n.packetsLost,n.roundTripTime&&(t.rttMs=1e3*n.roundTripTime))},t.prototype.getCodecFromCodecStats=function(e){var t=this.report.get(e);if(!t)return"";var n=t.mimeType.match(/\/(.*)$/);return n&&n[1]?n[1]:""},t.prototype.updateSendBitrate=function(){var e=0,t=null,n=null;this.mediaBytesSent.forEach((function(t){e+=t.diffMean()})),this.mediaBytesRetransmit.forEach((function(e){t=null===t?e.diffMean():t+e.diffMean()})),this.mediaBytesTargetEncode.forEach((function(e){n=null===n?e.diffMean():n+e.diffMean()}));var r=null!==t?e-t:e;this._stats.bitrate={actualEncoded:8*r/(this.options.updateInterval/1e3),transmit:8*e/(this.options.updateInterval/1e3)},null!==t&&(this._stats.bitrate.retransmit=8*t/(this.options.updateInterval/1e3)),null!==n&&(this._stats.bitrate.targetEncoded=8*n/(this.options.updateInterval/1e3))},t}(s$),d$=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return JX(t,e),t.prototype.updateStats=function(){return Promise.resolve()},t}(s$);function h$(e,t,n,r,i){void 0===t&&(t=250),void 0===n&&(n=8),void 0===r&&(r=500),void 0===i&&(i=1e4);var o,a=(o=navigator.userAgent.toLocaleLowerCase().match(/chrome\/[\d]*/i))&&o[0]?Number(o[0].split("/")[1]):null;return a?a<76?new c$(e,{updateInterval:t,lossRateInterval:n,freezeRateLimit:r,firstVideoDecodedTimeout:i}):new l$(e,{updateInterval:t,lossRateInterval:n,freezeRateLimit:r,firstVideoDecodedTimeout:i}):function(e){return!!window.RTCStatsReport&&e.getStats()instanceof Promise}(e)?new l$(e,{updateInterval:t,lossRateInterval:n,freezeRateLimit:r,firstVideoDecodedTimeout:i}):new d$(e,{updateInterval:t,lossRateInterval:n,freezeRateLimit:r,firstVideoDecodedTimeout:i})}function p$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p$(Object(n),!0).forEach((function(t){iO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let A$=(zj((u$=class e extends Px{get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}constructor(t,n){super(t,n),iO(this,"store",void 0),iO(this,"peerConnection",void 0),iO(this,"remoteSDP",void 0),iO(this,"initialOffer",void 0),iO(this,"statsFilter",void 0),iO(this,"useRTX",!1),iO(this,"localCapabilities",void 0),iO(this,"localCandidateCount",0),iO(this,"allCandidatesReceived",!1),iO(this,"mutex",new SV("P2PConnection-mutex")),this.store=n,this.peerConnection=new RTCPeerConnection(e.resolvePCConfiguration(t),{optional:[{googDscp:!0}]}),this.statsFilter=h$(this.peerConnection,void 0,void 0,BT()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1}async establish(){try{const e=await this.peerConnection.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});if(!e.sdp)throw new Error("Cannot get initialOffer.sdp when trying to establish PeerConnection.");const t=LX(e.sdp),n=xX(e.sdp,!this.useRTX,KN("FILTER_VIDEO_FEC"),KN("FILTER_AUDIO_FEC"),["opus"]);return this.localCapabilities=n,this.initialOffer=e,f$(f$({},t),{},{rtpCapabilities:{send:{audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},recv:{audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},sendrecv:n},offerSDP:e.sdp})}catch(e){throw new eN($k.GET_LOCAL_CONNECTION_PARAMS_FAILED,e.toString())}}async connect(e,t,n,r,i,o){try{if(!this.initialOffer)throw new Error("Cannot establish P2PConnection without initial offer.");this.remoteSDP=new HX({remoteIceParameters:e,remoteDtlsParameters:t,candidates:n,remoteRTPCapabilities:r.send,remoteSetup:i,localCapabilities:this.localCapabilities,sdkCodec:this.store.codec,cname:o});const a=this.remoteSDP.toString();await this.peerConnection.setLocalDescription(this.initialOffer),await this.peerConnection.setRemoteDescription({type:"answer",sdp:a})}catch(e){throw new eN($k.EXCHANGE_SDP_FAILED,"P2PConnection.connect failed; ".concat(e.toString()))}}send(e,t){var n=this;return aX((function*(){const r=yield sX(n.mutex.lock());try{if(!n.remoteSDP)throw new Error("Cannot call P2PConnection.send before remote SDP created");const i=e.map((e=>n.peerConnection.addTrack(e._mediaStreamTrack))),o=yield sX(n.peerConnection.createOffer()),a=NX.exports.parse(o.sdp),s=e.map((e=>{const t=e._mediaStreamTrack,r=a.mediaDescriptions.find((e=>e.attributes.mid===t.kind));if(!r)throw new Error("Cannot extract ssrc from mediaDescription.");return function(e,t,n){const r=e.attributes.ssrcs.filter((e=>e.attributes.label===t)),i=e.attributes.ssrcGroups;if(0===r.length)throw new Error("Cannot extract ssrc from plan-b SDP.");if(i&&r.length>1){const e=i.find((e=>-1!==e.ssrcIds.indexOf(r[0].ssrcId)));return e?[{ssrcId:e.ssrcIds[0],rtx:n?e.ssrcIds[1]:void 0}]:[{ssrcId:r[0].ssrcId}]}return[{ssrcId:r[0].ssrcId}]}(r,t.id,n.useRTX)}));let c;try{c=yield s}catch(e){throw i.forEach((e=>{MT()&&e.replaceTrack(null),n.peerConnection.removeTrack(e)})),e}const u=n.mungSendOfferSDP(o.sdp,e);n.remoteSDP.receive(e,t,c);const l=n.remoteSDP.toString();return yield sX(n.peerConnection.setLocalDescription({type:"offer",sdp:u})),yield sX(n.applySendEncodings(i,e)),yield sX(n.peerConnection.setRemoteDescription({type:"answer",sdp:l})),e.map(((e,t)=>{const n=e._mediaStreamTrack.id;return{localSSRC:s[t],id:n}}))}catch(e){throw new eN($k.EXCHANGE_SDP_FAILED,"P2PConnection.send failed; ".concat(e.toString()))}finally{r()}}))()}async stopSending(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopSending before remote SDP created");const t=this.peerConnection.getSenders().filter((t=>{var n;return-1!==e.indexOf((null===(n=t.track)||void 0===n?void 0:n.id)||"")}));if(t.length!==e.length)throw new Error("Transceivers' length doesn't match mids' length when trying to call P2PConnection.stopSending.");t.map((e=>{MT()&&e.replaceTrack(null),this.peerConnection.removeTrack(e)}));const n=await this.peerConnection.createOffer();await this.peerConnection.setLocalDescription(n),this.remoteSDP.stopReceiving(e);const r=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"answer",sdp:r})}catch(e){throw new eN($k.EXCHANGE_SDP_FAILED,"P2PConnection.stopSending failed; ".concat(e.toString()))}}async receive(e,t,n,r){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.receive ".concat(e," before remoteSDP created."));const{id:n,mslabel:i}=this.remoteSDP.send(e,t,r),o=new LC(((t,r)=>{const o=setTimeout((()=>{r(new Error("Cannot receive track, id: ".concat(n)))}),1e4),a=r=>{const s=OT();if(("Safari"===s.name&&11===Number(s.version)||FT())&&r.track.id!==n&&r.streams[0].id===i){var c;const i=r.streams[0].getTracks()[0];return null===(c=this.remoteSDP)||void 0===c||c.updateTrackLabel(e,n,r.track.id),this.peerConnection.removeEventListener("track",a),clearTimeout(o),void t(i)}if(r.track.id===n)return this.peerConnection.removeEventListener("track",a),clearTimeout(o),void t(r.track)};this.peerConnection.addEventListener("track",a)})),a=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:a});const s=await this.peerConnection.createAnswer();return await this.peerConnection.setLocalDescription(s),{track:await o,id:n}}catch(e){throw new eN($k.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(e.toString()))}}async stopReceiving(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopReceiving before remote SDP created.");this.remoteSDP.stopSending(e);const t=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:t});const n=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(n)}catch(e){throw new eN($k.EXCHANGE_SDP_FAILED,"P2PConnection stopReceiving failed; ".concat(e.toString()))}}async muteRemote(e){}async unmuteRemote(e){}async muteLocal(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.muteLocal before remote SDP created.");const t=this.peerConnection.getSenders().filter((t=>{var n;return-1!==e.indexOf((null===(n=t.track)||void 0===n?void 0:n.id)||"")}));if(t.length!==e.length)throw new Error("sender' length doesn't match mids' length.");t.map((e=>{if(MT()&&e.track)e.track.enabled=!1;else{const t=e.getParameters();t.encodings.forEach((e=>e.active=!1)),e.setParameters(t)}}))}catch(e){throw new eN($k.EXCHANGE_SDP_FAILED,"P2PConnection.muteLocal failed; ".concat(e.toString()))}}async unmuteLocal(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.unmuteLocal before remote SDP created.");const t=this.peerConnection.getSenders().filter((t=>{var n;return-1!==e.indexOf((null===(n=t.track)||void 0===n?void 0:n.id)||"")}));if(t.length!==e.length)throw new Error("Senders' length doesn't match mids' length.");t.map((async e=>{if(MT()&&e.track)e.track.enabled=!0;else{const t=e.getParameters();t.encodings.forEach((e=>e.active=!0)),await e.setParameters(t)}}));const n=await this.peerConnection.createOffer();await this.peerConnection.setLocalDescription(n);const r=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"answer",sdp:r})}catch(e){throw new eN($k.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteLocal failed; ".concat(e.toString()))}}async reEstablish(){const e=await this.peerConnection.createOffer({iceRestart:!0});if(!e.sdp)throw new Error("Cannot get SDP from restart offer.");return{iceParameters:LX(e.sdp).iceParameters,restartICE:async(t,n)=>this.restartICE(e,t,n),restartOfferSDP:e.sdp}}close(){var e;this.peerConnection.close(),null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,"closed"),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.statsFilter.destroy()}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(e){return this.statsFilter.getVideoIsReady(e)}async updateEncoderConfig(e,t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.updateEncoderConfig before remote SDP created.");const e=await this.peerConnection.createOffer(),n=this.mungSendOfferSDP(e.sdp,[t]);this.remoteSDP.updateRecvMedia(t._mediaStreamTrack.kind,t);const r=this.remoteSDP.toString();await this.peerConnection.setLocalDescription({type:"offer",sdp:n}),await this.peerConnection.setRemoteDescription({type:"answer",sdp:r})}catch(e){throw new eN($k.EXCHANGE_SDP_FAILED,e.toString())}}async updateSendParameters(e,t){const n=this.peerConnection.getSenders().filter((t=>{var n;return(null===(n=t.track)||void 0===n?void 0:n.id)===e}));1===n.length&&await this.applySendEncodings(n,[t])}setStatsRemoteVideoIsReady(e,t){this.statsFilter.setVideoIsReady2(e,t)}async replaceTrack(e,t){const n=this.peerConnection.getSenders().find((e=>{var n;return(null===(n=e.track)||void 0===n?void 0:n.id)===t}));n&&await n.replaceTrack(e._mediaStreamTrack)}async restartICE(e,t,n){try{if(!this.remoteSDP)throw new Error("Cannot restartICE before remoteSDP created.");this.remoteSDP.restartICE(t,n);const r=this.remoteSDP.toString();await this.peerConnection.setLocalDescription(e),await this.peerConnection.setRemoteDescription({type:"answer",sdp:r})}catch(e){throw new eN($k.EXCHANGE_SDP_FAILED,"P2PConnection.restartICE failed; ".concat(e.toString()))}}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var e;null===(e=this.onICEConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var e;null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.connectionState)},this.peerConnection.onicecandidate=e=>{e.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,uN.debug("[pc-".concat(this.store.p2pId,"] local candidate count"),this.localCandidateCount))},setTimeout((()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,uN.debug("[pc-".concat(this.store.p2pId,"] onicecandidate timeout, local candidate count"),this.localCandidateCount))}),KN("CANDIDATE_TIMEOUT"))}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(t){const n={iceServers:[],sdpSemantics:"plan-b"};return t.iceServers?n.iceServers=t.iceServers:t.turnServer&&"off"!==t.turnServer.mode&&(jP(t.turnServer.servers)?n.iceServers=t.turnServer.servers:(n.iceServers&&n.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.servers)),KN("USE_TURN_SERVER_OF_GATEWAY")&&n.iceServers&&t.turnServer.serversFromGateway&&n.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.serversFromGateway)),t.turnServer.servers.concat(t.turnServer.serversFromGateway||[]).forEach((e=>{e.forceturn&&(n.iceTransportPolicy="relay")})))),n}static turnServerConfigToIceServers(e){const t=[];return e.forEach((e=>{e.security?e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turns:".concat(e.turnServerURL,":").concat(e.tcpport,"?transport=tcp")}):(e.udpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":").concat(e.udpport,"?transport=udp")}),e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":").concat(e.tcpport,"?transport=tcp")}))})),t}async applySendEncodings(e,t){try{if(!Vx().supportSetRtpSenderParameters)return;if(e.length!==t.length)return;for(let r=0;r<e.length;r++){var n;const i=e[r],o=t[r];if(!o)continue;const a={},s={};if(o instanceof XY)switch(o._optimizationMode){case"motion":a.degradationPreference="maintain-framerate";break;case"detail":a.degradationPreference="maintain-resolution";break;default:a.degradationPreference="balanced"}if(KN("DSCP_TYPE")&&YT()){const e=KN("DSCP_TYPE");["very-low","low","medium","high"].includes(e)&&(s.networkPriority=e)}const c=i.getParameters(),u=null===(n=c.encodings)||void 0===n?void 0:n[0];u&&Object.assign(u,s),Object.assign(c,a),await i.setParameters(c)}}catch(e){uN.debug("Apply RTPSendEncodings failed.")}}mungSendOfferSDP(e,t){const n=NX.exports.parse(e);return t.forEach(((e,t)=>{const r=e._mediaStreamTrack,i=n.mediaDescriptions.find((e=>e.attributes.mid===r.kind));i&&FX(i,e)})),NX.exports.print(n)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=e=>{var t;null===(t=this.onFirstAudioReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoReceived=e=>{var t;null===(t=this.onFirstVideoReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstAudioDecoded=e=>{var t;null===(t=this.onFirstAudioDecoded)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoDecoded=(e,t,n)=>{var r;null===(r=this.onFirstVideoDecoded)||void 0===r||r.call(this,e,t,n)},this.statsFilter.onSelectedLocalCandidateChanged=(e,t)=>{var n;null===(n=this.onSelectedLocalCandidateChanged)||void 0===n||n.call(this,e,t)},this.statsFilter.onSelectedRemoteCandidateChanged=(e,t)=>{var n;null===(n=this.onSelectedRemoteCandidateChanged)||void 0===n||n.call(this,e,t)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0}async batchReceive(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.batchReceive before remoteSDP created.");const t=this.remoteSDP.batchSend(e).map(((t,n)=>{let{id:r,mslabel:i}=t;const{kind:o}=e[n];return new LC(((e,t)=>{const n=setTimeout((()=>{t(new Error("Cannot receive track, id: ".concat(r)))}),1e4),a=t=>{const s=OT();if("Safari"===s.name&&11===Number(s.version)&&t.track.id!==r&&t.streams[0].id===i){var c;const i=t.streams[0].getTracks()[0];return null===(c=this.remoteSDP)||void 0===c||c.updateTrackLabel(o,r,t.track.id),this.peerConnection.removeEventListener("track",a),clearTimeout(n),void e({track:i,id:r})}if(t.track.id===r)return this.peerConnection.removeEventListener("track",a),clearTimeout(n),void e({track:t.track,id:r})};this.peerConnection.addEventListener("track",a)}))})),n=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:n});const r=await this.peerConnection.createAnswer();return await this.peerConnection.setLocalDescription(r),await LC.all(t)}catch(e){throw new eN($k.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(e.toString()))}}async getRemoteSSRC(e){if(!this.remoteSDP)return;const t=this.remoteSDP.getSSRC(e);return null==t?void 0:t[0].ssrcId}}).prototype,"connect",[g$],Object.getOwnPropertyDescriptor(u$.prototype,"connect"),u$.prototype),zj(u$.prototype,"stopSending",[g$],Object.getOwnPropertyDescriptor(u$.prototype,"stopSending"),u$.prototype),zj(u$.prototype,"receive",[g$],Object.getOwnPropertyDescriptor(u$.prototype,"receive"),u$.prototype),zj(u$.prototype,"stopReceiving",[g$],Object.getOwnPropertyDescriptor(u$.prototype,"stopReceiving"),u$.prototype),zj(u$.prototype,"muteRemote",[g$],Object.getOwnPropertyDescriptor(u$.prototype,"muteRemote"),u$.prototype),zj(u$.prototype,"unmuteRemote",[g$],Object.getOwnPropertyDescriptor(u$.prototype,"unmuteRemote"),u$.prototype),zj(u$.prototype,"muteLocal",[g$],Object.getOwnPropertyDescriptor(u$.prototype,"muteLocal"),u$.prototype),zj(u$.prototype,"unmuteLocal",[g$],Object.getOwnPropertyDescriptor(u$.prototype,"unmuteLocal"),u$.prototype),zj(u$.prototype,"reEstablish",[g$],Object.getOwnPropertyDescriptor(u$.prototype,"reEstablish"),u$.prototype),zj(u$.prototype,"close",[g$],Object.getOwnPropertyDescriptor(u$.prototype,"close"),u$.prototype),zj(u$.prototype,"updateEncoderConfig",[g$],Object.getOwnPropertyDescriptor(u$.prototype,"updateEncoderConfig"),u$.prototype),zj(u$.prototype,"updateSendParameters",[g$],Object.getOwnPropertyDescriptor(u$.prototype,"updateSendParameters"),u$.prototype),zj(u$.prototype,"replaceTrack",[g$],Object.getOwnPropertyDescriptor(u$.prototype,"replaceTrack"),u$.prototype),zj(u$.prototype,"restartICE",[g$],Object.getOwnPropertyDescriptor(u$.prototype,"restartICE"),u$.prototype),zj(u$.prototype,"getRemoteSSRC",[g$],Object.getOwnPropertyDescriptor(u$.prototype,"getRemoteSSRC"),u$.prototype),u$);function g$(e,t,n){const r=e[t];if("function"!=typeof r)throw new Error("Cannot use mutex on object property.");return n.value=async function(){const e=this.mutex,n=await e.lock("Locking from P2PConnection.".concat(t));try{for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return await r.apply(this,o)}finally{n()}},n}var m$;const v$="9";let y$=PN("RemoteSDP")(m$=class{get localCapabilities(){return BG(this._localCapabilities)}get rtpCapabilities(){return BG(this._rtpCapabilities)}get candidates(){return BG(this._candidates)}get iceParameters(){return BG(this._iceParameters)}get dtlsParameters(){return BG(this._dtlsParameters)}constructor(e){iO(this,"sessionDesc",void 0),iO(this,"_localCapabilities",void 0),iO(this,"_rtpCapabilities",void 0),iO(this,"_candidates",void 0),iO(this,"_iceParameters",void 0),iO(this,"_dtlsParameters",void 0),iO(this,"setup",void 0),iO(this,"currentMidIndex",void 0),iO(this,"cname",void 0),iO(this,"firefoxSsrcMidMap",new Map),e=BG(e);const{remoteIceParameters:t,remoteDtlsParameters:n,candidates:r,remoteRTPCapabilities:i,remoteSetup:o,localCapabilities:a,cname:s}=e,c=NX.exports.parse("v=0\no=- 0 0 IN IP4 127.0.0.1\ns=AgoraGateway\nt=0 0\na=group:BUNDLE 0 1\na=msid-semantic: WMS\na=ice-lite\nm=video 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendonly\na=rtcp-mux\na=rtcp-rsize\na=mid:0\nm=audio 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendonly\na=rtcp-mux\na=rtcp-rsize\na=mid:1\n");this._rtpCapabilities=i,this._candidates=r,this._iceParameters=t,this._dtlsParameters=n,this._localCapabilities=a,this.setup=o,this.cname=s;const u=this.rtpCapabilities.send;for(const e of c.mediaDescriptions){if(e.attributes.iceUfrag=t.iceUfrag,e.attributes.icePwd=t.icePwd,e.attributes.fingerprints=n.fingerprints,e.attributes.candidates=r,e.attributes.setup=o,"video"===e.media.mediaType&&(e.media.fmts=u.videoCodecs.map((e=>e.payloadType.toString(10))),e.attributes.payloads=u.videoCodecs,e.attributes.extmaps=u.videoExtensions,KN("PRELOAD_MEDIA_COUNT")>0)){const{ssrcs:t,ssrcGroups:n}=BX([{ssrcId:4e4,rtx:KN("USE_RTX")?40001:void 0}],this.cname);e.attributes.ssrcs=t,e.attributes.ssrcGroups=n}if("audio"===e.media.mediaType&&(e.media.fmts=u.audioCodecs.map((e=>e.payloadType.toString(10))),e.attributes.payloads=u.audioCodecs,e.attributes.extmaps=u.audioExtensions,qX(e),KN("PRELOAD_MEDIA_COUNT")>0)){const{ssrcs:t,ssrcGroups:n}=BX([{ssrcId:2e4}],this.cname);e.attributes.ssrcs=t,e.attributes.ssrcGroups=n}}this.sessionDesc=c,this.currentMidIndex=c.mediaDescriptions.length-1}preloadRemoteMedia(){const e=KN("PRELOAD_MEDIA_COUNT");kN("debug",this,"preloadRemoteMedia",e),this.rtpCapabilities;const t=this.candidates,n=this.dtlsParameters,r=this.iceParameters,i=this.rtpCapabilities.send;for(let o=1;o<e;o++){const e=2*o+2e4,a=2*o+4e4,{ssrcs:s,ssrcGroups:c}=BX([{ssrcId:e}],this.cname),{ssrcs:u,ssrcGroups:l}=BX([{ssrcId:a,rtx:KN("USE_RTX")?a+1:void 0}],this.cname);this.sessionDesc.mediaDescriptions.push({media:{mediaType:"video",port:v$,protos:["UDP","TLS","RTP","SAVPF"],fmts:i.videoCodecs.map((e=>e.payloadType.toString(10)))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:r.iceUfrag,icePwd:r.icePwd,unrecognized:[],candidates:t,extmaps:i.videoExtensions,fingerprints:n.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:u,ssrcGroups:l,rtcpFeedbackWildcards:[],payloads:i.videoCodecs,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:"sendonly",rtcpMux:!0,rtcpRsize:!0,mid:"".concat(2*o)}}),this.sessionDesc.mediaDescriptions.push({media:{mediaType:"audio",port:v$,protos:["UDP","TLS","RTP","SAVPF"],fmts:i.audioCodecs.map((e=>e.payloadType.toString(10)))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:r.iceUfrag,icePwd:r.icePwd,unrecognized:[],candidates:t,extmaps:i.audioExtensions,fingerprints:n.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:s,ssrcGroups:c,rtcpFeedbackWildcards:[],payloads:i.audioCodecs,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:"sendonly",rtcpMux:!0,rtcpRsize:!0,mid:"".concat(2*o+1)}}),this.currentMidIndex+=2}this.updateBundleMids()}toString(){return NX.exports.print(this.sessionDesc)}send(e,t,n,r){const{ssrcs:i,ssrcGroups:o}=BX(t,this.cname,n),a=this.findPreloadMediaDesc(i);if(a){if(BT()&&this.firefoxSsrcMidMap.set(i[0].ssrcId,a.attributes.mid),r&&(r.tcc||r.remb)){const e=this.sessionDesc.mediaDescriptions.indexOf(a);return this.sessionDesc.mediaDescriptions[e]=this.mungSendMediaDesc(a,r),{mid:a.attributes.mid,needExchangeSDP:!0}}return{mid:a.attributes.mid,needExchangeSDP:!1}}{const t=this.findAvailableMediaIndex(e,i);if(MT()||jT()&&VT()||UT()){if(-1!==t&&1!==t){const e=BG(this.sessionDesc.mediaDescriptions[t]);return e.attributes.direction="sendonly",e.attributes.ssrcs=i,e.attributes.ssrcGroups=o,this.sessionDesc.mediaDescriptions[t]=this.mungSendMediaDesc(e,r),{mid:e.attributes.mid,needExchangeSDP:!0}}{const t=this.createOrRecycleSendMedia(e,i,o,"sendonly",r);return this.updateBundleMids(),{mid:t.attributes.mid,needExchangeSDP:!0}}}if(-1!==t){const e=BG(this.sessionDesc.mediaDescriptions[t]);return e.attributes.direction="sendonly",e.attributes.ssrcs=i,e.attributes.ssrcGroups=o,this.sessionDesc.mediaDescriptions[t]=this.mungSendMediaDesc(e,r),BT()&&this.firefoxSsrcMidMap.set(i[0].ssrcId,e.attributes.mid),{mid:e.attributes.mid,needExchangeSDP:!0}}{const t=this.createOrRecycleSendMedia(e,i,o,"sendonly",r);return this.updateBundleMids(),BT()&&this.firefoxSsrcMidMap.set(i[0].ssrcId,t.attributes.mid),{mid:t.attributes.mid,needExchangeSDP:!0}}}}batchSend(e){const t=e.map((e=>{let{kind:t,ssrcMsg:n,mslabel:r}=e;return this.send(t,n,r)})),n=[];let r=!1;return t.forEach((e=>{let{mid:t,needExchangeSDP:i}=e;i&&(r=!0),n.push(t)})),{mids:n,needExchangeSDP:r}}stopSending(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>t.attributes.mid&&-1!==e.indexOf(t.attributes.mid)));if(t.length!==e.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.stopSending.");t.forEach((e=>{"0"===e.attributes.mid||BT()||MT()||jT()&&VT()||UT()?e.attributes.ssrcs=[]:(e.attributes.ssrcs=[],e.attributes.direction="inactive",e.media.port="0")})),this.updateBundleMids()}mute(e){const t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error("mediaDescription not found with ".concat(e," in remote SDP when calling RemoteSDP.mute."));t.attributes.direction="inactive"}unmute(e){const t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error("mediaDescription not found with ".concat(e," in remote SDP when calling RemoteSDP.unmute."));t.attributes.direction="sendonly"}muteRemote(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>e.includes(t.attributes.mid||"")));if(t.length!==e.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");t.forEach((e=>{e.attributes.direction="inactive"}))}unmuteRemote(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>e.includes(t.attributes.mid||"")));if(t.length!==e.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");t.forEach((e=>{e.attributes.direction="recvonly"}))}receive(e,t,n,r){e.forEach(((e,i)=>{this.createOrRecycleRecvMedia(e,[],"recvonly",t,n,r[i])})),this.updateBundleMids()}stopReceiving(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>-1!==e.indexOf(t.attributes.mid)));if(t.length!==e.length)throw new Error("MediaDescriptions' length doesn't match mids's length when calling RemoteSDP.receive.");t.forEach((e=>{e.media.port="0",e.attributes.direction="inactive"})),this.updateBundleMids()}restartICE(e,t){e=BG(e),t=BG(t),this._iceParameters=e,this._candidates=t,this.sessionDesc.mediaDescriptions.forEach((t=>{t.attributes.iceUfrag=e.iceUfrag,t.attributes.icePwd=e.icePwd,t.attributes.candidates=this.candidates}))}predictReceivingMids(e){const t=[];for(let n=0;n<e;n++)t.push((this.currentMidIndex+n+1).toString(10));return t}findAvailableMediaIndex(e,t){return this.sessionDesc.mediaDescriptions.findIndex((n=>{const r=n.media.mediaType===e&&"0"!==n.media.port&&("sendonly"===n.attributes.direction||"sendrecv"===n.attributes.direction)&&0===n.attributes.ssrcs.length;if(BT()){if(r){const e=this.firefoxSsrcMidMap.get(t[0].ssrcId);return!(e||"0"!==n.attributes.mid&&"1"!==n.attributes.mid)||!(!e||e!==n.attributes.mid)}return!1}return r}))}createOrRecycleRecvMedia(e,t,n,r,i,o){const a=e._mediaStreamTrack.kind,s=this.rtpCapabilities.recv,c=this.localCapabilities.send;let u=[];if(a===Rx.VIDEO){var l,d;if(KN("H264_PROFILE_LEVEL_ID")&&"h264"===r&&(u=s.videoCodecs.filter((e=>{var t,n;return((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||"").includes(r)&&(null==e||null===(n=e.fmtp)||void 0===n?void 0:n.parameters["profile-level-id"])===KN("H264_PROFILE_LEVEL_ID")}))),!u||0===(null===(l=u)||void 0===l?void 0:l.length)){const e=c.videoCodecs.filter((e=>{var t;return((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||"").includes(r)}));0!==e.length&&(u=s.videoCodecs.filter((t=>e.some((e=>e.payloadType===t.payloadType)))))}if(KN("USE_RTX")){const e=u.map((e=>e.payloadType.toString())),t=s.videoCodecs.filter((t=>{var n,r;return"rtx"===(null===(n=t.rtpMap)||void 0===n?void 0:n.encodingName)&&e.includes((null===(r=t.fmtp)||void 0===r?void 0:r.parameters.apt)||"")}));u=[...u,...t]}0===u.length&&(uN.warning("codec ".concat(r," not included in rtpCapabilities, fallback to default payloads: ").concat(null===(d=s.videoCodecs[0].rtpMap)||void 0===d?void 0:d.encodingName)),u=s.videoCodecs)}else u=s.audioCodecs.filter((e=>{var t;return((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||"").includes(i)})),0===u.length&&(uN.warning("codec ".concat(i," not included in rtpCapabilities, fallback to opus")),u=s.audioCodecs.filter((e=>{var t;return((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||"").includes("opus")})));const h=a===Rx.VIDEO?s.videoExtensions:s.audioExtensions;this.currentMidIndex+=1;const p="".concat(this.currentMidIndex);let f={media:{mediaType:a,port:v$,protos:["UDP","TLS","RTP","SAVPF"],fmts:u.map((e=>e.payloadType.toString(10)))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:h,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:u,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:n,rtcpMux:!0,rtcpRsize:!0,mid:"".concat(p)}};f=this.mungRecvMediaDsec(f,e,o);const A=this.findFirstClosedMedia(a);if(A){const e=this.sessionDesc.mediaDescriptions.indexOf(A);this.sessionDesc.mediaDescriptions[e]=f}else this.sessionDesc.mediaDescriptions.push(f);return f}createOrRecycleSendMedia(e,t,n,r,i){const o=this.rtpCapabilities.send,a=e===Rx.VIDEO?o.videoCodecs:o.audioCodecs,s=e===Rx.VIDEO?o.videoExtensions:o.audioExtensions;this.currentMidIndex+=1;const c="".concat(this.currentMidIndex);let u={media:{mediaType:e,port:v$,protos:["UDP","TLS","RTP","SAVPF"],fmts:a.map((e=>e.payloadType.toString(10)))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:s,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:n,rtcpFeedbackWildcards:[],payloads:a,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:r,rtcpMux:!0,rtcpRsize:!0,mid:"".concat(c)}};u=this.mungSendMediaDesc(u,i);const l=this.findFirstClosedMedia(e);if(l){const e=this.sessionDesc.mediaDescriptions.indexOf(l);this.sessionDesc.mediaDescriptions[e]=u}else this.sessionDesc.mediaDescriptions.push(u);return u}updateBundleMids(){this.sessionDesc.attributes.groups[0].identificationTag=this.sessionDesc.mediaDescriptions.filter((e=>"0"!==e.media.port)).map((e=>e.attributes.mid))}mungRecvMediaDsec(e,t,n){const r=BG(e);return UX(r),FX(r,t),jX(r,t),function(e){if("video"!==e.media.mediaType)return;const t=OT();if(t.name!==ST.SAFARI&&t.os!==IT.IOS)return;const n=e.attributes.extmaps.findIndex((e=>/video-orientation/g.test(e.extensionName)));-1!==n&&e.attributes.extmaps.splice(n,1)}(r),VX(r,n,this.localCapabilities.send),r}mungSendMediaDesc(e,t){const n=BG(e);return VX(n,t,this.localCapabilities.recv),qX(n),n}updateRecvMedia(e,t){const n=this.sessionDesc.mediaDescriptions.findIndex((t=>t.attributes.mid===e));if(-1!==n){const e=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[n],t);this.sessionDesc.mediaDescriptions[n]=e}}bumpMid(e){this.currentMidIndex+=e}findFirstClosedMedia(e){return this.sessionDesc.mediaDescriptions.find((t=>BT()?"0"===t.media.port&&t.media.mediaType===e:"0"===t.media.port))}findPreloadMediaDesc(e){return this.sessionDesc.mediaDescriptions.find((t=>{var n,r;return(null===(n=t.attributes)||void 0===n||null===(r=n.ssrcs[0])||void 0===r?void 0:r.ssrcId)===e[0].ssrcId}))}getSSRC(e){var t;return null===(t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e)))||void 0===t?void 0:t.attributes.ssrcs}})||m$;var E$,b$;function _$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_$(Object(n),!0).forEach((function(t){iO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let I$=PN("P2PConnection","store.p2pId")((zj((b$=class e extends Px{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}constructor(t,n){super(t,n),iO(this,"store",void 0),iO(this,"peerConnection",void 0),iO(this,"remoteSDP",void 0),iO(this,"initialOffer",void 0),iO(this,"transportEventReceiver",void 0),iO(this,"statsFilter",void 0),iO(this,"useRTX",KN("USE_RTX")),iO(this,"localCapabilities",void 0),iO(this,"localCandidateCount",0),iO(this,"allCandidatesReceived",!1),iO(this,"mutex",new SV("P2PConnection-mutex")),this.store=n,this.peerConnection=new RTCPeerConnection(e.resolvePCConfiguration(t),{optional:[{googDscp:!0}]}),this.statsFilter=h$(this.peerConnection,void 0,void 0,BT()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1}async establish(){try{this.peerConnection.addTransceiver("video",{direction:"recvonly"}),this.peerConnection.addTransceiver("audio",{direction:"recvonly"});const e=await this.peerConnection.createOffer();if(!e.sdp)throw new Error("Cannot get initialOffer.sdp when trying to establish PeerConnection.");const t=LX(e.sdp),n=await async function(e,t,n,r,i){const o=new RTCPeerConnection;o.addTransceiver("video",{direction:"sendonly"}),o.addTransceiver("audio",{direction:"sendonly"}),o.addTransceiver("video",{direction:"recvonly"}),o.addTransceiver("audio",{direction:"recvonly"});const a=(await o.createOffer()).sdp,s=xX(a,e,t,n,r,i,"sendonly"),c=xX(a,e,t,n,r,i,"recvonly"),u={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},l={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},d={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(QX(s,c,"videoExtensions",u,l,d),QX(s,c,"videoCodecs",u,l,d),QX(s,c,"audioExtensions",u,l,d),QX(s,c,"audioCodecs",u,l,d),KN("RAISE_H264_BASELINE_PRIORITY")){const e=d.videoCodecs.findIndex((e=>{var t,n;return"h264"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLocaleLowerCase())&&"42001f"===(null===(n=e.fmtp)||void 0===n?void 0:n.parameters["profile-level-id"])}));if(-1!==e){const t=d.videoCodecs.findIndex((e=>{var t;return"h264"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLocaleLowerCase())}));if(t<e){uN.debug("raising H264 baseline profile priority");const n=d.videoCodecs[e];d.videoCodecs.splice(e,1),d.videoCodecs.splice(t,0,n)}-1!==t&&(l.videoCodecs=l.videoCodecs.filter((e=>{var t,n;return!("h264"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLocaleLowerCase())&&"42001f"!==(null===(n=e.fmtp)||void 0===n?void 0:n.parameters["profile-level-id"]))}))),-1!==t&&KN("FILTER_SEND_H264_BASELINE")&&(u.videoCodecs=u.videoCodecs.filter((e=>{var t,n;return!("h264"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLocaleLowerCase())&&"42001f"!==(null===(n=e.fmtp)||void 0===n?void 0:n.parameters["profile-level-id"]))})))}}try{o.close()}catch(e){}return{send:u,recv:l,sendrecv:d}}(!this.useRTX,KN("FILTER_VIDEO_FEC"),KN("FILTER_AUDIO_FEC"));return this.localCapabilities=GX(n),this.initialOffer=e,C$(C$({},t),{},{rtpCapabilities:n,offerSDP:e.sdp})}catch(e){throw new eN($k.GET_LOCAL_CONNECTION_PARAMS_FAILED,e.toString())}}async connect(e,t,n,r,i,o){try{if(!this.initialOffer)throw new Error("Cannot establish P2PConnection without initial offer.");this.remoteSDP=new y$({remoteIceParameters:e,remoteDtlsParameters:t,candidates:n,remoteRTPCapabilities:r,remoteSetup:i,localCapabilities:this.localCapabilities,cname:o});const a=this.remoteSDP.toString(),s=NX.exports.parse(this.initialOffer.sdp),c=s.mediaDescriptions.find((e=>"audio"===e.media.mediaType));c&&qX(c);const u=NX.exports.print(s),l=this.logSDPExchange(u||"","offer","local","connect");await this.peerConnection.setLocalDescription({type:"offer",sdp:u}),null==l||l(a),await this.peerConnection.setRemoteDescription({type:"answer",sdp:a});const d=this.peerConnection.getTransceivers()[0];if(null!=d&&d.receiver&&this.tryBindTransportEvents(d.receiver),KN("PRELOAD_MEDIA_COUNT")>0){this.remoteSDP.preloadRemoteMedia();const e=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:e});const t=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(t)}}catch(e){throw new eN($k.EXCHANGE_SDP_FAILED,"P2PConnection.connect failed; ".concat(e.toString()))}}send(e,t,n){var r=this;return aX((function*(){const i=yield sX(r.mutex.lock());try{if(!r.remoteSDP)throw new Error("Cannot call P2PConnection.send before remote SDP created");const o=[];e.forEach((e=>{const t=r.peerConnection.addTransceiver(e._mediaStreamTrack,{direction:"sendonly"});o.push(t)})),BT()&&!0===KN("SIMULCAST")&&(wN("debug",r,"apply simulcast for firefox"),yield sX(r.applySimulcastForFirefox(o,e)));const a=yield sX(r.peerConnection.createOffer()),s=r.remoteSDP.predictReceivingMids(e.length),c=r.mungSendOfferSDP(a.sdp,e,s),u=NX.exports.parse(c),l=s.map((e=>{const t=u.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error("Cannot extract ssrc from mediaDescription.");return function(e,t){const n=[],r=e.attributes.ssrcGroups.filter((e=>"FID"===e.semantic)),i=e.attributes.ssrcGroups.find((e=>"SIM"===e.semantic)),o=e.attributes.ssrcs;if(i)i.ssrcIds.forEach((e=>{var i;const o=null===(i=r.find((t=>t.ssrcIds[0]===e)))||void 0===i?void 0:i.ssrcIds[1];n.push({ssrcId:e,rtx:t?o:void 0})}));else if(r.length>0){const e=r[0].ssrcIds[0],i=r[0].ssrcIds[1];n.push({ssrcId:e,rtx:t?i:void 0})}else{if(0===o.length)throw new Error("No ssrcs found on local media description.");n.push({ssrcId:o[0].ssrcId})}return n}(t,r.useRTX)}));let d;try{d=yield l}catch(i){d=[],r.remoteSDP.receive(e,t,n,d);const o=r.remoteSDP.toString();throw yield sX(r.peerConnection.setLocalDescription({type:"offer",sdp:c})),yield sX(r.peerConnection.setRemoteDescription({type:"answer",sdp:o})),yield sX(r.stopSending(s,!0)),i}r.remoteSDP.receive(e,t,n,d);const h=r.remoteSDP.toString(),p=r.logSDPExchange(c,"offer","local","send");return yield sX(r.peerConnection.setLocalDescription({type:"offer",sdp:c})),yield sX(r.applySimulcastEncodings(o,e)),yield sX(r.applySendEncodings(o,e)),null==p||p(h),yield sX(r.peerConnection.setRemoteDescription({type:"answer",sdp:h})),o.map(((e,t)=>{const n=s[t];return{localSSRC:l[t],id:n,transceiver:e}}))}catch(e){throw e instanceof eN?e:new eN($k.EXCHANGE_SDP_FAILED,"P2PConnection.send failed; ".concat(e.toString()))}finally{i()}}))()}async stopSending(e,t){const n=t?void 0:await this.mutex.lock("From P2PConnection.stopSending");try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopSending before remote SDP created");const t=this.peerConnection.getTransceivers().filter((t=>-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error("Transceivers' length doesn't match mids' length when trying to call P2PConnection.stopSending.");t.map((e=>{var t;e.direction="inactive",null===(t=e.stop)||void 0===t||t.call(e)}));const r=await this.peerConnection.createOffer(),i=this.logSDPExchange(r.sdp||"","offer","local","stopSending");await this.peerConnection.setLocalDescription(r),this.remoteSDP.stopReceiving(e);const o=this.remoteSDP.toString();null==i||i(o),await this.peerConnection.setRemoteDescription({type:"answer",sdp:o})}catch(e){throw new eN($k.EXCHANGE_SDP_FAILED,"P2PConnection.stopSending failed; ".concat(e.toString()))}finally{n&&n()}}async receive(e,t,n,r){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.receive ".concat(e," before remoteSDP created."));const{mid:i,needExchangeSDP:o}=this.remoteSDP.send(e,t,n,r);if(o){const t=this.remoteSDP.toString(),n=this.logSDPExchange(t,"offer","remote","receive");await this.peerConnection.setRemoteDescription({type:"offer",sdp:t});const r=await this.peerConnection.createAnswer(),o=this.mungReceiveAnswerSDP(r.sdp,i,e);null==n||n(o||""),await this.peerConnection.setLocalDescription({type:"answer",sdp:o}),uN.debug("[P2PConnection] receive ".concat(e," by exchanging SDP."))}else uN.debug("[P2PConnection] receive ".concat(e," no need to exchange SDP."));const a=this.peerConnection.getTransceivers().find((e=>e.mid===i));if(!a)throw new Error("Cannot get transceiver after setLocalDescription.");return{track:a.receiver.track,id:i}}catch(e){throw new eN($k.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(e.toString()))}}async batchReceive(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.batchReceive before remoteSDP created.");const{mids:t,needExchangeSDP:n}=this.remoteSDP.batchSend(e);if(n){const e=this.remoteSDP.toString(),t=this.logSDPExchange(e,"offer","remote","receive");await this.peerConnection.setRemoteDescription({type:"offer",sdp:e});const n=await this.peerConnection.createAnswer();null==t||t(n.sdp||""),await this.peerConnection.setLocalDescription(n),uN.debug("[P2PConnection] batchReceive by exchanging SDP.")}else uN.debug("[P2PConnection] batchReceive no need to exchange SDP.");return t.map((e=>{const t=this.peerConnection.getTransceivers().find((t=>t.mid===e));if(!t)throw new Error("Cannot get transceiver after setLocalDescription.");return{track:t.receiver.track,id:e}}))}catch(e){throw new eN($k.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(e.toString()))}}async stopReceiving(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopReceiving before remote SDP created.");this.remoteSDP.stopSending(e);const t=this.remoteSDP.toString(),n=this.logSDPExchange(t,"offer","remote","stopReceiving");await this.peerConnection.setRemoteDescription({type:"offer",sdp:t});const r=await this.peerConnection.createAnswer();null==n||n(r.sdp||""),await this.peerConnection.setLocalDescription(r)}catch(e){throw new eN($k.EXCHANGE_SDP_FAILED,"P2PConnection stopReceiving failed; ".concat(e.toString()))}}async muteRemote(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.muteRemote mid=".concat(e," before remote SDP created."));this.remoteSDP.mute(e);const t=this.remoteSDP.toString(),n=this.logSDPExchange(t,"offer","remote","muteRemote");await this.peerConnection.setRemoteDescription({type:"offer",sdp:t});const r=await this.peerConnection.createAnswer();null==n||n(r.sdp||""),await this.peerConnection.setLocalDescription(r)}catch(e){throw new eN($k.EXCHANGE_SDP_FAILED,"P2PConnection.muteRemote failed; ".concat(e.toString()))}}async unmuteRemote(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.unmuteRemote mid=".concat(e," before remote SDP created."));this.remoteSDP.unmute(e);const t=this.remoteSDP.toString(),n=this.logSDPExchange(t,"offer","remote","unmuteRemote");await this.peerConnection.setRemoteDescription({type:"offer",sdp:t});const r=await this.peerConnection.createAnswer();null==n||n(r.sdp||""),await this.peerConnection.setLocalDescription(r)}catch(e){throw new eN($k.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteRemote failed; ".concat(e.toString()))}}async muteLocal(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.muteLocal before remote SDP created.");const t=this.peerConnection.getTransceivers().filter((t=>t.mid&&-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error("Transceivers' length doesn't match mids' length.");t.map((e=>{e.direction="inactive"}));const n=await this.peerConnection.createOffer(),r=this.logSDPExchange(n.sdp||"","offer","local","muteLocal");await this.peerConnection.setLocalDescription(n),this.remoteSDP.muteRemote(e);const i=this.remoteSDP.toString();null==r||r(i),await this.peerConnection.setRemoteDescription({type:"answer",sdp:i})}catch(e){throw new eN($k.EXCHANGE_SDP_FAILED,"P2PConnection.muteLocal failed; ".concat(e.toString()))}}async unmuteLocal(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.unmuteLocal before remote SDP created.");const t=this.peerConnection.getTransceivers().filter((t=>t.mid&&-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error("Transceivers' length doesn't match mids' length.");t.map((async(e,t)=>{e.direction="sendonly"}));const n=await this.peerConnection.createOffer(),r=this.logSDPExchange(n.sdp||"","offer","local","unmuteLocal");await this.peerConnection.setLocalDescription(n),this.remoteSDP.unmuteRemote(e);const i=this.remoteSDP.toString();null==r||r(i),await this.peerConnection.setRemoteDescription({type:"answer",sdp:i})}catch(e){throw new eN($k.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteLocal failed; ".concat(e.toString()))}}async reEstablish(){const e=await this.peerConnection.createOffer({iceRestart:!0});if(!e.sdp)throw new Error("Cannot get SDP from restart offer.");return{iceParameters:LX(e.sdp).iceParameters,restartICE:async(t,n)=>this.restartICE(e,t,n),restartOfferSDP:e.sdp}}close(){var e;this.peerConnection.close(),null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,"closed"),this.tryUnbindTransportEvents(),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.transportEventReceiver=void 0,this.statsFilter.destroy()}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(e){return this.statsFilter.getVideoIsReady(e)}async updateEncoderConfig(e,t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.updateEncoderConfig before remote SDP created.");const n=await this.peerConnection.createOffer(),r=this.mungSendOfferSDP(n.sdp,[t],[e]);this.remoteSDP.updateRecvMedia(e,t);const i=this.remoteSDP.toString(),o=this.logSDPExchange(r,"offer","local","updateEncoderConfig");await this.peerConnection.setLocalDescription({type:"offer",sdp:r}),null==o||o(i),await this.peerConnection.setRemoteDescription({type:"answer",sdp:i})}catch(e){throw new eN($k.EXCHANGE_SDP_FAILED,e.toString())}}async updateSendParameters(e,t){const n=this.peerConnection.getTransceivers().filter((t=>t.mid===e));1===n.length&&(this.isVP8Simulcast(t)?BT()||await this.applySimulcastEncodings(n,[t]):await this.applySendEncodings(n,[t]))}setStatsRemoteVideoIsReady(e,t){this.statsFilter.setVideoIsReady2(e,t)}async replaceTrack(e,t){const n=this.peerConnection.getTransceivers().find((e=>e.mid===t));n&&await n.sender.replaceTrack(e._mediaStreamTrack)}async restartICE(e,t,n){try{if(!this.remoteSDP)throw new Error("Cannot restartICE before remoteSDP created.");this.remoteSDP.restartICE(t,n);const r=this.remoteSDP.toString(),i=this.logSDPExchange(e.sdp||"","offer","local","restartICE");await this.peerConnection.setLocalDescription(e),null==i||i(r),await this.peerConnection.setRemoteDescription({type:"answer",sdp:r})}catch(e){throw new eN($k.EXCHANGE_SDP_FAILED,"P2PConnection.restartICE failed; ".concat(e.toString()))}}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var e;null===(e=this.onICEConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var e;null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.connectionState)},this.peerConnection.onicecandidate=e=>{e.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,uN.debug("[pc-".concat(this.store.p2pId,"] local candidate count"),this.localCandidateCount))},setTimeout((()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,uN.debug("[pc-".concat(this.store.p2pId,"] onicecandidate timeout, local candidate count"),this.localCandidateCount))}),KN("CANDIDATE_TIMEOUT"))}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(t){const n={iceServers:[]};return t.iceServers?n.iceServers=t.iceServers:t.turnServer&&"off"!==t.turnServer.mode&&(jP(t.turnServer.servers)?n.iceServers=t.turnServer.servers:(n.iceServers&&n.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.servers)),KN("USE_TURN_SERVER_OF_GATEWAY")&&n.iceServers&&t.turnServer.serversFromGateway&&n.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.serversFromGateway)),KN("FORCE_TURN_TCP")?n.iceTransportPolicy="relay":t.turnServer.servers.concat(t.turnServer.serversFromGateway||[]).forEach((e=>{e.forceturn&&(n.iceTransportPolicy="relay")})))),n}static turnServerConfigToIceServers(e){const t=[];return e.forEach((e=>{e.security?e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turns:".concat(lG(e.turnServerURL),":").concat(e.tcpport,"?transport=tcp")}):(e.udpport&&!KN("FORCE_TURN_TCP")&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":").concat(e.udpport,"?transport=udp")}),e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":").concat(e.tcpport,"?transport=tcp")}))})),t}tryBindTransportEvents(e){e.transport&&(this.transportEventReceiver=e,e.transport.onstatechange=()=>{var t,n;null!==(t=e.transport)&&void 0!==t&&t.state&&(null===(n=this.onDTLSTransportStateChange)||void 0===n||n.call(this,e.transport.state))},e.transport.onerror=e=>{var t;null===(t=this.onDTLSTransportError)||void 0===t||t.call(this,e.error)},e.transport.iceTransport&&(e.transport.iceTransport.onstatechange=()=>{var t,n,r;null!==(t=e.transport)&&void 0!==t&&t.iceTransport.state&&(null===(n=this.onICETransportStateChange)||void 0===n||n.call(this,null===(r=e.transport)||void 0===r?void 0:r.iceTransport.state))}))}tryUnbindTransportEvents(){this.transportEventReceiver&&this.transportEventReceiver.transport&&(this.transportEventReceiver.transport.onstatechange=null,this.transportEventReceiver.transport.onerror=null,this.transportEventReceiver.transport.iceTransport&&(this.transportEventReceiver.transport.iceTransport.onstatechange=null))}async applySendEncodings(e,t){try{if(!Vx().supportSetRtpSenderParameters)return;if(e.length!==t.length)return;for(let c=0;c<e.length;c++){const u=e[c],l=t[c];if(l&&l instanceof XY){var n,r;if(this.isVP8Simulcast(l))continue;const e={},t={};switch(l._optimizationMode){case"motion":e.degradationPreference="maintain-framerate";break;case"detail":e.degradationPreference="maintain-resolution";break;default:e.degradationPreference="balanced"}var i,o,a,s;if(null!==(n=l._encoderConfig)&&void 0!==n&&n.bitrateMax&&(t.maxBitrate=1e3*(null===(i=l._encoderConfig)||void 0===i?void 0:i.bitrateMax)),l._hints.includes(fx.LOW_STREAM)&&(null!==(o=l._encoderConfig)&&void 0!==o&&o.frameRate&&(t.maxFramerate=hG(l._encoderConfig.frameRate)),null!==(a=l._encoderConfig)&&void 0!==a&&a.scaleResolutionDownBy&&(null===(s=l._encoderConfig)||void 0===s?void 0:s.scaleResolutionDownBy)>1&&(t.scaleResolutionDownBy=l._encoderConfig.scaleResolutionDownBy)),KN("DSCP_TYPE")&&YT()){const e=KN("DSCP_TYPE");["very-low","low","medium","high"].includes(e)&&(t.networkPriority=e)}const c=u.sender.getParameters(),d=null===(r=c.encodings)||void 0===r?void 0:r[0];BT()&&!d&&(e.encodings=[t]),d&&Object.assign(d,t),Object.assign(c,e),await u.sender.setParameters(c)}}}catch(e){uN.debug("Apply RTPSendEncodings failed.")}}mungSendOfferSDP(e,t,n){const r=NX.exports.parse(e);return t.forEach(((e,t)=>{const i=n[t],o=r.mediaDescriptions.find((e=>e.attributes.mid===i));o&&(FX(o,e),function(e,t,n){if(BT())return;if("video"!==e.media.mediaType)return;if(!(t instanceof XY))return;if("vp9"!==n&&"vp8"!==n)return;if("vp8"===n&&!KN("SIMULCAST"))return;if(void 0===t._scalabiltyMode||t._scalabiltyMode.numSpatialLayers<=1)return;const r="vp8"===n?2:t._scalabiltyMode.numSpatialLayers,i=e.attributes.ssrcs[0],o=e.attributes.ssrcGroups.find((e=>"FID"===e.semantic&&e.ssrcIds[0]===i.ssrcId)),a={semantic:"SIM",ssrcIds:[i.ssrcId]};for(let t=1;t<r;t++)e.attributes.ssrcs.push({ssrcId:i.ssrcId+t,attributes:BG(i.attributes)}),a.ssrcIds.push(i.ssrcId+t),o&&(e.attributes.ssrcs.push({ssrcId:o.ssrcIds[1]+t,attributes:BG(i.attributes)}),e.attributes.ssrcGroups.push({semantic:"FID",ssrcIds:[i.ssrcId+t,o.ssrcIds[1]+t]}));e.attributes.ssrcGroups.unshift(a)}(o,e,this.store.codec))})),NX.exports.print(r)}mungReceiveAnswerSDP(e,t,n){const r=NX.exports.parse(e),i=r.mediaDescriptions.find((e=>e.attributes.mid===t));return i&&n===Rx.AUDIO&&"audio"===i.media.mediaType&&qX(i),NX.exports.print(r)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=e=>{var t;null===(t=this.onFirstAudioReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoReceived=e=>{var t;null===(t=this.onFirstVideoReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstAudioDecoded=e=>{var t;null===(t=this.onFirstAudioDecoded)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoDecoded=(e,t,n)=>{var r;null===(r=this.onFirstVideoDecoded)||void 0===r||r.call(this,e,t,n)},this.statsFilter.onSelectedLocalCandidateChanged=(e,t)=>{var n;null===(n=this.onSelectedLocalCandidateChanged)||void 0===n||n.call(this,e,t)},this.statsFilter.onSelectedRemoteCandidateChanged=(e,t)=>{var n;null===(n=this.onSelectedRemoteCandidateChanged)||void 0===n||n.call(this,e,t)},this.statsFilter.onFirstVideoDecodedTimeout=e=>{var t;null===(t=this.onFirstVideoDecodedTimeout)||void 0===t||t.call(this,e)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0,this.statsFilter.onFirstVideoDecodedTimeout=void 0}async applySimulcastForFirefox(e,t){if(e.length===t.length)for(let a=0;a<e.length;a++){var n,r,i,o;const s=e[a],c=t[a];if(c instanceof XY&&!c._hints.includes(fx.LOW_STREAM)&&null!==(n=c._encoderConfig)&&void 0!==n&&n.bitrateMax&&(null===(r=c._encoderConfig)||void 0===r?void 0:r.bitrateMax)>200&&null!==(i=c._scalabiltyMode)&&void 0!==i&&i.numSpatialLayers&&(null===(o=c._scalabiltyMode)||void 0===o?void 0:o.numSpatialLayers)>1&&"vp8"===this.store.codec){const e={},t={high:1e3*(c._encoderConfig.bitrateMax-50),medium:5e4};e.encodings=[{rid:"m",active:!0,maxBitrate:t.medium,scaleResolutionDownBy:4},{rid:"h",active:!0,maxBitrate:t.high}];const n=s.sender.getParameters();await s.sender.setParameters(Object.assign(n,e))}}}async applySimulcastEncodings(e,t){if(!BT()&&e.length===t.length)for(let n=0;n<e.length;n++){const r=t[n];if(r instanceof XY&&this.isVP8Simulcast(r)){const t=e[n],i={},o={high:1e3*(r._encoderConfig.bitrateMax-50),medium:5e4};i.encodings=[{active:!0,adaptivePtime:!1,networkPriority:"high",priority:"high",maxBitrate:o.high},{active:!0,adaptivePtime:!1,networkPriority:"low",priority:"low",maxBitrate:o.medium,scaleResolutionDownBy:4}];const a=t.sender.getParameters();await t.sender.setParameters(Object.assign(a,i))}}}isVP8Simulcast(e){var t,n,r,i;return!!(e instanceof XY&&KN("SIMULCAST")&&"vp8"===this.store.codec&&!e._hints.includes(fx.LOW_STREAM)&&null!==(t=e._encoderConfig)&&void 0!==t&&t.bitrateMax&&(null===(n=e._encoderConfig)||void 0===n?void 0:n.bitrateMax)>200&&null!==(r=e._scalabiltyMode)&&void 0!==r&&r.numSpatialLayers&&(null===(i=e._scalabiltyMode)||void 0===i?void 0:i.numSpatialLayers)>1)}logSDPExchange(e,t,n,r){if(KN("SDP_LOGGING"))return uN.upload("exchanging ".concat(n," ").concat(t," SDP during P2PConnection.").concat(r,"\n"),e),"offer"===t?e=>{this.logSDPExchange(e,"answer","local"===n?"remote":"local",r)}:void 0}async getRemoteSSRC(e){if(!this.remoteSDP)return;const t=this.remoteSDP.getSSRC(e);return null==t?void 0:t[0].ssrcId}}).prototype,"connect",[S$],Object.getOwnPropertyDescriptor(b$.prototype,"connect"),b$.prototype),zj(b$.prototype,"receive",[S$],Object.getOwnPropertyDescriptor(b$.prototype,"receive"),b$.prototype),zj(b$.prototype,"batchReceive",[S$],Object.getOwnPropertyDescriptor(b$.prototype,"batchReceive"),b$.prototype),zj(b$.prototype,"stopReceiving",[S$],Object.getOwnPropertyDescriptor(b$.prototype,"stopReceiving"),b$.prototype),zj(b$.prototype,"muteRemote",[S$],Object.getOwnPropertyDescriptor(b$.prototype,"muteRemote"),b$.prototype),zj(b$.prototype,"unmuteRemote",[S$],Object.getOwnPropertyDescriptor(b$.prototype,"unmuteRemote"),b$.prototype),zj(b$.prototype,"muteLocal",[S$],Object.getOwnPropertyDescriptor(b$.prototype,"muteLocal"),b$.prototype),zj(b$.prototype,"unmuteLocal",[S$],Object.getOwnPropertyDescriptor(b$.prototype,"unmuteLocal"),b$.prototype),zj(b$.prototype,"reEstablish",[S$],Object.getOwnPropertyDescriptor(b$.prototype,"reEstablish"),b$.prototype),zj(b$.prototype,"close",[S$],Object.getOwnPropertyDescriptor(b$.prototype,"close"),b$.prototype),zj(b$.prototype,"updateEncoderConfig",[S$],Object.getOwnPropertyDescriptor(b$.prototype,"updateEncoderConfig"),b$.prototype),zj(b$.prototype,"updateSendParameters",[S$],Object.getOwnPropertyDescriptor(b$.prototype,"updateSendParameters"),b$.prototype),zj(b$.prototype,"replaceTrack",[S$],Object.getOwnPropertyDescriptor(b$.prototype,"replaceTrack"),b$.prototype),zj(b$.prototype,"restartICE",[S$],Object.getOwnPropertyDescriptor(b$.prototype,"restartICE"),b$.prototype),zj(b$.prototype,"getRemoteSSRC",[S$],Object.getOwnPropertyDescriptor(b$.prototype,"getRemoteSSRC"),b$.prototype),E$=b$))||E$;function S$(e,t,n){const r=e[t];if("function"!=typeof r)throw new Error("Cannot use mutex on object property.");return n.value=async function(){const e=this.mutex,n=await e.lock("From P2PConnection.".concat(t));try{for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return await r.apply(this,o)}finally{n()}},n}function w$(e,t){let n=document.createElement("video"),r=document.createElement("canvas");n.setAttribute("style","display:none"),r.setAttribute("style","display:none"),n.setAttribute("muted",""),n.muted=!0,n.setAttribute("autoplay",""),n.autoplay=!0,n.setAttribute("playsinline",""),r.width=hG(t.width),r.height=hG(t.height);const i=hG(t.framerate||15);document.body.append(n),document.body.append(r);let o=e._mediaStreamTrack;n.srcObject=new MediaStream([o]),n.play();const a=r.getContext("2d");if(!a)throw new eN($k.UNEXPECTED_ERROR,"can not get canvas context");const s=Vx(),c=r.captureStream(s.supportRequestFrame?0:i).getVideoTracks()[0],u=FV((()=>(()=>{if(n.paused&&n.play(),n.videoHeight>2&&n.videoWidth>2){const e=n.videoWidth,t=n.videoHeight/e,i=r.width*t;Math.abs(i-r.height)>=2&&(uN.debug("adjust low stream resolution","".concat(r.width,"x").concat(r.height," -> ").concat(r.width,"x").concat(i)),r.height=i)}a.drawImage(n,0,0,r.width,r.height),c.requestFrame&&c.requestFrame(),o!==e._mediaStreamTrack&&(o=e._mediaStreamTrack,n.srcObject=new MediaStream([o]))})()),i),l=c.stop;return c.stop=()=>{l.call(c),u(),n&&(n.remove(),n=null),r&&(r.width=0,r.remove(),r=null),uN.debug("clean low stream renderer")},c}var R$,T$;function O$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O$(Object(n),!0).forEach((function(t){iO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class N$ extends EV{getUserId(){return this._userId}constructor(e,t,n,r){super(e,"track-".concat(e.kind,"-").concat(t,"-").concat(r.clientId,"_").concat(SG(5,""))),iO(this,"_userId",void 0),iO(this,"_uintId",void 0),iO(this,"_isDestroyed",!1),iO(this,"store",void 0),iO(this,"processor",void 0),iO(this,"processorContext",void 0),this._userId=t,this._uintId=n,this.store=r}_updateOriginMediaStreamTrack(e){this._originMediaStreamTrack=e,this._mediaStreamTrack=e,this._updatePlayerSource(),this.processor&&this.processor.updateInput({track:this._originMediaStreamTrack,context:this.processorContext})}_destroy(){this._isDestroyed=!0,uN.info("[".concat(this.getTrackId(),"] is destroyed")),kN("info",this,"_destroy"),this.stop(),super.close()}getProcessorStats(){return this.processorContext.gatherStats()}}let D$=PN("RemoteVideoTrack","getTrackId")(R$=class extends N${get isPlaying(){return!(!this._player||this._player.videoElementStatus!==lP.PLAYING)}constructor(e,t,n,r){super(e,t,n,r),iO(this,"_videoVisibleTimer",null),iO(this,"_previousVideoVisibleStatus",void 0),iO(this,"_clearPreviousVideoVisibleStatus",(()=>this._previousVideoVisibleStatus=void 0)),iO(this,"trackMediaType","video"),iO(this,"_videoWidth",void 0),iO(this,"_videoHeight",void 0),iO(this,"_player",void 0),iO(this,"processorDestination",void 0),iO(this,"processorContext",void 0),kN("info",this,"constructor",{userId:t}),this.updateMediaStreamTrackResolution(),this.processorContext=new zQ(this.getTrackId()),this.processorDestination=new HQ(this.processorContext),this.bindProcessorDestinationEvents()}getStats(){return UG((()=>{uN.warning("[deprecated] RemoteVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteVideoStats instead"),wN("warning",this,"[deprecated] RemoteVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteVideoStats instead")}),"remoteVideoTrackGetStatsWarning"),DG(this,px.GET_STATS)||k$({},WP)}play(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=yV.reportApiInvoke(null,{tag:yP.TRACER,name:vP.REMOTE_VIDEO_TRACK_PLAY,options:[this.getTrackId(),"string"==typeof e?e:"HTMLElement",t]});if("string"==typeof e){const t=document.getElementById(e);t?e=t:(uN.warning("[".concat(this.getTrackId(),'] can not find "#').concat(e,'" element, use document.body')),wN("warning",this,'can not find "#'.concat(e,'" element, use document.body')),e=document.body)}uN.debug("[".concat(this.getTrackId(),"] start video playback"),JSON.stringify(t)),kN("debug",this,"play",t);const r=k$(k$({fit:"cover"},t),{},{trackId:this.getTrackId(),element:e});this._player?this._player.updateConfig(r):(this._player=new KK(r),this._player.updateVideoTrack(this._mediaStreamTrack),this._player.onFirstVideoFrameDecoded=()=>{this.store.subscribe(this.getUserId(),"video",void 0,void 0,Date.now()),this.emit(vx.FIRST_FRAME_DECODED)}),this._player.play(this.store.sessionId||void 0),this._videoVisibleTimer&&window.clearInterval(this._videoVisibleTimer),this._clearPreviousVideoVisibleStatus(),this._videoVisibleTimer=window.setInterval((()=>{try{const e=this.getVideoElementVisibleStatus();this.emit(vx.VIDEO_ELEMENT_VISIBLE_STATUS,e)}catch(e){}}),KN("CHECK_VIDEO_VISIBLE_INTERVAL")),n.onSuccess()}stop(){const e=yV.reportApiInvoke(null,{tag:yP.TRACER,name:vP.REMOTE_VIDEO_TRACK_STOP,options:[this.getTrackId()]});if(!this._player)return e.onSuccess();this._videoVisibleTimer&&(window.clearInterval(this._videoVisibleTimer),this._videoVisibleTimer=null),this._clearPreviousVideoVisibleStatus(),this._player.destroy(),this._player=void 0,uN.debug("[".concat(this.getTrackId(),"] stop video playback")),kN("debug",this,"stop"),e.onSuccess()}getCurrentFrameData(){return this._player?this._player.getCurrentFrame():new ImageData(2,2)}updateMediaStreamTrackResolution(){TG(this._originMediaStreamTrack).then((e=>{let[t,n]=e;this._videoHeight=n,this._videoWidth=t})).catch(RG)}_updatePlayerSource(){uN.debug("[".concat(this.getTrackId(),"] update player source track")),kN("debug",this,"_updatePlayerSource"),this._player&&this._player.updateVideoTrack(this._mediaStreamTrack)}getVideoElementVisibleStatus(){try{var e,t;const n=null==this||null===(e=this._player)||void 0===e?void 0:e.getContainerElement(),r={track:this,element:null==this||null===(t=this._player)||void 0===t?void 0:t.getVideoElement(),slot:null==n?void 0:n.parentElement},{element:i,slot:o}=r;if(this.isPlaying&&i instanceof HTMLVideoElement&&o instanceof HTMLElement){const e=YY.checkOneElementVisible(i),t=Object.assign({},e);if(t.visible!==this._previousVideoVisibleStatus){this._previousVideoVisibleStatus=t.visible;const e=yV.reportApiInvoke(null,{tag:yP.TRACER,name:vP.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE,options:[this.getTrackId()]});t.visible?e.onSuccess("Video is visible"):e.onSuccess("Invisible because of ".concat(t.reason))}return t}return}catch(e){throw new eN($k.GET_VIDEO_ELEMENT_VISIBLE_ERROR,e.message)}}pipe(e){if(this.processor===e)return e;if(e._source)throw new eN($k.INVALID_OPERATION,"Processor ".concat(e.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}),e}unpipe(){if(!this.processor)return;const e=this.processor;this.processor._source=void 0,this.processor=void 0,e.reset()}bindProcessorDestinationEvents(){this.processorDestination.on(Lx.ON_TRACK,(async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource()):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource())}))}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(Lx.ON_TRACK)}_destroy(){super._destroy(),this.unbindProcessorDestinationEvents()}})||R$,P$=PN("RemoteAudioTrack","getTrackId")(T$=class extends N${get isPlaying(){return this._useAudioElement?oQ.isPlaying(this.getTrackId()):this._source.isPlayed}constructor(e,t,n,r){super(e,t,n,r),iO(this,"trackMediaType","audio"),iO(this,"_source",void 0),iO(this,"_useAudioElement",!0),iO(this,"_volume",100),iO(this,"processorContext",void 0),iO(this,"processorDestination",void 0),iO(this,"_played",!1),kN("info",this,"constructor",{userId:t}),KN("REMOTE_AUDIO_TRACK_USES_WEB_AUDIO")&&(this._useAudioElement=!1),this._source=new GV(e,!0),this._source.once(BP.RECEIVE_TRACK_BUFFER,(()=>{this.emit(vx.FIRST_FRAME_DECODED)})),this.processorContext=new KQ(this._source.context,this.getTrackId()),this.processorDestination=new WQ(this.processorContext),this.bindProcessorDestinationEvents(),this._source.on(BP.UPDATE_SOURCE,(()=>{this.processor&&this.processor.updateInput({node:this._source.processSourceNode,context:this.processorContext})}))}setAudioFrameCallback(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4096;if(!e)return this._source.removeAllListeners(BP.ON_AUDIO_BUFFER),void this._source.stopGetAudioBuffer();this._source.startGetAudioBuffer(t),this._source.removeAllListeners(BP.ON_AUDIO_BUFFER),this._source.on(BP.ON_AUDIO_BUFFER,(t=>e(t)))}setVolume(e){const t=yV.reportApiInvoke(null,{tag:yP.TRACER,name:vP.REMOTE_AUDIO_SET_VOLUME,options:[this.getTrackId(),e]},300);this._volume=e,this._useAudioElement?oQ.setVolume(this.getTrackId(),e):this._source.setVolume(e/100),t.onSuccess()}async setPlaybackDevice(e){const t=yV.reportApiInvoke(null,{tag:yP.TRACER,name:vP.REMOTE_AUDIO_SET_OUTPUT_DEVICE,options:[this.getTrackId(),e]});if(!this._useAudioElement)throw new eN($k.NOT_SUPPORTED,"your browser does not support setting the audio output device");try{await oQ.setSinkID(this.getTrackId(),e)}catch(e){throw t.onError(e),e}t.onSuccess()}getVolumeLevel(){return this._source.getAccurateVolumeLevel()}getStats(){return UG((()=>{uN.warning("[deprecated] RemoteAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteAudioStats instead"),wN("warning",this,"[deprecated] RemoteAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteAudioStats instead")}),"remoteAudioTrackGetStatsWarning"),DG(this,px.GET_STATS)||k$({},HP)}play(){const e=yV.reportApiInvoke(null,{tag:yP.TRACER,name:vP.REMOTE_AUDIO_TRACK_PLAY,options:[this.getTrackId()]});uN.debug("[".concat(this.getTrackId(),"] start audio playback")),kN("debug",this,"play"),this._played=!0,this._useAudioElement?(uN.debug("[".concat(this.getTrackId(),"] use audio element to play")),wN("debug",this,"use audio element to play"),oQ.play(this._mediaStreamTrack,this.getTrackId(),this._volume,this.store.sessionId||void 0)):this._source.play(),e.onSuccess()}stop(){const e=yV.reportApiInvoke(null,{tag:yP.TRACER,name:vP.REMOTE_AUDIO_TRACK_STOP,options:[this.getTrackId()]});uN.debug("[".concat(this.getTrackId(),"] stop audio playback")),kN("debug",this,"stop"),this._played=!1,this._useAudioElement?oQ.stop(this.getTrackId()):this._source.stop(),e.onSuccess()}_destroy(){super._destroy(),this._played=!1,this.unbindProcessorDestinationEvents(),this._source.destroy()}_isFreeze(){return this._source.isFreeze}_updatePlayerSource(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];uN.debug("[".concat(this.getTrackId(),"] update player source track")),kN("debug",this,"_updatePlayerSource"),e&&this._source.updateTrack(this._mediaStreamTrack),this._useAudioElement&&oQ.updateTrack(this.getTrackId(),this._mediaStreamTrack)}pipe(e){if(this.processor===e)return e;if(e._source)throw new eN($k.INVALID_OPERATION,"Processor ".concat(e.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,node:this._source.processSourceNode,context:this.processorContext}),e}unpipe(){var e;if(!this.processor)return;const t=this.processor;null===(e=this._source.processSourceNode)||void 0===e||e.disconnect(),this.processor._source=!1,this.processor=void 0,t.reset()}bindProcessorDestinationEvents(){this.processorDestination.on(Lx.ON_TRACK,(async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource(!1),this._source.processedNode=this._source.createMediaStreamSourceNode(e)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource())})),this.processorDestination.on(Lx.ON_NODE,(e=>{this._source.processedNode=e;const t=!e;this._useAudioElement!==t&&(this._played?(this.stop(),this._useAudioElement=t,this.play()):this._useAudioElement=t)}))}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(Lx.ON_TRACK),this.processorDestination.removeAllListeners(Lx.ON_NODE)}})||T$;function x$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x$(Object(n),!0).forEach((function(t){iO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class M$ extends Zk{constructor(){super(),iO(this,"uplinkStatsUploadInterval",void 0),iO(this,"uplinkStatsUploadSlowInterval",void 0),iO(this,"uplinkRelatedStatsUploadInterval",void 0),iO(this,"uplinkDenoiserStatsUploadInterval",void 0),iO(this,"transportStatsUploadInterval",void 0),iO(this,"uplinkExtensionStatsUploadInterval",void 0),iO(this,"downlinkExtensionStatsUploadInterval",void 0),iO(this,"downlinkStatsUploadInterval",void 0),iO(this,"downlinkStatsUploadSlowInterval",void 0),iO(this,"downlinkRelatedStatsUploadInterval",void 0),iO(this,"lastStats",void 0),iO(this,"uploadUnplinkStarted",!1),iO(this,"uploadDownlinkStarted",!1),iO(this,"uploadTransportStarted",!1),iO(this,"requestStats",void 0),iO(this,"requestLocalMedia",void 0),iO(this,"requestRemoteMedia",void 0),iO(this,"requestAllTracks",void 0),iO(this,"requestVideoIsReady",void 0),iO(this,"requestUpload",void 0)}startUploadTransportStats(){this.uploadTransportStarted||(this.uploadTransportStarted=!0,this.transportStatsUploadInterval&&window.clearInterval(this.transportStatsUploadInterval),this.transportStatsUploadInterval=window.setInterval((()=>{var e;const t=null===(e=this.requestStats)||void 0===e?void 0:e.call(this);t&&this.uploadTransportStats(t)}),6e3))}startUploadUplinkStats(){this.uploadUnplinkStarted||(this.uploadUnplinkStarted=!0,this.uplinkStatsUploadInterval&&window.clearInterval(this.uplinkStatsUploadInterval),this.uplinkStatsUploadInterval=window.setInterval((()=>{var e;const t=null===(e=this.requestStats)||void 0===e?void 0:e.call(this);t&&(this.uploadUplinkStats(t,this.lastStats),this.lastStats=t)}),3e3),this.uplinkStatsUploadSlowInterval&&window.clearInterval(this.uplinkStatsUploadSlowInterval),this.uplinkStatsUploadSlowInterval=window.setInterval((()=>{var e;const t=null===(e=this.requestStats)||void 0===e?void 0:e.call(this);t&&this.uploadSlowUplinkStats(t)}),6e4),this.uplinkRelatedStatsUploadInterval&&window.clearInterval(this.uplinkRelatedStatsUploadInterval),this.uplinkRelatedStatsUploadInterval=window.setInterval((()=>{var e;const t=null===(e=this.requestStats)||void 0===e?void 0:e.call(this);t&&this.uploadRelatedUplinkStats(t,this.lastStats),this.lastStats=t}),1e3),this.uplinkDenoiserStatsUploadInterval&&window.clearInterval(this.uplinkDenoiserStatsUploadInterval),this.uplinkDenoiserStatsUploadInterval=window.setInterval((()=>{var e;const t=null===(e=this.requestAllTracks)||void 0===e?void 0:e.call(this);t&&this.uploadDenoiserStats(t)}),2e3),this.uplinkExtensionStatsUploadInterval&&window.clearInterval(this.uplinkExtensionStatsUploadInterval),this.uplinkExtensionStatsUploadInterval=window.setInterval((()=>{var e;const t=null===(e=this.requestAllTracks)||void 0===e?void 0:e.call(this);t&&this.uploadExtensionStats(t)}),2e3))}uploadTransportStats(e){MG((()=>{var t;null===(t=this.requestUpload)||void 0===t||t.call(this,xP.TRANSPORT_STATS,function(e){const t={connectionType:100};if("relay"===e.selectedCandidatePair.localCandidate.candidateType){const n=e.selectedCandidatePair.localCandidate.relayProtocol;"udp"===n&&(t.connectionType=101),"tcp"===n&&(t.connectionType=103),"tls"===n&&(t.connectionType=104)}return t}(e))}))}uploadUplinkStats(e,t){var n;((null===(n=this.requestLocalMedia)||void 0===n?void 0:n.call(this))||[]).forEach((n=>{let[r,{track:i,ssrcs:o}]=n;switch(r){case Tx.LocalVideoLowTrack:case Tx.LocalVideoTrack:{const n=function(e,t,n){var r;const i=t.videoSend.find((t=>t.ssrc===e));if(!i)return null;const o={id:SG(10,""),timestamp:new Date(t.timestamp).toISOString(),mediaType:"video",type:"ssrc",ssrc:i.ssrc.toString()};switch(o.A_vstd=n._originMediaStreamTrack&&!n._originMediaStreamTrack.enabled||n._mediaStreamTrack&&!n._mediaStreamTrack.enabled?"1":"0",i.sentFrame&&(o.A_fhs=i.sentFrame.height.toString(),o.A_frs=i.sentFrame.frameRate.toString(),o.A_fws=i.sentFrame.width.toString()),i.adaptionChangeReason){case"none":o.A_ac="0";break;case"cpu":o.A_ac="1";break;case"bandwidth":o.A_ac="2";break;case"other":o.A_ac="3"}return o.A_lvps=dP[n._player?n._player.videoElementStatus:"uninit"].toString(),o.A_nr=null===(r=i.nacksCount)||void 0===r?void 0:r.toString(),i.avgEncodeMs&&(o.A_aem=i.avgEncodeMs.toFixed(0).toString()),o}(o[0].ssrcId,e,i),a=fG(o[0].ssrcId,e,t);n&&MG((()=>{var e;return null===(e=this.requestUpload)||void 0===e?void 0:e.call(this,xP.PUBLISH_STATS,{stream_type:r===Tx.LocalVideoLowTrack?"low":"high",stats:L$(L$({},n),a)})}));break}case Tx.LocalAudioTrack:{const t=function(e,t,n){const r=t.audioSend.find((t=>t.ssrc===e));if(!r)return null;const i={id:SG(10,""),timestamp:new Date(t.timestamp).toISOString(),mediaType:"audio",type:"ssrc",ssrc:r.ssrc.toString()};return i.A_astd=n._originMediaStreamTrack.enabled&&n._mediaStreamTrack.enabled?"0":"1",r.inputLevel?i.A_ail=Math.round(100*r.inputLevel).toString():i.A_ail=Math.round(100*n._source.getAccurateVolumeLevel()).toString(),i.A_apil=Math.round(100*n._source.getAccurateVolumeLevel()).toString(),r.aecReturnLoss&&(i.A_ecrl=Math.round(r.aecReturnLoss).toString()),r.aecReturnLossEnhancement&&(i.A_ecrle=Math.round(r.aecReturnLossEnhancement).toString()),i}(o[0].ssrcId,e,i);t&&MG((()=>{var e;return null===(e=this.requestUpload)||void 0===e?void 0:e.call(this,xP.PUBLISH_STATS,{stream_type:"high",stats:t})}));break}}const a=function(e){const t={id:"bweforvideo",timestamp:new Date(e.timestamp).toISOString(),type:"VideoBwe"};return e.bitrate.retransmit&&(t.A_rb=e.bitrate.retransmit.toString()),e.bitrate.targetEncoded&&(t.A_teb=e.bitrate.targetEncoded.toString()),t.A_aeb=e.bitrate.actualEncoded.toString(),t.A_tb=e.bitrate.transmit.toString(),void 0!==e.sendBandwidth&&(t.A_asb=e.sendBandwidth.toString()),t}(e);a&&MG((()=>{var e;return null===(e=this.requestUpload)||void 0===e?void 0:e.call(this,xP.PUBLISH_STATS,{stream_type:r===Tx.LocalVideoLowTrack?"low":"high",stats:a})}))}))}uploadSlowUplinkStats(e){var t;((null===(t=this.requestLocalMedia)||void 0===t?void 0:t.call(this))||[]).filter((e=>{let[t]=e;return t===Tx.LocalVideoLowTrack||t===Tx.LocalVideoTrack})).forEach((t=>{let[n,{ssrcs:r}]=t;const i=fG(r[0].ssrcId,e);i&&MG((()=>{var e;return null===(e=this.requestUpload)||void 0===e?void 0:e.call(this,xP.PUBLISH_STATS,{stream_type:n===Tx.LocalVideoLowTrack?"low":"high",stats:i})}))}))}uploadRelatedUplinkStats(e,t){var n;((null===(n=this.requestLocalMedia)||void 0===n?void 0:n.call(this))||[]).filter((e=>{let[t]=e;return t===Tx.LocalVideoLowTrack||t===Tx.LocalVideoTrack})).forEach((t=>{let[n,{ssrcs:r}]=t;const i=function(e,t){const n=t.videoSend.find((t=>t.ssrc===e));return n?{mediaType:"video",isVideoMute:!1,frameRateInput:n.inputFrame&&n.inputFrame.frameRate.toString(),frameRateSent:n.sentFrame&&n.sentFrame.frameRate.toString(),googRtt:n.rttMs.toString(),qpSumPerFrame:Math.floor(n.qpSumPerFrame).toString()}:null}(r[0].ssrcId,e);i&&MG((()=>{var e;null===(e=this.requestUpload)||void 0===e||e.call(this,xP.PUBLISH_RELATED_STATS,{stream_type:n===Tx.LocalVideoLowTrack?"low":"high",stats:i})}))}))}uploadDenoiserStats(e){for(let i=0;i<e.length;i++){const o=e[i];if(o instanceof XQ){var t,n,r;const e=null===(t=(n=o._external).getDenoiserStats)||void 0===t?void 0:t.call(n);return void(e&&(null===(r=this.requestUpload)||void 0===r||r.call(this,xP.DENOISER_STATS,e)))}}}uploadExtensionStats(e){for(let t=0;t<e.length;t++)e[t].getProcessorStats().forEach((e=>{var t;null===(t=this.requestUpload)||void 0===t||t.call(this,e.type,e.stats)}))}stopUploadUplinkStats(){this.uploadUnplinkStarted&&(this.uploadUnplinkStarted=!1,this.uplinkStatsUploadInterval&&window.clearInterval(this.uplinkStatsUploadInterval),this.uplinkRelatedStatsUploadInterval&&window.clearInterval(this.uplinkRelatedStatsUploadInterval),this.uplinkDenoiserStatsUploadInterval&&window.clearInterval(this.uplinkDenoiserStatsUploadInterval),this.uplinkStatsUploadInterval=void 0,this.uplinkRelatedStatsUploadInterval=void 0,this.uplinkDenoiserStatsUploadInterval=void 0)}startUploadDownlinkStats(){this.uploadDownlinkStarted||(this.uploadDownlinkStarted=!0,this.downlinkStatsUploadInterval&&window.clearInterval(this.downlinkStatsUploadInterval),this.downlinkStatsUploadInterval=window.setInterval((()=>{var e;const t=null===(e=this.requestStats)||void 0===e?void 0:e.call(this);t&&(this.uploadDownlinkStats(t,this.lastStats),this.lastStats=t)}),3e3),this.downlinkStatsUploadSlowInterval&&window.clearInterval(this.downlinkStatsUploadSlowInterval),this.downlinkStatsUploadSlowInterval=window.setInterval((()=>{var e;const t=null===(e=this.requestStats)||void 0===e?void 0:e.call(this);t&&this.uploadSlowDownlinkStats(t)}),6e4),this.downlinkRelatedStatsUploadInterval&&window.clearInterval(this.downlinkRelatedStatsUploadInterval),this.downlinkRelatedStatsUploadInterval=window.setInterval((()=>{var e;const t=null===(e=this.requestStats)||void 0===e?void 0:e.call(this);t&&(this.uploadRelatedDownlinkStats(t,this.lastStats),this.lastStats=t)}),1e3),this.downlinkExtensionStatsUploadInterval&&window.clearInterval(this.downlinkExtensionStatsUploadInterval),this.downlinkExtensionStatsUploadInterval=window.setInterval((()=>{var e;const t=null===(e=this.requestRemoteMedia)||void 0===e?void 0:e.call(this);t&&this.uploadDownlinkExtensionStats(t)}),2e3))}uploadDownlinkStats(e,t){var n;((null===(n=this.requestRemoteMedia)||void 0===n?void 0:n.call(this))||[]).forEach((t=>{let[n,r]=t;if(r.has(Rx.VIDEO)&&n.videoTrack){const t=n.videoTrack?function(e,t,n){const r=t.videoRecv.find((t=>t.ssrc===e));if(!r)return null;const i={id:SG(10,""),timestamp:new Date(t.timestamp).toISOString(),mediaType:"video",type:"ssrc",ssrc:r.ssrc.toString()};var o,a;return i.bytesReceived=r.bytes.toString(),i.packetsLost=r.packetsLost.toString(),i.packetsReceived=r.packets.toString(),r.framesRateFirefox&&(i.A_frr=r.framesRateFirefox.toString()),r.receivedFrame?(i.A_frr=r.receivedFrame.frameRate.toString(),i.A_fhr=r.receivedFrame.height.toString(),i.A_fwr=r.receivedFrame.width.toString()):(i.A_fhr=null===(o=n._videoHeight)||void 0===o?void 0:o.toString(),i.A_fwr=null===(a=n._videoWidth)||void 0===a?void 0:a.toString()),i.A_frd=r.decodeFrameRate.toString(),r.outputFrame&&(i.A_fro=r.outputFrame.frameRate.toString()),void 0!==r.jitterBufferMs&&(i.A_jbm=Math.floor(r.jitterBufferMs).toString()),void 0!==r.currentDelayMs&&(i.A_cdm=Math.floor(r.currentDelayMs).toString()),i.A_fs=r.firsCount.toString(),i.A_ns=r.nacksCount.toString(),i.A_ps=r.plisCount.toString(),n&&(i.A_vrtd=n._originMediaStreamTrack.enabled&&n._mediaStreamTrack.enabled?"0":"1"),n._player&&n._player.freezeTimeCounterList.length>0&&(i.A_vrft=n._player.freezeTimeCounterList.splice(0,1)[0].toString()),i.A_rvps=dP[n._player?n._player.videoElementStatus:"uninit"].toString(),i}(n._videoSSRC,e,n.videoTrack):void 0;t&&MG((()=>{var e;return null===(e=this.requestUpload)||void 0===e?void 0:e.call(this,xP.SUBSCRIBE_STATS,{stream_id:n.uid,stats:t})}))}if(r.has(Rx.AUDIO)&&n.audioTrack){const t=n.audioTrack?function(e,t,n){const r=t.audioRecv.find((t=>t.ssrc===e));if(!r)return null;const i={id:SG(10,""),timestamp:new Date(t.timestamp).toISOString(),mediaType:"audio",type:"ssrc",ssrc:r.ssrc.toString()};return i.bytesReceived=r.bytes.toString(),i.packetsLost=r.packetsLost.toString(),i.packetsReceived=r.packets.toString(),r.outputLevel?i.A_aol=Math.round(100*r.outputLevel).toString():i.A_aol=Math.round(100*n._source.getAccurateVolumeLevel()).toString(),i.A_apol=Math.round(100*n._source.getAccurateVolumeLevel()).toString(),n&&(i.A_artd=n._originMediaStreamTrack.enabled&&n._mediaStreamTrack.enabled?"0":"1"),i.A_jr=r.jitterMs.toString(),i.A_jbm=Math.floor(r.jitterBufferMs).toString(),i.A_cdm=Math.floor(r.jitterBufferMs).toString(),i.A_raps=dP[oQ.getPlayerState(n.getTrackId())].toString(),i}(n._audioSSRC,e,n.audioTrack):void 0;t&&MG((()=>{var e;return null===(e=this.requestUpload)||void 0===e?void 0:e.call(this,xP.SUBSCRIBE_STATS,{stream_id:n.uid,stats:t})}))}}))}uploadSlowDownlinkStats(e){}uploadRelatedDownlinkStats(e,t){var n;((null===(n=this.requestRemoteMedia)||void 0===n?void 0:n.call(this))||[]).forEach((n=>{let[r,i]=n;if(i.has(Rx.VIDEO)&&r.videoTrack){var o;const n=!0===(r._videoSSRC&&(null===(o=this.requestVideoIsReady)||void 0===o?void 0:o.call(this,r._videoSSRC))||!1),i=function(e,t,n,r,i,o){const a=n.videoRecv.find((t=>t.ssrc===e)),s=i?i.videoRecv.find((t=>t.ssrc===e)):void 0;if(!a)return null;const c=aG.isRemoteVideoFreeze(o,a,s)&&t,u={mediaType:"video",isVideoMute:!1,peerId:r,frameRateReceived:a.receivedFrame&&a.receivedFrame.frameRate.toString(),frameRateDecoded:a.decodedFrame&&a.decodedFrame.frameRate.toString(),isFreeze:c,bytesReceived:a.bytes.toString(),packetsReceived:a.packets.toString(),packetsLost:a.packetsLost.toString(),qpSumPerFrame:Math.floor(a.qpSumPerFrame).toString()};return a.framesRateFirefox&&(u.frameRateDecoded=a.framesRateFirefox.toString(),u.frameRateReceived=a.framesRateFirefox.toString()),u}(r._videoSSRC,n,e,r.uid,t,r.videoTrack);i&&MG((()=>{var e;null===(e=this.requestUpload)||void 0===e||e.call(this,xP.SUBSCRIBE_RELATED_STATS,{stream_id:r.uid,stats:i})}))}if(i.has(Rx.AUDIO)&&r.audioTrack){const t=function(e,t,n,r){const i=t.audioRecv.find((t=>t.ssrc===e));if(!i)return null;const o=aG.isRemoteAudioFreeze(r);return{mediaType:"audio",isAudioMute:!1,peerId:n,googJitterReceived:i.jitterMs.toString(),isFreeze:o,bytesReceived:i.bytes.toString(),packetsReceived:i.packets.toString(),packetsLost:i.packetsLost.toString(),frameReceived:i.receivedFrames.toString(),frameDropped:i.droppedFrames.toString()}}(r._audioSSRC,e,r.uid,r.audioTrack);t&&MG((()=>{var e;null===(e=this.requestUpload)||void 0===e||e.call(this,xP.SUBSCRIBE_RELATED_STATS,{stream_id:r.uid,stats:t})}))}}))}stopUploadDownlinkStats(){this.uploadDownlinkStarted&&(this.uploadDownlinkStarted=!1,this.downlinkStatsUploadInterval&&window.clearInterval(this.downlinkStatsUploadInterval),this.downlinkRelatedStatsUploadInterval&&window.clearInterval(this.downlinkRelatedStatsUploadInterval),this.downlinkStatsUploadInterval=void 0,this.downlinkRelatedStatsUploadInterval=void 0)}stopUploadTransportStats(){this.uploadTransportStarted&&(this.uploadTransportStarted=!1,this.transportStatsUploadInterval&&window.clearInterval(this.transportStatsUploadInterval),this.transportStatsUploadInterval=void 0)}uploadDownlinkExtensionStats(e){e.forEach((e=>{let[t,n]=e;n.has(Rx.VIDEO)&&t.videoTrack&&t.videoTrack.getProcessorStats().forEach((e=>{var t;null===(t=this.requestUpload)||void 0===t||t.call(this,e.type,e.stats)})),n.has(Rx.AUDIO)&&t.audioTrack&&t.audioTrack.getProcessorStats().forEach((e=>{var t;null===(t=this.requestUpload)||void 0===t||t.call(this,e.type,e.stats)}))}))}}var B$,F$;function U$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U$(Object(n),!0).forEach((function(t){iO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V$(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=lX,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new Q$(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function Q$(e){function t(e){if(Object(e)!==e)return LC.reject(new TypeError(e+" is not an object."));var t=e.done;return LC.resolve(e.value).then((function(e){return{value:e,done:t}}))}return(Q$=function(e){this.s=e,this.n=e.next}).prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?LC.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?LC.reject(e):t(n.apply(this.s,arguments))}},new Q$(e)}let G$=PN("P2PChannel","store.p2pId")((zj((F$=class extends Zk{get state(){return this._state}set state(e){const t=this._state;this._state=e,this.emit(kx.StateChange,t,this._state)}constructor(e,t){super(),iO(this,"store",void 0),iO(this,"statsUploader",void 0),iO(this,"connection",void 0),iO(this,"localTrackMap",new Map),iO(this,"remoteUserMap",new Map),iO(this,"pendingLocalTracks",[]),iO(this,"pendingRemoteTracks",[]),iO(this,"statsCollector",void 0),iO(this,"isPlanB",!1),iO(this,"iceFailedCount",0),iO(this,"dtlsFailedCount",0),iO(this,"mutex",new SV("P2PChannel-mutex")),iO(this,"_state",Ox.Disconnected),iO(this,"handleMuteLocalTrack",(async(e,t,n)=>{const r=await this.mutex.lock("Locking from P2PChannel.handleMuteLocalTrack");try{if(!this.connection)return void n(new eN($k.INVALID_OPERATION,"Cannot call P2PChannel.handleMuteLocalTrack before connection established."));kN("debug",this,"handleMuteLocalTrack",e.getTrackId()),await this.waitTillConnected();const i=this.filterTobeMutedTracks(e);if(0===i.length)return void t();const o=i.find((e=>"videoLowTrack"===e[0]));o&&o[1].track._originMediaStreamTrack.stop(),await this.connection.muteLocal(i.map((e=>{let[,{id:t}]=e;return t})));const a=this.createMuteMessage(i);await NG(this,kx.RequestMuteLocal,a),t()}catch(e){n(e)}finally{r()}})),iO(this,"handleUnmuteLocalTrack",(async(e,t,n)=>{const r=await this.mutex.lock("Locking from P2PChannel.handleUnmuteLocalTrack");try{if(!this.connection)return void n(new eN($k.INVALID_OPERATION,"Cannot call P2PChannel.handleUnmuteLocalTrack before connection established."));kN("debug",this,"handleUnmuteLocalTrack",e.getTrackId()),await this.waitTillConnected();const i=this.filterTobeUnmutedTracks(e);if(0===i.length)return void t();const o=i.find((e=>"videoLowTrack"===e[0]));if(o){const t=o[1];if(t.track._originMediaStreamTrack.stop(),Vx().supportDualStreamEncoding){const n=e._mediaStreamTrack.clone();t.track._mediaStreamTrack=n,t.track._originMediaStreamTrack=n}else{const n=w$(e,PG(this,kx.RequestLowStreamParameter));t.track._mediaStreamTrack=n,t.track._originMediaStreamTrack=n}await new LC(((e,n)=>{this.handleReplaceTrack(t.track,e,n,!0)}))}await this.connection.unmuteLocal(i.map((e=>{let[,{id:t}]=e;return t})));const a=this.createUnmuteMessage(i);await NG(this,kx.RequestUnmuteLocal,a),t()}catch(e){n(e)}finally{r()}})),iO(this,"handleUpdateVideoEncoder",(async(e,t,n)=>{const r=await this.mutex.lock("Locking from P2PChannel.handleSetVideoEncoder");try{const n=this.localTrackMap.get(Tx.LocalVideoTrack);if(!this.connection||!n||n.track!==e)return void t();await this.waitTillConnected();const{id:i,track:o}=n;await this.connection.updateSendParameters(i,o),await this.connection.updateEncoderConfig(i,o),this.emit(kx.UpdateVideoEncoder,o),t()}catch(e){n(e)}finally{r()}})),iO(this,"handleSetOptimizationMode",(async(e,t,n)=>{const r=await this.mutex.lock("Locking from P2PChannel.handleSetOptimizationMode");try{const n=this.localTrackMap.get(Tx.LocalVideoTrack);if(!this.connection||!n||n.track!==e)return;await this.waitTillConnected();const{id:i,track:o}=n;await this.connection.updateSendParameters(i,o),t()}catch(e){n(e)}finally{r()}})),iO(this,"handleReplaceTrack",(async(e,t,n,r)=>{let i;uN.debug("P2PChannel handleReplaceTrack for [track-id-".concat(e.getTrackId(),"]")),"boolean"==typeof r&&r||(i=await this.mutex.lock("From P2PChannel.handleReplaceTrack"));try{var o;const n=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:n}]=t;return e===n}));if(!this.connection||!n)return void t();if(await this.waitTillConnected(),await(null===(o=this.connection)||void 0===o?void 0:o.replaceTrack(e,n[1].id)),this.isPlanB){const t=n[1];t.id=e._mediaStreamTrack.id,this.localTrackMap.set(n[0],t)}if(n[0]===Tx.LocalVideoTrack&&Vx().supportDualStreamEncoding){const t=this.localTrackMap.get(Tx.LocalVideoLowTrack);if(t){const n=e._mediaStreamTrack.clone();t.track._originMediaStreamTrack.stop(),t.track._mediaStreamTrack=n,t.track._originMediaStreamTrack=n,await new LC(((e,n)=>{this.handleReplaceTrack(t.track,e,n,!0)}))}}t()}catch(e){n(e)}finally{var a;null===(a=i)||void 0===a||a()}})),iO(this,"handleGetLocalVideoStats",(e=>{e(this.statsCollector.getLocalVideoTrackStats())})),iO(this,"handleGetLocalAudioStats",(e=>{e(this.statsCollector.getLocalAudioTrackStats())})),iO(this,"handleGetRemoteVideoStats",(e=>this.statsCollector.getRemoteVideoTrackStats(e.uid)[e.uid])),iO(this,"handleGetRemoteAudioStats",(e=>this.statsCollector.getRemoteAudioTrackStats(e.uid)[e.uid])),this.store=e,this.statsCollector=t,this.statsCollector.addP2PChannel(this),this.statsUploader=new M$,this.bindStatsUploaderEvents(),this.isPlanB=!Vx().supportUnifiedPlan||KN("CHROME_FORCE_PLAN_B")&&YT()}async startP2PConnection(e){return this.state=Ox.New,this.connection=this.isPlanB?new A$(e,this.store):new I$(e,this.store),this.bindConnectionEvents(this.connection),this.connection.establish()}async connect(e,t,n,r,i,o){if(!this.connection)throw new eN($k.UNEXPECTED_ERROR,"Cannot P2PChannel.connect before P2PChannel.startP2PConnection .");this.store.peerConnectionStart(),await this.connection.connect(e,t,n,r,i,o),this.statsUploader.startUploadTransportStats(),this.state=Ox.Connected}publish(e,t,n){var r=this;return aX((function*(){const i=yield sX(r.mutex.lock("From P2PChannel.publish"));try{if(!r.connection){if(r.state===Ox.Disconnected)throw new eN($k.UNEXPECTED_ERROR,"PeerConnection already disconnected.");r.throwIfTrackTypeNotMatch(e);const t=e.filter((e=>-1===r.pendingLocalTracks.indexOf(e)));return void(r.pendingLocalTracks=r.pendingLocalTracks.concat(t))}r.store.pubId=r.store.pubId+1,rG.markPublishStart(r.store.clientId,r.store.pubId),yield sX(r.waitTillConnected());const o=r.filterTobePublishedTracks(e,t,n);if(0===o.length)return void(yield sX(r.tryToUnmuteAudio(e)));yield*uX(V$(r.doPublish(r.connection,o)),sX)}finally{i()}}))()}doPublish(e,t){var n=this;return aX((function*(){t.forEach((e=>{let{track:t,type:r}=e;const i=Date.now();n.store.publish(t.getTrackId(),r===Tx.LocalAudioTrack?"audio":"video",i)})),n.bindLocalTrackEvents(t);const r=yield sX(e.send(t.map((e=>{let{track:t}=e;return t})),n.store.codec,n.store.audioCodec)),i=(yield sX(r.next())).value,o=n.createGatewayPublishMessage(t,i);let a;try{a=yield o}catch(e){throw wN("error",n,"doPublish yield error: ".concat(e.toString())),r.throw(e),(null==e?void 0:e.code)===$k.WS_ABORT&&t.forEach((e=>{let{track:t}=e;-1===n.pendingLocalTracks.indexOf(t)&&n.pendingLocalTracks.push(t)})),n.unbindLocalTrackEvents(t),e}const s=n.mapPubResToRemoteConfig(o,a);kN("debug",n,"doPublish",{remoteConfigs:s,tracks:t.map((e=>{let{track:t}=e;return t.getTrackId()})),pubMsg:o,pubAns:a});const c=(yield sX(r.next(s))).value;t.forEach((e=>{let{type:t}=e;n.statsCollector.addLocalStats(t)})),n.assignLocalTracks(t,c),n.statsUploader.startUploadUplinkStats(),t.forEach((e=>{let{track:t,type:r}=e;const i=Date.now();n.store.publish(t.getTrackId(),r===Tx.LocalAudioTrack?"audio":"video",void 0,i)}))}))()}publishLowStream(e){var t=this;return aX((function*(){if(!t.connection)return;kN("debug",t,"publishLowStream",e);const n=yield sX(t.mutex.lock("Locking from P2PChannel.publishLowStream"));try{const i=t.localTrackMap.get(Tx.LocalVideoTrack);if(!i)throw new eN($k.UNEXPECTED_ERROR,"Could not find high stream");if(t.localTrackMap.has(Tx.LocalVideoLowTrack))throw new eN($k.UNEXPECTED_ERROR,"[".concat(t.store.clientId,"] Can't publish low stream when stream already publish"));yield sX(t.waitTillConnected());const o=[{track:t.getLowVideoTrack(i.track,e),type:Tx.LocalVideoLowTrack}];if(yield*uX(V$(t.doPublish(t.connection,o)),sX),i.track.muted||!i.track.enabled){var r;const e=null===(r=t.localTrackMap.get(Tx.LocalVideoLowTrack))||void 0===r?void 0:r.id;void 0!==e&&(yield sX(t.connection.muteLocal([e])))}}finally{n()}}))()}async republish(){this.pendingLocalTracks.length>0&&(uN.debug("Emit P2PChannelEvents.RequestRePublish to republish tracks."),kN("debug",this,"republish",this.pendingLocalTracks.map((e=>e.getTrackId()))),await kG(this,kx.RequestRePublish,this.pendingLocalTracks),this.emit(kx.MediaReconnectEnd,this.store.uid),this.pendingLocalTracks=[])}async reSubscribe(e){kN("debug",this,"reSubscribe",this.pendingRemoteTracks.map((e=>{let{user:t}=e;return t.uid})));for(let e=this.pendingRemoteTracks.length-1;e>=0;e--){const{user:t,kind:n}=this.pendingRemoteTracks[e];(n!==Rx.AUDIO||t._audio_added_&&t._audioSSRC)&&(n!==Rx.VIDEO||t._video_added_&&t._videoSSRC)||this.pendingRemoteTracks.splice(e,1)}if(e)await kG(this,kx.RequestReSubscribe,this.pendingRemoteTracks);else for(const{user:e,kind:t}of this.pendingRemoteTracks)await this.subscribe(e,t,t===Rx.VIDEO?e._videoSSRC:e._audioSSRC);this.pendingRemoteTracks.forEach((e=>{let{user:t}=e;this.emit(kx.MediaReconnectEnd,t.uid)})),this.pendingRemoteTracks=[]}async unpublish(e){if(!this.connection)return void e.forEach((e=>{const t=this.pendingLocalTracks.indexOf(e);-1!==t&&this.pendingLocalTracks.splice(t,1)}));await this.waitTillConnected();const t=this.filterTobeUnpublishedTracks(e);if(0===t.length)return;const n=t.find((e=>"videoLowTrack"===e[0]));return n&&n[1].track.close(),kN("debug",this,"unpublish"),this.doUnpublish(this.connection,t)}async unpublishLowStream(){if(!this.connection)return;kN("debug",this,"unpublishLowStream");const e=this.localTrackMap.get(Tx.LocalVideoLowTrack);if(!e)return;await this.waitTillConnected(),e.track.close();const t=[[Tx.LocalVideoLowTrack,e]];return this.doUnpublish(this.connection,t)}async doUnpublish(e,t){const n=this.createGatewayUnpublishMessage(t);return await e.stopSending(t.map((e=>{let[,{id:t}]=e;return t}))),this.withdrawLocalTracks(t),this.unbindLocalTrackEvents(t.map((e=>{let[t,{track:n}]=e;return{type:t,track:n}}))),t.forEach((e=>{let[t]=e;this.statsCollector.removeLocalStats(t)})),0===this.localTrackMap.size&&this.statsUploader.stopUploadUplinkStats(),n}async subscribe(e,t,n,r,i){var o;if(!this.connection)throw new eN($k.INVALID_OPERATION,"Cannot subscribe remote user when peerConnection disconnected.");if(kN("debug",this,"subscribe",{uid:e.uid,mediaType:t,ssrcId:n}),null!==(o=this.remoteUserMap.get(e))&&void 0!==o&&o.has(t))return;let a,s;if(await this.waitTillConnected(),i){const n=i.find((e=>{let{stream_type:n}=e;return n===t}));if(!n)throw new eN($k.UNEXPECTED_ERROR,"Cannot subscribe to remote ".concat(t," for user: ").concat(e.uid," because subscribe answer from gateway does not contain stream_type: ").concat(t,"."));const r=await this.connection.receive(t,n.ssrcs,String(e._uintid),n.attributes);a=r.track,s=r.id}else{const i=await this.connection.receive(t,[{ssrcId:n,rtx:r}],String(e._uintid),void 0);a=i.track,s=i.id}t===Rx.AUDIO?(e._audioTrack?e._audioTrack._updateOriginMediaStreamTrack(a):(e._audioTrack=new P$(a,e.uid,e._uintid,this.store),uN.info("[".concat(this.store.p2pId,"] create remote audio track: ").concat(e._audioTrack.getTrackId()))),this.bindRemoteTrackEvents(e,e._audioTrack)):(e._videoTrack?e._videoTrack._updateOriginMediaStreamTrack(a):(e._videoTrack=new D$(a,e.uid,e._uintid,this.store),uN.info("[".concat(this.store.p2pId,"] create remote video track: ").concat(e._videoTrack.getTrackId()))),this.bindRemoteTrackEvents(e,e._videoTrack));const c=this.remoteUserMap.get(e);c?c.set(t,s):this.remoteUserMap.set(e,new Map([[t,s]])),this.statsCollector.addRemoteStats(e.uid),this.statsUploader.startUploadDownlinkStats();const u=this.pendingRemoteTracks.findIndex((n=>{let{user:r,kind:i}=n;return r.uid===e.uid&&t===i}));-1!==u&&(this.pendingRemoteTracks.splice(u,1),this.emit(kx.MediaReconnectEnd,e.uid))}async massSubscribe(e){return this.massSubscribeNoLock(e)}async massSubscribeNoLock(e){if(!this.connection)throw new eN($k.INVALID_OPERATION,"Cannot subscribeAll remote users when peerConnection disconnected.");kN("debug",this,"subscribeAll",e.map((e=>{let{user:t,mediaType:n,ssrcId:r}=e;return{uid:t.uid,mediaType:n,ssrcId:r}}))),e=e.filter((e=>{var t;let{user:n,mediaType:r}=e;return!(null!==(t=this.remoteUserMap.get(n))&&void 0!==t&&t.has(r))})),await this.waitTillConnected();const t=await this.connection.batchReceive(e.map((e=>{let{user:t,mediaType:n,ssrcId:r,rtxSsrcId:i}=e;return{kind:n,ssrcMsg:[{ssrcId:r,rtx:i}],mslabel:String(t._uintid)}})));e.forEach(((e,n)=>{let{user:r,mediaType:i}=e;const{track:o,id:a}=t[n];i===Rx.AUDIO?(r._audioTrack?r._audioTrack._updateOriginMediaStreamTrack(o):(r._audioTrack=new P$(o,r.uid,r._uintid,this.store),uN.info("[".concat(this.store.p2pId,"] create remote audio track: ").concat(r._audioTrack.getTrackId()))),this.bindRemoteTrackEvents(r,r._audioTrack)):(r._videoTrack?r._videoTrack._updateOriginMediaStreamTrack(o):(r._videoTrack=new D$(o,r.uid,r._uintid,this.store),uN.info("[".concat(this.store.p2pId,"] create remote video track: ").concat(r._videoTrack.getTrackId()))),this.bindRemoteTrackEvents(r,r._videoTrack));const s=this.remoteUserMap.get(r);s?s.set(i,a):this.remoteUserMap.set(r,new Map([[i,a]])),this.statsCollector.addRemoteStats(r.uid),this.statsUploader.startUploadDownlinkStats();const c=this.pendingRemoteTracks.findIndex((e=>{let{user:t,kind:n}=e;return t.uid===r.uid&&i===n}));-1!==c&&(this.pendingRemoteTracks.splice(c,1),this.emit(kx.MediaReconnectEnd,r.uid))}))}async unsubscribe(e,t,n){const r=this.pendingRemoteTracks.filter((n=>{let{user:r,kind:i}=n;return void 0!==t?r.uid===e.uid&&t===i:r.uid===e.uid}));if(r.forEach((e=>{const t=this.pendingRemoteTracks.indexOf(e);this.pendingRemoteTracks.splice(t,1)})),this.connection||n||r.forEach((t=>{let{kind:n}=t;var r;if(n===Rx.AUDIO)null===(r=e._audioTrack)||void 0===r||r._destroy(),e._audioTrack=void 0;else if(n===Rx.VIDEO){var i;null===(i=e._videoTrack)||void 0===i||i._destroy(),e._videoTrack=void 0}})),!this.connection)return;kN("debug",this,"unsubscribe",{uid:e.uid,mediaType:t});const i=this.filterTobeUnSubscribedTracks(e,t);if(0===i.length)return;await this.connection.stopReceiving(i.map((e=>{let[,{id:t}]=e;return t})));const o=this.createUnsubscribeMessage(i);return this.withdrawRemoteTracks(i),0===this.remoteUserMap.size&&this.statsUploader.stopUploadDownlinkStats(),i.forEach((e=>{let[t,{kind:r}]=e;var i,o;if(r===Rx.VIDEO&&t._videoSSRC&&(null===(i=this.connection)||void 0===i||i.setStatsRemoteVideoIsReady(t._videoSSRC,!1)),r===Rx.VIDEO)this.unbindRemoteTrackEvents(t._videoTrack),n||(null===(o=t._videoTrack)||void 0===o||o._destroy(),t._videoTrack=void 0);else if(r===Rx.AUDIO){var a;this.unbindRemoteTrackEvents(t._audioTrack),n||(null===(a=t._audioTrack)||void 0===a||a._destroy(),t._audioTrack=void 0)}})),o}async massUnsubscribe(e){return this.massUnsubscribeNoLock(e)}async massUnsubscribeNoLock(e){let t=[];for(const{user:n,mediaType:r}of e){const e=this.pendingRemoteTracks.filter((e=>{let{user:t,kind:i}=e;return void 0!==r?t.uid===n.uid&&r===i:t.uid===n.uid}));e.forEach((e=>{const t=this.pendingRemoteTracks.indexOf(e);this.pendingRemoteTracks.splice(t,1)})),t=t.concat(e)}if(!this.connection)return void t.forEach((e=>{let{user:t,kind:n}=e;var r;if(n===Rx.AUDIO)null===(r=t._audioTrack)||void 0===r||r._destroy(),t._audioTrack=void 0;else if(n===Rx.VIDEO){var i;null===(i=t._videoTrack)||void 0===i||i._destroy(),t._videoTrack=void 0}}));kN("debug",this,"batchUnsubscribe",e.map((e=>{let{user:t,mediaType:n}=e;return{uid:t.uid,mediaType:n}})));const n=lh(e).call(e,((e,t)=>{let{user:n,mediaType:r}=t;const i=this.filterTobeUnSubscribedTracks(n,r);return e.concat(i)}),[]);if(0===n.length)return;await this.connection.stopReceiving(n.map((e=>{let[,{id:t}]=e;return t})));const r=this.createUnsubscribeAllMessage(n);return this.withdrawRemoteTracks(n),0===this.remoteUserMap.size&&this.statsUploader.stopUploadDownlinkStats(),n.forEach((e=>{let[t,{kind:n}]=e;var r,i;if(n===Rx.VIDEO&&t._videoSSRC&&(null===(r=this.connection)||void 0===r||r.setStatsRemoteVideoIsReady(t._videoSSRC,!1)),n===Rx.VIDEO)this.unbindRemoteTrackEvents(t._videoTrack),null===(i=t._videoTrack)||void 0===i||i._destroy(),t._videoTrack=void 0;else if(n===Rx.AUDIO){var o;this.unbindRemoteTrackEvents(t._audioTrack),null===(o=t._audioTrack)||void 0===o||o._destroy(),t._audioTrack=void 0}})),r}async muteRemote(e,t){if(!this.connection)return;kN("debug",this,"muteRemote",{uid:e.uid,kind:t});const n=this.remoteUserMap.get(e);if(!n)return uN.warning("P2PChannel.muteRemote has no remote user ".concat(e.uid,".")),void wN("warning",this,"P2PChannel.muteRemote has no remote user ".concat(e.uid,"."));if(!n.get(t))return uN.warning("P2PChannel.muteRemote has no remote user ".concat(e.uid," media type ").concat(t,".")),void wN("warning",this,"P2PChannel.muteRemote has no remote user ".concat(e.uid," media type ").concat(t,"."));const r=t===Rx.VIDEO?e._videoSSRC:e._audioSSRC;void 0!==r&&this.connection.setStatsRemoteVideoIsReady(r,!1)}async unmuteRemote(e,t){return this.unmuteRemoteNoLock(e,t)}async unmuteRemoteNoLock(e,t){if(!this.connection)return;kN("debug",this,"unmuteRemote",{uid:e.uid,kind:t});const n=this.remoteUserMap.get(e);return n?n.get(t)?void 0:(uN.warning("P2PChannel.unmuteRemote has no remote user ".concat(e.uid," media type ").concat(t,".")),void wN("warning",this,"unmuteRemote has no remote user ".concat(e.uid," media type ").concat(t))):(uN.warning("P2PChannel.unmuteRemote has no remote user ".concat(e.uid,".")),void wN("warning",this,"unmuteRemote has no remote user ".concat(e.uid)))}getAllTracks(e){const t=this.localTrackMap.get(Tx.LocalAudioTrack);if((null==t?void 0:t.track)instanceof eG){const n=t.track;return Array.from(this.localTrackMap.entries()).filter((e=>{let[t]=e;return t!==Tx.LocalAudioTrack})).filter((t=>{let[n]=t;return!(e&&n===Tx.LocalVideoLowTrack)})).map((e=>{let[,{track:t}]=e;return t})).concat(n.trackList)}return Array.from(this.localTrackMap.entries()).filter((t=>{let[n]=t;return!(e&&n===Tx.LocalVideoLowTrack)})).map((e=>{let[,{track:t}]=e;return t}))}reportPublishEvent(e,t,n,r,i){if(e){const n=this.localTrackMap.get(Tx.LocalAudioTrack),o=r?this.localTrackMap.get(Tx.LocalVideoLowTrack):this.localTrackMap.get(Tx.LocalVideoTrack);yV.publish(this.store.sessionId,{eventElapse:rG.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:null==n?void 0:n.track.getTrackLabel(),videoName:null==o?void 0:o.track.getTrackLabel(),screenshare:-1!==(null==o?void 0:o.track._hints.indexOf(fx.SCREEN_TRACK)),audio:!!n,video:!!o,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:i})}else{var o;n||(n=[]);const a=n.find((e=>e instanceof ZQ)),s=r?null===(o=this.localTrackMap.get(Tx.LocalVideoTrack))||void 0===o?void 0:o.track:n.find((e=>e instanceof XY));yV.publish(this.store.sessionId,{eventElapse:rG.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:null==a?void 0:a.getTrackLabel(),videoName:null==s?void 0:s.getTrackLabel(),screenshare:-1!==(null==s?void 0:s._hints.indexOf(fx.SCREEN_TRACK)),audio:!!a,video:!!s,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:i})}}reportSubscribeEvent(e,t,n,r){const i=r===Rx.VIDEO?n._videoSSRC:n._audioSSRC;i&&yV.subscribe(this.store.sessionId,{succ:e,ec:t,video:r===Rx.VIDEO,audio:r===Rx.AUDIO,peerid:n.uid,subscribeRequestid:r===Rx.VIDEO?n._videoSSRC:n._audioSSRC,p2pid:this.store.p2pId,eventElapse:rG.measureFromSubscribeStart(this.store.clientId,i)})}reset(){uN.debug("P2PChannel.reset"),this.mutex=new SV("P2PChannel-mutex"),this.connection&&(this.connection.close(),this.unbindConnectionEvents(this.connection),this.connection=void 0),this.statsUploader.stopUploadUplinkStats(),this.statsUploader.stopUploadDownlinkStats(),this.statsUploader.stopUploadTransportStats(),this.unbindLocalTrackEvents(),this.unbindAllRemoteTrackEvents(),this.localTrackMap.clear(),this.remoteUserMap.clear(),this.statsCollector.removeRemoteStats(),this.statsCollector.removeLocalStats(),this.iceFailedCount=0,this.dtlsFailedCount=0,this.pendingLocalTracks=[],this.pendingRemoteTracks=[],this.state=Ox.Disconnected}getStats(){var e;return null===(e=this.connection)||void 0===e?void 0:e.getStats()}getRemoteVideoIsReady(e){var t;return(null===(t=this.connection)||void 0===t?void 0:t.getRemoteVideoIsReady(e))||!1}getLocalAudioVolume(){const e=this.localTrackMap.get(Tx.LocalAudioTrack);if(e)return e.track.getVolumeLevel()}getLocalVideoSize(){const e=this.localTrackMap.get(Tx.LocalVideoTrack);if(e)return{width:e.track._videoWidth||0,height:e.track._videoHeight||0}}getEncoderConfig(e){const t=this.localTrackMap.get(e);return t&&t.track instanceof XY||t&&t.track instanceof ZQ?t.track._encoderConfig:void 0}getLocalMedia(e){return this.localTrackMap.get(e)}hasLocalMedia(){return this.localTrackMap.size>0}hasRemoteMedia(e,t){if(!e)return this.remoteUserMap.size>0;const n=this.remoteUserMap.get(e);return!!n&&(!t||n.has(t))}async hasRemoteMediaWithLock(e,t){if(!e)return this.remoteUserMap.size>0;const n=this.remoteUserMap.get(e);return!!n&&(!t||n.has(t))}getRemoteMedia(e){var t;const n=Array.from(eV(t=this.remoteUserMap).call(t)).find((t=>t.uid===e));return n?{audioTrack:n.audioTrack,audioSSRC:n._audioSSRC,videoTrack:n.videoTrack,videoSSRC:n._videoSSRC}:{}}getAudioLevels(){let e=Array.from(this.remoteUserMap.entries()).map((e=>{let[t]=e;return{uid:t.uid,level:t.audioTrack?100*t.audioTrack._source.getAccurateVolumeLevel():0}}));const t=this.localTrackMap.get(Tx.LocalAudioTrack);return t&&e.push({level:100*t.track._source.getAccurateVolumeLevel(),uid:this.store.uid}),e=YD(e).call(e,((e,t)=>e.level-t.level)),e}async disconnectForReconnect(){this.connection&&(kN("debug",this,"disconnectForReconnect"),uN.debug("P2PChannel.disconnectForReconnect closing P2PConnection"),this.state=Ox.Reconnecting,this.connection.close(),this.unbindConnectionEvents(this.connection),this.connection=void 0,0!==this.localTrackMap.size&&(Array.from(this.localTrackMap.entries()).forEach((e=>{let[t,{track:n}]=e;switch(t){case Tx.LocalVideoTrack:n._hints.includes(fx.LOW_STREAM)?n.close():this.pendingLocalTracks.push(n);break;case Tx.LocalAudioTrack:n instanceof eG?this.pendingLocalTracks=this.pendingLocalTracks.concat(n.trackList):this.pendingLocalTracks.push(n);case Tx.LocalVideoLowTrack:}})),this.emit(kx.MediaReconnectStart,this.store.uid)),this.unbindLocalTrackEvents(),this.localTrackMap.clear(),0!==this.remoteUserMap.size&&Array.from(this.remoteUserMap.entries()).forEach((e=>{let[t,n]=e;Array.from(eV(n).call(n)).forEach((e=>{this.setPendingRemoteMedia(t,e)})),this.emit(kx.MediaReconnectStart,t.uid)})),this.unbindAllRemoteTrackEvents(),this.remoteUserMap.clear(),this.statsUploader.stopUploadUplinkStats(),this.statsUploader.stopUploadDownlinkStats(),this.statsUploader.stopUploadTransportStats(),uN.debug("P2PChannel disconnected, waiting to reconnect."))}hasPendingRemoteMedia(e,t){for(const n of this.pendingRemoteTracks){const{user:r,kind:i}=n;if((e instanceof eJ?e.uid:e)===r.uid&&t===i)return!0}return!1}setPendingRemoteMedia(e,t){this.hasPendingRemoteMedia(e,t)||this.pendingRemoteTracks.push({user:e,kind:t})}async reEstablish(){if(this.connection)return this.connection.reEstablish()}getUplinkNetworkQuality(){if(!this.connection)return 0;const e=this.connection.getStats(),t=this.localTrackMap.get(Tx.LocalVideoTrack),n=this.localTrackMap.get(Tx.LocalAudioTrack),r=e.videoSend.find((e=>e.ssrc===(null==t?void 0:t.ssrcs[0].ssrcId))),i=e.audioSend.find((e=>e.ssrc===(null==n?void 0:n.ssrcs[0].ssrcId)));if(!r||!i)return 1;const o=DG(this,kx.NeedSignalRTT),a=r?r.rttMs:void 0,s=i?i.rttMs:void 0,c=a&&s?(a+s)/2:a||s,u=(c&&o?(c+o)/2:c||o)||0,l=100*e.sendPacketLossRate*.7/50+.3*u/1500,d=l<.17?1:l<.36?2:l<.59?3:l<.1?4:5,h=null==t?void 0:t.track;if(h&&h._encoderConfig&&-1===h._hints.indexOf(fx.SCREEN_TRACK)){const t=h._encoderConfig.bitrateMax,n=e.bitrate.actualEncoded;if(t&&n){const e=(1e3*t-n)/(1e3*t);return tD[e<.15?0:e<.3?1:e<.45?2:e<.6?3:4][d]}}return d}getDownlinkNetworkQuality(){if(!this.connection)return 0;const e=this.connection.getStats();let t=0;return Array.from(this.remoteUserMap.entries()).forEach((n=>{let[r]=n;const i=r._audioSSRC,o=r._videoSSRC,a=e.audioRecv.find((e=>e.ssrc===i)),s=e.videoRecv.find((e=>e.ssrc===o));if(!a&&!s)return void(t+=1);const c=DG(this,kx.NeedSignalRTT),u=e.rtt,l=(u&&c?(u+c)/2:u||c)||0,d=a?a.jitterMs:void 0,h=e.recvPacketLossRate;let p=.7*h*100/50+.3*l/1500;d&&(p=.6*h*100/50+.2*l/1500+.2*d/400),t+=p<.1?1:p<.17?2:p<.36?3:p<.59?4:5})),this.remoteUserMap.size>0?Math.round(t/this.remoteUserMap.size):t}async muteLocalTrack(e){return new LC(((t,n)=>{this.handleMuteLocalTrack(e,t,n)}))}filterTobePublishedTracks(e,t,n){const r=[],i=Vx(),o=this.getAllTracks();e=LG(e=e.filter((e=>-1===o.indexOf(e))));let a=!1,s=!1;for(const o of e){if(o instanceof XY&&(this.localTrackMap.has(Tx.LocalVideoTrack)||a?new eN($k.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS).throw():(r.push({track:o,type:Tx.LocalVideoTrack}),a=!0),t)){const e=this.getLowVideoTrack(o,n);r.push({track:e,type:Tx.LocalVideoLowTrack})}if(o instanceof ZQ){const e=this.localTrackMap.get(Tx.LocalAudioTrack);if(e){if(!(e.track instanceof eG))throw new eN($k.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing");if(o._bypassWebAudio)throw new eN($k.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio");e.track.addAudioTrack(o),this.bindLocalAudioTrackEvents(o,!0)}else if(s){const e=r.find((e=>{let{type:t}=e;return t===Tx.LocalAudioTrack}));if(!(e.track instanceof eG))throw new eN($k.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing");if(o._bypassWebAudio)throw new eN($k.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio");e.track.addAudioTrack(o)}else{if(!i.webAudioMediaStreamDest||o instanceof eG||o._bypassWebAudio)r.push({track:o,type:Tx.LocalAudioTrack});else{const e=new eG;e.addAudioTrack(o),r.push({track:e,type:Tx.LocalAudioTrack})}s=!0}}}return r}filterTobeUnpublishedTracks(e){const t=[],n=this.getAllTracks();e=LG(e=e.filter((e=>-1!==n.indexOf(e))));for(const n of e){if(n instanceof ZQ){const e=this.localTrackMap.get(Tx.LocalAudioTrack);if(!e)continue;e.track instanceof eG?(e.track.removeAudioTrack(n),this.unbindLocalAudioTrackEvents(n),0===e.track.trackList.length&&(t.push([Tx.LocalAudioTrack,e]),e.track.close())):t.push([Tx.LocalAudioTrack,e])}if(n instanceof XY){const e=this.localTrackMap.get(Tx.LocalVideoTrack);if(!e)continue;t.push([Tx.LocalVideoTrack,e]);const n=this.localTrackMap.get(Tx.LocalVideoLowTrack);n&&t.push([Tx.LocalVideoLowTrack,n])}}return t}bindLocalTrackEvents(e){e.forEach((e=>{let{track:t,type:n}=e;switch(n){case Tx.LocalVideoTrack:t.addListener(px.GET_STATS,this.handleGetLocalVideoStats),t.addListener(px.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.addListener(px.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.addListener(px.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),t.addListener(px.SET_OPTIMIZATION_MODE,this.handleSetOptimizationMode),t.addListener(px.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.addListener(px.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.addListener(px.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case Tx.LocalAudioTrack:this.bindLocalAudioTrackEvents(t);case Tx.LocalVideoLowTrack:}}))}bindLocalAudioTrackEvents(e,t){e instanceof eG?e.trackList.forEach((e=>{e.addListener(px.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.addListener(px.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.addListener(px.GET_STATS,this.handleGetLocalAudioStats),e.addListener(px.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.addListener(px.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)})):(e.addListener(px.GET_STATS,this.handleGetLocalAudioStats),e.addListener(px.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.addListener(px.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.addListener(px.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.addListener(px.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack),t||e.addListener(px.NEED_REPLACE_TRACK,this.handleReplaceTrack))}unbindLocalTrackEvents(e){e||(e=Array.from(this.localTrackMap.entries()).map((e=>{let[t,{track:n}]=e;return{track:n,type:t}}))),e.forEach((e=>{let{track:t,type:n}=e;switch(n){case Tx.LocalVideoTrack:t.off(px.GET_STATS,this.handleGetLocalVideoStats),t.off(px.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.off(px.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.off(px.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),t.off(px.SET_OPTIMIZATION_MODE,this.handleSetOptimizationMode),t.off(px.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.off(px.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.off(px.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case Tx.LocalAudioTrack:this.unbindLocalAudioTrackEvents(t);case Tx.LocalVideoLowTrack:}}))}unbindLocalAudioTrackEvents(e){e instanceof eG?e.trackList.forEach((e=>{e.off(px.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off(px.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off(px.GET_STATS,this.handleGetLocalAudioStats),e.off(px.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off(px.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)})):(e.off(px.GET_STATS,this.handleGetLocalAudioStats),e.off(px.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off(px.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off(px.NEED_REPLACE_TRACK,this.handleReplaceTrack),e.off(px.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off(px.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack))}bindRemoteTrackEvents(e,t){t instanceof D$&&t.addListener(px.GET_STATS,(t=>{t(this.handleGetRemoteVideoStats(e))})),t instanceof P$&&t.addListener(px.GET_STATS,(t=>{t(this.handleGetRemoteAudioStats(e))}))}unbindRemoteTrackEvents(e){e&&e.removeAllListeners(px.GET_STATS)}unbindAllRemoteTrackEvents(){Array.from(this.remoteUserMap.entries()).forEach((e=>{let[t,n]=e;n.has(Rx.AUDIO)&&this.unbindRemoteTrackEvents(t._audioTrack),n.has(Rx.VIDEO)&&this.unbindRemoteTrackEvents(t._videoTrack)}))}createGatewayPublishMessage(e,t){return e.map(((e,n)=>{let r,i,{track:o,type:a}=e;switch(a){case Tx.LocalAudioTrack:r=lx.Audio,i={dtx:o instanceof XQ&&o._config.DTX,hq:!1,lq:!1,stereo:!1,speech:!1};break;case Tx.LocalVideoTrack:r=o._hints.includes(fx.SCREEN_TRACK)?lx.Screen:lx.High,i=j$(j$({},pG(o)),{},{codec:this.store.codec});break;case Tx.LocalVideoLowTrack:r=lx.Low,i=j$(j$({},pG(o)),{},{codec:this.store.codec})}return{stream_type:r,attributes:i,ssrcs:t[n]}}))}createGatewayUnpublishMessage(e){return e.map((e=>{let t,[n,{track:r,ssrcs:i,id:o}]=e;switch(n){case Tx.LocalVideoTrack:t=r._hints.includes(fx.SCREEN_TRACK)?lx.Screen:lx.High;break;case Tx.LocalAudioTrack:t=lx.Audio;break;case Tx.LocalVideoLowTrack:t=lx.Low}return{stream_type:t,ssrcs:i,mid:o}}))}assignLocalTracks(e,t){e.forEach(((e,n)=>{let{track:r,type:i}=e;this.localTrackMap.set(i,{track:r,id:t[n].id,ssrcs:t[n].localSSRC})}))}withdrawLocalTracks(e){e.forEach((e=>{let[t]=e;this.localTrackMap.delete(t)}))}async waitTillConnected(){return new LC(((e,t)=>{switch(this.state){case Ox.New:case Ox.Reconnecting:{const n=(r,i)=>i===Ox.Disconnected?(this.off(kx.StateChange,n),void t(new eN($k.UNEXPECTED_ERROR,"PeerConnection already disconnected."))):i===Ox.Connected?(this.off(kx.StateChange,n),void e(void 0)):void 0;this.on(kx.StateChange,n);break}case Ox.Connected:e(void 0);break;case Ox.Disconnected:t(new eN($k.UNEXPECTED_ERROR,"PeerConnection already disconnected."))}}))}bindConnectionEvents(e){e.onConnectionStateChange=async e=>{uN.info("[p2pId: ".concat(this.store.p2pId,"]: P2PConnection.onConnectionStateChange(").concat(e,")")),RN("info",this,"connectionStateChange",e),this.emit(kx.PeerConnectionStateChange,e),"connected"!==e||this.store.keyMetrics.peerConnectionEnd||this.store.peerConnectionEnd(),"failed"===e&&await this.requestReconnect()},e.onICEConnectionStateChange=e=>{uN.info("[p2pId: ".concat(this.store.p2pId,"]: P2PConnection.onICEConnectionStateChange(").concat(e,")")),RN("info",this,"iceConnectionStateChange",e),yV.reportApiInvoke(this.store.sessionId,{name:"ICEConnectionStateChange",options:e,tag:yP.TRACER}).onSuccess(),this.emit(kx.IceConnectionStateChange,e)},e.onICETransportStateChange=e=>{uN.info("[p2pId: ".concat(this.store.p2pId,"]: P2PConnection.onICETransportStateChange(").concat(e,")")),RN("info",this,"ICETransportStateChange",e)},e.onDTLSTransportStateChange=e=>{uN.info("[p2pId: ".concat(this.store.p2pId,"]: P2PConnection.onDTLSTransportStateChange(").concat(e,")")),RN("info",this,"DTLSTransportStateChange",e)},e.onDTLSTransportError=e=>{uN.info("[p2pId: ".concat(this.store.p2pId,"]: P2PConnection.onDTLSTransportError(").concat(e,")")),RN("info",this,"DTLSTransportError",e)},e.onFirstAudioDecoded=e=>{var t;const n=Array.from(eV(t=this.remoteUserMap).call(t)).find((t=>t._audioSSRC===e));var r;n&&(this.store.subscribe(n.uid,"audio",void 0,void 0,void 0,Date.now()),null===(r=n.audioTrack)||void 0===r||r.emit(vx.FIRST_FRAME_DECODED),yV.firstRemoteFrame(this.store.sessionId,fP.FIRST_AUDIO_DECODE,AP.FIRST_AUDIO_DECODE,{peer:n._uintid,subscribeElapse:rG.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId}))},e.onFirstAudioReceived=e=>{var t;const n=Array.from(eV(t=this.remoteUserMap).call(t)).find((t=>t._audioSSRC===e));n&&yV.firstRemoteFrame(this.store.sessionId,fP.FIRST_AUDIO_RECEIVED,AP.FIRST_AUDIO_RECEIVED,{peer:n._uintid,subscribeElapse:rG.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId})},e.onFirstVideoDecoded=(e,t,n)=>{this.reportVideoFirstFrameDecoded(e,t,n)},e.onFirstVideoReceived=e=>{var t;const n=Array.from(eV(t=this.remoteUserMap).call(t)).find((t=>t._videoSSRC===e));n&&yV.firstRemoteFrame(this.store.sessionId,fP.FIRST_VIDEO_RECEIVED,AP.FIRST_VIDEO_RECEIVED,{peer:n._uintid,subscribeElapse:rG.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId})},e.onSelectedLocalCandidateChanged=(e,t)=>{const n="relay"===e.candidateType,r="relay"===t.candidateType;"unknown"!==t.candidateType&&n===r||this.emit(kx.ConnectionTypeChange,n),uN.info("[p2pId: ".concat(this.store.p2pId,"]: P2PConnection.SelectedLocalCandidateChanged(").concat(JSON.stringify(yG(t))," -> ").concat(JSON.stringify(yG(e)),")")),RN("info",this,"SelectedLocalCandidateChanged","".concat(JSON.stringify(yG(t))," -> ").concat(JSON.stringify(yG(e))))},e.onSelectedRemoteCandidateChanged=(e,t)=>{uN.info("[p2pId: ".concat(this.store.p2pId,"]: P2PConnection.SelectedRemoteCandidateChanged(").concat(JSON.stringify(yG(t))," -> ").concat(JSON.stringify(yG(e)),")")),RN("info",this,"SelectedRemoteCandidateChanged","".concat(JSON.stringify(yG(t))," -> ").concat(JSON.stringify(yG(e))))},e.onFirstVideoDecodedTimeout=e=>{this.reportVideoFirstFrameDecoded(e,void 0,void 0,!0)}}unbindConnectionEvents(e){e.onConnectionStateChange=void 0,e.onICEConnectionStateChange=void 0,e.onICETransportStateChange=void 0,e.onDTLSTransportStateChange=void 0,e.onDTLSTransportError=void 0,e.onFirstAudioDecoded=void 0,e.onFirstAudioReceived=void 0,e.onFirstVideoDecoded=void 0,e.onFirstVideoReceived=void 0,e.onSelectedLocalCandidateChanged=void 0,e.onSelectedRemoteCandidateChanged=void 0,e.onFirstVideoDecodedTimeout=void 0}filterTobeMutedTracks(e){const t=[];if(-1===this.getAllTracks().indexOf(e))return t;const n=this.localTrackMap.get(Tx.LocalAudioTrack);if(e instanceof ZQ&&(null==n?void 0:n.track)instanceof eG)return n.track.isActive||t.push([Tx.LocalAudioTrack,n]),t;const r=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:n}]=t;return e===n}));if(r&&(t.push(r),r[0]===Tx.LocalVideoTrack)){const e=this.localTrackMap.get(Tx.LocalVideoLowTrack);e&&t.push([Tx.LocalVideoLowTrack,e])}return t}filterTobeUnmutedTracks(e){const t=[],n=this.localTrackMap.get(Tx.LocalAudioTrack);if(e instanceof ZQ&&(null==n?void 0:n.track)instanceof eG)return n.track.isActive&&t.push([Tx.LocalAudioTrack,n]),t;const r=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:n}]=t;return e===n}));if(r)if(r[0]===Tx.LocalVideoTrack){t.push(r);const e=this.localTrackMap.get(Tx.LocalVideoLowTrack);e&&t.push([Tx.LocalVideoLowTrack,e])}else t.push(r);return t}createMuteMessage(e){return e.map((e=>{let t,[n,{track:r,ssrcs:i,id:o}]=e;switch(n){case Tx.LocalAudioTrack:t=lx.Audio;break;case Tx.LocalVideoTrack:t=r._hints.includes(fx.SCREEN_TRACK)?lx.Screen:lx.High;break;case Tx.LocalVideoLowTrack:t=lx.Low}return{stream_type:t,ssrcs:i,mid:o}}))}createUnmuteMessage(e){return e.map((e=>{let t,[n,{track:r,ssrcs:i,id:o}]=e;switch(n){case Tx.LocalAudioTrack:t=lx.Audio;break;case Tx.LocalVideoTrack:t=r._hints.includes(fx.SCREEN_TRACK)?lx.Screen:lx.High;break;case Tx.LocalVideoLowTrack:t=lx.Low}return{stream_type:t,ssrcs:i,mid:o}}))}filterTobeUnSubscribedTracks(e,t){const n=[],r=this.remoteUserMap.get(e);if(!r)return n;if(t){const i=r.get(t);if(!i)return n;n.push([e,{kind:t,id:i}])}else Array.from(r.entries()).forEach((t=>{let[r,i]=t;n.push([e,{kind:r,id:i}])}));return n}createUnsubscribeMessage(e){const t=[];return e.forEach((e=>{let[n,{kind:r,id:i}]=e;switch(r){case Rx.VIDEO:return void(n._videoSSRC&&t.push({stream_type:Rx.VIDEO,ssrcId:n._videoSSRC}));case Rx.AUDIO:return void(n._audioSSRC&&t.push({stream_type:Rx.AUDIO,ssrcId:n._audioSSRC}))}})),t}createUnsubscribeAllMessage(e){const t=new Map;return e.forEach((e=>{let[n,{kind:r}]=e;if(t.has(n)){let e=t.get(n);r===Rx.VIDEO?e|=hx.Video:e|=hx.Audio,t.set(n,e)}else r===Rx.VIDEO?t.set(n,hx.Video):t.set(n,hx.Audio)})),{users:Array.from(t.entries()).map((e=>{let[t,n]=e;return{stream_id:t.uid,stream_type:n}}))}}withdrawRemoteTracks(e){e.forEach((e=>{let[t,{kind:n}]=e;const r=this.remoteUserMap.get(t);r&&(r.delete(n),0===Array.from(r.entries()).length&&this.remoteUserMap.delete(t))}))}async updateBitrateLimit(e){const t=this.localTrackMap.get(Tx.LocalVideoTrack),n=this.localTrackMap.get(Tx.LocalVideoLowTrack);t&&await t.track.setBitrateLimit(e.uplink),n&&e.low_stream_uplink&&await n.track.setBitrateLimit({max_bitrate:e.low_stream_uplink.bitrate,min_bitrate:e.low_stream_uplink.bitrate||0})}isP2PDisconnected(){return!this.connection||"connected"!==this.connection.peerConnectionState}mapPubResToRemoteConfig(e,t){return e.map(((e,n)=>{var r;let{stream_type:i}=e;return null===(r=t.find((e=>{let{stream_type:t}=e;return i===t})))||void 0===r?void 0:r.attributes}))}async tryToUnmuteAudio(e){for(let n=0;n<e.length;n++)if(e[n]instanceof ZQ){var t;const r=this.filterTobeUnmutedTracks(e[n]);if(0===r.length)continue;await(null===(t=this.connection)||void 0===t?void 0:t.unmuteLocal(r.map((e=>{let[,{id:t}]=e;return t}))));const i=this.createUnmuteMessage(r);return void await NG(this,kx.RequestUnmuteLocal,i)}}bindStatsUploaderEvents(){this.statsUploader.requestStats=()=>this.getStats(),this.statsUploader.requestLocalMedia=()=>Array.from(this.localTrackMap.entries()),this.statsUploader.requestRemoteMedia=()=>Array.from(this.remoteUserMap.entries()),this.statsUploader.requestVideoIsReady=e=>{var t;return!(null===(t=this.connection)||void 0===t||!t.getRemoteVideoIsReady(e))},this.statsUploader.requestUpload=(e,t)=>this.emit(kx.RequestUploadStats,e,t),this.statsUploader.requestAllTracks=()=>this.getAllTracks()}unbindStatsUploaderEvents(){this.statsUploader.requestStats=void 0,this.statsUploader.requestLocalMedia=void 0,this.statsUploader.requestRemoteMedia=void 0,this.statsUploader.requestVideoIsReady=void 0}async requestReconnect(){this.dtlsFailedCount+=1,await CG(nN(this.dtlsFailedCount,tN)),this.emit(kx.RequestReconnect)}async reconnectP2P(){const e=Array.from(this.localTrackMap.entries()),t=this.createGatewayUnpublishMessage(e);Array.from(this.remoteUserMap.entries()),t.length>0&&await kG(this,kx.RequestUnpublishForReconnectPC,t),this.disconnectForReconnect(),this.emit(kx.RequestReconnectPC)}canPublishLowStream(){return this.localTrackMap.has(Tx.LocalVideoTrack)||this.pendingLocalTracks.some((e=>e instanceof XY))}throwIfTrackTypeNotMatch(e){if(e.filter((e=>e instanceof XY)).length>1)throw new eN($k.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(e.filter((e=>e instanceof ZQ)).length>1&&(e.some((e=>e instanceof ZQ&&e._bypassWebAudio))||!Vx().webAudioMediaStreamDest))throw new eN($k.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode");for(const t of e){if(t instanceof XY&&this.pendingLocalTracks.some((e=>e instanceof XY)))throw new eN($k.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(t instanceof ZQ&&this.pendingLocalTracks.some((e=>e instanceof ZQ))&&(!Vx().webAudioMediaStreamDest||t._bypassWebAudio||this.pendingLocalTracks.some((e=>e instanceof ZQ&&e._bypassWebAudio))))throw new eN($k.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode")}}getLowVideoTrack(e,t){const n=Vx().supportDualStreamEncoding,r=j$(j$({},{width:160,height:120,framerate:15,bitrate:50}),t);let i;i=n?e._mediaStreamTrack.clone():w$(e,r);const o=new XY(i,j$(j$({},n&&{scaleResolutionDownBy:vG(r,e)}),{},{frameRate:r.framerate,bitrateMax:r.bitrate,bitrateMin:r.bitrate}));return o._hints.push(fx.LOW_STREAM),e.addListener(px.NEED_CLOSE,(()=>{o.close()})),o}async globalLock(){return this.mutex.lock("From P2PChannel.globalLock")}reportVideoFirstFrameDecoded(e,t,n,r){var i;const o=Array.from(eV(i=this.remoteUserMap).call(i)).find((t=>t._videoSSRC===e));if(o){r||this.store.subscribe(o.uid,"video",void 0,void 0,void 0,void 0,Date.now());const i=this.store.keyMetrics,a=i.subscribe.find((e=>e.userId===o.uid&&"video"===e.type));yV.firstRemoteVideoDecode(this.store.sessionId,fP.FIRST_VIDEO_DECODE,AP.FIRST_VIDEO_DECODE,{peer:o._uintid,videowidth:t,videoheight:n,subscribeElapse:rG.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId,apEnd:i.requestAPEnd||0,apStart:i.requestAPStart||0,joinGwEnd:i.joinGatewayEnd||0,joinGwStart:i.joinGatewayStart||0,pcEnd:i.peerConnectionEnd||0,pcStart:i.peerConnectionStart||0,subscriberEnd:(null==a?void 0:a.subscribeEnd)||0,subscriberStart:(null==a?void 0:a.subscribeStart)||0,videoAddNotify:(null==a?void 0:a.streamAdded)||0,state:r?1:0})}}async remoteMediaSsrcChanged(e,t,n){if(!this.connection)return!1;const r=this.remoteUserMap.get(e);if(!r)return!1;const i=r.get(t);if(!i)return!1;const o=await this.connection.getRemoteSSRC(i);return void 0!==o&&o!==n}}).prototype,"startP2PConnection",[q$],Object.getOwnPropertyDescriptor(F$.prototype,"startP2PConnection"),F$.prototype),zj(F$.prototype,"connect",[q$],Object.getOwnPropertyDescriptor(F$.prototype,"connect"),F$.prototype),zj(F$.prototype,"unpublish",[q$],Object.getOwnPropertyDescriptor(F$.prototype,"unpublish"),F$.prototype),zj(F$.prototype,"unpublishLowStream",[q$],Object.getOwnPropertyDescriptor(F$.prototype,"unpublishLowStream"),F$.prototype),zj(F$.prototype,"subscribe",[q$],Object.getOwnPropertyDescriptor(F$.prototype,"subscribe"),F$.prototype),zj(F$.prototype,"massSubscribe",[q$],Object.getOwnPropertyDescriptor(F$.prototype,"massSubscribe"),F$.prototype),zj(F$.prototype,"unsubscribe",[q$],Object.getOwnPropertyDescriptor(F$.prototype,"unsubscribe"),F$.prototype),zj(F$.prototype,"massUnsubscribe",[q$],Object.getOwnPropertyDescriptor(F$.prototype,"massUnsubscribe"),F$.prototype),zj(F$.prototype,"muteRemote",[q$],Object.getOwnPropertyDescriptor(F$.prototype,"muteRemote"),F$.prototype),zj(F$.prototype,"unmuteRemote",[q$],Object.getOwnPropertyDescriptor(F$.prototype,"unmuteRemote"),F$.prototype),zj(F$.prototype,"hasRemoteMediaWithLock",[q$],Object.getOwnPropertyDescriptor(F$.prototype,"hasRemoteMediaWithLock"),F$.prototype),zj(F$.prototype,"disconnectForReconnect",[q$],Object.getOwnPropertyDescriptor(F$.prototype,"disconnectForReconnect"),F$.prototype),zj(F$.prototype,"reEstablish",[q$],Object.getOwnPropertyDescriptor(F$.prototype,"reEstablish"),F$.prototype),zj(F$.prototype,"updateBitrateLimit",[q$],Object.getOwnPropertyDescriptor(F$.prototype,"updateBitrateLimit"),F$.prototype),zj(F$.prototype,"remoteMediaSsrcChanged",[q$],Object.getOwnPropertyDescriptor(F$.prototype,"remoteMediaSsrcChanged"),F$.prototype),B$=F$))||B$;function q$(e,t,n){const r=e[t];if("function"!=typeof r)throw new Error("Cannot use mutex on object property.");return n.value=async function(){const e=this.mutex,n=await e.lock("From P2PChannel.".concat(t));try{for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return await r.apply(this,o)}finally{n()}},n}function H$(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var z$,W$="function"==typeof Symbol&&Symbol.observable||"@@observable",K$=function(){return Math.random().toString(36).substring(7).split("").join(".")},Y$={INIT:"@@redux/INIT"+K$(),REPLACE:"@@redux/REPLACE"+K$(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+K$()}};function J$(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Z$(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(H$(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(H$(1));return n(Z$)(e,t)}if("function"!=typeof e)throw new Error(H$(2));var i=e,o=t,a=[],s=a,c=!1;function u(){s===a&&(s=a.slice())}function l(){if(c)throw new Error(H$(3));return o}function d(e){if("function"!=typeof e)throw new Error(H$(4));if(c)throw new Error(H$(5));var t=!0;return u(),s.push(e),function(){if(t){if(c)throw new Error(H$(6));t=!1,u();var n=s.indexOf(e);s.splice(n,1),a=null}}}function h(e){if(!J$(e))throw new Error(H$(7));if(void 0===e.type)throw new Error(H$(8));if(c)throw new Error(H$(9));try{c=!0,o=i(o,e)}finally{c=!1}for(var t=a=s,n=0;n<t.length;n++)(0,t[n])();return e}function p(e){if("function"!=typeof e)throw new Error(H$(10));i=e,h({type:Y$.REPLACE})}function f(){var e,t=d;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(H$(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[W$]=function(){return this},e}return h({type:Y$.INIT}),(r={dispatch:h,subscribe:d,getState:l,replaceReducer:p})[W$]=f,r}function X$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X$(Object(n),!0).forEach((function(t){iO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.SET_SESSION_ID="SET_SESSION_ID",e.SET_P2P_ID="SET_P2P_id",e.SET_UID="SET_UID",e.SET_PUB_ID="SET_PUB_ID",e.SET_CLOUD_PROXY_SERVER_MODE="SET_CLOUD_PROXY_SERVER_MODE",e.KEY_METRIC_CLIENT_CREATED="KEY_METRIC_CLIENT_CREATED",e.KEY_METRIC_JOIN_START="KEY_METRIC_JOIN_START",e.AVOID_JOIN_START="AVOID_JOIN_START",e.KEY_METRIC_JOIN_END="KEY_METRIC_JOIN_END",e.KEY_METRIC_REQUEST_AP_START="KEY_METRIC_REQUEST_AP_START",e.KEY_METRIC_REQUEST_AP_END="KEY_METRIC_REQUEST_AP_END",e.KEY_METRIC_JOIN_GATEWAY_START="KEY_METRIC_JOIN_GATEWAY_START",e.KEY_METRIC_JOIN_GATEWAY_END="KEY_METRIC_JOIN_GATEWAY_END",e.KEY_METRIC_PEER_CONNECTION_START="KEY_METRIC_PEER_CONNECTION_START",e.KEY_METRIC_PEER_CONNECTION_END="KEY_METRIC_PEER_CONNECTION_END",e.KEY_METRIC_PUBLISH="KEY_METRIC_PUBLISH",e.KEY_METRIC_SUBSCRIBE="KEY_METRIC_SUBSCRIBE",e.RECORD_JOIN_CHANNEL_SERVICE="RECORD_JOIN_CHANNEL_SERVICE",e.RESET_JOIN_CHANNEL_SERVICE_RECORDS="RESET_JOIN_CHANNEL_SERVICE_RECORDS",e.RESET_KEY_METRICS="RESET_KEY_METRICS"}(z$||(z$={}));class e0{constructor(e,t,n,r){iO(this,"store",void 0),iO(this,"reducer",void 0);const i={codec:e,audioCodec:t,mode:n,clientId:r,sessionId:null,p2pId:0,pubId:0,subId:0,avoidJoinStart:0,keyMetrics:{publish:[],subscribe:[]},joinChannelServiceRecords:[],cloudProxyServerMode:"disabled"};this.reducer=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z$.SET_SESSION_ID:return $$($$({},e),{},{sessionId:t.sessionId});case z$.SET_P2P_ID:return $$($$({},e),{},{p2pId:t.p2pId});case z$.SET_UID:return $$($$({},e),{},{uid:t.uid});case z$.SET_PUB_ID:return $$($$({},e),{},{pubId:t.pubId});case z$.KEY_METRIC_CLIENT_CREATED:return $$($$({},e),{},{keyMetrics:$$($$({},e.keyMetrics),{},{clientCreated:t.metric})});case z$.KEY_METRIC_JOIN_START:return $$($$({},e),{},{keyMetrics:$$($$({},e.keyMetrics),{},{joinStart:t.metric})});case z$.AVOID_JOIN_START:return $$($$({},e),{},{avoidJoinStart:t.avoidJoinStart});case z$.KEY_METRIC_JOIN_END:return $$($$({},e),{},{keyMetrics:$$($$({},e.keyMetrics),{},{joinEnd:t.metric})});case z$.KEY_METRIC_REQUEST_AP_START:return $$($$({},e),{},{keyMetrics:$$($$({},e.keyMetrics),{},{requestAPStart:t.metric})});case z$.KEY_METRIC_REQUEST_AP_END:return $$($$({},e),{},{keyMetrics:$$($$({},e.keyMetrics),{},{requestAPEnd:t.metric})});case z$.KEY_METRIC_JOIN_GATEWAY_START:return $$($$({},e),{},{keyMetrics:$$($$({},e.keyMetrics),{},{joinGatewayStart:t.metric})});case z$.KEY_METRIC_JOIN_GATEWAY_END:return $$($$({},e),{},{keyMetrics:$$($$({},e.keyMetrics),{},{joinGatewayEnd:t.metric})});case z$.KEY_METRIC_PEER_CONNECTION_START:return $$($$({},e),{},{keyMetrics:$$($$({},e.keyMetrics),{},{peerConnectionStart:t.metric})});case z$.KEY_METRIC_PEER_CONNECTION_END:return $$($$({},e),{},{keyMetrics:$$($$({},e.keyMetrics),{},{peerConnectionEnd:t.metric})});case z$.KEY_METRIC_PUBLISH:{const n=e.keyMetrics.publish,r=n.findIndex((e=>e.trackId===t.metric.trackId));return-1!==r?(n[r]=$$($$({},n[r]),t.metric),$$($$({},e),{},{keyMetrics:$$($$({},e.keyMetrics),{},{publish:[...n]})})):$$($$({},e),{},{keyMetrics:$$($$({},e.keyMetrics),{},{publish:[...e.keyMetrics.publish,t.metric]})})}case z$.KEY_METRIC_SUBSCRIBE:{const n=e.keyMetrics.subscribe,r=n.findIndex((e=>e.userId===t.metric.userId&&e.type===t.metric.type));return-1!==r?(n[r]=$$($$({},n[r]),t.metric),$$($$({},e),{},{keyMetrics:$$($$({},e.keyMetrics),{},{subscribe:[...n]})})):$$($$({},e),{},{keyMetrics:$$($$({},e.keyMetrics),{},{subscribe:[...e.keyMetrics.subscribe,t.metric]})})}case z$.SET_CLOUD_PROXY_SERVER_MODE:return e.cloudProxyServerMode=t.mode,e;case z$.RECORD_JOIN_CHANNEL_SERVICE:return"number"!=typeof t.index?e.joinChannelServiceRecords=[...e.joinChannelServiceRecords,t.record]:(e.joinChannelServiceRecords[t.index]=$$($$({},e.joinChannelServiceRecords[t.index]),t.record),e.joinChannelServiceRecords=[...e.joinChannelServiceRecords]),e;case z$.RESET_JOIN_CHANNEL_SERVICE_RECORDS:return e.joinChannelServiceRecords=[],e;case z$.RESET_KEY_METRICS:return e.keyMetrics={publish:[],subscribe:[]},e;default:return e}},this.store=Z$(this.reducer)}set sessionId(e){this.store.dispatch({type:z$.SET_SESSION_ID,sessionId:e})}get sessionId(){return this.store.getState().sessionId}get codec(){return this.store.getState().codec}get audioCodec(){return this.store.getState().audioCodec}get clientId(){return this.store.getState().clientId}set p2pId(e){this.store.dispatch({type:z$.SET_P2P_ID,p2pId:e})}get p2pId(){return this.store.getState().p2pId}set uid(e){this.store.dispatch({type:z$.SET_UID,uid:e})}get uid(){return this.store.getState().uid}set pubId(e){this.store.dispatch({type:z$.SET_PUB_ID,pubId:e})}get pubId(){return this.store.getState().pubId}set cloudProxyServerMode(e){this.store.dispatch({type:z$.SET_CLOUD_PROXY_SERVER_MODE,mode:e})}get cloudProxyServerMode(){return this.store.getState().cloudProxyServerMode}clientCreated(){this.store.dispatch({type:z$.KEY_METRIC_CLIENT_CREATED,metric:Date.now()})}joinStart(){this.store.dispatch({type:z$.KEY_METRIC_JOIN_START,metric:Date.now()})}joinEnd(){this.store.dispatch({type:z$.KEY_METRIC_JOIN_END,metric:Date.now()})}requestAPStart(){this.store.dispatch({type:z$.KEY_METRIC_REQUEST_AP_START,metric:Date.now()})}requestAPEnd(){this.store.dispatch({type:z$.KEY_METRIC_REQUEST_AP_END,metric:Date.now()})}joinGatewayStart(){this.store.dispatch({type:z$.KEY_METRIC_JOIN_GATEWAY_START,metric:Date.now()})}joinGatewayEnd(){this.store.dispatch({type:z$.KEY_METRIC_JOIN_GATEWAY_END,metric:Date.now()})}peerConnectionStart(){this.store.dispatch({type:z$.KEY_METRIC_PEER_CONNECTION_START,metric:Date.now()})}peerConnectionEnd(){this.store.dispatch({type:z$.KEY_METRIC_PEER_CONNECTION_END,metric:Date.now()})}publish(e,t,n,r){this.store.dispatch({type:z$.KEY_METRIC_PUBLISH,metric:$$($$({trackId:e,type:t},n&&{publishStart:n}),r&&{publishEnd:r})})}subscribe(e,t,n,r,i,o,a){this.store.dispatch({type:z$.KEY_METRIC_SUBSCRIBE,metric:$$($$($$($$($$({userId:e,type:t},n&&{subscribeStart:n}),r&&{subscribeEnd:r}),i&&{firstFrame:i}),o&&{streamAdded:o}),a&&{firstDecoded:a})})}massSubscribe(e,t,n,r){e.forEach((e=>{this.store.dispatch({type:z$.KEY_METRIC_SUBSCRIBE,metric:$$($$($$({userId:e.userId,type:e.type},t&&{subscribeStart:t}),n&&{subscribeEnd:n}),r&&{firstFrame:r})})}))}get keyMetrics(){return this.store.getState().keyMetrics}recordJoinChannelService(e,t){"gateway"===e.service&&Array.isArray(e.urls)&&(e.urls=e.urls.map((e=>e.replace(/(\d+)-\d+-\d+-(\d+)/,"$1-*-*-$2"))));try{return"number"!=typeof t?(this.store.dispatch({type:z$.RECORD_JOIN_CHANNEL_SERVICE,record:$$($$({},e),{},{sessionId:this.sessionId,cloudProxyMode:this.cloudProxyServerMode,uid:this.uid})}),this.store.getState().joinChannelServiceRecords.length-1):(t<0||t>=this.store.getState().joinChannelServiceRecords.length||this.store.dispatch({type:z$.RECORD_JOIN_CHANNEL_SERVICE,record:e,index:t}),t)}catch(e){return 0}}resetJoinChannelServiceRecords(){this.store.dispatch({type:z$.RESET_JOIN_CHANNEL_SERVICE_RECORDS})}resetKeyMetrics(){this.store.dispatch({type:z$.RESET_KEY_METRICS})}get joinChannelServiceRecords(){try{return this.store.getState().joinChannelServiceRecords}catch(e){return[]}}get avoidJoinStart(){return this.store.getState().avoidJoinStart}set avoidJoinStart(e){this.store.dispatch({type:z$.AVOID_JOIN_START,avoidJoinStart:e})}}let t0;const n0=()=>void 0!==window.isSecureContext;class r0{constructor(e,t){iO(this,"time",void 0),iO(this,"sequence",void 0),iO(this,"name",void 0),iO(this,"elapse",void 0),this.name=e,this.time=performance.now(),this.sequence=xx[t].indexOf(e)}setElapse(e){this.elapse=e}}const i0=new Map;class o0{constructor(e,t){iO(this,"records",[]),iO(this,"_id",void 0),iO(this,"_group",void 0),iO(this,"_localTimeStamp",void 0),iO(this,"_performanceTimeStamp",void 0),this._id=e,this._group=t,this._localTimeStamp=Date.now(),this._performanceTimeStamp=performance.now()}checkPoint(e){const t=new r0(e,this._group);-1===t.sequence&&uN.warning("[".concat(this._id,"] check point record failed, cannot get the sequence")),this.records.push(t);const n=this.records.find((e=>e.sequence===t.sequence-1));n&&t.setElapse(t.time-n.time)}getRecord(e){return this.records.find((t=>t&&t.name===e))}resetRecords(){this.records.length=0}}function a0(e){let t={};e:for(;!v0(e);){let n=T0(e);switch(n>>>3){case 0:break e;case 1:t.requestId=b0(e,T0(e));break;case 2:t.requestType=T0(e)>>>0;break;case 3:t.scorePorn=w0(e);break;case 4:t.scoreSexy=w0(e);break;case 5:t.scoreNeutral=w0(e);break;case 6:t.requestScene=T0(e)>>>0;break;case 7:t.scene=T0(e)>>>0;break;default:u0(e,7&n)}}return t}function s0(e,t){let n=e.service;void 0!==n&&(O0(t,8),O0(t,n));let r=e.vendor;void 0!==r&&(O0(t,16),O0(t,r));let i=e.token;void 0!==i&&(O0(t,26),_0(t,i));let o=e.callbackUrl;void 0!==o&&(O0(t,34),_0(t,o))}function c0(e){let t=T0(e),n=e.limit;return e.limit=e.offset+t,n}function u0(e,t){switch(t){case 0:for(;128&I0(e););break;case 2:m0(e,T0(e));break;case 5:m0(e,4);break;case 1:m0(e,8);break;default:throw new Error("Unimplemented type: "+t)}}let l0=new Float32Array(1);new Uint8Array(l0.buffer);let d0=new Float64Array(1),h0=new Uint8Array(d0.buffer);function p0(e){return{low:e|=0,high:e>>31,unsigned:e>=0}}let f0=[];function A0(){const e=f0.pop();return e?(e.offset=e.limit=0,e):{bytes:new Uint8Array(64),offset:0,limit:0}}function g0(e){f0.push(e)}function m0(e,t){if(e.offset+t>e.limit)throw new Error("Skip past limit");e.offset+=t}function v0(e){return e.offset>=e.limit}function y0(e,t){let n=e.bytes,r=e.offset,i=e.limit,o=r+t;if(o>n.length){let t=new Uint8Array(2*o);t.set(n),e.bytes=t}return e.offset=o,o>i&&(e.limit=o),r}function E0(e,t){let n=e.offset;if(n+t>e.limit)throw new Error("Read past limit");return e.offset+=t,n}function b0(e,t){let n=E0(e,t),r=String.fromCharCode,i=e.bytes,o="",a="";for(let e=0;e<t;e++){let s,c,u,l,d=i[e+n];0==(128&d)?a+=r(d):192==(224&d)?e+1>=t?a+=o:(s=i[e+n+1],128!=(192&s)?a+=o:(l=(31&d)<<6|63&s,l<128?a+=o:(a+=r(l),e++))):224==(240&d)?e+2>=t?a+=o:(s=i[e+n+1],c=i[e+n+2],32896!=(49344&(s|c<<8))?a+=o:(l=(15&d)<<12|(63&s)<<6|63&c,l<2048||l>=55296&&l<=57343?a+=o:(a+=r(l),e+=2))):240==(248&d)?e+3>=t?a+=o:(s=i[e+n+1],c=i[e+n+2],u=i[e+n+3],8421504!=(12632256&(s|c<<8|u<<16))?a+=o:(l=(7&d)<<18|(63&s)<<12|(63&c)<<6|63&u,l<65536||l>1114111?a+=o:(l-=65536,a+=r(55296+(l>>10),56320+(1023&l)),e+=3))):a+=o}return a}function _0(e,t){let n=t.length,r=0;for(let e=0;e<n;e++){let i=t.charCodeAt(e);i>=55296&&i<=56319&&e+1<n&&(i=(i<<10)+t.charCodeAt(++e)-56613888),r+=i<128?1:i<2048?2:i<65536?3:4}O0(e,r);let i=y0(e,r),o=e.bytes;for(let e=0;e<n;e++){let r=t.charCodeAt(e);r>=55296&&r<=56319&&e+1<n&&(r=(r<<10)+t.charCodeAt(++e)-56613888),r<128?o[i++]=r:(r<2048?o[i++]=r>>6&31|192:(r<65536?o[i++]=r>>12&15|224:(o[i++]=r>>18&7|240,o[i++]=r>>12&63|128),o[i++]=r>>6&63|128),o[i++]=63&r|128)}}function C0(e,t){let n=y0(e,t.limit),r=e.bytes,i=t.bytes;for(let e=0,o=t.limit;e<o;e++)r[e+n]=i[e]}function I0(e){return e.bytes[E0(e,1)]}function S0(e,t){let n=y0(e,1);e.bytes[n]=t}function w0(e){let t=E0(e,8),n=e.bytes;return h0[0]=n[t++],h0[1]=n[t++],h0[2]=n[t++],h0[3]=n[t++],h0[4]=n[t++],h0[5]=n[t++],h0[6]=n[t++],h0[7]=n[t++],d0[0]}function R0(e,t){let n=y0(e,8),r=e.bytes;d0[0]=t,r[n++]=h0[0],r[n++]=h0[1],r[n++]=h0[2],r[n++]=h0[3],r[n++]=h0[4],r[n++]=h0[5],r[n++]=h0[6],r[n++]=h0[7]}function T0(e){let t,n=0,r=0;do{t=I0(e),n<32&&(r|=(127&t)<<n),n+=7}while(128&t);return r}function O0(e,t){for(t>>>=0;t>=128;)S0(e,127&t|128),t>>>=7;S0(e,t)}function k0(e,t){let n=t.low>>>0,r=(t.low>>>28|t.high<<4)>>>0,i=t.high>>>24,o=0===i?0===r?n<16384?n<128?1:2:n<1<<21?3:4:r<16384?r<128?5:6:r<1<<21?7:8:i<128?9:10,a=y0(e,o),s=e.bytes;switch(o){case 10:s[a+9]=i>>>7&1;case 9:s[a+8]=9!==o?128|i:127&i;case 8:s[a+7]=8!==o?r>>>21|128:r>>>21&127;case 7:s[a+6]=7!==o?r>>>14|128:r>>>14&127;case 6:s[a+5]=6!==o?r>>>7|128:r>>>7&127;case 5:s[a+4]=5!==o?128|r:127&r;case 4:s[a+3]=4!==o?n>>>21|128:n>>>21&127;case 3:s[a+2]=3!==o?n>>>14|128:n>>>14&127;case 2:s[a+1]=2!==o?n>>>7|128:n>>>7&127;case 1:s[a]=1!==o?128|n:127&n}}var N0={};Object.defineProperty(N0,"__esModule",{value:!0});var D0=function(){function e(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}return e.hashStr=function(e,t){return void 0===t&&(t=!1),this.onePassHasher.start().appendStr(e).end(t)},e.hashAsciiStr=function(e,t){return void 0===t&&(t=!1),this.onePassHasher.start().appendAsciiStr(e).end(t)},e._hex=function(t){var n,r,i,o,a=e.hexChars,s=e.hexOut;for(o=0;o<4;o+=1)for(r=8*o,n=t[o],i=0;i<8;i+=2)s[r+1+i]=a.charAt(15&n),n>>>=4,s[r+0+i]=a.charAt(15&n),n>>>=4;return s.join("")},e._md5cycle=function(e,t){var n=e[0],r=e[1],i=e[2],o=e[3];r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[0]-680876936|0)<<7|n>>>25)+r|0)&r|~n&i)+t[1]-389564586|0)<<12|o>>>20)+n|0)&n|~o&r)+t[2]+606105819|0)<<17|i>>>15)+o|0)&o|~i&n)+t[3]-1044525330|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[4]-176418897|0)<<7|n>>>25)+r|0)&r|~n&i)+t[5]+1200080426|0)<<12|o>>>20)+n|0)&n|~o&r)+t[6]-1473231341|0)<<17|i>>>15)+o|0)&o|~i&n)+t[7]-45705983|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[8]+1770035416|0)<<7|n>>>25)+r|0)&r|~n&i)+t[9]-1958414417|0)<<12|o>>>20)+n|0)&n|~o&r)+t[10]-42063|0)<<17|i>>>15)+o|0)&o|~i&n)+t[11]-1990404162|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[12]+1804603682|0)<<7|n>>>25)+r|0)&r|~n&i)+t[13]-40341101|0)<<12|o>>>20)+n|0)&n|~o&r)+t[14]-1502002290|0)<<17|i>>>15)+o|0)&o|~i&n)+t[15]+1236535329|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[1]-165796510|0)<<5|n>>>27)+r|0)&i|r&~i)+t[6]-1069501632|0)<<9|o>>>23)+n|0)&r|n&~r)+t[11]+643717713|0)<<14|i>>>18)+o|0)&n|o&~n)+t[0]-373897302|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[5]-701558691|0)<<5|n>>>27)+r|0)&i|r&~i)+t[10]+38016083|0)<<9|o>>>23)+n|0)&r|n&~r)+t[15]-660478335|0)<<14|i>>>18)+o|0)&n|o&~n)+t[4]-405537848|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[9]+568446438|0)<<5|n>>>27)+r|0)&i|r&~i)+t[14]-1019803690|0)<<9|o>>>23)+n|0)&r|n&~r)+t[3]-187363961|0)<<14|i>>>18)+o|0)&n|o&~n)+t[8]+1163531501|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[13]-1444681467|0)<<5|n>>>27)+r|0)&i|r&~i)+t[2]-51403784|0)<<9|o>>>23)+n|0)&r|n&~r)+t[7]+1735328473|0)<<14|i>>>18)+o|0)&n|o&~n)+t[12]-1926607734|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[5]-378558|0)<<4|n>>>28)+r|0)^r^i)+t[8]-2022574463|0)<<11|o>>>21)+n|0)^n^r)+t[11]+1839030562|0)<<16|i>>>16)+o|0)^o^n)+t[14]-35309556|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[1]-1530992060|0)<<4|n>>>28)+r|0)^r^i)+t[4]+1272893353|0)<<11|o>>>21)+n|0)^n^r)+t[7]-155497632|0)<<16|i>>>16)+o|0)^o^n)+t[10]-1094730640|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[13]+681279174|0)<<4|n>>>28)+r|0)^r^i)+t[0]-358537222|0)<<11|o>>>21)+n|0)^n^r)+t[3]-722521979|0)<<16|i>>>16)+o|0)^o^n)+t[6]+76029189|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[9]-640364487|0)<<4|n>>>28)+r|0)^r^i)+t[12]-421815835|0)<<11|o>>>21)+n|0)^n^r)+t[15]+530742520|0)<<16|i>>>16)+o|0)^o^n)+t[2]-995338651|0)<<23|r>>>9)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[0]-198630844|0)<<6|n>>>26)+r|0)|~i))+t[7]+1126891415|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[14]-1416354905|0)<<15|i>>>17)+o|0)|~n))+t[5]-57434055|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[12]+1700485571|0)<<6|n>>>26)+r|0)|~i))+t[3]-1894986606|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[10]-1051523|0)<<15|i>>>17)+o|0)|~n))+t[1]-2054922799|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[8]+1873313359|0)<<6|n>>>26)+r|0)|~i))+t[15]-30611744|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[6]-1560198380|0)<<15|i>>>17)+o|0)|~n))+t[13]+1309151649|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[4]-145523070|0)<<6|n>>>26)+r|0)|~i))+t[11]-1120210379|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[2]+718787259|0)<<15|i>>>17)+o|0)|~n))+t[9]-343485551|0)<<21|r>>>11)+i|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=i+e[2]|0,e[3]=o+e[3]|0},e.prototype.start=function(){return this._dataLength=0,this._bufferLength=0,this._state.set(e.stateIdentity),this},e.prototype.appendStr=function(t){var n,r,i=this._buffer8,o=this._buffer32,a=this._bufferLength;for(r=0;r<t.length;r+=1){if((n=t.charCodeAt(r))<128)i[a++]=n;else if(n<2048)i[a++]=192+(n>>>6),i[a++]=63&n|128;else if(n<55296||n>56319)i[a++]=224+(n>>>12),i[a++]=n>>>6&63|128,i[a++]=63&n|128;else{if((n=1024*(n-55296)+(t.charCodeAt(++r)-56320)+65536)>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");i[a++]=240+(n>>>18),i[a++]=n>>>12&63|128,i[a++]=n>>>6&63|128,i[a++]=63&n|128}a>=64&&(this._dataLength+=64,e._md5cycle(this._state,o),a-=64,o[0]=o[16])}return this._bufferLength=a,this},e.prototype.appendAsciiStr=function(t){for(var n,r=this._buffer8,i=this._buffer32,o=this._bufferLength,a=0;;){for(n=Math.min(t.length-a,64-o);n--;)r[o++]=t.charCodeAt(a++);if(o<64)break;this._dataLength+=64,e._md5cycle(this._state,i),o=0}return this._bufferLength=o,this},e.prototype.appendByteArray=function(t){for(var n,r=this._buffer8,i=this._buffer32,o=this._bufferLength,a=0;;){for(n=Math.min(t.length-a,64-o);n--;)r[o++]=t[a++];if(o<64)break;this._dataLength+=64,e._md5cycle(this._state,i),o=0}return this._bufferLength=o,this},e.prototype.getState=function(){var e=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[e[0],e[1],e[2],e[3]]}},e.prototype.setState=function(e){var t,n=e.buffer,r=e.state,i=this._state;for(this._dataLength=e.length,this._bufferLength=e.buflen,i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],t=0;t<n.length;t+=1)this._buffer8[t]=n.charCodeAt(t)},e.prototype.end=function(t){void 0===t&&(t=!1);var n=this._bufferLength,r=this._buffer8,i=this._buffer32,o=1+(n>>2);this._dataLength+=n;var a=8*this._dataLength;if(r[n]=128,r[n+1]=r[n+2]=r[n+3]=0,i.set(e.buffer32Identity.subarray(o),o),n>55&&(e._md5cycle(this._state,i),i.set(e.buffer32Identity)),a<=4294967295)i[14]=a;else{var s=a.toString(16).match(/(.*?)(.{0,8})$/);if(null===s)return;var c=parseInt(s[2],16),u=parseInt(s[1],16)||0;i[14]=c,i[15]=u}return e._md5cycle(this._state,i),t?this._state:e._hex(this._state)},e.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),e.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),e.hexChars="0123456789abcdef",e.hexOut=[],e.onePassHasher=new e,e}(),P0=N0.Md5=D0;if("5d41402abc4b2a76b9719d911017c592"!==D0.hashStr("hello"))throw new Error("Md5 self test failed.");function x0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const L0=new Map([["moderation",1],["supervise",2]]);class M0 extends Zk{get connectionState(){return this._connectionState}set connectionState(e){if(this._connectionState===e)return;const t=this._connectionState;this._connectionState=e,this.emit(Ux.CONNECTION_STATE_CHANGE,t,e)}get inspectType(){return this._inspectType}set inspectType(e){var t;this._inspectMode=lh(t=e.map((e=>L0.get(e)||0))).call(t,((e,t)=>e+t)),this._inspectType=e}get quality(){return this._quality}set quality(e){this._quality=e>1?1:e<.1?.1:e,this.qualityTimer&&(window.clearTimeout(this.qualityTimer),this.qualityTimer=null),this._quality>=1||(this.qualityTimer=window.setTimeout((()=>{this.quality=this._quality/this.qualityRatio}),6e4))}constructor(e){super(),iO(this,"name","AgoraRTCVideoContentInspect"),iO(this,"_connectionState",Bx.CONNECTING),iO(this,"_innerConnectionState",void 0),iO(this,"sequence",0),iO(this,"inspectStartTime",void 0),iO(this,"workerManagerConnection",void 0),iO(this,"workerConnection",void 0),iO(this,"workerMessageLengthLimit",void 0),iO(this,"inspectIntervalMinimum",void 0),iO(this,"qualityRatio",void 0),iO(this,"_connectInfo",void 0),iO(this,"_cancelTokenSource",Yk.CancelToken.source()),iO(this,"_retryConfig",void 0),iO(this,"wmSequence",0),iO(this,"inspectInterval",void 0),iO(this,"inspectTimer",null),iO(this,"ossFilePrefix",void 0),iO(this,"extraInfo",void 0),iO(this,"_inspectType",void 0),iO(this,"_inspectMode",void 0),iO(this,"_quality",1),iO(this,"qualityTimer",null),iO(this,"_inspectId",void 0),iO(this,"_needWorkUrlOnly",!1),iO(this,"inspectImage",(()=>{if(this.connectionState!==Bx.CONNECTED)throw new eN($k.OPERATION_ABORTED,"content inspect service connection status is ".concat(this.connectionState));this.inspectTimer&&(window.clearInterval(this.inspectTimer),this.inspectTimer=null),this.inspectTimer=window.setInterval((()=>{if(this.connectionState!==Bx.CONNECTED)return uN.debug("[".concat(this._inspectId,"] Inspect State is not connected , "),this.connectionState),void wN("debug",this,"Inspect State is not connected , ".concat(this.connectionState));this.requestToInspectImage()}),this.inspectInterval<this.inspectIntervalMinimum?this.inspectIntervalMinimum:this.inspectInterval),this.requestToInspectImage()})),this._inspectId=SG(5,"inspect-"),this.workerMessageLengthLimit=KN("VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT"),this.inspectIntervalMinimum=KN("VIDEO_INSPECT_INTERVAL_MINIMUM"),this.qualityRatio=KN("VIDEO_INSPECT_QUALITY_RATIO"),this.inspectInterval=e.interval,this.ossFilePrefix=e.ossFilePrefix,this.extraInfo=e.extraInfo,this.inspectType=e.inspectType,this.inspectStartTime=Number(Date.now()),this.workerManagerConnection=new eK("worker-manager-"+this._inspectId,tN),this.on(Ux.STATE_CHANGE,((e,t)=>{this._innerConnectionState=e,uN.debug("[".concat(this._inspectId,"] Inspect operation :").concat(Fx[e]," ").concat(t||"")),ON("debug",["Inspect",this._inspectId],Ux.STATE_CHANGE,"".concat(Fx[e]," ").concat(t||""))})),this.handleWorkerManagerEvents(),this.workerConnection=new eK("worker-"+this._inspectId,tN),this.handleWorkerEvents()}async init(e,t){this.emit(Ux.STATE_CHANGE,Fx.CONNECT_AP),this._connectInfo=e;const n=this._cancelTokenSource.token;return this._retryConfig=t,new LC(((r,i)=>{this.on(Ux.CONNECTION_STATE_CHANGE,((e,t)=>{t===Bx.CONNECTED&&r()})),this.requestAP(e,n,t).then((e=>{this.connectWorkerManager(e)})).catch((e=>{i(e)}))}))}async requestAP(e,t,n){const r=KN("WEBCS_DOMAIN").map((e=>"https://".concat(e,"/api/v1"))),i=await function(e,t,n,r){let{appId:i,areaCode:o,cname:a,sid:s,token:c,uid:u}=t;vK++;const l="image_moderation_api",d={service_name:l,json_body:JSON.stringify({appId:i,areaCode:o,cname:a,command:"allocateEdge",requestId:vK,seq:vK,sid:s,token:c,ts:Date.now(),uid:u+""})};let h,p,f=e[0];return rN((async()=>{h=Date.now();const e=await oV(f,{data:d,cancelToken:n,headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"61"},params:{action:"wrtc_gateway"}});if(p=Date.now()-h,0!==e.code){const t=new eN($k.UNEXPECTED_RESPONSE,"image inspect ap error, code"+e.code,{retry:!0,responseTime:p});throw uN.error(t.toString()),kN("error",["AjaxAPI"],"requestImageInspectAP",void 0,t.toString()),t}const t=JSON.parse(e.json_body);if(200!==t.code){const e=new eN($k.UNEXPECTED_RESPONSE,"image inspect ap error, code: ".concat(t.code,", reason: ").concat(t.reason),{code:t.code,responseTime:p});throw uN.error(e.toString()),kN("error",["AjaxAPI"],"requestImageInspectAP",void 0,e.toString()),e}if(!t.servers||!Array.isArray(t.servers)||0===t.servers.length){const e=new eN($k.UNEXPECTED_RESPONSE,"image inspect ap empty server",{code:t.code,responseTime:p});throw uN.error(e.toString()),kN("error",["AjaxAPI"],"requestImageInspectAP",void 0,e.toString()),e}const r=KN("VIDEO_INSPECT_WORKER_MANAGER_HOST"),i=KN("VIDEO_INSPECT_WORKER_MANAGER_PORT");return{addressList:t.servers.map((e=>{let{address:t,wss:n}=e;if(t&&n)return"wss://".concat(t.replace(/\./g,"-"),".").concat(r,":").concat(i||n)})).filter((e=>!!e)),workerToken:t.workerToken,vid:t.vid,responseTime:p}}),((t,n)=>(yV.apworkerEvent(s,{success:!0,sc:200,serviceName:l,responseDetail:JSON.stringify(t.addressList),firstSuccess:0===n,responseTime:p,serverIp:e[n%e.length]}),!1)),((t,n)=>(yV.apworkerEvent(s,{success:!1,sc:t.data&&t.data.code||200,serviceName:l,responseTime:p,serverIp:e[n%e.length]}),!!(t.code!==$k.OPERATION_ABORTED&&t.code!==$k.UNEXPECTED_RESPONSE||t.data&&t.data.retry)&&(f=e[(n+1)%e.length],!0))),r)}(r,e,t,n);this.emit(Ux.STATE_CHANGE,Fx.AP_CONNECTED);const{addressList:o}=i;return this.wmSequence++,o}async connectWorkerManager(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._needWorkUrlOnly=t,this.emit(Ux.STATE_CHANGE,Fx.CONNECT_WORKER_MANAGER),await this.workerManagerConnection.init(e,1e4)}async connectWorker(e){await this.workerConnection.init([e])}handleWorkerManagerEvents(){this.workerManagerConnection.on(KP.CONNECTED,(async()=>{this.emit(Ux.STATE_CHANGE,Fx.WORKER_MANAGER_CONNECTED,this.workerManagerConnection.url),this.workerManagerConnection.sendMessage({appId:this._connectInfo.appId,cname:this._connectInfo.cname,uid:this._connectInfo.uid+"",sdkVersion:"4.14.0",sid:this._connectInfo.sid,seq:this.wmSequence,ts:Number(Date.now()),requestId:Math.floor(1e12*Math.random()),allocate:!0,clientRequest:{command:"join"}},!0)})),this.workerManagerConnection.on(KP.CLOSED,(()=>{this._innerConnectionState<Fx.GET_WORKER_MANAGER_RESPONSE&&(uN.debug("[".concat(this._inspectId,"] Inspect worker manager is closed before connecting worker")),ON("debug",["Inspect",this._inspectId],"workerManagerConnectionClosed"))})),this.workerManagerConnection.on(KP.FAILED,(()=>{this._innerConnectionState<Fx.GET_WORKER_MANAGER_RESPONSE&&(uN.debug("[".concat(this._inspectId,"] Connecting inspect worker manager is failed before connecting worker")),ON("debug",["Inspect",this._inspectId],"workerManagerConnectionFailed"))})),this.workerManagerConnection.on(KP.RECONNECTING,(()=>{this._innerConnectionState<Fx.GET_WORKER_MANAGER_RESPONSE&&(uN.debug("[".concat(this._inspectId,"] Inspect worker manager is reconnecting before connecting worker")),ON("debug",["Inspect",this._inspectId],"workerManagerConnectionReconnecting"))})),this.workerManagerConnection.on(KP.ON_MESSAGE,(async e=>{this.emit(Ux.STATE_CHANGE,Fx.GET_WORKER_MANAGER_RESPONSE);const t=this.workerManagerConnection.url;this.workerManagerConnection.close();const n=JSON.parse(e.data);if(200!==n.code)throw uN.error("[".concat(this._inspectId,"] Unexpected code ").concat(n.code," from worker manager")),wN("error",this,"Unexpected code ".concat(n.code," from worker manager")),new eN($k.UNEXPECTED_RESPONSE,"response code of worker is unexpected",n);if(!(n.serverResponse&&n.serverResponse.portWss&&t))throw uN.error("[".concat(this._inspectId,"] Unexpected content from worker manager : ").concat(JSON.stringify(n))),wN("error",this,"Unexpected content from worker manager : "+JSON.stringify(n)),new eN($k.UNEXPECTED_RESPONSE,"response content of worker is unexpected",n);{const e=KN("VIDEO_INSPECT_WORKER_PORT")||n.serverResponse.portWss,r=t.replace(/:\d+\/?$/,":".concat(e));this.emit(Ux.STATE_CHANGE,Fx.CONNECT_WORKER,r),this._needWorkUrlOnly?this.emit(Ux.REQUEST_NEW_WORKER_URL,r):await this.connectWorker(r)}})),this.workerManagerConnection.on(KP.WILL_RECONNECT,((e,t)=>{t(e)})),this.workerManagerConnection.on(KP.REQUEST_NEW_URLS,((e,t)=>{this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then(e).catch(t)}))}handleWorkerEvents(){this.workerConnection.on(KP.CONNECTED,(async()=>{this.emit(Ux.STATE_CHANGE,Fx.WORKER_CONNECTED,this.workerConnection.url),this.connectionState=Bx.CONNECTED})),this.workerConnection.on(KP.ON_MESSAGE,(async e=>{if(e.data instanceof ArrayBuffer){const n=function(e){return function(e){let t={};e:for(;!v0(e);){let n=T0(e);switch(n>>>3){case 0:break e;case 1:t.code=T0(e);break;case 2:t.msg=b0(e,T0(e));break;case 3:{let n=c0(e);t.data=a0(e),e.limit=n;break}default:u0(e,7&n)}}return t}({bytes:t=e,offset:0,limit:t.length});var t}(new Uint8Array(e.data));if(KN("SHOW_VIDEO_INSPECT_WORKER_MESSAGE")&&uN.debug("[".concat(this._inspectId,"] Response message for worker of inspect content "),JSON.stringify(n)),200===n.code){if(Array.isArray(this.inspectType)&&1===this.inspectType.length&&"supervise"===this.inspectType[0])return void this.emit(Ux.INSPECT_RESULT,void 0,void 0);if(n.data&&n.data.scorePorn&&n.data.scoreSexy&&n.data.scoreNeutral){var t;const e={porn:n.data.scorePorn,sexy:n.data.scoreSexy,neutral:n.data.scoreNeutral},r=lh(t=Object.keys(e)).call(t,((t,n)=>e[t]>e[n]?t:n),"porn"),i=Object.keys(e).find((e=>e===r));this.emit(Ux.INSPECT_RESULT,i)}else this.emit(Ux.INSPECT_RESULT,void 0,new eN($k.UNEXPECTED_RESPONSE,n.code+"","There is an unexpected data on message"))}else this.emit(Ux.INSPECT_RESULT,void 0,new eN($k.UNEXPECTED_RESPONSE,n.code+"",n.msg))}else uN.error("[".concat(this._inspectId,"] Unexpected message type from worker")),wN("error",this,"Unexpected message type from worker"),this.emit(Ux.INSPECT_RESULT,void 0,new eN($k.UNEXPECTED_RESPONSE,"invalid worker message type"))})),this.workerConnection.on(KP.CLOSED,(()=>{this.connectionState=Bx.CLOSED})),this.workerConnection.on(KP.FAILED,(()=>{this.connectionState=Bx.CLOSED})),this.workerConnection.on(KP.RECONNECTING,(()=>{this.connectionState=this.connectionState===Bx.CONNECTED?Bx.RECONNECTING:Bx.CONNECTING})),this.workerConnection.on(KP.WILL_RECONNECT,((e,t)=>{"recover"===e&&t(e),t("tryNext")})),this.workerConnection.on(KP.REQUEST_NEW_URLS,((e,t)=>{this.workerManagerConnection.close(),this.once(Ux.REQUEST_NEW_WORKER_URL,(t=>{e([t])})),this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then((e=>{this.connectWorkerManager(e,!0)})).catch((e=>{t(e)}))}))}static intToLong(e){return{low:e|=0,high:e>>31,unsigned:e>=0}}async requestToInspectImage(){this.sequence++;const e=DG(this,Ux.CLIENT_LOCAL_VIDEO_TRACK),t={appId:this._connectInfo.appId,cname:this._connectInfo.cname,cid:this._connectInfo.cid,sid:this._connectInfo.sid,uid:this._connectInfo.uid,vid:this._connectInfo.vid};if(e){if(!e.isPlaying)return void this.emit(Ux.INSPECT_RESULT,void 0,new eN($k.INVALID_OPERATION,"Only the track being played can be inspected"));const n=await this.generateRequestData(e,t);this.workerConnection.sendMessage(n,!0,!0)}else this.emit(Ux.INSPECT_RESULT,void 0,new eN($k.INVALID_OPERATION,"Only the track being published can be inspected"))}async generateRequestData(e,t){let{appId:n,cname:r,cid:i,vid:o,sid:a,uid:s}=t;const c=Date.now(),u=await e.getCurrentFrameImage("image/jpeg",this.quality),l=await(async(e,t,n)=>await(async(e,t,n)=>{const r=""+t+n,i=new Uint8Array(P0.hashStr(r,!0).buffer).slice(0,16),o=i.slice(0,12),a=await window.crypto.subtle.importKey("raw",i,"AES-GCM",!0,["encrypt"]);return new Uint8Array(await window.crypto.subtle.encrypt({name:"AES-GCM",iv:o},a,e))})(e.buffer,t,n))(u,n,r),d=this.sequence+"-"+i+"-"+s+"-"+c+"-"+SG(12,""),h={appId:n,cid:i,cname:r,deviceId:"",elapse:M0.intToLong(Number(c-this.inspectStartTime)),fileSize:l.byteLength,jpgEncryption:2,height:u.height,width:u.width,jpg:l,networkType:6,osType:7,requestId:d,sdkVersion:"4.14.0",sequence:this.sequence,sid:a,timestamp:M0.intToLong(c),uid:s,vid:o,service:this._inspectMode,callbackData:this.extraInfo,ossFilePrefix:this.ossFilePrefix};void 0===this.extraInfo&&delete h.callbackData,void 0===this.ossFilePrefix&&delete h.ossFilePrefix;const p=function(e){let t=A0();return function(e,t){let n=e.appId;void 0!==n&&(O0(t,10),_0(t,n));let r=e.cid;void 0!==r&&(O0(t,16),O0(t,r));let i=e.cname;void 0!==i&&(O0(t,26),_0(t,i));let o=e.deviceId;void 0!==o&&(O0(t,34),_0(t,o));let a=e.elapse;void 0!==a&&(O0(t,40),k0(t,a));let s=e.fileSize;void 0!==s&&(O0(t,48),k0(t,p0(s)));let c=e.height;void 0!==c&&(O0(t,56),k0(t,p0(c)));let u=e.jpg;void 0!==u&&(O0(t,66),O0(t,u.length),function(e,t){let n=y0(e,t.length);e.bytes.set(t,n)}(t,u));let l=e.networkType;void 0!==l&&(O0(t,72),k0(t,p0(l)));let d=e.osType;void 0!==d&&(O0(t,80),k0(t,p0(d)));let h=e.requestId;void 0!==h&&(O0(t,90),_0(t,h));let p=e.sdkVersion;void 0!==p&&(O0(t,98),_0(t,p));let f=e.sequence;void 0!==f&&(O0(t,104),k0(t,p0(f)));let A=e.sid;void 0!==A&&(O0(t,114),_0(t,A));let g=e.timestamp;void 0!==g&&(O0(t,120),k0(t,g));let m=e.uid;void 0!==m&&(O0(t,128),O0(t,m));let v=e.vid;void 0!==v&&(O0(t,136),O0(t,v));let y=e.width;void 0!==y&&(O0(t,144),k0(t,p0(y)));let E=e.service;void 0!==E&&(O0(t,152),O0(t,E));let b=e.callbackData;void 0!==b&&(O0(t,162),_0(t,b));let _=e.jpgEncryption;void 0!==_&&(O0(t,168),O0(t,_));let C=e.requestType;void 0!==C&&(O0(t,176),O0(t,C));let I=e.scorePorn;void 0!==I&&(O0(t,185),R0(t,I));let S=e.scoreSexy;void 0!==S&&(O0(t,193),R0(t,S));let w=e.scoreNeutral;void 0!==w&&(O0(t,201),R0(t,w));let R=e.scene;void 0!==R&&(O0(t,208),O0(t,R));let T=e.ossFilePrefix;void 0!==T&&(O0(t,218),_0(t,T));let O=e.serviceVendor;if(void 0!==O)for(let e of O){O0(t,226);let n=A0();s0(e,n),O0(t,n.limit),C0(t,n),g0(n)}}(e,t),function(e){let t=e.bytes,n=e.limit;return t.length===n?t:t.subarray(0,n)}(t)}(h);if(p.byteLength<this.workerMessageLengthLimit){if(KN("SHOW_VIDEO_INSPECT_WORKER_MESSAGE")){const e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x0(Object(n),!0).forEach((function(t){iO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x0(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},h);delete e.jpg,uN.debug("[".concat(this._inspectId,"] Request message for worker of inspect content "),JSON.stringify(e)),wN("debug",this,"Request message for worker of inspect content ".concat(JSON.stringify(e)))}return p}{const t=this.quality*this.qualityRatio;return this.quality=t,await this.generateRequestData(e,{appId:n,cname:r,cid:i,vid:o,sid:a,uid:s})}}close(){this._cancelTokenSource.cancel(),this._cancelTokenSource=Yk.CancelToken.source(),this.workerManagerConnection&&this.workerManagerConnection.close(),this.workerConnection&&this.workerConnection.close(),this.inspectTimer&&window.clearInterval(this.inspectTimer),this.inspectTimer=null,this.connectionState=Bx.CLOSED,this.emit(Ux.STATE_CHANGE,Fx.CLOSED)}}var B0,F0,U0,j0,V0,Q0,G0,q0,H0,z0,W0,K0,Y0;function J0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J0(Object(n),!0).forEach((function(t){iO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J0(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let X0=(B0=PN("AgoraRTCClient","store.clientId"),F0=mV({report:yV}),U0=mV(),j0=mV(),V0=mV({report:yV}),Q0=vV(),G0=vV({report:yV}),q0=vV({report:yV}),H0=vV({report:yV}),z0=mV({reportResult:!0,report:yV}),W0=vV(),B0((zj((Y0=class extends Zk{get connectionState(){return this._gateway.state}get remoteUsers(){return this._users}get localTracks(){return this._p2pChannel.getAllTracks(!0)}get uid(){return this._uid}get channelName(){return this._channelName}get isStringUID(){return!!this._joinInfo&&!!this._joinInfo.stringUid}constructor(e){let t;if(super(),iO(this,"store",void 0),iO(this,"_uid",void 0),iO(this,"_channelName",void 0),iO(this,"_uintUid",void 0),iO(this,"_users",[]),iO(this,"_codec",void 0),iO(this,"_mode",void 0),iO(this,"_config",void 0),iO(this,"_clientId",void 0),iO(this,"_appId",void 0),iO(this,"_sessionId",null),iO(this,"_key",void 0),iO(this,"_joinInfo",void 0),iO(this,"_gateway",void 0),iO(this,"_statsCollector",void 0),iO(this,"_configDistribute",void 0),iO(this,"_leaveMutex",new SV("client-leave")),iO(this,"_publishMutex",new SV("client-publish")),iO(this,"_renewTokenMutex",new SV("client-renewtoken")),iO(this,"_subscribeMutex",new SV("client-subscribe")),iO(this,"_encryptionMode","none"),iO(this,"_encryptionSecret",null),iO(this,"_encryptionSalt",null),iO(this,"_proxyServer",void 0),iO(this,"_performanceRecorder",void 0),iO(this,"_turnServer",{servers:[],mode:"auto"}),iO(this,"_cloudProxyServerMode","disabled"),iO(this,"_isDualStreamEnabled",!1),iO(this,"_defaultStreamFallbackType",void 0),iO(this,"_lowStreamParameter",void 0),iO(this,"_streamFallbackTypeCacheMap",new Map),iO(this,"_remoteStreamTypeCacheMap",new Map),iO(this,"_axiosCancelSource",Yk.CancelToken.source()),iO(this,"_audioVolumeIndicationInterval",void 0),iO(this,"_networkQualityInterval",void 0),iO(this,"_userOfflineTimeout",void 0),iO(this,"_streamRemovedTimeout",void 0),iO(this,"_injectStreamingClient",void 0),iO(this,"_liveTranscodeStreamingClient",void 0),iO(this,"_liveRawStreamingClient",void 0),iO(this,"_channelMediaRelayClient",void 0),iO(this,"_networkQualitySensitivity","normal"),iO(this,"_p2pChannel",void 0),iO(this,"_useLocalAccessPoint",!1),iO(this,"_joinAndNotLeaveYet",!1),iO(this,"_numberOfJoinCount",0),iO(this,"_remoteDefaultVideoStreamType",void 0),iO(this,"_inspect",void 0),iO(this,"_license",void 0),iO(this,"_handleLocalTrackEnable",((e,t,n)=>{this.publish(e,!1).then(t).catch(n)})),iO(this,"_handleLocalTrackDisable",((e,t,n)=>{this.unpublish(e).then(t).catch(n)})),iO(this,"_handleUserOnline",(e=>{this.isStringUID&&"string"!=typeof e.uid&&(uN.error("[".concat(this._clientId,"] StringUID is Mixed with UintUID")),wN("error",this,"StringUID is Mixed with UintUID"));const t=this._users.find((t=>t.uid===e.uid));if(t)t._trust_in_room_=!0;else{const t=new eJ(e.uid,e.uint_id||e.uid);this._users.push(t),uN.debug("[".concat(this._clientId,"] user online"),e.uid),TN("info",this,"user-joined",{uid:e.uid}),this.emit(OP.USER_JOINED,t)}})),iO(this,"_handleUserOffline",(e=>{const t=this._users.find((t=>t.uid===e.uid));t&&(this._handleRemoveStream(e),xG(this._users,t),this._remoteStreamTypeCacheMap.delete(t.uid),this._streamFallbackTypeCacheMap.delete(t.uid),uN.debug("[".concat(this._clientId,"] user offline"),e.uid,"reason:",e.reason),TN("info",this,"user-left",{reason:e.reason,uid:e.uid}),this.emit(OP.USER_LEAVED,t,e.reason))})),iO(this,"_handleAddAudioOrVideoStream",((e,t,n,r,i,o,a)=>{const s=this._users.find((e=>e.uid===t));if(!s)return uN.error("[".concat(this._clientId,"] can not find target user!(on_add_stream)")),void RN("error",["AgoraRTCGateway",this._clientId],"add_".concat(e,"_stream"),"can not find target user!");uN.debug("[".concat(this._clientId,"] stream added with uid ").concat(t,", type ").concat(e)),RN("debug",["AgoraRTCGateway",this._clientId],"add_".concat(e,"_stream"),{uid:t,mediaType:e}),this.store.subscribe(s.uid,e,void 0,void 0,void 0,Date.now());const c="audio"===e?s.hasAudio:s.hasVideo;s._uintid||(s._uintid=i||t),"audio"===e?s._trust_audio_stream_added_state_=!0:s._trust_video_stream_added_state_=!0,"audio"===e?(s._audio_added_=!0,void 0!==n&&(s._audioSSRC=n),void 0!==r&&(s._cname=r),o&&(s._audioOrtc=o)):(s._video_added_=!0,void 0!==n&&(s._videoSSRC=n),void 0!==r&&(s._cname=r),void 0!==a&&(s._rtxSsrcId=a),o&&(s._videoOrtc=o)),("audio"===e?s.hasAudio:s.hasVideo)&&!c&&(uN.info("[".concat(this._clientId,"] remote user ").concat(s.uid," published ").concat(e)),wN("info",this,"remote user ".concat(s.uid," published ").concat(e)),TN("info",this,"user-published",{uid:s.uid,mediaType:e}),this.emit(OP.USER_PUBLISHED,s,e)),"video"===e?yV.onGatewayStream(this._sessionId,fP.ON_ADD_VIDEO_STREAM,AP.ON_ADD_VIDEO_STREAM,{peer:i||t}):yV.onGatewayStream(this._sessionId,fP.ON_ADD_AUDIO_STREAM,AP.ON_ADD_AUDIO_STREAM,{peer:i||t}),this._p2pChannel.remoteMediaSsrcChanged(s,e,n).then((t=>{if(t)return uN.debug("[".concat(this._clientId,"] resubscribe ").concat(e," for user ").concat(s.uid," after rejoin because SSRC id changed.")),this._p2pChannel.unsubscribe(s,e,!0).then((()=>this._subscribe(s,e,!0).catch((e=>{uN.error("[".concat(this._clientId,"] resubscribe error"),e.toString()),wN("error",this,"resubscribe error: ".concat(e.toString()))}))))})),this._p2pChannel.hasPendingRemoteMedia(s,e)&&(uN.debug("[".concat(this._clientId,"] resubscribe ").concat(e," for user ").concat(s.uid," after reconnect.")),this._subscribe(s,e,!0).catch((e=>{uN.error("[".concat(this._clientId,"] resubscribe error"),e.toString()),wN("error",this,"resubscribe error: ".concat(e.toString()))})))})),iO(this,"_handleRemoveStream",(e=>{const t=this._users.find((t=>t.uid===e.uid));if(!t)return uN.warning("[".concat(this._clientId,"] can not find target user!(on_remove_stream)")),void RN("warning",["AgoraRTCGateway",this._clientId],"remove_stream",{uid:e.uid,info:"can not find target user!"});uN.debug("[".concat(this._clientId,"] stream removed with uid ").concat(e.uid)),RN("debug",["AgoraRTCGateway",this._clientId],"remove_stream",{uid:e.uid});let n=()=>{};t.hasAudio&&t.hasVideo?n=()=>{uN.info("[".concat(this._clientId,"] remote user ").concat(t.uid," unpublished audio track")),TN("info",this,"user-unpublished",{uid:t.uid,mediaType:"audio"}),this.emit(OP.USER_UNPUBLISHED,t,"audio"),uN.info("[".concat(this._clientId,"] remote user ").concat(t.uid," unpublished video track")),TN("info",this,"user-unpublished",{uid:t.uid,mediaType:"video"}),this.emit(OP.USER_UNPUBLISHED,t,"video")}:t.hasVideo?n=()=>{uN.info("[".concat(this._clientId,"] remote user ").concat(t.uid," unpublished video track")),TN("info",this,"user-unpublished",{uid:t.uid,mediaType:"video"}),this.emit(OP.USER_UNPUBLISHED,t,"video")}:t.hasAudio&&(n=()=>{uN.info("[".concat(this._clientId,"] remote user ").concat(t.uid," unpublished audio track")),TN("info",this,"user-unpublished",{uid:t.uid,mediaType:"audio"}),this.emit(OP.USER_UNPUBLISHED,t,"audio")}),t._trust_audio_stream_added_state_=!0,t._trust_video_stream_added_state_=!0,t._audio_added_=!1,t._video_added_=!1,this._p2pChannel.unsubscribe(t).then((e=>{if(e)return this._gateway.unsubscribe(e,t.uid)})),t._audioSSRC=void 0,t._videoSSRC=void 0,t._audioOrtc=void 0,t._videoOrtc=void 0,t._rtxSsrcId=void 0,yV.onGatewayStream(this._sessionId,fP.ON_REMOVE_STREAM,AP.ON_REMOVE_STREAM,{peer:e.uint_id||e.uid}),n()})),iO(this,"_handleSetStreamLocalEnable",((e,t,n)=>{const r=this._users.find((e=>e.uid===t));if(!r)return uN.error("[".concat(this._clientId,"] can not find target user!(disable_local)")),void RN("error",this,"disable_local_video","can not find target user!(disable_local)");uN.debug("[".concat(this._clientId,"] local ").concat(e," ").concat(n?"enabled":"disabled"," with uid ").concat(t)),RN("debug",this,"disable_local_video","local ".concat(e," ").concat(n?"enabled":"disabled"," with uid ").concat(t));const i="audio"===e?r.hasAudio:r.hasVideo;if("audio"===e){r._trust_audio_enabled_state_=!0;const e=r._audio_enabled_;if(r._audio_enabled_=n,r._audio_enabled_===e)return;{const e=r._audio_enabled_?"enable-local-audio":"disable-local-audio";uN.debug("[".concat(this._clientId,"] user-info-updated, uid: ").concat(t,", msg: ").concat(e)),DN("debug",this,"user-info-updated",{uid:t,msg:e}),this.emit(OP.USER_INFO_UPDATED,t,e)}}else{r._trust_video_enabled_state_=!0;const e=r._video_enabled_;if(r._video_enabled_=n,r._video_enabled_===e)return;{const e=r._video_enabled_?"enable-local-video":"disable-local-video";uN.debug("[".concat(this._clientId,"] user-info-update, uid: ").concat(t,", msg: ").concat(e)),DN("debug",this,"user-info-updated",{uid:t,msg:e}),this.emit(OP.USER_INFO_UPDATED,t,e)}}const o="audio"===e?r.hasAudio:r.hasVideo;return i!==o?!i&&o?(uN.info("[".concat(this._clientId,"] remote user ").concat(t," published ").concat(e)),TN("info",this,"user-published",{uid:t,mediaType:e}),void this.emit(OP.USER_PUBLISHED,r,e)):("video"===e&&r._videoTrack&&r._videoTrack._destroy(),"audio"===e&&r._audioTrack,this._p2pChannel.muteRemote(r,e),uN.info("[".concat(this._clientId,"] remote user ").concat(t," unpublished ").concat(e)),TN("info",this,"user-unpublished",{uid:t,mediaType:e}),void this.emit(OP.USER_UNPUBLISHED,r,e)):void 0})),iO(this,"_handleMuteStream",((e,t,n)=>{uN.debug("[".concat(this._clientId,"] receive mute message"),e,t,n),RN("debug",this,"mute_".concat(t),n);const r=this._users.find((t=>t.uid===e));if(!r)return uN.warning("[".concat(this._clientId,"] can not find remote user, ignore mute event, uid: ").concat(e)),void RN("warning",this,"mute_".concat(t),"can not find remote user, ignore mute event, uid: ".concat(e));const i="audio"===t?r.hasAudio:r.hasVideo;if("audio"===t){r._trust_audio_mute_state_=!0;const t=r._audio_muted_;if(r._audio_muted_=n,r._audio_muted_===t)return;{const t=r._audio_muted_?"mute-audio":"unmute-audio";uN.debug("[".concat(this._clientId,"] user-info-update, uid: ").concat(e,", msg: ").concat(t)),DN("debug",this,"user-info-updated",{uid:e,msg:t}),this.emit(OP.USER_INFO_UPDATED,e,t)}}else{r._trust_video_mute_state_=!0;const t=r._video_muted_;if(r._video_muted_=n,r._video_muted_===t)return;{const t=r._video_muted_?"mute-video":"unmute-video";uN.debug("[".concat(this._clientId,"] user-info-update, uid: ").concat(e,", msg: ").concat(t)),DN("debug",this,"user-info-updated",{uid:e,msg:t}),this.emit(OP.USER_INFO_UPDATED,e,t)}}const o="audio"===t?r.hasAudio:r.hasVideo;if(i!==o){if(!i&&o)return("audio"===t?r._audioSSRC:r._videoSSRC)?(uN.info("[".concat(this._clientId,"] remote user ").concat(e," published ").concat(t)),TN("info",this,"user-published",{uid:r.uid,mediaType:t}),void this.emit(OP.USER_PUBLISHED,r,t)):void uN.warning("[".concat(this._clientId,"] remote user ").concat(e," receive ").concat(t," unmute message  before add stream message, ").concat(t," SSRC doesn't exist yet."));"video"===t&&r._videoTrack&&r._videoTrack._destroy(),"audio"===t&&r._audioTrack,this._p2pChannel.muteRemote(r,t),uN.info("[".concat(this._clientId,"] remote user ").concat(e," unpublished ").concat(t)),TN("info",this,"user-unpublished",{uid:e,mediaType:t}),this.emit(OP.USER_UNPUBLISHED,r,t)}})),iO(this,"_handleP2PLost",(async e=>{if(uN.debug("[".concat(this._clientId,"] receive p2p lost"),e),RN("debug",this,"p2p_lost",e),parseInt(e.p2pid,10)!==this.store.p2pId)return uN.warning("P2PLost stream not found",e),void RN("warning",this,"p2p_lost","P2PLost stream not found, ".concat(e));await this._p2pChannel.requestReconnect()})),iO(this,"_handleTokenWillExpire",(()=>{uN.debug("[".concat(this._clientId,"] received message onTokenPrivilegeWillExpire")),RN("debug",this,"token_privilege_will_expire"),this.emit(OP.ON_TOKEN_PRIVILEGE_WILL_EXPIRE)})),iO(this,"_handleBeforeUnload",(e=>{"beforeunload"===e.type&&void 0!==e.returnValue&&""!==e.returnValue||(this.leave(),uN.info("[".concat(this._clientId,"] auto leave onbeforeunload or pagehide")),ON("info",["window",this.store.clientId],MT()?"beforeunload":"pagehide"))})),iO(this,"_handleUpdateNetworkQuality",(()=>{if("normal"===this._networkQualitySensitivity)return;if(navigator&&void 0!==navigator.onLine&&!navigator.onLine)return void this.emit(OP.NETWORK_QUALITY,{downlinkNetworkQuality:6,uplinkNetworkQuality:6});const e={downlinkNetworkQuality:0,uplinkNetworkQuality:0};e.uplinkNetworkQuality=this._p2pChannel.getUplinkNetworkQuality(),e.downlinkNetworkQuality=this._p2pChannel.getDownlinkNetworkQuality(),this.emit(OP.NETWORK_QUALITY,e)})),this._codec=e.codec,this._mode=e.mode,this._clientId=SG(5,"client-"),this.store=new e0(e.codec,e.audioCodec,e.mode,this._clientId),this.store.clientCreated(),e.proxyServer&&this.setProxyServer(e.proxyServer,!0),e.turnServer&&this.setTurnServer(e.turnServer,!0),uN.info("[".concat(this._clientId,"] Initializing AgoraRTC client v").concat(MN," build: ").concat(LN,", mode: ").concat(this._mode,", codec: ").concat(this._codec)),DN("info",this,"constructor",{version:MN,build:LN,mode:this._mode,codec:this._codec}),this._performanceRecorder=function(e,t){const n=new o0(e,"join");return i0.set(e,n),n}(this._clientId),e.clientRoleOptions)try{QP(e.clientRoleOptions),t=Object.assign({},e.clientRoleOptions)}catch(e){uN.warning("[".concat(this._clientId,"] ").concat(e.toString())),wN("warning",this,e.toString())}this._statsCollector=new aG(this.store),this._statsCollector.onStatsException=(e,t,n)=>{uN.debug("[".concat(this._clientId,"] receive exception msg, code: ").concat(e,", msg: ").concat(t,", uid: ").concat(n)),TN("debug",this,OP.EXCEPTION,{code:e,message:t,uid:n}),this.emit(OP.EXCEPTION,{code:e,msg:t,uid:n})},this._statsCollector.onUploadPublishDuration=(e,t,n,r)=>{const i=this._users.find((t=>t.uid===e));i&&yV.peerPublishStatus(this._sessionId,{subscribeElapse:r,audioPublishDuration:t,videoPublishDuration:n,peer:i._uintid})},this._gateway=new cK(this.store,{clientId:this._clientId,mode:this._mode,codec:this._codec,websocketRetryConfig:e.websocketRetryConfig||tN,httpRetryConfig:e.httpRetryConfig||tN,forceWaitGatewayResponse:void 0===e.forceWaitGatewayResponse||e.forceWaitGatewayResponse,statsCollector:this._statsCollector,role:e.role,clientRoleOptions:t}),this._config=e,this._configDistribute=new xK,this._p2pChannel=new G$(this.store,this._statsCollector),this._handleP2PChannelEvents(),this._handleGatewayEvents()}async join(e,t,n,r,i){const o=++this._numberOfJoinCount;this._performanceRecorder.checkPoint("startJoin"),this.store.joinStart(),r&&(this.store.uid=r);const a="HTTPS"===(t0||t0||(t0=(window.location.protocol.split(":")[0]||"").toUpperCase(),t0)),s=n0()?window.isSecureContext:"Browser Not Support";if(!n0()&&!a||!window.isSecureContext){const e="The website must be running in a secure context (About secure context: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts ), otherwise the media collection will be restricted by the browser";uN.warning(e),kN("warning",this,e)}const c=wG();"DISCONNECTED"===this.connectionState&&(this.store.avoidJoinStart=Math.round(Date.now()),uN.debug("[".concat(this._clientId,"] set avoidJoinStart to ").concat(this.store.avoidJoinStart)),kN("debug",this,"join",void 0,"[".concat(this._clientId,"] set avoidJoinStart to ").concat(this.store.avoidJoinStart)));const u=yV.reportApiInvoke(c,{name:vP.JOIN,options:[e,t,n,r],states:{isHttps:a,isSecureContext:s},tag:yP.TRACER});yV.setAppId(e);try{if(!n&&null!==n)throw new eN($k.INVALID_PARAMS,"Invalid token: ".concat(n,". If you don not use token, set it to null"));n&&eP(n,"token",1,2047),eP(e,"appid",1,2047),nP(t),r&&rP(r),i&&eP(i,"optionalInfo",1,2047)}catch(e){throw u.onError(e),e}if(uN.info("[".concat(this._clientId,"] start join channel ").concat(t,", join number: ").concat(o)),DN("info",this,"join",{channel:t}),this._leaveMutex.isLocked&&(uN.debug("[".concat(this._clientId,"] join: waiting leave operation")),wN("debug",this,"join: waiting leave operation"),(await this._leaveMutex.lock())(),uN.debug("[".concat(this._clientId,"] join: continue")),wN("debug",this,"join: continue")),this._joinAndNotLeaveYet=!0,"DISCONNECTED"!==this.connectionState){const e=new eN($k.INVALID_OPERATION,"[".concat(this._clientId,"] Client already in connecting/connected state"));throw u.onError(e),e}this._sessionId||(this._sessionId=c,this.store.sessionId=this._sessionId),this._gateway.state="CONNECTING";const l=Z0({clientId:this._clientId,appId:e,sid:this._sessionId,cname:t,uid:"string"!=typeof r?r:null,turnServer:this._turnServer,proxyServer:this._proxyServer,token:n||e,cloudProxyServer:this._cloudProxyServerMode,optionalInfo:i,license:this._license,useLocalAccessPoint:this._useLocalAccessPoint},void 0!==this._remoteDefaultVideoStreamType&&{defaultVideoStream:this._remoteDefaultVideoStreamType});if("string"==typeof r&&(l.stringUid=r,this._uintUid?(l.uid=this._uintUid,this._uintUid=void 0):l.uid=0),"none"!==this._encryptionMode&&this._encryptionSecret){if(l.aesmode=this._encryptionMode,l.aespassword=await(async e=>{const t=jG("MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDCMnXAHkKIGAM+x4N22gCI+Wyu\nSTM9ztkT3uYslTT2PuKmZfPzhH6kVdO7PTjGCOZnAsyb3oTtWat0KcxQ4jxvqQV+\nHvYl3iI1Yd4vl2c3qRMJPLtRDfNxa2Mcxgq7e9aEUibzdd0st+OJAy3tOj/Y0aVy\nxQiYDz3vqa6bP29adwIDAQAB"),n=await window.crypto.subtle.importKey("spki",t,{name:"RSA-OAEP",hash:"SHA-256"},!0,["encrypt"]),r=dV(e),i=await window.crypto.subtle.encrypt({name:"RSA-OAEP"},n,r);return VG(new Uint8Array(i))})(this._encryptionSecret),!this._joinAndNotLeaveYet)throw new eN($k.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"));this._encryptionSalt&&(l.aessalt=this._encryptionSalt)}this._startSession(this._sessionId,{channel:t,appId:e});const d=this._sessionId;setTimeout((()=>{"CONNECTING"===this.connectionState&&d===this._sessionId&&yV.joinChannelTimeout(this._sessionId,5)}),5e3);try{let r;const i=l.cloudProxyServer;if("443only"===i)l.proxyServer=KN("PROXY_SERVER_TYPE2");else if(["proxy3","proxy4","proxy5"].includes(i)){const e=KN("PROXY_SERVER_TYPE3");Array.isArray(e)?l.proxyServer=e[0]:l.proxyServer=e}if(yV.setProxyServer(l.proxyServer),uN.setProxyServer(l.proxyServer),SN(l.proxyServer),this._performanceRecorder.checkPoint("startRequestAp"),this.store.requestAPStart(),l.stringUid&&!l.uid&&"normal"===i){await SK(l,this._axiosCancelSource.token,this._config.httpRetryConfig||tN,!1,this.store);const e=await wK(l.stringUid,l,this._axiosCancelSource.token,this._config.httpRetryConfig||tN,this.store);uN.debug("getUserAccount Success ".concat(l.stringUid," => ").concat(e)),wN("debug",this,"getUserAccount Success ".concat(l.stringUid," => ").concat(e)),l.uid=e,r=await IK(l,this._axiosCancelSource.token,this._config.httpRetryConfig||tN,this.store)}else if(l.stringUid&&!l.uid){const e=await wK(l.stringUid,l,this._axiosCancelSource.token,this._config.httpRetryConfig||tN,this.store);uN.debug("getUserAccount Success ".concat(l.stringUid," => ").concat(e)),wN("debug",this,"getUserAccount Success ".concat(l.stringUid," => ").concat(e)),l.uid=e,r=await SK(l,this._axiosCancelSource.token,this._config.httpRetryConfig||tN,!0,this.store)}else r=await SK(l,this._axiosCancelSource.token,this._config.httpRetryConfig||tN,!0,this.store);if(!this._joinAndNotLeaveYet)throw new eN($k.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"));this.store.requestAPEnd(),this._performanceRecorder.checkPoint("startJoinGateway"),setTimeout((()=>{this._configDistribute.startGetConfigDistribute(l,this._axiosCancelSource.token),this._configDistribute.on(Sx.UPDATE_BITRATE_LIMIT,(e=>{this._p2pChannel.updateBitrateLimit(e)}))}),0),this._key=n||e;const o=r.gatewayInfo;this._joinInfo=Z0(Z0({},l),{},{cid:o.cid,uid:l.uid?l.uid:o.uid,vid:o.vid,apResponse:o.res,uni_lbs_ip:o.uni_lbs_ip,gatewayAddrs:o.gatewayAddrs});const a=await this._joinGateway();if(!this._joinAndNotLeaveYet)throw new eN($k.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"));return u.onSuccess(a),this._appId=e,this._channelName=l.cname,this._uid=a,this.store.uid=a,setTimeout((()=>{this._networkQualityInterval&&window.clearInterval(this._networkQualityInterval),this._networkQualityInterval=window.setInterval(this._handleUpdateNetworkQuality,2e3),window.addEventListener(MT()?"beforeunload":"pagehide",this._handleBeforeUnload)}),0),uN.info("[".concat(this._clientId,"] Joining channel success: ").concat(t)),DN("info",this,"join",t,"success"),setTimeout((()=>{KN("USE_NEW_LOG")?xN():uN.startUpload()}),5e3),this._performanceRecorder.checkPoint("finishJoin"),this.store.joinEnd(),this,nD.includes(this)||nD.push(this),a}catch(e){const n=Array.isArray(e)?e[0]:e;throw uN.error("[".concat(this._clientId,"] join number: ").concat(o,", Joining channel failed, rollback"),n),DN("error",this,"join",t,n.toString()),n.code!==$k.OPERATION_ABORTED&&this._numberOfJoinCount===o&&(this._gateway.state="DISCONNECTED",this._reset()),u.onError(n),n}}_joinGateway(){if(!this._joinInfo||!this._key)throw new eN($k.INVALID_OPERATION);return this._gateway.join(this._joinInfo,this._key,!("disabled"!==this._joinInfo.cloudProxyServer||this._joinInfo.proxyServer||!KN("JOIN_WITH_FALLBACK_SIGNAL_PROXY"))).then((e=>e)).catch((e=>{if(e.code===$k.INIT_WEBSOCKET_TIMEOUT)return this._gateway.leave(!0,TP.FALLBACK);throw e})).then((e=>{if(e)return e;if(uN.info("[".concat(this._clientId,"] join timeout, fallback to proxy")),!this._joinInfo||!this._key)throw new eN($k.INVALID_OPERATION);this._joinInfo.cloudProxyServer="fallback",this._cloudProxyServerMode="fallback",this.store.cloudProxyServerMode="fallback";const t=KN("PROXY_SERVER_TYPE3");if(Array.isArray(t))if(this._joinInfo.apUrl){const e=new LW(this._joinInfo.apUrl).host.split("."),n=e.slice(e.length-2).join(".");t.forEach((e=>{this._joinInfo&&e.includes(n)&&(this._joinInfo.proxyServer=e)})),this._joinInfo.proxyServer||(this._joinInfo.proxyServer=t[0])}else this._joinInfo.proxyServer=t[0];else this._joinInfo.proxyServer=t;return uN.setProxyServer(this._joinInfo.proxyServer),yV.setProxyServer(this._joinInfo.proxyServer),SN(this._joinInfo.proxyServer),yV.reportApiInvoke(this._sessionId,{name:vP.JOIN_FALLBACK_TO_PROXY,options:[this._joinInfo.proxyServer],tag:yP.TRACER}).onSuccess(),this.emit(OP.JOIN_FALLBACK_TO_PROXY,this._joinInfo.proxyServer),this._gateway.join(this._joinInfo,this._key)})).then((e=>e))}async leave(){const e=yV.reportApiInvoke(this._sessionId,{name:vP.LEAVE,options:[],tag:yP.TRACER});uN.info("[".concat(this._clientId,"] Leaving channel")),DN("info",this,"leave"),window.removeEventListener(MT()?"beforeunload":"pagehide",this._handleBeforeUnload),this._reset(),function(e){const t=nD.indexOf(e);-1!==t&&nD.splice(t,1)}(this);const t=await this._leaveMutex.lock();if("DISCONNECTED"===this.connectionState)return uN.info("[".concat(this._clientId,"] Leaving channel repeated, success")),t(),e.onSuccess();await this._gateway.leave("CONNECTED"!==this.connectionState),uN.info("[".concat(this._clientId,"] Leaving channel success")),DN("info",this,"leave",void 0,"success"),this._joinAndNotLeaveYet=!1,this.store.resetJoinChannelServiceRecords(),t(),e.onSuccess()}async publish(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Array.isArray(e)||(e=[e]);const n=yV.reportApiInvoke(this._sessionId,{name:vP.PUBLISH,options:e.map((e=>e?Object(e).toString():"null")),tag:yP.TRACER});if(0===e.length){const e=new eN($k.INVALID_PARAMS,"track list is empty");return n.onError(e),e.throw()}if("audience"===this._gateway.role){const e=new eN($k.INVALID_OPERATION,"audience can not publish stream");return n.onError(e),e.throw()}for(const r of e){if(!(r instanceof RV)){const e=new eN($k.INVALID_PARAMS,"parameter is not local track");return n.onError(e),e.throw()}if(!r._enabled&&t){const e=new eN($k.TRACK_IS_DISABLED,"can not publish a disabled track: ".concat(r.getTrackId()));return n.onError(e),e.throw()}}uN.info("[".concat(this._clientId,"] Publishing tracks, id ").concat(e.map((e=>"".concat(e.getTrackId()," "))))),DN("info",this,"publish",e.map((e=>"".concat(e.getTrackId())))),await this._configDistribute.awaitConfigDistributeComplete(),t&&e.forEach((e=>{const t=this._configDistribute.getBitrateLimit();e instanceof XY&&t&&e.setBitrateLimit(t.uplink)}));const r=await this._publishMutex.lock();try{await this._publishHighStream(e),n.onSuccess(e.map((e=>e.trackMediaType+":"+e.getTrackLabel())).toString()),uN.info("[".concat(this._clientId,"] Publish success, id ").concat(e.map((e=>"".concat(e.getTrackId()," "))))),DN("info",this,"publish",e.map((e=>"".concat(e.getTrackId()))),"success")}catch(e){throw n.onError(e),uN.error("[".concat(this._clientId,"] publish error"),e.toString()),DN("error",this,"publish",void 0,e.toString()),e}finally{r()}}async unpublish(e){if(!this._joinInfo||void 0===this._uid)throw new eN($k.INVALID_OPERATION,"Can't unpublish stream, haven't joined yet!");e?Array.isArray(e)||(e=[e]):e=this._p2pChannel.getAllTracks(!0);const t=yV.reportApiInvoke(this._sessionId,{name:vP.UNPUBLISH,options:e.map((e=>e.getTrackId())),tag:yP.TRACER});uN.info("[".concat(this._clientId,"] Unpublish tracks, tracks ").concat(e.map((e=>"".concat(e.getTrackId()," ")))," ")),DN("info",this,"unpublish",e.map((e=>"".concat(e.getTrackId()))));const n=await this._publishMutex.lock();try{const r=await this._p2pChannel.unpublish(e);r&&await this._gateway.unpublish(r,this._uid),uN.info("[".concat(this._clientId,"] Unpublish success,tracks ").concat(e.map((e=>"".concat(e.getTrackId()))))),DN("info",this,"unpublish",e.map((e=>"".concat(e.getTrackId()))),"success"),t.onSuccess()}catch(e){throw t.onError(e),uN.error("[".concat(this._clientId,"] unpublish error"),e.toString()),DN("error",this,"unpublish",void 0,e.toString()),e}finally{n&&n()}}async subscribe(e,t){return this._subscribe(e,t)}async _subscribe(e,t,n){ZD(t,"mediaType",["audio","video"]);const r=yV.reportApiInvoke(this._sessionId,{name:vP.SUBSCRIBE,options:[e.uid,t],tag:yP.TRACER});if(!this._joinInfo){const e=new eN($k.INVALID_OPERATION,"Can't subscribe stream, not joined");throw r.onError(e),e}if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState){const e=new eN($k.INVALID_OPERATION,"Can't subscribe stream in ".concat(this.connectionState," state"));throw r.onError(e),e}if(!this._users.find((t=>t===e))){const t=new eN($k.INVALID_REMOTE_USER,"user is not in the channel");throw uN.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid,", this user is not in the channel")),DN("error",this,"subscribe",e.uid,"this user is not in the channel"),r.onError(t),t}if(!e.hasAudio&&!e.hasVideo){const t=new eN($k.INVALID_REMOTE_USER,"user is not published");throw uN.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid,", user is not published")),DN("error",this,"subscribe",e.uid,"this user is not published"),r.onError(t),t}if(!(n||("audio"!==t||e.hasAudio&&void 0!==e._audioSSRC)&&("video"!==t||e.hasVideo&&void 0!==e._videoSSRC))){const n=new eN($k.REMOTE_USER_IS_NOT_PUBLISHED);throw uN.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid," with mediaType ").concat(t,", remote track is not published")),DN("error",this,"subscribe",e.uid,"mediaType ".concat(t,", remote track is not published")),r.onError(n),n}const i="audio"===t?e._audioSSRC:e._videoSSRC,o="audio"===t?e._audioOrtc:e._videoOrtc,a="video"===t?e._rtxSsrcId:void 0,s={stream_type:"audio"===t?Rx.AUDIO:Rx.VIDEO,ssrcId:i},c=await this._subscribeMutex.lock();uN.info("[".concat(this._clientId,"] subscribe user ").concat(e.uid,", mediaType: ").concat(t)),DN("info",this,"subscribe",{uid:e.uid,mediaType:t});try{if(await this._p2pChannel.hasRemoteMediaWithLock(e,t))await this._p2pChannel.unmuteRemote(e,t);else try{rG.markSubscribeStart(this.store.clientId,i),this.store.subscribe(e.uid,t,Date.now()),await this._p2pChannel.subscribe(e,t,i,a,o);try{await this._gateway.subscribe(e.uid,s,!0)}catch(n){if((null==n?void 0:n.code)!==$k.WS_ABORT)throw await this._p2pChannel.unsubscribe(e,t),n;await this._p2pChannel.unsubscribe(e,t,!0),this._p2pChannel.setPendingRemoteMedia(e,t)}this.store.subscribe(e.uid,t,void 0,Date.now()),this._p2pChannel.reportSubscribeEvent(!0,null,e,t)}catch(n){throw this._p2pChannel.reportSubscribeEvent(!1,null==n?void 0:n.code,e,t),n}uN.info("[".concat(this._clientId,"] subscribe success user ").concat(e.uid,", mediaType: ").concat(t)),DN("info",this,"subscribe",{uid:e.uid,mediaType:t},"success"),this._defaultStreamFallbackType&&this.setStreamFallbackOption(e.uid,this._defaultStreamFallbackType).catch((e=>{uN.warning("[".concat(this._clientId,"] auto set fallback failed"),e),wN("warning",this,"auto set fallback failed, ".concat(e.toString()))}));const u="audio"===t?e._audioTrack:e._videoTrack;if(!u){const e=new eN($k.UNEXPECTED_ERROR,"can not find remote track in user object");return r.onError(e),e.throw()}return r.onSuccess(u.getTrackId()),u}catch(n){throw r.onError(n),uN.error("[".concat(this._clientId,"] subscribe user ").concat(e.uid," error"),n),DN("error",this,"subscribe",{uid:e.uid,mediaType:t},n.toString()),n}finally{c()}}async massSubscribe(e){tP(e,"subscribeList");const t=yV.reportApiInvoke(this._sessionId,{name:vP.MASS_SUBSCRIBE,options:e.map((e=>{let{user:t,mediaType:n}=e;return[null==t?void 0:t.uid,n]})),tag:yP.TRACER});if(!this._joinInfo){const e=new eN($k.INVALID_OPERATION,"Can't subscribe stream, not joined");throw t.onError(e),e}if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState){const e=new eN($k.INVALID_OPERATION,"Can't subscribe stream in ".concat(this.connectionState," state"));throw t.onError(e),e}const n=Date.now(),r=new Map,i=await this._subscribeMutex.lock();uN.info("[".concat(this._clientId,"]start massSubscribe user ").concat(e.map((e=>{let{user:t,mediaType:n}=e;return"user: ".concat(null==t?void 0:t.uid,", mediaType: ").concat(n)})).join("; "))),DN("info",this,"massSubscribe",e);const o=(e=[...e]).map((e=>{let{user:t,mediaType:n}=e;return{user:t,mediaType:n}})),a=await this._p2pChannel.globalLock();try{var s;for(let n=e.length-1;n>=0;n--){const i=e[n],{user:a,mediaType:s}=i;if(ZD(s,"mediaType",["audio","video"]),!a){const e=new eN($k.INVALID_PARAMS,"user property does not exist in subscribeList item");throw uN.error("[".concat(this._clientId,"] user property does not exist in subscribeList item")),t.onError(e),e}if(!this._users.find((e=>e===a))){const t=new eN($k.INVALID_REMOTE_USER,"user is not in the channel");uN.error("[".concat(this._clientId,"] can not massSubscribe ").concat(a.uid,", this user is not in the channel")),DN("error",this,"massSubscribe",a.uid,"this user is not in the channel"),o[n].error=t,e.splice(n,1);continue}if("audio"===s&&(!a.hasAudio||void 0===a._audioSSRC)||"video"===s&&(!a.hasVideo||void 0===a._videoSSRC)){const t=new eN($k.REMOTE_USER_IS_NOT_PUBLISHED);uN.error("[".concat(this._clientId,"] can not subscribe ").concat(a.uid," with mediaType ").concat(s,", remote user is not published")),DN("error",this,"subscribe",a.uid,"mediaType ".concat(s,", remote user is not published")),o[n].error=t,e.splice(n,1);continue}const c=hx.Video|hx.LwoVideo,u=r.get(a);if(u){if("video"===s?u&c:u&hx.Audio){e.splice(n,1),uN.warning("repeat massSubscribe user:".concat(a.uid,", mediaType:").concat(s," twice"));continue}r.set(a,u|("video"===s?c:hx.Audio))}else r.set(a,"video"===s?c:hx.Audio)}for(let t=e.length-1;t>=0;t--){const n=e[t],{user:i,mediaType:o}=n,a=hx.Video|hx.LwoVideo;if(this._p2pChannel.hasRemoteMedia(i,o)){await this._p2pChannel.unmuteRemoteNoLock(i,o);const n=r.get(i);r.set(i,"video"===o?n^a:n^hx.Audio),e.splice(t,1)}}this.store.massSubscribe(e.map((e=>({userId:e.user.uid,type:e.mediaType}))),n);const c=lh(s=Array.from(r.entries())).call(s,((e,t)=>{let[n,r]=t;if(0===r)return e;const i={stream_id:n.uid,stream_type:r};return r&hx.Audio&&(i.audio_ssrc=n._audioSSRC),r&hx.Video&&(i.video_ssrc=n._videoSSRC),e.push(i),e}),[]);try{e.length>0&&await this._p2pChannel.massSubscribeNoLock(e.map((e=>{let{user:t,mediaType:n}=e;return{user:t,mediaType:n,ssrcId:n===Rx.VIDEO?t._videoSSRC:t._audioSSRC,rtxSsrcId:t._rtxSsrcId}})));const r=new Map;if(c.length>0){const e=await this._gateway.subscribeAll(c,!0);((null==e?void 0:e.users)||[]).forEach((e=>{let{stream_id:t,video_error_code:n,audio_error_code:i,error_code:o}=e;(n||i||o)&&r.set(t,{video_error_code:n,audio_error_code:i,error_code:o})}))}if(Array.from(r.entries()).length>0){const e=Array.from(r.entries()).map((e=>{let t,[n,r]=e;return r.error_code||r.video_error_code&&r.audio_error_code?t=void 0:r.video_error_code?t=Rx.VIDEO:r.audio_error_code&&(t=Rx.AUDIO),{user:this.remoteUsers.find((e=>e.uid===n)),mediaType:t}}));await this._p2pChannel.massUnsubscribeNoLock(e)}for(const e of o){const t=r.get(e.user.uid);if(t){const n=t.error_code||"audio"===e.mediaType&&t.audio_error_code||"video"===e.mediaType&&t.video_error_code;if(n){const t=UW(n);uN.error("user:".concat(e.user.uid," mediaType:").concat(e.mediaType," has massSubscribe error ").concat(t.desc)),e.error=new eN($k.SUBSCRIBE_FAILED,"code ".concat(n,": ").concat(t.desc))}}e.error||("video"===e.mediaType?e.track=e.user.videoTrack:e.track=e.user.audioTrack)}return this.store.massSubscribe(o.filter((e=>!e.error)).map((e=>({userId:e.user.uid,type:e.mediaType}))),void 0,Date.now()),o.forEach((e=>{var t;yV.subscribe(this.store.sessionId,{succ:!!e.error,ec:(null===(t=e.error)||void 0===t?void 0:t.code)||null,video:e.mediaType===Rx.VIDEO,audio:e.mediaType===Rx.AUDIO,peerid:e.user.uid,subscribeRequestid:e.mediaType===Rx.VIDEO?e.user._videoSSRC:e.user._audioSSRC,p2pid:this.store.p2pId,eventElapse:Math.floor(performance.now()-n)},!0)})),t.onSuccess(),uN.info("[".concat(this._clientId,"] massSubscribe success ").concat(e.map((e=>{let{user:t,mediaType:n}=e;return"user: ".concat(null==t?void 0:t.uid,", mediaType: ").concat(n)})).join("; "))),DN("info",this,"massSubscribe",e,"success"),o}catch(n){throw await this._p2pChannel.massUnsubscribeNoLock(e),t.onError(n),n}}finally{a(),i()}}async unsubscribe(e,t){if(t&&ZD(t,"mediaType",["audio","video"]),!this._joinInfo)throw new eN($k.INVALID_OPERATION,"Can't unsubscribe stream, haven't joined yet!");const n=yV.reportApiInvoke(this._sessionId,{name:vP.UNSUBSCRIBE,options:[e.uid,t],tag:yP.TRACER});if(!this._users.find((t=>t===e))){const r=new eN($k.INVALID_REMOTE_USER,"user is not in the channel");throw uN.error("[".concat(this._clientId,"] can not unsubscribe ").concat(e.uid,", user is not in the channel")),DN("error",this,"unsubscribe",{uid:e.uid,mediaType:t},"user is not in the channel"),n.onError(r),r}uN.info("[".concat(this._clientId,"] unsubscribe uid: ").concat(e.uid,", mediaType: ").concat(t)),DN("info",this,"unsubscribe",{uid:e.uid,mediaType:t});try{const r=await this._p2pChannel.unsubscribe(e,t);r&&await this._gateway.unsubscribe(r,e.uid),uN.info("[".concat(this._clientId,"] unsubscribe success uid: ").concat(e.uid,", mediaType: ").concat(t)),DN("info",this,"unsubscribe",{uid:e.uid,mediaType:t},"success"),n.onSuccess()}catch(r){if(r.code===$k.DISCONNECT_P2P)return uN.warning("disconnecting p2p, abort unsubscribe request."),void n.onSuccess();throw uN.error("[".concat(this._clientId,"] unsubscribe user ").concat(e.uid," error"),r.toString()),DN("error",this,"unsubscribe",{uid:e.uid,mediaType:t},r.toString()),n.onError(r),r}}async massUnsubscribe(e){tP(e,"unsubscribeList");const t=yV.reportApiInvoke(this._sessionId,{name:vP.UNSUBSCRIBE,options:e.map((e=>{let{user:t,mediaType:n}=e;return{uid:null==t?void 0:t.uid,mediaType:n}})),tag:yP.TRACER});if(!this._joinInfo){const e=new eN($k.INVALID_OPERATION,"Can't unsubscribeAll stream, haven't joined yet!");throw t.onError(e),e}uN.info("[".concat(this._clientId,"] start massUnsubscribe ").concat(e.map((e=>{let{user:t,mediaType:n}=e;return"user: ".concat(null==t?void 0:t.uid,", mediaType: ").concat(n,";")})).join())),DN("info",this,"massUnsubscribe",e),e=[...e];const n=new Map;for(let r=e.length-1;r>=0;r--){const{user:i,mediaType:o}=e[r];if(!i){const e=new eN($k.INVALID_PARAMS,"user property does not exist in unsubscribeList item");throw uN.error("[".concat(this._clientId,"] user property does not exist in unsubscribeList item")),t.onError(e),e}if(ZD(o,"mediaType",["video","audio",void 0]),!this._users.find((e=>e===i))){uN.warning("[".concat(this._clientId,"] can not unsubscribe ").concat(i.uid,", user is not in the channel")),DN("error",this,"unsubscribe",{uid:i.uid,mediaType:o},"user is not in the channel"),e.splice(r,1);continue}const a=hx.Video|hx.LwoVideo;if(n.has(i)){const t=n.get(i);let s;switch(o){case"video":s=t&a;break;case"audio":s=t&hx.Audio;break;default:s=t&(hx.Audio|a)}if(s){uN.warning("repeat massUnsubscribe user:".concat(i.uid,",mediaType:").concat(o," twice.")),e.splice(r,1);continue}o?"audio"===o?n.set(i,t|hx.Audio):"video"===o&&n.set(i,t|a):n.set(i,t|hx.Audio|a)}else o?"audio"===o?n.set(i,hx.Audio):"video"===o&&n.set(i,a):n.set(i,hx.Audio|a)}try{const n=await this._p2pChannel.massUnsubscribe(e);n&&await this._gateway.massUnsubscribe(n),uN.info("[".concat(this._clientId,"] massUnsubscribe success ").concat(e.map((e=>{let{user:t,mediaType:n}=e;return"user: ".concat(null==t?void 0:t.uid,", mediaType: ").concat(n,";")})).join())),DN("info",this,"massUnsubscribe",e,"success"),t.onSuccess()}catch(n){if(n.code===$k.DISCONNECT_P2P)return uN.warning("disconnecting p2p, abort unsubscribe request."),void t.onSuccess();throw uN.error("[".concat(this._clientId,"] massUnsubscribe error"),n.toString()),DN("error",this,"massUnsubscribe",e,n.toString()),t.onError(n),n}}setLowStreamParameter(e){!function(e){if(!e)throw new eN($k.INVALID_PARAMS);iP(e.width)||$D(e.width,"streamParameter.width"),iP(e.height)||$D(e.height,"streamParameter.height"),iP(e.framerate)||$D(e.framerate,"streamParameter.framerate"),iP(e.bitrate)||XD(e.bitrate,"streamParameter.bitrate")}(e);const t=yV.reportApiInvoke(this._sessionId,{name:vP.SET_LOW_STREAM_PARAMETER,options:[e],tag:yP.TRACER});(!e.width&&e.height||e.width&&!e.height)&&(uN.warning("[".concat(this._clientId,"] The width and height parameters take effect only when both are set")),wN("warning",this,"The width and height parameters take effect only when both are set")),uN.info("[".concat(this._clientId,"] set low stream parameter to"),JSON.stringify(e)),DN("info",this,"setLowStreamParameter",e);const n=this._configDistribute.getLowStreamConfigDistribute();n&&n.bitrate&&e.bitrate&&n.bitrate<e.bitrate&&(e.bitrate=n.bitrate),this._lowStreamParameter=e,t.onSuccess()}async enableDualStream(){const e=yV.reportApiInvoke(this._sessionId,{name:vP.ENABLE_DUAL_STREAM,options:[],tag:yP.TRACER});if(!Vx().supportDualStream){yV.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!1});const t=new eN($k.NOT_SUPPORTED,"Your browser is not support dual stream");throw e.onError(t),t}if(this._isDualStreamEnabled){const t=new eN($k.INVALID_OPERATION,"Dual stream is already enabled");throw e.onError(t),t}if(this._p2pChannel.canPublishLowStream())try{await this._publishLowStream()}catch(t){throw yV.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!1}),e.onError(t),t}this._isDualStreamEnabled=!0,yV.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!0}),uN.info("[".concat(this._clientId,"] enable dual stream")),DN("info",this,"enableDualStream"),e.onSuccess()}async disableDualStream(){if(!this._isDualStreamEnabled)return;if(!this._joinInfo)throw new eN($k.INVALID_OPERATION,"Can't publish stream, haven't joined yet!");const e=yV.reportApiInvoke(this._sessionId,{name:vP.DISABLE_DUAL_STREAM,options:[],tag:yP.TRACER});if(this._p2pChannel.getLocalMedia(Tx.LocalVideoLowTrack))try{const e=await this._p2pChannel.unpublishLowStream();e&&await this._gateway.unpublish(e,this._joinInfo.stringUid||this._joinInfo.uid)}catch(t){throw yV.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!1,succ:!1}),e.onError(t),t}this._isDualStreamEnabled=!1,yV.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!1,succ:!0}),uN.info("[".concat(this._clientId,"] disable dual stream")),DN("info",this,"disableDualStream"),e.onSuccess()}async setClientRole(e,t){!function(e){ZD(e,"role",["audience","host"])}(e),t&&QP(t);const n=yV.reportApiInvoke(this._sessionId,{name:vP.SET_CLIENT_ROLE,options:[e,t],tag:yP.TRACER});if("rtc"===this._mode){uN.warning("[".concat(this._clientId,"]rtc mode can not use setClientRole")),DN("warning",this,"setClientRole",e,"rtc mode can not use setClientRole");const t=new eN($k.INVALID_OPERATION,"rtc mode can not use setClientRole");return n.onError(t),t.throw()}if(t&&t.level&&"host"===e){const e=new eN($k.INVALID_OPERATION,"host mode can not set audience latency level");return n.onError(e),e.throw()}try{if("audience"===e&&this._p2pChannel.hasLocalMedia()){const e=new eN($k.INVALID_OPERATION,"can not set client role to audience when publishing stream");return n.onError(e),e.throw()}await this._gateway.setClientRole(e,t),uN.info("[".concat(this._clientId,"] set client role to ").concat(e,", level: ").concat(t&&t.level)),DN("info",this,"setClientRole",{role:e,level:t&&t.level}),n.onSuccess()}catch(e){throw n.onError(e),e}}setProxyServer(e,t){if(eP(e,"proxyServer"),!t){if("DISCONNECTED"!==this.connectionState)throw new eN($k.INVALID_OPERATION,"Set proxy server before join channel");if("disabled"!==this._cloudProxyServerMode||this._useLocalAccessPoint)throw new eN($k.INVALID_OPERATION,"You have already set the proxy")}this._proxyServer=e,yV.setProxyServer(this._proxyServer),uN.setProxyServer(this._proxyServer),SN(this._proxyServer),uN.info("[".concat(this._clientId,"] Set proxy server ").concat(t?"by initialize call":""," success.")),DN("info",this,"setProxyServer",[...arguments],"success")}setTurnServer(e,t){if(Array.isArray(e)||(e=[e]),!t){if("DISCONNECTED"!==this.connectionState)throw new eN($k.INVALID_OPERATION,"Set turn server before join channel");if("disabled"!==this._cloudProxyServerMode||this._useLocalAccessPoint)throw new eN($k.INVALID_OPERATION,"You have already set the proxy")}if(jP(e))return this._turnServer={servers:e,mode:"original-manual"},uN.info("[".concat(this._clientId,"] Set original turnserver ").concat(t?"by initialize call":""," success: ").concat(e.map((e=>e.urls)).join(","),".")),void DN("info",this,"setOriginalTurnServer",[...arguments],"success");e.forEach((e=>VP(e))),this._turnServer={servers:e,mode:"manual"},uN.info("[".concat(this._clientId,"] Set turnserver ").concat(t?"by initialize call":""," success.")),DN("info",this,"setTurnServer",[...arguments],"success")}setLicense(e){if("DISCONNECTED"!==this.connectionState)throw new eN($k.INVALID_OPERATION,"you should set license before join channel");if(eP(e,"license",32,32),!/^[A-Za-z\d]+$/.test(e))throw new eN($k.INVALID_PARAMS,"license should only contains characters from A-Z a-z 0-9");this._license=e,uN.info("[".concat(this._clientId,"] set license success"),e)}startProxyServer(e){const t=yV.reportApiInvoke(this._sessionId,{name:vP.START_PROXY_SERVER,options:[],tag:yP.TRACER});if("DISCONNECTED"!==this.connectionState){const e=new eN($k.INVALID_OPERATION,"Start proxy server before join channel");throw t.onError(e),e}if(this._proxyServer||"manual"===this._turnServer.mode||this._useLocalAccessPoint){const e=new eN($k.INVALID_OPERATION,"You have already set the proxy");throw t.onError(e),e}const n=[1,2,3,4,5];let r;switch(void 0===e&&(e=1),e){case 1:r="normal";break;case 2:r="443only";break;case 3:r="proxy3";break;case 4:r="proxy4";break;case 5:r="proxy5";break;default:{const e=new eN($k.INVALID_PARAMS,"proxy server mode must be ".concat(n.join("|")));throw t.onError(e),e}}this._cloudProxyServerMode=r,this.store.cloudProxyServerMode=r,uN.info("[".concat(this._clientId,"] set cloud proxy server mode to"),this._cloudProxyServerMode),DN("info",this,"startProxyServer",this._cloudProxyServerMode),t.onSuccess()}stopProxyServer(){const e=yV.reportApiInvoke(this._sessionId,{name:vP.STOP_PROXY_SERVER,options:[],tag:yP.TRACER});if("DISCONNECTED"!==this.connectionState)throw new eN($k.INVALID_OPERATION,"Stop proxy server after leave channel");yV.setProxyServer(),uN.setProxyServer(),SN(),this._cloudProxyServerMode="disabled",this.store.cloudProxyServerMode="disabled",uN.info("[".concat(this._clientId,"] set cloud proxy server mode to"),this._cloudProxyServerMode),DN("info",this,"stopProxyServer",this._cloudProxyServerMode),this._proxyServer=void 0,this._turnServer={mode:"auto",servers:[]},e.onSuccess()}setLocalAccessPoints(e,t){if(tP(e,"serverList"),eP(t,"domain"),this._proxyServer||"disabled"!==this._cloudProxyServerMode)throw new eN($k.INVALID_OPERATION,"set local access point failed, You have already set the cloud proxy");const n=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/;e=e.map((e=>n.test(e)?"".concat(e.replace(/\./g,"-"),".").concat(t):e)),this._useLocalAccessPoint=!0,WN("WEBCS_DOMAIN",e),WN("WEBCS_DOMAIN_BACKUP_LIST",e),WN("GATEWAY_DOMAINS",[t]),WN("EVENT_REPORT_DOMAIN",e[0]),WN("EVENT_REPORT_BACKUP_DOMAIN",e[1]||e[0]),WN("LOG_UPLOAD_SERVER","".concat(e[0],":6444")),uN.info("set local access point success"),DN("info",this,"setLocalAccessPoints")}async setRemoteDefaultVideoStreamType(e){if(ZD(e,"streamType",[0,1]),this._remoteDefaultVideoStreamType=e,this._joinInfo)try{await this._gateway.setDefaultRemoteVideoStreamType(e),this._joinInfo.defaultVideoStream=this._remoteDefaultVideoStreamType}catch(e){throw uN.error("[".concat(this._clientId,"] set default remote video stream type error"),e.toString()),e}else uN.debug("haven't joined yet, cache remoteDefaultVideoStreamType ".concat(e))}async setRemoteVideoStreamType(e,t){ZD(t,"streamType",[0,1]);const n=yV.reportApiInvoke(this._sessionId,{name:vP.SET_REMOTE_VIDEO_STREAM_TYPE,options:[e,t],tag:yP.TRACER});try{await this._gateway.setRemoteVideoStreamType(e,t),setTimeout((()=>{const t=this._users.find((t=>t.uid===e));t&&t.videoTrack&&t.videoTrack.updateMediaStreamTrackResolution()}),2e3)}catch(e){throw n.onError(e),uN.error("[".concat(this._clientId,"] set remote video stream type error"),e.toString()),DN("error",this,"setRemoteVideoStreamType",void 0,e.toString()),e}uN.info("[".concat(this._clientId,"] set remote ").concat(e," video stream type to ").concat(t)),DN("info",this,"setRemoteVideoStreamType",{uid:e,streamType:t}),this._remoteStreamTypeCacheMap.set(e,t),n.onSuccess()}async setStreamFallbackOption(e,t){ZD(t,"fallbackType",[0,1,2]);const n=yV.reportApiInvoke(this._sessionId,{name:vP.SET_STREAM_FALLBACK_OPTION,options:["too long to show",t],tag:yP.TRACER});try{await this._gateway.setStreamFallbackOption(e,t)}catch(e){throw n.onError(e),uN.error("[".concat(this._clientId,"] set stream fallback option"),e.toString()),DN("error",this,"setStreamFallbackOption",void 0,e.toString()),e}uN.info("[".concat(this._clientId,"] set remote ").concat(e," stream fallback type to ").concat(t)),DN("info",this,"setStreamFallbackOption",{uid:e,fallbackType:t}),this._streamFallbackTypeCacheMap.set(e,t),n.onSuccess()}setEncryptionConfig(e,t,n){const r=yV.reportApiInvoke(this._sessionId,{name:vP.SET_ENCRYPTION_CONFIG,options:[e],tag:yP.TRACER});try{if(function(e){ZD(e,"encryptionMode",["aes-128-xts","aes-256-xts","aes-128-ecb","sm4-128-ecb","aes-128-gcm","aes-256-gcm","aes-128-gcm2","aes-256-gcm2","none"])}(e),eP(t,"secret"),["aes-128-gcm2","aes-256-gcm2"].includes(e)){if(!n||!(n instanceof Uint8Array&&32===n.length))throw new eN($k.INVALID_PARAMS,"salt must be an Uint8Array and exactly equal to 32 bytes")}else if(n)throw new eN($k.INVALID_PARAMS,"current encrypt mode does not need salt");new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*,.<>?/:;'\"|{}\\[\\]])(?=.{8,})").test(t)||(uN.warning("The secret is not strong:\n      The secret must contain at least 1 lowercase alphabetical character,\n      The secret must contain at least 1 uppercase alphabetical character,\n      The secret must contain at least 1 numeric character,\n      The secret must contain at least one special character,\n      The secret must be eight characters or longer.\n      "),wN("warning",this,"The secret is not strong:\n      The secret must contain at least 1 lowercase alphabetical character,\n      The secret must contain at least 1 uppercase alphabetical character,\n      The secret must contain at least 1 numeric character,\n      The secret must contain at least one special character,\n      The secret must be eight characters or longer.\n      ")),this._encryptionMode=e,this._encryptionSecret=t,n&&(this._encryptionSalt=VG(n)),r.onSuccess()}catch(e){throw r.onError(e),e}}async renewToken(e){eP(e,"token",1,2047);const t=yV.reportApiInvoke(this._sessionId,{name:vP.RENEW_TOKEN,options:[e],tag:yP.TRACER});if(!this._key||!this._joinInfo){const e=new eN($k.INVALID_OPERATION,"renewToken should not be called before user join");return t.onError(e),e.throw()}const n=this._key;this._key=e,this._joinInfo&&(this._joinInfo.token=e);const r=await this._renewTokenMutex.lock();try{if(KN("USE_NEW_TOKEN")){uN.debug("start renew token with ticket from unilbs"),DN("debug",this,"renewToken","unilbs");const t=await kK(this._joinInfo,this._axiosCancelSource.token,this._config.httpRetryConfig||tN);uN.debug("[".concat(this._clientId,"] get ticket from unilbs success")),DN("debug",this,"renewToken","unilbs","success"),await this._gateway.renewToken({token:e,ticket:t})}else uN.debug("start renew token without ticket"),DN("debug",this,"renewToken"),await this._gateway.renewToken({token:e});uN.debug("[".concat(this._clientId,"] renewToken success")),DN("debug",this,"renewToken",void 0,"success"),t.onSuccess()}catch(e){throw this._key=n,this._joinInfo.token=n,t.onError(e),uN.error("[".concat(this._clientId,"] renewToken failed"),e.toString()),DN("error",this,"renewToken",void 0,e.toString()),e}finally{r()}}enableAudioVolumeIndicator(){const e=yV.reportApiInvoke(this._sessionId,{name:vP.ENABLE_AUDIO_VOLUME_INDICATOR,options:[],tag:yP.TRACER});if(this._audioVolumeIndicationInterval)return uN.warning("you have already enabled audio volume indicator!"),DN("warning",this,"enableAudioVolumeIndicator","you have already enabled audio volume indicator!"),e.onSuccess();this._audioVolumeIndicationInterval=window.setInterval((()=>{const e=this._p2pChannel.getAudioLevels();this.emit(OP.VOLUME_INDICATOR,e)}),KN("AUDIO_VOLUME_INDICATION_INTERVAL")||2e3),e.onSuccess()}getRTCStats(){const e=this._statsCollector.getRTCStats(),t=this._gateway.getInChannelInfo();return e.Duration=Math.round(t.duration/1e3),e}startLiveStreaming(e,t){const n=yV.reportApiInvoke(this._sessionId,{name:vP.START_LIVE_STREAMING,options:[e,t],tag:yP.TRACER});if(!t){if("h264"!==this._codec){const e=new eN($k.LIVE_STREAMING_INVALID_RAW_STREAM,"raw streaming is only support h264");return n.onError(e),LC.reject(e)}if(!this._p2pChannel.hasLocalMedia()){const e=new eN($k.LIVE_STREAMING_INVALID_RAW_STREAM,"can not find stream to raw streaming");return n.onError(e),LC.reject(e)}}if(this._liveRawStreamingClient&&this._liveRawStreamingClient.hasUrl(e)||this._liveTranscodeStreamingClient&&this._liveTranscodeStreamingClient.hasUrl(e)){const e=new eN($k.LIVE_STREAMING_TASK_CONFLICT);return n.onError(e),LC.reject(e)}const r=t?YP.TRANSCODE:YP.RAW;return this._createLiveStreamingClient(r).startLiveStreamingTask(e,r).then((()=>n.onSuccess())).catch((e=>{throw n.onError(e),e}))}setLiveTranscoding(e){const t=yV.reportApiInvoke(this._sessionId,{name:vP.SET_LIVE_TRANSCODING,options:[e],tag:yP.TRACER});return this._createLiveStreamingClient(YP.TRANSCODE).setTranscodingConfig(e).then((()=>t.onSuccess())).catch((e=>{throw t.onError(e),e}))}stopLiveStreaming(e){const t=yV.reportApiInvoke(this._sessionId,{name:vP.STOP_LIVE_STREAMING,options:[e],tag:yP.TRACER}),n=[this._liveRawStreamingClient,this._liveTranscodeStreamingClient].filter((t=>t&&t.hasUrl(e)));if(!n.length){const e=new eN($k.INVALID_PARAMS,"can not find live streaming url to stop");return t.onError(e),LC.reject(e)}return LC.all(n.map((t=>t&&t.stopLiveStreamingTask(e)))).then((()=>t.onSuccess())).catch((e=>{throw t.onError(e),e}))}async addInjectStreamUrl(e,t){const n=yV.reportApiInvoke(this._sessionId,{name:vP.ADD_INJECT_STREAM_URL,options:[e,t],tag:yP.TRACER});try{if(!this._joinInfo)throw new eN($k.INVALID_OPERATION,"can not addInjectStreamUrl, no joininfo");const n=this._createLiveStreamingClient(YP.INJECT);n.setInjectStreamConfig(t,0),await n.startLiveStreamingTask(e,YP.INJECT)}catch(e){throw n.onError(e),e}n.onSuccess()}async removeInjectStreamUrl(){const e=yV.reportApiInvoke(this._sessionId,{name:vP.REMOVE_INJECT_STREAM_URL,options:[],tag:yP.TRACER});try{var t;const e=this._createLiveStreamingClient(YP.INJECT),n=Array.from(qQ(t=e.streamingTasks).call(t)).find((e=>e.mode===YP.INJECT));if(!this._joinInfo||!n)throw new eN($k.INVALID_OPERATION,"can remove addInjectStreamUrl, no joininfo or inject task");await e.stopLiveStreamingTask(n.url)}catch(t){throw e.onError(t),t}e.onSuccess()}async startChannelMediaRelay(e){const t=yV.reportApiInvoke(this._sessionId,{name:vP.START_CHANNEL_MEDIA_RELAY,options:[e],tag:yP.TRACER});try{QK(e);const t=this._createChannelMediaRelayClient();await t.startChannelMediaRelay(e)}catch(e){return t.onError(e),e.throw()}t.onSuccess()}async updateChannelMediaRelay(e){const t=yV.reportApiInvoke(this._sessionId,{name:vP.UPDATE_CHANNEL_MEDIA_RELAY,options:[e],tag:yP.TRACER});try{QK(e);const t=this._createChannelMediaRelayClient();await t.updateChannelMediaRelay(e)}catch(e){return t.onError(e),e.throw()}t.onSuccess()}async stopChannelMediaRelay(){const e=yV.reportApiInvoke(this._sessionId,{name:vP.STOP_CHANNEL_MEDIA_RELAY,options:[],tag:yP.TRACER});try{const e=this._createChannelMediaRelayClient();await e.stopChannelMediaRelay()}catch(t){return e.onError(t),t.throw()}e.onSuccess()}sendStreamMessage(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this._joinInfo)throw new eN($k.INVALID_OPERATION,"can not send data stream, not joined");if("string"==typeof e&&(e=(new TextEncoder).encode(e)),new Blob([e]).size>1024)throw new eN($k.INVALID_PARAMS,"stream message out of range.");return this._gateway.signal.request(PP.DATA_STREAM,{payload:VG(e)},!t)}sendMetadata(e){if(!this._joinInfo)throw new eN($k.INVALID_OPERATION,"can not send metadata, not joined");if(new Blob([e]).size>1024)throw new eN($k.METADATA_OUT_OF_RANGE);return this._gateway.signal.request(PP.SEND_METADATA,{session_id:this._joinInfo.sid,metadata:VG(e)})}async sendCustomReportMessage(e){Array.isArray(e)||(e=[e]),e.forEach(hP);const t=yV.reportApiInvoke(this._sessionId,{name:vP.SEND_CUSTOM_REPORT_MESSAGE,options:[JSON.stringify(e)],tag:yP.TRACER});if(!this._joinInfo){const e=new eN($k.INVALID_OPERATION,"can not send custom report, not joined");return t.onError(e),e.throw()}await yV.sendCustomReportMessage(this._joinInfo.sid,e),t.onSuccess()}getLocalAudioStats(){return this._statsCollector.getLocalAudioTrackStats()}getRemoteAudioStats(){return this._statsCollector.getRemoteAudioTrackStats()}getLocalVideoStats(){return this._statsCollector.getLocalVideoTrackStats()}getRemoteVideoStats(){return this._statsCollector.getRemoteVideoTrackStats()}getRemoteNetworkQuality(){return this._statsCollector.getRemoteNetworkQualityStats()}async pickSVCLayer(e,t){ZD(t.spatialLayer,"spatialLayer",[0,1,2,3]),ZD(t.temporalLayer,"temporalLayer",[0,1,2,3]);try{await this._gateway.pickSVCLayer(e,t)}catch(e){throw uN.error("[".concat(this._clientId,"] pick SVC layer failed"),e.toString()),kN("error",this,"pickSVCLayer",t,e.toString()),e}}_reset(){if(uN.debug("[".concat(this._clientId,"] reset client")),kN("debug",this,"_reset"),this._axiosCancelSource.cancel(),this._axiosCancelSource=Yk.CancelToken.source(),this._streamFallbackTypeCacheMap=new Map,this._remoteStreamTypeCacheMap=new Map,this._configDistribute.stopGetConfigDistribute(),this._joinInfo=void 0,this._proxyServer=void 0,this._defaultStreamFallbackType=void 0,this._sessionId=null,this.store.sessionId=null,this._statsCollector.reset(),this._key=void 0,this._appId=void 0,this._uid=void 0,this.store.uid=void 0,this._channelName=void 0,this._encryptionMode="none",this._encryptionSecret=null,this._encryptionSalt=null,this._users.forEach((e=>{e._audioTrack&&e._audioTrack._destroy(),e._videoTrack&&e._videoTrack._destroy()})),this._users=[],this._audioVolumeIndicationInterval&&(window.clearInterval(this._audioVolumeIndicationInterval),this._audioVolumeIndicationInterval=void 0),"fallback"===this._cloudProxyServerMode&&(this._cloudProxyServerMode="disabled",this.store.cloudProxyServerMode="disabled"),this._p2pChannel.reset(),this._publishMutex=new SV("client-publish"),this._subscribeMutex=new SV("client-subscribe"),this._networkQualityInterval&&(window.clearInterval(this._networkQualityInterval),this._networkQualityInterval=void 0),this._injectStreamingClient&&(this._injectStreamingClient.terminate(),this._injectStreamingClient.removeAllListeners(),this._injectStreamingClient=void 0),this._liveRawStreamingClient&&(this._liveRawStreamingClient.terminate(),this._liveRawStreamingClient.removeAllListeners(),this._liveRawStreamingClient=void 0),this._liveTranscodeStreamingClient&&(this._liveTranscodeStreamingClient.terminate(),this._liveTranscodeStreamingClient.removeAllListeners(),this._liveTranscodeStreamingClient=void 0),this._channelMediaRelayClient&&(this._channelMediaRelayClient.dispose(),this._channelMediaRelayClient=void 0),this._inspect)try{this._inspect.close(),this._inspect=void 0}catch(e){}}_startSession(e,t){const n=e||wG();e?uN.debug("[".concat(this._clientId,"] new Session ").concat(n)):uN.debug("[".concat(this._clientId,"] renewSession ").concat(this._sessionId," => ").concat(n)),kN("debug",this,"_startSession",{newSid:n,sid:this._sessionId}),this._sessionId=n,this.store.sessionId=n,t?yV.sessionInit(this._sessionId,{lts:(new Date).getTime(),cname:t.channel,appid:t.appId,mode:this._mode}):this._joinInfo?yV.sessionInit(this._sessionId,{lts:(new Date).getTime(),cname:this._joinInfo.cname,appid:this._joinInfo.appId,mode:this._mode}):this._gateway.joinInfo&&yV.sessionInit(this._sessionId,{lts:(new Date).getTime(),cname:this._gateway.joinInfo.cname,appid:this._gateway.joinInfo.appId,mode:this._mode}),this._joinInfo&&(this._joinInfo.sid=n),this._gateway.joinInfo&&(this._gateway.joinInfo.sid=n)}async _publishHighStream(e){if(!this._joinInfo||void 0===this._uid)throw new eN($k.INVALID_OPERATION,"Can't publish stream, haven't joined yet!");if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState)throw new eN($k.INVALID_OPERATION,"can not publish stream in ".concat(this.connectionState," state"));if("auto"===this._turnServer.mode&&KN("FORCE_TURN")&&!KN("TURN_ENABLE_TCP")&&!KN("TURN_ENABLE_UDP"))throw new eN($k.UNEXPECTED_ERROR,"force TURN With No TURN Configuration");uN.debug("[".concat(this._clientId,"] publish high stream")),kN("debug",this,"_publishHighStream");try{const n=await this._p2pChannel.publish(e,this._isDualStreamEnabled,this._lowStreamParameter),r=(await n.next()).value;if(r){var t;let i;try{i=await this._gateway.publish(this._uid,r,!0)}catch(e){if(e.code!==$k.DISCONNECT_P2P)throw n.throw(e),e}await n.next((null===(t=i)||void 0===t?void 0:t.ortc)||[])}this._p2pChannel.reportPublishEvent(!0,null);for(const t of e)t instanceof XY&&t._encoderConfig&&this._gateway.setVideoProfile(t._encoderConfig),!t.muted&&t.enabled||await this._p2pChannel.muteLocalTrack(t)}catch(t){if(this._p2pChannel.reportPublishEvent(!1,null==t?void 0:t.code,e),(null==t?void 0:t.code)===$k.WS_ABORT)return;throw t}}async _publishLowStream(){if(!this._joinInfo||void 0===this._uid)throw new eN($k.INVALID_OPERATION,"Can't publish stream, haven't joined yet!");if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState)throw new eN($k.INVALID_OPERATION,"can not publish stream in ".concat(this.connectionState," state"));uN.debug("[".concat(this._clientId,"] publish low stream")),kN("debug",this,"_publishLowStream");const e=this._configDistribute.getLowStreamConfigDistribute();e&&e.bitrate&&(this._lowStreamParameter||(this._lowStreamParameter={width:160,height:120,framerate:15,bitrate:50}),this._lowStreamParameter&&this._lowStreamParameter.bitrate&&e.bitrate<this._lowStreamParameter.bitrate&&(this._lowStreamParameter.bitrate=e.bitrate));try{const e=await this._p2pChannel.publishLowStream(this._lowStreamParameter),n=(await e.next()).value;if(n){var t;let r;try{r=await this._gateway.publish(this._uid,n,!0)}catch(t){if(t.code!==$k.DISCONNECT_P2P)throw e.throw(t),t}e.next((null===(t=r)||void 0===t?void 0:t.ortc)||[]),this._p2pChannel.reportPublishEvent(!0,null,void 0,!0)}}catch(e){if(this._p2pChannel.reportPublishEvent(!1,null==e?void 0:e.code,void 0,!0),(null==e?void 0:e.code)===$k.WS_ABORT)return;throw e}}_createLiveStreamingClient(e){if(!this._joinInfo||!this._appId)return new eN($k.INVALID_OPERATION,"can not create live streaming client, please join channel first").throw();const t=()=>new jK(this._joinInfo,this._config.websocketRetryConfig||tN,this._config.httpRetryConfig||tN),n=e=>{e.onLiveStreamError=(e,t)=>{yV.reportApiInvoke(this._sessionId,{name:vP.ON_LIVE_STREAM_ERROR,options:[e,t],tag:yP.TRACER}).onSuccess(),this.emit(OP.LIVE_STREAMING_ERROR,e,t)},e.onLiveStreamWarning=(e,t)=>{yV.reportApiInvoke(this._sessionId,{name:vP.ON_LIVE_STREAM_WARNING,options:[e,t],tag:yP.TRACER}).onSuccess(),this.emit(OP.LIVE_STREAMING_WARNING,e,t)},e.on(rx.REQUEST_WORKER_MANAGER_LIST,((e,t,n)=>{if(!this._joinInfo)return n(new eN($k.INVALID_OPERATION,"can not find join info to get worker manager"));OK(e,this._joinInfo,this._axiosCancelSource.token,tN).then(t).catch(n)}))};switch(e){case YP.RAW:return this._liveRawStreamingClient||(this._liveRawStreamingClient=t(),n(this._liveRawStreamingClient)),this._liveRawStreamingClient;case YP.TRANSCODE:return this._liveTranscodeStreamingClient||(this._liveTranscodeStreamingClient=t(),n(this._liveTranscodeStreamingClient)),this._liveTranscodeStreamingClient;case YP.INJECT:return this._injectStreamingClient||(this._injectStreamingClient=t(),this._injectStreamingClient.on(rx.REQUEST_WORKER_MANAGER_LIST,((e,t,n)=>{if(!this._joinInfo)return n(new eN($k.INVALID_OPERATION,"can not find join info to get worker manager"));OK(e,this._joinInfo,this._axiosCancelSource.token,tN).then(t).catch(n)})),this._injectStreamingClient.onInjectStatusChange=(e,t,n)=>{this.emit(OP.INJECT_STREAM_STATUS,e,t,n)}),this._injectStreamingClient}}_createChannelMediaRelayClient(){return this._joinInfo?(this._channelMediaRelayClient||(this._channelMediaRelayClient=new qK(this._joinInfo,this._clientId,this._config.websocketRetryConfig||tN,this._config.httpRetryConfig||tN),this._channelMediaRelayClient.on("state",(e=>{e===cx.RELAY_STATE_FAILURE&&this._channelMediaRelayClient&&this._channelMediaRelayClient.dispose(),this.emit(OP.CHANNEL_MEDIA_RELAY_STATE,e)})),this._channelMediaRelayClient.on("event",(e=>{this.emit(OP.CHANNEL_MEDIA_RELAY_EVENT,e)}))),this._channelMediaRelayClient):new eN($k.INVALID_OPERATION,"can not create channel media relay client, please join channel first").throw()}_handleGatewayEvents(){this._gateway.on(dx.DISCONNECT_P2P,(async()=>{await this._p2pChannel.disconnectForReconnect()})),this._gateway.on(dx.CONNECTION_STATE_CHANGE,((e,t,n)=>{var r;if(n===TP.FALLBACK)return;const i=()=>{this.emit(OP.CONNECTION_STATE_CHANGE,e,t,n)};if(yV.reportApiInvoke(this._sessionId||(null===(r=this._gateway.joinInfo)||void 0===r?void 0:r.sid)||null,{name:vP.CONNECTION_STATE_CHANGE,options:[e,t,n],tag:yP.TRACER}).onSuccess(JSON.stringify({cur:e,prev:t,reason:n})),uN.info("[".concat(this._clientId,"] connection state change: ").concat(t," -> ").concat(e)),RN("info",this,"connection-state-change","".concat(t," -> ").concat(e)),"DISCONNECTED"===e)return this._reset(),void i();if("RECONNECTING"===e)this._users.forEach((e=>{e._trust_in_room_=!1,e._trust_audio_enabled_state_=!1,e._trust_video_enabled_state_=!1,e._trust_audio_mute_state_=!1,e._trust_video_mute_state_=!1,e._trust_audio_stream_added_state_=!1,e._trust_video_stream_added_state_=!1,e._audioSSRC=void 0,e._videoSSRC=void 0,e._videoOrtc=void 0,e._audioOrtc=void 0,e._cname=void 0,e._rtxSsrcId=void 0})),this._userOfflineTimeout&&window.clearTimeout(this._userOfflineTimeout),this._streamRemovedTimeout&&window.clearTimeout(this._streamRemovedTimeout),this._userOfflineTimeout=void 0,this._streamRemovedTimeout=void 0;else if("CONNECTED"===e){var o;this._streamFallbackTypeCacheMap.forEach(((e,t)=>{this._gateway.setStreamFallbackOption(t,e).catch((e=>{uN.warning("[".concat(this._clientId,"] auto set stream fallback option failed"),e),wN("warning",this,"auto set stream fallback option failed, ".concat(e.toString()))}))})),this._remoteStreamTypeCacheMap.forEach(((e,t)=>{this._gateway.setRemoteVideoStreamType(t,e).catch((e=>{uN.warning("[".concat(this._clientId,"] auto set remote stream type failed"),e),wN("warning",this,"auto set remote stream type failed, ".concat(e.toString()))}))})),void 0!==this._remoteDefaultVideoStreamType&&void 0===(null===(o=this._joinInfo)||void 0===o?void 0:o.defaultVideoStream)&&this.setRemoteDefaultVideoStreamType(this._remoteDefaultVideoStreamType).then((()=>{uN.debug("[".concat(this._clientId,"] setRemoteDefaultVideoStreamType after gateway connected"))})).catch((e=>{uN.error("[".concat(this._clientId,"] setRemoteDefaultVideoStreamType after gateway failed, ").concat(e))})),this._p2pChannel.republish(),this._userOfflineTimeout=window.setTimeout((()=>{"CONNECTED"===this.connectionState&&(this._userOfflineTimeout=void 0,this._users.filter((e=>!e._trust_in_room_)).forEach((e=>{uN.debug("[".concat(this._clientId,"] user offline timeout, emit user offline ").concat(e.uid)),wN("debug",this,"user offline timeout, emit user offline ".concat(e.uid)),this._handleUserOffline({uid:e.uid})})))}),3e3),this._streamRemovedTimeout=window.setTimeout((()=>{"CONNECTED"===this.connectionState&&(this._streamRemovedTimeout=void 0,this._users.forEach((e=>{e._trust_audio_mute_state_||(uN.debug("[".concat(this._clientId,"] auto dispatch audio unmute event ").concat(e.uid)),wN("debug",this,"auto dispatch audio unmute event ".concat(e.uid)),this._handleMuteStream(e.uid,"audio",!1)),e._trust_video_mute_state_||(uN.debug("[".concat(this._clientId,"] auto dispatch video unmute event ").concat(e.uid)),wN("debug",this,"auto dispatch video unmute event ".concat(e.uid)),this._handleMuteStream(e.uid,"video",!1)),e._trust_audio_enabled_state_||(uN.debug("[".concat(this._clientId,"] auto dispatch enable local audio ").concat(e.uid)),wN("debug",this,"auto dispatch enable local audio ".concat(e.uid)),this._handleSetStreamLocalEnable("audio",e.uid,!0)),e._trust_video_enabled_state_||(uN.debug("[".concat(this._clientId,"] auto dispatch enable local video ").concat(e.uid)),wN("debug",this,"auto dispatch enable local video ".concat(e.uid)),this._handleSetStreamLocalEnable("video",e.uid,!0)),e._trust_video_stream_added_state_||(uN.debug("[".concat(this._clientId,"] auto dispatch reset video stream added ").concat(e.uid)),this._handleResetAddStream(e,"video")),e._trust_audio_stream_added_state_||(uN.debug("[".concat(this._clientId,"] auto dispatch reset audio stream added ").concat(e.uid)),this._handleResetAddStream(e,"audio")),e._video_added_||e._audio_added_||(uN.debug("[".concat(this._clientId,"] auto dispatch stream remove ").concat(e.uid)),wN("debug",this,"auto dispatch stream remove ".concat(e.uid)),this._handleRemoveStream({uid:e.uid,uint_id:e._uintid}))})))}),1e3)}i()})),this._gateway.on(dx.REQUEST_NEW_GATEWAY_LIST,((e,t)=>{if(!this._joinInfo)return t(new eN($k.UNEXPECTED_ERROR,"can not recover, no join info"));IK(this._joinInfo,this._axiosCancelSource.token,this._config.httpRetryConfig||tN,this.store).then((t=>{this._joinInfo&&(this._joinInfo.apResponse=t.gatewayInfo.res,this._joinInfo.gatewayAddrs=t.gatewayInfo.gatewayAddrs,this._joinInfo.uni_lbs_ip=t.gatewayInfo.uni_lbs_ip),e(t.gatewayInfo.gatewayAddrs.map((e=>{if(this._joinInfo&&this._joinInfo.proxyServer){const t=e.address.split(":");return"wss://".concat(this._joinInfo.proxyServer,"/ws/?h=").concat(t[0],"&p=").concat(t[1])}return"wss://".concat(e.address)})))})).catch(t)})),this._gateway.on(dx.NETWORK_QUALITY,(e=>{"normal"===this._networkQualitySensitivity&&this.emit(OP.NETWORK_QUALITY,e)})),this._gateway.on(dx.STREAM_TYPE_CHANGE,((e,t)=>{this.emit(OP.STREAM_TYPE_CHANGED,e,t),yV.reportApiInvoke(this._sessionId,{name:vP.STREAM_TYPE_CHANGE,options:[e,t],tag:yP.TRACER}).onSuccess(JSON.stringify({uid:e,streamType:t}))})),this._gateway.on(dx.IS_P2P_DISCONNECTED,(e=>{this._p2pChannel.isP2PDisconnected()?e(!0):this._p2pChannel.hasLocalMedia()||this._p2pChannel.hasRemoteMedia()?e(!1):e(!0)})),this._gateway.on(dx.NEED_RENEW_SESSION,(()=>{this._startSession()})),this._gateway.on(dx.REQUEST_P2P_CONNECTION_PARAMS,(async(e,t,n)=>{try{t(await this._p2pChannel.startP2PConnection(e))}catch(e){n(e)}})),this._gateway.on(dx.JOIN_RESPONSE,((e,t)=>{const{dtlsParameters:n,iceParameters:r,candidates:i,rtpCapabilities:o,setup:a,cname:s}=MX(e.ortc,t);this._p2pChannel.connect(r,n,i,o,a,s)})),this._gateway.signal.on(LP.ON_USER_ONLINE,this._handleUserOnline),this._gateway.signal.on(LP.ON_USER_OFFLINE,this._handleUserOffline),this._gateway.signal.on(LP.ON_ADD_AUDIO_STREAM,(e=>this._handleAddAudioOrVideoStream("audio",e.uid,e.ssrcId,e.cname,e.uint_id,e.ortc))),this._gateway.signal.on(LP.ON_ADD_VIDEO_STREAM,(e=>this._handleAddAudioOrVideoStream("video",e.uid,e.ssrcId,e.cname,e.uint_id,e.ortc,e.rtxSsrcId))),this._gateway.signal.on(LP.ON_REMOVE_STREAM,this._handleRemoveStream),this._gateway.signal.on(LP.ON_P2P_LOST,this._handleP2PLost),this._gateway.signal.on(LP.MUTE_AUDIO,(e=>(RN("debug",["AgoraRTCGateway",this._clientId],"mute_audio",{uid:e.uid}),this._handleMuteStream(e.uid,"audio",!0)))),this._gateway.signal.on(LP.UNMUTE_AUDIO,(e=>(RN("debug",["AgoraRTCGateway",this._clientId],"unmute_audio",{uid:e.uid}),this._handleMuteStream(e.uid,"audio",!1)))),this._gateway.signal.on(LP.MUTE_VIDEO,(e=>(RN("debug",["AgoraRTCGateway",this._clientId],"mute_video",{uid:e.uid}),this._handleMuteStream(e.uid,"video",!0)))),this._gateway.signal.on(LP.UNMUTE_VIDEO,(e=>(RN("debug",["AgoraRTCGateway",this._clientId],"unmute_video",{uid:e.uid}),this._handleMuteStream(e.uid,"video",!1)))),this._gateway.signal.on(LP.RECEIVE_METADATA,(e=>{const t=jG(e.metadata);this.emit(OP.RECEIVE_METADATA,e.uid,t)})),this._gateway.signal.on(LP.ON_DATA_STREAM,(e=>{e.seq&&delete e.seq,e.payload=jG(e.payload),this.emit(OP.STREAM_MESSAGE,e.uid,e.payload),this.onStreamMessage&&this.onStreamMessage(e)})),this._gateway.signal.on(LP.ON_CRYPT_ERROR,(()=>{UG((()=>{uN.warning("[".concat(this._clientId,"] on crypt error")),RN("warning",this,"crypt_error"),this.emit(OP.CRYPT_ERROR)}),this._sessionId)})),this._gateway.signal.on(LP.ON_TOKEN_PRIVILEGE_WILL_EXPIRE,this._handleTokenWillExpire),this._gateway.signal.on(LP.ON_TOKEN_PRIVILEGE_DID_EXPIRE,(()=>{uN.warning("[".concat(this._clientId,"] received message onTokenPrivilegeDidExpire, please get new token and join again")),RN("warning",this,"token_privilege_did_expire"),this._gateway.leave(!0),this.emit(OP.ON_TOKEN_PRIVILEGE_DID_EXPIRE),this._reset()})),this._gateway.signal.on(LP.ON_STREAM_FALLBACK_UPDATE,(e=>{uN.debug("[".concat(this._clientId,"] stream fallback peerId: ").concat(e.stream_id,", attr: ").concat(e.stream_type)),RN("debug",this,"stream_fallback_update",{peerId:e.stream_id,attr:e.stream_type}),this.emit(OP.STREAM_FALLBACK,e.stream_id,1===e.stream_type?"fallback":"recover")})),this._gateway.signal.on(LP.ON_PUBLISH_STREAM,(e=>{this.uid===this._uid&&(this._p2pChannel.reportPublishEvent(!0,null,void 0,!1,JSON.stringify({proxy:e.proxy})),uN.info("[".concat(this._clientId,"] on publish stream, ").concat(JSON.stringify(e))),RN("info",this,"publish_stream",e))})),this._gateway.signal.on(LP.ENABLE_LOCAL_VIDEO,(e=>{this._handleSetStreamLocalEnable("video",e.uid,!0)})),this._gateway.signal.on(LP.DISABLE_LOCAL_VIDEO,(e=>{this._handleSetStreamLocalEnable("video",e.uid,!1)})),this._gateway.signal.on(DP.REQUEST_TIMEOUT,((e,t)=>{if(this._joinInfo)switch(e){case PP.PUBLISH:{if(!t)return;const e=t.ortc;if(e){var n,r,i,o;const a=e.some((e=>{let{stream_type:t}=e;return t===lx.Audio})),s=e.some((e=>{let{stream_type:t}=e;return t!==lx.Audio})),c=e.some((e=>{let{stream_type:t}=e;return t===lx.Screen||t===lx.ScreenLow}));"offer"===t.state&&yV.publish(this._joinInfo.sid,{eventElapse:rG.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:!1,ec:$k.TIMEOUT,audio:a,video:s,p2pid:t.p2p_id,publishRequestid:this.store.pubId,screenshare:c,audioName:a?null===(n=e.find((e=>{let{stream_type:t}=e;return t===lx.Audio})))||void 0===n||null===(r=n.ssrcs[0])||void 0===r?void 0:r.ssrcId.toString():void 0,videoName:s?null===(i=e.find((e=>{let{stream_type:t}=e;return t!==lx.Audio})))||void 0===i||null===(o=i.ssrcs[0])||void 0===o?void 0:o.ssrcId.toString():void 0})}break}case PP.SUBSCRIBE:t&&yV.subscribe(this._joinInfo.sid,{succ:!1,ec:$k.TIMEOUT,audio:t.stream_type===Rx.AUDIO,video:t.stream_type===Rx.VIDEO,peerid:t.stream_id,subscribeRequestid:t.ssrcId,p2pid:this.store.p2pId,eventElapse:rG.measureFromSubscribeStart(this.store.clientId,t.ssrcId)})}})),this._gateway.signal.on(LP.ON_P2P_OK,(e=>{this.uid,this._uid})),this._gateway.signal.on(LP.ON_PUBLISHED_USER_LIST,(e=>{if(null==e||!e.users)return;const t=[],n=[];for(const r of e.users){let e=this._users.find((e=>e.uid===r.stream_id));e?e._trust_in_room_=!0:(e=new eJ(r.stream_id,r.stream_id),this._users.push(e),0===this.getListeners(OP.PUBLISHED_USER_LIST).length&&(uN.debug("[".concat(this._clientId,"] user online"),r.stream_id),TN("info",this,"user-joined",{uid:r.stream_id}),this.emit(OP.USER_JOINED,e)));const i=hx.Audio&r.stream_type,o=(hx.Video|hx.LwoVideo)&r.stream_type,a=i&&e.hasAudio,s=o&&e.hasVideo;o&&(e._trust_video_stream_added_state_=!0,e._video_added_=!0,e._videoSSRC=r.video_ssrc),i&&(e._trust_audio_stream_added_state_=!0,e._audio_added_=!0,e._audioSSRC=r.audio_ssrc),i&&!a&&0===this.getListeners(OP.PUBLISHED_USER_LIST).length&&(uN.info("[".concat(this._clientId,"] remote user ").concat(e.uid," published audio")),wN("info",this,"remote user ".concat(e.uid," published audio")),this.emit(OP.USER_PUBLISHED,e,"audio")),o&&!s&&0===this.getListeners(OP.PUBLISHED_USER_LIST).length&&(uN.info("[".concat(this._clientId,"] remote user ").concat(e.uid," published video")),wN("info",this,"remote user ".concat(e.uid," published video")),this.emit(OP.USER_PUBLISHED,e,"video")),(i&&!a||o&&!s)&&t.push(e),o&&this._p2pChannel.hasPendingRemoteMedia(e,"video")&&n.push({user:e,mediaType:"video"}),i&&this._p2pChannel.hasPendingRemoteMedia(e,"audio")&&n.push({user:e,mediaType:"audio"})}n.length>0&&(uN.debug("[".concat(this._clientId,"] RE massSubscribe after reconnect ").concat(n.map((e=>"user: ".concat(e.user.uid,", mediaType: ").concat(e.mediaType))).join("; ")," ")),this.massSubscribe(n).catch((e=>{uN.error("[".concat(this._clientId,"] mass resubscribe error"),e.toString())}))),this.getListeners(OP.PUBLISHED_USER_LIST).length>0?(uN.info("[".concat(this._clientId,"] client emit user-list event, users: ").concat(t.map((e=>e.uid)).join(", "))),this.emit(OP.PUBLISHED_USER_LIST,t)):uN.info("[".concat(this._clientId,"] client not emit user-list event case there is no user-list listener, users: ").concat(t.map((e=>e.uid)).join(", ")))}))}_handleP2PChannelEvents(){this._p2pChannel.on(kx.RequestMuteLocal,(async(e,t,n)=>{if(this._joinInfo)try{await this._gateway.muteLocal(e,this._joinInfo.stringUid||this._joinInfo.uid),t()}catch(e){e.code===$k.DISCONNECT_P2P?t():n(e)}else t()})),this._p2pChannel.on(kx.RequestUnmuteLocal,(async(e,t,n)=>{if(this._joinInfo)try{await this._gateway.unmuteLocal(e,this._joinInfo.stringUid||this._joinInfo.uid),t()}catch(e){e.code===$k.DISCONNECT_P2P?t():n(e)}else t()})),this._p2pChannel.on(kx.RequestRePublish,((e,t,n)=>{this.publish(e,!1).then(t).catch(n)})),this._p2pChannel.on(kx.RequestReSubscribe,(async(e,t,n)=>{try{for(const{user:t,kind:n}of e)n===Rx.VIDEO?await this.subscribe(t,"video"):await this.subscribe(t,"audio");t()}catch(e){n(e)}})),this._p2pChannel.on(kx.RequestUploadStats,((e,t)=>{this._gateway.uploadStats(e,t)})),this._p2pChannel.on(kx.MediaReconnectStart,(e=>{this.emit(OP.MEDIA_RECONNECT_START,e)})),this._p2pChannel.on(kx.MediaReconnectEnd,(e=>{this.emit(OP.MEDIA_RECONNECT_END,e)})),this._p2pChannel.on(kx.NeedSignalRTT,(e=>{e(this._gateway.getSignalRTT())})),this._p2pChannel.on(kx.RequestRestartICE,(async()=>{const e=await this._p2pChannel.reEstablish();if(e){const{restartICEResponse:t,gatewayAddress:n}=await this._gateway.restartICE({iceParameters:e.iceParameters}),{candidates:r,iceParameters:i}=function(e,t){const n=e.iceParameters;let r;return t&&t.ip&&"number"==typeof t.port?(r=[{foundation:"udpcandidate",componentId:"1",transport:"udp",priority:"2103266323",connectionAddress:t.ip,port:t.port.toString(),type:"host",extension:{}}],uN.debug("Using remote candidate from AP ".concat(t.ip,":").concat(t.port)),wN("debug",[],"Using remote candidate from AP ".concat(t.ip,":").concat(t.port)),t.ip6&&(r=[{foundation:"udpcandidate",componentId:"1",transport:"udp",priority:"2103266323",connectionAddress:t.ip6,port:t.port.toString(),type:"host",extension:{}}],uN.debug("Using remote candidate from AP ".concat(t.ip6,":").concat(t.port)),wN("debug",[],"Using remote candidate from AP ".concat(t.ip6,":").concat(t.port)))):r=n.candidates.map((e=>({foundation:e.foundation,componentId:"1",transport:e.protocol,priority:e.priority.toString(),connectionAddress:e.ip,port:e.port.toString(),type:e.type,extension:{}}))),{candidates:r,iceParameters:{iceUfrag:n.iceUfrag,icePwd:n.icePwd}}}(t,n);await e.restartICE(i,r)}})),this._p2pChannel.on(kx.RequestReconnect,(async()=>{this._gateway.reconnect()})),this._p2pChannel.on(kx.RequestReconnectPC,(async()=>{var e;const{iceParameters:t,dtlsParameters:n,rtpCapabilities:r}=await this._p2pChannel.startP2PConnection({turnServer:null===(e=this._joinInfo)||void 0===e?void 0:e.turnServer}),{gatewayEstablishParams:i,gatewayAddress:o}=await this._gateway.reconnectPC({iceParameters:t,dtlsParameters:n,rtpCapabilities:r}),{dtlsParameters:a,iceParameters:s,candidates:c,rtpCapabilities:u,setup:l,cname:d}=MX(i,o);await this._p2pChannel.connect(s,a,c,u,l,d),await this._p2pChannel.republish(),await this._p2pChannel.reSubscribe()})),this._p2pChannel.on(kx.RequestUnpublishForReconnectPC,(async(e,t,n)=>{this._joinInfo&&void 0!==this._uid?(await this._gateway.unpublish(e,this._uid),t()):n()})),this._p2pChannel.on(kx.P2PLost,(()=>{this.emit(OP.P2P_LOST,this.store.uid)})),this._p2pChannel.on(kx.UpdateVideoEncoder,(e=>{e._encoderConfig&&this._gateway.setVideoProfile(e._encoderConfig)})),this._p2pChannel.on(kx.ConnectionTypeChange,(e=>{this.emit(OP.IS_USING_CLOUD_PROXY,e)})),this._p2pChannel.on(kx.RequestLowStreamParameter,(e=>{e(this._lowStreamParameter||{width:160,height:120,framerate:15,bitrate:50})}))}getKeyMetrics(){return this.store.keyMetrics}async enableContentInspect(e){if("CONNECTED"!==this.connectionState||!this._joinInfo)throw new eN($k.INVALID_OPERATION,"[".concat(this._clientId,"] Client did not join channel"));if(this._inspect)throw new eN($k.INVALID_OPERATION,"[".concat(this._clientId,"] Inspect content service already in connecting/connected state"));if(!e)throw new eN($k.INVALID_PARAMS,"[".concat(this._clientId,"] inspectConfig is necessary"));if(!e.inspectType||!Array.isArray(e.inspectType))throw new eN($k.INVALID_PARAMS,"[".concat(this._clientId,"] inspectConfig.inspectType is necessary and is an instance of Array."));{const t=[...new Set(e.inspectType)];t.forEach((e=>{if(!["supervise","moderation"].includes(e))throw new eN($k.INVALID_PARAMS,"[".concat(this._clientId,"] ").concat(e," is not a valid inspect type."))})),e.inspectType=t}if(e&&e.extraInfo&&e.extraInfo.length>1024)throw new eN($k.INVALID_PARAMS,"[".concat(this._clientId,"] inspectConfig.extraInfo length cannot exceed 1024 bytes"));try{const t=new M0(e);this._inspect=t,this.handleVideoInspectEvents(this._inspect),await t.init({appId:this._joinInfo.appId,areaCode:"",cname:this._joinInfo.cname,sid:this._joinInfo.sid,token:this._joinInfo.token,uid:this._joinInfo.uid,cid:this._joinInfo.cid,vid:this._joinInfo.vid?Number(this._joinInfo.vid):0},tN)}catch(e){throw Array.isArray(e)?e[0]:e}}async disableContentInspect(){if(!this._inspect)throw new eN($k.INVALID_OPERATION,"[".concat(this._clientId,"] inspectVideoContent not started"));try{this._inspect.close(),this._inspect=void 0}catch(e){throw Array.isArray(e)?e[0]:e}}handleVideoInspectEvents(e){e.on(Ux.CONNECTION_STATE_CHANGE,((t,n)=>{if(this.emit(OP.CONTENT_INSPECT_CONNECTION_STATE_CHANGE,t,n),n===Bx.CONNECTED){if("CONNECTED"!==this.connectionState)return void this.emit(OP.CONTENT_INSPECT_ERROR,new eN($k.OPERATION_ABORTED,"Content inspect was cancelled because it left the channel"));e.inspectImage()}})),e.on(Ux.INSPECT_RESULT,((e,t)=>{var n;if((null==t?void 0:t.code)===$k.INVALID_OPERATION&&"DISCONNECTED"===this.connectionState)return uN.debug("Stop inspect content because that has left channel"),null==this||null===(n=this._inspect)||void 0===n||n.close(),void(this._inspect=void 0);this.emit(OP.CONTENT_INSPECT_RESULT,e,t)})),e.on(Ux.CLIENT_LOCAL_VIDEO_TRACK,(e=>{e(this.localTracks.filter((e=>"video"===e.trackMediaType))[0])}))}getJoinChannelServiceRecords(){return uN.debug("getJoinChannelServiceRecords"),this.store.joinChannelServiceRecords}async setPublishAudioFilterEnabled(e){JD(e,"enabled"),WN("ENABLE_PUBLISH_AUDIO_FILTER",e),this._joinInfo&&await this._gateway.setPublishAudioFilterEnabled(e)}_handleResetAddStream(e,t){switch(t){case"audio":e._audio_added_=!1,e._trust_audio_stream_added_state_=!0;break;case"video":e._video_added_=!1,e._trust_video_stream_added_state_=!0}}}).prototype,"setProxyServer",[F0],Object.getOwnPropertyDescriptor(Y0.prototype,"setProxyServer"),Y0.prototype),zj(Y0.prototype,"setTurnServer",[U0],Object.getOwnPropertyDescriptor(Y0.prototype,"setTurnServer"),Y0.prototype),zj(Y0.prototype,"setLicense",[j0],Object.getOwnPropertyDescriptor(Y0.prototype,"setLicense"),Y0.prototype),zj(Y0.prototype,"setLocalAccessPoints",[V0],Object.getOwnPropertyDescriptor(Y0.prototype,"setLocalAccessPoints"),Y0.prototype),zj(Y0.prototype,"setRemoteDefaultVideoStreamType",[Q0],Object.getOwnPropertyDescriptor(Y0.prototype,"setRemoteDefaultVideoStreamType"),Y0.prototype),zj(Y0.prototype,"pickSVCLayer",[G0],Object.getOwnPropertyDescriptor(Y0.prototype,"pickSVCLayer"),Y0.prototype),zj(Y0.prototype,"enableContentInspect",[q0],Object.getOwnPropertyDescriptor(Y0.prototype,"enableContentInspect"),Y0.prototype),zj(Y0.prototype,"disableContentInspect",[H0],Object.getOwnPropertyDescriptor(Y0.prototype,"disableContentInspect"),Y0.prototype),zj(Y0.prototype,"getJoinChannelServiceRecords",[z0],Object.getOwnPropertyDescriptor(Y0.prototype,"getJoinChannelServiceRecords"),Y0.prototype),zj(Y0.prototype,"setPublishAudioFilterEnabled",[W0],Object.getOwnPropertyDescriptor(Y0.prototype,"setPublishAudioFilterEnabled"),Y0.prototype),K0=Y0))||K0);class $0 extends QV{set currentState(e){e!==this._currentState&&(this._currentState=e,this.emit(BP.AUDIO_SOURCE_STATE_CHANGE,this._currentState))}get currentState(){return this._currentState}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),iO(this,"audioBuffer",void 0),iO(this,"sourceNode",void 0),iO(this,"startPlayTime",0),iO(this,"startPlayOffset",0),iO(this,"pausePlayTime",0),iO(this,"options",void 0),iO(this,"currentLoopCount",0),iO(this,"_currentState","stopped"),this.audioBuffer=e,this.options=t,this.startPlayOffset=this.options.startPlayTime||0}createWebAudioDiagram(){return this.context.createGain()}get duration(){return this.audioBuffer.duration}get currentTime(){return"stopped"===this.currentState?0:"paused"===this.currentState?this.pausePlayTime:(this.context.currentTime-this.startPlayTime+this.startPlayOffset)%this.audioBuffer.duration}updateOptions(e){"stopped"===this.currentState?(this.options=e,this.startPlayOffset=this.options.startPlayTime||0):uN.warning("can not set audio source options")}startProcessAudioBuffer(){this.sourceNode&&this.stopProcessAudioBuffer(),this.sourceNode=this.createSourceNode(),this.startSourceNode(),this.currentState="playing"}pauseProcessAudioBuffer(){this.sourceNode&&"playing"===this.currentState&&(this.pausePlayTime=this.currentTime,this.sourceNode.onended=null,this.sourceNode.stop(),this.sourceNode.buffer=null,this.sourceNode=this.createSourceNode(),this.currentState="paused")}seekAudioBuffer(e){this.sourceNode&&(this.sourceNode.onended=null,"playing"===this.currentState&&this.sourceNode.stop(),this.sourceNode=this.createSourceNode(),"playing"===this.currentState?(this.startPlayOffset=e,this.startSourceNode()):"paused"===this.currentState&&(this.pausePlayTime=e))}resumeProcessAudioBuffer(){"paused"===this.currentState&&this.sourceNode&&(this.startPlayOffset=this.pausePlayTime,this.pausePlayTime=0,this.startSourceNode(),this.currentState="playing")}stopProcessAudioBuffer(){if(this.sourceNode){this.sourceNode.onended=null;try{this.sourceNode.stop()}catch(e){}this.reset()}}startSourceNode(){this.sourceNode&&this.sourceNode.buffer&&(this.sourceNode.start(0,this.startPlayOffset),this.startPlayTime=this.context.currentTime,this.sourceNode.onended=this.handleSourceNodeEnded.bind(this))}createSourceNode(){const e=this.context.createBufferSource();return e.buffer=this.audioBuffer,e.loop=!!this.options.loop,e.connect(this.outputNode),e}handleSourceNodeEnded(){if(this.currentLoopCount+=1,this.options.cycle&&this.options.cycle>this.currentLoopCount)return this.startPlayOffset=0,this.sourceNode=void 0,void this.startProcessAudioBuffer();this.reset()}reset(){this.startPlayOffset=this.options.startPlayTime||0,this.currentState="stopped",this.sourceNode&&(this.sourceNode.disconnect(),this.sourceNode=void 0),this.currentLoopCount=0}}const e1=new Map;function t1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function n1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?t1(Object(n),!0).forEach((function(t){iO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t1(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r1(e,t,n,r){n.optimizationMode&&(r&&r.width&&r.height?(n.encoderConfig=n1(n1({},r),{},{bitrateMin:r.bitrateMin,bitrateMax:r.bitrateMax}),"motion"!==n.optimizationMode&&"detail"!==n.optimizationMode||(t.contentHint=n.optimizationMode,t.contentHint===n.optimizationMode?(uN.debug("[".concat(e,"] set content hint to"),n.optimizationMode),DN("debug",["AgoraRTC"],"videoTrackOptimizationModeProcess",[e,n,r])):(uN.debug("[".concat(e,"] set content hint failed")),DN("warning",["AgoraRTC"],"videoTrackOptimizationModeProcess",[e,n,r],"failed")))):(uN.warning("[".concat(e,"] can not apply optimization mode bitrate config, no encoderConfig")),wN("warning",["AgoraRTC"],"[".concat(e,"] can not apply optimization mode bitrate config, no encoderConfig"))))}const i1=OT().name;function o1(e,t,n,r){let i,o=0,a=null;return new LC(((s,c)=>{setTimeout((()=>{i&&(i(),s(o))}),t),i=FV((()=>{!function(){o>r&&i&&(i(),s(o));const t=n.getContext("2d");if(!t){const e=new eN($k.UNEXPECTED_ERROR,"can not get canvas 2d context.");return uN.error(e.toString()),void c(e)}t.drawImage(e,0,0,160,120);const u=t.getImageData(0,0,n.width,n.height),l=Math.floor(u.data.length/3);if(a){for(let e=0;e<l;e+=3)if(u.data[e]!==a[e])return o+=1,void(a=u.data);a=u.data}else a=u.data}()}),30)}))}class a1{constructor(e,t){iO(this,"id",0),iO(this,"element",void 0),iO(this,"peerPair",void 0),iO(this,"context",void 0),iO(this,"audioPlayerElement",void 0),iO(this,"audioTrack",void 0),a1.count+=1,this.id=a1.count,this.element=e,this.context=t}initPeers(){this.peerPair=[new RTCPeerConnection,new RTCPeerConnection],this.peerPair[1].ontrack=e=>{const t=document.createElement("audio");t.srcObject=new MediaStream([e.track]),t.play(),this.audioPlayerElement=t}}async switchSdp(){if(!this.peerPair)return;const e=async(e,t)=>{const n="offer"===t?await e.createOffer():await e.createAnswer();return await e.setLocalDescription(n),"complete"===e.iceGatheringState?e.localDescription:new LC((t=>{e.onicegatheringstatechange=()=>{"complete"===e.iceGatheringState&&t(e.localDescription)}}))},t=async(e,t)=>await e.setRemoteDescription(t);try{const n=await e(this.peerPair[0],"offer");await t(this.peerPair[1],n);const r=await e(this.peerPair[1],"answer");await t(this.peerPair[0],r)}catch(e){throw new eN($k.LOCAL_AEC_ERROR,e.toString()).print()}}async getTracksFromMediaElement(e){if(this.audioTrack)return this.audioTrack;let t;try{e instanceof HTMLVideoElement&&(e.captureStream?e.captureStream():e.mozCaptureStream()),t=this.context.createMediaStreamDestination(),this.context.createMediaElementSource(e).connect(t)}catch(e){throw new eN($k.LOCAL_AEC_ERROR,e.toString()).print()}if(!t)throw new eN($k.LOCAL_AEC_ERROR,"no dest node when local aec").print();const n=t.stream.getAudioTracks()[0];return this.audioTrack=n,n}getElement(){return this.element}async startEchoCancellation(){this.context.resume(),this.peerPair&&this.close(),this.initPeers();const e=this.element,t=await this.getTracksFromMediaElement(e);this.peerPair&&this.peerPair[0].addTrack(t),await this.switchSdp()}close(){uN.debug("close echo cancellation unit, id is",this.id),this.audioPlayerElement&&this.audioPlayerElement.pause(),this.peerPair&&this.peerPair.forEach((e=>{e.close()})),this.peerPair=void 0,this.audioPlayerElement=void 0}}var s1,c1;iO(a1,"count",0);const u1=window.AudioContext||window.webkitAudioContext,l1=new(s1=mV({report:yV}),zj((c1=class{constructor(){iO(this,"units",[]),iO(this,"context",void 0)}processExternalMediaAEC(e){if(!this._doesEnvironmentNeedAEC())return uN.debug("the system does not need to process local aec"),-1;this.context||(this.context=new u1);let t=this.units.find((t=>t&&t.getElement()===e));return t||(t=new a1(e,this.context),this.units.push(t)),t.startEchoCancellation(),uN.debug("start processing local audio echo cancellation, id is",t.id),t.id}_doesEnvironmentNeedAEC(){return OT().name!==ST.SAFARI}}).prototype,"processExternalMediaAEC",[s1],Object.getOwnPropertyDescriptor(c1.prototype,"processExternalMediaAEC"),c1.prototype),c1);WN("PROCESS_ID","process-".concat(SG(8,""),"-").concat(SG(4,""),"-").concat(SG(4,""),"-").concat(SG(4,""),"-").concat(SG(12,""))),function(){const e=OT();jx.getDisplayMedia=!(!navigator.mediaDevices||!navigator.mediaDevices.getDisplayMedia),jx.getStreamFromExtension=e.name===ST.CHROME&&Number(e.version)>34,jx.supportUnifiedPlan=function(){if(!window.RTCRtpTransceiver)return!1;if(!("currentDirection"in RTCRtpTransceiver.prototype))return!1;const e=new RTCPeerConnection;let t=!1;try{e.addTransceiver("audio"),t=!0}catch(e){}return e.close(),t}(),jx.supportMinBitrate=e.name===ST.CHROME||e.name===ST.EDGE,jx.supportSetRtpSenderParameters=function(){const e=OT();return!!(window.RTCRtpSender&&window.RTCRtpSender.prototype.setParameters&&window.RTCRtpSender.prototype.getParameters)&&(!!YT()||!(!MT()&&!xT())||e.name===ST.FIREFOX&&Number(e.version)>=64)}(),e.name===ST.SAFARI&&(Number(e.version)>=14?jx.supportDualStream=!0:jx.supportDualStream=!1),jx.webAudioMediaStreamDest=function(){const e=OT();return!(e.name===ST.SAFARI&&Number(e.version)<12)}(),jx.supportReplaceTrack=!!window.RTCRtpSender&&"function"==typeof RTCRtpSender.prototype.replaceTrack,jx.supportWebGL="undefined"!=typeof WebGLRenderingContext,jx.supportRequestFrame=!!window.CanvasCaptureMediaStreamTrack,YT()||(jx.webAudioWithAEC=!0),jx.supportShareAudio=function(){const e=OT();return(e.os===IT.WIN_10||e.os===IT.WIN_81||e.os===IT.WIN_7||e.os===IT.LINUX||e.os===IT.MAC_OS)&&e.name===ST.CHROME&&Number(e.version)>=74}(),jx.supportDualStreamEncoding=function(){const e=OT();return"Safari"===e.name&&Number(e.version)>=14||!!("Chrome"===e.name&&/Windows/i.test(e.os||"")&&Number(e.version)>=100&&KN("CHROME_DUAL_STREAM_USE_ENCODING"))}(),uN.info("browser compatibility",JSON.stringify(jx),JSON.stringify(e)),kN("info",[],"updateAgoraRTCCompatibility",{browserCompatibility:jx,browserInfo:e})}(),function(){let e;try{e=window.localStorage.getItem("websdk_ng_global_parameter")}catch(e){return void uN.error("Error loading sdk config",e.message)}if(e)try{const t=JSON.parse(window.atob(e)),n=Date.now();uN.debug("Loading global parameters from cache",t),kN("debug",[],"loadConfigFromLocalStorage",t),Object.keys(t).forEach((e=>{if(Object.prototype.hasOwnProperty.call(YN,e)){const{value:r,expires:i}=t[e];if(i&&i<=n)return;JN[e]=r,YN[e]=r}}))}catch(t){uN.error("Error loading mutableParamsCache: ".concat(e),t.message)}}();const d1={__CLIENT_LIST__:nD,__TRACK_LIST__:rD,VERSION:MN,BUILD:LN,setParameter:WN,getParameter:KN,getSupportedCodec:async function(){let e={audio:[],video:[]};try{let t=new RTCPeerConnection;t.addTransceiver("video",{direction:"recvonly"}),t.addTransceiver("audio",{direction:"recvonly"});const n=(await t.createOffer()).sdp;if(!n)return e;t.close(),t=null,e=function(e){const t={video:[],audio:[]};return e.match(/ VP8/i)&&t.video.push("VP8"),e.match(/ VP9/i)&&t.video.push("VP9"),e.match(/ AV1/i)&&t.video.push("AV1"),e.match(/ H264/i)&&t.video.push("H264"),e.match(/ opus/i)&&t.audio.push("OPUS"),e.match(/ PCMU/i)&&t.audio.push("PCMU"),e.match(/ PCMA/i)&&t.audio.push("PCMA"),e.match(/ G722/i)&&t.audio.push("G722"),t}(n)}catch(e){throw new eN($k.CREATE_OFFER_FAILED,e.toString&&e.toString()).print()}return e},checkSystemRequirements:function(){const e=yV.reportApiInvoke(null,{name:vP.CHECK_SYSTEM_REQUIREMENTS,options:[],tag:yP.TRACER});let t=!1;try{const e=window.RTCPeerConnection,n=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia,r=window.WebSocket;t=!!(e&&n&&r)}catch(e){return uN.error("check system requirement failed: ",e),!1}let n=!1;const r=OT();r.name===ST.CHROME&&Number(r.version)>=58&&(!("WebKit"===TT.engine.name)||function(){const e=OT();if(xT()){if(e.os===IT.MAC_OS)return!0;if(e.os===IT.IOS){const e=TT.os.version&&TT.os.version.split(".");if(e&&14===Number(e[0])&&e[1]&&Number(e[1])>=3)return!0;if(e&&Number(e[0])>14)return!0}}return!1}())&&(n=!0),r.name===ST.FIREFOX&&Number(r.version)>=56&&(n=!0),r.name===ST.OPERA&&Number(r.version)>=45&&(n=!0),r.name===ST.SAFARI&&Number(r.version)>=11&&(n=!0),(WT()||OT().name===ST.QQ)&&(n=!0),uN.debug("checkSystemRequirements, api:",t,"browser",n);const i=t&&n;return e.onSuccess(i),i},getDevices:function(e){return tQ.enumerateDevices(!0,!0,e)},getMicrophones:function(e){return tQ.getRecordingDevices(e)},getCameras:function(e){return tQ.getCamerasDevices(e)},getElectronScreenSources:HV,getPlaybackDevices:function(e){return tQ.getSpeakers(e)},createClient:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{codec:"vp8",audioCodec:"opus",mode:"rtc"};const t=yV.reportApiInvoke(null,{name:vP.CREATE_CLIENT,options:[e],tag:yP.TRACER});try{UP(e)}catch(e){throw t.onError(e),e}return void 0===e.audioCodec&&(e.audioCodec="opus"),t.onSuccess(),new X0(Z0(Z0({forceWaitGatewayResponse:!0},e),{},{role:"rtc"===e.mode?"host":e.role}))},createCameraVideoTrack:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{encoderConfig:"480p_1"};const t=yV.reportApiInvoke(null,{tag:yP.TRACER,name:vP.CREATE_CAM_VIDEO_TRACK,options:[n1({},e)]}),n=vY(e),r=SG(8,"track-cam-");let i=null;uN.info("start create camera video track with config",JSON.stringify(e),"trackId",r),DN("info",["AgoraRTC"],"createCameraVideoTrack",e);try{i=(await ZV({video:n},r)).getVideoTracks()[0]||null}catch(e){throw t.onError(e),e}if(!i){const e=new eN($k.UNEXPECTED_ERROR,"can not find track in media stream");return t.onError(e),e.throw()}e.optimizationMode&&r1(r,i,e,e.encoderConfig&&QN(e.encoderConfig));const o=new $Y(i,e,n,e.scalabiltyMode?qN(e.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},e.optimizationMode,r);return t.onSuccess(o.getTrackId()),uN.info("create camera video success, trackId:",r),DN("info",["AgoraRTC"],"createCameraVideoTrack",void 0,r),o},createCustomVideoTrack:function(e){const t=yV.reportApiInvoke(null,{tag:yP.TRACER,name:vP.CREATE_CUSTOM_VIDEO_TRACK,options:[e]}),n=new XY(e.mediaStreamTrack,{bitrateMax:e.bitrateMax,bitrateMin:e.bitrateMin},e.scalabiltyMode?qN(e.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},e.optimizationMode);return t.onSuccess(n.getTrackId()),uN.info("create custom video track success with config",e,"trackId",n.getTrackId()),DN("info",["AgoraRTC"],"createCustomVideoTrack",e,n.getTrackId()),n},createScreenVideoTrack:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"disable";const n=yV.reportApiInvoke(null,{tag:yP.TRACER,name:vP.CREATE_SCREEN_VIDEO_TRACK,options:[n1({},e),t]});e.encoderConfig?"string"==typeof e.encoderConfig||e.encoderConfig.width&&e.encoderConfig.height||(e.encoderConfig.width={max:1920},e.encoderConfig.height={max:1080}):e.encoderConfig="1080p_2";const r=yY(e),i=SG(8,"track-scr");let o=null,a=null;const s=Vx();if(!s.supportShareAudio&&"enable"===t){const e=new eN($k.NOT_SUPPORTED,"your browser or platform is not support share-screen with audio");return n.onError(e),e.throw()}uN.info("start create screen video track with config",e,"withAudio",t,"trackId",i),DN("info",["AgoraRTC"],"createScreenVideoTrack",[e,t]);try{const e=await ZV({screen:r,screenAudio:"auto"===t?s.supportShareAudio:"enable"===t},i);o=e.getVideoTracks()[0]||null,a=e.getAudioTracks()[0]||null}catch(e){throw n.onError(e),e}if(!o){const e=new eN($k.UNEXPECTED_ERROR,"can not find track in media stream");return n.onError(e),e.throw()}if(!a&&"enable"===t){o&&o.stop();const e=new eN($k.SHARE_AUDIO_NOT_ALLOWED);return n.onError(e),e.throw()}e.optimizationMode||(e.optimizationMode="detail"),e.optimizationMode&&(r1(i,o,e,e.encoderConfig&&GN(e.encoderConfig)),e.encoderConfig&&"string"!=typeof e.encoderConfig&&(e.encoderConfig.bitrateMin=e.encoderConfig.bitrateMax));const c=new XY(o,e.encoderConfig?GN(e.encoderConfig):{},e.scalabiltyMode?qN(e.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},e.optimizationMode,i,[fx.SCREEN_TRACK]);if(!a)return n.onSuccess(c.getTrackId()),uN.info("create screen video track success","video:",c.getTrackId()),DN("info",["AgoraRTC"],"createScreenVideoTrack",void 0,{videoTrack:c.getTrackId()}),c;const u=new ZQ(a);return n.onSuccess([c.getTrackId(),u.getTrackId()]),uN.info("create screen video track success","video:",c.getTrackId(),"audio:",u.getTrackId()),DN("info",["AgoraRTC"],"createScreenVideoTrack",void 0,{videoTrack:c.getTrackId(),audioTrack:u.getTrackId()}),[c,u]},createMicrophoneAndCameraTracks:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{encoderConfig:"480p_1"};const n=yV.reportApiInvoke(null,{tag:yP.TRACER,name:vP.CREATE_MIC_AND_CAM_TRACKS,options:[e,t]}),r=vY(t),i=EY(e),o=SG(8,"track-mic-"),a=SG(8,"track-cam-");let s=null,c=null;uN.info("start create camera video track(".concat(a,") and microphone audio track(").concat(o,") with config, audio: ").concat(JSON.stringify(e),", video: ").concat(JSON.stringify(t))),DN("info",["AgoraRTC"],"createMicrophoneAndCameraTracks",{videoConfig:t,audioConfig:e});try{const e=await ZV({audio:i,video:r},"".concat(o,"-").concat(a));s=e.getAudioTracks()[0],c=e.getVideoTracks()[0]}catch(e){throw n.onError(e),e}if(!s||!c){const e=new eN($k.UNEXPECTED_ERROR,"can not find tracks in media stream");return n.onError(e),e.throw()}t.optimizationMode&&r1(a,c,t,t.encoderConfig&&QN(t.encoderConfig));const u=new XQ(s,e,i,o),l=new $Y(c,t,r,t.scalabiltyMode?qN(t.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},t.optimizationMode,a);return n.onSuccess([u.getTrackId(),l.getTrackId()]),uN.info("create camera video track(".concat(a,") and microphone audio track(").concat(o,") success")),DN("info",["AgoraRTC"],"createMicrophoneAndCameraTracks",void 0,{videoTrackId:a,audioTrackId:o}),[u,l]},createMicrophoneAudioTrack:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=yV.reportApiInvoke(null,{tag:yP.TRACER,name:vP.CREATE_MIC_AUDIO_TRACK,options:[e]}),n=EY(e),r=SG(8,"track-mic-");let i=null;uN.info("start create microphone audio track with config",JSON.stringify(e),"trackId",r),DN("info",["AgoraRTC"],"createMicrophoneAudioTrack",e);try{i=(await ZV({audio:n},r)).getAudioTracks()[0]||null}catch(e){throw t.onError(e),e}if(!i){const e=new eN($k.UNEXPECTED_ERROR,"can not find track in media stream");return t.onError(e),e.throw()}const o=new XQ(i,e,n,r);return t.onSuccess(o.getTrackId()),uN.info("create microphone audio track success, trackId:",r),DN("info",["AgoraRTC"],"createMicrophoneAudioTrack",e,r),o},createCustomAudioTrack:function(e){const t=yV.reportApiInvoke(null,{tag:yP.TRACER,name:vP.CREATE_CUSTOM_AUDIO_TRACK,options:[e]}),n=new ZQ(e.mediaStreamTrack,e.encoderConfig?zN(e.encoderConfig):{});return uN.info("create custom audio track success with config",e,"trackId",n.getTrackId()),DN("info",["AgoraRTC"],"createCustomAudioTrack",e,n.getTrackId()),t.onSuccess(n.getTrackId()),n},createBufferSourceAudioTrack:async function(e){const t=yV.reportApiInvoke(null,{tag:yP.TRACER,name:vP.CREATE_BUFFER_AUDIO_TRACK,options:[e]}),n=SG(8,"track-buf-");uN.info("start create buffer source audio track with config",JSON.stringify(e),"trackId",n),DN("info",[],"createBufferSourceAudioTrack",e);const r=e.source;if(!(e.source instanceof AudioBuffer))try{e.source=await async function(e,t){let n=null;if("string"==typeof e){const t=e1.get(e);if(t)return uN.debug("use cached audio resource: ",e),t;try{n=(await rN((()=>Yk.get(e,{responseType:"arraybuffer"})),void 0,void 0,{maxRetryCount:3})).data}catch(e){throw new eN($k.FETCH_AUDIO_FILE_FAILED,e.toString())}}else{const t=new LC(((t,n)=>{const r=new FileReader;r.onload=e=>{e.target?t(e.target.result):n(new eN($k.READ_LOCAL_AUDIO_FILE_ERROR))},r.onerror=()=>{n(new eN($k.READ_LOCAL_AUDIO_FILE_ERROR))},r.readAsArrayBuffer(e)}));n=await t}const r=await function(e){const t=LV();return new LC(((n,r)=>{t.decodeAudioData(e,(e=>{n(e)}),(e=>{r(new eN($k.DECODE_AUDIO_FILE_FAILED,e.toString()))}))}))}(n);return"string"==typeof e&&t&&e1.set(e,r),r}(e.source,e.cacheOnlineFile)}catch(e){return t.onError(e),e.throw()}const i=new $0(e.source),o=new $Q(r,i,e.encoderConfig?zN(e.encoderConfig):{},n);return uN.info("create buffer source audio track success, trackId:",n),DN("info",["AgoraRTC"],"createBufferSourceAudioTrack",void 0,n),t.onSuccess(o.getTrackId()),o},setAppType:function(e){if(uN.debug("setAppType: ".concat(e)),!(Number.isInteger(e)&&e>=0))throw uN.debug("Invalid appType"),new eN($k.INVALID_PARAMS,"invalid app type",e);WN("APP_TYPE",Math.floor(e))},setLogLevel:function(e){KN("USE_NEW_LOG")?function(e){e=Math.min(Math.max(0,e),4),gN=e}(e):uN.setLogLevel(e)},enableLogUpload:function(){KN("USE_NEW_LOG")?WN("UPLOAD_LOG",!0):uN.enableLogUpload()},disableLogUpload:function(){KN("USE_NEW_LOG")?WN("UPLOAD_LOG",!1):uN.disableLogUpload()},createChannelMediaRelayConfiguration:function(){return new VK},checkAudioTrackIsActive:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;const n=yV.reportApiInvoke(null,{tag:yP.TRACER,name:vP.CHECK_AUDIO_TRACK_IS_ACTIVE,options:[t]});if(!(e instanceof ZQ||e instanceof P$)){const e=new eN($k.INVALID_TRACK,"the parameter is not a audio track");return n.onError(e),e.throw()}t&&t<1e3&&(t=1e3);const r=e instanceof ZQ?e.getTrackLabel():"remote_track",i=e.getVolumeLevel();let o=i,a=i;const s=Date.now();return new LC((i=>{const c=setInterval((()=>{const u=e.getVolumeLevel();o=u>o?u:o,a=u<a?u:a;const l=o-a>1e-4,d=Date.now()-s;if(l||d>t){clearInterval(c);const t=l,a={duration:d,deviceLabel:r,maxVolumeLevel:o,result:t};uN.info("[track-".concat(e.getTrackId(),"] check audio track active completed. ").concat(JSON.stringify(a))),n.onSuccess(a),i(t)}}),200)}))},checkVideoTrackIsActive:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;const n=yV.reportApiInvoke(null,{tag:yP.TRACER,name:vP.CHECK_VIDEO_TRACK_IS_ACTIVE,options:[t]});if(!(e instanceof XY||e instanceof D$)){const e=new eN($k.INVALID_TRACK,"the parameter is not a video track");return n.onError(e),e.throw()}const r=4;t&&t<1e3&&(t=1e3);const i=e instanceof XY?e.getTrackLabel():"remote_track",o=e.getMediaStreamTrack(!0),a=document.createElement("video");a.style.width="1px",a.style.height="1px",a.setAttribute("muted",""),a.muted=!0,a.setAttribute("playsinline",""),a.controls=!1,(MT()||xT())&&(a.style.opacity="0.01",a.style.position="fixed",a.style.left="0",a.style.top="0",document.body.appendChild(a)),a.srcObject=new MediaStream([o]),a.play();const s=document.createElement("canvas");s.width=160,s.height=120;let c=0,u=0;try{const e=Date.now();c=await o1(a,t,s,r),u=Date.now()-e}catch(e){throw n.onError(e),e}i1===ST.SAFARI&&(a.pause(),a.remove()),a.srcObject=null;const l=c>r,d={duration:u,changedPicNum:c,deviceLabel:i,result:l};return uN.info("[track-".concat(e.getTrackId(),"] check video track active completed. ").concat(JSON.stringify(d))),n.onSuccess(d),l},setArea:function(e){const t=yV.reportApiInvoke(null,{name:vP.SET_AREA,options:e,tag:yP.TRACER});try{let t=[];if("string"==typeof e&&(t=[e]),Array.isArray(e)&&(e.forEach((e=>{if(!_x.includes(e))throw new eN($k.INVALID_PARAMS,"invalid area code")})),t=e),"[object Object]"===Object.prototype.toString.call(e)){const{areaCode:n,excludedArea:r}=e;if(!n)throw new eN($k.INVALID_PARAMS,"area code is needed");let i=n;"string"==typeof n&&(i=[n]),t=r?function(e,t){let n=[];if(e.includes(yx.GLOBAL)){const o=[yx.GLOBAL,yx.OVERSEA],a=Object.keys(Ix);if(t===yx.GLOBAL)throw new eN($k.INVALID_PARAMS,"GLOBAL is an invalid excludedArea value");if(t===yx.CHINA)n=[yx.OVERSEA];else if(i=t,_K.includes(i)){const e=(r=t,bK[yx.GLOBAL][r]||[]),i=[...o,t,...e];n=a.filter((e=>!i.includes(e)))}else if(function(e){let t=!1;return _K.forEach((n=>{bK[yx.GLOBAL][n].includes(e)&&(t=!0)})),t}(t)){const e=function(e){let t;return _K.forEach((n=>{bK[yx.GLOBAL][n].includes(e)&&(t=n)})),t}(t),r=[...o,e,t];n=a.filter((e=>!r.includes(e)))}else n=e;n=function(e){const t=[];return CK.forEach((n=>{e.includes(n)&&t.push(n)})),t.concat(e.filter((e=>!CK.includes(e))))}(n)}else n=e;var r,i;return n}(i,r):i}WN("AREAS",t);const n=(e=>{const t={CODE:"",WEBCS_DOMAIN:[],WEBCS_DOMAIN_BACKUP_LIST:[],PROXY_CS:[],CDS_AP:[],ACCOUNT_REGISTER:[],UAP_AP:[],EVENT_REPORT_DOMAIN:[],EVENT_REPORT_BACKUP_DOMAIN:[],LOG_UPLOAD_SERVER:[],PROXY_SERVER_TYPE3:[]};return e.map((e=>{const n=Ix[e],r=Object.keys(n);r&&r.map((e=>{"CODE"!==e&&(t[e]=t[e].concat(n[e]))}))})),t})(t);Object.keys(n).map((e=>{WN(e,"LOG_UPLOAD_SERVER"===e||"EVENT_REPORT_DOMAIN"===e||"EVENT_REPORT_BACKUP_DOMAIN"===e||"PROXY_SERVER_TYPE3"===e?n[e][0]:n[e])})),uN.debug("set area success:",t.join(","))}catch(e){throw t.onError(e),e}t.onSuccess()},loadModule:async function(e,t){if(uN.debug("loadModule: ".concat(e.name,", loadOption: ").concat(JSON.stringify(t))),!e.moduleInit)throw uN.debug("Invalid Plugin"),new eN($k.INVALID_PLUGIN,"invalid plugin");try{OV.installPlugin(e),await e.moduleInit({logger:uN,report:yV,pluginCenter:OV,getParameter:KN},t)}catch(e){throw new eN($k.UNEXPECTED_ERROR,"unexpected error in loadModule",e)}},audioElementPlayCenter:oQ,processExternalMediaAEC:function(e){l1.processExternalMediaAEC(e)},registerExtensions:function(e){e.forEach((e=>{const t=e;t.__registered__=!0,t.logger.hookLog=uN.extLog,t.reporter.hookApiInvoke=yV.extApiInvoke,t.parameters&&Object.keys(t.parameters).forEach((e=>{t.parameters[e]=KN(e)}))}))},ChannelMediaRelayError:ux,ChannelMediaRelayEvent:sx,ChannelMediaRelayState:cx,RemoteStreamFallbackType:gx,RemoteStreamType:Ax,ConnectionDisconnectedReason:TP,AudienceLatencyLevelType:RP,AREAS:yx};return Object.defineProperties(d1,{onAudioAutoplayFailed:{get:()=>uV.onAudioAutoplayFailed,set:e=>{uV.onAudioAutoplayFailed=e}},onAutoplayFailed:{get:()=>uV.onAutoplayFailed,set:e=>{uV.onAutoplayFailed=e}}}),tQ.on(bP.CAMERA_DEVICE_CHANGED,(e=>{uN.info("camera device changed",JSON.stringify(e)),d1.onCameraChanged&&d1.onCameraChanged(e)})),tQ.on(bP.RECORDING_DEVICE_CHANGED,(e=>{uN.info("microphone device changed",JSON.stringify(e)),d1.onMicrophoneChanged&&d1.onMicrophoneChanged(e)})),tQ.on(bP.PLAYOUT_DEVICE_CHANGED,(e=>{uN.debug("playout device changed",JSON.stringify(e)),d1.onPlaybackDeviceChanged&&d1.onPlaybackDeviceChanged(e)})),oQ.onAutoplayFailed=()=>{uN.info("detect audio element autoplay failed"),uV.onAudioAutoplayFailed&&uV.onAudioAutoplayFailed()},xV.on("autoplay-failed",(()=>{uN.info("detect webaudio autoplay failed"),uV.onAudioAutoplayFailed&&uV.onAudioAutoplayFailed()})),window&&(window.__ARTC__=d1),d1}()},2813:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var t;module=__webpack_require__.nmd(module),t=function(){function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ua(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sl(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function J(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){function o(e){sl(s,r,i,o,a,"next",e)}function a(e){sl(s,r,i,o,a,"throw",e)}var s=e.apply(t,n);o(void 0)}))}}function W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ha(e,t,n){return t&&tl(e.prototype,t),n&&tl(e,n),e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function la(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&df(e,t)}function wd(e){return(wd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function df(e,t){return(df=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ul(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Sh(e,t,n){return(Sh=ul()?Reflect.construct:function(e,t,n){var r=[null];return r.push.apply(r,t),e=new(Function.bind.apply(e,r)),n&&df(e,n.prototype),e}).apply(null,arguments)}function ef(e){var t="function"==typeof Map?new Map:void 0;return(ef=function(e){function n(){return Sh(e,arguments,wd(this).constructor)}if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),df(n,e)})(e)}function ff(e,t){if(null==e)return{};if(null==e)var n={};else{n={};var r,i=Object.keys(e);for(r=0;r<i.length;r++){var o=i[r];0<=t.indexOf(o)||(n[o]=e[o])}}if(Object.getOwnPropertySymbols)for(r=Object.getOwnPropertySymbols(e),o=0;o<r.length;o++)i=r[o],0<=t.indexOf(i)||Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i]);return n}function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ma(e){var t=ul();return function(){var r=wd(e);if(t){var i=wd(this).constructor;r=Reflect.construct(r,arguments,i)}else r=r.apply(this,arguments);return!r||"object"!=typeof r&&"function"!=typeof r?n(this):r}}function Th(e,t,n){return(Th="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=wd(e)););if(e)return(t=Object.getOwnPropertyDescriptor(e,t)).get?t.get.call(n):t.value})(e,t,n||e)}function ra(e,t){var n=Array.isArray(e)?e:void 0;if(!n)if(null==(n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"])))n=void 0;else{var r,i=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){a=!0;var s=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw s}}n=i}if(!(e=n||vl(e,t)))throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");return e}function G(e){var t=Array.isArray(e)?Uh(e):void 0;if(t||(t="undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"]?Array.from(e):void 0),!(e=t||vl(e)))throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");return e}function vl(e,t){if(e){if("string"==typeof e)return Uh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uh(e,t)}}function Uh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function fa(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function $a(e){var t={exports:{}};return e(t,t.exports),t.exports}function wl(e,t){var n,r=3>arguments.length?e:arguments[2];return va(e)===r?e[t]:(n=Fb.f(e,t))?Q(n,"value")?n.value:void 0===n.get?void 0:n.get.call(r):ha(n=Vb(e))?wl(n,t,r):void 0}function rs(e){var t=e.charCodeAt(0)<<24,n=0|ss(~t),r=0,i=0|e.length,o="";if(5>n&&i>=n){for(t=t<<n>>>24+n,r=1;r<n;r=r+1|0)t=t<<6|63&e.charCodeAt(r);65535>=t?o+=xd(t):1114111>=t?o+=xd(55296+((t=t-65536|0)>>10)|0,56320+(1023&t)|0):r=0}for(;r<i;r=r+1|0)o+="";return o}function xl(){}function ts(e){var t=0|e.charCodeAt(0);if(55296<=t&&56319>=t){var n=0|e.charCodeAt(1);if(!(n==n&&56320<=n&&57343>=n))return xd(239,191,189);if(65535<(t=(t-55296<<10)+n-56320+65536|0))return xd(240|t>>>18,128|t>>>12&63,128|t>>>6&63,128|63&t)}return 127>=t?e:2047>=t?xd(192|t>>>6,128|63&t):xd(224|t>>>12,128|t>>>6&63,128|63&t)}function yl(){}function ea(){ea.init.call(this)}function ng(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+X(e))}function zl(e,t,n,r){ng(n);var i=e._events;if(void 0===i)i=e._events=Object.create(null),e._eventsCount=0;else{void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events);var o=i[t]}return void 0===o?(i[t]=n,++e._eventsCount):("function"==typeof o?o=i[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),0<(n=void 0===e._maxListeners?ea.defaultMaxListeners:e._maxListeners)&&o.length>n&&!o.warned&&(o.warned=!0,(n=Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit")).name="MaxListenersExceededWarning",n.emitter=e,n.type=t,n.count=o.length,console&&console.warn&&console.warn(n))),e}function us(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Al(e,t,n){return e={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},(t=us.bind(e)).listener=n,e.wrapFn=t}function Bl(e,t,n){if(void 0===(e=e._events))return[];if(void 0===(t=e[t]))return[];if("function"==typeof t)return n?[t.listener||t]:[t];if(n)for(n=Array(t.length),e=0;e<n.length;++e)n[e]=t[e].listener||t[e];else n=Cl(t,t.length);return n}function Dl(e){var t=this._events;if(void 0!==t){if("function"==typeof(e=t[e]))return 1;if(void 0!==e)return e.length}return 0}function Cl(e,t){for(var n=Array(t),r=0;r<t;++r)n[r]=e[r];return n}function vs(e,t,n){"function"==typeof e.on&&El(e,"error",t,n)}function El(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+X(e));e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}function ws(e){return e?G(e):xs((function(){return[]}),(function(e,t){return e.push(t),e}))}function Fl(e,t){var n,r,i,o;return w.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=Gl(e)([Hl,Hl,function(e,t){return t}])[2],r=0;case 2:if(!(r<t.length)){a.next=17;break}if(i=t[r],!((o=n(Vh,i))instanceof og)){a.next=11;break}if((o=Wh(o.deref()))===Vh){a.next=10;break}return a.next=10,o;case 10:return a.abrupt("return");case 11:if(o===Vh){a.next=14;break}return a.next=14,o;case 14:r++,a.next=2;break;case 17:case"end":return a.stop()}}),ys)}function pg(e,t){return null!=t&&"function"==typeof t[Symbol.iterator]?Fl(pg(e),t):function(t){var n=t[2];return zs(t,(function(t,r){return n(t,e(r))}))}}function Ac(e){return Object.prototype.toString.call(e).slice(8,-1)}function yd(e){return"Object"===Ac(e)&&e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function Il(e){var t;return(t="Boolean"===Ac(e)||"Null"===Ac(e)||"Undefined"===Ac(e))||(t="Number"===Ac(e)&&!isNaN(e)),t||"String"===Ac(e)||"Symbol"===Ac(e)}function zd(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ce(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function de(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function gf(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new qg;++t<n;)this.add(e[t])}function ee(e){this.size=(this.__data__=new rg(e)).size}function fe(e,t,n,r,i,o){var a,s=1&t,c=2&t,u=4&t;if(n&&(a=i?n(e,r,i,o):n(e)),void 0!==a)return a;if(!lb(e))return e;if(r=Va(e)){if(a=As(e),!s)return Xh(e,a)}else{var l=hf(e),d="[object Function]"==l||"[object GeneratorFunction]"==l;if(jf(e))return Jl(e,s);if("[object Object]"==l||"[object Arguments]"==l||d&&!i){if(a=c||d?{}:Kl(e),!s)return c?Bs(e,Cs(a,e)):Ds(e,Es(a,e))}else{if(!wa[l])return i?e:{};a=Fs(e,l,s)}}if(o||(o=new ge),i=o.get(e))return i;o.set(e,a),Gs(e)?e.forEach((function(r){a.add(fe(r,t,n,r,e,o))})):Hs(e)&&e.forEach((function(r,i){a.set(i,fe(r,t,n,i,e,o))})),c=u?c?Ll:Yh:c?kf:Ad;var h=r?void 0:c(e);return Is(h||e,(function(r,i){h&&(r=e[i=r]),Ml(a,i,fe(r,t,n,i,e,o))})),a}function Zh(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;return o.has(i)?o.get(i):(r=e.apply(this,r),n.cache=o.set(i,r)||o,r)};return n.cache=new(Zh.Cache||qg),n}function Nl(e){if("string"==typeof e)return e;if(Va(e))return he(e,Nl)+"";if(ie(e))return Ol?Ol.call(e):"";var t=e+"";return"0"==t&&1/e==-Js?"-0":t}function $h(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=Ks),i||(i=[]);++o<a;){var s=e[o];0<t&&n(s)?1<t?$h(s,t-1,n,r,i):ai(i,s):r||(i[i.length]=s)}return i}function je(e,t,n,r,i){if(e===t)t=!0;else if(null==e||null==t||!gc(e)&&!gc(t))t=e!=e&&t!=t;else e:{var o=Va(e),a=Va(t),s=o?"[object Array]":hf(e),c=a?"[object Array]":hf(t),u="[object Object]"==(s="[object Arguments]"==s?"[object Object]":s);if(a="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),(c=s==c)&&jf(e)){if(!jf(t)){t=!1;break e}o=!0,u=!1}if(c&&!u)i||(i=new ge),t=o||bi(e)?Pl(e,t,n,r,je,i):Ls(e,t,s,n,r,je,i);else{if(!(1&n)&&(o=u&&Ql.call(e,"__wrapped__"),s=a&&Ql.call(t,"__wrapped__"),o||s)){e=o?e.value():e,t=s?t.value():t,i||(i=new ge),t=je(e,t,n,r,i);break e}if(c)t:if(i||(i=new ge),o=1&n,s=Yh(e),a=s.length,c=Yh(t).length,a==c||o){for(c=a;c--;){var l=s[c];if(!(o?l in t:Ms.call(t,l))){t=!1;break t}}if(u=i.get(e),l=i.get(t),u&&l)t=u==t&&l==e;else{u=!0,i.set(e,t),i.set(t,e);for(var d=o;++c<a;){var h=e[l=s[c]],p=t[l];if(r)var f=o?r(p,h,l,t,e,i):r(h,p,l,e,t,i);if(void 0===f?h!==p&&!je(h,p,n,r,i):!f){u=!1;break}d||(d="constructor"==l)}u&&!d&&(n=e.constructor)!=(r=t.constructor)&&"constructor"in e&&"constructor"in t&&!("function"==typeof n&&n instanceof n&&"function"==typeof r&&r instanceof r)&&(u=!1),i.delete(e),i.delete(t),t=u}}else t=!1;else t=!1}}return t}function xa(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function mb(e){return!0===(e&&e.__isLong__)}function Bd(e,t){var n;if(t){if((t=0<=(e>>>=0)&&256>e)&&(n=Rl[e]))return n;n=ya(e,0>(0|e)?-1:0,!0),t&&(Rl[e]=n)}else{if((t=-128<=(e|=0)&&128>e)&&(n=Sl[e]))return n;n=ya(e,0>e?-1:0,!1),t&&(Sl[e]=n)}return n}function Gb(e,t){if(isNaN(e))return t?Cd:Hb;if(t){if(0>e)return Cd;if(e>=Tl)return Ul}else{if(e<=-Vl)return nb;if(e+1>=Vl)return Wl}return 0>e?Gb(-e,t).neg():ya(e%ke|0,e/ke|0,t)}function ya(e,t,n){return new xa(e,t,n)}function ci(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return Hb;if("number"==typeof t?(n=t,t=!1):t=!!t,2>(n=n||10)||36<n)throw RangeError("radix");var r;if(0<(r=e.indexOf("-")))throw Error("interior hyphen");if(0===r)return ci(e.substring(1),t,n).neg();r=Gb(sg(n,8));for(var i=Hb,o=0;o<e.length;o+=8){var a=Math.min(8,e.length-o),s=parseInt(e.substring(o,o+a),n);8>a?(a=Gb(sg(n,a)),i=i.mul(a).add(Gb(s))):i=(i=i.mul(r)).add(Gb(s))}return i.unsigned=t,i}function Wb(e,t){return"number"==typeof e?Gb(e,t):"string"==typeof e?ci(e,t):ya(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}function O(e,t){function n(){this.constructor=e}di(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function le(e){return"function"==typeof e}function me(e){setTimeout((function(){throw e}),0)}function ei(e){return null!==e&&"object"===X(e)}function Xl(e){return e.reduce((function(e,t){return e.concat(t instanceof lf?t.errors:t)}),[])}function fi(e){for(;e;){var t=e.destination,n=e.isStopped;if(e.closed||n)return!1;e=t&&t instanceof ia?t:null}return!0}function Yc(e){return e}function gi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Yl(e)}function Yl(e){return 0===e.length?Yc:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}function Zl(e){if(e||(e=Ib.Promise||Promise),!e)throw Error("no Promise impl found");return e}function $l(){return function(e){return e.lift(new Ns(e))}}function mf(e){return e?Os(e):vb}function Os(e){return new Y((function(t){return e.schedule((function(){return t.complete()}))}))}function Zc(e){return e&&"function"==typeof e.schedule}function hi(e,t){return new Y((function(n){var r=new Oa,i=0;return r.add(t.schedule((function(){i===e.length?n.complete():(n.next(e[i++]),n.closed||r.add(this.schedule()))}))),r}))}function nf(e,t){return t?hi(e,t):new Y(am(e))}function bb(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Zc(t=e[e.length-1])?(e.pop(),hi(e,t)):nf(e)}function Z(e,t){return new Y(t?function(n){return t.schedule(Ps,0,{error:e,subscriber:n})}:function(t){return t.error(e)})}function Ps(e){e.subscriber.error(e.error)}function Qs(e,t){return void 0===t&&(t=0),function(n){return n.lift(new Rs(e,t))}}function bm(e){return e in ii&&(delete ii[e],!0)}function hc(){}function ba(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new Ss(e,t))}}function cm(e,t,n){if(t){if(!Zc(t))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return cm(e,n).apply(void 0,r).pipe(ba((function(e){return Jb(e)?t.apply(void 0,e):t(e)})))};n=t}return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i,o=this,a={context:o,subject:i,callbackFunc:e,scheduler:n};return new Y((function(r){if(n)return n.schedule(Ts,0,{args:t,subscriber:r,params:a});if(!i){i=new of;try{e.apply(o,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i.next(1>=e.length?e[0]:e),i.complete()}]))}catch(e){fi(i)?i.error(e):console.warn(e)}}return i.subscribe(r)}))}}function Ts(e){var t=this,n=e.args,r=e.subscriber,i=e.params;e=i.callbackFunc;var o=i.context,a=i.scheduler,s=i.subject;if(!s){s=i.subject=new of,i=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.add(a.schedule(Us,0,{value:1>=e.length?e[0]:e,subject:s}))};try{e.apply(o,n.concat([i]))}catch(e){s.error(e)}}this.add(s.subscribe(r))}function Us(e){var t=e.subject;t.next(e.value),t.complete()}function dm(e,t,n){if(t){if(!Zc(t))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return dm(e,n).apply(void 0,r).pipe(ba((function(e){return Jb(e)?t.apply(void 0,e):t(e)})))};n=t}return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i={subject:void 0,args:t,callbackFunc:e,scheduler:n,context:this};return new Y((function(r){var o=i.context,a=i.subject;if(n)return n.schedule(Vs,0,{params:i,subscriber:r,context:o});if(!a){a=i.subject=new of;try{e.apply(o,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];(t=e.shift())?a.error(t):(a.next(1>=e.length?e[0]:e),a.complete())}]))}catch(e){fi(a)?a.error(e):console.warn(e)}}return a.subscribe(r)}))}}function Vs(e){var t=this,n=e.params,r=e.subscriber;e=e.context;var i=n.callbackFunc,o=n.args,a=n.scheduler,s=n.subject;if(!s){s=n.subject=new of,n=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];(n=e.shift())?t.add(a.schedule(em,0,{err:n,subject:s})):t.add(a.schedule(Ws,0,{value:1>=e.length?e[0]:e,subject:s}))};try{i.apply(e,o.concat([n]))}catch(e){this.add(a.schedule(em,0,{err:e,subject:s}))}}this.add(s.subscribe(r))}function Ws(e){var t=e.subject;t.next(e.value),t.complete()}function em(e){e.subject.error(e.err)}function fm(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}function ji(e,t,n,r,i){if(void 0===i&&(i=new Xs(e,n,r)),!i.closed)return t instanceof Y?t.subscribe(i):pf(t)(i)}function Ys(e,t){return new Y((function(n){var r=new Oa;return r.add(t.schedule((function(){var i=e[ne]();r.add(i.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}function Zs(e,t){return new Y((function(n){var r=new Oa;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}))}function $s(e,t){if(!e)throw Error("Iterable cannot be null");return new Y((function(n){var r,i=new Oa;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(t.schedule((function(){r=e[$c](),i.add(t.schedule((function(){if(!n.closed){try{var e=r.next(),t=e.value,i=e.done}catch(e){return void n.error(e)}i?n.complete():(n.next(t),this.schedule())}})))}))),i}))}function gm(e,t){if(null!=e){if(e&&"function"==typeof e[ne])return Ys(e,t);if(fm(e))return Zs(e,t);if(hm(e))return hi(e,t);if(e&&"function"==typeof e[$c]||"string"==typeof e)return $s(e,t)}throw new TypeError((null!==e&&X(e)||e)+" is not observable")}function Kb(e,t){return t?gm(e,t):e instanceof Y?e:new Y(pf(e))}function ic(e,t){if(!t.closed){if(e instanceof Y)return e.subscribe(t);try{var n=pf(e)(t)}catch(e){t.error(e)}return n}}function cb(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?function(r){return r.pipe(cb((function(n,r){return Kb(e(n,r)).pipe(ba((function(e,i){return t(n,e,r,i)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new at(e,n))})}function tg(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),cb(Yc,e)}function im(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return tg(1)(bb.apply(void 0,e))}function ad(e){return new Y((function(t){try{var n=e()}catch(e){return void t.error(e)}return(n?Kb(n):mf()).subscribe(t)}))}function jm(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var n=e[0];if(Jb(n))return ug(n,null);if(ei(n)&&Object.getPrototypeOf(n)===Object.prototype)return ug((e=Object.keys(n)).map((function(e){return n[e]})),e)}if("function"==typeof e[e.length-1]){var r=e.pop();return ug(e=1===e.length&&Jb(e[0])?e[0]:e,null).pipe(ba((function(e){return r.apply(void 0,e)})))}return ug(e,null)}function ug(e,t){return new Y((function(n){var r=e.length;if(0===r)n.complete();else for(var i=Array(r),o=0,a=0,s=function(s){var c=Kb(e[s]),u=!1;n.add(c.subscribe({next:function(e){u||(u=!0,a++),i[s]=e},error:function(e){return n.error(e)},complete:function(){++o!==r&&u||(a===r&&n.next(t?t.reduce((function(e,t,n){return e[t]=i[n],e}),{}):i),n.complete())}}))},c=0;c<r;c++)s(c)}))}function gb(e,t,n,r){return le(n)&&(r=n,n=void 0),r?gb(e,t,n).pipe(ba((function(e){return Jb(e)?r.apply(void 0,e):r(e)}))):new Y((function(r){km(e,t,(function(e){1<arguments.length?r.next(Array.prototype.slice.call(arguments)):r.next(e)}),r,n)}))}function km(e,t,n,r,i){if(e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener){e.addEventListener(t,n,i);var o=function(){return e.removeEventListener(t,n,i)}}else if(e&&"function"==typeof e.on&&"function"==typeof e.off)e.on(t,n),o=function(){return e.off(t,n)};else if(e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener)e.addListener(t,n),o=function(){return e.removeListener(t,n)};else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var a=0,s=e.length;a<s;a++)km(e[a],t,n,r,i)}r.add(o)}function lm(e,t,n){return n?lm(e,t).pipe(ba((function(e){return Jb(e)?n.apply(void 0,e):n(e)}))):new Y((function(n){var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.next(1===e.length?e[0]:e)};try{var i=e(r)}catch(e){return void n.error(e)}if(le(t))return function(){return t(r,i)}}))}function bt(e){var t=e.subscriber,n=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(e){return void t.error(e)}else e.needIterate=!0;if(n){var r=void 0;try{r=n(e.state)}catch(e){return void t.error(e)}if(!r)return void t.complete();if(t.closed)return}try{var i=e.resultSelector(e.state)}catch(e){return void t.error(e)}if(!t.closed&&(t.next(i),!t.closed))return this.schedule(e)}}function ki(e){return!Jb(e)&&0<=e-parseFloat(e)+1}function mm(e,t){return void 0===e&&(e=0),void 0===t&&(t=bd),(!ki(e)||0>e)&&(e=0),t&&"function"==typeof t.schedule||(t=bd),new Y((function(n){return n.add(t.schedule(ct,e,{subscriber:n,counter:0,period:e})),n}))}function ct(e){var t=e.subscriber,n=e.counter;e=e.period,t.next(n),this.schedule({subscriber:t,counter:n+1,period:e},e)}function Xb(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];t=Number.POSITIVE_INFINITY;var n=null,r=e[e.length-1];return Zc(r)?(n=e.pop(),1<e.length&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof r&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof Y?e[0]:tg(t)(nf(e,n))}function li(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return vb;var n=e[0],r=e.slice(1);return 1===e.length&&Jb(n)?li.apply(void 0,n):new Y((function(e){var t=function(){return e.add(li.apply(void 0,r).subscribe(e))};return Kb(n).subscribe({next:function(t){e.next(t)},error:t,complete:t})}))}function dt(e){var t=e.keys,n=e.index,r=e.subscriber,i=e.subscription;if(e=e.obj,!r.closed)if(n<t.length){var o=t[n];r.next([o,e[o]]),i.add(this.schedule({keys:t,index:n+1,subscriber:r,subscription:i,obj:e}))}else r.complete()}function et(e,t){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=e,n.thisArg=t,n}function wb(e,t){return function(n){return n.lift(new ft(e,t))}}function Ca(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){if(!Jb(e[0]))return e[0];e=e[0]}return nf(e,void 0).lift(new gt)}function ht(e){var t=e.start,n=e.index,r=e.subscriber;n>=e.count?r.complete():(r.next(t),r.closed||(e.index=n+1,e.start=t+1,this.schedule(e)))}function Bc(e,t,n){void 0===e&&(e=0);var r=-1;return ki(t)?r=1>Number(t)?1:Number(t):Zc(t)&&(n=t),Zc(n)||(n=bd),new Y((function(t){var i=ki(e)?e:+e-n.now();return n.schedule(it,i,{index:0,period:r,subscriber:t})}))}function it(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}function mi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"function"==typeof(t=e[e.length-1])&&e.pop(),nf(e,void 0).lift(new jt(t))}function Ga(e){return function(t){var n=new kt(e);return t=t.lift(n),n.caught=t}}function ni(e,t){return cb(e,t,1)}function nm(e){return void 0===e&&(e=null),function(t){return t.lift(new lt(e))}}function cd(e,t){void 0===t&&(t=bd);var n=e instanceof Date&&!isNaN(+e)?+e-t.now():Math.abs(e);return function(e){return e.lift(new mt(n,t))}}function om(e,t){return function(n){return n.lift(new nt(e,t))}}function Dd(e){return void 0===e&&(e=ot),function(t){return t.lift(new pt(e))}}function ot(){return new vg}function Ka(e){return function(t){return 0===e?mf():t.lift(new qt(e))}}function pm(e,t){return t?function(n){return n.pipe(pm((function(n,r){return Kb(e(n,r)).pipe(ba((function(e,i){return t(n,e,r,i)})))})))}:function(t){return t.lift(new rt(e))}}function wg(e){return function(t){return t.lift(new st(e))}}function aa(e,t){var n=2<=arguments.length;return function(r){return r.pipe(e?wb((function(t,n){return e(t,n,r)})):Yc,Ka(1),n?nm(t):Dd((function(){return new vg})))}}function tt(){return function(e){return e.lift(new ut)}}function qm(e){return function(t){return 0===e?mf():t.lift(new vt(e))}}function qf(e){return function(t){return t.lift(new wt(e))}}function xg(e,t){var n=!1;return 2<=arguments.length&&(n=!0),function(r){return r.lift(new xt(e,t,n))}}function rm(e,t){return 2<=arguments.length?function(n){return gi(xg(e,t),qm(1),nm(t))(n)}:function(t){return gi(xg((function(t,n,r){return e(t,n,r+1)})),qm(1))(t)}}function yt(e,t){return function(n){var r="function"==typeof e?e:function(){return e};if("function"==typeof t)return n.lift(new zt(r,t));var i=Object.create(n,At);return i.source=n,i.subjectFactory=r,i}}function oe(e){return function(t){return t.lift(new Bt(e,t))}}function Ct(){return new Pa}function pe(){return function(e){return $l()(yt(Ct)(e))}}function sm(e,t,n){var r=e&&"object"===X(e)?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n};return function(e){return e.lift(Dt(r))}}function Dt(e){var t,n,r=e.bufferSize,i=void 0===r?Number.POSITIVE_INFINITY:r,o=void 0===(r=e.windowTime)?Number.POSITIVE_INFINITY:r,a=e.refCount,s=e.scheduler,c=0,u=!1,l=!1;return function(e){if(c++,!t||u){u=!1;var r=(t=new qe(i,o,s)).subscribe(this);n=e.subscribe({next:function(e){t.next(e)},error:function(e){u=!0,t.error(e)},complete:function(){l=!0,n=void 0,t.complete()}}),l&&(n=void 0)}else r=t.subscribe(this);this.add((function(){c--,r.unsubscribe(),r=void 0,n&&!l&&a&&0===c&&(n.unsubscribe(),t=n=void 0)}))}}function Cc(e,t){return"function"==typeof t?function(n){return n.pipe(Cc((function(n,r){return Kb(e(n,r)).pipe(ba((function(e,i){return t(n,e,r,i)})))})))}:function(t){return t.lift(new Et(e))}}function ob(e){return function(t){return t.lift(new Ft(e))}}function Gt(e,t){return void 0===t&&(t=!1),function(n){return n.lift(new Ht(e,t))}}function ca(e,t,n){return function(r){return r.lift(new It(e,t,n))}}function Jt(e,t,n){return void 0===t&&(t=bd),void 0===n&&(n=Kt),function(r){return r.lift(new Lt(e,t,n.leading,n.trailing))}}function Mt(e){e.subscriber.clearThrottle()}function Nt(e,t,n){return void 0===n&&(n=bd),function(r){var i=e instanceof Date&&!isNaN(+e),o=i?+e-n.now():Math.abs(e);return r.lift(new Ot(o,i,t,n))}}function hb(e,t){return void 0===t&&(t=bd),Nt(e,Z(new pb),t)}function Pt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n;return"function"==typeof e[e.length-1]&&(n=e.pop()),t.lift(new Qt(e,n))}}function tm(e,t,n,r,i){e!==t&&um(t,(function(o,a){if(i||(i=new ge),lb(o)){o=i;var s=oi(e,a),c=oi(t,a),u=o.get(c);if(u)pi(e,a,u);else{var l=void 0===(u=r?r(s,c,a+"",e,t,o):void 0);if(l){var d=Va(c),h=!d&&jf(c),p=!d&&!h&&bi(c);u=c,d||h||p?Va(s)?u=s:gc(s)&&Ed(s)?u=Xh(s):h?(l=!1,u=Jl(c,!0)):p?(l=!1,u=vm(c,!0)):u=[]:wm(c)||rf(c)?(u=s,rf(s)?u=re(s,kf(s)):lb(s)&&!qi(s)||(u=Kl(c))):l=!1}l&&(o.set(c,u),tm(u,c,n,r,o),o.delete(c)),pi(e,a,u)}}else void 0===(s=r?r(oi(e,a),o,a+"",e,t,i):void 0)&&(s=o),pi(e,a,s)}),kf)}function Rt(e){var t=1,n=ri;1==(1>=arguments.length?0:arguments.length-1)?"number"==typeof(1>=arguments.length?void 0:arguments[1])?t=1>=arguments.length?void 0:arguments[1]:n=1>=arguments.length?void 0:arguments[1]:2==(1>=arguments.length?0:arguments.length-1)&&(t=1>=arguments.length?void 0:arguments[1],n=2>=arguments.length?void 0:arguments[2]);var r=t||1;return function(t){return t.pipe(xg((function(t,i){var o=n.now(),a=o-e;if((t=t.filter((function(e){return e.until>a}))).length>=r){var s=t[t.length-1],c=t[0].until+e*Math.floor(t.length/r);t.push({delay:s.until<o?c-o:c-s.until,until:c,value:i})}else t.push({delay:0,until:o,value:i});return t}),[]),ba((function(e){return e[e.length-1]})),ni((function(e){var t=bb(e.value);return e.delay?t.pipe(cd(e.delay,n)):t})))}}function St(e,t){var n=(t=void 0===t?{protocols:xm,makeWebSocket:ym}:t).protocols,r=void 0===n?xm:n,i=void 0===(t=t.makeWebSocket)?ym:t;return new Y((function(t){var n,o=new Pa,a=i(e,r),s=!1,c=!1,u=function(e){if(n)throw s=!0,e=Error("Web socket message factory function called more than once"),t.error(e),e;return n=e.subscribe((function(e){a.send(e)})),o};return a.onopen=function(){c?(s=!0,a.close()):t.next(u)},a.onmessage=function(e){o.next(e.data)},a.onerror=function(e){s=!0,t.error(Error(e.message))},a.onclose=function(e){s||(s=!0,c?(t.complete(),o.complete()):t.error(Error(1e3===e.code?"Normal closure":e.reason)))},function(){c=!0,n&&n.unsubscribe(),s||(s=!0,a.close())}}))}function yg(){this._listeners={}}function zm(e){return"undefined"!=typeof Float32Array?function(){function t(e,t,n){o[0]=e,t[n]=a[0],t[n+1]=a[1],t[n+2]=a[2],t[n+3]=a[3]}function n(e,t,n){o[0]=e,t[n]=a[3],t[n+1]=a[2],t[n+2]=a[1],t[n+3]=a[0]}function r(e,t){return a[0]=e[t],a[1]=e[t+1],a[2]=e[t+2],a[3]=e[t+3],o[0]}function i(e,t){return a[3]=e[t],a[2]=e[t+1],a[1]=e[t+2],a[0]=e[t+3],o[0]}var o=new Float32Array([-0]),a=new Uint8Array(o.buffer),s=128===a[3];e.writeFloatLE=s?t:n,e.writeFloatBE=s?n:t,e.readFloatLE=s?r:i,e.readFloatBE=s?i:r}():function(){function t(e,t,n,r){var i=0>t?1:0;if(i&&(t=-t),0===t)e(0<1/t?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(34028234663852886e22<t)e((i<<31|2139095040)>>>0,n,r);else if(11754943508222875e-54>t)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,n,r);else{var o=Math.floor(Math.log(t)/Math.LN2);e((i<<31|o+127<<23|8388607&Math.round(t*Math.pow(2,-o)*8388608))>>>0,n,r)}}function n(e,t,n){return n=e(t,n),e=2*(n>>31)+1,t=n>>>23&255,n&=8388607,255===t?n?NaN:1/0*e:0===t?1401298464324817e-60*e*n:e*Math.pow(2,t-150)*(n+8388608)}e.writeFloatLE=t.bind(null,Am),e.writeFloatBE=t.bind(null,Bm),e.readFloatLE=n.bind(null,Cm),e.readFloatBE=n.bind(null,Dm)}(),"undefined"!=typeof Float64Array?function(){function t(e,t,n){o[0]=e,t[n]=a[0],t[n+1]=a[1],t[n+2]=a[2],t[n+3]=a[3],t[n+4]=a[4],t[n+5]=a[5],t[n+6]=a[6],t[n+7]=a[7]}function n(e,t,n){o[0]=e,t[n]=a[7],t[n+1]=a[6],t[n+2]=a[5],t[n+3]=a[4],t[n+4]=a[3],t[n+5]=a[2],t[n+6]=a[1],t[n+7]=a[0]}function r(e,t){return a[0]=e[t],a[1]=e[t+1],a[2]=e[t+2],a[3]=e[t+3],a[4]=e[t+4],a[5]=e[t+5],a[6]=e[t+6],a[7]=e[t+7],o[0]}function i(e,t){return a[7]=e[t],a[6]=e[t+1],a[5]=e[t+2],a[4]=e[t+3],a[3]=e[t+4],a[2]=e[t+5],a[1]=e[t+6],a[0]=e[t+7],o[0]}var o=new Float64Array([-0]),a=new Uint8Array(o.buffer),s=128===a[7];e.writeDoubleLE=s?t:n,e.writeDoubleBE=s?n:t,e.readDoubleLE=s?r:i,e.readDoubleBE=s?i:r}():function(){function t(e,t,n,r,i,o){var a=0>r?1:0;if(a&&(r=-r),0===r)e(0,i,o+t),e(0<1/r?0:2147483648,i,o+n);else if(isNaN(r))e(0,i,o+t),e(2146959360,i,o+n);else if(17976931348623157e292<r)e(0,i,o+t),e((a<<31|2146435072)>>>0,i,o+n);else if(22250738585072014e-324>r)e((r/=5e-324)>>>0,i,o+t),e((a<<31|r/4294967296)>>>0,i,o+n);else{var s=Math.floor(Math.log(r)/Math.LN2);1024===s&&(s=1023),e(4503599627370496*(r*=Math.pow(2,-s))>>>0,i,o+t),e((a<<31|s+1023<<20|1048576*r&1048575)>>>0,i,o+n)}}function n(e,t,n,r,i){return t=e(r,i+t),r=e(r,i+n),e=2*(r>>31)+1,t=4294967296*(1048575&r)+t,2047==(n=r>>>20&2047)?t?NaN:1/0*e:0===n?5e-324*e*t:e*Math.pow(2,n-1075)*(t+4503599627370496)}e.writeDoubleLE=t.bind(null,Am,0,4),e.writeDoubleBE=t.bind(null,Bm,4,0),e.readDoubleLE=n.bind(null,Cm,0,4),e.readDoubleBE=n.bind(null,Dm,4,0)}(),e}function Am(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function Bm(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function Cm(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function Dm(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function Wa(e,t){this.lo=e>>>0,this.hi=t>>>0}function sf(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function si(){}function Tt(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function ja(){this.len=0,this.tail=this.head=new sf(si,0,0),this.states=null}function ti(e,t,n){t[n]=255&e}function ui(e,t){this.len=e,this.next=void 0,this.val=t}function vi(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;127<e.lo;)t[n++]=127&e.lo|128,e.lo>>>=7;t[n++]=e.lo}function wi(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function jc(){xi.call(this)}function Ut(e,t,n){40>e.length?V.utf8.write(e,t,n):t.utf8Write?t.utf8Write(e,n):t.write(e,n)}function Yb(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function La(e){this.buf=e,this.pos=0,this.len=e.length}function yi(){var e=new Em(0,0),t=0;if(!(4<this.len-this.pos)){for(;3>t;++t){if(this.pos>=this.len)throw Yb(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,128>this.buf[this.pos++])return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;4>t;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,128>this.buf[this.pos++])return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,128>this.buf[this.pos++])return e;if(t=0,4<this.len-this.pos){for(;5>t;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,128>this.buf[this.pos++])return e}else for(;5>t;++t){if(this.pos>=this.len)throw Yb(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,128>this.buf[this.pos++])return e}throw Error("invalid varint encoding")}function zg(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function Fm(){if(this.pos+8>this.len)throw Yb(this,8);return new Em(zg(this.buf,this.pos+=4),zg(this.buf,this.pos+=4))}function Fd(e){zi.call(this,e)}function tf(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");V.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=!!t,this.responseDelimited=!!n}function za(e){return"string"==typeof e&&/^[\s\w!#$%&()+,.:;<=>?@[\]^{|}~-]{1,64}$/.test(e)&&"null"!==e}function Gm(e){try{var t=e.split(".").map((function(e){return Number(e)}))}catch(e){return!1}if(4!==t.length||0===t[0])return!1;for(e=0;e<t.length;e++){var n=t[e];if(!Number.isInteger(n)||0>n||255<n)return!1}return!0}function Hm(e,t){if(!Array.isArray(t)||0===t.length||32<t.length||t.some((function(e){return 0===e.length||32<e.length})))throw new I("arguments is not valid",Ja);if(!za(e))throw new I("ID is invalid",Ja)}function uf(e){var t=e.attributes,n=e.attrSizeMap,r=e.maxAttrsCount,i=e.maxAttrValueSize;if(e=e.maxTotalSize,!yd(t))throw new I("attributes must be an object",Ja);if(Object.keys(t).length>r)throw new ib("Exceed the limit of ".concat(r," attributes"),se);if(0===Object.keys(t).length)throw new I("The attributes is an empty object",Ja);var o=0,a=0;for(t=Object.entries(t);a<t.length;a++){var s=ra(t[a],2),c=s[1];s=new Blob([s[0]]).size;var u=new Blob([c]).size;if(0===s||32<s)throw new I("Invalid attribute key",Ja);if(u>i)throw new ib("Invalid attribute value, over the limit of ".concat(i," bytes"),se);if("string"!=typeof c||0===c.length)throw new I("Invalid attribute value",Ja);o+=s,o+=u}if(o>e)throw new ib("The attributes size overflow",se);if(void 0!==n){if(Object.keys(n).length>r)throw new ib("Exceed the limit of ".concat(r," attributes"),se);for(o=r=0,n=Object.entries(n);o<n.length;o++){if(a=(t=ra(n[o],2))[1],0===(t=new Blob([t[0]]).size))throw new I("Invalid attribute key",Ja);if(a>i)throw new ib("Invalid attribute value, over the limit of ".concat(i," bytes"),se);r+=t,r+=a}if(r>e)throw new ib("The attributes size overflow",se)}}function Ag(e,t){return Math.floor(Math.random()*(Math.floor(t)-Math.ceil(e)+1))+e}function Bg(){var e=Ag(0,4294967295),t=Ag(1,4294967295);return new U(e,t,!0)}function Xa(e){return e.toString().padEnd(32,"0")}function Im(e,t){return new TypeError("Unexpected ".concat(e,": ").concat(t))}function Jm(e,t){return e=e.split(".").map((function(e){return Number(e)})),t=t.split(".").map((function(e){return Number(e)})),Math.sqrt(1e3*Math.pow(e[0]-t[0],2)+100*Math.pow(e[1]-t[1],2)+10*Math.pow(e[2]-t[2],2)+1*Math.pow(e[3]-t[3],2))}function Km(e){return e.lessThanOrEqual(Number.MAX_SAFE_INTEGER)?e.toNumber():e.toString()}function Ai(e,t){t="".concat(e).concat(t||"");var n=Lm.get(t)||1;return Lm.set(t,n+1),"".concat(e).concat(n)}function Mm(e,t){var n="number"==typeof t?t:void 0!==t&&"string"!=typeof t?t.code:void 0;return t="number"!=typeof t&&"string"!=typeof t&&void 0!==t&&void 0!==t.serverCode?t.serverCode:void 0,n="".concat(void 0!==n?" Error Code ".concat(n):"").concat(void 0!==t?", server Code ".concat(t):""),e="string"==typeof e&&e?Cg(e):Array.isArray(e)&&"string"==typeof e[0]&&e[0]?Cg(Nm.apply(void 0,[e[0]].concat(G(e.slice(1))))):"","".concat(""===n?"":"".concat(n," - ")).concat(e)}function Om(e){return Bi.apply(this,arguments)}function Bi(){return(Bi=J(w.mark((function e(t){return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout((function(){e()}),t)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pm(e){return e instanceof Blob||"[object Blob]"===Object.prototype.toString.call(e)}function Dg(e){var t=255&e,n=e>>8&255,r=e>>16&255;return"".concat(e>>24&255,".").concat(r,".").concat(n,".").concat(t)}function te(e,t,n){return Ci.apply(this,arguments)}function Ci(){return(Ci=J(w.mark((function e(t,n,r){var i,o,a,s,c,u,l,d,h,p,f,A,g,m,v,y,E,b,_,C,I,S,R,T,O,k;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.body,o=n.headers,a=void 0===o?{}:o,s=n.timeout,c=void 0===s?1e4:s,u=n.signal,l=n.withCredentials,d=void 0!==l&&l,h=(r||{}).useBinaryResponse,p=void 0!==h&&h,(f=new XMLHttpRequest).open("POST",t,!0),f.responseType=p?"arraybuffer":"text",f.withCredentials=d,f.timeout=c,A=i instanceof FormData,g=i instanceof Uint8Array,!(1<(m=Object.keys(a).filter((function(e){return"content-type"===e.toLowerCase()}))).length)){e.next=14;break}throw new RangeError("multiple content-type");case 14:0===m.length&&(g?a["Content-Type"]="application/octet-stream":A||(a["Content-Type"]="application/json"));case 15:if("setRequestHeader"in f){e.next=46;break}return f.abort(),e.next=19,fetch(t,{body:A||g?i:JSON.stringify(i),cache:"no-cache",credentials:d?"include":"same-origin",headers:a,method:"POST",mode:"cors",referrer:"no-referrer",signal:u});case 19:if(v=e.sent,!(200<=(y=v.status)&&300>y||304===y)){e.next=31;break}if(!p){e.next=27;break}return e.next=25,v.arrayBuffer();case 25:return E=e.sent,e.abrupt("return",{status:y,responseData:E});case 27:return e.next=29,v.text();case 29:return b=e.sent,e.abrupt("return",{status:y,responseText:b});case 31:return _=new da(["Post XHR failure, status %d",y]),e.prev=32,e.next=35,v.text();case 35:throw C=e.sent,_.statusCode=y,_.message=C||"Request failed, status ".concat(y),_;case 41:throw e.prev=41,e.t0=e.catch(32),_.statusCode=y,_.message="Request failed, status ".concat(y),_;case 46:if(0!==Object.keys(a).length)for(I=0,S=Object.entries(a);I<S.length;I++)R=ra(S[I],2),T=R[0],O=R[1],f.setRequestHeader(T,O);return void 0!==u&&(k=function e(){f.abort(),u.removeEventListener("abort",e)},u.addEventListener("abort",k)),A||g?f.send(i):f.send(JSON.stringify(i)),e.abrupt("return",new Promise((function(e,t){f.onload=function(){var n=f.status;if(200<=n&&300>n||304===n)e(p?{status:n,responseData:f.response}:{status:n,responseText:f.responseText});else{var r=new da(["Post XHR failure, status %d",n]);r.statusCode=n,r.message=f.response||"Request failed, status ".concat(f.status),t(r)}},f.ontimeout=function(e){t(new db(["XHR request timed out after %d ms",c],{originalError:e}))},f.onerror=function(){var e=new da(["Post XHR failure, status %d",f.status]);e.statusCode=f.status,e.message=f.response||"Request failed, status ".concat(f.status),t(e)},f.onabort=function(){try{t(new DOMException("The request aborted.","AbortError"))}catch(n){var e=Error("The request aborted.");e.name="AbortError",t(e)}}})));case 50:case"end":return e.stop()}}),e,null,[[32,41]])})))).apply(this,arguments)}function Rm(e){return Hi.apply(this,arguments)}function Hi(){return(Hi=J(w.mark((function e(t){var n;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Image).src=t,e.abrupt("return",new Promise((function(e,t){n.onload=function(){e({width:n.width,height:n.height})},n.onerror=t})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xt(e,t){return Ii.apply(this,arguments)}function Ii(){return(Ii=J(w.mark((function e(t,n){var r,i,o,a,s,c,u,l,d,h;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.thumbnailHeight,i=void 0===r?0:r,o=t.thumbnailWidth,a=void 0===o?0:o,s=t.width,c=void 0===s?0:s,u=t.height,l=void 0===u?0:u,d=t.thumbnail,h=[],"number"==typeof i&&"number"==typeof a&&"number"==typeof c&&"number"==typeof l){e.next=5;break}throw new I("Invalid message params",wf);case 5:return 0>=c&&0>=l&&h.push(Rm(Sm(n)).then((function(e){c=e.width,l=e.height}))),0>=a&&0>=i&&void 0!==d&&h.push(Ji(d).then(function(){var e=J(w.mark((function e(t){var n;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rm(Sm(t));case 2:n=e.sent,a=n.width,i=n.height;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),e.next=9,Promise.all(h).catch((function(){}));case 9:return e.abrupt("return",{width:c,height:l,thumbnailWidth:a,thumbnailHeight:i});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tm(e,t){if(!yd(e))throw new I("message object is not a plain object",t);if(void 0===e.messageType)if(e.rawMessage instanceof Uint8Array){if(e.messageType="RAW",void 0!==e.text)throw new I("Raw messages cannot have text property. Use description instead",t)}else{if("string"!=typeof e.text)throw new I("messageType is undefined",t);if(e.messageType="TEXT",void 0!==e.rawMessage)throw new I("Text messages cannot have rawMessage property",t)}}function Gg(e){return Ki.apply(this,arguments)}function Ki(){return(Ki=J(w.mark((function e(t){var n,r,i,o,a,s,c,u,l,d,h,p,f,A,g,m,v,y,E,b,_;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.message,r=t.peerId,i=t.toPeer,o=t.session,a=t.errorCodes,s=t.diff,c=t.logger,u=t.options,void 0!==o){e.next=3;break}throw new K("The client is not logged in. Cannot do the operation",a.NOT_LOGGED_IN);case 3:if(l=!1,"TEXT"!==n.messageType||!n.text.startsWith("AgoraRTMLegacyEndcallCompatibleMessagePrefix")||!i){e.next=11;break}if(d=n.text.split("_"),h=ra(d,3),p=h[0],f=h[1],void 0!==h[2]&&za(f)&&"AgoraRTMLegacyEndcallCompatibleMessagePrefix"===p){e.next=10;break}throw new I("Message is not valid",ve);case 10:l=!0;case 11:if(A=Date.now(),g=o.messageSentTimes.length-1,!((m=o.messageSentTimes[g])&&m+3e3<A)){e.next=18;break}o.messageSentTimes=[A],e.next=29;break;case 18:v=g;case 19:if(!(0<=v)){e.next=28;break}if(!(o.messageSentTimes[v]+3e3<A)){e.next=23;break}return o.messageSentTimes=o.messageSentTimes.slice(v+1,g+1),e.abrupt("break",28);case 23:if(!(180<=g-v+1)){e.next=25;break}throw new ib("Message sent failed, exceeded the 180 message in 3 seconds",a.TOO_OFTEN);case 25:v--,e.next=19;break;case 28:o.messageSentTimes.push(A);case 29:e.t0=n.messageType,e.next="TEXT"===e.t0?32:"RAW"===e.t0?37:"FILE"===e.t0||"IMAGE"===e.t0?39:40;break;case 32:if(!l){e.next=36;break}return y=n.text.split("_"),E=ra(y,3),b=E[1],_=E[2],c.info("[rtm-API] EndCall message send api is called"),e.abrupt("return",o.sendInvitationMessage({peerId:r,type:"CallCancel",extra:_,channelId:b,callId:"0"}));case 36:return e.abrupt("return",o.sendTextMessage(n.text,r,i,u,1e4-s));case 37:return void 0===n.description&&(n.description=""),e.abrupt("return",o.sendRawMessage(n.rawMessage,n.description,r,i,u,1e4-s));case 39:return e.abrupt("return",o.sendMediaMessage(n.messageType,n,r,i,u,1e4-s));case 40:throw new I("Invalid message type",ve);case 41:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yt(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=e.replace(/(https?:\/\/)?(www.)?/i,"");return t||(n=n.split(".").slice(e.length-2).join(".")),-1!==n.indexOf("/")?n.split("/")[0]:n}function oa(e){if("string"!=typeof e)return"[Sensitive Info]";var t=Math.floor(.7*e.length),n=e.length;return Um(e,t,n,"*".repeat(n-t))}function Vm(e,t,n){function r(i){if(void 0===e)return e;if(Il(i))return i;if(Array.isArray(i))return i.map(r);var o={},a=0;for(i=Hg(i);a<i.length;a++){var s=ra(i[a],2),c=s[0];if("string"==typeof(s=s[1])&&n.includes(c)){o[c]="string"==typeof s?oa(s):"[Sensitive Info]";break}t.includes(c)?o[c]="[Hidden Info]":o[c]=null==s?s:n.includes(c)?"[Sensitive Info]":r(s)}return o}return Array.isArray(e)?e.map(r):r(e)}function Wm(e){return Object.getOwnPropertyNames(e).forEach((function(t){"object"==X(t=e[t])&&null!==t&&Wm(t)})),Object.freeze(e)}function pa(e){return new TextDecoder("utf-8").decode(e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength))}function Ig(e){return(new TextEncoder).encode(e).length}function Xm(){for(var e=0,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];for(t=0;t<n.length;t++)e+=n[t].length;for(e=new Uint8Array(e),r=t=0;r<n.length;r++){var i=n[r];e.set(i,t),t+=i.length}return e}function we(e,t,n){var r=e.match(/([^?#]+)(\?[^#]*)?(#.*)?/);if(e=null==r?void 0:r[1],r=null==r?void 0:r[2]){var i;for(r=r.substr(1).split("&"),i=0;i<r.length;i++)if(r[i].split("=")[0]==t){r[i]=t+"="+encodeURIComponent(n);break}return i==r.length&&r.push(t+"="+encodeURIComponent(n)),e+"?"+r.join("&")}return e+"?"+t+"="+encodeURIComponent(n)}function Ji(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){var e=r.result||new ArrayBuffer(0);t(e)},r.onerror=n,r.readAsArrayBuffer(e)}))}function Zt(e,t){e=e=[e],"string"==typeof(t=t||{})&&(t={type:t});try{var n=new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder);for(var r=0;r<e.length;r+=1)n.append(e[r]);n=n.getBlob(t.type)}return n}function Um(e,t,n,r){return"string"!=typeof e?"[Sensitive Info]":e.substring(0,t)+r+e.substring(n)}function Ym(e){var t=[];return function e(n){if(null===n||"object"!==X(n))return n;if(-1!==t.indexOf(n))return"[Circular]";if(t.push(n),"function"==typeof n.toJSON)try{var r=e(n.toJSON());return t.pop(),r}catch(e){return"[Throws: "+(e?e.message:"?")+"]"}return Array.isArray(n)?(r=n.map(e),t.pop(),r):(r=Object.keys(n).reduce((function(t,r){e:{if($t.call(n,r))try{var i=n[r];break e}catch(e){i="[Throws: "+(e?e.message:"?")+"]";break e}i=n[r]}return t[r]=e(i),t}),{}),t.pop(),r)}(e)}function au(e){if(!(100<(e=String(e)).length)&&(e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e))){var t=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*t;case"weeks":case"week":case"w":return 6048e5*t;case"days":case"day":case"d":return 864e5*t;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*t;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*t;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t}}}function Jg(e,t,n,r){return Math.round(e/n)+" "+r+(t>=1.5*n?"s":"")}function bu(e){var t=e.areas,n=e.excludedArea;if(1===t.length&&t[0]===F.GLOBAL&&n===F.CHINA)return xe([F.OVERSEA]);if(t.includes(F.GLOBAL)){if(e=xf(Kg).filter((function(e){return e!==F.GLOBAL&&e!==F.OVERSEA})),n in yf){t=yf[n];var r=[].concat(G(null!=t?t:[]),[n]);return xe(e.filter((function(e){return!r.includes(e)})))}if(Zm(n)){var i=cu(n);return xe(e.filter((function(e){return e!==n&&e!==i})))}}if(Zm(n)||n in yf)return xe(t);throw new I("Invalid excludedArea area config")}function Ma(e,t,n){void 0===n&&(n=Object.getOwnPropertyDescriptor(e,t));var r=n.value;return n.value=function(){for(var e=this,n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];this.invokeTracker.apply(this,["%s: ".concat(0<i.length?"%s with args: ".concat(i.map((function(){return"%o"}))):"%s"),this.name,t].concat(G(i.map(ye))));try{var a=r.apply(this,i)}catch(e){throw this.logError.apply(this,["".concat(void 0!==e.code?"Error Code ".concat(e.code,": "):"","%s failed").concat(0<i.length?" with args: ".concat(i.map((function(){return"%o"}))):""),t].concat(G(i.map(ye)))),e.originalError&&this.logError(e.originalError),this.errorTracker(e),e}var s=Date.now();return J(w.mark((function n(){var r,o;return w.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a;case 3:r=n.sent,n.next=12;break;case 6:return n.prev=6,n.t0=n.catch(0),e.logError.apply(e,["".concat(void 0!==n.t0.code?"Error Code ".concat(n.t0.code,": "):"","%s failed").concat(0<i.length?" with args: ".concat(i.map((function(){return"%o"}))):""),t].concat(G(i.map(ye)))),n.t0.originalError&&e.logError(n.t0.originalError),e.errorTracker(n.t0),n.abrupt("return");case 12:r!==a?void 0===r?e.resultTracker("%s promise resolves after %dms",t,Date.now()-s):e.resultTracker("%s promise resolves after %dms, result is %o",t,Date.now()-s,ye(r)):"Object"!==Ac(r)||yd(r)?e.resultTracker("%s result is %o",t,ye(r)):e.resultTracker("%s result is %s",t,r.name||(null===(o=r.constructor)||void 0===o?void 0:o.name));case 13:case"end":return n.stop()}}),n,null,[[0,6]])})))(),a},n}function Nb(e,t,n){void 0===n&&(n=Object.getOwnPropertyDescriptor(e,t));var r=n.value;return n.value=function(){for(var e=this,n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];this.invokeTracker.apply(this,["%s: ".concat(0<i.length?"%s with args: ".concat(i.map((function(){return"%o"}))):"%s"),this.name,t].concat(i));try{var a=r.apply(this,i)}catch(e){throw this.logError.apply(this,["".concat(void 0!==e.code?"Error Code ".concat(e.code,": "):"","%s failed").concat(0<i.length?" with args: ".concat(i.map((function(){return"%o"}))):""),t].concat(i)),e.originalError&&this.logError(e.originalError),this.errorTracker(e),e}var s=Date.now();return J(w.mark((function n(){var r,o;return w.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a;case 3:r=n.sent,n.next=12;break;case 6:return n.prev=6,n.t0=n.catch(0),e.logError.apply(e,["".concat(void 0!==n.t0.code?"Error Code ".concat(n.t0.code,": "):"","%s failed").concat(0<i.length?" with args: ".concat(i.map((function(){return"%o"}))):""),t].concat(i)),n.t0.originalError&&e.logError(n.t0.originalError),e.errorTracker(n.t0),n.abrupt("return");case 12:r!==a?void 0===r?e.resultTracker("%s promise resolves after %dms",t,Date.now()-s):e.resultTracker("%s promise resolves after %dms, result is %o",t,Date.now()-s,r):"Object"!==Ac(r)||yd(r)?e.resultTracker("%s result is %o",t,r):e.resultTracker("%s result is %s",t,r.name||(null===(o=r.constructor)||void 0===o?void 0:o.name));case 13:case"end":return n.stop()}}),n,null,[[0,6]])})))(),a},n}function du(e,t){var n="".concat(e,"Uri");if("number"!=typeof(n=Li[n])||0===n)throw new TypeError("Got Unknown URI Name");return t=new(e=$m[e])(t),t=e.encode(t).finish(),new eu({uri:n,data:t})}function an(e,t){return"".concat(e.split(".").join("-"),".edge.").concat(t?"sd-rtn.com":"agora.io")}function eb(e,t,n){return Mi.apply(this,arguments)}function Mi(){return(Mi=J(w.mark((function e(t,n,r){var i,o;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;break;case 2:return i=fu[t].encode(n).finish(),o=function(){var e=J(w.mark((function e(n){var a,s,c,u=arguments;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(3<(s=1<u.length&&void 0!==u[1]?u[1]:0))){e.next=3;break}return e.abrupt("return");case 3:return c=we(c=r?"https://".concat(null!==(a=null==M?void 0:M.PROXY_NGINX[0])&&void 0!==a?a:"webrtc-cloud-proxy.sd-rtn.com","/rs/?h=").concat(n,"&p=6443&d=events/proto-raw"):"https://".concat(n,":6443/events/proto-raw"),"sentTs",Math.ceil(Date.now()/1e3).toString()),c=we(c,"id",gu[t].toString()),e.next=8,te(c,{body:i,timeout:2e4,headers:{"Content-Type":"application/octet-stream"}}).catch((function(e){return o(n,s+1)}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.prev=4,e.next=7,o((null==M?void 0:M.EVENT_REPORT_DOMAIN[0])||"webcollector-rtm.agora.io");case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(4),e.next=13,o(M&&bn(1<(null==M?void 0:M.EVENT_REPORT_DOMAIN.length)?null==M?void 0:M.EVENT_REPORT_DOMAIN.slice(1):null==M?void 0:M.EVENT_REPORT_DOMAIN)||"rtm.statscollector.sd-rtn.com");case 13:case"end":return e.stop()}}),e,null,[[4,9]])})))).apply(this,arguments)}function fb(e){return void 0===e?U.fromNumber(0):U.fromNumber(Date.now()-e)}function hu(e){return btoa(String.fromCharCode.apply({},e.replace(/\r|\n/g,"").replace(/([\dA-Fa-f]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ").map((function(e){return parseInt(e,16)})))).replace(/={1,2}$/,"")}function Lg(e,t){return U.fromValue(e).eq(t)}function Mg(e,t){var n=void 0===t?e.val:t,r=e.isBoolean;t=e.isNumber;var i=e.oneof,o=e.len;if(2!==[r,t,i].filter((function(e){return!e})).length)throw new TypeError("invalid field type");if(void 0!==n&&(e=!1,void 0!==i&&(i=Ni(i),iu(i,Lg).length===i.length&&void 0!==ju(i,(function(e){return Lg(n,e)}))&&(e=!0)),r=void 0!==r&&(0===n||1===n)&&1===o,t=void 0!==t&&n.toString(2).length<=o,!(e||r||t)))throw Error("invalid field value")}function cn(e){return function(){var t=e();if(!t)throw new K("Client is not logged in. Cannot do the operation");return t}}var Ya="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self?self:{},Ng=function(e){return e&&e.Math==Math&&e},y=Ng("object"==typeof globalThis&&globalThis)||Ng("object"==typeof window&&window)||Ng("object"==typeof self&&self)||Ng("object"==typeof Ya&&Ya)||function(){return this}()||Function("return this")(),R=function(e){try{return!!e()}catch(e){return!0}},ka=!R((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),dn={}.propertyIsEnumerable,en=Object.getOwnPropertyDescriptor,zf=en&&!dn.call({1:2},1)?function(e){return!!(e=en(this,e))&&e.enumerable}:dn,dd=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},ku={}.toString,Zb=function(e){return ku.call(e).slice(8,-1)},lu="".split,Af=R((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==Zb(e)?lu.call(e,""):Object(e)}:Object,jb=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},qb=function(e){return Af(jb(e))},ha=function(e){return"object"==typeof e?null!==e:"function"==typeof e},lc=function(e,t){if(!ha(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!ha(r=n.call(e))||"function"==typeof(n=e.valueOf)&&!ha(r=n.call(e))||!t&&"function"==typeof(n=e.toString)&&!ha(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},Qa=function(e){return Object(jb(e))},mu={}.hasOwnProperty,Q=function(e,t){return mu.call(Qa(e),t)},ze=y.document,Og=ha(ze)&&ha(ze.createElement),fn=!ka&&!R((function(){return 7!=Object.defineProperty(Og?ze.createElement("div"):{},"a",{get:function(){return 7}}).a})),gn=Object.getOwnPropertyDescriptor,Fb={f:ka?gn:function(e,t){if(e=qb(e),t=lc(t,!0),fn)try{return gn(e,t)}catch(e){}if(Q(e,t))return dd(!zf.call(e,t),e[t])}},va=function(e){if(!ha(e))throw TypeError(String(e)+" is not an object");return e},hn=Object.defineProperty,Ra={f:ka?hn:function(e,t,n){if(va(e),t=lc(t,!0),va(n),fn)try{return hn(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},Na=ka?function(e,t,n){return Ra.f(e,t,dd(1,n))}:function(e,t,n){return e[t]=n,e},Oi=function(e,t){try{Na(y,e,t)}catch(n){y[e]=t}return t},ed=y["__core-js_shared__"]||Oi("__core-js_shared__",{}),nu=Function.toString;"function"!=typeof ed.inspectSource&&(ed.inspectSource=function(e){return nu.call(e)});var Pi=ed.inspectSource,jn=y.WeakMap,ou="function"==typeof jn&&/native code/.test(Pi(jn)),fd=$a((function(e){(e.exports=function(e,t){return ed[e]||(ed[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.12.1",mode:"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})})),pu=0,qu=Math.random(),Ae=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++pu+qu).toString(36)},kn=fd("keys"),Pg=function(e){return kn[e]||(kn[e]=Ae(e))},Be={},ru=y.WeakMap;if(ou||ed.state)var Gd=ed.state||(ed.state=new ru),su=Gd.get,ln=Gd.has,tu=Gd.set,Qi=function(e,t){if(ln.call(Gd,e))throw new TypeError("Object already initialized");return t.facade=e,tu.call(Gd,e,t),t},Qg=function(e){return su.call(Gd,e)||{}},Ri=function(e){return ln.call(Gd,e)};else{var Ce=Pg("state");Be[Ce]=!0,Qi=function(e,t){if(Q(e,Ce))throw new TypeError("Object already initialized");return t.facade=e,Na(e,Ce,t),t},Qg=function(e){return Q(e,Ce)?e[Ce]:{}},Ri=function(e){return Q(e,Ce)}}var Za={set:Qi,get:Qg,has:Ri,enforce:function(e){return Ri(e)?Qg(e):Qi(e,{})},getterFor:function(e){return function(t){var n;if(!ha(t)||(n=Qg(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},Ta=$a((function(e){var t=Za.get,n=Za.enforce,r=String(String).split("String");(e.exports=function(e,t,i,o){var a=!!o&&!!o.unsafe,s=!!o&&!!o.enumerable;if(o=!!o&&!!o.noTargetGet,"function"==typeof i){"string"!=typeof t||Q(i,"name")||Na(i,"name",t);var c=n(i);c.source||(c.source=r.join("string"==typeof t?t:""))}e===y?s?e[t]=i:Oi(t,i):(a?!o&&e[t]&&(s=!0):delete e[t],s?e[t]=i:Na(e,t,i))})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||Pi(this)}))})),mn=function(e){return"function"==typeof e?e:void 0},mc=function(e,t){return 2>arguments.length?mn(y[e])||mn(y[e]):y[e]&&y[e][t]||y[e]&&y[e][t]},uu=Math.ceil,vu=Math.floor,$b=function(e){return isNaN(e=+e)?0:(0<e?vu:uu)(e)},wu=Math.min,ta=function(e){return 0<e?wu($b(e),9007199254740991):0},xu=Math.max,yu=Math.min,xb=function(e,t){return 0>(e=$b(e))?xu(e+t,0):yu(e,t)},nn=function(e){return function(t,n,r){t=qb(t);var i=ta(t.length);if(r=xb(r,i),e&&n!=n){for(;i>r;)if((n=t[r++])!=n)return!0}else for(;i>r;r++)if((e||r in t)&&t[r]===n)return e||r||0;return!e&&-1}},on=nn(!0),Si=nn(!1),pn=function(e,t){e=qb(e);var n,r=0,i=[];for(n in e)!Q(Be,n)&&Q(e,n)&&i.push(n);for(;t.length>r;)Q(e,n=t[r++])&&(~Si(i,n)||i.push(n));return i},Rg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),zu=Rg.concat("length","prototype"),Hd={f:Object.getOwnPropertyNames||function(e){return pn(e,zu)}},Bf={f:Object.getOwnPropertySymbols},qn=mc("Reflect","ownKeys")||function(e){var t=Hd.f(va(e)),n=Bf.f;return n?t.concat(n(e)):t},rn=function(e,t){for(var n=qn(t),r=Ra.f,i=Fb.f,o=0;o<n.length;o++){var a=n[o];Q(e,a)||r(e,a,i(t,a))}},Au=/#|\.prototype\./,nc=function(e,t){return(e=Bu[Cu(e)])==Du||e!=Eu&&("function"==typeof t?R(t):!!t)},Cu=nc.normalize=function(e){return String(e).replace(Au,".").toLowerCase()},Bu=nc.data={},Eu=nc.NATIVE="N",Du=nc.POLYFILL="P",Fu=Fb.f,N=function(e,t){var n,r,i,o=e.target,a=e.global,s=e.stat;if(r=a?y:s?y[o]||Oi(o,{}):(y[o]||{}).prototype)for(i in t){var c=t[i],u=e.noTargetGet?(n=Fu(r,i))&&n.value:r[i];if(!(n=nc(a?i:o+(s?".":"#")+i,e.forced))&&void 0!==u){if(typeof c==typeof u)continue;rn(c,u)}(e.sham||u&&u.sham)&&Na(c,"sham",!0);try{Ta(r,i,c,e)}catch(e){}}},yb=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},Id=function(e,t,n){if(yb(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}},gd=Array.isArray||function(e){return"Array"==Zb(e)},De=mc("navigator","userAgent")||"",sn=y.process,tn=sn&&sn.versions,un=tn&&tn.v8;if(un)var hd=un.split("."),Ti=4>hd[0]?1:hd[0]+hd[1];else De&&(hd=De.match(/Edge\/(\d+)/),(!hd||74<=hd[1])&&(hd=De.match(/Chrome\/(\d+)/))&&(Ti=hd[1]));var id=Ti&&+Ti,oc=!!Object.getOwnPropertySymbols&&!R((function(){return!String(Symbol())||!Symbol.sham&&id&&41>id})),vn=oc&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Cf=fd("wks"),Df=y.Symbol,Gu=vn?Df:Df&&Df.withoutSetter||Ae,qa=function(e){return Q(Cf,e)&&(oc||"string"==typeof Cf[e])||(oc&&Q(Df,e)?Cf[e]=Df[e]:Cf[e]=Gu("Symbol."+e)),Cf[e]},Hu=qa("species"),Sg=function(e,t){if(gd(e)){var n=e.constructor;"function"!=typeof n||n!==Array&&!gd(n.prototype)?ha(n)&&null===(n=n[Hu])&&(n=void 0):n=void 0}return new(void 0===n?Array:n)(0===t?0:t)},wn=[].push,jd=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,o=6==e,a=7==e,s=5==e||o;return function(c,u,l,d){var h=Qa(c),p=Af(h);u=Id(u,l,3),l=ta(p.length);var f,A=0;for(d=d||Sg,c=t?d(c,l):n||a?d(c,0):void 0;l>A;A++)if((s||A in p)&&(f=u(d=p[A],A,h),e))if(t)c[A]=f;else if(f)switch(e){case 3:return!0;case 5:return d;case 6:return A;case 2:wn.call(c,d)}else switch(e){case 4:return!1;case 7:wn.call(c,d)}return o?-1:r||i?i:c}},Jd=jd(0),xn=jd(1),yn=jd(2),Iu=jd(3),Ju=jd(4),zn=jd(5),An=jd(6);jd(7);var Ku=qa("species"),Ef=function(e){return 51<=id||!R((function(){var t=[];return(t.constructor={})[Ku]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},Lu=Ef("filter");N({target:"Array",proto:!0,forced:!Lu},{filter:function(e){return yn(this,e,1<arguments.length?arguments[1]:void 0)}});var Dc=Object.keys||function(e){return pn(e,Rg)},Mu=R((function(){Dc(1)}));N({target:"Object",stat:!0,forced:Mu},{keys:function(e){return Dc(Qa(e))}});var Ee=function(e,t){var n=[][e];return!!n&&R((function(){n.call(null,t||function(){throw 1},1)}))},Nu=[].join,Ou=Af!=Object,Pu=Ee("join",",");N({target:"Array",proto:!0,forced:Ou||!Pu},{join:function(e){return Nu.call(qb(this),void 0===e?",":e)}});var Qu=Ef("map");N({target:"Array",proto:!0,forced:!Qu},{map:function(e){return xn(this,e,1<arguments.length?arguments[1]:void 0)}});var Ui=function(e){var t=e.return;if(void 0!==t)return va(t.call(e)).value},Fe={},Ru=qa("iterator"),Su=Array.prototype,Vi=function(e){return void 0!==e&&(Fe.Array===e||Su[Ru]===e)},Ge=function(e,t,n){(t=lc(t))in e?Ra.f(e,t,dd(0,n)):e[t]=n},Tu=qa("toStringTag"),Bn={};Bn[Tu]="z";var Wi="[object z]"===String(Bn),Uu=qa("toStringTag"),Vu="Arguments"==Zb(function(){return arguments}()),Ff=Wi?Zb:function(e){var t;if(void 0===e)var n="Undefined";else{if(null===e)var r="Null";else{e:{var i=e=Object(e);try{r=i[Uu];break e}catch(e){}r=void 0}r="string"==typeof(n=r)?n:Vu?Zb(e):"Object"==(t=Zb(e))&&"function"==typeof e.callee?"Arguments":t}n=r}return n},Wu=qa("iterator"),Xi=function(e){if(null!=e)return e[Wu]||e["@@iterator"]||Fe[Ff(e)]},Cn=qa("iterator"),Dn=!1;try{var Xu=0,En={next:function(){return{done:!!Xu++}},return:function(){Dn=!0}};En[Cn]=function(){return this},Array.from(En,(function(){throw 2}))}catch(c){}var Tg=function(e,t){if(!t&&!Dn)return!1;var n=!1;try{(t={})[Cn]=function(){return{next:function(){return{done:n=!0}}}},e(t)}catch(e){}return n},Yu=!Tg((function(e){Array.from(e)}));N({target:"Array",stat:!0,forced:Yu},{from:function(e){var t,n=Qa(e),r="function"==typeof this?this:Array,i=arguments.length,o=1<i?arguments[1]:void 0,a=void 0!==o,s=Xi(n),c=0;if(a&&(o=Id(o,2<i?arguments[2]:void 0,2)),null==s||r==Array&&Vi(s)){var u=ta(n.length);for(r=new r(u);u>c;c++)s=a?o(n[c],c):n[c],Ge(r,c,s)}else for(i=(n=s.call(n)).next,r=new r;!(t=i.call(n)).done;c++){if(a){s=n;var l=o;t=[t.value,c];try{u=l(va(t)[0],t[1])}catch(e){throw Ui(s),e}}else u=t.value;Ge(r,c,s=u)}return r.length=c,r}});var Fn=function(e){return function(t,n){t=String(jb(t)),n=$b(n);var r,i=t.length;if(0>n||n>=i)return e?"":void 0;var o=t.charCodeAt(n);return 55296>o||56319<o||n+1===i||56320>(r=t.charCodeAt(n+1))||57343<r?e?t.charAt(n):o:e?t.slice(n,n+2):r-56320+(o-55296<<10)+65536}};Fn(!1);var Gn=Fn(!0),Hn=!R((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),In=Pg("IE_PROTO"),Zu=Object.prototype,Vb=Hn?Object.getPrototypeOf:function(e){return e=Qa(e),Q(e,In)?e[In]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Zu:null},Yi=qa("iterator"),Jn=!1,$u=function(){return this},Kd;if([].keys){var Kn=[].keys();if("next"in Kn){var Ln=Vb(Vb(Kn));Ln!==Object.prototype&&(Kd=Ln)}else Jn=!0}(null==Kd||R((function(){var e={};return Kd[Yi].call(e)!==e})))&&(Kd={}),Q(Kd,Yi)||Na(Kd,Yi,$u);var Ug=Kd,Vg=Jn,av=ka?Object.defineProperties:function(e,t){va(e);for(var n,r=Dc(t),i=r.length,o=0;i>o;)Ra.f(e,n=r[o++],t[n]);return e},Zi=mc("document","documentElement"),Mn=Pg("IE_PROTO"),$i=function(){},aj,Wg=function(){try{aj=document.domain&&new ActiveXObject("htmlfile")}catch(e){}if(aj){var e=aj;e.write("<script><\/script>"),e.close(),e=e.parentWindow.Object}else(e=Og?ze.createElement("iframe"):{}).style.display="none",Zi.appendChild(e),e.src="javascript:",(e=e.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),e=e.F;for(Wg=e,e=Rg.length;e--;)delete Wg.prototype[Rg[e]];return Wg()};Be[Mn]=!0;var ac=Object.create||function(e,t){if(null!==e){$i.prototype=va(e);var n=new $i;$i.prototype=null,n[Mn]=e}else n=Wg();return void 0===t?n:av(n,t)},bv=Ra.f,Nn=qa("toStringTag"),Ec=function(e,t,n){e&&!Q(e=n?e:e.prototype,Nn)&&bv(e,Nn,{configurable:!0,value:t})},cv=function(){return this},dv=function(e,t,n){return t+=" Iterator",e.prototype=ac(Ug,{next:dd(1,n)}),Ec(e,t,!1),Fe[t]=cv,e},Ua=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,t={};try{var n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set;n.call(t,[]),e=t instanceof Array}catch(e){}return function(t,r){if(va(t),!ha(r)&&null!==r)throw TypeError("Can't set "+String(r)+" as a prototype");return e?n.call(t,r):t.__proto__=r,t}}():void 0),Gf=qa("iterator"),ev=function(){return this},bj=function(e,t,n,r,i,o,a){dv(n,t,r),r=function(e){if(e===i&&h)return h;if(!Vg&&e in l)return l[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}};var s,c=t+" Iterator",u=!1,l=e.prototype,d=l[Gf]||l["@@iterator"]||i&&l[i],h=!Vg&&d||r(i),p="Array"==t&&l.entries||d;if(p&&(e=Vb(p.call(new e)),Ug!==Object.prototype&&e.next&&(Vb(e)!==Ug&&(Ua?Ua(e,Ug):"function"!=typeof e[Gf]&&Na(e,Gf,ev)),Ec(e,c,!0))),"values"==i&&d&&"values"!==d.name&&(u=!0,h=function(){return d.call(this)}),l[Gf]!==h&&Na(l,Gf,h),Fe[t]=h,i){var f={values:r("values"),keys:o?h:r("keys"),entries:r("entries")};if(a)for(s in f)!Vg&&!u&&s in l||Ta(l,s,f[s]);else N({target:t,proto:!0,forced:Vg||u},f)}return f},fv=Za.set,gv=Za.getterFor("String Iterator");bj(String,"String",(function(e){fv(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e=gv(this),t=e.string,n=e.index;return n>=t.length?{value:void 0,done:!0}:(t=Gn(t,n),e.index+=t.length,{value:t,done:!1})}));var cj=qa("unscopables"),dj=Array.prototype;null==dj[cj]&&Ra.f(dj,cj,{configurable:!0,value:ac(null)});var Ld=function(e){dj[cj][e]=!0},On=!0;"find"in[]&&Array(1).find((function(){On=!1})),N({target:"Array",proto:!0,forced:On},{find:function(e){return zn(this,e,1<arguments.length?arguments[1]:void 0)}}),Ld("find");var Pn=function(e){var t=String(jb(this)),n="";if(0>(e=$b(e))||1/0==e)throw RangeError("Wrong number of repetitions");for(;0<e;(e>>>=1)&&(t+=t))1&e&&(n+=t);return n};N({target:"String",proto:!0},{repeat:Pn}),N({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991}),N({target:"Number",stat:!0},{isNaN:function(e){return e!=e}}),y.Number.isNaN;var hv=Wi?{}.toString:function(){return"[object "+Ff(this)+"]"};Wi||Ta(Object.prototype,"toString",hv,{unsafe:!0});var Fc=y.Promise,Hf=function(e,t,n){for(var r in t)Ta(e,r,t[r],n);return e},Qn=qa("species"),If=function(e){e=mc(e);var t=Ra.f;ka&&e&&!e[Qn]&&t(e,Qn,{configurable:!0,get:function(){return this}})},Gc=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e},Jf=function(e,t){this.stopped=e,this.result=t},Xg=function(e,t,n){var r,i=!(!n||!n.AS_ENTRIES),o=!(!n||!n.IS_ITERATOR),a=!(!n||!n.INTERRUPTED),s=Id(t,n&&n.that,1+i+a),c=function(e){return u&&Ui(u),new Jf(!0,e)};if(t=function(e){return i?(va(e),a?s(e[0],e[1],c):s(e[0],e[1])):a?s(e,c):s(e)},o)var u=e;else{if("function"!=typeof(o=Xi(e)))throw TypeError("Target is not iterable");if(Vi(o)){for(o=0,n=ta(e.length);n>o;o++)if((r=t(e[o]))&&r instanceof Jf)return r;return new Jf(!1)}u=o.call(e)}for(e=u.next;!(o=e.call(u)).done;){try{r=t(o.value)}catch(e){throw Ui(u),e}if("object"==typeof r&&r&&r instanceof Jf)return r}return new Jf(!1)},iv=qa("species"),kd=function(e,t){var n;return void 0===(e=va(e).constructor)||null==(n=va(e)[iv])?t:yb(n)},Rn=/(?:iphone|ipod|ipad).*applewebkit/i.test(De),Hc="process"==Zb(y.process),Yg=y.location,ej=y.setImmediate,Sn=y.clearImmediate,jv=y.process,Tn=y.MessageChannel,fj=y.Dispatch,gj=0,Kf={},hj=function(e){if(Kf.hasOwnProperty(e)){var t=Kf[e];delete Kf[e],t()}},ij=function(e){return function(){hj(e)}},Un=function(e){hj(e.data)},Vn=function(e){y.postMessage(e+"",Yg.protocol+"//"+Yg.host)};if(!ej||!Sn)if(ej=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return Kf[++gj]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},Lf(gj),gj},Sn=function(e){delete Kf[e]},Hc)var Lf=function(e){jv.nextTick(ij(e))};else if(fj&&fj.now)Lf=function(e){fj.now(ij(e))};else if(Tn&&!Rn){var Wn=new Tn,Xn=Wn.port2;Wn.port1.onmessage=Un,Lf=Id(Xn.postMessage,Xn,1)}else y.addEventListener&&"function"==typeof postMessage&&!y.importScripts&&Yg&&"file:"!==Yg.protocol&&!R(Vn)?(Lf=Vn,y.addEventListener("message",Un,!1)):Lf="onreadystatechange"in(Og?ze.createElement("script"):{})?function(e){Zi.appendChild(Og?ze.createElement("script"):{}).onreadystatechange=function(){Zi.removeChild(this),hj(e)}}:function(e){setTimeout(ij(e),0)};var jj=ej,kv=/web0s(?!.*chrome)/i.test(De),lv=Fb.f,Yn=y.MutationObserver||y.WebKitMutationObserver,Zn=y.document,$n=y.process,Zg=y.Promise,ao=lv(y,"queueMicrotask"),bo=ao&&ao.value,Md,Mf;if(!bo){var ah=function(){var e;for(Hc&&(e=$n.domain)&&e.exit();Md;){var t=Md.fn;Md=Md.next;try{t()}catch(e){throw Md?$g():Mf=void 0,e}}Mf=void 0,e&&e.enter()};if(Rn||Hc||kv||!Yn||!Zn)if(Zg&&Zg.resolve){var kj=Zg.resolve(void 0);kj.constructor=Zg;var mv=kj.then,$g=function(){mv.call(kj,ah)}}else $g=Hc?function(){$n.nextTick(ah)}:function(){jj.call(y,ah)};else{var co=!0,eo=Zn.createTextNode("");new Yn(ah).observe(eo,{characterData:!0}),$g=function(){eo.data=co=!co}}}var fo=bo||function(e){e={fn:e,next:void 0},Mf&&(Mf.next=e),Md||(Md=e,$g()),Mf=e},nv=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=yb(t),this.reject=yb(n)},lj={f:function(e){return new nv(e)}},mj=function(e,t){return va(e),ha(t)&&t.constructor===e?t:((0,(e=lj.f(e)).resolve)(t),e.promise)},ov=function(e,t){var n=y.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))},nj=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},pv="object"==typeof window,qv=qa("species"),go=Za.get,rv=Za.set,sv=Za.getterFor("Promise"),Nd=Fc&&Fc.prototype,zb=Fc,bh=Nd,ho=y.TypeError,oj=y.document,pj=y.process,He=lj.f,tv=He,uv=!!(oj&&oj.createEvent&&y.dispatchEvent),io="function"==typeof PromiseRejectionEvent,jo=!1,Nf=nc("Promise",(function(){var e=Pi(zb)!==String(zb);if(!e&&66===id)return!0;if(51<=id&&/native code/.test(zb))return!1;var t=new zb((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))};return(t.constructor={})[qv]=n,!(jo=t.then((function(){}))instanceof n)||!e&&pv&&!io})),vv=Nf||!Tg((function(e){zb.all(e).catch((function(){}))})),ko=function(e){var t;return!(!ha(e)||"function"!=typeof(t=e.then))&&t},qj=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;fo((function(){for(var r=e.value,i=1==e.state,o=0;n.length>o;){var a,s=n[o++],c=i?s.ok:s.fail,u=s.resolve,l=s.reject,d=s.domain;try{if(c){if(i||(2===e.rejection&&wv(e),e.rejection=1),!0===c)var h=r;else if(d&&d.enter(),h=c(r),d){d.exit();var p=!0}h===s.promise?l(ho("Promise-chain cycle")):(a=ko(h))?a.call(h,u,l):u(h)}else l(r)}catch(e){d&&!p&&d.exit(),l(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&xv(e)}))}},lo=function(e,t,n){var r;if(uv){var i=oj.createEvent("Event");i.promise=t,i.reason=n,i.initEvent(e,!1,!0),y.dispatchEvent(i)}else i={promise:t,reason:n};!io&&(r=y["on"+e])?r(i):"unhandledrejection"===e&&ov("Unhandled promise rejection",n)},xv=function(e){jj.call(y,(function(){var t=e.facade,n=e.value;if(1!==e.rejection&&!e.parent){var r=nj((function(){Hc?pj.emit("unhandledRejection",n,t):lo("unhandledrejection",t,n)}));if(e.rejection=Hc||1!==e.rejection&&!e.parent?2:1,r.error)throw r.value}}))},wv=function(e){jj.call(y,(function(){var t=e.facade;Hc?pj.emit("rejectionHandled",t):lo("rejectionhandled",t,e.value)}))},Ie=function(e,t,n){return function(r){e(t,r,n)}},Je=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,qj(e,!0))},rj=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw ho("Promise can't be resolved itself");var r=ko(t);r?fo((function(){var n={done:!1};try{r.call(t,Ie(rj,n,e),Ie(Je,n,e))}catch(t){Je(n,t,e)}})):(e.value=t,e.state=1,qj(e,!1))}catch(t){Je({done:!1},t,e)}}};if(Nf){zb=function(e){Gc(this,zb,"Promise"),yb(e),sj.call(this);var t=go(this);try{e(Ie(rj,t),Ie(Je,t))}catch(e){Je(t,e)}},bh=zb.prototype;var sj=function(e){rv(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})};sj.prototype=Hf(bh,{then:function(e,t){var n=sv(this),r=He(kd(this,zb));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=Hc?pj.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&qj(n,!1),r.promise},catch:function(e){return this.then(void 0,e)}});var yv=function(){var e=new sj,t=go(e);this.promise=e,this.resolve=Ie(rj,t),this.reject=Ie(Je,t)};if(lj.f=He=function(e){return e===zb||e===zv?new yv(e):tv(e)},"function"==typeof Fc&&Nd!==Object.prototype){var Av=Nd.then;jo||(Ta(Nd,"then",(function(e,t){var n=this;return new zb((function(e,t){Av.call(n,e,t)})).then(e,t)}),{unsafe:!0}),Ta(Nd,"catch",bh.catch,{unsafe:!0}));try{delete Nd.constructor}catch(c){}Ua&&Ua(Nd,bh)}}N({global:!0,wrap:!0,forced:Nf},{Promise:zb}),Ec(zb,"Promise",!1),If("Promise");var zv=mc("Promise");N({target:"Promise",stat:!0,forced:Nf},{reject:function(e){var t=He(this);return t.reject.call(void 0,e),t.promise}}),N({target:"Promise",stat:!0,forced:Nf},{resolve:function(e){return mj(this,e)}}),N({target:"Promise",stat:!0,forced:vv},{all:function(e){var t=this,n=He(t),r=n.resolve,i=n.reject,o=nj((function(){var n=yb(t.resolve),o=[],a=0,s=1;Xg(e,(function(e){var c=a++,u=!1;o.push(void 0),s++,n.call(t,e).then((function(e){u||(u=!0,o[c]=e,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=He(t),r=n.reject,i=nj((function(){var i=yb(t.resolve);Xg(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}});var mo=[].indexOf,no=!!mo&&0>1/[1].indexOf(1,-0),Bv=Ee("indexOf");N({target:"Array",proto:!0,forced:no||!Bv},{indexOf:function(e){return no?mo.apply(this,arguments)||0:Si(this,e,1<arguments.length?arguments[1]:void 0)}});var tj=function(){var e=va(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},pc=R((function(){var e=RegExp("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),Cv=R((function(){var e=RegExp("^r","gy");return e.lastIndex=2,null!=e.exec("str")})),ch=RegExp.prototype.exec,Dv=fd("native-string-replace",String.prototype.replace),oo=ch,uj=(c=/a/,a=/b*/g,ch.call(c,"a"),ch.call(a,"a"),0!==c.lastIndex||0!==a.lastIndex),po=pc||Cv,vj=void 0!==/()??/.exec("")[1],c,a;(uj||vj||po)&&(oo=function(e){var t,n=po&&this.sticky,r=tj.call(this),i=this.source,o=0,a=e;if(n){-1===(r=r.replace("y","")).indexOf("g")&&(r+="g"),a=String(e).slice(this.lastIndex),0<this.lastIndex&&(!this.multiline||this.multiline&&"\n"!==e[this.lastIndex-1])&&(i="(?: "+i+")",a=" "+a,o++);var s=new RegExp("^(?:"+i+")",r)}if(vj&&(s=new RegExp("^"+i+"$(?!\\s)",r)),uj)var c=this.lastIndex;var u=ch.call(n?s:this,a);return n?u?(u.input=u.input.slice(o),u[0]=u[0].slice(o),u.index=this.lastIndex,this.lastIndex+=u[0].length):this.lastIndex=0:uj&&u&&(this.lastIndex=this.global?u.index+u[0].length:c),vj&&u&&1<u.length&&Dv.call(u[0],s,(function(){for(t=1;t<arguments.length-2;t++)void 0===arguments[t]&&(u[t]=void 0)})),u});var Of=oo;N({target:"RegExp",proto:!0,forced:/./.exec!==Of},{exec:Of});var Ev=qa("species"),wj=RegExp.prototype,Fv=!R((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),qo="$0"==="a".replace(/./,"$0"),ro=qa("replace"),so=!!/./[ro]&&""===/./[ro]("a","$0"),Gv=!R((function(){var e=/(?:)/,t=e.exec;return e.exec=function(){return t.apply(this,arguments)},2!==(e="ab".split(e)).length||"a"!==e[0]||"b"!==e[1]})),dh=function(e,t,n,r){var i=qa(e),o=!R((function(){var t={};return t[i]=function(){return 7},7!=""[e](t)})),a=o&&!R((function(){var t=!1,n=/a/;return"split"===e&&((n={constructor:{}}).constructor[Ev]=function(){return n},n.flags="",n[i]=/./[i]),n.exec=function(){return t=!0,null},n[i](""),!t}));if(!o||!a||"replace"===e&&(!Fv||!qo||so)||"split"===e&&!Gv){var s=/./[i],c=(n=n(i,""[e],(function(e,t,n,r,i){var a=t.exec;return a===Of||a===wj.exec?o&&!i?{done:!0,value:s.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:qo,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:so}))[1];Ta(String.prototype,e,n[0]),Ta(wj,i,2==t?function(e,t){return c.call(e,this,t)}:function(e){return c.call(e,this)})}r&&Na(wj[i],"sham",!0)},xj=function(e,t,n){return t+(n?Gn(e,t).length:1)},Hv=Math.floor,Iv="".replace,Jv=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Kv=/\$([$&'`]|\d{1,2})/g,Lv=function(e,t,n,r,i,o){var a=n+e.length,s=r.length,c=Kv;return void 0!==i&&(i=Qa(i),c=Jv),Iv.call(o,c,(function(o,c){switch(c.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(a);case"<":o=i[c.slice(1,-1)];break;default:var u=+c;if(0===u)return o;if(u>s)return 0===(u=Hv(u/10))?o:u<=s?void 0===r[u-1]?c.charAt(1):r[u-1]+c.charAt(1):o;o=r[u-1]}return void 0===o?"":o}))},Ke=function(e,t){var n=e.exec;if("function"==typeof n){if("object"!=typeof(e=n.call(e,t)))throw TypeError("RegExp exec method returned something other than an Object or null");return e}if("RegExp"!==Zb(e))throw TypeError("RegExp#exec called on incompatible receiver");return Of.call(e,t)},Mv=Math.max,Nv=Math.min,Ov=function(e){return void 0===e?e:String(e)};dh("replace",2,(function(e,t,n,r){var i=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,o=r.REPLACE_KEEPS_$0,a=i?"$":"$0";return[function(n,r){var i=jb(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,i,r):t.call(String(i),n,r)},function(e,r){if(!i&&o||"string"==typeof r&&-1===r.indexOf(a)){var s=n(t,e,this,r);if(s.done)return s.value}var c=va(e);e=String(this),(s="function"==typeof r)||(r=String(r));var u=c.global;if(u){var l=c.unicode;c.lastIndex=0}for(var d=[];;){var h=Ke(c,e);if(null===h)break;if(d.push(h),!u)break;""===String(h[0])&&(c.lastIndex=xj(e,ta(c.lastIndex),l))}for(l="",u=c=0;u<d.length;u++){h=d[u];for(var p=String(h[0]),f=Mv(Nv($b(h.index),e.length),0),A=[],g=1;g<h.length;g++)A.push(Ov(h[g]));h=h.groups,s?(A=[p].concat(A,f,e),void 0!==h&&A.push(h),h=String(r.apply(void 0,A))):h=Lv(p,e,f,A,h,r),f>=c&&(l+=e.slice(c,f)+h,c=f+p.length)}return l+e.slice(c)}]}));var Pv=Ef("slice"),Qv=qa("species"),Rv=[].slice,Sv=Math.max;N({target:"Array",proto:!0,forced:!Pv},{slice:function(e,t){var n=qb(this),r=ta(n.length);if(e=xb(e,r),t=xb(void 0===t?r:t,r),gd(n)){var i=n.constructor;if("function"!=typeof i||i!==Array&&!gd(i.prototype)?ha(i)&&null===(i=i[Qv])&&(i=void 0):i=void 0,i===Array||void 0===i)return Rv.call(n,e,t)}for(i=new(void 0===i?Array:i)(Sv(t-e,0)),r=0;e<t;e++,r++)e in n&&Ge(i,r,n[e]);return i.length=r,i}});var Tv=Za.set,Uv=Za.getterFor("Array Iterator"),ld=bj(Array,"Array",(function(e,t){Tv(this,{type:"Array Iterator",target:qb(e),index:0,kind:t})}),(function(){var e=Uv(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");Fe.Arguments=Fe.Array,Ld("keys"),Ld("values"),Ld("entries");var to="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,Le=function(e){if(void 0===e)return 0;e=$b(e);var t=ta(e);if(e!==t)throw RangeError("Wrong length or index");return t},Vv=Math.abs,Ic=Math.pow,Wv=Math.floor,Xv=Math.log,Yv=Math.LN2,yj=function(e){var t=Qa(this),n=ta(t.length),r=arguments.length,i=xb(1<r?arguments[1]:void 0,n);for(n=void 0===(r=2<r?arguments[2]:void 0)?n:xb(r,n);n>i;)t[i++]=e;return t},Zv=Hd.f,$v=Ra.f,Me=Za.get,uo=Za.set,bc=y.ArrayBuffer,Ab=bc,cc=y.DataView,eh=cc&&cc.prototype,vo=Object.prototype,fh=y.RangeError,wo=function(e,t,n){var r,i=Array(n),o=(1<<(n=8*n-t-1))-1,a=o>>1,s=23===t?Ic(2,-24)-Ic(2,-77):0,c=0>e||0===e&&0>1/e?1:0,u=0;if((e=Vv(e))!=e||1/0===e){e=e!=e?1:0;var l=o}else l=Wv(Xv(e)/Yv),1>e*(r=Ic(2,-l))&&(l--,r*=2),2<=(e=1<=l+a?e+s/r:e+s*Ic(2,1-a))*r&&(l++,r/=2),l+a>=o?(e=0,l=o):1<=l+a?(e=(e*r-1)*Ic(2,t),l+=a):(e=e*Ic(2,a-1)*Ic(2,t),l=0);for(;8<=t;i[u++]=255&e,e/=256,t-=8);for(l=l<<t|e,n+=t;0<n;i[u++]=255&l,l/=256,n-=8);return i[--u]|=128*c,i},xo=function(e,t){var n=e.length,r=8*n-t-1,i=(1<<r)-1,o=i>>1;r-=7,--n;var a=e[n--],s=127&a;for(a>>=7;0<r;s=256*s+e[n],n--,r-=8);var c=s&(1<<-r)-1;for(s>>=-r,r+=t;0<r;c=256*c+e[n],n--,r-=8);if(0===s)s=1-o;else{if(s===i)return c?NaN:a?-1/0:1/0;c+=Ic(2,t),s-=o}return(a?-1:1)*c*Ic(2,s-t)},yo=function(e){return[255&e]},zo=function(e){return[255&e,e>>8&255]},Ao=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},Bo=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},aw=function(e){return wo(e,23,4)},bw=function(e){return wo(e,52,8)},gh=function(e,t){$v(e.prototype,t,{get:function(){return Me(this)[t]}})},md=function(e,t,n,r){n=Le(n);var i=Me(e);if(n+t>i.byteLength)throw fh("Wrong index");return e=Me(i.buffer).bytes,n+=i.byteOffset,t=e.slice(n,n+t),r?t:t.reverse()},nd=function(e,t,n,r,i,o){n=Le(n);var a=Me(e);if(n+t>a.byteLength)throw fh("Wrong index");for(e=Me(a.buffer).bytes,n+=a.byteOffset,r=r(+i),i=0;i<t;i++)e[n+i]=r[o?i:t-i-1]};if(to){if(!R((function(){bc(1)}))||!R((function(){new bc(-1)}))||R((function(){return new bc,new bc(1.5),new bc(NaN),"ArrayBuffer"!=bc.name}))){Ab=function(e){return Gc(this,Ab),new bc(Le(e))};for(var cw=Ab.prototype=bc.prototype,Co=Zv(bc),Do=0,zj;Co.length>Do;)(zj=Co[Do++])in Ab||Na(Ab,zj,bc[zj]);cw.constructor=Ab}Ua&&Vb(eh)!==vo&&Ua(eh,vo);var hh=new cc(new Ab(2)),Eo=eh.setInt8;hh.setInt8(0,2147483648),hh.setInt8(1,2147483649),!hh.getInt8(0)&&hh.getInt8(1)||Hf(eh,{setInt8:function(e,t){Eo.call(this,e,t<<24>>24)},setUint8:function(e,t){Eo.call(this,e,t<<24>>24)}},{unsafe:!0})}else Ab=function(e){Gc(this,Ab,"ArrayBuffer"),e=Le(e),uo(this,{bytes:yj.call(Array(e),0),byteLength:e}),ka||(this.byteLength=e)},cc=function(e,t,n){Gc(this,cc,"DataView"),Gc(e,Ab,"DataView");var r=Me(e).byteLength;if(0>(t=$b(t))||t>r)throw fh("Wrong offset");if(t+(n=void 0===n?r-t:ta(n))>r)throw fh("Wrong length");uo(this,{buffer:e,byteLength:n,byteOffset:t}),ka||(this.buffer=e,this.byteLength=n,this.byteOffset=t)},ka&&(gh(Ab,"byteLength"),gh(cc,"buffer"),gh(cc,"byteLength"),gh(cc,"byteOffset")),Hf(cc.prototype,{getInt8:function(e){return md(this,1,e)[0]<<24>>24},getUint8:function(e){return md(this,1,e)[0]},getInt16:function(e){var t=md(this,2,e,1<arguments.length?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=md(this,2,e,1<arguments.length?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return Bo(md(this,4,e,1<arguments.length?arguments[1]:void 0))},getUint32:function(e){return Bo(md(this,4,e,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(e){return xo(md(this,4,e,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(e){return xo(md(this,8,e,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(e,t){nd(this,1,e,yo,t)},setUint8:function(e,t){nd(this,1,e,yo,t)},setInt16:function(e,t){nd(this,2,e,zo,t,2<arguments.length?arguments[2]:void 0)},setUint16:function(e,t){nd(this,2,e,zo,t,2<arguments.length?arguments[2]:void 0)},setInt32:function(e,t){nd(this,4,e,Ao,t,2<arguments.length?arguments[2]:void 0)},setUint32:function(e,t){nd(this,4,e,Ao,t,2<arguments.length?arguments[2]:void 0)},setFloat32:function(e,t){nd(this,4,e,aw,t,2<arguments.length?arguments[2]:void 0)},setFloat64:function(e,t){nd(this,8,e,bw,t,2<arguments.length?arguments[2]:void 0)}});Ec(Ab,"ArrayBuffer"),Ec(cc,"DataView");var Pf={ArrayBuffer:Ab,DataView:cc},Aj=Pf.ArrayBuffer,Fo=Pf.DataView,Go=Aj.prototype.slice,dw=R((function(){return!new Aj(2).slice(1,void 0).byteLength}));N({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:dw},{slice:function(e,t){if(void 0!==Go&&void 0===t)return Go.call(va(this),e);var n=va(this).byteLength;e=xb(e,n),t=xb(void 0===t?n:t,n),n=new(kd(this,Aj))(ta(t-e));for(var r=new Fo(this),i=new Fo(n),o=0;e<t;)i.setUint8(o++,r.getUint8(e++));return n}});var ew=Ra.f,ih=y.Int8Array,Bj=ih&&ih.prototype,Ho=y.Uint8ClampedArray,Io=Ho&&Ho.prototype,qc=ih&&Vb(ih),dc=Bj&&Vb(Bj),Jo=Object.prototype,Ko=Jo.isPrototypeOf,Lo=qa("toStringTag"),Cj=Ae("TYPED_ARRAY_TAG"),Jc=to&&!!Ua&&"Opera"!==Ff(y.opera),Mo=!1,Bb,rc={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},fw={BigInt64Array:8,BigUint64Array:8},jh=function(e){return!!ha(e)&&(e=Ff(e),Q(rc,e)||Q(fw,e))};for(Bb in rc)y[Bb]||(Jc=!1);if((!Jc||"function"!=typeof qc||qc===Function.prototype)&&(qc=function(){throw TypeError("Incorrect invocation")},Jc))for(Bb in rc)y[Bb]&&Ua(y[Bb],qc);if((!Jc||!dc||dc===Jo)&&(dc=qc.prototype,Jc))for(Bb in rc)y[Bb]&&Ua(y[Bb].prototype,dc);if(Jc&&Vb(Io)!==dc&&Ua(Io,dc),ka&&!Q(dc,Lo))for(Bb in Mo=!0,ew(dc,Lo,{get:function(){return ha(this)?this[Cj]:void 0}}),rc)y[Bb]&&Na(y[Bb],Cj,Bb);var Qf=Jc,No=Mo&&Cj,Da=function(e){if(jh(e))return e;throw TypeError("Target is not a typed array")},Ne=function(e){if(Ua){if(Ko.call(qc,e))return e}else for(var t in rc)if(Q(rc,Bb)){var n=y[t];if(n&&(e===n||Ko.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},Aa=function(e,t,n){if(ka){if(n)for(var r in rc){var i=y[r];if(i&&Q(i.prototype,e))try{delete i.prototype[e]}catch(e){}}dc[e]&&!n||Ta(dc,e,n?t:Jc&&Bj[e]||t)}},Oo=function(e,t,n){var r,i;if(ka){if(Ua){if(n)for(r in rc)if((i=y[r])&&Q(i,e))try{delete i[e]}catch(e){}if(qc[e]&&!n)return;try{return Ta(qc,e,n?t:Jc&&qc[e]||t)}catch(e){}}for(r in rc)!(i=y[r])||i[e]&&!n||Ta(i,e,t)}},Po=qc,Rf=dc,gw=y.ArrayBuffer,Od=y.Int8Array,Dj=!Qf||!R((function(){Od(1)}))||!R((function(){new Od(-1)}))||!Tg((function(e){new Od,new Od(null),new Od(1.5),new Od(e)}),!0)||R((function(){return 1!==new Od(new gw(2),1,void 0).length})),kh=function(e,t){if(0>(e=$b(e)))throw RangeError("The argument can't be less than 0");if(e%t)throw RangeError("Wrong offset");return e},Ej=function(e){var t=Qa(e),n=arguments.length,r=1<n?arguments[1]:void 0,i=void 0!==r,o=Xi(t);if(null!=o&&!Vi(o)){var a=o.call(t),s=a.next;for(t=[];!(o=s.call(a)).done;)t.push(o.value)}for(i&&2<n&&(r=Id(r,arguments[2],2)),o=ta(t.length),a=new(Ne(this))(o),n=0;o>n;n++)a[n]=i?r(t[n],n):t[n];return a},lh=function(e,t,n){var r,i;return Ua&&"function"==typeof(r=t.constructor)&&r!==n&&ha(i=r.prototype)&&i!==n.prototype&&Ua(e,i),e},Sf=$a((function(e){var t=Hd.f,n=Za.get,r=Za.set,i=Ra.f,o=Fb.f,a=Math.round,s=y.RangeError,c=Pf.ArrayBuffer,u=Pf.DataView,l=function(e,t){var n=0,r=t.length;for(e=new(Ne(e))(r);r>n;)e[n]=t[n++];return e},d=function(e,t){i(e,t,{get:function(){return n(this)[t]}})},h=function(e){var t;return e instanceof c||"ArrayBuffer"==(t=Ff(e))||"SharedArrayBuffer"==t},p=function(e,t){return jh(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},f=function(e,t){return p(e,t=lc(t,!0))?dd(2,e[t]):o(e,t)},A=function(e,t,n){return!(p(e,t=lc(t,!0))&&ha(n)&&Q(n,"value"))||Q(n,"get")||Q(n,"set")||n.configurable||Q(n,"writable")&&!n.writable||Q(n,"enumerable")&&!n.enumerable?i(e,t,n):(e[t]=n.value,e)};ka?(Qf||(Fb.f=f,Ra.f=A,d(Rf,"buffer"),d(Rf,"byteOffset"),d(Rf,"byteLength"),d(Rf,"length")),N({target:"Object",stat:!0,forced:!Qf},{getOwnPropertyDescriptor:f,defineProperty:A}),e.exports=function(e,o,d){var p=e.match(/\d+$/)[0]/8,f=e+(d?"Clamped":"")+"Array",A="get"+e,g="set"+e,m=y[f],v=m;e=v&&v.prototype;var E={},b=function(e,t){i(e,t,{get:function(){var e=n(this);return e.view[A](t*p+e.byteOffset,!0)},set:function(e){var r=n(this);d&&(e=0>(e=a(e))?0:255<e?255:255&e),r.view[g](t*p+r.byteOffset,e,!0)},enumerable:!0})};Qf?Dj&&(v=o((function(e,t,n,r){return Gc(e,v,f),lh(ha(t)?h(t)?void 0!==r?new m(t,kh(n,p),r):void 0!==n?new m(t,kh(n,p)):new m(t):jh(t)?l(v,t):Ej.call(v,t):new m(Le(t)),e,v)})),Ua&&Ua(v,Po),Jd(t(m),(function(e){e in v||Na(v,e,m[e])})),v.prototype=e):(v=o((function(e,t,n,i){Gc(e,v,f);var o=0,a=0;if(ha(t)){if(!h(t))return jh(t)?l(v,t):Ej.call(v,t);var d=t;if(a=kh(n,p),t=t.byteLength,void 0===i){if(t%p)throw s("Wrong length");if(0>(i=t-a))throw s("Wrong length")}else if((i=ta(i)*p)+a>t)throw s("Wrong length");t=i/p}else t=Le(t),d=new c(i=t*p);for(r(e,{buffer:d,byteOffset:a,byteLength:i,length:t,view:new u(d)});o<t;)b(e,o++)})),Ua&&Ua(v,Po),e=v.prototype=ac(Rf)),e.constructor!==v&&Na(e,"constructor",v),No&&Na(e,No,f),E[f]=v,N({global:!0,forced:v!=m,sham:!Qf},E),"BYTES_PER_ELEMENT"in v||Na(v,"BYTES_PER_ELEMENT",p),"BYTES_PER_ELEMENT"in e||Na(e,"BYTES_PER_ELEMENT",p),If(f)}):e.exports=function(){}}));Sf("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}));var hw=Math.min,iw=[].copyWithin||function(e,t){var n=Qa(this),r=ta(n.length),i=xb(e,r),o=xb(t,r),a=2<arguments.length?arguments[2]:void 0;for(r=hw((void 0===a?r:xb(a,r))-o,r-i),a=1,o<i&&i<o+r&&(a=-1,o+=r-1,i+=r-1);0<r--;)o in n?n[i]=n[o]:delete n[i],i+=a,o+=a;return n};Aa("copyWithin",(function(e,t){return iw.call(Da(this),e,t,2<arguments.length?arguments[2]:void 0)})),Aa("every",(function(e){return Ju(Da(this),e,1<arguments.length?arguments[1]:void 0)})),Aa("fill",(function(e){return yj.apply(Da(this),arguments)})),Aa("filter",(function(e){var t=yn(Da(this),e,1<arguments.length?arguments[1]:void 0),n=kd(this,this.constructor),r=0,i=t.length;for(n=new(Ne(n))(i);i>r;)n[r]=t[r++];return n})),Aa("find",(function(e){return zn(Da(this),e,1<arguments.length?arguments[1]:void 0)})),Aa("findIndex",(function(e){return An(Da(this),e,1<arguments.length?arguments[1]:void 0)})),Aa("forEach",(function(e){Jd(Da(this),e,1<arguments.length?arguments[1]:void 0)})),Aa("includes",(function(e){return on(Da(this),e,1<arguments.length?arguments[1]:void 0)})),Aa("indexOf",(function(e){return Si(Da(this),e,1<arguments.length?arguments[1]:void 0)}));var Qo=qa("iterator"),Ro=y.Uint8Array,jw=ld.values,kw=ld.keys,lw=ld.entries,Fj=Ro&&Ro.prototype[Qo],So=!!Fj&&("values"==Fj.name||null==Fj.name),To=function(){return jw.call(Da(this))};Aa("entries",(function(){return lw.call(Da(this))})),Aa("keys",(function(){return kw.call(Da(this))})),Aa("values",To,!So),Aa(Qo,To,!So);var mw=[].join;Aa("join",(function(e){return mw.apply(Da(this),arguments)}));var nw=Math.min,Gj=[].lastIndexOf,Uo=!!Gj&&0>1/[1].lastIndexOf(1,-0),ow=Ee("lastIndexOf"),pw=Uo||!ow?function(e){if(Uo)return Gj.apply(this,arguments)||0;var t=qb(this),n=ta(t.length),r=n-1;for(1<arguments.length&&(r=nw(r,$b(arguments[1]))),0>r&&(r=n+r);0<=r;r--)if(r in t&&t[r]===e)return r||0;return-1}:Gj;Aa("lastIndexOf",(function(e){return pw.apply(Da(this),arguments)})),Aa("map",(function(e){return xn(Da(this),e,1<arguments.length?arguments[1]:void 0,(function(e,t){return new(Ne(kd(e,e.constructor)))(t)}))}));var Vo=function(e){return function(t,n,r,i){yb(n),t=Qa(t);var o=Af(t),a=ta(t.length),s=e?a-1:0,c=e?-1:1;if(2>r)for(;;){if(s in o){i=o[s],s+=c;break}if(s+=c,e?0>s:a<=s)throw TypeError("Reduce of empty array with no initial value")}for(;e?0<=s:a>s;s+=c)s in o&&(i=n(i,o[s],s,t));return i}},Wo=Vo(!1),qw=Vo(!0);Aa("reduce",(function(e){return Wo(Da(this),e,arguments.length,1<arguments.length?arguments[1]:void 0)})),Aa("reduceRight",(function(e){return qw(Da(this),e,arguments.length,1<arguments.length?arguments[1]:void 0)}));var rw=Math.floor;Aa("reverse",(function(){for(var e,t=Da(this).length,n=rw(t/2),r=0;r<n;)e=this[r],this[r++]=this[--t],this[t]=e;return this}));var sw=R((function(){new Int8Array(1).set({})}));Aa("set",(function(e){Da(this);var t=kh(1<arguments.length?arguments[1]:void 0,1),n=this.length,r=Qa(e),i=ta(r.length),o=0;if(i+t>n)throw RangeError("Wrong length");for(;o<i;)this[t+o]=r[o++]}),sw);var tw=[].slice,uw=R((function(){new Int8Array(1).slice()}));Aa("slice",(function(e,t){e=tw.call(Da(this),e,t);var n=kd(this,this.constructor);t=0;var r=e.length;for(n=new(Ne(n))(r);r>t;)n[t]=e[t++];return n}),uw),Aa("some",(function(e){return Iu(Da(this),e,1<arguments.length?arguments[1]:void 0)}));var vw=[].sort;Aa("sort",(function(e){return vw.call(Da(this),e)})),Aa("subarray",(function(e,t){var n=Da(this),r=n.length;return e=xb(e,r),new(kd(n,n.constructor))(n.buffer,n.byteOffset+e*n.BYTES_PER_ELEMENT,ta((void 0===t?r:xb(t,r))-e))}));var mh=y.Int8Array,Xo=[].toLocaleString,ww=[].slice,xw=!!mh&&R((function(){Xo.call(new mh(1))})),yw=R((function(){return[1,2].toLocaleString()!=new mh([1,2]).toLocaleString()}))||!R((function(){mh.prototype.toLocaleString.call([1,2])}));Aa("toLocaleString",(function(){return Xo.apply(xw?ww.call(Da(this)):Da(this),arguments)}),yw);var Yo=y.Uint8Array,zw=Yo&&Yo.prototype||{},nh=[].toString,Aw=[].join;R((function(){nh.call({})}))&&(nh=function(){return Aw.call(this)}),Aa("toString",nh,zw.toString!=nh);var Zo=Pf.ArrayBuffer;N({global:!0,forced:y.ArrayBuffer!==Zo},{ArrayBuffer:Zo}),If("ArrayBuffer");var Bw=Ra.f,Hj=Function.prototype,Cw=Hj.toString,Dw=/^\s*function ([^ (]*)/;!ka||"name"in Hj||Bw(Hj,"name",{configurable:!0,get:function(){try{return Cw.call(this).match(Dw)[1]}catch(e){return""}}});var $o=RegExp.prototype,ap=$o.toString,Ew=R((function(){return"/a/b"!=ap.call({source:"a",flags:"b"})})),Fw="toString"!=ap.name;(Ew||Fw)&&Ta(RegExp.prototype,"toString",(function(){var e=va(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in $o)?tj.call(e):n)}),{unsafe:!0});var Gw=Ef("splice"),Hw=Math.max,Iw=Math.min;N({target:"Array",proto:!0,forced:!Gw},{splice:function(e,t){var n,r,i=Qa(this),o=ta(i.length),a=xb(e,o),s=arguments.length;if(0===s?s=n=0:1===s?(s=0,n=o-a):(s-=2,n=Iw(Hw($b(t),0),o-a)),9007199254740991<o+s-n)throw TypeError("Maximum allowed length exceeded");var c=Sg(i,n);for(r=0;r<n;r++){var u=a+r;u in i&&Ge(c,r,i[u])}if(c.length=n,s<n){for(r=a;r<o-n;r++){var l=r+s;(u=r+n)in i?i[l]=i[u]:delete i[l]}for(r=o;r>o-n+s;r--)delete i[r-1]}else if(s>n)for(r=o-n;r>a;r--)l=r+s-1,(u=r+n-1)in i?i[l]=i[u]:delete i[l];for(r=0;r<s;r++)i[r+a]=arguments[r+2];return i.length=o-n+s,c}});var Ij={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Jj=qa("iterator"),bp=qa("toStringTag"),Kj=ld.values,oh;for(oh in Ij){var cp=y[oh],Kc=cp&&cp.prototype;if(Kc){if(Kc[Jj]!==Kj)try{Na(Kc,Jj,Kj)}catch(c){Kc[Jj]=Kj}if(Kc[bp]||Na(Kc,bp,oh),Ij[oh])for(var Oe in ld)if(Kc[Oe]!==ld[Oe])try{Na(Kc,Oe,ld[Oe])}catch(c){Kc[Oe]=ld[Oe]}}}var dp=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t};dh("search",1,(function(e,t,n){return[function(t){var n=jb(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;e=va(e);var i=String(this);return r=e.lastIndex,dp(r,0)||(e.lastIndex=0),i=Ke(e,i),dp(e.lastIndex,r)||(e.lastIndex=r),null===i?-1:i.index}]})),$a((function(e){!function(t,n){e.exports?e.exports=n(t):n(t)}("undefined"!=typeof self?self:Ya,(function(e){function t(e){return btoa(e).replace(/=+$/,"").replace(/\+/g,"-").replace(/\//g,"_")}function n(e){return e=(e+="===").slice(0,-e.length%4),atob(e.replace(/-/g,"+").replace(/_/g,"/"))}function r(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function i(e){return e instanceof ArrayBuffer&&(e=new Uint8Array(e)),String.fromCharCode.apply(String,e)}function o(e){var t={name:(e.name||e||"").toUpperCase().replace("V","v")};switch(t.name){case"SHA-1":case"SHA-256":case"SHA-384":case"SHA-512":break;case"AES-CBC":case"AES-GCM":case"AES-KW":e.length&&(t.length=e.length);break;case"HMAC":e.hash&&(t.hash=o(e.hash)),e.length&&(t.length=e.length);break;case"RSAES-PKCS1-v1_5":e.publicExponent&&(t.publicExponent=new Uint8Array(e.publicExponent)),e.modulusLength&&(t.modulusLength=e.modulusLength);break;case"RSASSA-PKCS1-v1_5":case"RSA-OAEP":e.hash&&(t.hash=o(e.hash)),e.publicExponent&&(t.publicExponent=new Uint8Array(e.publicExponent)),e.modulusLength&&(t.modulusLength=e.modulusLength);break;default:throw new SyntaxError("Bad algorithm name")}return t}function a(e){return{HMAC:{"SHA-1":"HS1","SHA-256":"HS256","SHA-384":"HS384","SHA-512":"HS512"},"RSASSA-PKCS1-v1_5":{"SHA-1":"RS1","SHA-256":"RS256","SHA-384":"RS384","SHA-512":"RS512"},"RSAES-PKCS1-v1_5":{"":"RSA1_5"},"RSA-OAEP":{"SHA-1":"RSA-OAEP","SHA-256":"RSA-OAEP-256"},"AES-KW":{128:"A128KW",192:"A192KW",256:"A256KW"},"AES-GCM":{128:"A128GCM",192:"A192GCM",256:"A256GCM"},"AES-CBC":{128:"A128CBC",192:"A192CBC",256:"A256CBC"}}[e.name][(e.hash||{}).name||e.length||""]}function s(e){(e instanceof ArrayBuffer||e instanceof Uint8Array)&&(e=JSON.parse(decodeURIComponent(escape(i(e)))));var t={kty:e.kty,alg:e.alg,ext:e.ext||e.extractable};switch(t.kty){case"oct":t.k=e.k;case"RSA":"n e d p q dp dq qi oth".split(" ").forEach((function(n){n in e&&(t[n]=e[n])}));break;default:throw new TypeError("Unsupported key type")}return t}function c(e){return e=s(e),E&&(e.extractable=e.ext,delete e.ext),r(unescape(encodeURIComponent(JSON.stringify(e)))).buffer}function u(e){var n=l(e),r=!1;if("1.2.840.113549.1.1.1"!==(2<n.length&&(r=!0,n.shift()),e={ext:!0},n[0][0]))throw new TypeError("Unsupported key type");var o="n e d p q dp dq qi".split(" ");for(n=l(n[1]),r&&n.shift(),r=0;r<n.length;r++)n[r][0]||(n[r]=n[r].subarray(1)),e[o[r]]=t(i(n[r]));return e.kty="RSA",e}function l(e,t){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),t||(t={pos:0,end:e.length}),2>t.end-t.pos||t.end>e.length)throw new RangeError("Malformed DER");var n=e[t.pos++],r=e[t.pos++];if(128<=r){if(r&=127,t.end-t.pos<r)throw new RangeError("Malformed DER");for(var o=0;r--;)o<<=8,o|=e[t.pos++];r=o}if(t.end-t.pos<r)throw new RangeError("Malformed DER");switch(n){case 2:n=e.subarray(t.pos,t.pos+=r);break;case 3:if(e[t.pos++])throw Error("Unsupported bit string");r--;case 4:n=new Uint8Array(e.subarray(t.pos,t.pos+=r)).buffer;break;case 5:n=null;break;case 6:if(!((e=btoa(i(e.subarray(t.pos,t.pos+=r))))in _))throw Error("Unsupported OBJECT ID "+e);n=_[e];break;case 48:for(n=[],r=t.pos+r;t.pos<r;)n.push(l(e,t));break;default:throw Error("Unsupported DER tag 0x"+n.toString(16))}return n}function d(e,t){t||(t=[]);var n=t.length+2;if(t.push(0,0),e instanceof Uint8Array)for(var i=2,o=e.length,a=0;a<o;a++)t.push(e[a]);else if(e instanceof ArrayBuffer)for(i=4,o=e.byteLength,e=new Uint8Array(e),a=0;a<o;a++)t.push(e[a]);else if(null===e)i=5,o=0;else if("string"==typeof e&&e in C)for(i=6,o=(e=r(atob(C[e]))).length,a=0;a<o;a++)t.push(e[a]);else if(e instanceof Array){for(a=0;a<e.length;a++)d(e[a],t);i=48,o=t.length-n}else{if(!("object"===X(e)&&3===e.tag&&e.value instanceof ArrayBuffer))throw Error("Unsupported DER value "+e);for(i=3,o=(e=new Uint8Array(e.value)).byteLength,t.push(0),a=0;a<o;a++)t.push(e[a]);o++}if(128<=o){for(a=o,o=4,t.splice(n,0,a>>24&255,a>>16&255,a>>8&255,255&a);1<o&&!(a>>24);)a<<=8,o--;4>o&&t.splice(n,4-o),o|=128}return t.splice(n-2,2,i,o),t}function h(e,t,n,r){Object.defineProperties(this,{_key:{value:e},type:{value:e.type,enumerable:!0},extractable:{value:void 0===n?e.extractable:n,enumerable:!0},algorithm:{value:void 0===t?e.algorithm:t,enumerable:!0},usages:{value:void 0===r?e.usages:r,enumerable:!0}})}function p(e){return"verify"===e||"encrypt"===e||"wrapKey"===e}function f(e){return"sign"===e||"decrypt"===e||"unwrapKey"===e}if("function"!=typeof Promise)throw"Promise support required";var A=e.crypto||e.msCrypto;if(A){var g=A.subtle||A.webkitSubtle;if(g){var m=e.Crypto||A.constructor||Object,v=e.SubtleCrypto||g.constructor||Object;e.CryptoKey||e.Key;var y=-1<e.navigator.userAgent.indexOf("Edge/"),E=!!e.msCrypto&&!y,b=!A.subtle&&!!A.webkitSubtle;if(E||b){var _={KoZIhvcNAQEB:"1.2.840.113549.1.1.1"},C={"1.2.840.113549.1.1.1":"KoZIhvcNAQEB"};if(["generateKey","importKey","unwrapKey"].forEach((function(e){var t=g[e];g[e]=function(i,l,d){var m=[].slice.call(arguments);switch(e){case"generateKey":var v=o(i),y=l,_=d;break;case"importKey":v=o(d),y=m[3],_=m[4],"jwk"===i&&((l=s(l)).alg||(l.alg=a(v)),l.key_ops||(l.key_ops="oct"!==l.kty?"d"in l?_.filter(f):_.filter(p):_.slice()),m[1]=c(l));break;case"unwrapKey":v=m[4],y=m[5],_=m[6],m[2]=d._key}if("generateKey"===e&&"HMAC"===v.name&&v.hash)return v.length=v.length||{"SHA-1":512,"SHA-256":512,"SHA-384":1024,"SHA-512":1024}[v.hash.name],g.importKey("raw",A.getRandomValues(new Uint8Array(v.length+7>>3)),v,y,_);if(b&&"generateKey"===e&&"RSASSA-PKCS1-v1_5"===v.name&&(!v.modulusLength||2048<=v.modulusLength))return(i=o(i)).name="RSAES-PKCS1-v1_5",delete i.hash,g.generateKey(i,!0,["encrypt","decrypt"]).then((function(e){return Promise.all([g.exportKey("jwk",e.publicKey),g.exportKey("jwk",e.privateKey)])})).then((function(e){return e[0].alg=e[1].alg=a(v),e[0].key_ops=_.filter(p),e[1].key_ops=_.filter(f),Promise.all([g.importKey("jwk",e[0],v,!0,e[0].key_ops),g.importKey("jwk",e[1],v,y,e[1].key_ops)])})).then((function(e){return{publicKey:e[0],privateKey:e[1]}}));if((b||E&&"SHA-1"===(v.hash||{}).name)&&"importKey"===e&&"jwk"===i&&"HMAC"===v.name&&"oct"===l.kty)return g.importKey("raw",r(n(l.k)),d,m[3],m[4]);if(b&&"importKey"===e&&("spki"===i||"pkcs8"===i))return g.importKey("jwk",u(l),d,m[3],m[4]);if(E&&"unwrapKey"===e)return g.decrypt(m[3],d,l).then((function(e){return g.importKey(i,e,m[4],m[5],m[6])}));try{var C=t.apply(g,m)}catch(e){return Promise.reject(e)}return E&&(C=new Promise((function(e,t){C.onabort=C.onerror=function(e){t(e)},C.oncomplete=function(t){e(t.target.result)}}))),C=C.then((function(e){return"HMAC"!==v.name||v.length||(v.length=8*e.algorithm.length),0==v.name.search("RSA")&&(v.modulusLength||(v.modulusLength=(e.publicKey||e).algorithm.modulusLength),v.publicExponent||(v.publicExponent=(e.publicKey||e).algorithm.publicExponent)),e.publicKey&&e.privateKey?{publicKey:new h(e.publicKey,v,y,_.filter(p)),privateKey:new h(e.privateKey,v,y,_.filter(f))}:new h(e,v,y,_)}))}})),["exportKey","wrapKey"].forEach((function(e){var o=g[e];g[e]=function(c,u,l){var h=[].slice.call(arguments);switch(e){case"exportKey":h[1]=u._key;break;case"wrapKey":h[1]=u._key,h[2]=l._key}if((b||E&&"SHA-1"===(u.algorithm.hash||{}).name)&&"exportKey"===e&&"jwk"===c&&"HMAC"===u.algorithm.name&&(h[0]="raw"),!b||"exportKey"!==e||"spki"!==c&&"pkcs8"!==c||(h[0]="jwk"),E&&"wrapKey"===e)return g.exportKey(c,u).then((function(e){return"jwk"===c&&(e=r(unescape(encodeURIComponent(JSON.stringify(s(e)))))),g.encrypt(h[3],l,e)}));try{var A=o.apply(g,h)}catch(e){return Promise.reject(e)}return E&&(A=new Promise((function(e,t){A.onabort=A.onerror=function(e){t(e)},A.oncomplete=function(t){e(t.target.result)}}))),"exportKey"===e&&"jwk"===c&&(A=A.then((function(e){return(b||E&&"SHA-1"===(u.algorithm.hash||{}).name)&&"HMAC"===u.algorithm.name?{kty:"oct",alg:a(u.algorithm),key_ops:u.usages.slice(),ext:!0,k:t(i(e))}:((e=s(e)).alg||(e.alg=a(u.algorithm)),e.key_ops||(e.key_ops="public"===u.type?u.usages.filter(p):"private"===u.type?u.usages.filter(f):u.usages.slice()),e)}))),!b||"exportKey"!==e||"spki"!==c&&"pkcs8"!==c||(A=A.then((function(e){var t=[["",null]],i=!1;if("RSA"!==(e=s(e)).kty)throw new TypeError("Unsupported key type");for(var o="n e d p q dp dq qi".split(" "),a=[],c=0;c<o.length&&o[c]in e;c++){var u=a[c]=r(n(e[o[c]]));128&u[0]&&(a[c]=new Uint8Array(u.length+1),a[c].set(u,1))}return 2<a.length&&(i=!0,a.unshift(new Uint8Array([0]))),t[0][0]="1.2.840.113549.1.1.1",t.push(new Uint8Array(d(a)).buffer),i?t.unshift(new Uint8Array([0])):t[1]={tag:3,value:t[1]},new Uint8Array(d(t)).buffer}))),A}})),["encrypt","decrypt","sign","verify"].forEach((function(e){var t=g[e];g[e]=function(n,r,i,a){if(E&&(!i.byteLength||a&&!a.byteLength))throw Error("Empty input is not allowed");var s=[].slice.call(arguments),c=o(n);if(!E||"sign"!==e&&"verify"!==e||"RSASSA-PKCS1-v1_5"!==n&&"HMAC"!==n||(s[0]={name:n}),E&&r.algorithm.hash&&(s[0].hash=s[0].hash||r.algorithm.hash),E&&"decrypt"===e&&"AES-GCM"===c.name){var u=n.tagLength>>3;s[2]=(i.buffer||i).slice(0,i.byteLength-u),n.tag=(i.buffer||i).slice(i.byteLength-u)}E&&"AES-GCM"===c.name&&void 0===s[0].tagLength&&(s[0].tagLength=128),s[1]=r._key;try{var l=t.apply(g,s)}catch(e){return Promise.reject(e)}return E&&(l=new Promise((function(t,n){l.onabort=l.onerror=function(e){n(e)},l.oncomplete=function(n){if(n=n.target.result,"encrypt"===e&&n instanceof AesGcmEncryptResult){var r=n.ciphertext,i=n.tag;(n=new Uint8Array(r.byteLength+i.byteLength)).set(new Uint8Array(r),0),n.set(new Uint8Array(i),r.byteLength),n=n.buffer}t(n)}}))),l}})),E){var I=g.digest;g.digest=function(e,t){if(!t.byteLength)throw Error("Empty input is not allowed");try{var n=I.call(g,e,t)}catch(e){return Promise.reject(e)}return n=new Promise((function(e,t){n.onabort=n.onerror=function(e){t(e)},n.oncomplete=function(t){e(t.target.result)}}))},e.crypto=Object.create(A,{getRandomValues:{value:function(e){return A.getRandomValues(e)}},subtle:{value:g}}),e.CryptoKey=h}b&&(A.subtle=g,e.Crypto=m,e.SubtleCrypto=v,e.CryptoKey=h)}}}}))}));var Jw=qa("match"),Lj=function(e){var t;return ha(e)&&(void 0!==(t=e[Jw])?!!t:"RegExp"==Zb(e))},Kw=[].push,Lw=Math.min;dh("split",2,(function(e,t,n){var r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(e,n){var r=String(jb(this));if(0==(n=void 0===n?4294967295:n>>>0))return[];if(void 0===e)return[r];if(!Lj(e))return t.call(r,e,n);var i,o,a,s=[],c=0;for(e=new RegExp(e.source,(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":"")+"g");(i=Of.call(e,r))&&!((o=e.lastIndex)>c&&(s.push(r.slice(c,i.index)),1<i.length&&i.index<r.length&&Kw.apply(s,i.slice(1)),a=i[0].length,c=o,s.length>=n));)e.lastIndex===i.index&&e.lastIndex++;return c===r.length?(a||!e.test(""))&&s.push(""):s.push(r.slice(c)),s.length>n?s.slice(0,n):s}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t;return[function(t,n){var i=jb(this),o=null==t?void 0:t[e];return void 0!==o?o.call(t,i,n):r.call(String(i),t,n)},function(e,i){var o=n(r,e,this,i,r!==t);if(o.done)return o.value;var a=va(e);e=String(this);var s=kd(a,RegExp);if(o=a.unicode,a=new s(pc?"^(?:"+a.source+")":a,(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(pc?"g":"y")),0==(i=void 0===i?4294967295:i>>>0))return[];if(0===e.length)return null===Ke(a,e)?[e]:[];var c=0,u=0;for(s=[];u<e.length;){a.lastIndex=pc?0:u;var l,d=Ke(a,pc?e.slice(u):e);if(null===d||(l=Lw(ta(a.lastIndex+(pc?u:0)),e.length))===c)u=xj(e,u,o);else{if(s.push(e.slice(c,u)),s.length===i)return s;for(c=1;c<=d.length-1;c++)if(s.push(d[c]),s.length===i)return s;u=c=l}}return s.push(e.slice(c)),s}]}),pc),function(e){e.console||(e.console={}),e=e.console;for(var t,n=function(){},r=["memory"],i="assert clear count debug dir dirxml error exception group groupCollapsed groupEnd info log markTimeline profile profiles profileEnd show table time timeEnd timeline timelineEnd timeStamp trace warn".split(" ");t=r.pop();)e[t]||(e[t]={});for(;t=i.pop();)e[t]||(e[t]=n)}("undefined"==typeof window?Ya:window),N({target:"Object",stat:!0},{setPrototypeOf:Ua});var Mw=R((function(){Vb(1)}));N({target:"Object",stat:!0,forced:Mw,sham:!Hn},{getPrototypeOf:function(e){return Vb(Qa(e))}});var ep=[].slice,Mj={},Nw=Function.bind||function(e){var t=yb(this),n=ep.call(arguments,1),r=function(){var i=n.concat(ep.call(arguments));if(this instanceof r){var o=i.length;if(!(o in Mj)){for(var a=[],s=0;s<o;s++)a[s]="a["+s+"]";Mj[o]=Function("C,a","return new C("+a.join(",")+")")}i=Mj[o](t,i)}else i=t.apply(e,i);return i};return ha(t.prototype)&&(r.prototype=t.prototype),r},Nj=mc("Reflect","construct"),fp=R((function(){function e(){}return!(Nj((function(){}),[],e)instanceof e)})),gp=!R((function(){Nj((function(){}))})),hp=fp||gp;N({target:"Reflect",stat:!0,forced:hp,sham:hp},{construct:function(e,t){yb(e),va(t);var n=3>arguments.length?e:yb(arguments[2]);if(gp&&!fp)return Nj(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}return(n=[null]).push.apply(n,t),new(Nw.apply(e,n))}n=n.prototype,n=ac(ha(n)?n:Object.prototype);var r=Function.apply.call(e,n,t);return ha(r)?r:n}}),N({target:"Reflect",stat:!0},{get:wl});var ip=Fb.f,Ow=R((function(){ip(1)}));N({target:"Object",stat:!0,forced:!ka||Ow,sham:!ka},{getOwnPropertyDescriptor:function(e,t){return ip(qb(e),t)}});var jp=Hd.f,Pw={}.toString,kp="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Oj=function(e){if(kp&&"[object Window]"==Pw.call(e))try{var t=jp(e)}catch(e){t=kp.slice()}else t=jp(qb(e));return t},lp={f:qa},Qw=Ra.f,ph=function(e){var t=y.Symbol||(y.Symbol={});Q(t,e)||Qw(t,e,{value:lp.f(e)})},rb=Pg("hidden"),mp=qa("toPrimitive"),Rw=Za.set,np=Za.getterFor("Symbol"),Ob=Object.prototype,sb=y.Symbol,Tf=mc("JSON","stringify"),op=Fb.f,od=Ra.f,pp=Oj,Sw=zf,Lc=fd("symbols"),Uf=fd("op-symbols"),Pj=fd("string-to-symbol-registry"),Qj=fd("symbol-to-string-registry"),Tw=fd("wks"),Rj=y.QObject,Sj=!Rj||!Rj.prototype||!Rj.prototype.findChild,Tj=ka&&R((function(){return 7!=ac(od({},"a",{get:function(){return od(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=op(Ob,t);r&&delete Ob[t],od(e,t,n),r&&e!==Ob&&od(Ob,t,r)}:od,Uj=function(e,t){var n=Lc[e]=ac(sb.prototype);return Rw(n,{type:"Symbol",tag:e,description:t}),ka||(n.description=t),n},Vj=vn?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof sb},qh=function(e,t,n){return e===Ob&&qh(Uf,t,n),va(e),t=lc(t,!0),va(n),Q(Lc,t)?(n.enumerable?(Q(e,rb)&&e[rb][t]&&(e[rb][t]=!1),n=ac(n,{enumerable:dd(0,!1)})):(Q(e,rb)||od(e,rb,dd(1,{})),e[rb][t]=!0),Tj(e,t,n)):od(e,t,n)},qp=function(e,t){va(e);var n=qb(t);return t=Dc(n).concat(Wj(n)),Jd(t,(function(t){ka&&!Xj.call(n,t)||qh(e,t,n[t])})),e},Xj=function(e){e=lc(e,!0);var t=Sw.call(this,e);return!(this===Ob&&Q(Lc,e)&&!Q(Uf,e))&&(!(t||!Q(this,e)||!Q(Lc,e)||Q(this,rb)&&this[rb][e])||t)},rp=function(e,t){if(e=qb(e),t=lc(t,!0),e!==Ob||!Q(Lc,t)||Q(Uf,t)){var n=op(e,t);return!n||!Q(Lc,t)||Q(e,rb)&&e[rb][t]||(n.enumerable=!0),n}},sp=function(e){e=pp(qb(e));var t=[];return Jd(e,(function(e){Q(Lc,e)||Q(Be,e)||t.push(e)})),t},Wj=function(e){var t=e===Ob;e=pp(t?Uf:qb(e));var n=[];return Jd(e,(function(e){!Q(Lc,e)||t&&!Q(Ob,e)||n.push(Lc[e])})),n};if(oc||(sb=function(){if(this instanceof sb)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=Ae(e),n=function(e){this===Ob&&n.call(Uf,e),Q(this,rb)&&Q(this[rb],t)&&(this[rb][t]=!1),Tj(this,t,dd(1,e))};return ka&&Sj&&Tj(Ob,t,{configurable:!0,set:n}),Uj(t,e)},Ta(sb.prototype,"toString",(function(){return np(this).tag})),Ta(sb,"withoutSetter",(function(e){return Uj(Ae(e),e)})),zf=Xj,Ra.f=qh,Fb.f=rp,Hd.f=Oj=sp,Bf.f=Wj,lp.f=function(e){return Uj(qa(e),e)},ka&&(od(sb.prototype,"description",{configurable:!0,get:function(){return np(this).description}}),Ta(Ob,"propertyIsEnumerable",Xj,{unsafe:!0}))),N({global:!0,wrap:!0,forced:!oc,sham:!oc},{Symbol:sb}),Jd(Dc(Tw),(function(e){ph(e)})),N({target:"Symbol",stat:!0,forced:!oc},{for:function(e){if(e=String(e),Q(Pj,e))return Pj[e];var t=sb(e);return Pj[e]=t,Qj[t]=e,t},keyFor:function(e){if(!Vj(e))throw TypeError(e+" is not a symbol");if(Q(Qj,e))return Qj[e]},useSetter:function(){Sj=!0},useSimple:function(){Sj=!1}}),N({target:"Object",stat:!0,forced:!oc,sham:!ka},{create:function(e,t){return void 0===t?ac(e):qp(ac(e),t)},defineProperty:qh,defineProperties:qp,getOwnPropertyDescriptor:rp}),N({target:"Object",stat:!0,forced:!oc},{getOwnPropertyNames:sp,getOwnPropertySymbols:Wj}),N({target:"Object",stat:!0,forced:R((function(){Bf.f(1)}))},{getOwnPropertySymbols:function(e){return Bf.f(Qa(e))}}),Tf){var Uw=!oc||R((function(){var e=sb();return"[null]"!=Tf([e])||"{}"!=Tf({a:e})||"{}"!=Tf(Object(e))}));N({target:"JSON",stat:!0,forced:Uw},{stringify:function(e,t,n){for(var r,i=[e],o=1;arguments.length>o;)i.push(arguments[o++]);if(r=t,(ha(t)||void 0!==e)&&!Vj(e))return gd(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!Vj(t))return t}),i[1]=t,Tf.apply(null,i)}})}sb.prototype[mp]||Na(sb.prototype,mp,sb.prototype.valueOf),Ec(sb,"Symbol"),Be[rb]=!0;var Vw=Ra.f,Mc=y.Symbol;if(ka&&"function"==typeof Mc&&(!("description"in Mc.prototype)||void 0!==Mc().description)){var tp={},Vf=function(){var e=1>arguments.length||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof Vf?new Mc(e):void 0===e?Mc():Mc(e);return""===e&&(tp[t]=!0),t};rn(Vf,Mc);var Yj=Vf.prototype=Mc.prototype;Yj.constructor=Vf;var Ww=Yj.toString,Xw="Symbol(test)"==String(Mc("test")),Yw=/^Symbol\((.*)\)[^)]+$/;Vw(Yj,"description",{configurable:!0,get:function(){var e=ha(this)?this.valueOf():this,t=Ww.call(e);return Q(tp,e)?"":""===(e=Xw?t.slice(7,-1):t.replace(Yw,"$1"))?void 0:e}}),N({global:!0,forced:!0},{Symbol:Vf})}ph("toStringTag"),Ec(y.JSON,"JSON",!0),Ec(Math,"Math",!0),function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););if(e)return(t=Object.getOwnPropertyDescriptor(e,t)).get?t.get.call(n):t.value})(e,t,n||e)}var c=function(){function t(){e(this,t),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return n(t,[{key:"addEventListener",value:function(e,t,n){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push({callback:t,options:n})}},{key:"removeEventListener",value:function(e,t){if(e in this.listeners)for(var n=0,r=(e=this.listeners[e]).length;n<r;n++)if(e[n].callback===t){e.splice(n,1);break}}},{key:"dispatchEvent",value:function(e){if(e.type in this.listeners){for(var t=this.listeners[e.type].slice(),n=0,r=t.length;n<r;n++){var i=t[n];try{i.callback.call(this,e)}catch(e){Promise.resolve().then((function(){throw e}))}i.options&&i.options.once&&this.removeEventListener(e.type,i.callback)}return!e.defaultPrevented}}}]),t}(),u=function(t){function o(){e(this,o);var t=u.call(this);return t.listeners||c.call(a(t)),Object.defineProperty(a(t),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(a(t),"onabort",{value:null,writable:!0,configurable:!0}),t}r(o,t);var u=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n=i(e);if(t){var r=i(this).constructor;n=Reflect.construct(n,arguments,r)}else n=n.apply(this,arguments);return!n||"object"!==X(n)&&"function"!=typeof n?a(this):n}}(o);return n(o,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(e){"abort"===e.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,e)),s(i(o.prototype),"dispatchEvent",this).call(this,e)}}]),o}(c),l=function(){function t(){e(this,t),Object.defineProperty(this,"signal",{value:new u,writable:!0,configurable:!0})}return n(t,[{key:"abort",value:function(){try{var e=new Event("abort")}catch(t){"undefined"!=typeof document?document.createEvent?(e=document.createEvent("Event")).initEvent("abort",!1,!1):(e=document.createEventObject()).type="abort":e={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(e)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(l.prototype[Symbol.toStringTag]="AbortController",u.prototype[Symbol.toStringTag]="AbortSignal"),function(e){if(e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL){console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill");var t=!0}else t="function"==typeof e.Request&&!e.Request.prototype.hasOwnProperty("signal")||!e.AbortController;t&&(e.AbortController=l,e.AbortSignal=u)}("undefined"!=typeof self?self:Ya)}();var Zw=Math.floor,$w=Math.log,ax=Math.LOG2E;N({target:"Math",stat:!0},{clz32:function(e){return(e>>>=0)?31-Zw($w(e+.5)*ax):32}});var bx=Math.log,cx=Math.LN2,ss=Math.clz32||function(e){return 31-bx(e>>>0)/cx|0},xd=String.fromCharCode,up={}.toString,Zj=window.Uint8Array,ak=Zj||Array,dx=up.call((window.ArrayBuffer||ak).prototype),bk;xl.prototype.decode=function(e){if(e=e&&e.buffer||e,up.call(e)!==dx)throw Error("Failed to execute 'decode' on 'TextDecoder': The provided value is not of type '(ArrayBuffer or ArrayBufferView)'");for(var t="",n=0,r=0|(e=Zj?new ak(e):e).length;n<r;n=n+32768|0)t+=xd.apply(0,e[Zj?"slice":"subarray"](n,n+32768|0));return t.replace(/[\xc0-\xff][\x80-\xbf]*/g,rs)},window.TextDecoder||(window.TextDecoder=xl),yl.prototype.encode=function(e){for(var t=0|(e=void 0===e?"":(""+e).replace(/[\x80-\uD7ff\uDC00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]?/g,ts)).length,n=new ak(t),r=0;r<t;r=r+1|0)n[r]=e.charCodeAt(r);return n},window.TextEncoder||(window.TextEncoder=yl),function(e){var t,n,r,i,o,a,s,c,u,l,d;!function(e){e.LOGIN="LOGIN",e.LOGIN_SUCCESS="LOGIN_SUCCESS",e.LOGIN_FAILURE="LOGIN_FAILURE",e.LOGIN_TIMEOUT="LOGIN_TIMEOUT",e.INTERRUPTED="INTERRUPTED",e.LOGOUT="LOGOUT",e.BANNED_BY_SERVER="BANNED_BY_SERVER",e.REMOTE_LOGIN="REMOTE_LOGIN"}(t||(t={})),e.ConnectionChangeReason=t,function(e){e.DISCONNECTED="DISCONNECTED",e.CONNECTING="CONNECTING",e.CONNECTED="CONNECTED",e.RECONNECTING="RECONNECTING",e.ABORTED="ABORTED"}(n||(n={})),e.ConnectionState=n,function(e){e.IDLE="IDLE",e.SENT_TO_REMOTE="SENT_TO_REMOTE",e.RECEIVED_BY_REMOTE="RECEIVED_BY_REMOTE",e.ACCEPTED_BY_REMOTE="ACCEPTED_BY_REMOTE",e.REFUSED_BY_REMOTE="REFUSED_BY_REMOTE",e.CANCELED="CANCELED",e.FAILURE="FAILURE"}(r||(r={})),e.LocalInvitationState=r,function(e){e.INVITATION_RECEIVED="INVITATION_RECEIVED",e.ACCEPT_SENT_TO_LOCAL="ACCEPT_SENT_TO_LOCAL",e.REFUSED="REFUSED",e.ACCEPTED="ACCEPTED",e.CANCELED="CANCELED",e.FAILURE="FAILURE"}(i||(i={})),e.RemoteInvitationState=i,function(e){e.UNKNOWN="UNKNOWN",e.PEER_NO_RESPONSE="PEER_NO_RESPONSE",e.INVITATION_EXPIRE="INVITATION_EXPIRE",e.PEER_OFFLINE="PEER_OFFLINE",e.NOT_LOGGEDIN="NOT_LOGGEDIN"}(o||(o={})),e.LocalInvitationFailureReason=o,function(e){e.UNKNOWN="UNKNOWN",e.PEER_OFFLINE="PEER_OFFLINE",e.ACCEPT_FAILURE="ACCEPT_FAILURE",e.INVITATION_EXPIRE="INVITATION_EXPIRE"}(a||(a={})),e.RemoteInvitationFailureReason=a,function(e){e.ONLINE="ONLINE",e.UNREACHABLE="UNREACHABLE",e.OFFLINE="OFFLINE"}(s||(s={})),e.PeerOnlineState=s,(c||(c={})).ONLINE_STATUS="ONLINE_STATUS",e.PeerSubscriptionOption=c,function(e){e.TEXT="TEXT",e.RAW="RAW",e.IMAGE="IMAGE",e.FILE="FILE"}(u||(u={})),e.MessageType=u,function(e){e.CN="CN",e.NA="NA",e.EU="EU",e.AS="AS",e.JP="JP",e.IN="IN",e.GLOB="GLOB",e.OC="OC",e.SA="SA",e.AF="AF",e.OVS="OVS"}(l||(l={})),e.LegacyAreaCode=l,function(e){e.GLOBAL="GLOBAL",e.INDIA="INDIA",e.JAPAN="JAPAN",e.ASIA="ASIA",e.EUROPE="EUROPE",e.CHINA="CHINA",e.NORTH_AMERICA="NORTH_AMERICA"}(d||(d={})),e.AreaCode=d}(bk||(bk={}));var S=bk;N({target:"Array",proto:!0},{includes:function(e){return on(this,e,1<arguments.length?arguments[1]:void 0)}}),Ld("includes");var ck=function(e){if(Lj(e))throw TypeError("The method doesn't accept regular expressions");return e},ex=qa("match"),dk=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[ex]=!1,"/./"[e](t)}catch(e){}}return!1};N({target:"String",proto:!0,forced:!dk("includes")},{includes:function(e){return!!~String(jb(this)).indexOf(ck(e),1<arguments.length?arguments[1]:void 0)}});var Nc={RECONNECTING_AP_INTERVAL:2500,RECONNECTING_AP_NUM:2,DISABLE_MESSAGE_COMPRESSION:!1,LOG_UPLOAD_INTERVAL:3e3,LOG_HANDLER:void 0};ph("iterator"),ph("asyncIterator");var ek=Ee("forEach")?[].forEach:function(e){return Jd(this,e,1<arguments.length?arguments[1]:void 0)},vp;for(vp in Ij){var wp=y[vp],rh=wp&&wp.prototype;if(rh&&rh.forEach!==ek)try{Na(rh,"forEach",ek)}catch(c){rh.forEach=ek}}var fx=[].reverse,xp=[1,2];N({target:"Array",proto:!0,forced:String(xp)===String(xp.reverse())},{reverse:function(){return gd(this)&&(this.length=this.length),fx.call(this)}});var w=$a((function(e){e=function(e){function t(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}function n(e,t,n,o){return t=Object.create((t&&t.prototype instanceof i?t:i).prototype),o=new h(o||[]),t._invoke=function(e,t,n){var i=_;return function(o,a){if(i===I)throw Error("Generator is already running");if(i===S){if("throw"===o)throw a;return f()}for(n.method=o,n.arg=a;;){if((o=n.delegate)&&(o=u(o,n))){if(o===w)continue;return o}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===_)throw i=S,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);if(i=I,"normal"===(o=r(e,t,n)).type){if(i=n.done?S:C,o.arg===w)continue;return{value:o.arg,done:n.done}}"throw"===o.type&&(i=S,n.method="throw",n.arg=o.arg)}}}(e,n,o),t}function r(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function i(){}function o(){}function a(){}function s(e){["next","throw","return"].forEach((function(n){t(e,n,(function(e){return this._invoke(n,e)}))}))}function c(e,t){function n(i,o,a,s){if("throw"!==(i=r(e[i],e,o)).type){var c=i.arg;return(i=c.value)&&"object"===X(i)&&m.call(i,"__await")?t.resolve(i.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(i).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(i.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function u(e,t){var n=e.iterator[t.method];if(n===A){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=A,u(e,t),"throw"===t.method))return w;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return w}return"throw"===(n=r(n,e.iterator,t.arg)).type?(t.method="throw",t.arg=n.arg,t.delegate=null,w):(n=n.arg)?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=A),t.delegate=null,w):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,w)}function l(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function d(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function h(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(l,this),this.reset(!0)}function p(e){if(e){var t=e[y];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1;return(t=function t(){for(;++n<e.length;)if(m.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=A,t.done=!0,t}).next=t}}return{next:f}}function f(){return{value:A,done:!0}}var A,g=Object.prototype,m=g.hasOwnProperty,v="function"==typeof Symbol?Symbol:{},y=v.iterator||"@@iterator",E=v.asyncIterator||"@@asyncIterator",b=v.toStringTag||"@@toStringTag";try{t({},"")}catch(e){t=function(e,t,n){return e[t]=n}}e.wrap=n;var _="suspendedStart",C="suspendedYield",I="executing",S="completed",w={};t(v={},y,(function(){return this}));var R=Object.getPrototypeOf;(R=R&&R(R(p([]))))&&R!==g&&m.call(R,y)&&(v=R);var T=a.prototype=i.prototype=Object.create(v);return o.prototype=a,t(T,"constructor",a),t(a,"constructor",o),o.displayName=t(a,b,"GeneratorFunction"),e.isGeneratorFunction=function(e){return!!(e="function"==typeof e&&e.constructor)&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,t(e,b,"GeneratorFunction")),e.prototype=Object.create(T),e},e.awrap=function(e){return{__await:e}},s(c.prototype),t(c.prototype,E,(function(){return this})),e.AsyncIterator=c,e.async=function(t,r,i,o,a){void 0===a&&(a=Promise);var s=new c(n(t,r,i,o),a);return e.isGeneratorFunction(r)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},s(T),t(T,b,"Generator"),t(T,y,(function(){return this})),t(T,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t,n=[];for(t in e)n.push(t);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=p,h.prototype={constructor:h,reset:function(e){if(this.next=this.prev=0,this.sent=this._sent=A,this.done=!1,this.delegate=null,this.method="next",this.arg=A,this.tryEntries.forEach(d),!e)for(var t in this)"t"===t.charAt(0)&&m.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=A)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,r){return o.type="throw",o.arg=e,n.next=t,r&&(n.method="next",n.arg=A),!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;0<=r;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var a=m.call(i,"catchLoc"),s=m.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&m.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}return i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null),(n=i?i.completion:{}).type=e,n.arg=t,i?(this.method="next",this.next=i.finallyLoc,w):this.complete(n)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),w},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),d(n),w}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.tryLoc===e){if("throw"===(e=n.completion).type){var r=e.arg;d(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:p(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=A),w}},e}(e.exports);try{regeneratorRuntime=e}catch(t){"object"===("undefined"==typeof globalThis?"undefined":X(globalThis))?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})),yp=!R((function(){return Object.isExtensible(Object.preventExtensions({}))})),fk=$a((function(e){var t=Ra.f,n=Ae("meta"),r=0,i=Object.isExtensible||function(){return!0},o=function(e){t(e,n,{value:{objectID:"O"+ ++r,weakData:{}}})},a=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!ha(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!Q(e,n)){if(!i(e))return"F";if(!t)return"E";o(e)}return e[n].objectID},getWeakData:function(e,t){if(!Q(e,n)){if(!i(e))return!0;if(!t)return!1;o(e)}return e[n].weakData},onFreeze:function(e){return yp&&a.REQUIRED&&i(e)&&!Q(e,n)&&o(e),e}};Be[n]=!0})),zp=function(e,t,n){var r=-1!==e.indexOf("Map"),i=-1!==e.indexOf("Weak"),o=r?"set":"add",a=y[e],s=a&&a.prototype,c=a,u={},l=function(e){var t=s[e];Ta(s,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(i&&!ha(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return i&&!ha(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(i&&!ha(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(nc(e,"function"!=typeof a||!(i||s.forEach&&!R((function(){(new a).entries().next()})))))c=n.getConstructor(t,e,r,o),fk.REQUIRED=!0;else if(nc(e,!0)){var d=new c,h=d[o](i?{}:-0,1)!=d,p=R((function(){d.has(1)})),f=Tg((function(e){new a(e)})),A=!i&&R((function(){for(var e=new a,t=5;t--;)e[o](t,t);return!e.has(-0)}));f||((c=t((function(t,n){return Gc(t,c,e),t=lh(new a,t,c),null!=n&&Xg(n,t[o],{that:t,AS_ENTRIES:r}),t}))).prototype=s,s.constructor=c),(p||A)&&(l("delete"),l("has"),r&&l("get")),(A||h)&&l(o),i&&s.clear&&delete s.clear}return u[e]=c,N({global:!0,forced:c!=a},u),Ec(c,e),i||n.setStrong(c,e,r),c},gx=Ra.f,Ap=fk.fastKey,Bp=Za.set,gk=Za.getterFor,Cp={getConstructor:function(e,t,n,r){var i=e((function(e,o){Gc(e,i,t),Bp(e,{type:t,index:ac(null),first:void 0,last:void 0,size:0}),ka||(e.size=0),null!=o&&Xg(o,e[r],{that:e,AS_ENTRIES:n})})),o=gk(t),a=function(e,t,n){var r,i=o(e),a=s(e,t);return a?a.value=n:(i.last=a={index:r=Ap(t,!0),key:t,value:n,previous:t=i.last,next:void 0,removed:!1},i.first||(i.first=a),t&&(t.next=a),ka?i.size++:e.size++,"F"!==r&&(i.index[r]=a)),e},s=function(e,t){e=o(e);var n=Ap(t);if("F"!==n)return e.index[n];for(e=e.first;e;e=e.next)if(e.key==t)return e};return Hf(i.prototype,{clear:function(){for(var e=o(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,ka?e.size=0:this.size=0},delete:function(e){var t=o(this);if(e=s(this,e)){var n=e.next,r=e.previous;delete t.index[e.index],e.removed=!0,r&&(r.next=n),n&&(n.previous=r),t.first==e&&(t.first=n),t.last==e&&(t.last=r),ka?t.size--:this.size--}return!!e},forEach:function(e){for(var t,n=o(this),r=Id(e,1<arguments.length?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!s(this,e)}}),Hf(i.prototype,n?{get:function(e){return(e=s(this,e))&&e.value},set:function(e,t){return a(this,0===e?0:e,t)}}:{add:function(e){return a(this,e=0===e?0:e,e)}}),ka&&gx(i.prototype,"size",{get:function(){return o(this).size}}),i},setStrong:function(e,t,n){var r=t+" Iterator",i=gk(t),o=gk(r);bj(e,t,(function(e,t){Bp(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),If(t)}};zp("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),Cp);var hx=/^[\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff][\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]*/,ix=/[\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff][\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]*$/,hk=function(e){return function(t){return t=String(jb(t)),1&e&&(t=t.replace(hx,"")),2&e&&(t=t.replace(ix,"")),t}};hk(1),hk(2);var ik=hk(3),sh=y.parseInt,jx=/^[+-]?0[Xx]/,Dp=8!==sh("\t\n\v\f\r \u2028\u2029\ufeff08")||22!==sh("\t\n\v\f\r \u2028\u2029\ufeff0x16")?function(e,t){return e=ik(String(e)),sh(e,t>>>0||(jx.test(e)?16:10))}:sh;N({global:!0,forced:parseInt!=Dp},{parseInt:Dp});var kx=Hd.f,lx=Fb.f,mx=Ra.f,pd=y.Number,th=pd.prototype,nx="Number"==Zb(ac(th)),Ep=function(e){var t,n=lc(e,!1);if("string"==typeof n&&2<n.length)if(43===(e=(n=ik(n)).charCodeAt(0))||45===e){if(88===(e=n.charCodeAt(2))||120===e)return NaN}else if(48===e){switch(n.charCodeAt(1)){case 66:case 98:e=2;var r=49;break;case 79:case 111:e=8,r=55;break;default:return+n}var i=(n=n.slice(2)).length;for(t=0;t<i;t++){var o=n.charCodeAt(t);if(48>o||o>r)return NaN}return parseInt(n,e)}return+n};if(nc("Number",!pd(" 0o1")||!pd("0b1")||pd("+0x1"))){for(var Pd=function(e){var t=1>arguments.length?0:e,n=this;return n instanceof Pd&&(nx?R((function(){th.valueOf.call(n)})):"Number"!=Zb(n))?lh(new pd(Ep(t)),n,Pd):Ep(t)},Fp=ka?kx(pd):"MAX_VALUE MIN_VALUE NaN NEGATIVE_INFINITY POSITIVE_INFINITY EPSILON isFinite isInteger isNaN isSafeInteger MAX_SAFE_INTEGER MIN_SAFE_INTEGER parseFloat parseInt isInteger fromString range".split(" "),jk=0,uh;Fp.length>jk;jk++)Q(pd,uh=Fp[jk])&&!Q(Pd,uh)&&mx(Pd,uh,lx(pd,uh));Pd.prototype=th,th.constructor=Pd,Ta(y,"Number",Pd)}var Gp=qa("isConcatSpreadable"),ox=51<=id||!R((function(){var e=[];return e[Gp]=!1,e.concat()[0]!==e})),px=Ef("concat");N({target:"Array",proto:!0,forced:!ox||!px},{concat:function(e){var t,n=Qa(this),r=Sg(n,0),i=0,o=-1;for(t=arguments.length;o<t;o++){var a=-1===o?n:arguments[o],s=a;if(ha(s)){var c=s[Gp];s=void 0!==c?!!c:gd(s)}else s=!1;if(s){if(9007199254740991<i+(c=ta(a.length)))throw TypeError("Maximum allowed index exceeded");for(s=0;s<c;s++,i++)s in a&&Ge(r,i,a[s])}else{if(9007199254740991<=i)throw TypeError("Maximum allowed index exceeded");Ge(r,i++,a)}}return r.length=i,r}});var kk=mc("Reflect","apply"),qx=Function.apply,rx=!R((function(){kk((function(){}))}));N({target:"Reflect",stat:!0,forced:rx},{apply:function(e,t,n){return yb(e),va(n),kk?kk(e,t,n):qx.call(e,t,n)}}),N({target:"Reflect",stat:!0},{ownKeys:qn});var sx=Oj,tx=R((function(){return!Object.getOwnPropertyNames(1)}));N({target:"Object",stat:!0,forced:tx},{getOwnPropertyNames:sx});var Pe="object"===("undefined"==typeof Reflect?"undefined":X(Reflect))?Reflect:null,Hp=Pe&&"function"==typeof Pe.apply?Pe.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)},ux=Pe&&"function"==typeof Pe.ownKeys?Pe.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)},Ip=Number.isNaN||function(e){return e!=e};ea.EventEmitter=ea,ea.prototype._events=void 0,ea.prototype._eventsCount=0,ea.prototype._maxListeners=void 0;var Jp=10;Object.defineProperty(ea,"defaultMaxListeners",{enumerable:!0,get:function(){return Jp},set:function(e){if("number"!=typeof e||0>e||Ip(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Jp=e}}),ea.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},ea.prototype.setMaxListeners=function(e){if("number"!=typeof e||0>e||Ip(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},ea.prototype.getMaxListeners=function(){return void 0===this._maxListeners?ea.defaultMaxListeners:this._maxListeners},ea.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);n="error"===e;var r=this._events;if(void 0!==r)n=n&&void 0===r.error;else if(!n)return!1;if(n){var i;if(0<t.length&&(i=t[0]),i instanceof Error)throw i;throw(t=Error("Unhandled error."+(i?" ("+i.message+")":""))).context=i,t}if(void 0===(n=r[e]))return!1;if("function"==typeof n)Hp(n,this,t);else for(r=Cl(n,i=n.length),n=0;n<i;++n)Hp(r[n],this,t);return!0},ea.prototype.addListener=function(e,t){return zl(this,e,t,!1)},ea.prototype.on=ea.prototype.addListener,ea.prototype.prependListener=function(e,t){return zl(this,e,t,!0)},ea.prototype.once=function(e,t){return ng(t),this.on(e,Al(this,e,t)),this},ea.prototype.prependOnceListener=function(e,t){return ng(t),this.prependListener(e,Al(this,e,t)),this},ea.prototype.removeListener=function(e,t){var n;ng(t);var r=this._events;if(void 0===r)return this;var i=r[e];if(void 0===i)return this;if(i===t||i.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,i.listener||t));else if("function"!=typeof i){var o=-1;for(n=i.length-1;0<=n;n--)if(i[n]===t||i[n].listener===t){var a=i[n].listener;o=n;break}if(0>o)return this;if(0===o)i.shift();else{for(;o+1<i.length;o++)i[o]=i[o+1];i.pop()}1===i.length&&(r[e]=i[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},ea.prototype.off=ea.prototype.removeListener,ea.prototype.removeAllListeners=function(e){var t=this._events;if(void 0===t)return this;if(void 0===t.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==t[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete t[e]),this;if(0===arguments.length){var n=Object.keys(t);for(t=0;t<n.length;++t){var r=n[t];"removeListener"!==r&&this.removeAllListeners(r)}return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(n=t[e]))this.removeListener(e,n);else if(void 0!==n)for(t=n.length-1;0<=t;t--)this.removeListener(e,n[t]);return this},ea.prototype.listeners=function(e){return Bl(this,e,!0)},ea.prototype.rawListeners=function(e){return Bl(this,e,!1)},ea.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):Dl.call(e,t)},ea.prototype.listenerCount=Dl,ea.prototype.eventNames=function(){return 0<this._eventsCount?ux(this._events):[]},ea.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}El(e,t,o,{once:!0}),"error"!==t&&vs(e,i,{once:!0})}))};var Qe=Object.assign,Kp=Object.defineProperty,Lp=!Qe||R((function(){if(ka&&1!==Qe({b:1},Qe(Kp({},"a",{enumerable:!0,get:function(){Kp(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=Qe({},e)[n]||"abcdefghijklmnopqrst"!=Dc(Qe({},t)).join("")}))?function(e,t){for(var n=Qa(e),r=arguments.length,i=1,o=Bf.f,a=zf;r>i;)for(var s,c=Af(arguments[i++]),u=o?Dc(c).concat(o(c)):Dc(c),l=u.length,d=0;l>d;)s=u[d++],(!ka||a.call(c,s))&&(n[s]=c[s]);return n}:Qe;N({target:"Object",stat:!0,forced:Object.assign!==Lp},{assign:Lp}),zp("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),Cp);var vx=Math.log,wx=Math.LN2;N({target:"Math",stat:!0},{log2:function(e){return vx(e)/wx}});var xx=Ra.f,yx=Hd.f,zx=Za.enforce,Ax=qa("match"),sc=y.RegExp,lk=sc.prototype,Wf=/a/g,mk=/a/g,nk=new sc(Wf)!==Wf;if(ka&&nc("RegExp",!nk||pc||R((function(){return mk[Ax]=!1,sc(Wf)!=Wf||sc(mk)==mk||"/a/i"!=sc(Wf,"i")})))){for(var Oc=function(e,t){var n,r=this instanceof Oc,i=Lj(e),o=void 0===t;return!r&&i&&e.constructor===Oc&&o||(nk?i&&!o&&(e=e.source):e instanceof Oc&&(o&&(t=tj.call(e)),e=e.source),pc&&(n=!!t&&-1<t.indexOf("y"))&&(t=t.replace(/y/g,"")),e=lh(nk?new sc(e,t):sc(e,t),r?this:lk,Oc),pc&&n&&(zx(e).sticky=!0)),e},Bx=function(e){e in Oc||xx(Oc,e,{configurable:!0,get:function(){return sc[e]},set:function(t){sc[e]=t}})},Mp=yx(sc),Np=0;Mp.length>Np;)Bx(Mp[Np++]);lk.constructor=Oc,Oc.prototype=lk,Ta(y,"RegExp",Oc)}If("RegExp"),Sf("Float32",(function(e){return function(t,n,r){return e(this,t,n,r)}})),Sf("Float64",(function(e){return function(t,n,r){return e(this,t,n,r)}})),Sf("Uint32",(function(e){return function(t,n,r){return e(this,t,n,r)}})),Sf("Uint16",(function(e){return function(t,n,r){return e(this,t,n,r)}}));var ok=function(e,t){return e===t?0:null==e?null==t?0:-1:null==t?null==e?0:1:"function"==typeof e.compare?e.compare(t):"function"==typeof t.compare?-t.compare(e):e<t?-1:e>t?1:0},pk=[],Op=pk.sort,Cx=R((function(){pk.sort(void 0)})),Dx=R((function(){pk.sort(null)})),Ex=Ee("sort");N({target:"Array",proto:!0,forced:Cx||!Dx||!Ex},{sort:function(e){return void 0===e?Op.call(Qa(this)):Op.call(Qa(this),yb(e))}});var Pp=Object.getPrototypeOf({}),Xf=function(e,t){var n;return e===t||(null==e?e==t:"function"===X(e.equiv)?e.equiv(t):null==t?e==t:"function"===X(t.equiv)?t.equiv(e):"string"!==X(e)&&"string"!==X(t)&&(null!=(n=Object.getPrototypeOf(e))&&n!==Pp||null!=(n=Object.getPrototypeOf(t))&&n!==Pp?"function"!==X(e)&&void 0!==e.length&&"function"!==X(t)&&void 0!==t.length?Gx(e,t):e instanceof Set&&t instanceof Set?Hx(e,t):e instanceof Map&&t instanceof Map?Ix(e,t):e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e instanceof RegExp&&t instanceof RegExp?e.toString()===t.toString():e!=e&&t!=t:Fx(e,t)))},Gx=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Xf,r=e.length;if(r===t.length)for(;0<=--r&&n(e[r],t[r]););return 0>r},Hx=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Xf;return e.size===t.size&&n(G(e.keys()).sort(),G(t.keys()).sort())},Ix=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Xf;return e.size===t.size&&n(G(e).sort(),G(t).sort())},Fx=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Xf;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!t.hasOwnProperty(r)||!n(e[r],t[r]))return!1;return!0},Qp=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(e){return void 0!==e?": "+e:""};return function(n){function r(n){return W(this,r),i.call(this,e(n)+t(n))}la(r,n);var i=ma(r);return r}(ef(Error))},Jx=Qp((function(){return"illegal argument(s)"})),vh=function(e){throw new Jx(e)},qk=Qp((function(){return"index out of bounds"})),Rp=1/4294967295,Kx=function(){function e(){W(this,e)}return Ha(e,[{key:"float",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return this.int()*Rp*e}},{key:"norm",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return 2*(this.int()*Rp-.5)*e}},{key:"minmax",value:function(e,t){return this.float()*(t-e)+e}}]),e}(),rk=Math.random,Lx=new(function(e){function t(){return W(this,t),n.apply(this,arguments)}la(t,e);var n=ma(t);return Ha(t,[{key:"int",value:function(){return 4294967296*rk()>>>0}},{key:"float",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return rk()*e}},{key:"norm",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return 2*(rk()-.5)*e}}]),t}(Kx)),Vh=Symbol(),Hl=function(){},Mx=fk.onFreeze,sk=Object.freeze,Nx=R((function(){sk(1)}));N({target:"Object",stat:!0,forced:Nx,sham:!yp},{freeze:function(e){return sk&&ha(e)?sk(Mx(e)):e}});var Ox=Ee("reduce"),Px=!Hc&&79<id&&83>id;N({target:"Array",proto:!0,forced:!Ox||Px},{reduce:function(e){return Wo(this,e,arguments.length,1<arguments.length?arguments[1]:void 0)}});var Gl=function(e){return null!=e&&"function"==typeof e.xform?e.xform():e},og=function(){function e(t){W(this,e),this.value=t}return Ha(e,[{key:"deref",value:function(){return this.value}}]),e}(),Wh=function(e){return e instanceof og?e.deref():e},xs=function(e,t){return[e,function(e){return e},t]},Qx=w.mark((function(e,t){var n,r,i,o,a,s;return w.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:n=Gl(e)(ws()),r=n[1],i=n[2],o=0;case 4:if(!(o<t.length)){c.next=15;break}if(a=t[o],!((s=i([],a))instanceof og)){c.next=10;break}return c.delegateYield(Wh(r(s.deref())),"t0",9);case 9:return c.abrupt("return");case 10:if(!s.length){c.next=12;break}return c.delegateYield(s,"t1",12);case 12:o++,c.next=4;break;case 15:return c.delegateYield(Wh(r([])),"t2",16);case 16:case"end":return c.stop()}}),Qx)})),ys=w.mark(Fl),zs=function(e,t){return[e[0],e[1],t]},Sp=!0;"findIndex"in[]&&Array(1).findIndex((function(){Sp=!1})),N({target:"Array",proto:!0,forced:Sp},{findIndex:function(e){return An(this,e,1<arguments.length?arguments[1]:void 0)}}),Ld("findIndex"),N({target:"Array",proto:!0},{fill:yj}),Ld("fill");var Rx=function(){function e(t){W(this,e),this._length=0,t&&this.into(t)}return Ha(e,[{key:"length",get:function(){return this._length}},{key:"copy",value:function(){return new e(this)}},{key:"empty",value:function(){return new e}},{key:"clear",value:function(){this.release()}},{key:"release",value:function(){for(var e,t=this.head;t;)e=t.next,delete t.value,delete t.prev,delete t.next,t=e;return delete this.head,delete this.tail,this._length=0,!0}},{key:"compare",value:function(e){var t=this._length;if(t<e._length)return-1;if(t>e._length)return 1;if(0===t)return 0;t=this.head,e=e.head;for(var n=0;t&&0==n;)n=ok(t.value,e.value),t=t.next,e=e.next;return n}},{key:"equiv",value:function(t){if(!(t instanceof e||null!=t&&"function"!=typeof t&&void 0!==t.length)||this._length!==t.length)return!1;if(!this._length||this===t)return!0;for(var n=this.head,r=0;r<t.length;r++){if(!Xf(n.value,t[r]))return!1;n=n.next}return!0}},{key:Symbol.iterator,value:w.mark((function e(){var t;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.head;case 1:if(!t){e.next=7;break}return e.next=4,t.value;case 4:t=t.next,e.next=1;break;case 7:case"end":return e.stop()}}),e,this)}))},{key:"seq",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.length;if(!(e>=t||0>e)){e=this.nthCell(e);var n=this.nthCell(t-1);return t=function e(t){return{first:function(){return t.value},next:function(){return t!==n&&t.next?e(t.next):void 0}}},e?t(e):void 0}}},{key:"cycle",value:w.mark((function e(){return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this,"t0",2);case 2:e.next=0;break;case 4:case"end":return e.stop()}}),e,this)}))},{key:"$reduce",value:function(e,t){for(var n=this.head;n&&!(t instanceof og);)t=e(t,n.value),n=n.next;return t}},{key:"drop",value:function(){var e=this.head;if(e)return(this.head=e.next)?delete this.head.prev:delete this.tail,this._length--,e.value}},{key:"cons",value:function(e){return e={value:e,next:this.head},this.head?this.head.prev=e:this.tail=e,this.head=e,this._length++,this}},{key:"insertBefore",value:function(e,t){return e||vh("cell is undefined"),t={value:t,next:e,prev:e.prev},e.prev?e.prev.next=t:this.head=t,e.prev=t,this._length++,this}},{key:"insertAfter",value:function(e,t){return e||vh("cell is undefined"),t={value:t,next:e.next,prev:e},e.next?e.next.prev=t:this.tail=t,e.next=t,this._length++,this}},{key:"insertBeforeNth",value:function(e,t){if(0>e&&(e+=this._length),0>=e)return this.cons(t);if(0>e||e>=this._length)throw new qk(e);return this.insertBefore(this.nthCellUnsafe(e),t)}},{key:"insertAfterNth",value:function(e,t){if(0>e&&(e+=this._length),e>=this._length-1)return this.push(t);if(0>e||e>=this._length)throw new qk(e);return this.insertAfter(this.nthCellUnsafe(e),t)}},{key:"insertSorted",value:function(e,t){t=t||ok;for(var n=this.head;n;){if(0>=t(e,n.value))return this.insertBefore(n,e);n=n.next}return this.push(e)}},{key:"find",value:function(e){for(var t=this.head;t;){if(t.value===e)return t;t=t.next}}},{key:"findWith",value:function(e){for(var t=this.head;t;){if(e(t.value))return t;t=t.next}}},{key:"concat",value:function(){for(var e=this.copy(),t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];for(t=0;t<n.length;t++)e.into(n[t]);return e}},{key:"into",value:function(e){for(var t=0;t<e.length;t++)this.push(e[t])}},{key:"slice",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.length;t=0>t?t+this._length:t,n=0>n?n+this._length:n,(0>t||0>n)&&vh("invalid indices: ${from} / ${to}");for(var r=new e,i=this.nthCell(t);i&&++t<=n;)r.push(i.value),i=i.next;return r}},{key:"splice",value:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length?arguments[2]:void 0;if("number"==typeof t){if(0>t&&(t+=this._length),0>t||t>=this._length)throw new qk(t);var i=this.nthCellUnsafe(t)}else i=t;var o=new e;if(0<n)for(;i&&0<n--;)this.remove(i),o.push(i.value),i=i.next;else i&&(i=i.next);if(r)if(i)for(n=0;n<r.length;n++)this.insertBefore(i,r[n]);else for(i=0;i<r.length;i++)this.push(r[i]);return o}},{key:"remove",value:function(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,this._length--,this}},{key:"swap",value:function(e,t){if(e!==t){var n=e.value;e.value=t.value,t.value=n}return this}},{key:"push",value:function(e){return this.tail?(e={value:e,prev:this.tail},this.tail=this.tail.next=e,this._length++,this):this.cons(e)}},{key:"pop",value:function(){var e=this.tail;if(e)return(this.tail=e.prev)?delete this.tail.next:delete this.head,this._length--,e.value}},{key:"first",value:function(){return this.head&&this.head.value}},{key:"peek",value:function(){return this.tail&&this.tail.value}},{key:"setHead",value:function(e){return this.head?(this.head.value=e,this):this.cons(e)}},{key:"setTail",value:function(e){return this.tail?(this.tail.value=e,this):this.push(e)}},{key:"setNth",value:function(e,t){var n=this.nthCell(e);return!n&&vh("index out of bounds: ".concat(e)),n.value=t,this}},{key:"nth",value:function(e,t){return(e=this.nthCell(e))?e.value:t}},{key:"nthCell",value:function(e){if(0>e&&(e+=this._length),!(0>e||e>=this._length))return this.nthCellUnsafe(e)}},{key:"rotateLeft",value:function(){switch(this._length){case 0:case 1:return this;case 2:return this.swap(this.head,this.tail);default:return this.push(this.drop())}}},{key:"rotateRight",value:function(){switch(this._length){case 0:case 1:return this;case 2:return this.swap(this.head,this.tail);default:var e=this.peek();return this.pop(),this.cons(e)}}},{key:"map",value:function(t){for(var n=new e,r=this.head;r;)n.push(t(r.value)),r=r.next;return n}},{key:"filter",value:function(t){for(var n=new e,r=this.head;r;)t(r.value)&&n.push(r.value),r=r.next;return n}},{key:"reduce",value:function(e,t){for(var n=this.head;n;)t=e(t,n.value),n=n.next;return t}},{key:"shuffle",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Lx;if(2>this._length)return this;for(e=null!=e?e:Math.ceil(1.5*Math.log2(this._length));0<e;e--)for(var n=this.head;n;){var r=n.next;.5>t.float()?this.asHead(n):this.asTail(n),n=r}return this}},{key:"sort",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:ok;if(!this._length)return this;for(var t=1;;){var n=this.head;this.tail=this.head=void 0;for(var r=0;n;){r++;for(var i=n,o=0,a=0;a<t&&(o++,i=i.next);a++);for(a=t;0<o||0<a&&i;){if(0===o){var s=i;i=i.next,a--}else i&&0!==a?0>=e(n.value,i.value)?(s=n,n=n.next,o--):(s=i,i=i.next,a--):(s=n,n=n.next,o--);this.tail?this.tail.next=s:this.head=s,s.prev=this.tail,this.tail=s}n=i}if(this.tail.next=void 0,1>=r)return this;t*=2}}},{key:"reverse",value:function(){for(var e=this.head,t=this.tail,n=(this._length>>>1)+(1&this._length);e&&t&&0<n;){var r=e.value;e.value=t.value,t.value=r,e=e.next,t=t.prev,n--}return this}},{key:"asHead",value:function(e){return e===this.head||(this.remove(e),this.head.prev=e,e.next=this.head,e.prev=void 0,this.head=e,this._length++),this}},{key:"asTail",value:function(e){return e===this.tail||(this.remove(e),this.tail.next=e,e.prev=this.tail,e.next=void 0,this.tail=e,this._length++),this}},{key:"toString",value:function(){for(var e=[],t=this.head;t;)e.push(String(t.value)),t=t.next;return e.join(", ")}},{key:"toJSON",value:function(){return G(this)}},{key:"nthCellUnsafe",value:function(e){if(e<=this._length>>1)var t=this.head,n="next";else t=this.tail,n="prev",e=this._length-e-1;for(;0<e--&&t;)t=t[n];return t}}]),e}(),tc=function(){function e(t,n){W(this,e),n=Object.assign({maxlen:1/0,maxsize:1/0,map:function(){return new Map},ksize:function(){return 0},vsize:function(){return 0}},n),this.map=n.map(),this.items=new Rx,this._size=0,this.opts=n,t&&this.into(t)}return Ha(e,[{key:"length",get:function(){return this.items.length}},{key:"size",get:function(){return this._size}},{key:Symbol.iterator,value:function(){return this.entries()}},{key:"entries",value:function(){return pg((function(e){return[e.k,e]}),this.items)}},{key:"keys",value:function(){return pg((function(e){return e.k}),this.items)}},{key:"values",value:function(){return pg((function(e){return e.v}),this.items)}},{key:"copy",value:function(){var e=this.empty();e.items=this.items.copy();for(var t=e.items.head;t;)e.map.set(t.value.k,t),t=t.next;return e}},{key:"empty",value:function(){return new e(null,this.opts)}},{key:"release",value:function(){this._size=0,this.map.clear();var e=this.opts.release;if(e){for(var t;t=this.items.drop();)e(t.k,t.v);return!0}return this.items.release()}},{key:"has",value:function(e){return this.map.has(e)}},{key:"get",value:function(e,t){return(e=this.map.get(e))?this.resetEntry(e):t}},{key:"set",value:function(e,t){var n=this.opts.ksize(e)+this.opts.vsize(t),r=this.map.get(e);return this._size+=Math.max(0,n-(r?r.value.s:0)),this.ensureSize()&&this.doSetEntry(r,e,t,n),t}},{key:"into",value:function(e){for(var t=0;t<e.length;t++){var n=e[t];this.set(n[0],n[1])}return this}},{key:"getSet",value:function(e,t){var n=this,r=this.map.get(e);return r?Promise.resolve(this.resetEntry(r)):t().then((function(t){return n.set(e,t)}))}},{key:"delete",value:function(e){return!!(e=this.map.get(e))&&(this.removeEntry(e),!0)}},{key:"resetEntry",value:function(e){return this.items.asTail(e),e.value.v}},{key:"ensureSize",value:function(){for(var e=this.opts.release,t=this.opts.maxsize,n=this.opts.maxlen;this._size>t||this.length>=n;){var r=this.items.drop();if(!r)return!1;this.map.delete(r.k),e&&e(r.k,r.v),this._size-=r.s}return!0}},{key:"removeEntry",value:function(e){var t=e.value;this.map.delete(t.k),this.items.remove(e),this.opts.release&&this.opts.release(t.k,t.v),this._size-=t.s}},{key:"doSetEntry",value:function(e,t,n,r){e?(e.value.v=n,e.value.s=r,this.items.asTail(e)):(this.items.push({k:t,v:n,s:r}),this.map.set(t,this.items.tail))}}]),e}(),Sx=function(e){function t(e,r){return W(this,t),r=Object.assign({ttl:36e5},r),n.call(this,e,r)}la(t,e);var n=ma(t);return Ha(t,[{key:"empty",value:function(){return new t(null,this.opts)}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"get",value:function(e,t){if(e=this.map.get(e)){if(e.value.t>=Date.now())return this.resetEntry(e);this.removeEntry(e)}return t}},{key:"set",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.opts.ttl,r=this.opts.ksize(e)+this.opts.vsize(t),i=this.map.get(e);return this._size+=Math.max(0,r-(i?i.value.s:0)),this.ensureSize()&&(n=Date.now()+n,i?(i.value.v=t,i.value.s=r,i.value.t=n,this.items.asTail(i)):(this.items.push({k:e,v:t,s:r,t:n}),this.map.set(e,this.items.tail))),t}},{key:"getSet",value:function(e,t){var n=this,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.opts.ttl,i=this.get(e);return i?Promise.resolve(i):t().then((function(t){return n.set(e,t,r)}))}},{key:"prune",value:function(){for(var e=Date.now(),t=this.items.head;t;)t.value.t<e&&this.removeEntry(t),t=t.next}},{key:"ensureSize",value:function(){for(var e=this.opts.maxsize,n=this.opts.maxlen,r=Date.now(),i=this.items.head;i&&(this._size>e||this.length>=n);)i.value.t<r&&this.removeEntry(i),i=i.next;return Th(wd(t.prototype),"ensureSize",this).call(this)}}]),t}(tc),Tp="object"==X(Ya)&&Ya&&Ya.Object===Object&&Ya,Tx="object"==("undefined"==typeof self?"undefined":X(self))&&self&&self.Object===Object&&self,Cb=Tp||Tx||Function("return this")(),Pb=Cb.Symbol,Up=Object.prototype,Ux=Up.hasOwnProperty,Vx=Up.toString,Yf=Pb?Pb.toStringTag:void 0,Wx=Object.prototype.toString,Vp=Pb?Pb.toStringTag:void 0,Qd=function(e){if(null==e)e=void 0===e?"[object Undefined]":"[object Null]";else if(Vp&&Vp in Object(e)){var t=Ux.call(e,Yf),n=e[Yf];try{e[Yf]=void 0;var r=!0}catch(e){}var i=Vx.call(e);r&&(t?e[Yf]=n:delete e[Yf]),e=i}else e=Wx.call(e);return e},lb=function(e){var t=X(e);return null!=e&&("object"==t||"function"==t)},qi=function(e){return!!lb(e)&&("[object Function]"==(e=Qd(e))||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e)},tk=Cb["__core-js_shared__"],Wp=(e=/[^.]+$/.exec(tk&&tk.keys&&tk.keys.IE_PROTO||""),e?"Symbol(src)_1."+e:""),Xx=Function.prototype.toString,Rd=function(e){if(null!=e){try{return Xx.call(e)}catch(e){}return e+""}return""},Yx=/^\[object .+?Constructor\]$/,Zx=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Sd=function(e,t){return e=null==e?void 0:e[t],!lb(e)||Wp&&Wp in e||!(qi(e)?Zx:Yx).test(Rd(e))?void 0:e},Zf=Sd(Object,"create"),$x=Object.prototype.hasOwnProperty,ay=Object.prototype.hasOwnProperty,e;zd.prototype.clear=function(){this.__data__=Zf?Zf(null):{},this.size=0},zd.prototype.delete=function(e){return e=this.has(e)&&delete this.__data__[e],this.size-=e?1:0,e},zd.prototype.get=function(e){var t=this.__data__;return Zf?"__lodash_hash_undefined__"===(e=t[e])?void 0:e:$x.call(t,e)?t[e]:void 0},zd.prototype.has=function(e){var t=this.__data__;return Zf?void 0!==t[e]:ay.call(t,e)},zd.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Zf&&void 0===t?"__lodash_hash_undefined__":t,this};var $f=function(e,t){return e===t||e!=e&&t!=t},wh=function(e,t){for(var n=e.length;n--;)if($f(e[n][0],t))return n;return-1},by=Array.prototype.splice;ce.prototype.clear=function(){this.__data__=[],this.size=0},ce.prototype.delete=function(e){var t=this.__data__;return!(0>(e=wh(t,e))||(e==t.length-1?t.pop():by.call(t,e,1),--this.size,0))},ce.prototype.get=function(e){var t=this.__data__;return 0>(e=wh(t,e))?void 0:t[e][1]},ce.prototype.has=function(e){return-1<wh(this.__data__,e)},ce.prototype.set=function(e,t){var n=this.__data__,r=wh(n,e);return 0>r?(++this.size,n.push([e,t])):n[r][1]=t,this};var rg=ce,ag=Sd(Cb,"Map"),xh=function(e,t){e=e.__data__;var n=X(t);return("string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t)?e["string"==typeof t?"string":"hash"]:e.map};de.prototype.clear=function(){this.size=0,this.__data__={hash:new zd,map:new(ag||rg),string:new zd}},de.prototype.delete=function(e){return e=xh(this,e).delete(e),this.size-=e?1:0,e},de.prototype.get=function(e){return xh(this,e).get(e)},de.prototype.has=function(e){return xh(this,e).has(e)},de.prototype.set=function(e,t){var n=xh(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var qg=de;gf.prototype.add=gf.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},gf.prototype.has=function(e){return this.__data__.has(e)};var Xp=function(e,t,n,r){var i=e.length;for(n+=r?1:-1;r?n--:++n<i;)if(t(e[n],n,e))return n;return-1},cy=function(e){return e!=e},dy=function(e,t){var n;if(n=!(null==e||!e.length)){if(t==t)e:{n=-1;for(var r=e.length;++n<r;)if(e[n]===t){e=n;break e}e=-1}else e=Xp(e,cy,0);n=-1<e}return n},ey=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1},fy=function(e,t){return e.has(t)},Re=Sd(Cb,"Set"),gy=function(){},uk=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},hy=1/0,iy=Re&&1/uk(new Re([,-0]))[1]==hy?function(e){return new Re(e)}:gy,vk=function(e,t,n){var r=-1,i=dy,o=e.length,a=!0,s=[],c=s;if(n)a=!1,i=ey;else if(200<=o){if(i=t?null:iy(e))return uk(i);a=!1,i=fy,c=new gf}else c=t?[]:s;e:for(;++r<o;){var u=e[r],l=t?t(u):u;if(u=n||0!==u?u:0,a&&l==l){for(var d=c.length;d--;)if(c[d]===l)continue e;t&&c.push(l),s.push(u)}else i(c,l,n)||(c!==s&&c.push(l),s.push(u))}return s},Yp=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},he=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i};ee.prototype.clear=function(){this.__data__=new rg,this.size=0},ee.prototype.delete=function(e){var t=this.__data__;return e=t.delete(e),this.size=t.size,e},ee.prototype.get=function(e){return this.__data__.get(e)},ee.prototype.has=function(e){return this.__data__.has(e)},ee.prototype.set=function(e,t){var n=this.__data__;if(n instanceof rg){var r=n.__data__;if(!ag||199>r.length)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new qg(r)}return n.set(e,t),this.size=n.size,this};var ge=ee,Is=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},yh=function(){try{var e=Sd(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),bg=function(e,t,n){"__proto__"==t&&yh?yh(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},jy=Object.prototype.hasOwnProperty,Ml=function(e,t,n){var r=e[t];jy.call(e,t)&&$f(r,n)&&(void 0!==n||t in e)||bg(e,t,n)},re=function(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],c=r?r(n[s],e[s],s,n,e):void 0;void 0===c&&(c=e[s]),i?bg(n,s,c):Ml(n,s,c)}return n},gc=function(e){return null!=e&&"object"==X(e)},Zp=function(e){return gc(e)&&"[object Arguments]"==Qd(e)},$p=Object.prototype,ky=$p.hasOwnProperty,ly=$p.propertyIsEnumerable,rf=Zp(function(){return arguments}())?Zp:function(e){return gc(e)&&ky.call(e,"callee")&&!ly.call(e,"callee")},Va=Array.isArray,my=function(){return!1},jf=$a((function(e,t){var n=(t=t&&!t.nodeType&&t)&&e&&!e.nodeType&&e;t=n&&n.exports===t?Cb.Buffer:void 0,e.exports=(t?t.isBuffer:void 0)||my})),ny=/^(?:0|[1-9]\d*)$/,wk=function(e,t){var n=X(e);return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&ny.test(e))&&-1<e&&0==e%1&&e<t},xk=function(e){return"number"==typeof e&&-1<e&&0==e%1&&9007199254740991>=e},Ea={};Ea["[object Float32Array]"]=Ea["[object Float64Array]"]=Ea["[object Int8Array]"]=Ea["[object Int16Array]"]=Ea["[object Int32Array]"]=Ea["[object Uint8Array]"]=Ea["[object Uint8ClampedArray]"]=Ea["[object Uint16Array]"]=Ea["[object Uint32Array]"]=!0,Ea["[object Arguments]"]=Ea["[object Array]"]=Ea["[object ArrayBuffer]"]=Ea["[object Boolean]"]=Ea["[object DataView]"]=Ea["[object Date]"]=Ea["[object Error]"]=Ea["[object Function]"]=Ea["[object Map]"]=Ea["[object Number]"]=Ea["[object Object]"]=Ea["[object RegExp]"]=Ea["[object Set]"]=Ea["[object String]"]=Ea["[object WeakMap]"]=!1;var oy=function(e){return gc(e)&&xk(e.length)&&!!Ea[Qd(e)]},zh=function(e){return function(t){return e(t)}},Se=$a((function(e,t){var n=t&&!t.nodeType&&t;n=(t=n&&e&&!e.nodeType&&e)&&t.exports===n&&Tp.process;e:{try{var r=t&&t.require&&t.require("util").types;if(r){var i=r;break e}i=n&&n.binding&&n.binding("util");break e}catch(e){}i=void 0}e.exports=i})),aq=Se&&Se.isTypedArray,bi=aq?zh(aq):oy,py=Object.prototype.hasOwnProperty,bq=function(e,t){var n=Va(e),r=!n&&rf(e),i=!n&&!r&&jf(e),o=!n&&!r&&!i&&bi(e);if(n=n||r||i||o){r=e.length;for(var a=String,s=-1,c=Array(r);++s<r;)c[s]=a(s);r=c}else r=[];for(var u in a=r.length,e)!t&&!py.call(e,u)||n&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||wk(u,a))||r.push(u);return r},qy=Object.prototype,yk=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||qy)},cq=function(e,t){return function(n){return e(t(n))}},ry=cq(Object.keys,Object),sy=Object.prototype.hasOwnProperty,Ed=function(e){return null!=e&&xk(e.length)&&!qi(e)},Ad=function(e){if(Ed(e))e=bq(e);else if(yk(e)){var t,n=[];for(t in Object(e))sy.call(e,t)&&"constructor"!=t&&n.push(t);e=n}else e=ry(e);return e},Es=function(e,t){return e&&re(t,Ad(t),e)},ty=Object.prototype.hasOwnProperty,kf=function(e){if(Ed(e))e=bq(e,!0);else if(lb(e)){var t=yk(e),n=[];for(r in e)("constructor"!=r||!t&&ty.call(e,r))&&n.push(r);e=n}else{var r=[];if(null!=e)for(t in Object(e))r.push(t);e=r}return e},Cs=function(e,t){return e&&re(t,kf(t),e)},Jl=$a((function(e,t){var n=(t=t&&!t.nodeType&&t)&&e&&!e.nodeType&&e,r=(t=n&&n.exports===t?Cb.Buffer:void 0)?t.allocUnsafe:void 0;e.exports=function(e,t){return t?e.slice():(t=e.length,t=r?r(t):new e.constructor(t),e.copy(t),t)}})),Xh=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},uy=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o},dq=function(){return[]},vy=Object.prototype.propertyIsEnumerable,eq=Object.getOwnPropertySymbols,zk=eq?function(e){return null==e?[]:(e=Object(e),uy(eq(e),(function(t){return vy.call(e,t)})))}:dq,Ds=function(e,t){return re(e,zk(e),t)},ai=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},Ak=cq(Object.getPrototypeOf,Object),fq=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)ai(t,zk(e)),e=Ak(e);return t}:dq,Bs=function(e,t){return re(e,fq(e),t)},gq=function(e,t,n){return t=t(e),Va(e)?t:ai(t,n(e))},Yh=function(e){return gq(e,Ad,zk)},Ll=function(e){return gq(e,kf,fq)},Bk=Sd(Cb,"DataView"),Ck=Sd(Cb,"Promise"),Dk=Sd(Cb,"WeakMap"),wy=Rd(Bk),xy=Rd(ag),yy=Rd(Ck),zy=Rd(Re),Ay=Rd(Dk),Td=Qd;(Bk&&"[object DataView]"!=Td(new Bk(new ArrayBuffer(1)))||ag&&"[object Map]"!=Td(new ag)||Ck&&"[object Promise]"!=Td(Ck.resolve())||Re&&"[object Set]"!=Td(new Re)||Dk&&"[object WeakMap]"!=Td(new Dk))&&(Td=function(e){var t=Qd(e);if(e=(e="[object Object]"==t?e.constructor:void 0)?Rd(e):"")switch(e){case wy:return"[object DataView]";case xy:return"[object Map]";case yy:return"[object Promise]";case zy:return"[object Set]";case Ay:return"[object WeakMap]"}return t});var hf=Td,By=Object.prototype.hasOwnProperty,As=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&By.call(e,"index")&&(n.index=e.index,n.input=e.input),n},Ah=Cb.Uint8Array,Ek=function(e){var t=new e.constructor(e.byteLength);return new Ah(t).set(new Ah(e)),t},Cy=/\w*$/,hq=Pb?Pb.prototype:void 0,iq=hq?hq.valueOf:void 0,vm=function(e,t){return t=t?Ek(e.buffer):e.buffer,new e.constructor(t,e.byteOffset,e.length)},Fs=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return Ek(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return t=n?Ek(e.buffer):e.buffer,new e.constructor(t,e.byteOffset,e.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return vm(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return(t=new e.constructor(e.source,Cy.exec(e))).lastIndex=e.lastIndex,t;case"[object Symbol]":return iq?Object(iq.call(e)):{}}},jq=Object.create,Dy=function(){function e(){}return function(t){return lb(t)?jq?jq(t):(e.prototype=t,t=new e,e.prototype=void 0,t):{}}}(),Kl=function(e){return"function"!=typeof e.constructor||yk(e)?{}:Dy(Ak(e))},Ey=function(e){return gc(e)&&"[object Map]"==hf(e)},kq=Se&&Se.isMap,Hs=kq?zh(kq):Ey,Fy=function(e){return gc(e)&&"[object Set]"==hf(e)},lq=Se&&Se.isSet,Gs=lq?zh(lq):Fy,wa={};wa["[object Arguments]"]=wa["[object Array]"]=wa["[object ArrayBuffer]"]=wa["[object DataView]"]=wa["[object Boolean]"]=wa["[object Date]"]=wa["[object Float32Array]"]=wa["[object Float64Array]"]=wa["[object Int8Array]"]=wa["[object Int16Array]"]=wa["[object Int32Array]"]=wa["[object Map]"]=wa["[object Number]"]=wa["[object Object]"]=wa["[object RegExp]"]=wa["[object Set]"]=wa["[object String]"]=wa["[object Symbol]"]=wa["[object Uint8Array]"]=wa["[object Uint8ClampedArray]"]=wa["[object Uint16Array]"]=wa["[object Uint32Array]"]=!0,wa["[object Error]"]=wa["[object Function]"]=wa["[object WeakMap]"]=!1;var ie=function(e){return"symbol"==X(e)||gc(e)&&"[object Symbol]"==Qd(e)},Gy=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Hy=/^\w*$/,Fk=function(e,t){if(Va(e))return!1;var n=X(e);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ie(e))||Hy.test(e)||!Gy.test(e)||null!=t&&e in Object(t)};Zh.Cache=qg;var Iy=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Jy=/\\(\\)?/g,Ky=function(e){var t=(e=Zh(e,(function(e){return 500===t.size&&t.clear(),e}))).cache;return e}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Iy,(function(e,n,r,i){t.push(r?i.replace(Jy,"$1"):n||e)})),t})),Js=1/0,mq=Pb?Pb.prototype:void 0,Ol=mq?mq.toString:void 0,Bh=function(e,t){return Va(e)?e:Fk(e,t)?[e]:Ky(null==e?"":Nl(e))},Ly=1/0,cg=function(e){if("string"==typeof e||ie(e))return e;var t=e+"";return"0"==t&&1/e==-Ly?"-0":t},Ch=function(e,t){for(var n=0,r=(t=Bh(t,e)).length;null!=e&&n<r;)e=e[cg(t[n++])];return n&&n==r?e:void 0},My=function(e,t){if(!(2>(t=Bh(t,e)).length)){var n=t,r=0,i=-1,o=-1,a=n.length;for(0>r&&(r=-r>a?0:a+r),0>(i=i>a?a:i)&&(i+=a),a=r>i?0:i-r>>>0,r>>>=0,i=Array(a);++o<a;)i[o]=n[o+r];e=Ch(e,i)}return(n=null==e)||(n=null==t?0:t.length,n=delete e[cg(n?t[n-1]:void 0)]),n},nq=Function.prototype.toString,Ny=Object.prototype.hasOwnProperty,Oy=nq.call(Object),wm=function(e){return!(!gc(e)||"[object Object]"!=Qd(e))&&(null===(e=Ak(e))||"function"==typeof(e=Ny.call(e,"constructor")&&e.constructor)&&e instanceof e&&nq.call(e)==Oy)},Py=function(e){return wm(e)?void 0:e},oq=Pb?Pb.isConcatSpreadable:void 0,Ks=function(e){return Va(e)||rf(e)||!!(oq&&e&&e[oq])},Qy=function(e){return null!=e&&e.length?$h(e,1):[]},Ry=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},pq=Math.max,qq=function(e,t,n){return t=pq(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=pq(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];for(i=-1,o=Array(t+1);++i<t;)o[i]=r[i];return o[t]=n(a),Ry(e,this,o)}},Sy=function(e){return function(){return e}},Dh=function(e){return e},Ty=Date.now,rq=function(e){var t=0,n=0;return function(){var r=Ty(),i=16-(r-n);if(n=r,0<i){if(800<=++t)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(yh?function(e,t){return yh(e,"toString",{configurable:!0,enumerable:!1,value:Sy(t),writable:!0})}:Dh),Gk=function(e){return rq(qq(e,void 0,Qy),e+"")}((function(e,t){var n={};if(null==e)return n;var r=!1;t=he(t,(function(t){return t=Bh(t,e),r||(r=1<t.length),t})),re(e,Ll(e),n),r&&(n=fe(n,7,Py));for(var i=t.length;i--;)My(n,t[i]);return n})),Uy=function(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r},um=function(e,t,n){for(var r=-1,i=Object(e),o=(n=n(e)).length;o--;){var a=n[++r];if(!1===t(i[a],a,i))break}return e},sq=function(e,t){return e&&um(e,t,Ad)},Hk=function(e,t){return function(t,n){if(null==t)return t;if(!Ed(t))return e(t,n);for(var r=t.length,i=-1,o=Object(t);++i<r&&!1!==n(o[i],i,o););return t}}(sq),Vy=function(e,t,n,r){return Hk(e,(function(e,i,o){t(r,e,n(e),o)})),r},tq=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},Pl=function(e,t,n,r,i,o){var a=1&n,s=e.length,c=t.length;if(s!=c&&!(a&&c>s))return!1;c=o.get(e);var u=o.get(t);if(c&&u)return c==t&&u==e;c=-1,u=!0;var l=2&n?new gf:void 0;for(o.set(e,t),o.set(t,e);++c<s;){var d=e[c],h=t[c];if(r)var p=a?r(h,d,c,t,e,o):r(d,h,c,e,t,o);if(void 0!==p){if(p)continue;u=!1;break}if(l){if(!tq(t,(function(e,t){if(!l.has(t)&&(d===e||i(d,e,n,r,o)))return l.push(t)}))){u=!1;break}}else if(d!==h&&!i(d,h,n,r,o)){u=!1;break}}return o.delete(e),o.delete(t),u},Wy=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n},uq=Pb?Pb.prototype:void 0,Ik=uq?uq.valueOf:void 0,Ls=function(e,t,n,r,i,o,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!o(new Ah(e),new Ah(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return $f(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Wy;case"[object Set]":if(s||(s=uk),e.size!=t.size&&!(1&r))break;return(n=a.get(e))?n==t:(r|=2,a.set(e,t),t=Pl(s(e),s(t),r,i,o,a),a.delete(e),t);case"[object Symbol]":if(Ik)return Ik.call(e)==Ik.call(t)}return!1},Ms=Object.prototype.hasOwnProperty,Ql=Object.prototype.hasOwnProperty,Xy=function(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var c=(s=n[i])[0],u=e[c],l=s[1];if(a&&s[2]){if(void 0===u&&!(c in e))return!1}else{if(s=new ge,r)var d=r(u,l,c,e,t,s);if(void 0===d?!je(l,u,3,r,s):!d)return!1}}return!0},Yy=function(e){for(var t=Ad(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,i==i&&!lb(i)]}return t},vq=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}},Zy=function(e){var t=Yy(e);return 1==t.length&&t[0][2]?vq(t[0][0],t[0][1]):function(n){return n===e||Xy(n,e,t)}},$y=function(e,t){return Fk(e)&&t==t&&!lb(t)?vq(cg(e),t):function(n){var r=null==n?void 0:Ch(n,e);if(void 0===(r=void 0===r?void 0:r)&&r===t){if(r=null!=n){for(var i=-1,o=(r=Bh(r=e,n)).length,a=!1;++i<o;){var s=cg(r[i]);if(!(a=null!=n&&null!=n&&s in Object(n)))break;n=n[s]}r=a||++i!=o?a:!!(o=null==n?0:n.length)&&xk(o)&&wk(s,o)&&(Va(n)||rf(n))}s=r}else s=je(t,r,3);return s}},az=function(e){return function(t){return null==t?void 0:t[e]}},bz=function(e){return function(t){return Ch(t,e)}},Te=function(e){return"function"==typeof e?e:null==e?Dh:"object"==X(e)?Va(e)?$y(e[0],e[1]):Zy(e):Fk(e)?az(cg(e)):bz(e)},Jk=function(e,t){return function(t,n){return(Va(t)?Uy:Vy)(t,e,Te(n),{})}}((function(e,t,n){bg(e,n,t)})),uc=function(e,t){var n={};return t=Te(t),sq(e,(function(e,r,i){bg(n,r,t(e,r,i))})),n};N({target:"String",proto:!0,forced:R((function(){var e="".sub('"');return e!==e.toLowerCase()||3<e.split('"').length}))},{sub:function(){return"<sub>"+String(jb(this))+"</sub>"}});var U=xa,Qb=null;try{Qb=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(c){}xa.prototype.__isLong__,Object.defineProperty(xa.prototype,"__isLong__",{value:!0}),xa.isLong=mb;var Sl={},Rl={};xa.fromInt=Bd,xa.fromNumber=Gb,xa.fromBits=ya;var sg=Math.pow;xa.fromString=ci,xa.fromValue=Wb;var ke=4294967296,Tl=ke*ke,Vl=Tl/2,wq=Bd(16777216),Hb=Bd(0);xa.ZERO=Hb;var Cd=Bd(0,!0);xa.UZERO=Cd;var Ue=Bd(1);xa.ONE=Ue;var xq=Bd(1,!0);xa.UONE=xq;var Kk=Bd(-1);xa.NEG_ONE=Kk;var Wl=ya(-1,2147483647,!1);xa.MAX_VALUE=Wl;var Ul=ya(-1,-1,!0);xa.MAX_UNSIGNED_VALUE=Ul;var nb=ya(0,-2147483648,!1);xa.MIN_VALUE=nb;var D=xa.prototype;D.toInt=function(){return this.unsigned?this.low>>>0:this.low},D.toNumber=function(){return this.unsigned?(this.high>>>0)*ke+(this.low>>>0):this.high*ke+(this.low>>>0)},D.toString=function(e){if(2>(e=e||10)||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(nb)){var t=Gb(e),n=this.div(t);return t=n.mul(t).sub(this),n.toString(e)+t.toInt().toString(e)}return"-"+this.neg().toString(e)}n=Gb(sg(e,6),this.unsigned),t=this;for(var r="";;){var i=t.div(n),o=(t.sub(i.mul(n)).toInt()>>>0).toString(e);if((t=i).isZero())return o+r;for(;6>o.length;)o="0"+o;r=""+o+r}},D.getHighBits=function(){return this.high},D.getHighBitsUnsigned=function(){return this.high>>>0},D.getLowBits=function(){return this.low},D.getLowBitsUnsigned=function(){return this.low>>>0},D.getNumBitsAbs=function(){if(this.isNegative())return this.eq(nb)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;0<t&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},D.isZero=function(){return 0===this.high&&0===this.low},D.eqz=D.isZero,D.isNegative=function(){return!this.unsigned&&0>this.high},D.isPositive=function(){return this.unsigned||0<=this.high},D.isOdd=function(){return 1==(1&this.low)},D.isEven=function(){return 0==(1&this.low)},D.equals=function(e){return mb(e)||(e=Wb(e)),(this.unsigned===e.unsigned||1!=this.high>>>31||1!=e.high>>>31)&&this.high===e.high&&this.low===e.low},D.eq=D.equals,D.notEquals=function(e){return!this.eq(e)},D.neq=D.notEquals,D.ne=D.notEquals,D.lessThan=function(e){return 0>this.comp(e)},D.lt=D.lessThan,D.lessThanOrEqual=function(e){return 0>=this.comp(e)},D.lte=D.lessThanOrEqual,D.le=D.lessThanOrEqual,D.greaterThan=function(e){return 0<this.comp(e)},D.gt=D.greaterThan,D.greaterThanOrEqual=function(e){return 0<=this.comp(e)},D.gte=D.greaterThanOrEqual,D.ge=D.greaterThanOrEqual,D.compare=function(e){if(mb(e)||(e=Wb(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},D.comp=D.compare,D.negate=function(){return!this.unsigned&&this.eq(nb)?nb:this.not().add(Ue)},D.neg=D.negate,D.add=function(e){mb(e)||(e=Wb(e));var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,i=e.high>>>16,o=65535&e.high,a=e.low>>>16;return r=(a=((e=(65535&this.low)+(65535&e.low))>>>16)+(r+a))>>>16,ya((65535&a)<<16|65535&e,(t=((r+=n+o)>>>16)+(t+i)&65535)<<16|65535&r,this.unsigned)},D.subtract=function(e){return mb(e)||(e=Wb(e)),this.add(e.neg())},D.sub=D.subtract,D.multiply=function(e){if(this.isZero())return Hb;if(mb(e)||(e=Wb(e)),Qb){var t=Qb.mul(this.low,this.high,e.low,e.high);return ya(t,Qb.get_high(),this.unsigned)}if(e.isZero())return Hb;if(this.eq(nb))return e.isOdd()?nb:Hb;if(e.eq(nb))return this.isOdd()?nb:Hb;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(wq)&&e.lt(wq))return Gb(this.toNumber()*e.toNumber(),this.unsigned);t=this.high>>>16;var n=65535&this.high,r=this.low>>>16,i=65535&this.low,o=e.high>>>16,a=65535&e.high,s=e.low>>>16,c=i*(e=65535&e.low),u=(c>>>16)+r*e,l=u>>>16;l+=(u=(65535&u)+i*s)>>>16;var d=(l+=n*e)>>>16;return ya((65535&u)<<16|65535&c,(d=(d+=(l=(65535&l)+r*s)>>>16)+((l=(65535&l)+i*a)>>>16)+(t*e+n*s+r*a+i*o)&65535)<<16|65535&l,this.unsigned)},D.mul=D.multiply,D.divide=function(e){if(mb(e)||(e=Wb(e)),e.isZero())throw Error("division by zero");if(Qb)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?ya(e=(this.unsigned?Qb.div_u:Qb.div_s)(this.low,this.high,e.low,e.high),Qb.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Cd:Hb;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return Cd;if(e.gt(this.shru(1)))return xq;var t=Cd}else{if(this.eq(nb)){if(e.eq(Ue)||e.eq(Kk))return nb;if(e.eq(nb))return Ue;var n=this.shr(1).div(e).shl(1);if(n.eq(Hb))return e.isNegative()?Ue:Kk;var r=this.sub(e.mul(n));return n.add(r.div(e))}if(e.eq(nb))return this.unsigned?Cd:Hb;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();t=Hb}for(r=this;r.gte(e);){n=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));var i=Math.ceil(Math.log(n)/Math.LN2);i=48>=i?1:sg(2,i-48);for(var o=Gb(n),a=o.mul(e);a.isNegative()||a.gt(r);)a=(o=Gb(n-=i,this.unsigned)).mul(e);o.isZero()&&(o=Ue),t=t.add(o),r=r.sub(a)}return t},D.div=D.divide,D.modulo=function(e){return mb(e)||(e=Wb(e)),Qb?ya(e=(this.unsigned?Qb.rem_u:Qb.rem_s)(this.low,this.high,e.low,e.high),Qb.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},D.mod=D.modulo,D.rem=D.modulo,D.not=function(){return ya(~this.low,~this.high,this.unsigned)},D.and=function(e){return mb(e)||(e=Wb(e)),ya(this.low&e.low,this.high&e.high,this.unsigned)},D.or=function(e){return mb(e)||(e=Wb(e)),ya(this.low|e.low,this.high|e.high,this.unsigned)},D.xor=function(e){return mb(e)||(e=Wb(e)),ya(this.low^e.low,this.high^e.high,this.unsigned)},D.shiftLeft=function(e){return mb(e)&&(e=e.toInt()),0==(e&=63)?this:32>e?ya(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):ya(0,this.low<<e-32,this.unsigned)},D.shl=D.shiftLeft,D.shiftRight=function(e){return mb(e)&&(e=e.toInt()),0==(e&=63)?this:32>e?ya(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):ya(this.high>>e-32,0<=this.high?0:-1,this.unsigned)},D.shr=D.shiftRight,D.shiftRightUnsigned=function(e){if(mb(e)&&(e=e.toInt()),0==(e&=63))return this;var t=this.high;return 32>e?ya(this.low>>>e|t<<32-e,t>>>e,this.unsigned):ya(32===e?t:t>>>e-32,0,this.unsigned)},D.shru=D.shiftRightUnsigned,D.shr_u=D.shiftRightUnsigned,D.toSigned=function(){return this.unsigned?ya(this.low,this.high,!1):this},D.toUnsigned=function(){return this.unsigned?this:ya(this.low,this.high,!0)},D.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},D.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},D.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},xa.fromBytes=function(e,t,n){return n?xa.fromBytesLE(e,t):xa.fromBytesBE(e,t)},xa.fromBytesLE=function(e,t){return new xa(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},xa.fromBytesBE=function(e,t){return new xa(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)};var di=function(e,t){return(di=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},Lk=!1,Ib={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e?console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Error().stack):Lk&&console.log("RxJS: Back to a better error behavior. Thank you. <3"),Lk=e},get useDeprecatedSynchronousErrorHandling(){return Lk}},Eh={closed:!0,next:function(e){},error:function(e){if(Ib.useDeprecatedSynchronousErrorHandling)throw e;me(e)},complete:function(){}},Jb=Array.isArray||function(e){return e&&"number"==typeof e.length},lf=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),Oa=function(){function e(e){this.closed=!1,this._subscriptions=this._parentOrParents=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return e.prototype.unsubscribe=function(){if(!this.closed){var t=this._parentOrParents,n=this._ctorUnsubscribe,r=this._unsubscribe,i=this._subscriptions;if(this.closed=!0,this._subscriptions=this._parentOrParents=null,t instanceof e)t.remove(this);else if(null!==t)for(var o=0;o<t.length;++o)t[o].remove(this);if(le(r)){n&&(this._unsubscribe=void 0);try{r.call(this)}catch(e){var a=e instanceof lf?Xl(e.errors):[e]}}if(Jb(i))for(o=-1,t=i.length;++o<t;)if(ei(n=i[o]))try{n.unsubscribe()}catch(e){a=a||[],e instanceof lf?a=a.concat(Xl(e.errors)):a.push(e)}if(a)throw new lf(a)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(X(t)){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;n instanceof e||(t=n,(n=new e)._subscriptions=[t]);break;default:throw Error("unrecognized teardown "+t+" added to Subscription.")}if(null===(t=n._parentOrParents))n._parentOrParents=this;else if(t instanceof e){if(t===this)return n;n._parentOrParents=[t,this]}else{if(-1!==t.indexOf(this))return n;t.push(this)}return null===(t=this._subscriptions)?this._subscriptions=[n]:t.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;t&&-1!==(e=t.indexOf(e))&&t.splice(e,1)},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}(),Fh="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),ia=function(e){function t(n,r,i){var o=e.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=Eh;break;case 1:if(!n){o.destination=Eh;break}if("object"===X(n)){n instanceof t?(o.syncErrorThrowable=n.syncErrorThrowable,o.destination=n,n.add(o)):(o.syncErrorThrowable=!0,o.destination=new yq(o,n));break}default:o.syncErrorThrowable=!0,o.destination=new yq(o,n,r,i)}return o}return O(t,e),t.prototype[Fh]=function(){return this},t.create=function(e,n,r){return(e=new t(e,n,r)).syncErrorThrowable=!1,e},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.isStopped=this.closed=!1,this._parentOrParents=e,this},t}(Oa),yq=function(e){function t(t,n,r,i){var o=e.call(this)||this;if(o._parentSubscriber=t,t=o,le(n))var a=n;else n&&(a=n.next,r=n.error,i=n.complete,n!==Eh&&(le((t=Object.create(n)).unsubscribe)&&o.add(t.unsubscribe.bind(t)),t.unsubscribe=o.unsubscribe.bind(o)));return o._context=t,o._next=a,o._error=r,o._complete=i,o}return O(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;Ib.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=Ib.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?this.__tryOrSetError(t,this._error,e):this.__tryOrUnsub(this._error,e),this.unsubscribe();else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):me(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;me(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};Ib.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,n):this.__tryOrUnsub(n)}this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),Ib.useDeprecatedSynchronousErrorHandling)throw e;me(e)}},t.prototype.__tryOrSetError=function(e,t,n){if(!Ib.useDeprecatedSynchronousErrorHandling)throw Error("bad call");try{t.call(this._context,n)}catch(t){return Ib.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0):me(t),!0}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._parentSubscriber=this._context=null,e.unsubscribe()},t}(ia),ne="function"==typeof Symbol&&Symbol.observable||"@@observable",Y=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator;e:{if(e){if(e instanceof ia)break e;if(e[Fh]){e=e[Fh]();break e}}e=e||t||n?new ia(e,t,n):new ia(Eh)}if(r?e.add(r.call(e,this.source)):e.add(this.source||Ib.useDeprecatedSynchronousErrorHandling&&!e.syncErrorThrowable?this._subscribe(e):this._trySubscribe(e)),Ib.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable&&(e.syncErrorThrowable=!1,e.syncErrorThrown))throw e.syncErrorValue;return e},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){Ib.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),fi(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=Zl(t))((function(t,r){var i=n.subscribe((function(t){try{e(t)}catch(e){r(e),i&&i.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[ne]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:Yl(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=Zl(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}(),qd=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),zq=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return O(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;this.subject=null,!t||0===t.length||e.isStopped||e.closed||-1!==(e=t.indexOf(this.subscriber))&&t.splice(e,1)}},t}(Oa),Aq=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return O(t,e),t}(ia),Pa=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return O(t,e),t.prototype[Fh]=function(){return new Aq(this)},t.prototype.lift=function(e){var t=new Bq(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new qd;if(!this.isStopped){var t=this.observers,n=t.length;t=t.slice();for(var r=0;r<n;r++)t[r].next(e)}},t.prototype.error=function(e){if(this.closed)throw new qd;this.hasError=!0,this.thrownError=e,this.isStopped=!0;var t=this.observers,n=t.length;t=t.slice();for(var r=0;r<n;r++)t[r].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new qd;this.isStopped=!0;var e=this.observers,t=e.length;e=e.slice();for(var n=0;n<t;n++)e[n].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.closed=this.isStopped=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new qd;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new qd;return this.hasError?(e.error(this.thrownError),Oa.EMPTY):this.isStopped?(e.complete(),Oa.EMPTY):(this.observers.push(e),new zq(this,e))},t.prototype.asObservable=function(){var e=new Y;return e.source=this,e},t.create=function(e,t){return new Bq(e,t)},t}(Y),Bq=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return O(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):Oa.EMPTY},t}(Pa),Ns=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;return n._refCount++,e=new cz(e,n),t=t.subscribe(e),e.closed||(e.connection=n.connect()),t},e}(),cz=function(e){function t(t,n){return(t=e.call(this,t)||this).connectable=n,t}return O(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;0>=t?this.connection=null:(e._refCount=t-1,1<t?this.connection=null:(t=this.connection,e=e._connection,this.connection=null,!e||t&&e!==t||e.unsubscribe()))}else this.connection=null},t}(ia),Cq=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return O(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new Oa).add(this.source.subscribe(new dz(this.getSubject(),this))),e.closed&&(this._connection=null,e=Oa.EMPTY)),e},t.prototype.refCount=function(){return $l()(this)},t}(Y),At=function(){var e=Cq.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}(),dz=function(e){function t(t,n){return(t=e.call(this,t)||this).connectable=n,t}return O(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(Aq);!function(e){function t(t,n){return(t=e.call(this,t)||this).connectable=n,t}O(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;0>=t?this.connection=null:(e._refCount=t-1,1<t?this.connection=null:(t=this.connection,e=e._connection,this.connection=null,!e||t&&e!==t||e.unsubscribe()))}else this.connection=null}}(ia),function(e){function t(t,n,r,i,o){return(t=e.call(this,t)||this).keySelector=n,t.elementSelector=r,t.durationSelector=i,t.subjectSelector=o,t.groups=null,t.attemptedToUnsubscribe=!1,t.count=0,t}O(t,e),t.prototype._next=function(e){try{var t=this.keySelector(e)}catch(e){return void this.error(e)}this._group(e,t)},t.prototype._group=function(e,t){var n=this.groups;n||(n=this.groups=new Map);var r=n.get(t);if(this.elementSelector)try{var i=this.elementSelector(e)}catch(e){this.error(e)}else i=e;if(!r&&(r=this.subjectSelector?this.subjectSelector():new Pa,n.set(t,r),e=new Mk(t,r,this),this.destination.next(e),this.durationSelector)){e=void 0;try{e=this.durationSelector(new Mk(t,r))}catch(e){return void this.error(e)}this.add(e.subscribe(new ez(t,r,this)))}r.closed||r.next(i)},t.prototype._error=function(e){var t=this.groups;t&&(t.forEach((function(t,n){t.error(e)})),t.clear()),this.destination.error(e)},t.prototype._complete=function(){var e=this.groups;e&&(e.forEach((function(e,t){e.complete()})),e.clear()),this.destination.complete()},t.prototype.removeGroup=function(e){this.groups.delete(e)},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&e.prototype.unsubscribe.call(this))}}(ia);var ez=function(e){function t(t,n,r){var i=e.call(this,n)||this;return i.key=t,i.group=n,i.parent=r,i}return O(t,e),t.prototype._next=function(e){this.complete()},t.prototype._unsubscribe=function(){var e=this.parent,t=this.key;this.key=this.parent=null,e&&e.removeGroup(t)},t}(ia),Mk=function(e){function t(t,n,r){var i=e.call(this)||this;return i.key=t,i.groupSubject=n,i.refCountSubscription=r,i}return O(t,e),t.prototype._subscribe=function(e){var t=new Oa,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&t.add(new fz(n)),t.add(r.subscribe(e)),t},t}(Y),fz=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,t.count++,n}return O(t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),--t.count,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(Oa),gz=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return O(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new qd;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(Pa),dg=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return O(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e,e=this.id;var n=this.scheduler;return null!=e&&(this.id=this.recycleAsyncId(n,e,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){return this.closed?Error("executing a cancelled action"):(this.pending=!1,(e=this._execute(e,t))?e:void(!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))))},t.prototype._execute=function(e,t){t=!1;var n=void 0;try{this.work(e)}catch(e){t=!0,n=!!e&&e||Error(e)}if(t)return this.unsubscribe(),n},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.state=this.work=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,n){return e.call(this)||this}return O(t,e),t.prototype.schedule=function(e,t){return this},t}(Oa)),hz=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return O(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),0<n?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return 0<n||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&0<r||null===r&&0<this.delay?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(dg),Nk=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}(),eg=function(e){function t(n,r){void 0===r&&(r=Nk.now);var i=e.call(this,n,(function(){return t.delegate&&t.delegate!==i?t.delegate.now():r()}))||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return O(t,e),t.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,i):e.prototype.schedule.call(this,n,r,i)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(Nk),fg=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return O(t,e),t}(eg))(hz),vb=new Y((function(e){return e.complete()})),am=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}},Ok;!function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"}(Ok||(Ok={}));var Ve=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){switch(this.kind){case"N":return bb(this.value);case"E":return Z(this.error);case"C":return mf()}throw Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}(),Rs=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new Dq(e,this.scheduler,this.delay))},e}(),Dq=function(e){function t(t,n,r){return void 0===r&&(r=0),(t=e.call(this,t)||this).scheduler=n,t.delay=r,t}return O(t,e),t.dispatch=function(e){e.notification.observe(e.destination),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new iz(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(Ve.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(Ve.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(Ve.createComplete()),this.unsubscribe()},t}(ia),iz=function(e,t){this.notification=e,this.destination=t},qe=function(e){function t(t,n,r){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var i=e.call(this)||this;return i.scheduler=r,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=1>t?1:t,i._windowTime=1>n?1:n,n===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return O(t,e),t.prototype.nextInfiniteTimeWindow=function(t){if(!this.isStopped){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift()}e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this.isStopped||(this._events.push(new jz(this._getNow(),t)),this._trimBufferThenGetEvents()),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t=this._infiniteTimeWindow,n=t?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;if(this.closed)throw new qd;if(this.isStopped||this.hasError)var o=Oa.EMPTY;else this.observers.push(e),o=new zq(this,e);if(r&&e.add(e=new Dq(e,r)),t)for(t=0;t<i&&!e.closed;t++)e.next(n[t]);else for(t=0;t<i&&!e.closed;t++)e.next(n[t].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),o},t.prototype._getNow=function(){return(this.scheduler||fg).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(e-r[o].time<n);)o++;return i>t&&(o=Math.max(o,i-t)),0<o&&r.splice(0,o),r},t}(Pa),jz=function(e,t){this.time=e,this.value=t},of=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return O(t,e),t.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),Oa.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),Oa.EMPTY):e.prototype._subscribe.call(this,t)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(Pa),kz=1,lz=Promise.resolve(),ii={},Eq={setImmediate:function(e){var t=kz++;return ii[t]=!0,lz.then((function(){return bm(t)&&e()})),t},clearImmediate:function(e){bm(e)}},mz=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return O(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&0<r?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=Eq.setImmediate(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&0<r||null===r&&0<this.delay)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(Eq.clearImmediate(n),t.scheduled=void 0)},t}(dg),ri=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return O(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(eg))(mz),nz=ri,Pk=new eg(dg),bd=Pk,oz=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return O(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&0<r?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame((function(){return t.flush(null)}))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&0<r||null===r&&0<this.delay)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(cancelAnimationFrame(n),t.scheduled=void 0)},t}(dg),Fq=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return O(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(eg))(oz),pz=function(e){function t(t,n){void 0===t&&(t=Gq),void 0===n&&(n=Number.POSITIVE_INFINITY);var r=e.call(this,t,(function(){return r.frame}))||this;return r.maxFrames=n,r.frame=0,r.index=-1,r}return O(t,e),t.prototype.flush=function(){for(var e,t,n=this.actions,r=this.maxFrames;(t=n[0])&&t.delay<=r&&(n.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=n.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(eg),Gq=function(e){function t(t,n,r){void 0===r&&(r=t.index+=1);var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i.index=r,i.active=!0,i.index=t.index=r,i}return O(t,e),t.prototype.schedule=function(n,r){if(void 0===r&&(r=0),!this.id)return e.prototype.schedule.call(this,n,r);this.active=!1;var i=new t(this.scheduler,this.work);return this.add(i),i.schedule(n,r)},t.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),this.delay=e.frame+r,(e=e.actions).push(this),e.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,n){},t.prototype._execute=function(t,n){if(!0===this.active)return e.prototype._execute.call(this,t,n)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(dg),Qk=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}(),vg=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}(),pb=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}(),Ss=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new qz(e,this.project,this.thisArg))},e}(),qz=function(e){function t(t,n,r){return(t=e.call(this,t)||this).project=n,t.count=0,t.thisArg=r||t,t}return O(t,e),t.prototype._next=function(e){try{var t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(ia),Rk=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return O(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(ia),Xs=function(e){function t(t,n,r){var i=e.call(this)||this;return i.parent=t,i.outerValue=n,i.outerIndex=r,i.index=0,i}return O(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(ia),rz=function(e){return function(t){return e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,me),t}},$c="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",sz=function(e){return function(t){for(var n=e[$c]();;){var r=void 0;try{r=n.next()}catch(e){return t.error(e),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t}},tz=function(e){return function(t){var n=e[ne]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}},hm=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e},pf=function(e){if(e&&"function"==typeof e[ne])return tz(e);if(hm(e))return am(e);if(fm(e))return rz(e);if(e&&"function"==typeof e[$c])return sz(e);throw e=ei(e)?"an invalid object":"'"+e+"'",new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")},Hq={},vz=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new uz(e,this.resultSelector))},e}(),uz=function(e){function t(t,n){return(t=e.call(this,t)||this).resultSelector=n,t.active=0,t.values=[],t.observables=[],t}return O(t,e),t.prototype._next=function(e){this.values.push(Hq),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.toRespond=this.active=t;for(var n=0;n<t;n++)this.add(ji(this,e[n],void 0,n))}},t.prototype.notifyComplete=function(e){0==--this.active&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n){var r=(e=this.values)[n];r=this.toRespond?r===Hq?--this.toRespond:this.toRespond:0,e[n]=t,0===r&&(this.resultSelector?this._tryResultSelector(e):this.destination.next(e.slice()))},t.prototype._tryResultSelector=function(e){try{var t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(Rk),vc=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,n}return O(t,e),t.prototype._next=function(e){this.parent.notifyNext(e)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},t}(ia);!function(e){function t(t,n,r){var i=e.call(this)||this;return i.parent=t,i.outerValue=n,i.outerIndex=r,i}O(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()}}(ia);var wc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return O(t,e),t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.destination.complete()},t}(ia);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}O(t,e),t.prototype.notifyNext=function(e,t,n,r){this.destination.next(t)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()}}(ia);var at=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new wz(e,this.project,this.concurrent))},e}(),wz=function(e){function t(t,n,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),(t=e.call(this,t)||this).project=n,t.concurrent=r,t.hasCompleted=!1,t.buffer=[],t.active=0,t.index=0,t}return O(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t=this.index++;try{var n=this.project(e,t)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(n)},t.prototype._innerSub=function(e){var t=new vc(this),n=this.destination;n.add(t),(e=ic(e,t))!==t&&n.add(e)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,0<e.length?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(wc),Sk=y.parseFloat,Iq=-1/0!=1/Sk("\t\n\v\f\r \u2028\u2029\ufeff-0")?function(e){e=ik(String(e));var t=Sk(e);return 0===t&&"-"==e.charAt(0)?-0:t}:Sk;N({global:!0,forced:parseFloat!=Iq},{parseFloat:Iq});var Tk=new Y(hc),ft=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new xz(e,this.predicate,this.thisArg))},e}(),xz=function(e){function t(t,n,r){return(t=e.call(this,t)||this).predicate=n,t.thisArg=r,t.count=0,t}return O(t,e),t.prototype._next=function(e){try{var t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(ia),gt=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new yz(e))},e}(),yz=function(e){function t(t){return(t=e.call(this,t)||this).hasFirst=!1,t.observables=[],t.subscriptions=[],t}return O(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var n=0;n<t&&!this.hasFirst;n++){var r=ji(this,e[n],void 0,n);this.subscriptions&&this.subscriptions.push(r),this.add(r)}this.observables=null}},t.prototype.notifyNext=function(e,t,n){if(!this.hasFirst){for(this.hasFirst=!0,e=0;e<this.subscriptions.length;e++)if(e!==n){var r=this.subscriptions[e];r.unsubscribe(),this.remove(r)}this.subscriptions=null}this.destination.next(t)},t}(Rk),jt=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new zz(e,this.resultSelector))},e}(),zz=function(e){function t(t,n,r){return(t=e.call(this,t)||this).resultSelector=n,t.iterators=[],t.active=0,t.resultSelector="function"==typeof n?n:void 0,t}return O(t,e),t.prototype._next=function(e){var t=this.iterators;Jb(e)?t.push(new Az(e)):"function"==typeof e[$c]?t.push(new Bz(e[$c]())):t.push(new Cz(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0===t)this.destination.complete();else{this.active=t;for(var n=0;n<t;n++){var r=e[n];r.stillUnsubscribed?this.destination.add(r.subscribe()):this.active--}}},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,n=this.destination,r=0;r<t;r++){var i=e[r];if("function"==typeof i.hasValue&&!i.hasValue())return}var o=!1,a=[];for(r=0;r<t;r++){var s=(i=e[r]).next();if(i.hasCompleted()&&(o=!0),s.done)return void n.complete();a.push(s.value)}this.resultSelector?this._tryresultSelector(a):n.next(a),o&&n.complete()},t.prototype._tryresultSelector=function(e){try{var t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(ia),Bz=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return!(!e||!e.done)},e}(),Az=function(){function e(e){this.array=e,this.length=this.index=0,this.length=e.length}return e.prototype[$c]=function(){return this},e.prototype.next=function(e){e=this.index++;var t=this.array;return e<this.length?{value:t[e],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),Cz=function(e){function t(t,n,r){return(t=e.call(this,t)||this).parent=n,t.observable=r,t.stillUnsubscribed=!0,t.buffer=[],t.isComplete=!1,t}return O(t,e),t.prototype[$c]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return 0<this.buffer.length},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){0<this.buffer.length?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e){this.buffer.push(e),this.parent.checkIterators()},t.prototype.subscribe=function(){return ic(this.observable,new vc(this))},t}(wc),Dz=Object.freeze({__proto__:null,Observable:Y,ConnectableObservable:Cq,GroupedObservable:Mk,observable:ne,Subject:Pa,BehaviorSubject:gz,ReplaySubject:qe,AsyncSubject:of,asap:nz,asapScheduler:ri,async:bd,asyncScheduler:Pk,queue:fg,queueScheduler:fg,animationFrame:Fq,animationFrameScheduler:Fq,VirtualTimeScheduler:pz,VirtualAction:Gq,Scheduler:Nk,Subscription:Oa,Subscriber:ia,Notification:Ve,get NotificationKind(){return Ok},pipe:gi,noop:hc,identity:Yc,isObservable:function(e){return!!e&&(e instanceof Y||"function"==typeof e.lift&&"function"==typeof e.subscribe)},ArgumentOutOfRangeError:Qk,EmptyError:vg,ObjectUnsubscribedError:qd,UnsubscriptionError:lf,TimeoutError:pb,bindCallback:cm,bindNodeCallback:dm,combineLatest:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=t=void 0;return Zc(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&Jb(e[0])&&(e=e[0]),nf(e,n).lift(new vz(t))},concat:im,defer:ad,empty:mf,forkJoin:jm,from:Kb,fromEvent:gb,fromEventPattern:lm,generate:function(e,t,n,r,i){if(1==arguments.length){var o=e.initialState;t=e.condition,n=e.iterate;var a=e.resultSelector||Yc;i=e.scheduler}else void 0===r||Zc(r)?(o=e,a=Yc,i=r):(o=e,a=r);return new Y((function(e){var r=o;if(i)return i.schedule(bt,0,{subscriber:e,iterate:n,condition:t,resultSelector:a,state:r});for(;;){if(t){var s=void 0;try{s=t(r)}catch(t){e.error(t);break}if(!s){e.complete();break}}s=void 0;try{s=a(r)}catch(t){e.error(t);break}if(e.next(s),e.closed)break;try{r=n(r)}catch(t){e.error(t);break}}}))},iif:function(e,t,n){return void 0===t&&(t=vb),void 0===n&&(n=vb),ad((function(){return e()?t:n}))},interval:mm,merge:Xb,never:function(){return Tk},of:bb,onErrorResumeNext:li,pairs:function(e,t){return new Y(t?function(n){var r=Object.keys(e),i=new Oa;return i.add(t.schedule(dt,0,{keys:r,index:0,subscriber:n,subscription:i,obj:e})),i}:function(t){for(var n=Object.keys(e),r=0;r<n.length&&!t.closed;r++){var i=n[r];e.hasOwnProperty(i)&&t.next([i,e[i]])}t.complete()})},partition:function(e,t,n){return[wb(t,n)(new Y(pf(e))),wb(et(t,n))(new Y(pf(e)))]},race:Ca,range:function(e,t,n){return void 0===e&&(e=0),new Y((function(r){void 0===t&&(t=e,e=0);var i=0,o=e;if(n)return n.schedule(ht,0,{index:i,count:t,start:e,subscriber:r});for(;;){if(i++>=t){r.complete();break}if(r.next(o++),r.closed)break}}))},throwError:Z,timer:Bc,using:function(e,t){return new Y((function(n){try{var r=e()}catch(e){return void n.error(e)}try{var i=t(r)}catch(e){return void n.error(e)}var o=(i?Kb(i):vb).subscribe(n);return function(){o.unsubscribe(),r&&r.unsubscribe()}}))},zip:mi,scheduled:gm,EMPTY:vb,NEVER:Tk,config:Ib}),kt=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new Ez(e,this.selector,this.caught))},e}(),Ez=function(e){function t(t,n,r){return(t=e.call(this,t)||this).selector=n,t.caught=r,t}return O(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(t){return void e.prototype.error.call(this,t)}this._unsubscribeAndRecycle(),t=new vc(this),this.add(t),(n=ic(n,t))!==t&&this.add(n)}},t}(wc),lt=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t.subscribe(new Fz(e,this.defaultValue))},e}(),Fz=function(e){function t(t,n){return(t=e.call(this,t)||this).defaultValue=n,t.isEmpty=!0,t}return O(t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(ia),mt=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new Gz(e,this.delay,this.scheduler))},e}(),Gz=function(e){function t(t,n,r){return(t=e.call(this,t)||this).delay=n,t.scheduler=r,t.queue=[],t.active=!1,t.errored=!1,t}return O(t,e),t.dispatch=function(e){for(var t=e.source,n=t.queue,r=e.scheduler,i=e.destination;0<n.length&&0>=n[0].time-r.now();)n.shift().notification.observe(i);0<n.length?(t=Math.max(0,n[0].time-r.now()),this.schedule(e,t)):(this.unsubscribe(),t.active=!1)},t.prototype._schedule=function(e){this.active=!0,this.destination.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler;e=new Hz(t.now()+this.delay,e),this.queue.push(e),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(Ve.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.scheduleNotification(Ve.createComplete()),this.unsubscribe()},t}(ia),Hz=function(e,t){this.time=e,this.notification=t},nt=function(){function e(e,t){this.keySelector=e,this.flushes=t}return e.prototype.call=function(e,t){return t.subscribe(new Iz(e,this.keySelector,this.flushes))},e}(),Iz=function(e){function t(t,n,r){return(t=e.call(this,t)||this).keySelector=n,t.values=new Set,r&&t.add(ic(r,new vc(t))),t}return O(t,e),t.prototype.notifyNext=function(){this.values.clear()},t.prototype.notifyError=function(e){this._error(e)},t.prototype._next=function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)},t.prototype._useKeySelector=function(e){var t=this.destination;try{var n=this.keySelector(e)}catch(e){return void t.error(e)}this._finalizeNext(n,e)},t.prototype._finalizeNext=function(e,t){var n=this.values;n.has(e)||(n.add(e),this.destination.next(t))},t}(wc),pt=function(){function e(e){this.errorFactory=e}return e.prototype.call=function(e,t){return t.subscribe(new Jz(e,this.errorFactory))},e}(),Jz=function(e){function t(t,n){return(t=e.call(this,t)||this).errorFactory=n,t.hasValue=!1,t}return O(t,e),t.prototype._next=function(e){this.hasValue=!0,this.destination.next(e)},t.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var e=void 0;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)},t}(ia),qt=function(){function e(e){if(this.total=e,0>this.total)throw new Qk}return e.prototype.call=function(e,t){return t.subscribe(new Kz(e,this.total))},e}(),Kz=function(e){function t(t,n){return(t=e.call(this,t)||this).total=n,t.count=0,t}return O(t,e),t.prototype._next=function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))},t}(ia),rt=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new Lz(e,this.project))},e}(),Lz=function(e){function t(t,n){return(t=e.call(this,t)||this).project=n,t.hasSubscription=!1,t.hasCompleted=!1,t.index=0,t}return O(t,e),t.prototype._next=function(e){this.hasSubscription||this.tryNext(e)},t.prototype.tryNext=function(e){var t=this.index++;try{var n=this.project(e,t)}catch(e){return void this.destination.error(e)}this.hasSubscription=!0,this._innerSub(n)},t.prototype._innerSub=function(e){var t=new vc(this),n=this.destination;n.add(t),(e=ic(e,t))!==t&&n.add(e)},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(wc),st=function(){function e(e){this.callback=e}return e.prototype.call=function(e,t){return t.subscribe(new Mz(e,this.callback))},e}(),Mz=function(e){function t(t,n){return(t=e.call(this,t)||this).add(new Oa(n)),t}return O(t,e),t}(ia),ut=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new Nz(e))},e}(),Nz=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return O(t,e),t.prototype._next=function(e){},t}(ia),vt=function(){function e(e){if(this.total=e,0>this.total)throw new Qk}return e.prototype.call=function(e,t){return t.subscribe(new Oz(e,this.total))},e}(),Oz=function(e){function t(t,n){return(t=e.call(this,t)||this).total=n,t.ring=[],t.count=0,t}return O(t,e),t.prototype._next=function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e},t.prototype._complete=function(){var e=this.destination,t=this.count;if(0<t)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()},t}(ia),wt=function(){function e(e){this.value=e}return e.prototype.call=function(e,t){return t.subscribe(new Pz(e,this.value))},e}(),Pz=function(e){function t(t,n){return(t=e.call(this,t)||this).value=n,t}return O(t,e),t.prototype._next=function(e){this.destination.next(this.value)},t}(ia),xt=function(){function e(e,t,n){void 0===n&&(n=!1),this.accumulator=e,this.seed=t,this.hasSeed=n}return e.prototype.call=function(e,t){return t.subscribe(new Qz(e,this.accumulator,this.seed,this.hasSeed))},e}(),Qz=function(e){function t(t,n,r,i){return(t=e.call(this,t)||this).accumulator=n,t._seed=r,t.hasSeed=i,t.index=0,t}return O(t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},t.prototype._tryNext=function(e){var t=this.index++;try{var n=this.accumulator(this.seed,e,t)}catch(e){this.destination.error(e)}this.seed=n,this.destination.next(n)},t}(ia),zt=function(){function e(e,t){this.subjectFactory=e,this.selector=t}return e.prototype.call=function(e,t){var n=this.selector,r=this.subjectFactory();return(e=n(r).subscribe(e)).add(t.subscribe(r)),e},e}(),Bt=function(){function e(e,t){this.notifier=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new Rz(e,this.notifier,this.source))},e}(),Rz=function(e){function t(t,n,r){return(t=e.call(this,t)||this).notifier=n,t.source=r,t}return O(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this.errors,r=this.retries,i=this.retriesSubscription;if(r)this.retriesSubscription=this.errors=void 0;else{n=new Pa;try{r=(0,this.notifier)(n)}catch(t){return e.prototype.error.call(this,t)}i=ic(r,new vc(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=r,this.retriesSubscription=i,n.next(t)}},t.prototype._unsubscribe=function(){var e=this.errors,t=this.retriesSubscription;e&&(e.unsubscribe(),this.errors=void 0),t&&(t.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},t.prototype.notifyNext=function(){var e=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=e,this.source.subscribe(this)},t}(wc),Et=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new Sz(e,this.project))},e}(),Sz=function(e){function t(t,n){return(t=e.call(this,t)||this).project=n,t.index=0,t}return O(t,e),t.prototype._next=function(e){var t=this.index++;try{var n=this.project(e,t)}catch(e){return void this.destination.error(e)}this._innerSub(n)},t.prototype._innerSub=function(e){var t=this.innerSubscription;t&&t.unsubscribe(),t=new vc(this);var n=this.destination;n.add(t),this.innerSubscription=ic(e,t),this.innerSubscription!==t&&n.add(this.innerSubscription)},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=void 0},t.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e){this.destination.next(e)},t}(wc),Ft=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){e=new Tz(e);var n=ic(this.notifier,new vc(e));return n&&!e.seenValue?(e.add(n),t.subscribe(e)):e},e}(),Tz=function(e){function t(t){return(t=e.call(this,t)||this).seenValue=!1,t}return O(t,e),t.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},t.prototype.notifyComplete=function(){},t}(wc),Ht=function(){function e(e,t){this.predicate=e,this.inclusive=t}return e.prototype.call=function(e,t){return t.subscribe(new Uz(e,this.predicate,this.inclusive))},e}(),Uz=function(e){function t(t,n,r){return(t=e.call(this,t)||this).predicate=n,t.inclusive=r,t.index=0,t}return O(t,e),t.prototype._next=function(e){var t=this.destination;try{var n=this.predicate(e,this.index++)}catch(e){return void t.error(e)}this.nextOrComplete(e,n)},t.prototype.nextOrComplete=function(e,t){var n=this.destination;t?n.next(e):(this.inclusive&&n.next(e),n.complete())},t}(ia),It=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new Vz(e,this.nextOrObserver,this.error,this.complete))},e}(),Vz=function(e){function t(t,n,r,i){return(t=e.call(this,t)||this)._tapNext=hc,t._tapError=hc,t._tapComplete=hc,t._tapError=r||hc,t._tapComplete=i||hc,le(n)?(t._context=t,t._tapNext=n):n&&(t._context=n,t._tapNext=n.next||hc,t._tapError=n.error||hc,t._tapComplete=n.complete||hc),t}return O(t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(ia),Kt={leading:!0,trailing:!1};!function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.destination=t,o.durationSelector=n,o._leading=r,o._trailing=i,o._hasValue=!1,o}O(t,e),t.prototype._next=function(e){this._hasValue=!0,this._sendValue=e,this._throttled||(this._leading?this.send():this.throttle(e))},t.prototype.send=function(){var e=this._sendValue;this._hasValue&&(this.destination.next(e),this.throttle(e)),this._hasValue=!1,this._sendValue=void 0},t.prototype.throttle=function(e){(e=this.tryDurationSelector(e))&&this.add(this._throttled=ic(e,new vc(this)))},t.prototype.tryDurationSelector=function(e){try{return this.durationSelector(e)}catch(e){return this.destination.error(e),null}},t.prototype.throttlingDone=function(){var e=this._throttled,t=this._trailing;e&&e.unsubscribe(),this._throttled=void 0,t&&this.send()},t.prototype.notifyNext=function(){this.throttlingDone()},t.prototype.notifyComplete=function(){this.throttlingDone()}}(wc);for(var Lt=function(){function e(e,t,n,r){this.duration=e,this.scheduler=t,this.leading=n,this.trailing=r}return e.prototype.call=function(e,t){return t.subscribe(new Wz(e,this.duration,this.scheduler,this.leading,this.trailing))},e}(),Wz=function(e){function t(t,n,r,i,o){return(t=e.call(this,t)||this).duration=n,t.scheduler=r,t.leading=i,t.trailing=o,t._hasTrailingValue=!1,t._trailingValue=null,t}return O(t,e),t.prototype._next=function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Mt,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))},t.prototype._complete=function(){this._hasTrailingValue&&this.destination.next(this._trailingValue),this.destination.complete()},t.prototype.clearThrottle=function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)},t}(ia),Ot=function(){function e(e,t,n,r){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new Xz(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},e}(),Xz=function(e){function t(t,n,r,i,o){return(t=e.call(this,t)||this).absoluteTimeout=n,t.waitFor=r,t.withObservable=i,t.scheduler=o,t.scheduleTimeout(),t}return O(t,e),t.dispatchTimeout=function(e){var t=e.withObservable;e._unsubscribeAndRecycle(),e.add(ic(t,new vc(e)))},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,t)},t.prototype._unsubscribe=function(){this.action=void 0,this.withObservable=this.scheduler=null},t}(wc),Qt=function(){function e(e,t){this.observables=e,this.project=t}return e.prototype.call=function(e,t){return t.subscribe(new Yz(e,this.observables,this.project))},e}(),Yz=function(e){function t(t,n,r){(t=e.call(this,t)||this).observables=n,t.project=r,t.toRespond=[],r=n.length,t.values=Array(r);for(var i=0;i<r;i++)t.toRespond.push(i);for(i=0;i<r;i++)t.add(ji(t,n[i],void 0,i));return t}return O(t,e),t.prototype.notifyNext=function(e,t,n){this.values[n]=t,0<(e=this.toRespond).length&&-1!==(n=e.indexOf(n))&&e.splice(n,1)},t.prototype.notifyComplete=function(){},t.prototype._next=function(e){0===this.toRespond.length&&(e=[e].concat(this.values),this.project?this._tryProject(e):this.destination.next(e))},t.prototype._tryProject=function(e){try{var t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(Rk),Jq=$a((function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=Array(16);e.exports=function(){for(var e,t=0;16>t;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}})),ab=[],Gh=0;256>Gh;++Gh)ab[Gh]=(Gh+256).toString(16).substr(1);var Kq=function(e,t){return t=t||0,[ab[e[t++]],ab[e[t++]],ab[e[t++]],ab[e[t++]],"-",ab[e[t++]],ab[e[t++]],"-",ab[e[t++]],ab[e[t++]],"-",ab[e[t++]],ab[e[t++]],"-",ab[e[t++]],ab[e[t++]],ab[e[t++]],ab[e[t++]],ab[e[t++]],ab[e[t++]]].join("")},Ud=function(e,t,n){if(n=t&&n||0,"string"==typeof e&&(t="binary"===e?Array(16):null,e=null),(e=(e=e||{}).random||(e.rng||Jq)())[6]=15&e[6]|64,e[8]=63&e[8]|128,t)for(var r=0;16>r;++r)t[n+r]=e[r];return t||Kq(e)},gg=Ud(),Uk=!1,Pc,rd,Vk,Wk,sd,Vd,ec,We,Rb,Xk,Qc,Wd,Rc,Sc,Tc,Xe,Uc,Vc;!function(e){e[e.ATTRIBUTE_OPERATION_ERR_FAILURE=2]="ATTRIBUTE_OPERATION_ERR_FAILURE",e[e.ATTRIBUTE_OPERATION_ERR_INVALID_ARGUMENT=3]="ATTRIBUTE_OPERATION_ERR_INVALID_ARGUMENT",e[e.ATTRIBUTE_OPERATION_ERR_SIZE_OVERFLOW=4]="ATTRIBUTE_OPERATION_ERR_SIZE_OVERFLOW",e[e.ATTRIBUTE_OPERATION_ERR_TOO_OFTEN=5]="ATTRIBUTE_OPERATION_ERR_TOO_OFTEN",e[e.ATTRIBUTE_OPERATION_ERR_USER_NOT_FOUND=6]="ATTRIBUTE_OPERATION_ERR_USER_NOT_FOUND",e[e.ATTRIBUTE_OPERATION_ERR_TIMEOUT=7]="ATTRIBUTE_OPERATION_ERR_TIMEOUT",e[e.ATTRIBUTE_OPERATION_ERR_USER_NOT_LOGGED_IN=102]="ATTRIBUTE_OPERATION_ERR_USER_NOT_LOGGED_IN"}(Pc||(Pc={})),function(e){e[e.CHANNEL_MESSAGE_ERR_FAILURE=1]="CHANNEL_MESSAGE_ERR_FAILURE",e[e.CHANNEL_MESSAGE_ERR_TIMEOUT=2]="CHANNEL_MESSAGE_ERR_TIMEOUT",e[e.CHANNEL_MESSAGE_ERR_TOO_OFTEN=3]="CHANNEL_MESSAGE_ERR_TOO_OFTEN",e[e.CHANNEL_MESSAGE_ERR_INVALID_MESSAGE=4]="CHANNEL_MESSAGE_ERR_INVALID_MESSAGE",e[e.CHANNEL_MESSAGE_ERR_NOT_IN_CHANNEL=5]="CHANNEL_MESSAGE_ERR_NOT_IN_CHANNEL",e[e.CHANNEL_MESSAGE_ERR_USER_NOT_LOGGED_IN=102]="CHANNEL_MESSAGE_ERR_USER_NOT_LOGGED_IN"}(rd||(rd={})),function(e){e[e.CREATE_CHANNEL_ERR_INVALID_ARGUMENT=1]="CREATE_CHANNEL_ERR_INVALID_ARGUMENT"}(Vk||(Vk={})),function(e){e[e.CREATE_INSTANCE_ERR_INVALID_ARGUMENT=1]="CREATE_INSTANCE_ERR_INVALID_ARGUMENT"}(Wk||(Wk={})),function(e){e[e.GET_MEMBERS_ERR_FAILURE=1]="GET_MEMBERS_ERR_FAILURE",e[e.GET_MEMBERS_ERR_REJECTED=2]="GET_MEMBERS_ERR_REJECTED",e[e.GET_MEMBERS_ERR_TIMEOUT=3]="GET_MEMBERS_ERR_TIMEOUT",e[e.GET_MEMBERS_ERR_TOO_OFTEN=4]="GET_MEMBERS_ERR_TOO_OFTEN",e[e.GET_MEMBERS_ERR_NOT_IN_CHANNEL=5]="GET_MEMBERS_ERR_NOT_IN_CHANNEL",e[e.GET_MEMBERS_ERR_USER_NOT_LOGGED_IN=102]="GET_MEMBERS_ERR_USER_NOT_LOGGED_IN"}(sd||(sd={})),function(e){e[e.INVITATION_API_CALL_ERR_INVALID_ARGUMENT=1]="INVITATION_API_CALL_ERR_INVALID_ARGUMENT",e[e.INVITATION_API_CALL_ERR_NOT_STARTED=2]="INVITATION_API_CALL_ERR_NOT_STARTED",e[e.INVITATION_API_CALL_ERR_ALREADY_END=3]="INVITATION_API_CALL_ERR_ALREADY_END",e[e.INVITATION_API_CALL_ERR_ALREADY_ACCEPT=4]="INVITATION_API_CALL_ERR_ALREADY_ACCEPT",e[e.INVITATION_API_CALL_ERR_ALREADY_SENT=5]="INVITATION_API_CALL_ERR_ALREADY_SENT"}(Vd||(Vd={})),function(e){e[e.JOIN_CHANNEL_ERR_FAILURE=1]="JOIN_CHANNEL_ERR_FAILURE",e[e.JOIN_CHANNEL_ERR_REJECTED=2]="JOIN_CHANNEL_ERR_REJECTED",e[e.JOIN_CHANNEL_ERR_INVALID_ARGUMENT=3]="JOIN_CHANNEL_ERR_INVALID_ARGUMENT",e[e.JOIN_CHANNEL_TIMEOUT=4]="JOIN_CHANNEL_TIMEOUT",e[e.JOIN_CHANNEL_ERR_EXCEED_LIMIT=5]="JOIN_CHANNEL_ERR_EXCEED_LIMIT",e[e.JOIN_CHANNEL_ERR_ALREADY_JOINED=6]="JOIN_CHANNEL_ERR_ALREADY_JOINED",e[e.JOIN_CHANNEL_ERR_TOO_OFTEN=7]="JOIN_CHANNEL_ERR_TOO_OFTEN",e[e.JOIN_CHANNEL_ERR_JOIN_SAME_CHANNEL_TOO_OFTEN=8]="JOIN_CHANNEL_ERR_JOIN_SAME_CHANNEL_TOO_OFTEN",e[e.JOIN_CHANNEL_ERR_USER_NOT_LOGGED_IN=102]="JOIN_CHANNEL_ERR_USER_NOT_LOGGED_IN",e[e.JOIN_CHANNEL_ERR_ABORTED_BY_LEAVE=201]="JOIN_CHANNEL_ERR_ABORTED_BY_LEAVE",e[e.JOIN_CHANNEL_ERR_ALREADY_JOINED_CHANNEL_OF_SAME_ID=202]="JOIN_CHANNEL_ERR_ALREADY_JOINED_CHANNEL_OF_SAME_ID"}(ec||(ec={})),function(e){e[e.LEAVE_CHANNEL_ERR_FAILURE=1]="LEAVE_CHANNEL_ERR_FAILURE",e[e.LEAVE_CHANNEL_ERR_REJECTED=2]="LEAVE_CHANNEL_ERR_REJECTED",e[e.LEAVE_CHANNEL_ERR_NOT_IN_CHANNEL=3]="LEAVE_CHANNEL_ERR_NOT_IN_CHANNEL",e[e.LEAVE_CHANNEL_ERR_USER_NOT_LOGGED_IN=102]="LEAVE_CHANNEL_ERR_USER_NOT_LOGGED_IN"}(We||(We={})),function(e){e[e.LOGIN_ERR_UNKNOWN=1]="LOGIN_ERR_UNKNOWN",e[e.LOGIN_ERR_REJECTED=2]="LOGIN_ERR_REJECTED",e[e.LOGIN_ERR_INVALID_ARGUMENT=3]="LOGIN_ERR_INVALID_ARGUMENT",e[e.LOGIN_ERR_INVALID_APP_ID=4]="LOGIN_ERR_INVALID_APP_ID",e[e.LOGIN_ERR_INVALID_TOKEN=5]="LOGIN_ERR_INVALID_TOKEN",e[e.LOGIN_ERR_TOKEN_EXPIRED=6]="LOGIN_ERR_TOKEN_EXPIRED",e[e.LOGIN_ERR_NOT_AUTHORIZED=7]="LOGIN_ERR_NOT_AUTHORIZED",e[e.LOGIN_ERR_ALREADY_LOGIN=8]="LOGIN_ERR_ALREADY_LOGIN",e[e.LOGIN_ERR_TIMEOUT=9]="LOGIN_ERR_TIMEOUT",e[e.LOGIN_ERR_TOO_OFTEN=10]="LOGIN_ERR_TOO_OFTEN",e[e.LOGIN_ERR_ABORTED_BY_LOGOUT=201]="LOGIN_ERR_ABORTED_BY_LOGOUT"}(Rb||(Rb={})),function(e){e[e.LOGOUT_ERR_USER_NOT_LOGGED_IN=102]="LOGOUT_ERR_USER_NOT_LOGGED_IN"}(Xk||(Xk={})),function(e){e[e.PEER_MESSAGE_ERR_FAILURE=1]="PEER_MESSAGE_ERR_FAILURE",e[e.PEER_MESSAGE_ERR_TIMEOUT=2]="PEER_MESSAGE_ERR_TIMEOUT",e[e.PEER_MESSAGE_ERR_TOO_OFTEN=5]="PEER_MESSAGE_ERR_TOO_OFTEN",e[e.PEER_MESSAGE_ERR_INVALID_USERID=6]="PEER_MESSAGE_ERR_INVALID_USERID",e[e.PEER_MESSAGE_ERR_INVALID_MESSAGE=7]="PEER_MESSAGE_ERR_INVALID_MESSAGE",e[e.PEER_MESSAGE_ERR_INCOMPATIBLE_MESSAGE=8]="PEER_MESSAGE_ERR_INCOMPATIBLE_MESSAGE",e[e.PEER_MESSAGE_ERR_USER_NOT_LOGGED_IN=102]="PEER_MESSAGE_ERR_USER_NOT_LOGGED_IN"}(Qc||(Qc={})),function(e){e[e.QUERY_PEERS_ONLINE_STATUS_ERR_INVALID_ARGUMENT=2]="QUERY_PEERS_ONLINE_STATUS_ERR_INVALID_ARGUMENT",e[e.QUERY_PEERS_ONLINE_STATUS_ERR_REJECTED=3]="QUERY_PEERS_ONLINE_STATUS_ERR_REJECTED",e[e.QUERY_PEERS_ONLINE_STATUS_ERR_TIMEOUT=4]="QUERY_PEERS_ONLINE_STATUS_ERR_TIMEOUT",e[e.QUERY_PEERS_ONLINE_STATUS_ERR_TOO_OFTEN=5]="QUERY_PEERS_ONLINE_STATUS_ERR_TOO_OFTEN",e[e.QUERY_PEERS_ONLINE_STATUS_ERR_USER_NOT_LOGGED_IN=102]="QUERY_PEERS_ONLINE_STATUS_ERR_USER_NOT_LOGGED_IN"}(Wd||(Wd={})),function(e){e[e.RENEW_TOKEN_ERR_FAILURE=1]="RENEW_TOKEN_ERR_FAILURE",e[e.RENEW_TOKEN_ERR_INVALID_ARGUMENT=2]="RENEW_TOKEN_ERR_INVALID_ARGUMENT",e[e.RENEW_TOKEN_ERR_REJECTED=3]="RENEW_TOKEN_ERR_REJECTED",e[e.RENEW_TOKEN_ERR_TOO_OFTEN=4]="RENEW_TOKEN_ERR_TOO_OFTEN",e[e.RENEW_TOKEN_ERR_TOKEN_EXPIRED=5]="RENEW_TOKEN_ERR_TOKEN_EXPIRED",e[e.RENEW_TOKEN_ERR_INVALID_TOKEN=6]="RENEW_TOKEN_ERR_INVALID_TOKEN",e[e.RENEW_TOKEN_ERR_USER_NOT_LOGGED_IN=102]="RENEW_TOKEN_ERR_USER_NOT_LOGGED_IN",e[e.RENEW_TOKEN_ERR_ABORTED_BY_LOGOUT=201]="RENEW_TOKEN_ERR_ABORTED_BY_LOGOUT"}(Rc||(Rc={})),function(e){e[e.GET_CHANNEL_MEMBER_COUNT_ERR_FAILURE=1]="GET_CHANNEL_MEMBER_COUNT_ERR_FAILURE",e[e.GET_CHANNEL_MEMBER_COUNT_ERR_INVALID_ARGUMENT=2]="GET_CHANNEL_MEMBER_COUNT_ERR_INVALID_ARGUMENT",e[e.GET_CHANNEL_MEMBER_COUNT_ERR_TOO_OFTEN=3]="GET_CHANNEL_MEMBER_COUNT_ERR_TOO_OFTEN",e[e.GET_CHANNEL_MEMBER_COUNT_ERR_TIMEOUT=4]="GET_CHANNEL_MEMBER_COUNT_ERR_TIMEOUT",e[e.GET_CHANNEL_MEMBER_COUNT_ERR_EXCEED_LIMIT=5]="GET_CHANNEL_MEMBER_COUNT_ERR_EXCEED_LIMIT",e[e.GET_CHANNEL_MEMBER_COUNT_ERR_NOT_INITIALIZED=101]="GET_CHANNEL_MEMBER_COUNT_ERR_NOT_INITIALIZED",e[e.GET_CHANNEL_MEMBER_COUNT_ERR_USER_NOT_LOGGED_IN=102]="GET_CHANNEL_MEMBER_COUNT_ERR_USER_NOT_LOGGED_IN"}(Sc||(Sc={})),function(e){e[e.PEER_SUBSCRIPTION_STATUS_ERR_FAILURE=1]="PEER_SUBSCRIPTION_STATUS_ERR_FAILURE",e[e.PEER_SUBSCRIPTION_STATUS_ERR_INVALID_ARGUMENT=2]="PEER_SUBSCRIPTION_STATUS_ERR_INVALID_ARGUMENT",e[e.PEER_SUBSCRIPTION_STATUS_ERR_REJECTED=3]="PEER_SUBSCRIPTION_STATUS_ERR_REJECTED",e[e.PEER_SUBSCRIPTION_STATUS_ERR_TIMEOUT=4]="PEER_SUBSCRIPTION_STATUS_ERR_TIMEOUT",e[e.PEER_SUBSCRIPTION_STATUS_ERR_TOO_OFTEN=5]="PEER_SUBSCRIPTION_STATUS_ERR_TOO_OFTEN",e[e.PEER_SUBSCRIPTION_STATUS_ERR_OVERFLOW=6]="PEER_SUBSCRIPTION_STATUS_ERR_OVERFLOW",e[e.PEER_SUBSCRIPTION_STATUS_ERR_USER_NOT_LOGGED_IN=102]="PEER_SUBSCRIPTION_STATUS_ERR_USER_NOT_LOGGED_IN"}(Tc||(Tc={})),function(e){e[e.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_FAILURE=1]="QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_FAILURE",e[e.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TIMEOUT=2]="QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TIMEOUT",e[e.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TOO_OFTEN=3]="QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TOO_OFTEN",e[e.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_USER_NOT_LOGGED_IN=102]="QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_USER_NOT_LOGGED_IN"}(Xe||(Xe={})),function(e){e[e.UPLOAD_MEDIA_ERR_FAILURE=1]="UPLOAD_MEDIA_ERR_FAILURE",e[e.UPLOAD_MEDIA_ERR_INVALID_ARGUMENT=2]="UPLOAD_MEDIA_ERR_INVALID_ARGUMENT",e[e.UPLOAD_MEDIA_ERR_TIMEOUT=3]="UPLOAD_MEDIA_ERR_TIMEOUT",e[e.UPLOAD_MEDIA_ERR_SIZE_OVERFLOW=4]="UPLOAD_MEDIA_ERR_SIZE_OVERFLOW",e[e.UPLOAD_MEDIA_ERR_CONCURRENCY_LIMIT_EXCEEDED=5]="UPLOAD_MEDIA_ERR_CONCURRENCY_LIMIT_EXCEEDED",e[e.UPLOAD_MEDIA_ERR_INTERRUPTED=6]="UPLOAD_MEDIA_ERR_INTERRUPTED",e[e.UPLOAD_MEDIA_ERR_NOT_LOGGED_IN=102]="UPLOAD_MEDIA_ERR_NOT_LOGGED_IN"}(Uc||(Uc={})),function(e){e[e.DOWNLOAD_MEDIA_ERR_FAILURE=1]="DOWNLOAD_MEDIA_ERR_FAILURE",e[e.DOWNLOAD_MEDIA_ERR_INVALID_ARGUMENT=2]="DOWNLOAD_MEDIA_ERR_INVALID_ARGUMENT",e[e.DOWNLOAD_MEDIA_ERR_TIMEOUT=3]="DOWNLOAD_MEDIA_ERR_TIMEOUT",e[e.DOWNLOAD_MEDIA_ERR_NOT_EXIST=4]="DOWNLOAD_MEDIA_ERR_NOT_EXIST",e[e.DOWNLOAD_MEDIA_ERR_CONCURRENCY_LIMIT_EXCEEDED=5]="DOWNLOAD_MEDIA_ERR_CONCURRENCY_LIMIT_EXCEEDED",e[e.DOWNLOAD_MEDIA_ERR_INTERRUPTED=6]="DOWNLOAD_MEDIA_ERR_INTERRUPTED",e[e.DOWNLOAD_MEDIA_ERR_NOT_LOGGED_IN=102]="DOWNLOAD_MEDIA_ERR_NOT_LOGGED_IN"}(Vc||(Vc={}));var Sb=Pc.ATTRIBUTE_OPERATION_ERR_FAILURE,Ja=Pc.ATTRIBUTE_OPERATION_ERR_INVALID_ARGUMENT,se=Pc.ATTRIBUTE_OPERATION_ERR_SIZE_OVERFLOW;Pc.ATTRIBUTE_OPERATION_ERR_TOO_OFTEN;var Lq=Pc.ATTRIBUTE_OPERATION_ERR_USER_NOT_FOUND,Tb=Pc.ATTRIBUTE_OPERATION_ERR_TIMEOUT,Ub=Pc.ATTRIBUTE_OPERATION_ERR_USER_NOT_LOGGED_IN,hg=rd.CHANNEL_MESSAGE_ERR_FAILURE,Yk=rd.CHANNEL_MESSAGE_ERR_TIMEOUT,Mq=rd.CHANNEL_MESSAGE_ERR_TOO_OFTEN,Hh=rd.CHANNEL_MESSAGE_ERR_INVALID_MESSAGE;rd.CHANNEL_MESSAGE_ERR_NOT_IN_CHANNEL;var ig=rd.CHANNEL_MESSAGE_ERR_USER_NOT_LOGGED_IN,Zz=Vk.CREATE_CHANNEL_ERR_INVALID_ARGUMENT,Nq=Wk.CREATE_INSTANCE_ERR_INVALID_ARGUMENT;Sc.GET_CHANNEL_MEMBER_COUNT_ERR_FAILURE;var Oq=Sc.GET_CHANNEL_MEMBER_COUNT_ERR_INVALID_ARGUMENT;Sc.GET_CHANNEL_MEMBER_COUNT_ERR_TOO_OFTEN;var Pq=Sc.GET_CHANNEL_MEMBER_COUNT_ERR_TIMEOUT,$z=Sc.GET_CHANNEL_MEMBER_COUNT_ERR_EXCEED_LIMIT;Sc.GET_CHANNEL_MEMBER_COUNT_ERR_NOT_INITIALIZED;var aA=Sc.GET_CHANNEL_MEMBER_COUNT_ERR_USER_NOT_LOGGED_IN,bA=sd.GET_MEMBERS_ERR_FAILURE,cA=sd.GET_MEMBERS_ERR_REJECTED;sd.GET_MEMBERS_ERR_TIMEOUT,sd.GET_MEMBERS_ERR_TOO_OFTEN;var dA=sd.GET_MEMBERS_ERR_NOT_IN_CHANNEL,eA=sd.GET_MEMBERS_ERR_USER_NOT_LOGGED_IN,xc=Vd.INVITATION_API_CALL_ERR_INVALID_ARGUMENT,fA=Vd.INVITATION_API_CALL_ERR_NOT_STARTED,Ih=Vd.INVITATION_API_CALL_ERR_ALREADY_END,Qq=Vd.INVITATION_API_CALL_ERR_ALREADY_ACCEPT,gA=Vd.INVITATION_API_CALL_ERR_ALREADY_SENT,Rq=ec.JOIN_CHANNEL_ERR_FAILURE;ec.JOIN_CHANNEL_ERR_REJECTED;var hA=ec.JOIN_CHANNEL_ERR_INVALID_ARGUMENT,Sq=ec.JOIN_CHANNEL_TIMEOUT,Tq=ec.JOIN_CHANNEL_ERR_EXCEED_LIMIT,Uq=ec.JOIN_CHANNEL_ERR_ALREADY_JOINED;ec.JOIN_CHANNEL_ERR_TOO_OFTEN;var Vq=ec.JOIN_CHANNEL_ERR_USER_NOT_LOGGED_IN,Wq=ec.JOIN_CHANNEL_ERR_ALREADY_JOINED_CHANNEL_OF_SAME_ID,Xq=We.LEAVE_CHANNEL_ERR_FAILURE,Yq=We.LEAVE_CHANNEL_ERR_REJECTED,iA=We.LEAVE_CHANNEL_ERR_NOT_IN_CHANNEL,jA=We.LEAVE_CHANNEL_ERR_USER_NOT_LOGGED_IN,Zq=Rb.LOGIN_ERR_UNKNOWN,jg=Rb.LOGIN_ERR_REJECTED,Jh=Rb.LOGIN_ERR_INVALID_ARGUMENT,$q=Rb.LOGIN_ERR_INVALID_APP_ID,ar=Rb.LOGIN_ERR_INVALID_TOKEN,Kh=Rb.LOGIN_ERR_TOKEN_EXPIRED;Rb.LOGIN_ERR_NOT_AUTHORIZED;var kA=Rb.LOGIN_ERR_ALREADY_LOGIN,lA=Rb.LOGIN_ERR_TIMEOUT,mA=Rb.LOGIN_ERR_TOO_OFTEN,br=Xk.LOGOUT_ERR_USER_NOT_LOGGED_IN,cr=Qc.PEER_MESSAGE_ERR_FAILURE,Zk=Qc.PEER_MESSAGE_ERR_TIMEOUT,dr=Qc.PEER_MESSAGE_ERR_TOO_OFTEN,$k=Qc.PEER_MESSAGE_ERR_INVALID_USERID,ve=Qc.PEER_MESSAGE_ERR_INVALID_MESSAGE,al=Qc.PEER_MESSAGE_ERR_USER_NOT_LOGGED_IN,nA=Qc.PEER_MESSAGE_ERR_INCOMPATIBLE_MESSAGE,er=Wd.QUERY_PEERS_ONLINE_STATUS_ERR_INVALID_ARGUMENT;Wd.QUERY_PEERS_ONLINE_STATUS_ERR_REJECTED;var oA=Wd.QUERY_PEERS_ONLINE_STATUS_ERR_TIMEOUT;Wd.QUERY_PEERS_ONLINE_STATUS_ERR_TOO_OFTEN;var pA=Wd.QUERY_PEERS_ONLINE_STATUS_ERR_USER_NOT_LOGGED_IN,qA=Rc.RENEW_TOKEN_ERR_FAILURE,rA=Rc.RENEW_TOKEN_ERR_INVALID_ARGUMENT;Rc.RENEW_TOKEN_ERR_REJECTED,Rc.RENEW_TOKEN_ERR_TOO_OFTEN;var sA=Rc.RENEW_TOKEN_ERR_TOKEN_EXPIRED,tA=Rc.RENEW_TOKEN_ERR_INVALID_TOKEN,uA=Rc.RENEW_TOKEN_ERR_USER_NOT_LOGGED_IN,fr=Tc.PEER_SUBSCRIPTION_STATUS_ERR_FAILURE,kg=Tc.PEER_SUBSCRIPTION_STATUS_ERR_INVALID_ARGUMENT;Tc.PEER_SUBSCRIPTION_STATUS_ERR_REJECTED;var vA=Tc.PEER_SUBSCRIPTION_STATUS_ERR_TIMEOUT;Tc.PEER_SUBSCRIPTION_STATUS_ERR_TOO_OFTEN;var gr=Tc.PEER_SUBSCRIPTION_STATUS_ERR_OVERFLOW,bl=Tc.PEER_SUBSCRIPTION_STATUS_ERR_USER_NOT_LOGGED_IN;Xe.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_FAILURE,Xe.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TIMEOUT,Xe.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TOO_OFTEN,Xe.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_USER_NOT_LOGGED_IN;var lg=Uc.UPLOAD_MEDIA_ERR_FAILURE,wf=Uc.UPLOAD_MEDIA_ERR_INVALID_ARGUMENT,Lh=Uc.UPLOAD_MEDIA_ERR_TIMEOUT,wA=Uc.UPLOAD_MEDIA_ERR_SIZE_OVERFLOW,xA=Uc.UPLOAD_MEDIA_ERR_CONCURRENCY_LIMIT_EXCEEDED,hr=Uc.UPLOAD_MEDIA_ERR_INTERRUPTED,yA=Uc.UPLOAD_MEDIA_ERR_NOT_LOGGED_IN,mg=Vc.DOWNLOAD_MEDIA_ERR_FAILURE,cl=Vc.DOWNLOAD_MEDIA_ERR_INVALID_ARGUMENT,zA=Vc.DOWNLOAD_MEDIA_ERR_TIMEOUT,AA=Vc.DOWNLOAD_MEDIA_ERR_NOT_EXIST,BA=Vc.DOWNLOAD_MEDIA_ERR_CONCURRENCY_LIMIT_EXCEEDED,ir=Vc.DOWNLOAD_MEDIA_ERR_INTERRUPTED,CA=Vc.DOWNLOAD_MEDIA_ERR_NOT_LOGGED_IN,DA=function(e,t){var n;return Hk(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n},Mh=function(e,t,n){if(!lb(n))return!1;var r=X(t);return!!("number"==r?Ed(n)&&wk(t,n.length):"string"==r&&t in n)&&$f(n[t],e)},dl=function(e,t,n){var r=Va(e)?tq:DA;return n&&Mh(e,t,n)&&(t=void 0),r(e,Te(t))},EA=function(e,t){var n=-1,r=Ed(e)?Array(e.length):[];return Hk(e,(function(e,i,o){r[++n]=t(e,i,o)})),r},FA=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e},GA=function(e,t,n){t=t.length?he(t,(function(e){return Va(e)?function(t){return Ch(t,1===e.length?e[0]:e)}:e})):[Dh];var r=-1;return t=he(t,zh(Te)),e=EA(e,(function(e,n,i){return{criteria:he(t,(function(t){return t(e)})),index:++r,value:e}})),FA(e,(function(e,t){e:{for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){t:{var c=i[r],u=o[r];if(c!==u){var l=void 0!==c,d=null===c,h=c==c,p=ie(c),f=void 0!==u,A=null===u,g=u==u,m=ie(u);if(!A&&!m&&!p&&c>u||p&&f&&g&&!A&&!m||d&&f&&g||!l&&g||!h){c=1;break t}if(!d&&!p&&!m&&c<u||m&&l&&h&&!d&&!p||A&&l&&h||!f&&h||!g){c=-1;break t}}c=0}if(c){e=r>=s?c:c*("desc"==n[r]?-1:1);break e}}e=e.index-t.index}return e}))},jr=function(e,t){return rq(qq(e,t,Dh),e+"")},kr=jr((function(e,t){if(null==e)return[];var n=t.length;return 1<n&&Mh(e,t[0],t[1])?t=[]:2<n&&Mh(t[0],t[1],t[2])&&(t=[t[0]]),GA(e,$h(t,1),[])})),lr=function(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}(Dz),mr=$a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=[],r=function(e,t){return new WebSocket(e,t)};t.normalClosureMessage="Normal closure",t.default=function(e,i){var o=(i=void 0===i?{protocols:n,makeWebSocket:r}:i).protocols,a=void 0===o?n:o,s=void 0===(i=i.makeWebSocket)?r:i;return new lr.Observable((function(n){var r,i=new lr.Subject,o=s(e,a),c=!1,u=!1,l=function(e){if(r)throw c=!0,e=Error("Web socket message factory function called more than once"),n.error(e),e;return r=e.subscribe((function(e){o.send(e)})),i};return o.onopen=function(){u?(c=!0,o.close()):n.next(l)},o.onmessage=function(e){i.next(e.data)},o.onerror=function(e){c=!0,n.error(Error(e.message))},o.onclose=function(e){c||(c=!0,u?(n.complete(),i.complete()):n.error(Error(1e3===e.code?t.normalClosureMessage:e.reason)))},function(){u=!0,r&&r.unsubscribe(),c||(c=!0,o.close())}}))}}));!function(e){e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")&&e.default}(mr);var pi=function(e,t,n){(void 0===n||$f(e[t],n))&&(void 0!==n||t in e)||bg(e,t,n)},oi=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},HA=function(e){return jr((function(t,n){var r=-1,i=n.length,o=1<i?n[i-1]:void 0,a=2<i?n[2]:void 0;for(o=3<e.length&&"function"==typeof o?(i--,o):void 0,a&&Mh(n[0],n[1],a)&&(o=3>i?void 0:o,i=1),t=Object(t);++r<i;)(a=n[r])&&e(t,a,r,o);return t}))}((function(e,t,n,r){tm(e,t,n,r)})),IA=Math.floor,JA=Math.random,nr=function(e,t){return e+IA(JA()*(t-e+1))},or=function(e){var t=e.length;return t?e[nr(0,t-1)]:void 0},KA=function(e,t){return he(t,(function(t){return e[t]}))},Ni=function(e){return null==e?[]:KA(e,Ad(e))},LA=function(e){return or(Ni(e))},bn=function(e){return(Va(e)?or:LA)(e)},xm=[],ym=function(e,t){return new WebSocket(e,t)},MA=Math.floor;N({target:"Number",stat:!0},{isInteger:function(e){return!ha(e)&&isFinite(e)&&MA(e)===e}}),Oo("from",Ej,Dj);var NA=function(e,t){for(var n=Array(arguments.length-1),r=0,i=2,o=!0;i<arguments.length;)n[r++]=arguments[i++];return new Promise((function(i,a){n[r]=function(e){if(o)if(o=!1,e)a(e);else{for(var t=Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];i.apply(null,t)}};try{e.apply(t||null,n)}catch(e){o&&(o=!1,a(e))}}))},OA=$a((function(e,t){t.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;1<--t%4&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};var n=Array(64),r=Array(123);for(e=0;64>e;)r[n[e]=26>e?e+65:52>e?e+71:62>e?e-4:e-59|43]=e++;t.encode=function(e,t,r){for(var i,o=null,a=[],s=0,c=0;t<r;){var u=e[t++];switch(c){case 0:a[s++]=n[u>>2],i=(3&u)<<4,c=1;break;case 1:a[s++]=n[i|u>>4],i=(15&u)<<2,c=2;break;case 2:a[s++]=n[i|u>>6],a[s++]=n[63&u],c=0}8191<s&&((o||(o=[])).push(String.fromCharCode.apply(String,a)),s=0)}return c&&(a[s++]=n[i],a[s++]=61,1===c&&(a[s++]=61)),o?(s&&o.push(String.fromCharCode.apply(String,a.slice(0,s))),o.join("")):String.fromCharCode.apply(String,a.slice(0,s))},t.decode=function(e,t,n){for(var i,o=n,a=0,s=0;s<e.length;){var c=e.charCodeAt(s++);if(61===c&&1<a)break;if(void 0===(c=r[c]))throw Error("invalid encoding");switch(a){case 0:i=c,a=1;break;case 1:t[n++]=i<<2|(48&c)>>4,i=c,a=2;break;case 2:t[n++]=(15&i)<<4|(60&c)>>2,i=c,a=3;break;case 3:t[n++]=(3&i)<<6|c,a=0}}if(1===a)throw Error("invalid encoding");return n-o},t.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}}));yg.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},yg.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else{e=this._listeners[e];for(var n=0;n<e.length;)e[n].fn===t?e.splice(n,1):++n}return this},yg.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this};var PA=zm(zm),QA=function(c){try{var a=eval("quire".replace(/^/,"re"))(c);if(a&&(a.length||Object.keys(a).length))return a}catch(e){}return null},RA=$a((function(e,t){t.length=function(e){for(var t,n=0,r=0;r<e.length;++r)128>(t=e.charCodeAt(r))?n+=1:2048>t?n+=2:55296==(64512&t)&&56320==(64512&e.charCodeAt(r+1))?(++r,n+=4):n+=3;return n},t.read=function(e,t,n){if(1>n-t)return"";for(var r,i=null,o=[],a=0;t<n;)128>(r=e[t++])?o[a++]=r:191<r&&224>r?o[a++]=(31&r)<<6|63&e[t++]:239<r&&365>r?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[a++]=55296+(r>>10),o[a++]=56320+(1023&r)):o[a++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],8191<a&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),a=0);return i?(a&&i.push(String.fromCharCode.apply(String,o.slice(0,a))),i.join("")):String.fromCharCode.apply(String,o.slice(0,a))},t.write=function(e,t,n){for(var r,i,o=n,a=0;a<e.length;++a)128>(r=e.charCodeAt(a))?t[n++]=r:(2048>r?t[n++]=r>>6|192:(55296==(64512&r)&&56320==(64512&(i=e.charCodeAt(a+1)))?(r=65536+((1023&r)<<10)+(1023&i),++a,t[n++]=r>>18|240,t[n++]=r>>12&63|128):t[n++]=r>>12|224,t[n++]=r>>6&63|128),t[n++]=63&r|128);return n-o}})),SA=function(e,t,n){var r=n||8192,i=r>>>1,o=null,a=r;return function(n){return 1>n||n>i?e(n):(a+n>r&&(o=e(r),a=0),n=t.call(o,a,a+=n),7&a&&(a=1+(7|a)),n)}},Xd=Wa.zero=new Wa(0,0);Xd.toNumber=function(){return 0},Xd.zzEncode=Xd.zzDecode=function(){return this},Xd.length=function(){return 1};var TA=Wa.zeroHash="\0\0\0\0\0\0\0\0";Wa.fromNumber=function(e){if(0===e)return Xd;var t=0>e;t&&(e=-e);var n=e>>>0;return e=(e-n)/4294967296>>>0,t&&(e=~e>>>0,n=~n>>>0,4294967295<++n&&(n=0,4294967295<++e&&(e=0))),new Wa(n,e)},Wa.from=function(e){if("number"==typeof e)return Wa.fromNumber(e);if(V.isString(e)){if(!V.Long)return Wa.fromNumber(parseInt(e,10));e=V.Long.fromString(e)}return e.low||e.high?new Wa(e.low>>>0,e.high>>>0):Xd},Wa.prototype.toNumber=function(e){if(!e&&this.hi>>>31){e=1+~this.lo>>>0;var t=~this.hi>>>0;return e||(t=t+1>>>0),-(e+4294967296*t)}return this.lo+4294967296*this.hi},Wa.prototype.toLong=function(e){return V.Long?new V.Long(0|this.lo,0|this.hi,!!e):{low:0|this.lo,high:0|this.hi,unsigned:!!e}};var td=String.prototype.charCodeAt;Wa.fromHash=function(e){return e===TA?Xd:new Wa((td.call(e,0)|td.call(e,1)<<8|td.call(e,2)<<16|td.call(e,3)<<24)>>>0,(td.call(e,4)|td.call(e,5)<<8|td.call(e,6)<<16|td.call(e,7)<<24)>>>0)},Wa.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},Wa.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},Wa.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},Wa.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?16384>e?128>e?1:2:2097152>e?3:4:16384>t?128>t?5:6:2097152>t?7:8:128>n?9:10};var V=$a((function(e,t){function n(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;++i)void 0!==e[r[i]]&&n||(e[r[i]]=t[r[i]]);return e}function r(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:Error().stack||""}),r&&n(this,r)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}t.asPromise=NA,t.base64=OA,t.EventEmitter=yg,t.float=PA,t.inquire=QA,t.utf8=RA,t.pool=SA,t.LongBits=Wa,t.isNode=!!(void 0!==Ya&&Ya&&Ya.process&&Ya.process.versions&&Ya.process.versions.node),t.global=t.isNode&&Ya||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||Ya,t.emptyArray=Object.freeze?Object.freeze([]):[],t.emptyObject=Object.freeze?Object.freeze({}):{},t.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},t.isString=function(e){return"string"==typeof e||e instanceof String},t.isObject=function(e){return e&&"object"===X(e)},t.isset=t.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!==X(n)||0<(Array.isArray(n)?n.length:Object.keys(n).length))},t.Buffer=function(){try{var e=t.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),t._Buffer_from=null,t._Buffer_allocUnsafe=null,t.newBuffer=function(e){return"number"==typeof e?t.Buffer?t._Buffer_allocUnsafe(e):new t.Array(e):t.Buffer?t._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},t.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,t.Long=t.global.dcodeIO&&t.global.dcodeIO.Long||t.global.Long||t.inquire("long"),t.key2Re=/^true|false|0|1$/,t.key32Re=/^-?(?:0|[1-9][0-9]*)$/,t.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,t.longToHash=function(e){return e?t.LongBits.from(e).toHash():t.LongBits.zeroHash},t.longFromHash=function(e,n){return e=t.LongBits.fromHash(e),t.Long?t.Long.fromBits(e.lo,e.hi,n):e.toNumber(!!n)},t.merge=n,t.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},t.newError=r,t.ProtocolError=r("ProtocolError"),t.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;-1<n;--n)if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n]}},t.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},t.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},t._configure=function(){var e=t.Buffer;e?(t._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},t._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):t._Buffer_from=t._Buffer_allocUnsafe=null}})),xi=ja,el,Nh=V.LongBits,pr=V.base64,qr=V.utf8,rr=function(){return V.Buffer?function(){return(ja.create=function(){return new el})()}:function(){return new ja}};ja.create=rr(),ja.alloc=function(e){return new V.Array(e)},V.Array!==Array&&(ja.alloc=V.pool(ja.alloc,V.Array.prototype.subarray)),ja.prototype._push=function(e,t,n){return this.tail=this.tail.next=new sf(e,t,n),this.len+=t,this},ui.prototype=Object.create(sf.prototype),ui.prototype.fn=function(e,t,n){for(;127<e;)t[n++]=127&e|128,e>>>=7;t[n]=e},ja.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new ui(128>(e>>>=0)?1:16384>e?2:2097152>e?3:268435456>e?4:5,e)).len,this},ja.prototype.int32=function(e){return 0>e?this._push(vi,10,Nh.fromNumber(e)):this.uint32(e)},ja.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},ja.prototype.uint64=function(e){return e=Nh.from(e),this._push(vi,e.length(),e)},ja.prototype.int64=ja.prototype.uint64,ja.prototype.sint64=function(e){return e=Nh.from(e).zzEncode(),this._push(vi,e.length(),e)},ja.prototype.bool=function(e){return this._push(ti,1,e?1:0)},ja.prototype.fixed32=function(e){return this._push(wi,4,e>>>0)},ja.prototype.sfixed32=ja.prototype.fixed32,ja.prototype.fixed64=function(e){return e=Nh.from(e),this._push(wi,4,e.lo)._push(wi,4,e.hi)},ja.prototype.sfixed64=ja.prototype.fixed64,ja.prototype.float=function(e){return this._push(V.float.writeFloatLE,4,e)},ja.prototype.double=function(e){return this._push(V.float.writeDoubleLE,8,e)};var UA=V.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};ja.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(ti,1,0);if(V.isString(e)){var n=ja.alloc(t=pr.length(e));pr.decode(e,n,0),e=n}return this.uint32(t)._push(UA,t,e)},ja.prototype.string=function(e){var t=qr.length(e);return t?this.uint32(t)._push(qr.write,t,e):this._push(ti,1,0)},ja.prototype.fork=function(){return this.states=new Tt(this),this.head=this.tail=new sf(si,0,0),this.len=0,this},ja.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new sf(si,0,0),this.len=0),this},ja.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},ja.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},ja._configure=function(e){el=e,ja.create=rr(),el._configure()},(jc.prototype=Object.create(xi.prototype)).constructor=jc,jc._configure=function(){jc.alloc=V._Buffer_allocUnsafe,jc.writeBytesBuffer=V.Buffer&&V.Buffer.prototype instanceof Uint8Array&&"set"===V.Buffer.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]}},jc.prototype.bytes=function(e){V.isString(e)&&(e=V._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(jc.writeBytesBuffer,t,e),this},jc.prototype.string=function(e){var t=V.Buffer.byteLength(e);return this.uint32(t),t&&this._push(Ut,t,e),this},jc._configure();var zi=La,fl,Em=V.LongBits,VA=V.utf8,sr="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new La(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new La(e);throw Error("illegal buffer")},tr=function(){return V.Buffer?function(e){return(La.create=function(e){return V.Buffer.isBuffer(e)?new fl(e):sr(e)})(e)}:sr};La.create=tr(),La.prototype._slice=V.Array.prototype.subarray||V.Array.prototype.slice,La.prototype.uint32=function(){var e=4294967295;return function(){if(e=(127&this.buf[this.pos])>>>0,128>this.buf[this.pos++])return e;if(e=(e|(127&this.buf[this.pos])<<7)>>>0,128>this.buf[this.pos++])return e;if(e=(e|(127&this.buf[this.pos])<<14)>>>0,128>this.buf[this.pos++])return e;if(e=(e|(127&this.buf[this.pos])<<21)>>>0,128>this.buf[this.pos++])return e;if(e=(e|(15&this.buf[this.pos])<<28)>>>0,128>this.buf[this.pos++])return e;if((this.pos+=5)>this.len)throw this.pos=this.len,Yb(this,10);return e}}(),La.prototype.int32=function(){return 0|this.uint32()},La.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},La.prototype.bool=function(){return 0!==this.uint32()},La.prototype.fixed32=function(){if(this.pos+4>this.len)throw Yb(this,4);return zg(this.buf,this.pos+=4)},La.prototype.sfixed32=function(){if(this.pos+4>this.len)throw Yb(this,4);return 0|zg(this.buf,this.pos+=4)},La.prototype.float=function(){if(this.pos+4>this.len)throw Yb(this,4);var e=V.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},La.prototype.double=function(){if(this.pos+8>this.len)throw Yb(this,4);var e=V.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},La.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw Yb(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},La.prototype.string=function(){var e=this.bytes();return VA.read(e,0,e.length)},La.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw Yb(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw Yb(this)}while(128&this.buf[this.pos++]);return this},La.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},La._configure=function(e){fl=e,La.create=tr(),fl._configure();var t=V.Long?"toLong":"toNumber";V.merge(La.prototype,{int64:function(){return yi.call(this)[t](!1)},uint64:function(){return yi.call(this)[t](!0)},sint64:function(){return yi.call(this).zzDecode()[t](!1)},fixed64:function(){return Fm.call(this)[t](!0)},sfixed64:function(){return Fm.call(this)[t](!1)}})},(Fd.prototype=Object.create(zi.prototype)).constructor=Fd,Fd._configure=function(){V.Buffer&&(Fd.prototype._slice=V.Buffer.prototype.slice)},Fd.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},Fd._configure(),(tf.prototype=Object.create(V.EventEmitter.prototype)).constructor=tf,tf.prototype.rpcCall=function e(t,n,r,i,o){if(!i)throw TypeError("request must be specified");var a=this;if(!o)return V.asPromise(e,a,t,n,r,i);if(a.rpcImpl)try{return a.rpcImpl(t,n[a.requestDelimited?"encodeDelimited":"encode"](i).finish(),(function(e,n){if(e)return a.emit("error",e,t),o(e);if(null!==n){if(!(n instanceof r))try{n=r[a.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){return a.emit("error",e,t),o(e)}return a.emit("data",n,t),o(null,n)}a.end(!0)}))}catch(e){a.emit("error",e,t),setTimeout((function(){o(e)}),0)}else setTimeout((function(){o(Error("already ended"))}),0)},tf.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};var WA=$a((function(e,t){t.Service=tf})),XA={},fc=$a((function(e,t){function n(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}var r=t;r.build="minimal",r.Writer=xi,r.BufferWriter=jc,r.Reader=zi,r.BufferReader=Fd,r.util=V,r.rpc=WA,r.roots=XA,r.configure=n,n()}));fc.util.Long=U,fc.configure();var u=fc.Reader,L=fc.Writer,q=fc.util,t=fc.roots.default||(fc.roots.default={}),YA=t.URI=function(){var e={},t=Object.create(e);return t[e[0]="Unknown"]=0,t[e[1]="PingUri"]=1,t[e[2]="PongUri"]=2,t[e[11]="UserJoinUri"]=11,t[e[12]="UserRespUri"]=12,t[e[21]="UserQuitUri"]=21,t[e[22]="UserDropUri"]=22,t[e[31]="GroupEnterUri"]=31,t[e[32]="GroupLeaveUri"]=32,t[e[33]="GroupReplyUri"]=33,t[e[36]="GroupEnterNoticeUri"]=36,t[e[37]="GroupLeaveNoticeUri"]=37,t[e[38]="GroupEventNoticeUri"]=38,t[e[39]="GroupCountNoticeUri"]=39,t[e[41]="UserStatusListUri"]=41,t[e[42]="UserStatusResultUri"]=42,t[e[51]="GroupStatusListUri"]=51,t[e[52]="GroupStatusResultUri"]=52,t[e[55]="GroupAllUsersListUri"]=55,t[e[56]="GroupAllUsersResultUri"]=56,t[e[100]="MessageUri"]=100,t[e[101]="AckUri"]=101,t[e[115]="FileUploadIndexGetUri"]=115,t[e[116]="FileUploadIndexRetUri"]=116,t[e[117]="FileUploadIndexSetUri"]=117,t[e[118]="FileUploadIndexFinUri"]=118,t[e[119]="FileUploadIndexErrUri"]=119,t[e[125]="FileDownloadIndexGetUri"]=125,t[e[126]="FileDownloadIndexRetUri"]=126,t[e[127]="FileDownloadIndexErrUri"]=127,t[e[201]="UserJoinNoticeUri"]=201,t[e[202]="UserQuitNoticeUri"]=202,t[e[203]="UserWaitNoticeUri"]=203,t[e[301]="UserAttributeGetUri"]=301,t[e[302]="UserAttributeRetUri"]=302,t[e[303]="UserAttributeSetUri"]=303,t[e[304]="UserAttributeModUri"]=304,t[e[305]="UserAttributeDelUri"]=305,t[e[307]="UserAttributeRspUri"]=307,t[e[308]="UserAttributeErrUri"]=308,t[e[311]="UserAttributeKeysGetUri"]=311,t[e[312]="UserAttributeKeysRetUri"]=312,t[e[351]="GroupAttributeGetUri"]=351,t[e[352]="GroupAttributeRetUri"]=352,t[e[353]="GroupAttributeSetUri"]=353,t[e[354]="GroupAttributeModUri"]=354,t[e[355]="GroupAttributeDelUri"]=355,t[e[356]="GroupAttributeAltUri"]=356,t[e[357]="GroupAttributeRspUri"]=357,t[e[358]="GroupAttributeErrUri"]=358,t[e[361]="GroupAttributeKeysGetUri"]=361,t[e[362]="GroupAttributeKeysRetUri"]=362,t[e[401]="SubscribeUserStatusUri"]=401,t[e[402]="UnsubscribeUserStatusUri"]=402,t[e[499]="SubscribeResponseUri"]=499,t}(),Oh=t.Wrapper=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.uri=0,e.prototype.data=q.newBuffer([]),e.encode=function(e,t){return t||(t=L.create()),null!=e.uri&&Object.hasOwnProperty.call(e,"uri")&&t.uint32(8).int32(e.uri),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&t.uint32(18).bytes(e.data),t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.Wrapper;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.uri=e.int32();break;case 2:r.data=e.bytes();break;default:e.skipType(7&i)}}return r},e}(),ZA=t.Ping=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.ms=q.Long?q.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=L.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.ms&&Object.hasOwnProperty.call(e,"ms")&&t.uint32(16).uint64(e.ms),t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.Ping;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.seq=e.uint64();break;case 2:r.ms=e.uint64();break;default:e.skipType(7&i)}}return r},e}(),$A=t.Pong=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.ms=q.Long?q.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=L.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.ms&&Object.hasOwnProperty.call(e,"ms")&&t.uint32(16).uint64(e.ms),t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.Pong;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.seq=e.uint64();break;case 2:r.ms=e.uint64();break;default:e.skipType(7&i)}}return r},e}(),aB=t.UserJoin=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.opt=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.instance=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.ticket="",e.encode=function(e,t){return t||(t=L.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.opt&&Object.hasOwnProperty.call(e,"opt")&&t.uint32(16).uint64(e.opt),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(24).uint64(e.instance),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(34).string(e.account),null!=e.ticket&&Object.hasOwnProperty.call(e,"ticket")&&t.uint32(42).string(e.ticket),t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.UserJoin;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.seq=e.uint64();break;case 2:r.opt=e.uint64();break;case 3:r.instance=e.uint64();break;case 4:r.account=e.string();break;case 5:r.ticket=e.string();break;default:e.skipType(7&i)}}return r},e}(),bB=t.UserResp=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.code=0,e.encode=function(e,t){return t||(t=L.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(18).string(e.account),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(24).uint32(e.code),t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.UserResp;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.seq=e.uint64();break;case 2:r.account=e.string();break;case 3:r.code=e.uint32();break;default:e.skipType(7&i)}}return r},e}(),cB=t.UserQuit=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.encode=function(e,t){return t||(t=L.create()),t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.UserQuit;e.pos<n;){var i=e.uint32();e.skipType(7&i)}return r},e}(),dB=t.UserDrop=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.code=0,e.encode=function(e,t){return t||(t=L.create()),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(8).uint32(e.code),t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.UserDrop;e.pos<n;){var i=e.uint32();i>>>3==1?r.code=e.uint32():e.skipType(7&i)}return r},e}(),eB=t.GroupEnter=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.account="",e.encode=function(e,t){return t||(t=L.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(18).string(e.account),t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.GroupEnter;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.seq=e.uint64();break;case 2:r.account=e.string();break;default:e.skipType(7&i)}}return r},e}(),fB=t.GroupLeave=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.account="",e.encode=function(e,t){return t||(t=L.create()),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(10).string(e.account),t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.GroupLeave;e.pos<n;){var i=e.uint32();i>>>3==1?r.account=e.string():e.skipType(7&i)}return r},e}(),gB=t.GroupReply=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.code=0,e.encode=function(e,t){return t||(t=L.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(18).string(e.account),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(24).uint32(e.code),t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.GroupReply;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.seq=e.uint64();break;case 2:r.account=e.string();break;case 3:r.code=e.uint32();break;default:e.skipType(7&i)}}return r},e}(),ur=t.GroupLeaveNotice=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.user="",e.prototype.group="",e.prototype.instance=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.size=0,e.encode=function(e,t){return t||(t=L.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.user&&Object.hasOwnProperty.call(e,"user")&&t.uint32(18).string(e.user),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(26).string(e.group),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(32).uint64(e.instance),null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(40).uint32(e.size),t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.GroupLeaveNotice;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.seq=e.uint64();break;case 2:r.user=e.string();break;case 3:r.group=e.string();break;case 4:r.instance=e.uint64();break;case 5:r.size=e.uint32();break;default:e.skipType(7&i)}}return r},e}(),vr=t.GroupEnterNotice=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.user="",e.prototype.group="",e.prototype.instance=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.size=0,e.encode=function(e,t){return t||(t=L.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.user&&Object.hasOwnProperty.call(e,"user")&&t.uint32(18).string(e.user),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(26).string(e.group),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(32).uint64(e.instance),null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(40).uint32(e.size),t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.GroupEnterNotice;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.seq=e.uint64();break;case 2:r.user=e.string();break;case 3:r.group=e.string();break;case 4:r.instance=e.uint64();break;case 5:r.size=e.uint32();break;default:e.skipType(7&i)}}return r},e}(),wr=t.Message=function(){function e(e){if(this.MiscMap={},e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.instance=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.dialogue=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.sequence=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.options=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.src="",e.prototype.dst="",e.prototype.payload=q.newBuffer([]),e.prototype.MiscMap=q.emptyObject,e.prototype.ms=q.Long?q.Long.fromBits(0,0,!0):0,e.encode=function(e,t){if(t||(t=L.create()),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(8).uint64(e.instance),null!=e.dialogue&&Object.hasOwnProperty.call(e,"dialogue")&&t.uint32(16).uint64(e.dialogue),null!=e.sequence&&Object.hasOwnProperty.call(e,"sequence")&&t.uint32(24).uint64(e.sequence),null!=e.options&&Object.hasOwnProperty.call(e,"options")&&t.uint32(32).uint64(e.options),null!=e.src&&Object.hasOwnProperty.call(e,"src")&&t.uint32(42).string(e.src),null!=e.dst&&Object.hasOwnProperty.call(e,"dst")&&t.uint32(50).string(e.dst),null!=e.payload&&Object.hasOwnProperty.call(e,"payload")&&t.uint32(58).bytes(e.payload),null!=e.MiscMap&&Object.hasOwnProperty.call(e,"MiscMap"))for(var n=Object.keys(e.MiscMap),r=0;r<n.length;++r)t.uint32(66).fork().uint32(10).string(n[r]).uint32(18).bytes(e.MiscMap[n[r]]).ldelim();return null!=e.ms&&Object.hasOwnProperty.call(e,"ms")&&t.uint32(72).uint64(e.ms),t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r,i,o=new t.Message;e.pos<n;)switch(r=e.uint32(),r>>>3){case 1:o.instance=e.uint64();break;case 2:o.dialogue=e.uint64();break;case 3:o.sequence=e.uint64();break;case 4:o.options=e.uint64();break;case 5:o.src=e.string();break;case 6:o.dst=e.string();break;case 7:o.payload=e.bytes();break;case 8:o.MiscMap===q.emptyObject&&(o.MiscMap={});var a=e.uint32()+e.pos;for(r="",i=[];e.pos<a;){var s=e.uint32();switch(s>>>3){case 1:r=e.string();break;case 2:i=e.bytes();break;default:e.skipType(7&s)}}o.MiscMap[r]=i;break;case 9:o.ms=e.uint64();break;default:e.skipType(7&r)}return o},e}(),xr=t.Ack=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.instance=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.dialogue=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.sequence=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.encode=function(e,t){return t||(t=L.create()),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(8).uint64(e.instance),null!=e.dialogue&&Object.hasOwnProperty.call(e,"dialogue")&&t.uint32(16).uint64(e.dialogue),null!=e.sequence&&Object.hasOwnProperty.call(e,"sequence")&&t.uint32(24).uint64(e.sequence),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(32).uint32(e.code),t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.Ack;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.instance=e.uint64();break;case 2:r.dialogue=e.uint64();break;case 3:r.sequence=e.uint64();break;case 4:r.code=e.uint32();break;default:e.skipType(7&i)}}return r},e}(),hB=t.FileUploadIndexGet=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.hash=q.newBuffer([]),e.prototype.size=0,e.encode=function(e,t){return t||(t=L.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.hash&&Object.hasOwnProperty.call(e,"hash")&&t.uint32(18).bytes(e.hash),null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(24).uint32(e.size),t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.FileUploadIndexGet;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.seq=e.uint64();break;case 2:r.hash=e.bytes();break;case 3:r.size=e.uint32();break;default:e.skipType(7&i)}}return r},e}(),iB=t.FileUploadIndexRet=function(){function e(e){if(this.servers=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.unit=0,e.prototype.servers=q.emptyArray,e.encode=function(e,t){if(t||(t=L.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.unit&&Object.hasOwnProperty.call(e,"unit")&&t.uint32(16).uint32(e.unit),null!=e.servers&&e.servers.length){t.uint32(26).fork();for(var n=0;n<e.servers.length;++n)t.uint32(e.servers[n]);t.ldelim()}return t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.FileUploadIndexRet;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.seq=e.uint64();break;case 2:r.unit=e.uint32();break;case 3:if(r.servers&&r.servers.length||(r.servers=[]),2==(7&i))for(i=e.uint32()+e.pos;e.pos<i;)r.servers.push(e.uint32());else r.servers.push(e.uint32());break;default:e.skipType(7&i)}}return r},e}(),jB=t.FileUploadIndexSet=function(){function e(e){if(this.servers=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.hash=q.newBuffer([]),e.prototype.unit=0,e.prototype.servers=q.emptyArray,e.encode=function(e,t){if(t||(t=L.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.hash&&Object.hasOwnProperty.call(e,"hash")&&t.uint32(18).bytes(e.hash),null!=e.unit&&Object.hasOwnProperty.call(e,"unit")&&t.uint32(24).uint32(e.unit),null!=e.servers&&e.servers.length){t.uint32(34).fork();for(var n=0;n<e.servers.length;++n)t.uint32(e.servers[n]);t.ldelim()}return t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.FileUploadIndexSet;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.seq=e.uint64();break;case 2:r.hash=e.bytes();break;case 3:r.unit=e.uint32();break;case 4:if(r.servers&&r.servers.length||(r.servers=[]),2==(7&i))for(i=e.uint32()+e.pos;e.pos<i;)r.servers.push(e.uint32());else r.servers.push(e.uint32());break;default:e.skipType(7&i)}}return r},e}(),kB=t.FileUploadIndexFin=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.zone=0,e.prototype.unit=0,e.encode=function(e,t){return t||(t=L.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.zone&&Object.hasOwnProperty.call(e,"zone")&&t.uint32(16).uint32(e.zone),null!=e.unit&&Object.hasOwnProperty.call(e,"unit")&&t.uint32(24).uint32(e.unit),t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.FileUploadIndexFin;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.seq=e.uint64();break;case 2:r.zone=e.uint32();break;case 3:r.unit=e.uint32();break;default:e.skipType(7&i)}}return r},e}(),lB=t.FileUploadIndexErr=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.encode=function(e,t){return t||(t=L.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(16).uint32(e.code),t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.FileUploadIndexErr;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.seq=e.uint64();break;case 2:r.code=e.uint32();break;default:e.skipType(7&i)}}return r},e}(),mB=t.FileDownloadIndexGet=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.zone=0,e.prototype.hash=q.newBuffer([]),e.prototype.size=0,e.prototype.unit=0,e.encode=function(e,t){return t||(t=L.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.zone&&Object.hasOwnProperty.call(e,"zone")&&t.uint32(16).uint32(e.zone),null!=e.hash&&Object.hasOwnProperty.call(e,"hash")&&t.uint32(26).bytes(e.hash),null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(32).uint32(e.size),null!=e.unit&&Object.hasOwnProperty.call(e,"unit")&&t.uint32(40).uint32(e.unit),t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.FileDownloadIndexGet;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.seq=e.uint64();break;case 2:r.zone=e.uint32();break;case 3:r.hash=e.bytes();break;case 4:r.size=e.uint32();break;case 5:r.unit=e.uint32();break;default:e.skipType(7&i)}}return r},e}(),nB=t.FileDownloadIndexRet=function(){function e(e){if(this.servers=[],this.backups=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.unit=0,e.prototype.zone=0,e.prototype.servers=q.emptyArray,e.prototype.backups=q.emptyArray,e.encode=function(e,t){if(t||(t=L.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.unit&&Object.hasOwnProperty.call(e,"unit")&&t.uint32(16).uint32(e.unit),null!=e.zone&&Object.hasOwnProperty.call(e,"zone")&&t.uint32(24).uint32(e.zone),null!=e.servers&&e.servers.length){t.uint32(34).fork();for(var n=0;n<e.servers.length;++n)t.uint32(e.servers[n]);t.ldelim()}if(null!=e.backups&&e.backups.length){for(t.uint32(42).fork(),n=0;n<e.backups.length;++n)t.uint32(e.backups[n]);t.ldelim()}return t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.FileDownloadIndexRet;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.seq=e.uint64();break;case 2:r.unit=e.uint32();break;case 3:r.zone=e.uint32();break;case 4:if(r.servers&&r.servers.length||(r.servers=[]),2==(7&i))for(i=e.uint32()+e.pos;e.pos<i;)r.servers.push(e.uint32());else r.servers.push(e.uint32());break;case 5:if(r.backups&&r.backups.length||(r.backups=[]),2==(7&i))for(i=e.uint32()+e.pos;e.pos<i;)r.backups.push(e.uint32());else r.backups.push(e.uint32());break;default:e.skipType(7&i)}}return r},e}(),oB=t.FileDownloadIndexErr=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.encode=function(e,t){return t||(t=L.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(16).uint32(e.code),t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.FileDownloadIndexErr;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.seq=e.uint64();break;case 2:r.code=e.uint32();break;default:e.skipType(7&i)}}return r},e}(),pB=t.GroupAllUsersList=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.pageSize=0,e.prototype.pageNumber=0,e.encode=function(e,t){return t||(t=L.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(18).string(e.group),null!=e.pageSize&&Object.hasOwnProperty.call(e,"pageSize")&&t.uint32(24).uint32(e.pageSize),null!=e.pageNumber&&Object.hasOwnProperty.call(e,"pageNumber")&&t.uint32(32).uint32(e.pageNumber),t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.GroupAllUsersList;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.seq=e.uint64();break;case 2:r.group=e.string();break;case 3:r.pageSize=e.uint32();break;case 4:r.pageNumber=e.uint32();break;default:e.skipType(7&i)}}return r},e}(),qB=t.GroupAllUsersResult=function(){function e(e){if(this.memberInfos=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.totalSize=0,e.prototype.pageSize=0,e.prototype.pageNumber=0,e.prototype.memberInfos=q.emptyArray,e.encode=function(e,n){if(n||(n=L.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&n.uint32(18).string(e.group),null!=e.totalSize&&Object.hasOwnProperty.call(e,"totalSize")&&n.uint32(24).uint32(e.totalSize),null!=e.pageSize&&Object.hasOwnProperty.call(e,"pageSize")&&n.uint32(32).uint32(e.pageSize),null!=e.pageNumber&&Object.hasOwnProperty.call(e,"pageNumber")&&n.uint32(40).uint32(e.pageNumber),null!=e.memberInfos&&e.memberInfos.length)for(var r=0;r<e.memberInfos.length;++r)t.GroupAllUsersResult.MemberInfo.encode(e.memberInfos[r],n.uint32(50).fork()).ldelim();return n},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.GroupAllUsersResult;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.seq=e.uint64();break;case 2:r.group=e.string();break;case 3:r.totalSize=e.uint32();break;case 4:r.pageSize=e.uint32();break;case 5:r.pageNumber=e.uint32();break;case 6:r.memberInfos&&r.memberInfos.length||(r.memberInfos=[]),r.memberInfos.push(t.GroupAllUsersResult.MemberInfo.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.MemberInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.account="",e.prototype.ts=0,e.encode=function(e,t){return t||(t=L.create()),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(10).string(e.account),null!=e.ts&&Object.hasOwnProperty.call(e,"ts")&&t.uint32(16).uint32(e.ts),t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.GroupAllUsersResult.MemberInfo;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.account=e.string();break;case 2:r.ts=e.uint32();break;default:e.skipType(7&i)}}return r},e}(),e}(),rB=t.UserStatusList=function(){function e(e){if(this.users=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.users=q.emptyArray,e.encode=function(e,t){if(t||(t=L.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.users&&e.users.length)for(var n=0;n<e.users.length;++n)t.uint32(18).string(e.users[n]);return t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.UserStatusList;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.seq=e.uint64();break;case 2:r.users&&r.users.length||(r.users=[]),r.users.push(e.string());break;default:e.skipType(7&i)}}return r},e}(),sB=t.UserStatusResult=function(){function e(e){if(this.userInfos=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.userInfos=q.emptyArray,e.encode=function(e,n){if(n||(n=L.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),null!=e.userInfos&&e.userInfos.length)for(var r=0;r<e.userInfos.length;++r)t.UserStatusResult.UserStatusInfo.encode(e.userInfos[r],n.uint32(18).fork()).ldelim();return n},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.UserStatusResult;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.seq=e.uint64();break;case 2:r.userInfos&&r.userInfos.length||(r.userInfos=[]),r.userInfos.push(t.UserStatusResult.UserStatusInfo.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.UserStatusInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.account="",e.prototype.ts=0,e.encode=function(e,t){return t||(t=L.create()),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(10).string(e.account),null!=e.ts&&Object.hasOwnProperty.call(e,"ts")&&t.uint32(16).uint32(e.ts),t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.UserStatusResult.UserStatusInfo;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.account=e.string();break;case 2:r.ts=e.uint32();break;default:e.skipType(7&i)}}return r},e}(),e}(),tB=t.UserAttributeGet=function(){function e(e){if(this.attributes=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.attributes=q.emptyArray,e.encode=function(e,t){if(t||(t=L.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(18).string(e.account),null!=e.attributes&&e.attributes.length)for(var n=0;n<e.attributes.length;++n)t.uint32(26).string(e.attributes[n]);return t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.UserAttributeGet;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.seq=e.uint64();break;case 2:r.account=e.string();break;case 3:r.attributes&&r.attributes.length||(r.attributes=[]),r.attributes.push(e.string());break;default:e.skipType(7&i)}}return r},e}(),uB=t.UserAttributeRet=function(){function e(e){if(this.attributeInfos=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.attributeInfos=q.emptyArray,e.encode=function(e,n){if(n||(n=L.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),null!=e.attributeInfos&&e.attributeInfos.length)for(var r=0;r<e.attributeInfos.length;++r)t.UserAttributeRet.AttributeInfo.encode(e.attributeInfos[r],n.uint32(18).fork()).ldelim();return n},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.UserAttributeRet;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.seq=e.uint64();break;case 2:r.attributeInfos&&r.attributeInfos.length||(r.attributeInfos=[]),r.attributeInfos.push(t.UserAttributeRet.AttributeInfo.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.AttributeInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key="",e.prototype.value="",e.encode=function(e,t){return t||(t=L.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).string(e.value),t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.UserAttributeRet.AttributeInfo;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.key=e.string();break;case 2:r.value=e.string();break;default:e.skipType(7&i)}}return r},e}(),e}(),vB=t.UserAttributeSet=function(){function e(e){if(this.attributeInfos=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.attributeInfos=q.emptyArray,e.encode=function(e,n){if(n||(n=L.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&n.uint32(18).string(e.account),null!=e.attributeInfos&&e.attributeInfos.length)for(var r=0;r<e.attributeInfos.length;++r)t.UserAttributeSet.AttributeInfo.encode(e.attributeInfos[r],n.uint32(26).fork()).ldelim();return n},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.UserAttributeSet;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.seq=e.uint64();break;case 2:r.account=e.string();break;case 3:r.attributeInfos&&r.attributeInfos.length||(r.attributeInfos=[]),r.attributeInfos.push(t.UserAttributeSet.AttributeInfo.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.AttributeInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key="",e.prototype.value="",e.encode=function(e,t){return t||(t=L.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).string(e.value),t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.UserAttributeSet.AttributeInfo;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.key=e.string();break;case 2:r.value=e.string();break;default:e.skipType(7&i)}}return r},e}(),e}(),wB=t.UserAttributeMod=function(){function e(e){if(this.attributeInfos=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.attributeInfos=q.emptyArray,e.encode=function(e,n){if(n||(n=L.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&n.uint32(18).string(e.account),null!=e.attributeInfos&&e.attributeInfos.length)for(var r=0;r<e.attributeInfos.length;++r)t.UserAttributeMod.AttributeInfo.encode(e.attributeInfos[r],n.uint32(26).fork()).ldelim();return n},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.UserAttributeMod;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.seq=e.uint64();break;case 2:r.account=e.string();break;case 3:r.attributeInfos&&r.attributeInfos.length||(r.attributeInfos=[]),r.attributeInfos.push(t.UserAttributeMod.AttributeInfo.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.AttributeInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key="",e.prototype.value="",e.encode=function(e,t){return t||(t=L.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).string(e.value),t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.UserAttributeMod.AttributeInfo;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.key=e.string();break;case 2:r.value=e.string();break;default:e.skipType(7&i)}}return r},e}(),e}(),xB=t.UserAttributeDel=function(){function e(e){if(this.attributes=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.attributes=q.emptyArray,e.encode=function(e,t){if(t||(t=L.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(18).string(e.account),null!=e.attributes&&e.attributes.length)for(var n=0;n<e.attributes.length;++n)t.uint32(26).string(e.attributes[n]);return t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.UserAttributeDel;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.seq=e.uint64();break;case 2:r.account=e.string();break;case 3:r.attributes&&r.attributes.length||(r.attributes=[]),r.attributes.push(e.string());break;default:e.skipType(7&i)}}return r},e}(),yB=t.UserAttributeErr=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.encode=function(e,t){return t||(t=L.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(16).uint32(e.code),t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.UserAttributeErr;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.seq=e.uint64();break;case 2:r.code=e.uint32();break;default:e.skipType(7&i)}}return r},e}(),zB=t.UserAttributeKeysGet=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.account="",e.encode=function(e,t){return t||(t=L.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(18).string(e.account),t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.UserAttributeKeysGet;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.seq=e.uint64();break;case 2:r.account=e.string();break;default:e.skipType(7&i)}}return r},e}(),AB=t.UserAttributeKeysRet=function(){function e(e){if(this.keys=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.keys=q.emptyArray,e.encode=function(e,t){if(t||(t=L.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.keys&&e.keys.length)for(var n=0;n<e.keys.length;++n)t.uint32(18).string(e.keys[n]);return t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.UserAttributeKeysRet;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.seq=e.uint64();break;case 2:r.keys&&r.keys.length||(r.keys=[]),r.keys.push(e.string());break;default:e.skipType(7&i)}}return r},e}(),BB=t.UserAttributeRsp=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=q.Long?q.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=L.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.UserAttributeRsp;e.pos<n;){var i=e.uint32();i>>>3==1?r.seq=e.uint64():e.skipType(7&i)}return r},e}(),CB=t.GroupStatusList=function(){function e(e){if(this.groups=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.groups=q.emptyArray,e.encode=function(e,t){if(t||(t=L.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.groups&&e.groups.length)for(var n=0;n<e.groups.length;++n)t.uint32(18).string(e.groups[n]);return t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.GroupStatusList;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.seq=e.uint64();break;case 2:r.groups&&r.groups.length||(r.groups=[]),r.groups.push(e.string());break;default:e.skipType(7&i)}}return r},e}(),DB=t.GroupStatusResult=function(){function e(e){if(this.groupInfos=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.groupInfos=q.emptyArray,e.encode=function(e,n){if(n||(n=L.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),null!=e.groupInfos&&e.groupInfos.length)for(var r=0;r<e.groupInfos.length;++r)t.GroupStatusResult.GroupInfo.encode(e.groupInfos[r],n.uint32(18).fork()).ldelim();return n},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.GroupStatusResult;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.seq=e.uint64();break;case 2:r.groupInfos&&r.groupInfos.length||(r.groupInfos=[]),r.groupInfos.push(t.GroupStatusResult.GroupInfo.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.GroupInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.group="",e.prototype.memberCount=0,e.encode=function(e,t){return t||(t=L.create()),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(10).string(e.group),null!=e.memberCount&&Object.hasOwnProperty.call(e,"memberCount")&&t.uint32(16).uint32(e.memberCount),t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.GroupStatusResult.GroupInfo;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.group=e.string();break;case 2:r.memberCount=e.uint32();break;default:e.skipType(7&i)}}return r},e}(),e}(),EB=t.GroupCountNotice=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.instance=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.seq=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.size=0,e.encode=function(e,t){return t||(t=L.create()),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(8).uint64(e.instance),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(16).uint64(e.seq),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(26).string(e.group),null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(32).uint32(e.size),t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.GroupCountNotice;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.instance=e.uint64();break;case 2:r.seq=e.uint64();break;case 3:r.group=e.string();break;case 4:r.size=e.uint32();break;default:e.skipType(7&i)}}return r},e}(),FB=t.GroupAttributeGet=function(){function e(e){if(this.attributes=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.attributes=q.emptyArray,e.encode=function(e,t){if(t||(t=L.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(18).string(e.group),null!=e.attributes&&e.attributes.length)for(var n=0;n<e.attributes.length;++n)t.uint32(26).string(e.attributes[n]);return t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.GroupAttributeGet;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.seq=e.uint64();break;case 2:r.group=e.string();break;case 3:r.attributes&&r.attributes.length||(r.attributes=[]),r.attributes.push(e.string());break;default:e.skipType(7&i)}}return r},e}(),GB=t.GroupAttributeRet=function(){function e(e){if(this.attributeMaps=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.attributeMaps=q.emptyArray,e.encode=function(e,n){if(n||(n=L.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),null!=e.attributeMaps&&e.attributeMaps.length)for(var r=0;r<e.attributeMaps.length;++r)t.GroupAttributeRet.AttributeMap.encode(e.attributeMaps[r],n.uint32(18).fork()).ldelim();return n},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.GroupAttributeRet;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.seq=e.uint64();break;case 2:r.attributeMaps&&r.attributeMaps.length||(r.attributeMaps=[]),r.attributeMaps.push(t.GroupAttributeRet.AttributeMap.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.AttributeMap=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key="",e.prototype.value="",e.prototype.origin="",e.prototype.ms=q.Long?q.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=L.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).string(e.value),null!=e.origin&&Object.hasOwnProperty.call(e,"origin")&&t.uint32(26).string(e.origin),null!=e.ms&&Object.hasOwnProperty.call(e,"ms")&&t.uint32(32).uint64(e.ms),t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.GroupAttributeRet.AttributeMap;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.key=e.string();break;case 2:r.value=e.string();break;case 3:r.origin=e.string();break;case 4:r.ms=e.uint64();break;default:e.skipType(7&i)}}return r},e}(),e}(),HB=t.GroupAttributeSet=function(){function e(e){if(this.attributeInfos=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.broadcast=!1,e.prototype.attributeInfos=q.emptyArray,e.encode=function(e,n){if(n||(n=L.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&n.uint32(18).string(e.group),null!=e.broadcast&&Object.hasOwnProperty.call(e,"broadcast")&&n.uint32(24).bool(e.broadcast),null!=e.attributeInfos&&e.attributeInfos.length)for(var r=0;r<e.attributeInfos.length;++r)t.GroupAttributeSet.AttributeInfo.encode(e.attributeInfos[r],n.uint32(34).fork()).ldelim();return n},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.GroupAttributeSet;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.seq=e.uint64();break;case 2:r.group=e.string();break;case 3:r.broadcast=e.bool();break;case 4:r.attributeInfos&&r.attributeInfos.length||(r.attributeInfos=[]),r.attributeInfos.push(t.GroupAttributeSet.AttributeInfo.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.AttributeInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key="",e.prototype.value="",e.encode=function(e,t){return t||(t=L.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).string(e.value),t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.GroupAttributeSet.AttributeInfo;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.key=e.string();break;case 2:r.value=e.string();break;default:e.skipType(7&i)}}return r},e}(),e}(),IB=t.GroupAttributeMod=function(){function e(e){if(this.attributeInfos=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.broadcast=!1,e.prototype.attributeInfos=q.emptyArray,e.encode=function(e,n){if(n||(n=L.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&n.uint32(18).string(e.group),null!=e.broadcast&&Object.hasOwnProperty.call(e,"broadcast")&&n.uint32(24).bool(e.broadcast),null!=e.attributeInfos&&e.attributeInfos.length)for(var r=0;r<e.attributeInfos.length;++r)t.GroupAttributeMod.AttributeInfo.encode(e.attributeInfos[r],n.uint32(34).fork()).ldelim();return n},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.GroupAttributeMod;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.seq=e.uint64();break;case 2:r.group=e.string();break;case 3:r.broadcast=e.bool();break;case 4:r.attributeInfos&&r.attributeInfos.length||(r.attributeInfos=[]),r.attributeInfos.push(t.GroupAttributeMod.AttributeInfo.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.AttributeInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key="",e.prototype.value="",e.encode=function(e,t){return t||(t=L.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).string(e.value),t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.GroupAttributeMod.AttributeInfo;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.key=e.string();break;case 2:r.value=e.string();break;default:e.skipType(7&i)}}return r},e}(),e}(),JB=t.GroupAttributeDel=function(){function e(e){if(this.attributes=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.broadcast=!1,e.prototype.attributes=q.emptyArray,e.encode=function(e,t){if(t||(t=L.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(18).string(e.group),null!=e.broadcast&&Object.hasOwnProperty.call(e,"broadcast")&&t.uint32(24).bool(e.broadcast),null!=e.attributes&&e.attributes.length)for(var n=0;n<e.attributes.length;++n)t.uint32(34).string(e.attributes[n]);return t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.GroupAttributeDel;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.seq=e.uint64();break;case 2:r.group=e.string();break;case 3:r.broadcast=e.bool();break;case 4:r.attributes&&r.attributes.length||(r.attributes=[]),r.attributes.push(e.string());break;default:e.skipType(7&i)}}return r},e}(),KB=t.GroupAttributeAlt=function(){function e(e){if(this.attributeMaps=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.instance=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.attributeMaps=q.emptyArray,e.encode=function(e,n){if(n||(n=L.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&n.uint32(18).string(e.group),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&n.uint32(24).uint64(e.instance),null!=e.attributeMaps&&e.attributeMaps.length)for(var r=0;r<e.attributeMaps.length;++r)t.GroupAttributeAlt.AttributeMap.encode(e.attributeMaps[r],n.uint32(34).fork()).ldelim();return n},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.GroupAttributeAlt;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.seq=e.uint64();break;case 2:r.group=e.string();break;case 3:r.instance=e.uint64();break;case 4:r.attributeMaps&&r.attributeMaps.length||(r.attributeMaps=[]),r.attributeMaps.push(t.GroupAttributeAlt.AttributeMap.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.AttributeMap=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key="",e.prototype.value="",e.prototype.origin="",e.prototype.ms=q.Long?q.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=L.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).string(e.value),null!=e.origin&&Object.hasOwnProperty.call(e,"origin")&&t.uint32(26).string(e.origin),null!=e.ms&&Object.hasOwnProperty.call(e,"ms")&&t.uint32(32).uint64(e.ms),t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.GroupAttributeAlt.AttributeMap;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.key=e.string();break;case 2:r.value=e.string();break;case 3:r.origin=e.string();break;case 4:r.ms=e.uint64();break;default:e.skipType(7&i)}}return r},e}(),e}(),LB=t.GroupAttributeRsp=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=q.Long?q.Long.fromBits(0,0,!0):0,e.encode=function(e,t){return t||(t=L.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.GroupAttributeRsp;e.pos<n;){var i=e.uint32();i>>>3==1?r.seq=e.uint64():e.skipType(7&i)}return r},e}(),MB=t.GroupAttributeErr=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.encode=function(e,t){return t||(t=L.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(16).uint32(e.code),t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.GroupAttributeErr;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.seq=e.uint64();break;case 2:r.code=e.uint32();break;default:e.skipType(7&i)}}return r},e}(),NB=t.GroupAttributeKeysGet=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.group="",e.encode=function(e,t){return t||(t=L.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(18).string(e.group),t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.GroupAttributeKeysGet;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.seq=e.uint64();break;case 2:r.group=e.string();break;default:e.skipType(7&i)}}return r},e}(),OB=t.GroupAttributeKeysRet=function(){function e(e){if(this.keys=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.keys=q.emptyArray,e.encode=function(e,t){if(t||(t=L.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.keys&&e.keys.length)for(var n=0;n<e.keys.length;++n)t.uint32(18).string(e.keys[n]);return t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.GroupAttributeKeysRet;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.seq=e.uint64();break;case 2:r.keys&&r.keys.length||(r.keys=[]),r.keys.push(e.string());break;default:e.skipType(7&i)}}return r},e}(),PB=t.SubscribeUserStatus=function(){function e(e){if(this.users=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.users=q.emptyArray,e.encode=function(e,t){if(t||(t=L.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.users&&e.users.length)for(var n=0;n<e.users.length;++n)t.uint32(18).string(e.users[n]);return t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.SubscribeUserStatus;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.seq=e.uint64();break;case 2:r.users&&r.users.length||(r.users=[]),r.users.push(e.string());break;default:e.skipType(7&i)}}return r},e}(),QB=t.UnsubscribeUserStatus=function(){function e(e){if(this.users=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.users=q.emptyArray,e.encode=function(e,t){if(t||(t=L.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.users&&e.users.length)for(var n=0;n<e.users.length;++n)t.uint32(18).string(e.users[n]);return t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.UnsubscribeUserStatus;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.seq=e.uint64();break;case 2:r.users&&r.users.length||(r.users=[]),r.users.push(e.string());break;default:e.skipType(7&i)}}return r},e}(),RB=t.UserJoinNotice=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.instance=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.seq=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.user="",e.encode=function(e,t){return t||(t=L.create()),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(8).uint64(e.instance),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(16).uint64(e.seq),null!=e.user&&Object.hasOwnProperty.call(e,"user")&&t.uint32(26).string(e.user),t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.UserJoinNotice;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.instance=e.uint64();break;case 2:r.seq=e.uint64();break;case 3:r.user=e.string();break;default:e.skipType(7&i)}}return r},e}(),SB=t.UserQuitNotice=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.instance=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.seq=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.user="",e.encode=function(e,t){return t||(t=L.create()),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(8).uint64(e.instance),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(16).uint64(e.seq),null!=e.user&&Object.hasOwnProperty.call(e,"user")&&t.uint32(26).string(e.user),t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.UserQuitNotice;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.instance=e.uint64();break;case 2:r.seq=e.uint64();break;case 3:r.user=e.string();break;default:e.skipType(7&i)}}return r},e}(),TB=t.UserWaitNotice=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.instance=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.seq=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.user="",e.encode=function(e,t){return t||(t=L.create()),null!=e.instance&&Object.hasOwnProperty.call(e,"instance")&&t.uint32(8).uint64(e.instance),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(16).uint64(e.seq),null!=e.user&&Object.hasOwnProperty.call(e,"user")&&t.uint32(26).string(e.user),t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.UserWaitNotice;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.instance=e.uint64();break;case 2:r.seq=e.uint64();break;case 3:r.user=e.string();break;default:e.skipType(7&i)}}return r},e}(),UB=t.SubscribeResponse=function(){function e(e){if(this.errors=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=q.Long?q.Long.fromBits(0,0,!0):0,e.prototype.errors=q.emptyArray,e.encode=function(e,n){if(n||(n=L.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),null!=e.errors&&e.errors.length)for(var r=0;r<e.errors.length;++r)t.SubscribeResponse.SubscribeErrorsType.encode(e.errors[r],n.uint32(18).fork()).ldelim();return n},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.SubscribeResponse;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.seq=e.uint64();break;case 2:r.errors&&r.errors.length||(r.errors=[]),r.errors.push(t.SubscribeResponse.SubscribeErrorsType.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},e.SubscribeErrorsType=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.account="",e.prototype.code=0,e.encode=function(e,t){return t||(t=L.create()),null!=e.account&&Object.hasOwnProperty.call(e,"account")&&t.uint32(10).string(e.account),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(16).uint32(e.code),t},e.decode=function(e,n){e instanceof u||(e=u.create(e)),n=void 0===n?e.len:e.pos+n;for(var r=new t.SubscribeResponse.SubscribeErrorsType;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.account=e.string();break;case 2:r.code=e.uint32();break;default:e.skipType(7&i)}}return r},e}(),e}(),VB=Object.freeze({__proto__:null,URI:YA,Wrapper:Oh,Ping:ZA,Pong:$A,UserJoin:aB,UserResp:bB,UserQuit:cB,UserDrop:dB,GroupEnter:eB,GroupLeave:fB,GroupReply:gB,GroupLeaveNotice:ur,GroupEnterNotice:vr,Message:wr,Ack:xr,FileUploadIndexGet:hB,FileUploadIndexRet:iB,FileUploadIndexSet:jB,FileUploadIndexFin:kB,FileUploadIndexErr:lB,FileDownloadIndexGet:mB,FileDownloadIndexRet:nB,FileDownloadIndexErr:oB,GroupAllUsersList:pB,GroupAllUsersResult:qB,UserStatusList:rB,UserStatusResult:sB,UserAttributeGet:tB,UserAttributeRet:uB,UserAttributeSet:vB,UserAttributeMod:wB,UserAttributeDel:xB,UserAttributeErr:yB,UserAttributeKeysGet:zB,UserAttributeKeysRet:AB,UserAttributeRsp:BB,GroupStatusList:CB,GroupStatusResult:DB,GroupCountNotice:EB,GroupAttributeGet:FB,GroupAttributeRet:GB,GroupAttributeSet:HB,GroupAttributeMod:IB,GroupAttributeDel:JB,GroupAttributeAlt:KB,GroupAttributeRsp:LB,GroupAttributeErr:MB,GroupAttributeKeysGet:NB,GroupAttributeKeysRet:OB,SubscribeUserStatus:PB,UnsubscribeUserStatus:QB,UserJoinNotice:RB,UserQuitNotice:SB,UserWaitNotice:TB,SubscribeResponse:UB,default:t}),WB=Math.ceil,yr=function(e){return function(t,n,r){var i=(t=String(jb(t))).length;return r=void 0===r?" ":String(r),(n=ta(n))<=i||""==r?t:(n-=i,(i=Pn.call(r,WB(n/r.length))).length>n&&(i=i.slice(0,n)),e?t+i:i+t)}},XB=yr(!1),YB=yr(!0),zr=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(De);N({target:"String",proto:!0,forced:zr},{padEnd:function(e){return YB(this,e,1<arguments.length?arguments[1]:void 0)}});var ZB=zf,Ar=function(e){return function(t){t=qb(t);for(var n,r=Dc(t),i=r.length,o=0,a=[];i>o;)n=r[o++],ka&&!ZB.call(t,n)||a.push(e?[n,t[n]]:t[n]);return a}},$B=Ar(!0),aC=Ar(!1);N({target:"Object",stat:!0},{entries:function(e){return $B(e)}});var bC=Fb.f,Br="".endsWith,cC=Math.min,Cr=dk("endsWith"),dC=!Cr&&!!function(){var e=bC(String.prototype,"endsWith");return e&&!e.writable}();N({target:"String",proto:!0,forced:!dC&&!Cr},{endsWith:function(e){var t=String(jb(this));ck(e);var n=1<arguments.length?arguments[1]:void 0,r=ta(t.length);return n=void 0===n?r:cC(ta(n),r),r=String(e),Br?Br.call(t,r,n):t.slice(n-r.length,n)===r}}),dh("match",1,(function(e,t,n){return[function(t){var n=jb(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;if(e=va(e),r=String(this),!e.global)return Ke(e,r);var i=e.unicode;e.lastIndex=0;for(var o,a=[],s=0;null!==(o=Ke(e,r));)o=String(o[0]),a[s]=o,""===o&&(e.lastIndex=xj(r,ta(e.lastIndex),i)),s++;return 0===s?null:a}]}));var eC=Fb.f,Dr="".startsWith,fC=Math.min,Er=dk("startsWith"),gC=!Er&&!!function(){var e=eC(String.prototype,"startsWith");return e&&!e.writable}();N({target:"String",proto:!0,forced:!gC&&!Er},{startsWith:function(e){var t=String(jb(this));ck(e);var n=ta(fC(1<arguments.length?arguments[1]:void 0,t.length)),r=String(e);return Dr?Dr.call(t,r,n):t.slice(n,n+r.length)===r}});var Nm=function(e){var t=/(%?)(%([jds]))/g,n=Array.prototype.slice.call(arguments,1);return n.length&&(e=e.replace(t,(function(e,t,r,i){switch(r=n.shift(),i){case"s":r=""+r;break;case"d":r=Number(r);break;case"j":r=JSON.stringify(r)}return t?(n.unshift(r),e):r}))),n.length&&(e+=" "+n.join(" ")),""+e.replace(/%{2,2}/g,"%")},hC=/\s/,iC=function(e){for(var t=e.length;t--&&hC.test(e.charAt(t)););return t},jC=/^\s+/,Fr=NaN,kC=/^[-+]0x[0-9a-f]+$/i,lC=/^0b[01]+$/i,mC=/^0o[0-7]+$/i,nC=parseInt,gl=function(e){if("number"==typeof e)return e;if(ie(e))return Fr;if(lb(e)&&(e="function"==typeof e.valueOf?e.valueOf():e,e=lb(e)?e+"":e),"string"!=typeof e)return 0===e?e:+e;e=e?e.slice(0,iC(e)+1).replace(jC,""):e;var t=lC.test(e);return t||mC.test(e)?nC(e.slice(2),t?2:8):kC.test(e)?Fr:+e},oC=Math.max,pC=Math.min,qC=function(e,t,n){function r(t){var n=c,r=u;return c=u=void 0,p=t,l=e.apply(r,n)}function i(e){var n=e-h;return e-=p,void 0===h||n>=t||0>n||A&&e>=m}function o(){var e=Cb.Date.now();if(i(e))return a(e);var n=setTimeout,r=e-p;e=t-(e-h),r=A?pC(e,m-r):e,d=n(o,r)}function a(e){return d=void 0,g&&c?r(e):(c=u=void 0,l)}function s(){var e=Cb.Date.now(),n=i(e);if(c=arguments,u=this,h=e,n){if(void 0===d)return p=e=h,d=setTimeout(o,t),f?r(e):l;if(A)return clearTimeout(d),d=setTimeout(o,t),r(h)}return void 0===d&&(d=setTimeout(o,t)),l}var c,u,l,d,h,p=0,f=!1,A=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");if(t=gl(t)||0,lb(n)){f=!!n.leading;var m=(A="maxWait"in n)?oC(gl(n.maxWait)||0,t):m;g="trailing"in n?!!n.trailing:g}return s.cancel=function(){void 0!==d&&clearTimeout(d),p=0,c=h=u=d=void 0},s.flush=function(){return void 0===d?l:a(Cb.Date.now())},s},yc=function(e){function t(e,i){return W(this,t),m(n(e=r.call(this,Mm(e,i))),"originalError",void 0),m(n(e),"code",void 0),m(n(e),"serverCode",void 0),"number"==typeof i?e.code=i:"string"==typeof i?e.name=i:void 0!==i&&(i.originalError&&(e.originalError=i.originalError),void 0!==i.code&&(e.code=i.code),void 0!==i.serverCode&&(e.serverCode=i.serverCode)),e}la(t,e);var r=ma(t);return t}(ef(Error)),Ia=function(e){function t(e,i){return W(this,t),m(n(e=r.call(this,Mm(e,i))),"name","RtmInternalError"),m(n(e),"code",void 0),e.code=i,e}la(t,e);var r=ma(t);return t}(ef(Error)),Ph=function(){return function(e){function t(e){W(this,t);var r=Object.keys(e);return n.call(this,e[r[0]],r[0])}la(t,e);var n=ma(t);return t}(Ia)},Fa=Ph(),db=function(e){function t(){W(this,t);for(var e=arguments.length,i=Array(e),o=0;o<e;o++)i[o]=arguments[o];return m(n(e=r.call.apply(r,[this].concat(i))),"name","RtmTimeoutError"),e}la(t,e);var r=ma(t);return t}(yc),I=function(e){function t(){W(this,t);for(var e=arguments.length,i=Array(e),o=0;o<e;o++)i[o]=arguments[o];return m(n(e=r.call.apply(r,[this].concat(i))),"name","RtmInvalidArgumentError"),e}la(t,e);var r=ma(t);return t}(yc),K=function(e){function t(){W(this,t);for(var e=arguments.length,i=Array(e),o=0;o<e;o++)i[o]=arguments[o];return m(n(e=r.call.apply(r,[this].concat(i))),"name","RtmInvalidStatusError"),e}la(t,e);var r=ma(t);return t}(yc),hl=function(e){function t(){W(this,t);for(var e=arguments.length,i=Array(e),o=0;o<e;o++)i[o]=arguments[o];return m(n(e=r.call.apply(r,[this].concat(i))),"name","RtmInterruptedError"),e}la(t,e);var r=ma(t);return t}(yc),ib=function(e){function t(){W(this,t);for(var e=arguments.length,i=Array(e),o=0;o<e;o++)i[o]=arguments[o];return m(n(e=r.call.apply(r,[this].concat(i))),"name","RtmLimitExceededError"),e}la(t,e);var r=ma(t);return t}(yc),rC=function(e){function t(){W(this,t);for(var e=arguments.length,i=Array(e),o=0;o<e;o++)i[o]=arguments[o];return m(n(e=r.call.apply(r,[this].concat(i))),"name","RtmInvokeTooOftenError"),e}la(t,e);var r=ma(t);return t}(yc),da=function(e){function t(){W(this,t);for(var e=arguments.length,i=Array(e),o=0;o<e;o++)i[o]=arguments[o];return m(n(e=r.call.apply(r,[this].concat(i))),"name","RtmUnavailableError"),m(n(e),"serverCode",void 0),m(n(e),"statusCode",void 0),e}la(t,e);var r=ma(t);return t}(yc),Ye=function(e){function t(){W(this,t);for(var e=arguments.length,i=Array(e),o=0;o<e;o++)i[o]=arguments[o];return m(n(e=r.call.apply(r,[this].concat(i))),"name","RtmUnauthenticatedError"),m(n(e),"serverCode",void 0),e}la(t,e);var r=ma(t);return t}(yc),Wc=function(e){function t(){W(this,t);for(var e=arguments.length,i=Array(e),o=0;o<e;o++)i[o]=arguments[o];return m(n(e=r.call.apply(r,[this].concat(i))),"name","RtmUnknownError"),e}la(t,e);var r=ma(t);return t}(yc),Sa=function(e){return e instanceof db||e instanceof pb},sa=function(e){return e instanceof yc},Yd=function(e,t,n){return['Executing "%s.%s" timed out after %ds',e,t,n/1e3]},Lm=new Map,sC=function(){var e=new Date;return"".concat(e.toISOString().split("T")[1].replace(/\..+/,""),".").concat(e.getMilliseconds())},xf=Object.keys,Hg=Object.entries.bind(Object),Cg=function(e){return"string"==typeof e?e.endsWith(".")?e:"".concat(e,"."):e},Sm=function(e){for(var t="",n=(e=new Uint8Array(e)).byteLength,r=-1;++r<n;)t+=String.fromCharCode(e[r]);return t=btoa(t),"data:;base64,".concat(t)},tC=R((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}));N({target:"Date",proto:!0,forced:tC},{toJSON:function(e){e=Qa(this);var t=lc(e);return"number"!=typeof t||isFinite(t)?e.toISOString():null}}),N({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}});var $t=Object.prototype.hasOwnProperty,Gr=function(e,t,n){return JSON.stringify(Ym(e),t,n)};Gr.ensureProperties=Ym;var uC=function(e,t){t=t||{};var n=X(e);if("string"===n&&0<e.length)return au(e);if("number"===n&&isFinite(e))return t.long?864e5<=(t=Math.abs(e))?Jg(e,t,864e5,"day"):36e5<=t?Jg(e,t,36e5,"hour"):6e4<=t?Jg(e,t,6e4,"minute"):1e3<=t?Jg(e,t,1e3,"second"):e+" ms":864e5<=(t=Math.abs(e))?Math.round(e/864e5)+"d":36e5<=t?Math.round(e/36e5)+"h":6e4<=t?Math.round(e/6e4)+"m":1e3<=t?Math.round(e/1e3)+"s":e+"ms";throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))},vC=function(e){function t(e){function r(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];if(r.enabled){e=Number(new Date),r.diff=e-(i||e),r.prev=i,i=r.curr=e,n[0]=t.coerce(n[0]),"string"!=typeof n[0]&&n.unshift("%O");var a=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,(function(e,i){return"%%"===e?"%":(a++,"function"==typeof(i=t.formatters[i])&&(e=i.call(r,n[a]),n.splice(a,1),a--),e)})),t.formatArgs.call(r,n),(r.log||t.log).apply(r,n)}}var i,o=null;return r.namespace=e,r.useColors=t.useColors(),r.color=t.selectColor(e),r.extend=n,r.destroy=t.destroy,Object.defineProperty(r,"enabled",{enumerable:!0,configurable:!1,get:function(){return null===o?t.enabled(e):o},set:function(e){o=e}}),"function"==typeof t.init&&t.init(r),r}function n(e,n){return(e=t(this.namespace+(void 0===n?":":n)+e)).log=this.log,e}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){var e=[].concat(G(t.names.map(r)),G(t.skips.map(r).map((function(e){return"-"+e})))).join(",");return t.enable(""),e},t.enable=function(e){t.save(e),t.names=[],t.skips=[];var n,r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r=0;for(n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=uC,t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((function(n){t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){for(var n=0,r=0;r<e.length;r++)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t},Hr=$a((function(e,t){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(i=r))})),t.splice(i,0,n)}},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){try{var e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))};e:{try{var n=localStorage;break e}catch(e){}n=void 0}t.storage=n,t.destroy=function(){var e=!1;return function(){e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}}(),t.colors="#0000CC #0000FF #0033CC #0033FF #0066CC #0066FF #0099CC #0099FF #00CC00 #00CC33 #00CC66 #00CC99 #00CCCC #00CCFF #3300CC #3300FF #3333CC #3333FF #3366CC #3366FF #3399CC #3399FF #33CC00 #33CC33 #33CC66 #33CC99 #33CCCC #33CCFF #6600CC #6600FF #6633CC #6633FF #66CC00 #66CC33 #9900CC #9900FF #9933CC #9933FF #99CC00 #99CC33 #CC0000 #CC0033 #CC0066 #CC0099 #CC00CC #CC00FF #CC3300 #CC3333 #CC3366 #CC3399 #CC33CC #CC33FF #CC6600 #CC6633 #CC9900 #CC9933 #CCCC00 #CCCC33 #FF0000 #FF0033 #FF0066 #FF0099 #FF00CC #FF00FF #FF3300 #FF3333 #FF3366 #FF3399 #FF33CC #FF33FF #FF6600 #FF6633 #FF9900 #FF9933 #FFCC00 #FFCC33".split(" "),t.log=console.debug||console.log||function(){},e.exports=vC(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}})),Ir=Hr("RTM:DEBUG"),Ze;Ir.enabled=!1,function(e){e[e.Uploading=0]="Uploading",e[e.Free=1]="Free"}(Ze||(Ze={}));var wC=function(){function e(t){W(this,e),m(this,"uploadRequest",void 0),m(this,"uploadState",void 0),m(this,"uploadResendCount",void 0),m(this,"LogCache",void 0),m(this,"LogsToPost",void 0),m(this,"processId",void 0),m(this,"sdkVersion",void 0),m(this,"logId",void 0),m(this,"rtmConfig",void 0),this.processId=t.processId,this.sdkVersion=t.sdkVersion,this.rtmConfig=t.rtmConfig,this.uploadRequest=t.uploadRequest,this.uploadState=Ze.Free,this.uploadResendCount=0,this.LogCache=[],this.LogsToPost=[],this.logId=0}return Ha(e,[{key:"upload",value:function(e){this.LogCache.push(e),this.uploadState===Ze.Free&&(this.LogsToPost=40>this.LogCache.length?this.LogCache.splice(0,this.LogCache.length):this.LogCache.splice(0,40),this.postLog(this.LogsToPost))}},{key:"postLog",value:function(e){var t=this;this.uploadState=Ze.Uploading,setTimeout(J(w.mark((function n(){var r,i,o;return w.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={sdk_version:t.sdkVersion,process_id:t.processId,payload:JSON.stringify(e)},n.prev=1,n.next=4,t.uploadRequest(r,null!==(i=t.rtmConfig.enableCloudProxy)&&void 0!==i&&i);case 4:if(!Uk){n.next=6;break}throw Error("RTM is busy");case 6:n.next=13;break;case 8:return n.prev=8,n.t0=n.catch(1),o=2>t.uploadResendCount++?2e3:1e4,setTimeout((function(){return t.postLog(t.LogsToPost)}),o),n.abrupt("return");case 13:if(Ir('The logs uploaded for "process-'.concat(gg,'"')),0!==t.LogCache.length){n.next=17;break}return t.uploadState=Ze.Free,n.abrupt("return");case 17:t.uploadResendCount=0,t.LogsToPost=40>t.LogCache.length?t.LogCache.splice(0,t.LogCache.length):t.LogCache.splice(0,40),t.postLog(t.LogsToPost);case 20:case"end":return n.stop()}}),n,null,[[1,8]])}))),Zd.getParameter("LOG_UPLOAD_INTERVAL"))}}]),e}(),Jr=function(e,t,n,r,i,o,a,s){var c=0;for(a=!!a&&Id(a,s,3);c<r;){if(c in n){if(s=a?a(n[c],c,t):n[c],0<o&&gd(s))i=Jr(e,t,s,ta(s.length),i,o-1)-1;else{if(9007199254740991<=i)throw TypeError("Exceed the acceptable array length");e[i]=s}i++}c++}return i},xC=Jr;N({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=Qa(this),n=ta(t.length),r=Sg(t,0);return r.length=xC(r,t,t,n,0,void 0===e?1:$b(e)),r}}),N({target:"Object",stat:!0},{values:function(e){return aC(e)}});var yC=["CODE"],Db,ud,F;!function(e){e.CHINA="CN",e.ASIA="AS",e.NORTH_AMERICA="NA",e.EUROPE="EU",e.JAPAN="JP",e.INDIA="IN",e.OCEANIA="OC",e.SOUTH_AMERICA="SA",e.AFRICA="AF",e.OVERSEA="OVERSEA",e.GLOBAL="GLOBAL"}(F||(F={}));var zC={CN:F.CHINA,NA:F.NORTH_AMERICA,EU:F.EUROPE,AS:F.ASIA,JP:F.JAPAN,IN:F.INDIA,GLOB:F.GLOBAL,AF:F.AFRICA,OC:F.OVERSEA,OVS:F.OVERSEA,SA:F.SOUTH_AMERICA},Kg=Wm((Db={},m(Db,F.ASIA,{CODE:F.ASIA,AP_DOMAINS:["ap-web-1-asia.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-asia.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-asia.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-asia.agora.io"],LOG_UPLOAD_SERVER:["logservice-asia.agora.io"],PROXY_AP:["proxy-ap-web-asia.agora.io"],PROXY_NGINX:["southeast-asia.webrtc-cloud-proxy.sd-rtn.com"]}),m(Db,F.NORTH_AMERICA,{CODE:F.NORTH_AMERICA,AP_DOMAINS:["ap-web-1-north-america.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-north-america.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-north-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-north-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-north-america.agora.io"],PROXY_AP:["proxy-ap-web-america.agora.io"],PROXY_NGINX:["east-usa.webrtc-cloud-proxy.sd-rtn.com"]}),m(Db,F.EUROPE,{CODE:F.EUROPE,AP_DOMAINS:["ap-web-1-europe.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-europe.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-europe.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-europe.agora.io"],LOG_UPLOAD_SERVER:["logservice-europe.agora.io"],PROXY_AP:["proxy-ap-web-europe.agora.io"],PROXY_NGINX:["europe.webrtc-cloud-proxy.sd-rtn.com"]}),m(Db,F.JAPAN,{CODE:F.JAPAN,AP_DOMAINS:["ap-web-1-japan.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-japan.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-japan.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-japan.agora.io"],LOG_UPLOAD_SERVER:["logservice-japan.agora.io"],PROXY_AP:["proxy-ap-web-japan.agora.io"],PROXY_NGINX:["japan.webrtc-cloud-proxy.sd-rtn.com"]}),m(Db,F.INDIA,{CODE:F.INDIA,AP_DOMAINS:["ap-web-1-india.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-india.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-india.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-india.agora.io"],LOG_UPLOAD_SERVER:["logservice-india.agora.io"],PROXY_AP:["proxy-ap-web-india.agora.io"],PROXY_NGINX:["india.webrtc-cloud-proxy.sd-rtn.com"]}),m(Db,F.OVERSEA,{CODE:F.OVERSEA,AP_DOMAINS:["ap-web-1-oversea.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-oversea.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oversea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oversea.agora.io"],LOG_UPLOAD_SERVER:["logservice-oversea.agora.io"],PROXY_AP:["proxy-ap-web-oversea.agora.io"],PROXY_NGINX:["webrtc-cloud-proxy.agora.io"]}),m(Db,F.GLOBAL,{CODE:F.GLOBAL,AP_DOMAINS:["ap-web-1.agora.io","ap-web-2.agora.io"],AP_BACKUP_DOMAINS:["ap-web-3.agora.io","ap-web-4.agora.io"],EVENT_REPORT_DOMAIN:["webcollector-rtm.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["webcollector-1.agora.io"],LOG_UPLOAD_SERVER:["logservice-rtm.agora.io"],PROXY_AP:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],PROXY_NGINX:["webrtc-cloud-proxy.sd-rtn.com"]}),m(Db,F.OCEANIA,{CODE:F.OCEANIA,AP_DOMAINS:["ap-web-1-oceania.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-oceania.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oceania.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oceania.agora.io"],LOG_UPLOAD_SERVER:["logservice-oceania.agora.io"],PROXY_AP:["proxy-ap-web-oceania.agora.io"],PROXY_NGINX:["oceania.webrtc-cloud-proxy.sd-rtn.com"]}),m(Db,F.SOUTH_AMERICA,{CODE:F.SOUTH_AMERICA,AP_DOMAINS:["ap-web-1-south-america.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-south-america.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-south-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-south-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-america.agora.io"],PROXY_AP:["proxy-ap-web-south-america.agora.io"],PROXY_NGINX:["south-america.webrtc-cloud-proxy.sd-rtn.com"]}),m(Db,F.AFRICA,{CODE:F.AFRICA,AP_DOMAINS:["ap-web-1-africa.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-africa.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-africa.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-africa.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-africa.agora.io"],PROXY_AP:["proxy-ap-web-africa.agora.io"],PROXY_NGINX:["africa.webrtc-cloud-proxy.sd-rtn.com"]}),m(Db,F.CHINA,{CODE:F.CHINA,AP_DOMAINS:["webrtc2-2.ap.sd-rtn.com"],AP_BACKUP_DOMAINS:["webrtc2-4.ap.sd-rtn.com"],EVENT_REPORT_DOMAIN:["web-3.statscollector.sd-rtn.com"],EVENT_REPORT_BACKUP_DOMAIN:["web-4.statscollector.sd-rtn.com"],LOG_UPLOAD_SERVER:["logservice-china.agora.io"],PROXY_AP:["proxy-ap-web.agoraio.cn"],PROXY_NGINX:["east-cn.webrtc-cloud-proxy.sd-rtn.com"]}),Db)),yf=(ud={},m(ud,F.ASIA,[F.CHINA,F.JAPAN,F.INDIA]),m(ud,F.EUROPE,[]),m(ud,F.NORTH_AMERICA,[]),m(ud,F.SOUTH_AMERICA,[]),m(ud,F.OCEANIA,[]),m(ud,F.AFRICA,[]),ud),Kr=[F.OVERSEA,F.GLOBAL,F.CHINA,F.NORTH_AMERICA,F.EUROPE,F.ASIA,F.JAPAN,F.INDIA,F.OCEANIA,F.SOUTH_AMERICA,F.AFRICA],Zm=function(e){return Object.values(yf).flat().includes(e)},cu=function(e){var t;return null===(t=Hg(yf).find((function(t){return(t=ra(t,2))[0],t[1].includes(e)})))||void 0===t?void 0:t[0]},AC=function(e){return e.sort((function(e,t){return Kr.indexOf(e)-Kr.indexOf(t)}))},xe=function(e){var t=new Set;if(0===(e=AC(e).slice(0,3).map((function(e){var n=Kg[e];if(void 0===n)throw new Ia("invalid area key");return e=n.CODE,n=ff(n,yC),t.add(e),n}))).length)throw new Ia("areas cannot be empty");return ua({CODES:t},e.reduce((function(e,t){for(var n=0,r=Hg(e);n<r.length;n++){var i=ra(r[n],2),o=i[0];i=i[1],e[o]=Array.from(new Set([].concat(G(t[o]),G(i))))}return e})))},M,Lr=function(){var e=J(w.mark((function e(t,n){var r,i,o,a,s,c=arguments;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(2<(i=2<c.length&&void 0!==c[2]?c[2]:0))){e.next=3;break}return e.abrupt("return");case 3:return o={withCredentials:!0,body:t,timeout:2e4},a=0<i?(null==M?void 0:M.LOG_UPLOAD_SERVER[0])||"rtm.logservice.sd-rtn.com":(null==M?void 0:M.LOG_UPLOAD_SERVER[0])||"logservice-rtm.agora.io",s=n?"https://".concat(null!==(r=null==M?void 0:M.PROXY_NGINX[0])&&void 0!==r?r:"webrtc-cloud-proxy.sd-rtn.com","/ls/?h=").concat(a,"&p=443&d=upload/v1"):"https://".concat(a,"/upload/v1"),e.next=8,te(s,o).catch((function(e){return Lr(t,n,i+1)}));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Mr=new wC({processId:"process-".concat(gg),sdkVersion:"Agora_RTM_SDK_for_Web_".concat("v1.4.3-17-g1e27aa38"),uploadRequest:Lr,rtmConfig:{}}),il="text payload rawMessage thumbnail attributeInfos keys value extra".split(" "),Nr="account ticket uid detail token account fileName cname user group key origin users src dst lastUpdateUserId channel cert wan_ip".split(" "),Or="serverReceivedTs isOfflineMessage enableHistoricalMessaging enableOfflineMessaging hasPeerReceived messageType enableNotificationToChannelMembers lastUpdateTs".split(" "),BC="ChannelMessage MemberLeft MessageFromPeer LocalInvitationRefused LocalInvitationAccepted RemoteInvitationCanceled PeersOnlineStatusChanged AttributesUpdated MemberJoined".split(" "),ye=function(e){if("string"==typeof e)return oa(e);if(Array.isArray(e)&&e.every((function(e){return"string"==typeof e})))return e.map((function(e){return oa(e)}));if(!Il(e)){for(var t={},n=0;n<Or.length;n++){var r=Or[n];r in e&&(t[r]=e[r])}if(0<Object.keys(t).length)return t;if(5>Object.keys(e).length){for(n=0,e=Object.entries(e);n<e.length;n++){var i=ra(e[n],2);r=i[0],i=i[1],il.includes(r)?t[r]="[Hidden Info]":t[oa(r)]="string"==typeof i?oa(i):"[Sensitive Info]"}return t}return"[Sensitive Info]"}return e},Pr=function(e){return"object"===X(e)?yd(e)?Vm(fe(e,5),il,Nr):e.constructor&&e.constructor.name:e},Qr=function(e,t){return e instanceof Error?e.message:"string"!=typeof e?JSON.stringify(Vm(fe(e,5),il,Nr)):(t=t.map((function(e){return e instanceof Error?e.message:"object"===X(e)?Gr(Array.isArray(e)?e.map(Pr):Pr(e)):e})),Nm.apply(void 0,[e.replace(/%[%Oo]/g,(function(e){return"%%"===e?"%":"%o"===e||"%O"===e?"%s":e}))].concat(G(t))))},CC=1,Rr=function(e,t,n){var r=Hr(e);return r.enabled=!0,r.log=n,r.useColors=!1,function(n){for(var i=arguments.length,o=Array(1<i?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];if(t.enableLogUpload){i=Cg(n);var s=Qr(i,o);Mr.upload({log_item_id:"".concat(CC++),log_level:e,payload_str:"[".concat(sC(),"] ").concat(e," - ").concat(256<s.length?s.slice(0,256):s)})}switch(i=function(e){var t=s||Qr(Cg(n),o),i=Nc.LOG_HANDLER;"function"==typeof i&&i({level:e,message:t}),r(t)},e){case"RTM:INFO":t.logFilter.info&&i("log");break;case"RTM:WARN":t.logFilter.warn&&i("warning");break;case"RTM:ERROR":t.logFilter.error&&i("error");break;case"RTM:TRACK":t.logFilter.track&&i("log");break;case"RTM:MSG:RECV":case"RTM:MSG:SEND":case"RTM:DEBUG":t.logFilter.debug&&i("debug")}}},jl,Sr=function(e){return function(t){var n=1===jl||void 0===e?"":"Ins#".concat(e," ");return"".concat(n).concat(t)}},kl=function(e,t,n){var r=Sr(jl);return Rr("RTM:".concat(t),n,(function(t){return e(r(t))}))},tb=function(){return function(e){function t(e,i){var o=2<arguments.length&&void 0!==arguments[2]&&arguments[2];W(this,t);var a=r.call(this);if(m(n(a),"logError",void 0),m(n(a),"invokeTracker",void 0),m(n(a),"resultTracker",void 0),m(n(a),"errorTracker",void 0),m(n(a),"eventTracker",void 0),m(n(a),"info",void 0),m(n(a),"warn",void 0),m(n(a),"log",void 0),m(n(a),"genLogger",void 0),m(n(a),"loggerId",void 0),m(n(a),"logger",void 0),m(n(a),"name",void 0),a.logger=e,a.name=i,a.loggerId=e.loggerId,a.info=e.info,a.warn=e.warn,a.logError=e.logError,a.genLogger=e.genLogger,a.log=e.genLogger("RTM:DEBUG","<".concat(i,"> ")),a.invokeTracker=e.genTracker("Invoke"),a.eventTracker=e.genTracker("Event"),a.resultTracker=e.genTracker("Result"),a.errorTracker=e.genTracker("Error"),o){var s=a.emit.bind(n(a));a.emit=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];e=t[0],n=t.slice(1);var r=BC.includes(e);a.eventTracker.apply(a,["%s: ".concat(0<n.length?"%s emitted with args: ".concat(n.map((function(){return"%o"}))):"%s emitted"),i,e].concat(G(r?n.map(ye):n)));try{s.apply(void 0,t)}catch(t){a.logError("Caught in the callback function of the event %s",e,t)}}}return a}la(t,e);var r=ma(t);return t}(ea)},DC=function(e){return kl(console.log.bind(console),"INFO",e)},EC=function(e){return kl(console.warn.bind(console),"WARN",e)},FC=function(e){return kl(console.error.bind(console),"ERROR",e)},Tr=function(e,t){return function(n){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",i=Sr(e),o=console.debug.bind(console),a=Rr(n,t,(function(e){return o(i(e))}));return function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return a.apply(void 0,[r+e].concat(n))}}},GC=function(e,t){return function(n){return Tr(e,t)("RTM:TRACK","[".concat(n,"] "))}},Li=t.URI,eu=Oh,HC=ff(VB,["Wrapper"]),$m=Gk(HC,"URI"),Ur=function(e,t){var n=-1,r=e.length,i=r-1;for(t=void 0===t?r:t;++n<t;){var o=e[r=nr(n,i)];e[r]=e[n],e[n]=o}return e.length=t,e},IC=function(e){return Ur(Xh(e))},JC=function(e){return Ur(Ni(e))},$e=function(e){return(Va(e)?IC:JC)(e)},af={0:9591,1:9593},$d=function(e){return"https://".concat(e,"/api/v1")},KC=bb.apply(void 0,G($e(["web-1.ap.sd-rtn.com","web-2.ap.sd-rtn.com"].map($d)))),LC=bb.apply(void 0,G($e(["ap-web-1.agora.io","ap-web-2.agora.io"].map($d)))),MC=bb.apply(void 0,G($e(["web-3.ap.sd-rtn.com","web-4.ap.sd-rtn.com"].map($d)))),NC=bb.apply(void 0,G($e(["ap-web-3.agora.io","ap-web-4.agora.io"].map($d)))),ll=Ph(),ml=function(e){function t(e,i,o,a,s,c){W(this,t);var u=r.call(this,s,Ai("Socket-",s.loggerId));if(m(n(u),"isActiveClose",!1),m(n(u),"loggedIn",!1),m(n(u),"useNewDomain",void 0),m(n(u),"receivedPacket",new Pa),m(n(u),"open$",void 0),m(n(u),"input$",new Pa),m(n(u),"userJoin$",new Pa),m(n(u),"attemptsSinceLastError",0),m(n(u),"message$",new Pa),m(n(u),"socket$",void 0),m(n(u),"toClose",new Pa),m(n(u),"toReconnect",new Pa),m(n(u),"sendLogger",void 0),m(n(u),"receiveLogger",void 0),m(n(u),"ip",void 0),m(n(u),"env",void 0),m(n(u),"ticket",void 0),m(n(u),"context",void 0),m(n(u),"getDomain",(function(){return an(u.ip,u.useNewDomain)})),m(n(u),"socketReconnector",(function(e){var t=function(e){return u.attemptsSinceLastError+=1,u.warn("The %s of Env %d reconnecting %s",u.name,u.env,e.message),Bc(3e3)};return e.pipe(Ga((function(e){return u.log("socket connection closed"),u.loggedIn=!1,2<=u.attemptsSinceLastError?(u.warn("socket connection failure"),u.emit("connectionFailure"),u.close(),Z(e)):u.isActiveClose?vb:(u.emit("reconnect"),u.useNewDomain=!u.useNewDomain,Z(e))})),oe((function(e){return e.pipe(Cc(t))})))})),u.ip=e,u.env=i,u.ticket=o,u.context=a,u.useNewDomain=null!=c?c:.5<=Math.random(),u.sendLogger=u.genLogger("RTM:MSG:SEND"),u.receiveLogger=u.genLogger("RTM:MSG:RECV"),0!==i&&1!==i)throw new ll({ILLEGAL_RTM_ENV:"The env number is out of rtm env count"});if(!Gm(e))throw new ll({IP_NOT_VALID:"The ip from ap is not valid"});var l=af[i];u.log("Opening websocket address %s for the Env %d",u.ip,u.env);var d=Xb(u.input$,u.userJoin$.pipe(Rt(2)),u.message$).pipe(ba((function(e){return Oh.encode(e).finish()})));return e=Xb(St("",{protocols:[],makeWebSocket:function(){if(u.context.config.enableCloudProxy){if(0===u.context.cloudProxyServers.length)throw u.logError("No cloud proxy server to connect"),new da;var e="wss://".concat(an(bn(u.context.cloudProxyServers),!1),"/");e=we(e,"sid",u.context.sid),e=we(e,"remote_port",l.toString()),e=we(e,"remote_ip",u.ip),e=we(e,"token",u.context.key),e=new WebSocket(e)}else e=new WebSocket("wss://".concat(u.getDomain(),":").concat(l));return e.binaryType="arraybuffer",e}}),u.toReconnect),u.socket$=Ca(e,Tk.pipe(hb(15e3),Ga((function(e){return Sa(e)&&u.warn("socket open timed out"),Z(e)})))).pipe(ba((function(e){if(e instanceof Error)throw u.warn("Env_%d: Force reconnect the socket",u.env),e;return e(d).pipe(ba((function(e){return Oh.decode(new Uint8Array(e))})))})),u.socketReconnector),u.open$=u.socket$.pipe(ca((function(e){u.log("Websocket opened",u.name),e.subscribe((function(e){var t=e.data;e=Li[e.uri].slice(0,-3),t=$m[e].decode(t);var n=HA({},Gk(t,"toJSON"),(function(e,t){return t instanceof U?Km(t):t})),r=!1;if((t instanceof vr||t instanceof ur)&&t.instance.lessThanOrEqual(4294967295)&&(r=!0),t instanceof wr||t instanceof xr){var i=t.instance,o=t.sequence;(t.dialogue.lessThanOrEqual(4294967295)||i.lessThanOrEqual(4294967295)||o.lessThan(1))&&(r=!0)}r?u.warn("Env_%d: Illegal %s, abandoned %o",u.env,e,n):("Pong"!==e&&u.receiveLogger("Env_%d: %s %o",u.env,e,n),u.receivedPacket.next([e,t]))}),(function(){}))})),qf(void 0),ob(u.toClose),pe()),u}la(t,e);var r=ma(t);return Ha(t,[{key:"address",get:function(){return"".concat(this.ip,":").concat(af[this.env])}},{key:"sendPacket",value:function(e,t){if("Ping"!==e){var n=uc(t,(function(e){return e instanceof U?Km(e):e}));this.sendLogger("Env_%d: %s %o",this.env,e,n)}t=du(e,t),"UserJoin"===e?this.userJoin$.next(t):"Message"===e?this.message$.next(t):this.input$.next(t)}},{key:"close",value:function(){this.isActiveClose=!0,this.loggedIn=!1,this.toClose.next()}},{key:"fromReceived",value:function(e){var t=this;return this.receivedPacket.pipe(ca((function(e){var n=ra(e,2);e=n[0],n=n[1],"UserResp"===e&&(t.attemptsSinceLastError=0,t.loggedIn=!0),"UserDrop"===e&&t.emit("socketUserDrop",n)})),wb((function(t){return ra(t,1)[0]===e})),ba((function(e){return ra(e,2)[1]})))}},{key:"forceReconnect",value:function(){this.toReconnect.next(new ll({FORCE_RECONNECTING:"Connection seems broken, try force reconnecting"}))}}]),t}(tb());N({target:"String",proto:!0,forced:zr},{padStart:function(e){return XB(this,e,1<arguments.length?arguments[1]:void 0)}});var OC=function(e){var t=xf(Kg);e=Yt(e);for(var n=0;n<t.length;n++){var r=Kg[t[n]];if(null!=r&&r.AP_DOMAINS.includes(e)||null!=r&&r.AP_BACKUP_DOMAINS.includes(e)||null!=r&&r.PROXY_AP.includes(e))return[r.CODE]}return[F.CHINA,F.GLOBAL]},PC={INVALID_APP_ID:"Illegal App ID",NO_AUTHORIZED:"Signature verification failed",TOKEN_TIMEOUT:"Dynamic key expired",INVALID_TOKEN_UID:"UID in the security key(token) is not valid",APP_ID_NO_ACTIVATED:"The vendor is not activated",DYNAMIC_KEY_NOT_ENABLED:"The vendor did not enable the dynamic key, but uses the dynamic key",DYNAMIC_ENABLED_BUT_STATIC_KEY:"The vendor enabled the dynamic key, but uses the static key",TOKEN_EXPIRED:"The token has expired",INVALID_USER_ID:"The user ID to login does not match the token",FORBIDDEN_REGION:"Forbidden to access the request in this area",CANNOT_MEET_AREA_DEMAND:"Cannot allocate to meet the requirements of the given area limit"},Vr={5:"INVALID_APP_ID",7:"INVALID_USER_ID",9:"NO_AUTHORIZED",10:"TOKEN_TIMEOUT",11:"APP_ID_NO_ACTIVATED",12:"INVALID_TOKEN_UID",13:"TOKEN_EXPIRED",14:"DYNAMIC_KEY_NOT_ENABLED",15:"DYNAMIC_ENABLED_BUT_STATIC_KEY",18:"FORBIDDEN_REGION",19:"CANNOT_MEET_AREA_DEMAND"},QC=[100,101,102],Qh=/web-(\d)/,Wr=function(e){function t(e,i){var o=2<arguments.length&&void 0!==arguments[2]&&arguments[2];W(this,t);var a=r.call(this,i,"AccessPoint");return m(n(a),"handleUniLbsError",(function(e,t){var n=e;if(4<e.toString().length){var r=e.toString().padStart(8,"0"),i=parseInt(r.slice(0,4),10);if(r=parseInt(r.slice(4,8),10),201===i)n=r;else if(101===i&&!QC.includes(r))return Z(Error("service is currently unavailable"))}if(i=n.toString(),!Object.keys(Vr).includes(i))return(e=new da(["Login is rejected by the server. The response code is %d",e],jg)).serverCode=n,Z(e);switch(i=Vr[i],n=PC[i],i){case"INVALID_APP_ID":case"APP_ID_NO_ACTIVATED":return(t=new Ye(n,$q)).serverCode=e,Z(t);case"INVALID_USER_ID":return(t=new Ye(n,Jh)).serverCode=e,Z(t);case"TOKEN_EXPIRED":case"TOKEN_TIMEOUT":return(t=new Ye(n,Kh)).serverCode=e,Z(t);case"NO_AUTHORIZED":case"INVALID_TOKEN_UID":case"DYNAMIC_KEY_NOT_ENABLED":case"DYNAMIC_ENABLED_BUT_STATIC_KEY":return(t=new Ye(n,ar)).serverCode=e,Z(t);case"CANNOT_MEET_AREA_DEMAND":return(t=OC(t)).forEach((function(e){return a.failedAreas.add(e)})),a.failedAreas.size===(void 0===M?2:M.CODES.size)?((t=new I(n,jg)).serverCode=e,Z(t)):Z(Error("ap ".concat(t.join(", ")," cannot meet requirement")));case"FORBIDDEN_REGION":return(t=new da(n,jg)).serverCode=e,Z(t);default:return Z(Im("ApResErrType",i))}})),m(n(a),"getApEdgeInfo$",void 0),m(n(a),"getApEdgeInfoEndFirst$",void 0),m(n(a),"apFinish$",new Pa),m(n(a),"retryCount",0),m(n(a),"failedAreas",new Set),m(n(a),"usedUrl",[]),m(n(a),"newDomainUsed",!1),m(n(a),"backupNewDomainUsed",!1),m(n(a),"genUrl",(function(){return void 0===M?mi.apply(void 0,G($e([KC,LC]))).pipe(ni((function(e){return bb.apply(void 0,G(e))}))):bb.apply(void 0,G(M.AP_DOMAINS.slice(0,3).map($d)))})),m(n(a),"genBackupUrl",(function(){return void 0===M?mi.apply(void 0,G($e([MC,NC]))).pipe(ni((function(e){return bb.apply(void 0,G(e))}))):bb.apply(void 0,G(M.AP_BACKUP_DOMAINS.slice(0,3).map($d)))})),m(n(a),"getApUrl$",(function(e){var n,r;return a.genUrl().pipe(wb((function(e){return!(a.newDomainUsed&&e.includes("sd-rtn.com")||(e.includes("sd-rtn.com")&&(a.newDomainUsed=!0),dl(a.usedUrl,(function(t){var n;return t===(null===(n=e.match(Qh))||void 0===n?void 0:n[1])}))))})),ca((function(e){var t;void 0===M&&"string"==typeof(e=null===(t=e.match(Qh))||void 0===t?void 0:t[1])&&a.usedUrl.push(e)})),Ka(e?Math.max(Nc.RECONNECTING_AP_NUM,null!==(n=null==M?void 0:M.CODES.size)&&void 0!==n?n:0):null!==(r=null==M?void 0:M.CODES.size)&&void 0!==r?r:2),Dd((function(){return t.runOutOfUrlSymbol})),Ga((function(e,n){return a.newDomainUsed=!1,e===t.runOutOfUrlSymbol?(a.usedUrl=[],n):Z(e)})))})),m(n(a),"getBackupApUrl$",(function(e){var n,r;return a.genBackupUrl().pipe(wb((function(e){return!(a.backupNewDomainUsed&&e.includes("sd-rtn.com")||(e.includes("sd-rtn.com")&&(a.backupNewDomainUsed=!0),dl(a.usedUrl,(function(t){var n;return t===(null===(n=e.match(Qh))||void 0===n?void 0:n[1])}))))})),ca((function(e){var t;void 0===M&&"string"==typeof(e=null===(t=e.match(Qh))||void 0===t?void 0:t[1])&&a.usedUrl.push(e)})),Ka(e?Math.max(Nc.RECONNECTING_AP_NUM,null!==(n=null==M?void 0:M.CODES.size)&&void 0!==n?n:0):null!==(r=null==M?void 0:M.CODES.size)&&void 0!==r?r:2),Dd((function(){return t.runOutOfUrlSymbol})),Ga((function(e,n){return a.backupNewDomainUsed=!1,e===t.runOutOfUrlSymbol?(a.usedUrl=[],n):Z(e)})))})),m(n(a),"getProxyApUrl$",(function(e){var t,n;return bb.apply(void 0,G(((null==M?void 0:M.PROXY_AP.slice(0,3))||["ap-proxy-1.agora.io","ap-proxy-2.agora.io"]).map($d))).pipe(Ka(e?Math.max(Nc.RECONNECTING_AP_NUM,null!==(t=null==M?void 0:M.CODES.size)&&void 0!==t?t:0):null!==(n=null==M?void 0:M.CODES.size)&&void 0!==n?n:2))})),m(n(a),"context",void 0),m(n(a),"fetchCloudProxy",(function(e,t){var n=Ai("AP-",a.loggerId);a.log("The AccessPoint requests %s(%s)",e,n);var r=new AbortController;return a.apFinish$.pipe(Ka(1)).subscribe((function(){return r.abort()})),ad(J(w.mark((function i(){var o;return w.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return o=Ag(0,Number.MAX_SAFE_INTEGER),a.log("%s request opid: %d",n,o),i.abrupt("return",te(e,{headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"90","Content-Type":"application/json"},body:{sid:a.context.sid,opid:o,appid:a.context.appId,client_ts:Math.ceil(Date.now()/1e3),request_bodies:[{uri:22,buffer:{service_ids:[7,16],key:null!=t?t:a.context.key,cname:a.context.uid,uid:0,detail:ua({},void 0===M?{11:[F.CHINA,F.GLOBAL].join()}:{11:Array.from(M.CODES).map((function(e){return e===F.OVERSEA?"".concat(F.ASIA,",").concat(F.EUROPE,",").concat(F.AFRICA,",").concat(F.NORTH_AMERICA,",").concat(F.SOUTH_AMERICA,",").concat(F.OCEANIA):e})).join(",")})}}]},signal:r.signal}));case 3:case"end":return i.stop()}}),i)})))).pipe(Ga((function(t){return"AbortError"!==t.name&&(a.logError(t),a.warn("The AP server %s request failure",e,t)),vb})),cb(function(){var t=J(w.mark((function t(r){var i,o,s,c,u,l,d,h,p,f,A,g,m,v,y,E,b,_,C;return w.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=r.responseText,o=JSON.parse(i),a.log("The %s response is %o",n,o),(void 0===(s=o.response_body)||0===s.length||s.some((function(e){var t;return void 0===(null===(t=e.buffer)||void 0===t?void 0:t.code)||23!==e.uri})))&&Z(new da("cloud proxy response_body not valid",jg)),0===(c=s.filter((function(e){return 0!==e.buffer.code}))).length){t.next=14;break}if(void 0===(u=c.find((function(e){return 128===e.buffer.flag})))){t.next=12;break}return t.abrupt("return",a.handleUniLbsError(u.buffer.code,e));case 12:return a.logError("cloud proxy error response"),t.abrupt("return",a.handleUniLbsError(c[0].buffer.code,e));case 14:for(l=[],d=0;d<s.length;d++)if(262144===(null==(f=s[d])||null===(h=f.buffer)||void 0===h?void 0:h.flag))null===(A=f.buffer)||void 0===A||null===(g=A.edges_services)||void 0===g||null===(m=g.forEach)||void 0===m||m.call(g,(function(e){Gm(e=e.ip)&&-1===a.context.cloudProxyServers.indexOf(e)&&(a.log("got cloud proxy server: %s",e),a.context.cloudProxyServers.push(e))}));else if(128===(null==f||null===(p=f.buffer)||void 0===p?void 0:p.flag)){for(b=function(e,t){var n=t[e];l.some((function(e){return e.ip===n.ip}))||l.push({ip:n.ip,ticket:f.buffer.cert})},_=0,C=f.buffer.edges_services;_<C.length;_++)b(_,C);a.context.rtmArea=null!==(v=null===(y=f.buffer)||void 0===y||null===(E=y.detail)||void 0===E?void 0:E[9])&&void 0!==v?v:""}return t.abrupt("return",bb.apply(void 0,G(l).concat([fg])));case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Ga((function(e){return sa(e)?Z(e):vb})),tg(),wb((function(e){return void 0!==e&&"string"==typeof e.ip&&"string"==typeof e.ticket})))})),m(n(a),"fetchAp",(function(e,t){var n=Ai("AP-",a.loggerId);a.log("The AccessPoint requests %s(%s)",e,n);var r=new AbortController;return a.apFinish$.pipe(Ka(1)).subscribe((function(){return r.abort()})),ad(J(w.mark((function i(){var o;return w.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return o=Ag(0,Number.MAX_SAFE_INTEGER),a.log("%s request opid: %d",n,o),i.abrupt("return",te(e,{headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"69","Content-Type":"application/json"},body:{flag:128,opid:o,key:t||a.context.key,cname:a.context.uid,detail:ua({},void 0===M?{11:[F.CHINA,F.GLOBAL].join()}:{11:Array.from(M.CODES).map((function(e){return e===F.OVERSEA?"".concat(F.ASIA,",").concat(F.EUROPE,",").concat(F.AFRICA,",").concat(F.NORTH_AMERICA,",").concat(F.SOUTH_AMERICA,",").concat(F.OCEANIA):e})).join(",")}),uid:0,sid:a.context.sid},signal:r.signal}));case 3:case"end":return i.stop()}}),i)})))).pipe(Ga((function(t){return"AbortError"!==t.name&&(a.logError(t),a.warn("The AP server %s request failure",e,t)),vb})),cb(function(){var t=J(w.mark((function t(r){var i,o,s,c,u,l,d;return w.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=r.responseText,o=JSON.parse(i),a.log("The %s response is %o",n,o),c=(s=o).code,u=s.addresses,l=s.detail,0===c){t.next=6;break}return t.abrupt("return",a.handleUniLbsError(c,e));case 6:if(0!==(d=u).length){t.next=11;break}return t.abrupt("return",Z(Error("No available edge address to connect")));case 11:return a.context.rtmArea=null==l?void 0:l[9],t.abrupt("return",bb.apply(void 0,G(d).concat([fg])));case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),tg(),Ga((function(e){return sa(e)?Z(e):vb})),wb((function(e){return void 0!==e&&"string"==typeof e.ip&&"string"==typeof e.ticket})))})),a.context=e,a.getApEdgeInfoEndFirst$=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return Bc(0,e||o?Nc.RECONNECTING_AP_INTERVAL:2e3).pipe(Ka(1),ca((function(){a.retryCount+=1})),cb((function(){return a.context.config.enableCloudProxy?a.getProxyApUrl$(e||o):(4<=a.retryCount&&(a.retryCount=0),3>=a.retryCount?a.getApUrl$(e||o):a.getBackupApUrl$(e||o))})),cb((function(e){return a.context.config.enableCloudProxy?a.fetchCloudProxy(e):a.fetchAp(e)})),Ga((function(e){return e instanceof pb&&a.warn("AP request timeout"),Z(e)})),om((function(e){return e.ip})),ob(a.apFinish$))},a.getApEdgeInfo$=function(e){return Bc(0,e||o?Nc.RECONNECTING_AP_INTERVAL:2e3).pipe(Ka(8),ca((function(){a.retryCount+=1})),cb((function(){return a.context.config.enableCloudProxy?a.getProxyApUrl$(e||o):3>=a.retryCount?a.getApUrl$(e||o):a.getBackupApUrl$(e||o)})),cb((function(e){return(a.context.config.enableCloudProxy?a.fetchCloudProxy(e):a.fetchAp(e)).pipe()})),Ga((function(e){return e instanceof pb&&a.warn("AP request timeout"),Z(e)})),om((function(e){return e.ip})),ob(a.apFinish$))},a}la(t,e);var r=ma(t);return Ha(t,[{key:"clearUp",value:function(){this.failedAreas.clear(),this.retryCount=0}}]),t}(tb());m(Wr,"runOutOfUrlSymbol",Symbol("AP urls are used up"));var Xr=Ph(),Yr=function(e){function t(e,i,o){W(this,t);var a=r.call(this,i,"Connection");m(n(a),"apClient",void 0),m(n(a),"lastOpenSockets",[new qe(1),new qe(1)]),m(n(a),"curOpenSockets",[void 0,void 0]),m(n(a),"ipIterator",0),m(n(a),"firstEnv",.5<=Math.random()?1:0),m(n(a),"firstSocketOpener",void 0),m(n(a),"secondSocketOpener",void 0),m(n(a),"firstOpenKeeperSubject",new Pa),m(n(a),"secondOpenKeeperSubject",new Pa),m(n(a),"edgeInfoReplayed",void 0),m(n(a),"firstEnvOpenSocket",void 0),m(n(a),"firstOpenKeeperSub",void 0),m(n(a),"secondOpenKeeperSub",void 0),m(n(a),"context",void 0),m(n(a),"logger",void 0),a.context=e,a.logger=i,a.apClient=new Wr(a.context,i),a.apClient.apFinish$.subscribe((function(){a.log("Ap client fetch finished")}));var s,c=[];return a.edgeInfoReplayed=a.apClient.getApEdgeInfo$(o).pipe(oe((function(e){return e.pipe(ca((function(e){if(sa(e))throw e})),cd(o?Zd.getParameter("RECONNECTING_AP_INTERVAL"):900),ob(Bc(2e4)))})),wb((function(e){return!dl(c,e)})),Dd((function(){return new Xr({AP_NO_AVAILABLE_EDGE:"No available edge address to connect"})})),ca((function(e){c.push(e),a.log("An edge info got %o",e)})),ca({error:function(e){a.emit("connectionInitFailure",e)}}),wg((function(){a.apClient.clearUp()})),sm()),a.firstEnvOpenSocket=a.edgeInfoReplayed.pipe(cb((function(e){if(void 0===e)return Z(Error("Invalid edge info"));var t=new ml(e.ip,a.firstEnv,e.ticket,a.context,i,s);return a.firstEnv=1===a.firstEnv?0:1,t.on("connectionFailure",(function(){return a.onSocketConnectionFailure(t)})),s=!t.useNewDomain,t.open$.pipe(qf(t))})),ca((function(e){a.log("The websocket of ENV_%d opened to %s:%d",e.env,e.ip,af[e.env]),a.curOpenSockets[e.env]=e,a.lastOpenSockets[e.env].next(e),a.firstEnv=e.env,a.openSecondSocket(e.env,e.ip,e.useNewDomain)})),Ka(1),pe()),a.firstSocketOpener=a.firstEnvOpenSocket.pipe(cb((function(e){return e.open$.pipe(ca((function(){a.log("The websocket of first ENV_%d re-opened to %s:%d",e.env,e.ip,af[e.env]),a.curOpenSockets[e.env]=e,a.lastOpenSockets[e.env].next(e)})))}))),e=a.firstOpenKeeperSubject.pipe(Cc(Yc)),a.firstOpenKeeperSub=e.subscribe({error:a.logError}),a}la(t,e);var r=ma(t);return Ha(t,[{key:"initConnection",value:function(){this.firstOpenKeeperSubject.next(this.firstSocketOpener)}},{key:"closeSocket",value:function(e,t){if(![0,1].includes(e))throw new Fa({INVALID_ENV:"The env argument is not 0 or 1"});var n=e===this.firstEnv?this.firstOpenKeeperSub:this.secondOpenKeeperSub;this.firstOpenKeeperSub=void 0;var r=this.curOpenSockets[e];this.curOpenSockets[e]=void 0,r&&(r.isActiveClose=!0,setTimeout((function(){r.close()}),t)),void 0!==n&&setTimeout((function(){null==n||n.unsubscribe()}),t)}},{key:"waitClosing",value:function(e){var t=this;return e.isActiveClose=!0,e.open$.pipe(tt(),Ga((function(e){return e.message===mr.normalClosureMessage?vb:Z(e)})),hb(5e3),Ga((function(n){return n instanceof pb?(t.warn("Force closing the ENV_%d connection",e.env),vb):Z(n)})))}},{key:"onSocketConnectionFailure",value:function(e){var t=[0,1].filter((function(t){return t!==e.env}))[0];(t=this.curOpenSockets[t])&&t.loggedIn?this.reopenSocketWithApRequest(e.env):this.emit("socketsFailure")}},{key:"openSecondSocket",value:function(e,t,n){var r=this,i=1===e?0:1;this.secondSocketOpener=this.edgeInfoReplayed.pipe(rm((function(e,t){return[].concat(G(e),[t])}),[]),ba((function(e){return kr(e,(function(e){return Jm(t,e.ip)})).slice(-1)[0]})),Ka(1),cb((function(e){if(void 0===e)return Z(Error("Invalid edge info"));var t=new ml(e.ip,i,e.ticket,r.context,r.logger,n);return t.on("connectionFailure",(function(){return r.onSocketConnectionFailure(t)})),t.open$.pipe(ca((function(){r.lastOpenSockets[i].next(t),r.curOpenSockets[i]=t})))})),pe()),this.secondOpenKeeperSub=this.secondOpenKeeperSubject.pipe(Cc(Yc)).subscribe({error:this.logError}),this.secondOpenKeeperSubject.next(this.secondSocketOpener)}},{key:"reopenSocketWithApRequest",value:function(e){var t=this,n=[0,1].filter((function(t){return t!==e}))[0];if(void 0!==(n=this.curOpenSockets[n])){var r,i=n.ip;n=this.apClient.getApEdgeInfoEndFirst$(!0).pipe(Dd((function(){return new Xr({AP_NO_AVAILABLE_EDGE:"No available edge address to connect"})})),oe((function(e){return e.pipe(ca((function(e){if(e.code===Kh)t.emit("tokenExpired"),t.apClient.apFinish$.next(void 0);else if(sa(e))throw e})),cd(Zd.getParameter("RECONNECTING_AP_INTERVAL")),ob(Bc(15e3)))})),ca((function(e){t.log("An edge info got %o",e)})),wg((function(){t.apClient.clearUp()}))).pipe(rm((function(e,t){return[].concat(G(e),[t])}),[]),ba((function(e){return(e=kr(e,(function(e){return Jm(i,e.ip)}))).length-1>=t.ipIterator?e.slice(-t.ipIterator++-1)[0]:(t.ipIterator=0,e.slice(-1)[0])})),Dd(),cb((function(n){if(void 0===n)return Z(Error("Invalid edge info"));var i=new ml(n.ip,e,n.ticket,t.context,t.logger,r);return i.on("connectionFailure",(function(){return t.onSocketConnectionFailure(i)})),r=!i.useNewDomain,i.open$.pipe(qf(i))})),ca((function(n){t.log("The websocket of ENV_%d re-opened to %s:%d using ap",n.env,n.ip,af[n.env]),t.curOpenSockets[e]=n,t.lastOpenSockets[e].next(n)})),cb((function(n){return n.open$.pipe(ca((function(){t.log("The websocket of ENV_%d re-opened to %s:%d",n.env,n.ip,af[n.env]),t.curOpenSockets[e]=n,t.lastOpenSockets[e].next(n)})))})),pe()),e===this.firstEnv?this.firstOpenKeeperSubject.next(n):this.secondOpenKeeperSubject.next(n)}}}]),t}(tb()),Xc=fc.Writer,na=fc.util,zc=fc.roots.default||(fc.roots.default={}),RC=zc.Session=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=na.Long?na.Long.fromBits(0,0,!1):0,e.prototype.elapse=na.Long?na.Long.fromBits(0,0,!1):0,e.prototype.appId="",e.prototype.ver="",e.prototype.buildno=0,e.prototype.installId="",e.prototype.os=0,e.prototype.did="",e.prototype.index=null,e.prototype.token="",e.prototype.version=0,e.prototype.subVersion=0,e.encode=function(e,t){return t||(t=Xc.create()),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(10).string(e.sid),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(18).string(e.userId),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(24).int64(e.lts),null!=e.elapse&&Object.hasOwnProperty.call(e,"elapse")&&t.uint32(32).int64(e.elapse),null!=e.appId&&Object.hasOwnProperty.call(e,"appId")&&t.uint32(42).string(e.appId),null!=e.ver&&Object.hasOwnProperty.call(e,"ver")&&t.uint32(50).string(e.ver),null!=e.buildno&&Object.hasOwnProperty.call(e,"buildno")&&t.uint32(56).int32(e.buildno),null!=e.installId&&Object.hasOwnProperty.call(e,"installId")&&t.uint32(66).string(e.installId),null!=e.os&&Object.hasOwnProperty.call(e,"os")&&t.uint32(128).int32(e.os),null!=e.did&&Object.hasOwnProperty.call(e,"did")&&t.uint32(138).string(e.did),null!=e.index&&Object.hasOwnProperty.call(e,"index")&&zc.Session.CommonIndex.encode(e.index,t.uint32(162).fork()).ldelim(),null!=e.token&&Object.hasOwnProperty.call(e,"token")&&t.uint32(170).string(e.token),null!=e.version&&Object.hasOwnProperty.call(e,"version")&&t.uint32(176).int32(e.version),null!=e.subVersion&&Object.hasOwnProperty.call(e,"subVersion")&&t.uint32(184).int32(e.subVersion),t},e.CommonIndex=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.index1="",e.prototype.index2="",e.prototype.index3="",e.encode=function(e,t){return t||(t=Xc.create()),null!=e.index1&&Object.hasOwnProperty.call(e,"index1")&&t.uint32(10).string(e.index1),null!=e.index2&&Object.hasOwnProperty.call(e,"index2")&&t.uint32(18).string(e.index2),null!=e.index3&&Object.hasOwnProperty.call(e,"index3")&&t.uint32(26).string(e.index3),t},e}(),e}(),SC=zc.Link=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=na.Long?na.Long.fromBits(0,0,!1):0,e.prototype.elapse=na.Long?na.Long.fromBits(0,0,!1):0,e.prototype.ec=0,e.prototype.sc=0,e.prototype.destServerIp="",e.prototype.ackedServerIp="",e.prototype.responseTime=0,e.encode=function(e,t){return t||(t=Xc.create()),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(10).string(e.sid),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(18).string(e.userId),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(24).int64(e.lts),null!=e.elapse&&Object.hasOwnProperty.call(e,"elapse")&&t.uint32(32).int64(e.elapse),null!=e.ec&&Object.hasOwnProperty.call(e,"ec")&&t.uint32(40).int32(e.ec),null!=e.sc&&Object.hasOwnProperty.call(e,"sc")&&t.uint32(48).int32(e.sc),null!=e.destServerIp&&Object.hasOwnProperty.call(e,"destServerIp")&&t.uint32(58).string(e.destServerIp),null!=e.ackedServerIp&&Object.hasOwnProperty.call(e,"ackedServerIp")&&t.uint32(66).string(e.ackedServerIp),null!=e.responseTime&&Object.hasOwnProperty.call(e,"responseTime")&&t.uint32(72).int32(e.responseTime),t},e}(),TC=zc.Logout=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=na.Long?na.Long.fromBits(0,0,!1):0,e.prototype.elapse=na.Long?na.Long.fromBits(0,0,!1):0,e.encode=function(e,t){return t||(t=Xc.create()),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(10).string(e.sid),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(18).string(e.userId),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(24).int64(e.lts),null!=e.elapse&&Object.hasOwnProperty.call(e,"elapse")&&t.uint32(32).int64(e.elapse),t},e}(),UC=zc.KickedOff=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=na.Long?na.Long.fromBits(0,0,!1):0,e.prototype.elapse=na.Long?na.Long.fromBits(0,0,!1):0,e.prototype.linkId=0,e.prototype.code=0,e.prototype.server="",e.prototype.serverCode=0,e.encode=function(e,t){return t||(t=Xc.create()),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(10).string(e.sid),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(18).string(e.userId),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(24).int64(e.lts),null!=e.elapse&&Object.hasOwnProperty.call(e,"elapse")&&t.uint32(32).int64(e.elapse),null!=e.linkId&&Object.hasOwnProperty.call(e,"linkId")&&t.uint32(48).int32(e.linkId),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(56).int32(e.code),null!=e.server&&Object.hasOwnProperty.call(e,"server")&&t.uint32(66).string(e.server),null!=e.serverCode&&Object.hasOwnProperty.call(e,"serverCode")&&t.uint32(72).int32(e.serverCode),t},e}(),VC=zc.ChnJoin=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=na.Long?na.Long.fromBits(0,0,!1):0,e.prototype.elapse=na.Long?na.Long.fromBits(0,0,!1):0,e.prototype.cname="",e.prototype.errCode=0,e.encode=function(e,t){return t||(t=Xc.create()),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(10).string(e.sid),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(18).string(e.userId),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(24).int64(e.lts),null!=e.elapse&&Object.hasOwnProperty.call(e,"elapse")&&t.uint32(32).int64(e.elapse),null!=e.cname&&Object.hasOwnProperty.call(e,"cname")&&t.uint32(50).string(e.cname),null!=e.errCode&&Object.hasOwnProperty.call(e,"errCode")&&t.uint32(56).int32(e.errCode),t},e}(),WC=zc.ChnJoinRes=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=na.Long?na.Long.fromBits(0,0,!1):0,e.prototype.elapse=na.Long?na.Long.fromBits(0,0,!1):0,e.prototype.cname="",e.prototype.errCode=0,e.prototype.serverErrCode=0,e.encode=function(e,t){return t||(t=Xc.create()),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(10).string(e.sid),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(18).string(e.userId),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(24).int64(e.lts),null!=e.elapse&&Object.hasOwnProperty.call(e,"elapse")&&t.uint32(32).int64(e.elapse),null!=e.cname&&Object.hasOwnProperty.call(e,"cname")&&t.uint32(50).string(e.cname),null!=e.errCode&&Object.hasOwnProperty.call(e,"errCode")&&t.uint32(56).int32(e.errCode),null!=e.serverErrCode&&Object.hasOwnProperty.call(e,"serverErrCode")&&t.uint32(64).int32(e.serverErrCode),t},e}(),XC=zc.ChnLeave=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=na.Long?na.Long.fromBits(0,0,!1):0,e.prototype.elapse=na.Long?na.Long.fromBits(0,0,!1):0,e.prototype.cname="",e.prototype.errCode=0,e.encode=function(e,t){return t||(t=Xc.create()),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(10).string(e.sid),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(18).string(e.userId),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(24).int64(e.lts),null!=e.elapse&&Object.hasOwnProperty.call(e,"elapse")&&t.uint32(32).int64(e.elapse),null!=e.cname&&Object.hasOwnProperty.call(e,"cname")&&t.uint32(50).string(e.cname),null!=e.errCode&&Object.hasOwnProperty.call(e,"errCode")&&t.uint32(56).int32(e.errCode),t},e}(),YC=zc.ConnectionStateChange=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=na.Long?na.Long.fromBits(0,0,!1):0,e.prototype.elapse=na.Long?na.Long.fromBits(0,0,!1):0,e.prototype.oldState=0,e.prototype.newState=0,e.prototype.reason=0,e.prototype.reconnId=0,e.encode=function(e,t){return t||(t=Xc.create()),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(10).string(e.sid),null!=e.userId&&Object.hasOwnProperty.call(e,"userId")&&t.uint32(18).string(e.userId),null!=e.lts&&Object.hasOwnProperty.call(e,"lts")&&t.uint32(24).int64(e.lts),null!=e.elapse&&Object.hasOwnProperty.call(e,"elapse")&&t.uint32(32).int64(e.elapse),null!=e.oldState&&Object.hasOwnProperty.call(e,"oldState")&&t.uint32(40).int32(e.oldState),null!=e.newState&&Object.hasOwnProperty.call(e,"newState")&&t.uint32(48).int32(e.newState),null!=e.reason&&Object.hasOwnProperty.call(e,"reason")&&t.uint32(56).int32(e.reason),null!=e.reconnId&&Object.hasOwnProperty.call(e,"reconnId")&&t.uint32(64).int32(e.reconnId),t},e}(),fu=Object.freeze({__proto__:null,Session:RC,Link:SC,Logout:TC,KickedOff:UC,ChnJoin:VC,ChnJoinRes:WC,ChnLeave:XC,ConnectionStateChange:YC,default:zc}),gu=Object.freeze({__proto__:null,Counter:1,ApiExec:154,Session:164,ApEvent:165,Link:166,Logout:167,TxMessage:168,RxMessage:169,KickedOff:170,TxMessageRes:171,ChnJoin:172,ChnJoinRes:173,ChnLeave:174,ChnGetMembers:175,ChnGetMembersRes:176,ChnMemberJoined:177,ChnMemberLeft:178,QueryPeersOnlineStatus:179,QueryPeersOnlineStatusRes:180,RenewToken:181,OperateAttribute:186,OperateAttributeRes:187,ApRequest:188,LinkTcpEvent:189,LinkLoginRequest:190,ConnectionStateChange:191,default:{Counter:1,ApiExec:154,Session:164,ApEvent:165,Link:166,Logout:167,TxMessage:168,RxMessage:169,KickedOff:170,TxMessageRes:171,ChnJoin:172,ChnJoinRes:173,ChnLeave:174,ChnGetMembers:175,ChnGetMembersRes:176,ChnMemberJoined:177,ChnMemberLeft:178,QueryPeersOnlineStatus:179,QueryPeersOnlineStatusRes:180,RenewToken:181,OperateAttribute:186,OperateAttributeRes:187,ApRequest:188,LinkTcpEvent:189,LinkLoginRequest:190,ConnectionStateChange:191}}),ZC=function(e){function t(e,i,o){return W(this,t),m(n(o=r.call(this,o,"Context")),"_token",void 0),m(n(o),"config",void 0),m(n(o),"_uid",void 0),m(n(o),"_sid",void 0),m(n(o),"_area","CN"),m(n(o),"appId",void 0),m(n(o),"enableCloudProxy",!1),m(n(o),"cloudProxyServers",[]),o.appId=e,o.config=i,o}la(t,e);var r=ma(t);return Ha(t,[{key:"token",set:function(e){this._token="string"==typeof e&&e?e:void 0}},{key:"uid",get:function(){if("string"==typeof this._uid&&this._uid)return this._uid;throw new Ia("Cannot get illegal uid")},set:function(e){if(this.log("The user ID is set to %s",oa(e)),!za(e))throw new Ia;this._uid=e}},{key:"key",get:function(){if("string"==typeof this._token&&this._token)return this._token;if("string"==typeof this.appId&&this.appId)return this.appId;throw new Ia("Cannot get illegal key")}},{key:"sid",get:function(){if("string"==typeof this._sid&&this._sid)return this._sid;throw new Ia("Cannot get illegal sid")},set:function(e){if(this.log("sid is set to %s",e),"string"!=typeof e||!e)throw new Ia;this._sid=e}},{key:"rtmArea",get:function(){if("string"==typeof this._area&&this._area)return this._area;throw new Ia("Cannot get illegal area")},set:function(e){this.log("area is set to %s",e),"string"==typeof e&&e?this._area=e:this.warn("set area failed")}}]),t}(tb()),$C=!!Fc&&R((function(){Fc.prototype.finally.call({then:function(){}},(function(){}))}));if(N({target:"Promise",proto:!0,real:!0,forced:$C},{finally:function(e){var t=kd(this,mc("Promise")),n="function"==typeof e;return this.then(n?function(n){return mj(t,e()).then((function(){return n}))}:e,n?function(n){return mj(t,e()).then((function(){throw n}))}:e)}}),"function"==typeof Fc){var Zr=mc("Promise").prototype.finally;Fc.prototype.finally!==Zr&&Ta(Fc.prototype,"finally",Zr,{unsafe:!0})}var aD=function(){var e=J(w.mark((function e(t){return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Uint8Array,e.next=3,crypto.subtle.digest("SHA-256",t);case 3:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$r=function(e){return Array.from(e).map((function(e){return e.toString(16).padStart(2,"0")})).join("")},bD=function(e){if("string"!=typeof e)throw new TypeError("Expected input to be a string");if(0!=e.length%2)throw new RangeError("Expected string to be an even number of characters");for(var t=new Uint8Array(e.length/2),n=0;n<e.length;n+=2)t[n/2]=parseInt(e.substring(n,n+2),16);return t},as=function(e){return btoa(String.fromCharCode.apply(String,G(e))).replace(/={1,2}$/,"")},bs=function(){var e=J(w.mark((function e(t){var n;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,crypto.subtle.digest("SHA-1",t);case 3:n=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n=sha1.arrayBuffer(t);case 9:return e.abrupt("return",as(new Uint8Array(n)));case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),cs=function(e,t,n,r){r[t]=!0,n.has(e)?n.get(e).add(t):n.set(e,new Set([t]))},cD=function(e){switch(e){case"89504E47":return"image/png";case"47494638":return"image/gif";case"25504446":return"application/pdf";case"FFD8FFDB":case"FFD8FFE0":case"FFD8FFE1":return"image/jpeg";case"504B0304":return"application/zip";default:return"application/octet-stream"}},ds=function(e){function t(e,i,o,a){W(this,t);var s=r.call(this,o,"ChunkDownloadManager");if(m(n(s),"abortController",new AbortController),m(n(s),"downloadedSize",0),m(n(s),"successCount",0),m(n(s),"timer",void 0),m(n(s),"chunks",[]),m(n(s),"retUnit",void 0),m(n(s),"singleThread",!1),m(n(s),"initialized",!1),m(n(s),"ee",void 0),m(n(s),"chunkCount",void 0),m(n(s),"aborted",!1),m(n(s),"serverToIndices",new Map),m(n(s),"backupToIndices",new Map),m(n(s),"indexToBackupServers",[]),m(n(s),"busyBackupServers",new Map),m(n(s),"downloadingChunks",new Set),m(n(s),"metaInfo",void 0),m(n(s),"transHandler",void 0),s.metaInfo=e,s.transHandler=i,s.ee=void 0===a?new ea:a,o=e.size,e=e.unit,0===o)throw new Ia("size cannot be 0");return void 0!==i.cancelSignal&&i.cancelSignal.addEventListener("abort",(function(){s.abortController.abort()}),{once:!0}),s.abortController.signal.addEventListener("abort",(function(){s.aborted=!0}),{once:!0}),s.chunkCount=Math.ceil(o/(32768*e)),s}la(t,e);var r=ma(t);return Ha(t,[{key:"setInfoByResponse",value:function(e){var t=this,n=e.serverList,r=e.backupList;if(e=e.unit,n.length<this.chunkCount&&r.length<this.chunkCount)throw new Ia("servers is not enough");this.updateProgress(0),this.initialized=!0;var i=Array(this.chunkCount).fill(!1);if(n.forEach((function(e,n){return e.forEach((function(e){return cs(e,n,t.serverToIndices,i)}))})),r.forEach((function(e,n){return e.forEach((function(e){return cs(e,n,t.backupToIndices,i)}))})),i.some((function(){return!1})))throw new da("Not enough servers to download",mg);this.indexToBackupServers=r.map((function(e){return new Set(e)})),this.retUnit=e}},{key:"downloadChunks",value:function(){this.aborted?this.warn("downloadChunks after abort, ignored"):1===this.serverToIndices.size&&0===Array.from(this.serverToIndices.keys())[0]?this.serversDownload(this.backupToIndices):1<=this.serverToIndices.size?this.serversDownload(this.serverToIndices,!0):this.ee.emit("error",new da("not enough servers to download",mg))}},{key:"updateProgress",value:function(e){var t=this,n=this.downloadedSize+e;this.downloadedSize>this.metaInfo.size?(this.warn("Invalid download size, overflowed"),this.ee.emit("error",new Wc("Invalid download size",mg))):(this.downloadedSize=n,void 0!==this.timer&&0!==e&&(clearTimeout(this.timer),this.timer=void 0),void 0===this.timer&&this.successCount!==this.chunkCount&&(this.timer=setTimeout((function(){t.ee.emit("timedOut"),t.abortController.abort()}),12e4)),this.initialized&&0===e||void 0===this.transHandler.onOperationProgress||this.transHandler.onOperationProgress({totalSize:this.metaInfo.size,currentSize:this.downloadedSize}))}},{key:"getPayload",value:function(){for(var e=0,t=0,n=this.chunks;t<n.length;t++)e+=n[t].byteLength;if(e!==this.metaInfo.size)throw new Ia("invalid chunks total size");e=new Uint8Array(e),n=t=0;for(var r=this.chunks;n<r.length;n++){var i=r[n];e.set(new Uint8Array(i),t),t+=i.byteLength}return t=Array.from(e.subarray(0,4)).map((function(e){return e.toString(16)})).join("").toUpperCase(),Zt(e.buffer,cD(t))}},{key:"getDownloadUrl",value:function(e){var t=this.metaInfo.useNewDomain?"sd-rtn.com":"agora.io";return"https://".concat(Dg(e).split(".").join("-"),".edge.").concat(t,":9601/api/v1/chuck/download")}},{key:"serversDownload",value:function(){var e=J(w.mark((function e(t){var n,r=this,i=arguments;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=1<i.length&&void 0!==i[1]&&i[1],e.next=3,Promise.all(Array.from(t.entries()).map((function(e){return e=ra(e,2),r.postDownloadRequest(e[0],Array.from(e[1]),n).catch((function(e){404===e.statusCode?(r.ee.emit("notExist"),r.abortController.abort()):"AbortError"!==e.name&&(Sa(e)?r.singleThread?(r.abortController.abort(),r.ee.emit("timedOut")):(r.warn("%d download timed out after %d, retrying use single thread",e.index,r.singleThread?6e4:3e4),r.abortController.abort(),r.singleThread=!0,r.ee.emit("multiTimeOut")):(r.ee.emit("error",e),r.abortController.abort()))}))})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"postDownloadRequest",value:function(){var e=J(w.mark((function e(t,n,r){var i,o,a,s,c,u,l,d,h,p=this;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h=function(){return(h=J(w.mark((function e(o){var a,h,p,f,A,g,m,v,y;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,void 0!==o||0!==t){e.next=5;break}throw new Ia("Invalid serverIp");case 5:a=void 0===o?l.getDownloadUrl(t):o;case 6:return l.downloadingChunks.add(i),e.next=9,u(a);case 9:return h=e.sent,p=h.responseData,l.downloadingChunks.delete(i),e.abrupt("return",p);case 15:if(e.prev=15,e.t0=e.catch(0),l.downloadingChunks.delete(i),n.unshift(i),l.metaInfo.useNewDomain=!1,"AbortError"!==e.t0.name){e.next=22;break}throw e.t0;case 22:if(!Sa(e.t0)){e.next=25;break}throw e.t0.index=i,e.t0;case 25:if(f=s,s+=1,!(2>f)){e.next=30;break}return e.t0 instanceof Ia||l.warn("%o, %d download failed, retrying",e.t0,i),e.abrupt("return",d());case 30:if(504!==e.t0.statusCode){e.next=34;break}throw(A=new db("download server timed out",{originalError:e.t0,serverCode:504})).index=i,A;case 34:if(!r||2!==f||0===c[0]){e.next=45;break}return e.t0 instanceof Ia||l.warn("%d download failed, using backup: %d, %o",i,c[0],e.t0),e.next=38,l.busyBackupServers.get(c[0]);case 38:return g=d(l.getDownloadUrl(c[0])),l.busyBackupServers.set(c[0],g),e.next=42,g;case 42:return m=e.sent,l.busyBackupServers.delete(c[0]),e.abrupt("return",m);case 45:if(!(r&&2<f&&void 0!==c[1]&&0!==c[1])){e.next=56;break}return l.warn("%d download failed, using backup 1: %d",i,c[1]),e.next=49,l.busyBackupServers.get(c[1]);case 49:return v=d(l.getDownloadUrl(c[1])),l.busyBackupServers.set(c[1],v),e.next=53,v;case 53:return y=e.sent,l.busyBackupServers.delete(c[1]),e.abrupt("return",y);case 56:throw e.t0.index=i,e.t0;case 58:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)},d=function(e){return h.apply(this,arguments)},!this.aborted){e.next=4;break}throw new Ia("download already aborted");case 4:if(void 0!==(i=n.shift())){e.next=8;break}return this.log("%s download finished",t),e.abrupt("return");case 8:if(!(this.singleThread&&0<this.downloadingChunks.size)){e.next=10;break}return e.abrupt("return");case 10:if(!this.downloadingChunks.has(i)){e.next=13;break}return this.log("%s already downloading, return",i),e.abrupt("return");case 13:if(void 0===this.chunks[i]){e.next=19;break}return this.successCount===this.chunkCount&&(this.log("chunks all download"),this.ee.emit("finished")),this.log("%s already downloaded, do next",i),e.next=18,this.postDownloadRequest(t,n,r);case 18:return e.abrupt("return");case 19:return o=new FormData,a={hash:hu(this.metaInfo.hashHexStr),unit:void 0===this.retUnit?this.metaInfo.unit:this.retUnit,instance:this.metaInfo.instance,loginOpt:this.metaInfo.loginOpt,ticket:this.metaInfo.ticket,index:i},o.append("parameter",JSON.stringify(a)),s=0,c=Array.from(this.indexToBackupServers[i]),u=function(e){return te(e,{body:o,signal:p.abortController.signal,timeout:p.singleThread?12e4:3e4},{useBinaryResponse:!0})},l=this,e.next=28,d().then((function(e){return void 0!==p.chunks[i]?p.log("chunk %d download duplicated",i):(p.chunks[i]=e,p.log("chunk %d downloaded",i),p.successCount+=1,p.updateProgress(p.chunks[i].byteLength)),p.successCount===p.chunkCount&&(p.log("chunks all download"),p.ee.emit("finished")),p.singleThread?(p.downloadChunks(),Promise.resolve()):p.postDownloadRequest(t,n,r)}));case 28:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()}]),t}(tb()),es=function(e){function t(e,i,o,a){W(this,t);var s=r.call(this,o,"ChunkUploadManager");if(m(n(s),"chunkCount",0),m(n(s),"chunks",[]),m(n(s),"uploadedChunks",[]),m(n(s),"totalFailures",0),m(n(s),"timer",void 0),m(n(s),"initState","uninitialized"),m(n(s),"ee",void 0),m(n(s),"unit",0),m(n(s),"uploadedSize",0),m(n(s),"singleThread",!1),m(n(s),"abortController",new AbortController),m(n(s),"servers",[]),m(n(s),"aborted",!1),m(n(s),"metaInfo",void 0),m(n(s),"transHandler",void 0),s.metaInfo=e,s.transHandler=i,s.ee=void 0===a?new ea:a,0===e.file.length)throw new I("file not found or is empty",wf);return void 0!==i.cancelSignal&&i.cancelSignal.addEventListener("abort",(function(){s.abortController.abort()}),{once:!0}),s.abortController.signal.addEventListener("abort",(function(){s.aborted=!0}),{once:!0}),s}la(t,e);var r=ma(t);return Ha(t,[{key:"initChunks",value:function(){var e=J(w.mark((function e(t){var n,r,i,o,a,s=this;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("initialized"!==this.initState&&"initializing"!==this.initState){e.next=2;break}throw new Ia("cannot re-initialize");case 2:for(this.initState="initializing",this.unit=t,n=this.sliceFile(t,this.metaInfo.file),this.chunkCount=n.length,r=[],i=function(e,t){var n=(e=ra(t[e],2))[0],i=e[1];e=bs(i).then((function(e){s.chunks[n]={payload:i,sha1:e,uploadedTo:void 0,index:n,processed:!1}})),r.push(e)},o=0,a=Array.from(n.entries());o<a.length;o++)i(o,a);return e.next=11,Promise.all(r);case 11:this.updateProgress(0),this.initState="initialized",this.log("upload chunks initialized");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"uploadToServers",value:function(){var e=this;if(!this.aborted){for(var t=this.chunks.filter((function(e){return!e.processed})),n=function(n){var r=t[n],i=e.servers.filter((function(e){return!e.isUploading})).sort((function(e,t){return e.successCount-t.successCount})).sort((function(e,t){return e.failureCount-t.failureCount}))[0];if(void 0===i||1<i.failureCount)return e.log("Upload server not available, waiting"),e.ee.emit("serverUsedUp"),Om(1e3).then((function(){e.totalFailures>2*e.chunkCount&&e.ee.emit("error"),e.totalFailures+=1,void 0!==i&&(i.failureCount=0),e.uploadToServers()})).catch((function(){})),"break";r.processed=!0,i.isUploading=!0,e.log("uploading chunk %d to server %s",r.index,Dg(i.ip));var o=e.getUploadUrl(i.ip);return J(w.mark((function t(){var n;return w.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.postChunk(r.payload,o,r.index);case 3:n=e.chunks.findIndex((function(e){return e===r})),r.uploadedTo=i.ip,e.chunks.splice(n,1),e.uploadedChunks.push(r),i.successCount+=1,i.isUploading=!1,e.updateProgress(r.payload.byteLength),e.log("upload chunk %d successfully",r.index),t.next=31;break;case 13:if(t.prev=13,t.t0=t.catch(0),i.isUploading=!1,r.processed=!1,504!==t.t0.statusCode&&!Sa(t.t0)){t.next=27;break}if(e.singleThread){t.next=24;break}return e.warn("%d upload timed out after %d, retrying use single thread",r.index,e.singleThread?12e4:3e4),e.abortController.abort(),e.singleThread=!0,e.ee.emit("multiTimeOut"),t.abrupt("return");case 24:return e.ee.emit("timedOut"),e.abortController.abort(),t.abrupt("return");case 27:return e.metaInfo.useNewDomain=!1,i.failureCount+=1,t.next=31,Om(1e3);case 31:e.uploadedChunks.length===e.chunkCount?(e.log("chunks uploaded"),e.ee.emit("finished")):(e.singleThread||1===e.chunks.filter((function(e){return!e.processed})).length)&&e.uploadToServers();case 32:case"end":return t.stop()}}),t,null,[[0,13]])})))(),e.singleThread?"break":void 0},r=0;r<t.length&&"break"!==n(r);r++);0===t.length&&this.uploadedChunks.length!==this.chunkCount&&this.log("%d chunks left uploading",this.chunkCount-this.uploadedChunks.length)}}},{key:"getUploadServerIPs",value:function(){var e=!0,t=[],n=G(this.uploadedChunks).sort((function(e,t){return e.index-t.index})),r=0;for(n=Array.from(n.values());r<n.length;r++){var i=n[r].uploadedTo;if(void 0===i){e=!1;break}t.push(i)}if(!e)throw new Ia("some chunks not uploaded, cannot get upload server ips");return t}},{key:"addServers",value:function(e){var t=this;e.forEach((function(e){var n=t.servers.findIndex((function(t){return t.ip===e}));-1!==n?t.servers[n].failureCount=0:(t.log("server %s added",Dg(e)),t.servers.push({successCount:0,isUploading:!1,ip:e,failureCount:0}))}))}},{key:"updateProgress",value:function(e){var t=this,n=void 0!==e?this.uploadedSize+e:this.metaInfo.file.length;n>this.metaInfo.file.length?(this.warn("Invalid upload size, overflowed"),this.ee.emit("error",new Wc("Invalid upload size",lg))):(this.uploadedSize=n,void 0!==this.timer&&0!==e&&(clearTimeout(this.timer),this.timer=void 0),void 0===this.timer&&void 0!==e&&this.uploadedChunks.length!==this.chunkCount&&(this.timer=setTimeout((function(){t.ee.emit("timedOut"),t.abortController.abort()}),12e4)),"initialized"===this.initState&&0===e||void 0===this.transHandler.onOperationProgress||this.transHandler.onOperationProgress({totalSize:this.metaInfo.file.length,currentSize:this.uploadedSize}))}},{key:"sliceFile",value:function(e,t){var n=0,r=[],i=t.length;for(e*=32768;n<i;)r.push(t.slice(n,n+e)),n+=e;return this.log("chunks split into %d",r.length),r}},{key:"postChunk",value:function(){var e=J(w.mark((function e(t,n,r){var i,o,a,s,c,u,l;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.aborted){e.next=2;break}throw new Ia("upload already aborted");case 2:if(void 0!==this.unit){e.next=4;break}throw new Ia("unit is undefined");case 4:return i=this.metaInfo,o=i.ticket,a=i.instance,s=i.loginOpt,c=i.hashStr,e.t0=r,e.t1=c,e.next=9,bs(t);case 9:return e.t2=e.sent,e.t3=this.unit,e.t4=o,e.t5=a,e.t6=s,u={index:e.t0,hash:e.t1,sha1:e.t2,unit:e.t3,ticket:e.t4,instance:e.t5,loginOpt:e.t6},(l=new FormData).append("parameter",JSON.stringify(u)),l.append("payload",new Blob([t])),e.next=20,te(n,{headers:{Accept:"application/json"},body:l,timeout:this.singleThread?12e4:3e4,signal:this.abortController.signal});case 20:if(201===e.sent.status){e.next=24;break}throw new da("uploading chunk ".concat(r," failed"));case 24:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"getUploadUrl",value:function(e){var t=this.metaInfo.useNewDomain?"sd-rtn.com":"agora.io";return"https://".concat(Dg(e).split(".").join("-"),".edge.").concat(t,":9601/api/v1/chuck/upload")}}]),t}(tb()),fs=function(e){function t(e){W(this,t);var i=r.call(this,e,"MediaTaskManager");return m(n(i),"isProcessing",!1),m(n(i),"authInfo",void 0),m(n(i),"taskFinishers",{}),m(n(i),"mediaTasks",new Map),m(n(i),"ongoingTask",void 0),i.on("connectionStateChanged",(function(e){if(e===S.ConnectionState.ABORTED||e===S.ConnectionState.DISCONNECTED){void 0!==i.ongoingTask&&i.cancelTask(i.ongoingTask),e=0;for(var t=Array.from(i.mediaTasks.entries());e<t.length;e++){var n=ra(t[e],2)[1];i.cancelTask(n)}i.mediaTasks.clear(),i.taskFinishers={}}else e===S.ConnectionState.RECONNECTING?void 0!==i.ongoingTask&&i.ongoingTask.manager.abortController.abort():e===S.ConnectionState.CONNECTED&&void 0!==i.ongoingTask&&i.ongoingTask.manager.ee.emit("reconnected")})),i}la(t,e);var r=ma(t);return Ha(t,[{key:"setAuthInfo",value:function(e){this.authInfo=e}},{key:"waitMediaTask",value:function(e){var t=this;return new Promise((function(n,r){t.taskFinishers[e]={resolve:n,reject:r},t.isProcessing||t.processMediaTask()})).finally((function(){void 0!==t.ongoingTask&&void 0!==t.ongoingTask.manager.timer&&clearTimeout(t.ongoingTask.manager.timer),delete t.taskFinishers[e],0!==t.mediaTasks.size?t.processMediaTask():t.isProcessing=!1}))}},{key:"addUploadTask",value:function(e,n,r,i){var o=e.file;if(e=e.hash,void 0===this.authInfo)throw new Ia("session not found");if(this.mediaTasks.size>=t.MAX_PENDING_TASK_COUNT-1)throw new ib("Upload media failed, exceed max pending jobs",xA);return i=new es({hashStr:as(e),file:o,ticket:this.authInfo.ticket,instance:this.authInfo.instance.toString(),loginOpt:this.authInfo.loginOpt.toString(),useNewDomain:this.authInfo.useNewDomain},i,this.logger),o=Ud(),this.mediaTasks.set(o,{type:"UPLOAD",manager:i,hash:e,setter:r,fetcher:n,taskId:o}),o}},{key:"addDownloadTask",value:function(e,n,r){var i=e.hashHexStr,o=e.size,a=e.unit;if(e=e.zone,void 0===this.authInfo)throw new Ia("session not found");if(this.mediaTasks.size>=t.MAX_PENDING_TASK_COUNT-1)throw new ib("Download media failed, exceed max pending jobs",BA);return r=new ds({hashHexStr:i,ticket:this.authInfo.ticket,useNewDomain:this.authInfo.useNewDomain,instance:this.authInfo.instance.toString(),loginOpt:this.authInfo.loginOpt.toString(),size:o,zone:e,unit:a},r,this.logger),i=Ud(),this.mediaTasks.set(i,{type:"DOWNLOAD",manager:r,fetcher:n,taskId:i}),i}},{key:"doDownloadTaskImpl",value:function(){var e=J(w.mark((function e(t,n){var r,i,o,a,s,c,u,l,d=this,h=arguments;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=2<h.length&&void 0!==h[2]&&h[2],o=i=t.manager,r&&(i=new ds(o.metaInfo,o.transHandler,this.logger,o.ee)),a=t.fetcher,e.next=7,a();case 7:if(s=e.sent,c=s.serverList,u=s.backupList,l=s.unit,!r||l===o.retUnit){e.next=13;break}throw new da("download unit is different, reject to continue",mg);case 13:r&&(t.manager=i,i.downloadedSize=o.downloadedSize,i.successCount=o.successCount,i.timer=o.timer,i.chunks=o.chunks,i.initialized=o.initialized,i.singleThread=o.singleThread,i.updateProgress(0)),i.ee.once("reconnected",(function(){i.ee.removeAllListeners(),d.doDownloadTaskImpl(t,n,!0).catch((function(e){n.reject(e)}))})),i.ee.once("multiTimeOut",(function(){i.ee.removeAllListeners(),d.doDownloadTaskImpl(t,n,!0).catch((function(e){n.reject(e)}))})),i.ee.once("error",(function(e){i.ee.removeAllListeners(),n.reject(new da(["download file file, index %d",e.index],{code:mg,originalError:e}))})),i.ee.once("notExist",(function(){i.abortController.abort(),i.ee.removeAllListeners(),n.reject(new da("download file not found",AA))})),i.ee.once("timedOut",(function(){i.ee.removeAllListeners(),i.abortController.abort(),n.reject(new db("download timed out",zA))})),void 0!==i.transHandler.cancelSignal&&i.transHandler.cancelSignal.addEventListener("abort",(function(){n.reject(new hl("Downloading canceled",ir))}),{once:!0}),i.ee.once("finished",(function(){n.resolve({type:"DOWNLOAD",payload:i.getPayload()})})),i.setInfoByResponse({serverList:c,backupList:u,unit:l}),i.downloadChunks();case 23:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"doDownloadTask",value:function(e,t){var n=this,r=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=e.taskId;return r||(this.mediaTasks.delete(i),this.ongoingTask=e),new Promise((function(i,o){n.doDownloadTaskImpl(e,t,r).then(i).catch(o)}))}},{key:"doUploadTaskImpl",value:function(){var e=J(w.mark((function e(t,n){var r,i,o,a,s,c,u,l,d=this,h=arguments;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=2<h.length&&void 0!==h[2]&&h[2],o=i=t.manager,r&&(i=new es(o.metaInfo,o.transHandler,this.logger,o.ee)),a=t.fetcher,s=new Pa,u=new Promise((function(e,u){var l=a(),d=l.ret,h=l.err,p=l.timeout;l.fin.pipe(ob(s)).subscribe({next:function(e){n.resolve({type:"UPLOAD",retUnit:e.unit,zone:e.zone})},complete:function(){e({hasExist:!0}),s.next(),s.complete()}}),d.pipe(ob(s),cb(function(){var e=J(w.mark((function e(a){var s,u;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=a.servers,u=a.unit,r&&o.unit!==u?n.reject(new da("upload unit is different, reject to continue",lg)):r&&(t.manager=i,i.chunkCount=o.chunkCount,i.chunks=o.chunks,i.totalFailures=o.totalFailures,i.uploadedChunks=o.uploadedChunks,i.timer=o.timer,i.initState=o.initState,i.unit=o.unit,i.uploadedSize=o.uploadedSize,i.singleThread=o.singleThread,i.updateProgress(0)),i.addServers(s),"uninitialized"!==i.initState){e.next=7;break}return c=i.initChunks(u),e.next=7,c;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).subscribe({complete:function(){return e({hasExist:!1})},error:u}),l=function(t){"uninitialized"!==i.initState&&c?e(c.then((function(){return{hasExist:!1}}))):u(t)},h.pipe(ob(s)).subscribe({error:l}),p.pipe(ob(s)).subscribe({error:l})})),e.next=9,u;case 9:if(!e.sent.hasExist){e.next=15;break}return i.updateProgress(),this.log("file already exists, skipping upload"),e.abrupt("return");case 15:s.next(),s.complete(),this.log("chunks initialization promise resolved"),l=gb(i.ee,"serverUsedUp").pipe(Gt((function(){return i.chunkCount!==i.uploadedChunks.length})),Jt(5e3,void 0,{leading:!1}),pm((function(){return a().ret}))).subscribe((function(e){i.addServers(e.servers)})),i.ee.once("reconnected",(function(){i.ee.removeAllListeners(),d.doUploadTask(t,n,!0).catch((function(e){n.reject(e)}))})),i.ee.once("multiTimeOut",(function(){i.ee.removeAllListeners(),d.doUploadTask(t,n,!0).catch((function(e){n.reject(e)}))})),i.ee.once("timedOut",(function(){l.unsubscribe(),i.ee.removeAllListeners(),i.abortController.abort(),n.reject(new db("upload timed out",Lh))})),i.ee.once("error",(function(e){l.unsubscribe(),i.ee.removeAllListeners(),i.abortController.abort(),n.reject(e||new da("upload error",lg))})),void 0!==i.transHandler.cancelSignal&&i.transHandler.cancelSignal.addEventListener("abort",(function(){n.reject(new hl("Uploading canceled",hr))}),{once:!0}),i.ee.once("finished",J(w.mark((function e(){var r,o,a;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.unsubscribe(),e.next=3,t.setter(i.unit,i.getUploadServerIPs());case 3:r=e.sent,o=r.zone,a=r.unit,i.ee.removeAllListeners(),n.resolve({type:"UPLOAD",retUnit:a,zone:o});case 8:case"end":return e.stop()}}),e)})))),i.uploadToServers();case 26:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"doUploadTask",value:function(e,t){var n=this,r=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=e.taskId;return r||(this.mediaTasks.delete(i),this.ongoingTask=e),new Promise((function(i,o){n.doUploadTaskImpl(e,t,r).then(i).catch(o)}))}},{key:"processMediaTask",value:function(){var e=J(w.mark((function e(){var t,n,r;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.mediaTasks.size){e.next=2;break}throw Error("no upload tasks");case 2:if(this.isProcessing=!0,t=this.mediaTasks.keys().next().value,void 0!==(n=this.taskFinishers[t])){e.next=7;break}throw Error("top task not found");case 7:if(void 0!==(r=this.mediaTasks.get(t))){e.next=10;break}throw new Ia("task invalid");case 10:if("UPLOAD"!==r.type){e.next=15;break}return e.next=13,this.doUploadTask(r,n).catch((function(e){r.manager.ee.removeAllListeners(),n.reject(e)}));case 13:e.next=18;break;case 15:if("DOWNLOAD"!==r.type){e.next=18;break}return e.next=18,this.doDownloadTask(r,n).catch((function(e){r.manager.ee.removeAllListeners(),n.reject(e)}));case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancelTask",value:function(e){var t="DOWNLOAD"===e.type?ir:hr;e.manager.ee.removeAllListeners(),e.manager.abortController.abort(),void 0!==this.taskFinishers[e.taskId]&&this.taskFinishers[e.taskId].reject(new hl("User logged out or kicked off, media task canceled",t))}}]),t}(tb());m(fs,"MAX_PENDING_TASK_COUNT",9),Oo("of",(function(){for(var e=0,t=arguments.length,n=new(Ne(this))(t);t>e;)n[e]=arguments[e++];return n}),Dj);var gs=1/0,dD=Math.max,ju=function(e,t,n){var r=Object(e);if(!Ed(e)){var i=Te(t);e=Ad(e),t=function(e){return i(r[e],e,r)}}return-1<(t=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;if(null==n)n=0;else{var i=(n=n?(n=gl(n))===gs||n===-gs?17976931348623157e292*(0>n?-1:1):n==n?n:0:0===n?n:0)%1;n=n==n?i?n-i:n:0}return 0>n&&(n=dD(r+n,0)),Xp(e,Te(t),n)}(e,t,n))?r[i?e[t]:t]:void 0},iu=function(e,t){return e&&e.length?vk(e,void 0,"function"==typeof t?t:void 0):[]},hs=function(){function e(){W(this,e),m(this,"size",0),m(this,"fields",new Map)}return Ha(e,[{key:"define",value:function(e,t,n){if(this.size+=n,64<this.size)throw new RangeError("the struct over 64 bits is not supported");Mg(t={val:0,isNumber:"number"===t,isBoolean:"boolean"===t,oneof:"number"===t||"boolean"===t?void 0:t,len:n}),this.fields.set(e,t)}},{key:"set",value:function(e,t){if(!(e=this.fields.get(e)))throw Error("field not found");var n=e.oneof;if(!U.isLong(t)&&"number"!=typeof t)if("boolean"==typeof t)t=t?1:0;else{if(void 0===n)throw Error("invalid field type");if(void 0===(t=n[t]))throw Error("field type not found")}Mg(e,t),e.val=t}},{key:"toNumber",value:function(){for(var e=0,t=0,n=0,r=Array.from(this.fields);n<r.length;n++){var i=ra(r[n],2)[1],o=i.len;void 0!==(i=i.val)&&(e+=U.fromValue(i).shiftLeft(t).toNumber(),t+=o)}return e}},{key:"toLong",value:function(){for(var e=U.fromNumber(0,!0),t=0,n=0,r=Array.from(this.fields);n<r.length;n++){var i=ra(r[n],2)[1],o=i.len;void 0!==(i=i.val)&&(e=U.fromValue(i).shiftLeft(t).add(e),t+=o)}return e}},{key:"assert",value:function(e,t){function n(e){if(!U.isLong(e)&&"number"!=typeof e)if("boolean"==typeof e)e=e?1:0;else{if(void 0===i)throw Error("invalid field type");if(void 0===(e=i[e]))throw Error("field type not found")}return Mg(r,e),Lg(e,r.val)}var r=this.fields.get(e);if(!r)throw Error("field not found");var i=r.oneof;if(!Array.isArray(t))return n(t);if(1===t.length)return n(t[0]);if(t.every((function(e){return"string"==typeof e}))&&void 0!==i)return t.some((function(e){return n(e)}));throw Error("invalid valueTypes")}},{key:"from",value:function(e){e=U.fromValue(e);for(var t=0,n=0,r=Array.from(this.fields);n<r.length;n++){var i=ra(r[n],2)[1],o=i.len,a=U.fromNumber(Math.pow(2,o)-1,!0).shiftLeft(t);Mg(i,a=e.and(a).shiftRightUnsigned(t)),i.val=a,t+=o}}},{key:"typeOf",value:function(e){if(void 0!==(e=this.fields.get(e))){var t=e.oneof;if(e=e.val,void 0!==t){var n=0;for(t=Object.entries(t);n<t.length;n++){var r=ra(t[n],2),i=r[0];if(Lg(e,r[1]))return i}}}throw new TypeError("can only get type of oneof type")}}]),e}(),is=function(e){function t(e){W(this,t);var r=n.call(this);return r.define("Rejoin","boolean",1),r.define("Unused","number",31),r.define("Platform","number",8),r.define("Version","number",12),r.define("Subversion","number",12),r.set("Platform",7),r.set("Version",4),r.set("Subversion",203),r.set("Rejoin",e),r}la(t,e);var n=ma(t);return t}(hs),eD=ua(ua(ua(ua({},{PeerTextMessage:0,ChannelTextMessage:1,VendorTextMessage:2}),{PeerRawMessage:3,ChannelRawMessage:4,VendorRawMessage:5}),{PeerImageMessage:6,ChannelImageMessage:7,VendorImageMessage:8}),{PeerFileMessage:15,ChannelFileMessage:16,VendorFileMessage:17}),js={CallInvite:101,CallAccept:102,CallReject:103,CallCancel:104},fD=ua(ua({},eD),js),gD={Uncompressed:0,Zlib:1},ae=function(e){function t(e){W(this,t);var r=n.call(this);if(r.define("MessageType",fD,8),r.define("BroadcastJumps","number",2),r.define("ToCache","boolean",1),r.define("FromCache","boolean",1),r.define("CompressionMethod",gD,2),r.define("IterationNumber","number",4),r.define("BufferedMessage","boolean",1),r.define("ToArchive","boolean",1),r.define("FromArchive","boolean",1),"number"==typeof e||U.isLong(e))r.from(e);else if(void 0!==e){var i=0;for(e=Hg(e);i<e.length;i++){var o=ra(e[i],2);r.set(o[0],o[1])}}return r}la(t,e);var n=ma(t);return Ha(t,[{key:"isTextMessage",value:function(){return this.assert("MessageType",["PeerTextMessage","ChannelTextMessage","VendorTextMessage"])}},{key:"isRawMessage",value:function(){return this.assert("MessageType",["ChannelRawMessage","PeerRawMessage","VendorRawMessage"])}},{key:"isRawPeerMessage",value:function(){return this.assert("MessageType","PeerRawMessage")}},{key:"isRawChannelMessage",value:function(){return this.assert("MessageType","ChannelRawMessage")}},{key:"isPeerTextMessage",value:function(){return this.assert("MessageType","PeerTextMessage")}},{key:"isChannelTextMessage",value:function(){return this.assert("MessageType","ChannelTextMessage")}},{key:"isInvitation",value:function(e){var t=this;return void 0!==e?this.assert("MessageType",e):xf(js).some((function(e){return t.assert("MessageType",e)}))}},{key:"isFileMessage",value:function(){return this.assert("MessageType",["PeerFileMessage","ChannelFileMessage","VendorFileMessage"])}},{key:"isImageMessage",value:function(){return this.assert("MessageType",["PeerImageMessage","ChannelImageMessage","VendorImageMessage"])}},{key:"isPeerMessage",value:function(){return this.assert("MessageType",["PeerFileMessage","PeerTextMessage","PeerImageMessage","PeerRawMessage"])}},{key:"isZlibCompressed",value:function(){return this.assert("CompressionMethod","Zlib")}},{key:"isFromCache",value:function(){return this.assert("FromCache",!0)}},{key:"isBufferedMessage",value:function(){return this.assert("BufferedMessage",!0)}},{key:"getInvitationType",value:function(){if(!this.isInvitation())throw new TypeError("cannot get InvitationType of a normal message type");return this.typeOf("MessageType")}}]),t}(hs),hD=function(e){function t(e){return W(this,t),m(n(e=r.call(this,e,"ChatManager")),"dialogueLru",new Sx(void 0,{maxlen:1e4,ttl:1e4})),e}la(t,e);var r=ma(t);return Ha(t,[{key:"getChatInfo",value:function(e){var t=this.dialogueLru.get(e);if(this.dialogueLru.prune(),t){var n=t.dialogue,r={dialogue:n,sequence:t=t.sequence.add(1)};return this.dialogueLru.set(e,{dialogue:n,sequence:t}),r}return n={dialogue:Bg(),sequence:U.fromNumber(1,!0)},this.dialogueLru.set(e,n),n}}]),t}(tb()),v={};"object"==X(module)&&(module.exports=v),v.parse=function(e,t){var n,r=v.bin.readUshort,i=v.bin.readUint,o={};for(n=(e=new Uint8Array(e)).length-4;101010256!=i(e,n);)n--;var a=r(e,n=n+4+4);r(e,n+=2),i(e,n+=2),n=i(e,n+=4);for(var s=0;s<a;s++){i(e,n),n+=4,n+=4,n+=4,i(e,n+=4);var c=i(e,n+=4),u=i(e,n+=4),l=r(e,n+=4),d=r(e,n+2),h=r(e,n+4);n+=6;var p=i(e,n+=8);n+=4,n+=l+d+h,v._readLocal(e,p,o,c,u,t)}return o},v._readLocal=function(e,t,n,r,i,o){var a=v.bin.readUshort,s=v.bin.readUint;s(e,t),a(e,t+=4),a(e,t+=2);var c=a(e,t+=2);s(e,t+=2),s(e,t+=4),s=a(e,t=t+4+8);var u=a(e,t+=2);if(t+=2,a=v.bin.readUTF8(e,t,s),t=t+s+u,o)n[a]={size:i,csize:r};else if(e=new Uint8Array(e.buffer,t),0==c)n[a]=new Uint8Array(e.buffer.slice(t,t+r));else{if(8!=c)throw"unknown compression method: "+c;t=new Uint8Array(i),v.inflateRaw(e,t),n[a]=t}},v.inflateRaw=function(e,t){return v.F.inflate(e,t)},v.inflate=function(e,t){return e[0],e[1],v.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-2),t)},v.deflate=function(e,t){null==t&&(t={level:6});var n=0,r=new Uint8Array(50+Math.floor(1.1*e.length));return r[n]=120,r[n+1]=156,n=v.F.deflateRaw(e,r,n+2,t.level),e=v.adler(e,0,e.length),r[n+0]=e>>>24&255,r[n+1]=e>>>16&255,r[n+2]=e>>>8&255,r[n+3]=e>>>0&255,new Uint8Array(r.buffer,0,n+4)},v.deflateRaw=function(e,t){null==t&&(t={level:6});var n=new Uint8Array(50+Math.floor(1.1*e.length)),r=v.F.deflateRaw(e,n,r,t.level);return new Uint8Array(n.buffer,0,r)},v.encode=function(e,t){null==t&&(t=!1);var n,r=0,i=v.bin.writeUint,o=v.bin.writeUshort,a={};for(n in e){var s=!v._noNeed(n)&&!t,c=e[n],u=v.crc.crc(c,0,c.length);a[n]={cpr:s,usize:c.length,crc:u,file:s?v.deflateRaw(c):c}}for(n in a)r+=a[n].file.length+30+46+2*v.bin.sizeUTF8(n);for(n in e=new Uint8Array(r+22),t=0,c=[],a)u=a[n],c.push(t),t=v._writeHeader(e,t,n,u,0);for(n in r=0,s=t,a)u=a[n],c.push(t),t=v._writeHeader(e,t,n,u,1,c[r++]);return a=t-s,i(e,t,101010256),o(e,t=t+4+4,r),o(e,t+=2,r),i(e,t+=2,a),i(e,t+4,s),e.buffer},v._noNeed=function(e){return e=e.split(".").pop().toLowerCase(),-1!="png,jpg,jpeg,zip".indexOf(e)},v._writeHeader=function(e,t,n,r,i,o){var a=v.bin.writeUint,s=v.bin.writeUshort,c=r.file;return a(e,t,0==i?67324752:33639248),t+=4,1==i&&(t+=2),s(e,t,20),s(e,t+=2,0),s(e,t+=2,r.cpr?8:0),a(e,t+=2,0),a(e,t+=4,r.crc),a(e,t+=4,c.length),a(e,t+=4,r.usize),s(e,t+=4,v.bin.sizeUTF8(n)),s(e,t+=2,0),t+=2,1==i&&(a(e,t=t+2+2+6,o),t+=4),t+=n=v.bin.writeUTF8(e,t,n),0==i&&(e.set(c,t),t+=c.length),t},v.crc={table:function(){for(var e=new Uint32Array(256),t=0;256>t;t++){for(var n=t,r=0;8>r;r++)n=1&n?3988292384^n>>>1:n>>>1;e[t]=n}return e}(),update:function(e,t,n,r){for(var i=0;i<r;i++)e=v.crc.table[255&(e^t[n+i])]^e>>>8;return e},crc:function(e,t,n){return 4294967295^v.crc.update(4294967295,e,t,n)}},v.adler=function(e,t,n){var r=1,i=0,o=t;for(t+=n;o<t;){for(n=Math.min(o+5552,t);o<n;)i+=r+=e[o++];r%=65521,i%=65521}return i<<16|r},v.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,n){e[t]=255&n,e[t+1]=n>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,n){e[t]=255&n,e[t+1]=n>>8&255,e[t+2]=n>>16&255,e[t+3]=n>>24&255},readASCII:function(e,t,n){for(var r="",i=0;i<n;i++)r+=String.fromCharCode(e[t+i]);return r},writeASCII:function(e,t,n){for(var r=0;r<n.length;r++)e[t+r]=n.charCodeAt(r)},pad:function(e){return 2>e.length?"0"+e:e},readUTF8:function(e,t,n){for(var r,i="",o=0;o<n;o++)i+="%"+v.bin.pad(e[t+o].toString(16));try{r=decodeURIComponent(i)}catch(r){return v.bin.readASCII(e,t,n)}return r},writeUTF8:function(e,t,n){for(var r=n.length,i=0,o=0;o<r;o++){var a=n.charCodeAt(o);if(0==(4294967168&a))e[t+i]=a,i++;else if(0==(4294965248&a))e[t+i]=192|a>>6,e[t+i+1]=128|a>>0&63,i+=2;else if(0==(4294901760&a))e[t+i]=224|a>>12,e[t+i+1]=128|a>>6&63,e[t+i+2]=128|a>>0&63,i+=3;else{if(0!=(4292870144&a))throw"e";e[t+i]=240|a>>18,e[t+i+1]=128|a>>12&63,e[t+i+2]=128|a>>6&63,e[t+i+3]=128|a>>0&63,i+=4}}return i},sizeUTF8:function(e){for(var t=e.length,n=0,r=0;r<t;r++){var i=e.charCodeAt(r);if(0==(4294967168&i))n++;else if(0==(4294965248&i))n+=2;else if(0==(4294901760&i))n+=3;else{if(0!=(4292870144&i))throw"e";n+=4}}return n}},v.F={},v.F.deflateRaw=function(e,t,n,r){var i=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][r],o=v.F.U,a=v.F._goodIndex;v.F._hash;var s=v.F._putsE,c=0;n<<=3;var u=0,l=e.length;if(0==r){for(;c<l;){var d=Math.min(65535,l-c);s(t,n,c+d==l?1:0),n=v.F._copyExact(e,c,d,t,n+8),c+=d}return n>>>3}s=o.lits,r=o.strt;var h=o.prev,p=0,f=0,A=0,g=0,m=0;for(2<l&&(r[m=v.F._hash(e,0)]=0),c=0;c<l;c++){if(d=m,c+1<l-2){m=v.F._hash(e,c+1);var y=c+1&32767;h[y]=r[m],r[m]=y}if(u<=c){if((14e3<p||26697<f)&&100<l-c&&(u<c&&(s[p]=c-u,p+=2,u=c),n=v.F._writeBlock(c==l-1||u==l?1:0,s,p,g,e,A,c-A,t,n),p=f=g=0,A=c),y=0,c<l-2&&(y=v.F._bestMatch(e,c,h,d,Math.min(i[2],l-c),i[3])),0!=y){d=y>>>16,y&=65535;var E=a(d,o.of0);o.lhst[257+E]++;var b=a(y,o.df0);o.dhst[b]++,g+=o.exb[E]+o.dxb[b],s[p]=d<<23|c-u,s[p+1]=y<<16|E<<8|b,p+=2,u=c+d}else o.lhst[e[c]]++;f++}}for(A==c&&0!=e.length||(u<c&&(s[p]=c-u,p+=2),n=v.F._writeBlock(1,s,p,g,e,A,c-A,t,n));0!=(7&n);)n++;return n>>>3},v.F._bestMatch=function(e,t,n,r,i,o){var a=32767&t,s=n[a],c=a-s+32768&32767;if(s==a||r!=v.F._hash(e,t-c))return 0;for(var u=r=0,l=Math.min(32767,t);c<=l&&0!=--o&&s!=a;){if((0==r||e[t+r]==e[t+r-c])&&(a=v.F._howLong(e,t,c))>r){if(u=c,(r=a)>=i)break;c+2<a&&(a=c+2);for(var d=0,h=0;h<a-2;h++){var p=t-c+h+32768&32767,f=p-n[p]+32768&32767;f>d&&(d=f,s=p)}}c+=(a=s)-(s=n[a])+32768&32767}return r<<16|u},v.F._howLong=function(e,t,n){if(e[t]!=e[t-n]||e[t+1]!=e[t+1-n]||e[t+2]!=e[t+2-n])return 0;var r=t,i=Math.min(e.length,t+258);for(t+=3;t<i&&e[t]==e[t-n];)t++;return t-r},v.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},v.saved=0,v.F._writeBlock=function(e,t,n,r,i,o,a,s,c){var u=v.F.U,l=v.F._putsF,d=v.F._putsE;u.lhst[256]++;var h=v.F.getTrees(),p=h[0],f=h[1],A=h[2],g=h[3],m=h[4],y=h[5],E=h[6];h=h[7];var b=32+(0==(c+3&7)?0:8-(c+3&7))+(a<<3),_=r+v.F.contSize(u.fltree,u.lhst)+v.F.contSize(u.fdtree,u.dhst);r=r+v.F.contSize(u.ltree,u.lhst)+v.F.contSize(u.dtree,u.dhst),r+=14+3*y+v.F.contSize(u.itree,u.ihst)+(2*u.ihst[16]+3*u.ihst[17]+7*u.ihst[18]);for(var C=0;286>C;C++)u.lhst[C]=0;for(C=0;30>C;C++)u.dhst[C]=0;for(C=0;19>C;C++)u.ihst[C]=0;if(b=b<_&&b<r?0:_<r?1:2,l(s,c,e),l(s,c+1,b),c+=3,0==b){for(;0!=(7&c);)c++;c=v.F._copyExact(i,o,a,s,c)}else{if(1==b)var I=u.fltree,S=u.fdtree;if(2==b){for(v.F.makeCodes(u.ltree,p),v.F.revCodes(u.ltree,p),v.F.makeCodes(u.dtree,f),v.F.revCodes(u.dtree,f),v.F.makeCodes(u.itree,A),v.F.revCodes(u.itree,A),I=u.ltree,S=u.dtree,d(s,c,g-257),d(s,c+=5,m-1),d(s,c+=5,y-4),c+=4,e=0;e<y;e++)d(s,c+3*e,u.itree[1+(u.ordr[e]<<1)]);c=v.F._codeTiny(E,u.itree,s,c+3*y),c=v.F._codeTiny(h,u.itree,s,c)}for(y=0;y<n;y+=2){for(E=(e=t[y])>>>23,e=o+(8388607&e);o<e;)c=v.F._writeLit(i[o++],I,s,c);0!=E&&(e=(p=t[y+1])>>16,a=p>>8&255,p&=255,d(s,c=v.F._writeLit(257+a,I,s,c),E-u.of0[a]),c+=u.exb[a],l(s,c=v.F._writeLit(p,S,s,c),e-u.df0[p]),c+=u.dxb[p],o+=E)}c=v.F._writeLit(256,I,s,c)}return c},v.F._copyExact=function(e,t,n,r,i){var o=i>>>3;return r[o]=n,r[o+1]=n>>>8,r[o+2]=255-r[o],r[o+3]=255-r[o+1],o+=4,r.set(new Uint8Array(e.buffer,t,n),o),i+(n+4<<3)},v.F.getTrees=function(){for(var e=v.F.U,t=v.F._hufTree(e.lhst,e.ltree,15),n=v.F._hufTree(e.dhst,e.dtree,15),r=[],i=v.F._lenCodes(e.ltree,r),o=[],a=v.F._lenCodes(e.dtree,o),s=0;s<r.length;s+=2)e.ihst[r[s]]++;for(s=0;s<o.length;s+=2)e.ihst[o[s]]++;s=v.F._hufTree(e.ihst,e.itree,7);for(var c=19;4<c&&0==e.itree[1+(e.ordr[c-1]<<1)];)c--;return[t,n,s,i,a,c,r,o]},v.F.getSecond=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(e[n+1]);return t},v.F.nonZero=function(e){for(var t="",n=0;n<e.length;n+=2)0!=e[n+1]&&(t+=(n>>1)+",");return t},v.F.contSize=function(e,t){for(var n=0,r=0;r<t.length;r++)n+=t[r]*e[1+(r<<1)];return n},v.F._codeTiny=function(e,t,n,r){for(var i=0;i<e.length;i+=2){var o=e[i],a=e[i+1];r=v.F._writeLit(o,t,n,r);var s=16==o?2:17==o?3:7;15<o&&(v.F._putsE(n,r,a,s),r+=s)}return r},v.F._lenCodes=function(e,t){for(var n=e.length;2!=n&&0==e[n-1];)n-=2;for(var r=0;r<n;r+=2){var i=e[r+1],o=r+3<n?e[r+3]:-1,a=r+5<n?e[r+5]:-1,s=0==r?-1:e[r-1];if(0==i&&o==i&&a==i){for(o=r+5;o+2<n&&e[o+2]==i;)o+=2;11>(i=Math.min(o+1-r>>>1,138))?t.push(17,i-3):t.push(18,i-11),r+=2*i-2}else if(i==s&&o==i&&a==i){for(o=r+5;o+2<n&&e[o+2]==i;)o+=2;i=Math.min(o+1-r>>>1,6),t.push(16,i-3),r+=2*i-2}else t.push(i,0)}return n>>>1},v.F._hufTree=function(e,t,n){var r=[],i=e.length,o=t.length,a=0;for(a=0;a<o;a+=2)t[a]=0,t[a+1]=0;for(a=0;a<i;a++)0!=e[a]&&r.push({lit:a,f:e[a]});if(e=r.length,i=r.slice(0),0==e)return 0;if(1==e)return t[1+((n=r[0].lit)<<1)]=1,t[1+((0==n?1:0)<<1)]=1;r.sort((function(e,t){return e.f-t.f})),a=r[0],o=r[1];var s=0,c=1,u=2;for(r[0]={lit:-1,f:a.f+o.f,l:a,r:o,d:0};c!=e-1;)a=s!=c&&(u==e||r[s].f<r[u].f)?r[s++]:r[u++],o=s!=c&&(u==e||r[s].f<r[u].f)?r[s++]:r[u++],r[c++]={lit:-1,f:a.f+o.f,l:a,r:o};for((r=v.F.setDepth(r[c-1],0))>n&&(v.F.restrictDepth(i,n,r),r=n),a=0;a<e;a++)t[1+(i[a].lit<<1)]=i[a].d;return r},v.F.setDepth=function(e,t){return-1!=e.lit?e.d=t:Math.max(v.F.setDepth(e.l,t+1),v.F.setDepth(e.r,t+1))},v.F.restrictDepth=function(e,t,n){var r=0,i=1<<n-t,o=0;for(e.sort((function(e,t){return t.d==e.d?e.f-t.f:t.d-e.d})),r=0;r<e.length&&e[r].d>t;r++){var a=e[r].d;e[r].d=t,o+=i-(1<<n-a)}for(o>>>=n-t;0<o;)(a=e[r].d)<t?(e[r].d++,o-=1<<t-a-1):r++;for(;0<=r;r--)e[r].d==t&&0>o&&(e[r].d--,o++);0!=o&&console.log("debt left")},v.F._goodIndex=function(e,t){var n=0;return t[16|n]<=e&&(n|=16),t[8|n]<=e&&(n|=8),t[4|n]<=e&&(n|=4),t[2|n]<=e&&(n|=2),t[1|n]<=e&&(n|=1),n},v.F._writeLit=function(e,t,n,r){return v.F._putsF(n,r,t[e<<1]),r+t[1+(e<<1)]},v.F.inflate=function(e,t){var n=Uint8Array;if(3==e[0]&&0==e[1])return t||new n(0);var r=v.F,i=r._bitsF,o=r._bitsE,a=r._decodeTiny,s=r.makeCodes,c=r.codes2map,u=r._get17,l=r.U,d=null==t;d&&(t=new n(e.length>>>2<<3));for(var h,p,f,A,g=0,m=0,y=p=0,E=0;0==g;)if(g=i(e,E,1),h=i(e,E+1,2),E+=3,0==h)0!=(7&E)&&(E+=8-(7&E)),h=e[(E=4+(E>>>3))-4]|e[E-3]<<8,d&&(t=v.F._check(t,y+h)),t.set(new n(e.buffer,e.byteOffset+E,h),y),E=E+h<<3,y+=h;else{if(d&&(t=v.F._check(t,y+131072)),1==h&&(f=l.flmap,A=l.fdmap,m=511,p=31),2==h){for(p=o(e,E,5)+257,h=o(e,E+5,5)+1,f=o(e,E+10,4)+4,E+=14,A=0;38>A;A+=2)l.itree[A]=0,l.itree[A+1]=0;for(m=1,A=0;A<f;A++){var b=o(e,E+3*A,3);l.itree[1+(l.ordr[A]<<1)]=b,b>m&&(m=b)}E+=3*f,s(l.itree,m),c(l.itree,m,l.imap),f=l.lmap,A=l.dmap,E=a(l.imap,(1<<m)-1,p+h,e,E,l.ttree),m=(1<<(b=r._copyOut(l.ttree,0,p,l.ltree)))-1,p=(1<<(h=r._copyOut(l.ttree,p,h,l.dtree)))-1,s(l.ltree,b),c(l.ltree,b,f),s(l.dtree,h),c(l.dtree,h,A)}for(;;)if(E+=15&(h=f[u(e,E)&m]),0==(b=h>>>4)>>>8)t[y++]=b;else{if(256==b)break;h=y+b-254,264<b&&(h=y+((b=l.ldef[b-257])>>>3)+o(e,E,7&b),E+=7&b),E+=15&(b=A[u(e,E)&p]);var _=((b=l.ddef[b>>>4])>>>4)+i(e,E,15&b);for(E+=15&b,d&&(t=v.F._check(t,y+131072));y<h;)t[y]=t[y++-_],t[y]=t[y++-_],t[y]=t[y++-_],t[y]=t[y++-_];y=h}}return t.length==y?t:t.slice(0,y)},v.F._check=function(e,t){var n=e.length;return t<=n?e:((t=new Uint8Array(Math.max(n<<1,t))).set(e,0),t)},v.F._decodeTiny=function(e,t,n,r,i,o){for(var a=v.F._bitsE,s=v.F._get17,c=0;c<n;){var u=e[s(r,i)&t];i+=15&u;var l=u>>>4;if(15>=l)o[c]=l,c++;else{var d=u=0;for(16==l?(d=3+a(r,i,2),i+=2,u=o[c-1]):17==l?(d=3+a(r,i,3),i+=3):18==l&&(d=11+a(r,i,7),i+=7),l=c+d;c<l;)o[c]=u,c++}}return i},v.F._copyOut=function(e,t,n,r){for(var i=0,o=0,a=r.length>>>1;o<n;){var s=e[o+t];r[o<<1]=0,r[1+(o<<1)]=s,s>i&&(i=s),o++}for(;o<a;)r[o<<1]=0,r[1+(o<<1)]=0,o++;return i},v.F.makeCodes=function(e,t){var n,r,i=v.F.U,o=e.length,a=i.bl_count;for(n=0;n<=t;n++)a[n]=0;for(n=1;n<o;n+=2)a[e[n]]++;for(i=i.next_code,n=0,a[0]=0,r=1;r<=t;r++)n=n+a[r-1]<<1,i[r]=n;for(t=0;t<o;t+=2)0!=(a=e[t+1])&&(e[t]=i[a],i[a]++)},v.F.codes2map=function(e,t,n){for(var r=e.length,i=v.F.U.rev15,o=0;o<r;o+=2)if(0!=e[o+1]){var a=e[o+1],s=o>>1<<4|a,c=t-a;for(c=(a=e[o]<<c)+(1<<c);a!=c;)n[i[a]>>>15-t]=s,a++}},v.F.revCodes=function(e,t){for(var n=v.F.U.rev15,r=15-t,i=0;i<e.length;i+=2)e[i]=n[e[i]<<t-e[i+1]]>>>r},v.F._putsE=function(e,t,n){n<<=7&t,e[t>>>=3]|=n,e[t+1]|=n>>>8},v.F._putsF=function(e,t,n){n<<=7&t,e[t>>>=3]|=n,e[t+1]|=n>>>8,e[t+2]|=n>>>16},v.F._bitsE=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<n)-1},v.F._bitsF=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<n)-1},v.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},v.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},v.F.U=function(){var e=Uint16Array,t=Uint32Array;return{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new t(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new t(286),dhst:new t(30),ihst:new t(19),lits:new t(15e3),strt:new e(65536),prev:new e(32768)}}(),function(){function e(e,t,n){for(;0!=t--;)e.push(0,n)}for(var t=v.F.U,n=0;32768>n;n++){var r=n;r=(4278255360&(r=(4042322160&(r=(3435973836&(r=(2863311530&r)>>>1|(1431655765&r)<<1))>>>2|(858993459&r)<<2))>>>4|(252645135&r)<<4))>>>8|(16711935&r)<<8,t.rev15[n]=(r>>>16|r<<16)>>>17}for(n=0;32>n;n++)t.ldef[n]=t.of0[n]<<3|t.exb[n],t.ddef[n]=t.df0[n]<<4|t.dxb[n];e(t.fltree,144,8),e(t.fltree,112,9),e(t.fltree,24,7),e(t.fltree,8,8),v.F.makeCodes(t.fltree,9),v.F.codes2map(t.fltree,9,t.flmap),v.F.revCodes(t.fltree,9),e(t.fdtree,32,5),v.F.makeCodes(t.fdtree,5),v.F.codes2map(t.fdtree,5,t.fdmap),v.F.revCodes(t.fdtree,5),e(t.itree,19,0),e(t.ltree,286,0),e(t.dtree,30,0),e(t.ttree,320,0)}();var iD=["backups","servers"],jD=["backups","servers"],kD=["group"],nl=v.inflate,ks=v.deflate,ls=function(e){function t(e,i,o,a){W(this,t);var s=r.call(this,a,"Session");return m(n(s),"chatManager",void 0),m(n(s),"joinedChannels",new Set),m(n(s),"msgDedupLru",new tc(void 0,{maxlen:200})),m(n(s),"startTime",Date.now()),m(n(s),"seq",U.fromNumber(1,!0)),m(n(s),"userJoinOptions",new is(!1)),m(n(s),"seqSentStatuses",[!1,!1]),m(n(s),"dialogueSequenceLru",new tc(void 0,{maxlen:1e4})),m(n(s),"loggedOut",!1),m(n(s),"messageSentTimes",[]),m(n(s),"curLoginSockets",[void 0,void 0]),m(n(s),"loginSocketSubs",[{channels:new Map,receivers:[]},{channels:new Map,receivers:[]}]),m(n(s),"lastLoginSockets",[new qe(1),new qe(1)]),m(n(s),"dialPendingMsgSubjectMap",new Map),m(n(s),"context",void 0),m(n(s),"connection",void 0),m(n(s),"instanceId",void 0),m(n(s),"registerSocketsFailureListener",(function(){s.connection.once("socketsFailure",(function(){s.log("socketsFailure, creating a new connection"),ad((function(){return s.connection.removeAllListeners(),s.connection=new Yr(s.context,s.logger,!0),s.loginHandler(15e3,!0)})).pipe(oe((function(e){return e.pipe(cd(Zd.getParameter("RECONNECTING_AP_INTERVAL")))})),ob(s.connection.apClient.apFinish$)).subscribe((function(){s.log("new connection connected")}))})),0===s.connection.listenerCount("tokenExpired")&&s.connection.on("tokenExpired",(function(){s.emit("tokenExpired")}))})),s.context=e,s.connection=i,s.instanceId=o,s.chatManager=new hD(a),s.log("The instanceId is %s",s.instanceId.toString()),s}la(t,e);var r=ma(t);return Ha(t,[{key:"fetchFileUploadIndexGet",value:function(e){var n=e.hash,r=e.size;if(0===(e=this.getLoginSockets()).length)throw new K("Client is not logged in");var i=this.incGetSeq();return e.forEach((function(e){e.sendPacket("FileUploadIndexGet",{seq:i,hash:n,size:r})})),{ret:Ca.apply(void 0,G(e.map((function(e){return e.fromReceived("FileUploadIndexRet").pipe(aa((function(e){return i.eq(e.seq)})))})))),fin:Ca.apply(void 0,G(e.map((function(e){return e.fromReceived("FileUploadIndexFin").pipe(aa((function(e){return i.eq(e.seq)})))})))),err:Xb.apply(void 0,G(e.map((function(e){return e.fromReceived("FileUploadIndexErr").pipe(aa((function(e){return i.eq(e.seq)})),ba((function(e){throw new da(["The media message upload failure, code %d",e.code],lg)})))})))),timeout:t.genTimeoutError(Lh)}}},{key:"requestFileUploadIndexSet",value:function(e){var n=e.hash,r=e.unit,i=e.servers;if(0===(e=this.getLoginSockets()).length)throw new K("Client is not logged in");var o=this.incGetSeq();return e.forEach((function(e){e.sendPacket("FileUploadIndexSet",{seq:o,servers:i,hash:n,unit:r})})),Ca.apply(void 0,[t.genTimeoutError(Lh)].concat(G(e.map((function(e){return e.fromReceived("FileUploadIndexErr").pipe(aa((function(e){return o.eq(e.seq)})),ba((function(e){throw new da(["FileUploadIndexSet failure, code %d",e.code],lg)})))}))),G(e.map((function(e){return e.fromReceived("FileUploadIndexFin").pipe(aa((function(e){return o.eq(e.seq)})))})))))}},{key:"requestFileDownloadIndexGet",value:function(e){var n=e.size,r=e.zone,i=e.unit,o=e.hash,a=this.getLoginSockets();if(0===a.length)throw new K("Client is not logged in");var s=this.incGetSeq();return a.forEach((function(e){e.sendPacket("FileDownloadIndexGet",{seq:s,size:n,zone:r,unit:i,hash:o})})),e=Ca.apply(void 0,G(a.map((function(e){return e.fromReceived("FileDownloadIndexRet").pipe(aa((function(e){return s.eq(e.seq)})))})))).pipe(ba((function(e){var t=e.backups,n=e.servers;return e=ff(e,iD),ua({backupList:t.map((function(e){return[e]})),serverList:n.map((function(e){return[e]}))},e)})),cd(500)),a=jm(a.map((function(e){return e.fromReceived("FileDownloadIndexRet").pipe(aa((function(e){return s.eq(e.seq)})))}))),Ca(e,a.pipe(ba((function(e){return e.reduce((function(e,t){var n=e.backupList,r=e.serverList;e=t.backups;var i=t.servers;return t=ff(t,jD),ua({backupList:e.map((function(e,t){return[e].concat(G(void 0!==n&&Array.isArray(n[t])?n[t]:[]))})),serverList:i.map((function(e,t){return[e].concat(G(void 0!==n&&Array.isArray(r[t])?r[t]:[]))}))},t)}),{})}))),t.genTimeoutError(Lh))}},{key:"loginHandler",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:2e4,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(this.loggedOut&&n)throw new K("Already logged out, request ignored");n&&this.registerSocketsFailureListener(),this.connection.initConnection();var r=this.getSocketLoginObservables(this.connection.lastOpenSockets,this.seq),i=Date.now();return r.forEach((function(t,r){var o=e.loginSocketSubs[r].login;void 0!==o&&o.unsubscribe(),e.loginSocketSubs[r].login=t.pipe(ca((function(t){var o;e.curLoginSockets[r]=t;var a=Date.now();eb("Link",{ackedServerIp:t.address,destServerIp:t.ip,ec:0,sc:0,elapse:fb(e.startTime),lts:U.fromNumber(a),responseTime:i-a,sid:Xa(e.instanceId),userId:e.context.uid},null!==(o=e.context.config.enableCloudProxy)&&void 0!==o&&o),e.emit("userJoined",t.env),n&&e.connection.apClient.apFinish$.next(void 0)}))).subscribe(e.lastLoginSockets[r])})),this.initKeepAliveSender(),this.initKeepAliveReconnector(),this.initLoginReceiver(),Xb.apply(void 0,G(r).concat([gb(this.connection,"connectionInitFailure").pipe(ca((function(e){if(sa(e)||Sa(e))throw e;throw new da("Login failure",{code:Zq,originalError:e})})))])).pipe(Ka(1),hb(t),Ga((function(t){return t instanceof pb&&e.warn("Client login timeout"),t&&t.code===Kh&&(e.connection.emit("tokenExpired"),e.connection.apClient.apFinish$.next(void 0)),e.clearSockets(0,n),Z(t)})),ca((function(){n||e.registerSocketsFailureListener()})),wg((function(){n||e.connection.apClient.apFinish$.next(void 0)})))}},{key:"logoutHandler",value:function(){var e=J(w.mark((function e(){var t,n,r,i=this;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loggedOut=!0,this.connection.apClient.apFinish$.next(void 0),t=this.getLoginSockets(),n=t.map((function(e){return e.sendPacket("UserQuit",{}),i.connection.waitClosing(e)})),this.clearSockets(5e3),r=t.map((function(e){return e.env})),[0,1].filter((function(e){return!r.includes(e)})).forEach((function(e){i.connection.closeSocket(e,0)})),e.abrupt("return",Xb.apply(void 0,G(n)).toPromise());case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"requestChannelJoin",value:function(){var e=J(w.mark((function e(t,n){var r,i,o,a=this;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.getLoginSockets().length){e.next=2;break}throw new K("Client is not logged in. Cannot join the channel",Vq);case 2:return r=gb(this,"channelLeft").pipe(wb((function(e){return e===t})),Ka(1)),i=this.incGetSeq(),(o=this.lastLoginSockets.map((function(e){return e.pipe(Cc((function(e,t){0!==t&&a.incSeqIfNeeded(e.env);var r=0===t?i:a.seq;return e.sendPacket("GroupEnter",{account:n,seq:r}),e.fromReceived("GroupReply").pipe(aa((function(e){return r.eq(e.seq)})),ca((function(e){if(0!==(e=e.code))throw new da(["Channel join failure. The response code is %d",e],Rq)})))})),ob(r),pe())}))).forEach((function(e,n){var r=function(){return a.loginSocketSubs[n].channels.delete(t.channelId)};a.loginSocketSubs[n].channels.set(t.channelId,e.subscribe({error:r,complete:r}))})),e.next=8,Xb.apply(void 0,G(o)).pipe(Ka(1),hb(1e4),Ga((function(e){return e instanceof pb&&a.warn("Channel join timeout"),Z(e)}))).toPromise();case 8:this.joinedChannels.add(t);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"requestChannelLeave",value:function(e,t){this.emit("channelLeft",e),this.joinedChannels.delete(e),this.getLoginSockets().forEach((function(e){e.sendPacket("GroupLeave",{account:t})}))}},{key:"requestChannelMemberList",value:function(e){var n=this.getLoginSockets();if(0===n.length)throw new K("Client is not logged in. Cannot get the channel members",cA);var r=this.incGetSeq();return n.forEach((function(t){t.sendPacket("GroupAllUsersList",{group:e,pageNumber:0,pageSize:200,seq:r})})),Ca.apply(void 0,[t.genTimeoutError(Pq)].concat(G(n.map((function(t){return t.fromReceived("GroupAllUsersResult").pipe(aa((function(t){var n=t.seq;return t.group===e&&r.eq(n)})))})))))}},{key:"requestPeersOnlineStatus",value:function(e){var n=this.getLoginSockets();if(0===n.length)throw new K("Client is not logged in");var r=this.incGetSeq();return n.forEach((function(t){t.sendPacket("UserStatusList",{users:e,seq:r})})),Ca.apply(void 0,[t.genTimeoutError(oA)].concat(G(n.map((function(e){return e.fromReceived("UserStatusResult").pipe(aa((function(e){return r.eq(e.seq)})))})))))}},{key:"requestSetLocalUserAttributes",value:function(e,n){var r=this,i=this.getLoginSockets();if(0===i.length)throw new K("Client is not logged in");var o=this.incGetSeq();return i.forEach((function(t,i){void 0!==n&&i!==n||t.sendPacket("UserAttributeSet",{account:r.context.uid,attributeInfos:Object.entries(e).map((function(e){return{key:(e=ra(e,2))[0],value:e[1]}})),seq:o})})),Ca.apply(void 0,G(i.map((function(e){return e.fromReceived("UserAttributeErr").pipe(aa((function(e){return o.eq(e.seq)})),ba((function(e){throw new da(["The user attributes set failure, code %d",e.code],Sb)})))}))).concat([t.genTimeoutError(Tb)],G(i.map((function(e){return e.fromReceived("UserAttributeRsp").pipe(aa((function(e){return o.eq(e.seq)})))})))))}},{key:"requestSetChannelAttributes",value:function(e,n,r){var i=this.getLoginSockets();if(0===i.length)throw new K("Client is not logged in");var o=this.incGetSeq();return i.forEach((function(t){t.sendPacket("GroupAttributeSet",{broadcast:r,group:e,attributeInfos:Object.entries(n).map((function(e){return{key:(e=ra(e,2))[0],value:e[1]}})),seq:o})})),Ca.apply(void 0,G(i.map((function(e){return e.fromReceived("GroupAttributeErr").pipe(aa((function(e){return o.eq(e.seq)})),ba((function(e){throw new da(["The group attributes set failure, code %d",e.code],Sb)})))}))).concat([t.genTimeoutError(Tb)],G(i.map((function(e){return e.fromReceived("GroupAttributeRsp").pipe(aa((function(e){return o.eq(e.seq)})))})))))}},{key:"requestAddOrUpdateLocalUserAttributes",value:function(e){var n=this,r=this.getLoginSockets();if(0===r.length)throw new K("Client is not logged in");var i=this.incGetSeq();return r.forEach((function(t){t.sendPacket("UserAttributeMod",{account:n.context.uid,attributeInfos:Object.entries(e).map((function(e){return{key:(e=ra(e,2))[0],value:e[1]}})),seq:i})})),Ca.apply(void 0,G(r.map((function(e){return e.fromReceived("UserAttributeErr").pipe(aa((function(e){return i.eq(e.seq)})),ba((function(e){throw new da(["The user attributes add or update failure, code %d",e.code],Sb)})))}))).concat([t.genTimeoutError(Tb)],G(r.map((function(e){return e.fromReceived("UserAttributeRsp").pipe(aa((function(e){return i.eq(e.seq)})))})))))}},{key:"requestAddOrUpdateChannelAttributes",value:function(e,n,r){var i=this.getLoginSockets();if(0===i.length)throw new K("Client is not logged in");var o=this.incGetSeq();return i.forEach((function(t){t.sendPacket("GroupAttributeMod",{broadcast:r,group:e,attributeInfos:Object.entries(n).map((function(e){return{key:(e=ra(e,2))[0],value:e[1]}})),seq:o})})),Ca.apply(void 0,G(i.map((function(e){return e.fromReceived("GroupAttributeErr").pipe(aa((function(e){return o.eq(e.seq)})),ba((function(e){throw new da(["The group attributes add or update failure, code %d",e.code],Sb)})))}))).concat([t.genTimeoutError(Tb)],G(i.map((function(e){return e.fromReceived("GroupAttributeRsp").pipe(aa((function(e){return o.eq(e.seq)})))})))))}},{key:"requestDeleteLocalUserAttributesByKeys",value:function(e){var n=this,r=this.getLoginSockets();if(0===r.length)throw new K("Client is not logged in");var i=this.incGetSeq();return r.forEach((function(t){t.sendPacket("UserAttributeDel",{account:n.context.uid,attributes:e,seq:i})})),Ca.apply(void 0,G(r.map((function(e){return e.fromReceived("UserAttributeErr").pipe(aa((function(e){return i.eq(e.seq)})),ba((function(e){throw new da(["The user attributes delete failure, code %d",e.code],Sb)})))}))).concat([t.genTimeoutError(Tb)],G(r.map((function(e){return e.fromReceived("UserAttributeRsp").pipe(aa((function(e){return i.eq(e.seq)})))})))))}},{key:"requestDeleteChannelAttributesByKeys",value:function(e,n,r){var i=this.getLoginSockets();if(0===i.length)throw new K("Client is not logged in");var o=this.incGetSeq();return i.forEach((function(t){t.sendPacket("GroupAttributeDel",{group:e,broadcast:r,attributes:n,seq:o})})),Ca.apply(void 0,G(i.map((function(e){return e.fromReceived("GroupAttributeErr").pipe(aa((function(e){return o.eq(e.seq)})),ba((function(e){throw new da(["The channel attributes delete failure, code %d",e.code],Sb)})))}))).concat([t.genTimeoutError(Tb)],G(i.map((function(e){return e.fromReceived("GroupAttributeRsp").pipe(aa((function(e){return o.eq(e.seq)})))})))))}},{key:"requestClearLocalUserAttributes",value:function(){var e=this,n=this.getLoginSockets();if(0===n.length)throw new K("Client is not logged in");var r=this.incGetSeq();return n.forEach((function(t){t.sendPacket("UserAttributeSet",{account:e.context.uid,seq:r,attributeInfos:[]})})),Ca.apply(void 0,G(n.map((function(e){return e.fromReceived("UserAttributeErr").pipe(aa((function(e){return r.eq(e.seq)})),ba((function(e){throw new da(["The user attributes clear failure, code %d",e.code],Sb)})))}))).concat([t.genTimeoutError(Tb)],G(n.map((function(e){return e.fromReceived("UserAttributeRsp").pipe(aa((function(e){return r.eq(e.seq)})))})))))}},{key:"requestClearChannelAttributes",value:function(e,n){var r=this.getLoginSockets();if(0===r.length)throw new K("Client is not logged in");var i=this.incGetSeq();return r.forEach((function(t){t.sendPacket("GroupAttributeSet",{group:e,seq:i,attributeInfos:[],broadcast:n})})),Ca.apply(void 0,G(r.map((function(e){return e.fromReceived("GroupAttributeErr").pipe(aa((function(e){return i.eq(e.seq)})),ba((function(e){throw new da(["The channel attributes clear failure, code %d",e.code],Sb)})))}))).concat([t.genTimeoutError(Tb)],G(r.map((function(e){return e.fromReceived("GroupAttributeRsp").pipe(aa((function(e){return i.eq(e.seq)})))})))))}},{key:"requestGetUserAttributesByKeys",value:function(e,n){var r=this.getLoginSockets();if(0===r.length)throw new K("Client is not logged in");var i=this.incGetSeq();return r.forEach((function(t){t.sendPacket("UserAttributeGet",{account:e,seq:i,attributes:n})})),Ca.apply(void 0,[t.genTimeoutError(Tb)].concat(G(r.map((function(e){return e.fromReceived("UserAttributeErr").pipe(aa((function(e){return i.eq(e.seq)})),ba((function(e){if(10008===(e=e.code))throw new da("The user requested is not online",Lq);throw new Wc(["User attribute operation unknown error code: %d",e],Sb)})))}))),G(r.map((function(e){return e.fromReceived("UserAttributeRet").pipe(aa((function(e){return i.eq(e.seq)})))})))))}},{key:"requestGetChannelAttributesByKeys",value:function(e,n){var r=this.getLoginSockets();if(0===r.length)throw new K("Client is not logged in");var i=this.incGetSeq();return r.forEach((function(t){t.sendPacket("GroupAttributeGet",{group:e,seq:i,attributes:n})})),Ca.apply(void 0,[t.genTimeoutError(Tb)].concat(G(r.map((function(e){return e.fromReceived("GroupAttributeErr").pipe(aa((function(e){return i.eq(e.seq)})),ba((function(e){throw new da(["The channel attributes get failure, code %d",e.code],Sb)})))}))),G(r.map((function(e){return e.fromReceived("GroupAttributeRet").pipe(aa((function(e){return i.eq(e.seq)})))})))))}},{key:"requestGetUserAttributeKeys",value:function(e){var n=this.getLoginSockets();if(0===n.length)throw new K("Client is not logged in");var r=this.incGetSeq();return n.forEach((function(t){t.sendPacket("UserAttributeKeysGet",{account:e,seq:r})})),Ca.apply(void 0,[t.genTimeoutError(Tb)].concat(G(n.map((function(e){return e.fromReceived("UserAttributeErr").pipe(aa((function(e){return r.eq(e.seq)})),ba((function(e){if(10008===(e=e.code))throw new da("The user requested is not online",Lq);throw new Wc(["User attribute operation unknown error code: %d",e],Sb)})))}))),G(n.map((function(e){return e.fromReceived("UserAttributeKeysRet").pipe(aa((function(e){return r.eq(e.seq)})))})))))}},{key:"requestGetChannelAttributesKeys",value:function(e){var n=this.getLoginSockets();if(0===n.length)throw new K("Client is not logged in");var r=this.incGetSeq();return n.forEach((function(t){t.sendPacket("GroupAttributeKeysGet",{group:e,seq:r})})),Ca.apply(void 0,[t.genTimeoutError(Tb)].concat(G(n.map((function(e){return e.fromReceived("GroupAttributeErr").pipe(aa((function(e){return r.eq(e.seq)})),ba((function(e){throw new Wc(["Channel attribute operation unknown error code: %d",e.code],Sb)})))}))),G(n.map((function(e){return e.fromReceived("GroupAttributeKeysRet").pipe(aa((function(e){return r.eq(e.seq)})))})))))}},{key:"requestGetChannelMemberCount",value:function(e){var n=this.getLoginSockets();if(0===n.length)throw new K("Client is not logged in");var r=this.incGetSeq();return n.forEach((function(t){t.sendPacket("GroupStatusList",{groups:e,seq:r})})),Ca.apply(void 0,[t.genTimeoutError(Pq)].concat(G(n.map((function(e){return e.fromReceived("GroupStatusResult").pipe(aa((function(e){return r.eq(e.seq)})))})))))}},{key:"requestSubscribePeersOnlineStatus",value:function(e){var n=this.getLoginSockets();if(0===n.length)throw new K("Client is not logged in");var r=this.incGetSeq();return n.forEach((function(t){t.sendPacket("SubscribeUserStatus",{seq:r,users:e})})),Ca.apply(void 0,[t.genTimeoutError(vA)].concat(G(n.map((function(e){return e.fromReceived("SubscribeResponse").pipe(aa((function(e){return r.eq(e.seq)})))})))))}},{key:"requestUnsubscribePeersOnlineStatus",value:function(e){var t=this.getLoginSockets();if(0===t.length)throw new K("Client is not logged in");var n=this.incGetSeq();t.forEach((function(t){t.sendPacket("UnsubscribeUserStatus",{seq:n,users:e})}))}},{key:"sendInvitationMessage",value:function(){var e=J(w.mark((function e(t){var n,r,i,o,a,s,c,u,l,d,h,p,f=this;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.peerId,r=t.callId,i=t.extra,o=t.isAcceptAck,a=t.channelId,s=t.type,c={callId:r},void 0===o){e.next=6;break}if("CallAccept"===s){e.next=5;break}throw Error("invalid invitation type");case 5:c.type=o?"ack":"request";case 6:return c.channel=a,("CallInvite"===s||"CallCancel"===s||"CallReject"===s||"CallAccept"===s&&!1===o)&&void 0!==i&&(c.extra=i),u=Bg(),this.log("The sent invitation body is %o",c),l=function(e){return{MiscMap:{},sequence:U.fromNumber(1),dialogue:u,instance:f.instanceId,dst:n,ms:U.fromNumber(Date.now(),!0),options:new ae({IterationNumber:e,MessageType:s}).toLong(),payload:(new TextEncoder).encode(JSON.stringify(c)),src:f.context.uid}},e.next=14,Kb(this.sendMessageToRetry(l,!0)).pipe(hb(1e4),Ga((function(e){return e instanceof pb&&f.warn("Send invitation timeout"),Z(e)}))).toPromise();case 14:return d=e.sent,h=d.code,p=d.retryTimes,e.abrupt("return",{hasPeerReceived:0===h,hasReSent:0!==p});case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendMediaMessage",value:function(){var e=J(w.mark((function e(t,n,r,i,o,a){var s,c,u,l,d,h,p,f,A,g,v,y,E,b,_,C,S,R,T,O,k,N,D,P,x,L,M,B,F,j=this;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=n.width,u=void 0===c?0:c,l=n.height,d=void 0===l?0:l,h=n.fileName,p=void 0===h?"":h,f=n.description,A=void 0===f?"":f,g=n.thumbnail,v=void 0===g?new Blob:g,y=n.thumbnailHeight,E=void 0===y?0:y,b=n.thumbnailWidth,_=void 0===b?0:b,C=n.size,S=void 0===C?0:C,R=n.mediaId,T=o.enableOfflineMessaging,O=o.enableHistoricalMessaging,za(r)){e.next=4;break}throw new I("The send message arguments are not valid",i?$k:hg);case 4:if(!(32768<new Blob([p,v,A]).size)){e.next=6;break}throw new I("The size of message overflowed ",i?ve:Hh);case 6:return k=this.chatManager.getChatInfo(r),N=k.dialogue,D=k.sequence,P=this.instanceId,this.log('A%s media message is sending to %s: "'.concat(P,"-").concat(N,"#").concat(D,'"'),i?" peer":" channel",oa(r)),m(s={},"media_description",A),m(s,"media_width",u),m(s,"media_height",d),m(s,"media_thumbnailwidth",_),m(s,"media_thumbnailheight",E),m(s,"media_size",S),m(s,"media_id",R),m(s,"media_filename",p),x=uc(s,(function(e){return(new TextEncoder).encode(e.toString())})),e.t0=Uint8Array,e.next=14,Ji(v);case 14:return e.t1=e.sent,x.media_thumbnail=new e.t0(e.t1),L=i&&"IMAGE"===t?"PeerImageMessage":i&&"FILE"===t?"PeerFileMessage":i||"IMAGE"!==t?"ChannelFileMessage":"ChannelImageMessage",M=function(e){return{MiscMap:x,sequence:D,dialogue:N,instance:P,dst:r,ms:U.fromNumber(Date.now(),!0),options:new ae({IterationNumber:e,CompressionMethod:"Uncompressed",MessageType:L,ToCache:T,ToArchive:O}).toLong(),payload:new Uint8Array,src:j.context.uid}},e.next=20,Kb(this.sendMessageToRetry(M,!0)).pipe(hb(void 0===a?1e4:a),Ga((function(e){return e instanceof pb&&j.warn("Send message timeout"),Z(e)}))).toPromise();case 20:if(B=e.sent,2!==(F=B.code)){e.next=24;break}throw new da("The peer does not support this type of message",nA);case 24:return e.abrupt("return",{hasPeerReceived:0===F});case 25:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i,o,a){return e.apply(this,arguments)}}()},{key:"sendRawMessage",value:function(){var e=J(w.mark((function e(t,n,r,i,o,a){var s,c,u,l,d,h,p,f,A,g,m=this;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=o.enableOfflineMessaging,c=o.enableHistoricalMessaging,za(r)&&t instanceof Uint8Array&&"string"==typeof n){e.next=3;break}throw new I("The send message arguments are not valid",i?$k:hg);case 3:if(!(32768<t.byteLength+new Blob([n]).size)){e.next=5;break}throw new ib("The message size is over the 32KB limit",i?ve:Hh);case 5:return u=!Zd.getParameter("DISABLE_MESSAGE_COMPRESSION")&&128<=t.byteLength,l=this.chatManager.getChatInfo(r),d=l.dialogue,h=l.sequence,p=this.instanceId,this.log('A%s %s raw message is sending to %s: "'.concat(p,"-").concat(d,"#").concat(h,'"'),u?" compressed":"",i?"peer":"channel",oa(r)),f=function(e){return{MiscMap:{description:(new TextEncoder).encode(n)},sequence:h,dialogue:d,instance:p,dst:r,ms:U.fromNumber(Date.now(),!0),options:new ae({IterationNumber:e,CompressionMethod:u?"Zlib":"Uncompressed",MessageType:i?"PeerRawMessage":"ChannelRawMessage",ToCache:s,ToArchive:c}).toLong(),payload:u?ks(t):t,src:m.context.uid}},e.next=12,Kb(this.sendMessageToRetry(f,!0)).pipe(hb(void 0===a?1e4:a),Ga((function(e){return e instanceof pb&&m.warn("Send message timeout"),Z(e)}))).toPromise();case 12:return A=e.sent,g=A.code,e.abrupt("return",{hasPeerReceived:0===g});case 15:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i,o,a){return e.apply(this,arguments)}}()},{key:"sendTextMessage",value:function(){var e=J(w.mark((function e(t,n,r,i,o){var a,s,c,u,l,d,h,p,f,A,g,m=this;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=i.enableOfflineMessaging,s=i.enableHistoricalMessaging,za(n)){e.next=3;break}throw new I("The send message arguments are not valid",r?$k:hg);case 3:if(!(32768<new Blob([t]).size)){e.next=5;break}throw new ib("The message size is over the 32KB limit",r?ve:Hh);case 5:return c=!Zd.getParameter("DISABLE_MESSAGE_COMPRESSION")&&128<=new Blob([t]).size,u=this.chatManager.getChatInfo(n),l=u.dialogue,d=u.sequence,h=this.instanceId,this.log('A%s %s message is sending to %s: "'.concat(h,"-").concat(l,"#").concat(d,'"'),c?" compressed":"",r?"peer":"channel",oa(n)),p=(new TextEncoder).encode(t),f=function(e){return{MiscMap:{},sequence:d,dialogue:l,instance:h,dst:n,ms:U.fromNumber(Date.now(),!0),options:new ae({IterationNumber:e,CompressionMethod:c?"Zlib":"Uncompressed",MessageType:r?"PeerTextMessage":"ChannelTextMessage",ToCache:a,ToArchive:s}).toLong(),payload:c?ks(p):p,src:m.context.uid}},e.next=13,Kb(this.sendMessageToRetry(f,!0)).pipe(hb(void 0===o?1e4:o),Ga((function(e){return e instanceof pb&&m.warn("Send message timeout"),Z(e)}))).toPromise();case 13:return A=e.sent,g=A.code,e.abrupt("return",{hasPeerReceived:0===g});case 16:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}()},{key:"cleanLoginSubs",value:function(e,t){Object.entries(this.loginSocketSubs[e]).forEach((function(e){var n=(e=ra(e,2))[1];"channels"===e[0]&&t||(Array.isArray(n)||n instanceof Map?n.forEach((function(e){return e.unsubscribe()})):n&&n.unsubscribe())})),this.loginSocketSubs[e]={channels:t?this.loginSocketSubs[e].channels:new Map,receivers:[]}}},{key:"sendMessageToRetry",value:function(){var e=J(w.mark((function e(t,n){var r,i,o,a,s,c,u,l,d,h=this,p=arguments;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=2<p.length&&void 0!==p[2]?p[2]:0,this.log("Attempt to send the message ".concat(n?" with retrying, %o":"without retrying"),{retryTimes:r}),0!==(i=this.getLoginSockets()).length){e.next=5;break}throw Error("no logged-in sockets");case 5:return o=t(r),i.forEach((function(e){e.sendPacket("Message",o)})),a=o.dialogue,s=o.sequence,c=o.instance,u=i.map((function(e){return e.fromReceived("Ack").pipe(wb((function(e){return a.eq(e.dialogue)&&s.eq(e.sequence)&&c.eq(e.instance)})))})),e.prev=9,e.next=12,Xb.apply(void 0,G(u)).pipe(hb(6e3),Ga((function(e){return Sa(e)&&h.warn("Message send timeout, retry times %d",r),Z(e)})),Ka(1)).toPromise();case 12:return l=e.sent,d=l.code,this.log("The message has been acked, %o",{code:d}),e.abrupt("return",{code:d,retryTimes:r});case 18:if(e.prev=18,e.t0=e.catch(9),!(e.t0 instanceof pb&&n)){e.next=22;break}return e.abrupt("return",this.sendMessageToRetry(t,!1,r+1));case 22:throw e.t0;case 23:case"end":return e.stop()}}),e,this,[[9,18]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"initKeepAliveSender",value:function(){var e=this;this.lastLoginSockets.map((function(t){return t.pipe(Cc((function(t){return Bc(0,2750).pipe(ca((function(){e.incSeqIfNeeded(t.env),t.sendPacket("Ping",{ms:U.fromNumber(Date.now(),!0),seq:e.seq})})))})))})).forEach((function(t,n){var r=e.loginSocketSubs[n].keepAlive;void 0!==r&&r.unsubscribe(),e.loginSocketSubs[n].keepAlive=t.subscribe({error:function(){}})}))}},{key:"initKeepAliveReconnector",value:function(){var e=this;this.lastLoginSockets.map((function(e){return e.pipe(Cc((function(e){var t,n=!1,r=e.userJoin$.pipe(ca((function(){n=!0}))),i=e.input$.pipe(ca((function(e){"Ping"!==Li[e.uri].slice(0,-3)&&(n=!1)})));return Xb(Bc(15e3,1e4).pipe(Pt(e.receivedPacket),ca((function(r){r=ra(r,2),r=ra(r[1],2)[1],t!==r||n||e.forceReconnect(),t=r}))),r,i)})))})).forEach((function(t,n){var r=e.loginSocketSubs[n].keepAliveReconnector;void 0!==r&&r.unsubscribe(),e.loginSocketSubs[n].keepAliveReconnector=t.subscribe({error:function(){}})}))}},{key:"initLoginReceiver",value:function(){var e=this;this.lastLoginSockets.map((function(t){return t.pipe(Cc((function(t){return Xb(gb(t,"reconnect").pipe(ca(e.onSocketReconnect(t))),t.fromReceived("Message").pipe(ca(e.onMessage(t))),t.fromReceived("GroupEnterNotice").pipe(ca(e.onGroupEnterNotice())),t.fromReceived("GroupLeaveNotice").pipe(ca(e.onGroupLeaveNotice())),t.fromReceived("GroupCountNotice").pipe(ca(e.onGroupCountNotice())),t.fromReceived("GroupAttributeAlt").pipe(ca(e.onGroupAttributeAlt())),t.fromReceived("UserJoinNotice").pipe(ca(e.onUserNotice(S.PeerOnlineState.ONLINE))),t.fromReceived("UserQuitNotice").pipe(ca(e.onUserNotice(S.PeerOnlineState.OFFLINE))),t.fromReceived("UserWaitNotice").pipe(ca(e.onUserNotice(S.PeerOnlineState.UNREACHABLE)))).pipe(qf(void 0))})))})).forEach((function(t,n){e.loginSocketSubs[n].receivers.push(t.subscribe({error:function(){}}))}))}},{key:"requestSocketLogin",value:function(e,t,n){var r=this;return im(ad((function(){r.userJoinOptions=new is(t),e.sendPacket("UserJoin",{account:r.context.uid,instance:r.instanceId,opt:r.userJoinOptions.toLong(),seq:n,ticket:e.ticket})})),e.fromReceived("UserResp").pipe(aa((function(e){return n.eq(e.seq)})),ca((function(t){if(0!==(t=t.code))throw r.clearSockets(),r.logError("Connected to gateway success but the Rtm server rejected login"),new da(["Login failure. The response code from the RTM service is %d",t],jg);r.log("ENV_%d logged in",e.env)})),qf(e),hb(15e3))).pipe(wb((function(e){return void 0!==e})),Ga((function(e){return e instanceof pb&&r.warn("Login response timeout, rejoin: %s",t),Z(e)})))}},{key:"getSocketLoginObservables",value:function(e,t){var n=this;return e.map((function(e){return e.pipe(ca((function(e){0===e.listenerCount("socketUserDrop")&&e.on("socketUserDrop",(function(t){return n.onUserDrop(t,e)}))})),Cc((function(e,r){return n.incSeqIfNeeded(e.env),n.requestSocketLogin(e,0!==r,0===r?t:n.seq)})),pe())}))}},{key:"incSeqIfNeeded",value:function(e){if(![0,1].includes(e))throw new Fa({INVALID_ENV:"The env argument is not 0 or 1"});this.seqSentStatuses[e]&&(this.seq=this.seq.add(1),this.seqSentStatuses=[!1,!1]),this.seqSentStatuses[e]=!0}},{key:"incGetSeq",value:function(){return this.seq=this.seq.add(1),this.seqSentStatuses=[!0,!0],this.seq}},{key:"getLoginSockets",value:function(){for(var e=this.curLoginSockets,t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i}},{key:"emitMessage",value:function(e,n){var r=e.options,i=e.payload,o=e.src,a=e.dst,s=e.instance,c=e.dialogue,u=e.sequence,l=e.ms,d=e.MiscMap;this.dialogueSequenceLru.set(c.toString(),u),s="".concat(s,"-").concat(c,"#").concat(u),this.msgDedupLru.has(s)?this.warn("Env_%d: Messages out-of-order or not start with 1: %s",n,s):(this.msgDedupLru.set(s,void 0),n=new ae(r),this.lastLoginSockets.forEach(function(){var n=J(w.mark((function n(r){var i;return w.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.pipe(Ka(1)).toPromise();case 2:i=n.sent,t.sendMessageAck(e,i);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),r=n.isZlibCompressed(),n.isInvitation()?(a=pa(r?nl(Xm(i,Uint8Array.of(0,0,0,0))):i),a=JSON.parse(a),this.log("The received invitation body is %o",a),this.emit("invitationMessage",{body:a,type:n.getInvitationType(),peerId:o,serverReceivedTs:l.toNumber()})):n.isTextMessage()?(d=n.isPeerTextMessage(),i=pa(r?nl(Xm(i,Uint8Array.of(0,0,0,0))):i),this.info("Received a %s %s text message from %s to %s, %s",r?" compressed":"",d?"peer":"channel",oa(o),oa(a),s),d?(o={text:i,peerId:o,properties:{serverReceivedTs:l.toNumber(),isOfflineMessage:n.isFromCache()}},this.emit("peerTextMessage",o)):this.emit("channelTextMessage",{channelId:a,memberId:o,text:i,properties:{serverReceivedTs:l.toNumber(),isOfflineMessage:!1}})):n.isRawMessage()?(c=n.isRawPeerMessage(),d=void 0===(d=d.description)?"":pa(d),i=r?nl(i):i,this.info("Received a %s %s raw message from %s to %s, %s",r?" compressed":"",c?"peer":"channel",oa(o),oa(a),s),c?(o={desc:d,raw:i,peerId:o,properties:{serverReceivedTs:l.toNumber(),isOfflineMessage:n.isFromCache()}},this.emit("peerRawMessage",o)):this.emit("channelRawMessage",{desc:d,raw:i,channelId:a,memberId:o,properties:{serverReceivedTs:l.toNumber(),isOfflineMessage:!1}})):(n.isImageMessage()||n.isFileMessage())&&(i=n.isPeerMessage(),this.info("Received a %s media message from %s to %s, %s",i?"peer":"channel",oa(o),oa(a),s),i?this.emit("peerMediaMessage",{messageType:n.isImageMessage()?"IMAGE":"FILE",details:d,peerId:o,properties:{serverReceivedTs:l.toNumber(),isOfflineMessage:n.isFromCache()}}):this.emit("channelMediaMessage",{messageType:n.isImageMessage()?"IMAGE":"FILE",details:d,memberId:o,channelId:a,properties:{serverReceivedTs:l.toNumber(),isOfflineMessage:n.isFromCache()}})))}},{key:"onSocketReconnect",value:function(e){var t=this;return function(){var n=[0,1].filter((function(t){return t!==e.env}))[0];(n=t.connection.curOpenSockets[n])&&!n.loggedIn&&t.emit("connectionLost")}}},{key:"onUserDrop",value:function(e,t){var n;e=e.code,eb("KickedOff",{code:0,elapse:fb(this.startTime),linkId:parseInt(t.name.split("-")[1],10),lts:U.fromNumber(Date.now()),server:t.address,serverCode:e,sid:Xa(this.instanceId),userId:this.context.uid},null!==(n=this.context.config.enableCloudProxy)&&void 0!==n&&n),10006===e||10001===e?this.warn("Login too often and kicked off, reconnect and login"):10009===e?(this.warn("The instance ID conflicts, reconnecting"),this.instanceId=Bg(),this.context.sid=Xa(this.instanceId),this.emit("instanceChanged",this.instanceId)):[11,14,15,16].includes(e)&&(this.emit("userDrop",e),this.clearSockets())}},{key:"clearSockets",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1];[0,1].forEach((function(r){e.cleanLoginSubs(r,n),e.connection.closeSocket(r,t)}))}},{key:"onMessage",value:function(e){var t=this;return function(n){var r=n.dialogue,i=n.instance,o=n.sequence,a=n.options;if(n.src===t.context.uid)t.log("The message is from the local account, ignored");else{var s=r.toString(),c=t.dialPendingMsgSubjectMap.get(s);if(r="".concat(i,"-").concat(r,"#").concat(o),c)c.next(n),t.log("Env_%d: The dialogue has pending messages, next: %s",e.env,r);else{var u=t.dialogueSequenceLru.get(s);if(c=!u&&o.eq(1),i=void 0!==u&&o.sub(u).eq(1),c||i)t.emitMessage(n,e.env);else{if(u){if(o.lte(u))return;t.log("Env_%d: The message pended, the sequence is not continuous with the last: %s",e.env,r)}else t.log("Env_%d: The message pended, the first sequence is not equal to 1: %s",e.env,r);o=new Pa,t.dialPendingMsgSubjectMap.set(s,o);var l=o.pipe(Qs(Pk),xg((function(e,t){return[].concat(G(e),[t])}),[]),ba((function(e){return G(e).sort((function(e,t){return e=e.sequence,t=t.sequence,e.eq(t)?0:e.gt(t)?1:-1}))})),sm(1));a=!(a=new ae(a)).isFromCache()&&!a.isBufferedMessage(),l.pipe(ob(Bc(a?750:1500)),aa((function(e){if(2>e.length)return!1;for(var t=void 0===u?U.fromNumber(1,!0):u.add(1),n=0;n<e.length;t=t.add(1),n++)if(!e[n].sequence.eq(t))return!1;return!0})),wg((function(){t.dialPendingMsgSubjectMap.delete(s)}))).subscribe((function(n){n.forEach((function(n){t.emitMessage(n,e.env),t.log("Env_%d: The message queue has fully ordered, emitting: %s",e.env,"".concat(n.instance,"-").concat(n.dialogue,"#").concat(n.sequence))}))}),(function(n){n instanceof vg&&l.pipe(Ka(1)).subscribe((function(n){return n.forEach((function(n){t.log("Env_%d: The message pending queue expired, emitting: %s",e.env,"".concat(n.instance,"-").concat(n.dialogue,"#").concat(n.sequence)),t.emitMessage(n,e.env)}))}))})),o.next(n)}}}}}},{key:"onGroupEnterNotice",value:function(){var e=this;return function(t){e.emit("memberNotice",{channelId:t.group,seq:t.seq,instance:t.instance,memberId:t.user,type:"MemberJoined",size:t.size})}}},{key:"onGroupLeaveNotice",value:function(){var e=this;return function(t){e.emit("memberNotice",{channelId:t.group,seq:t.seq,instance:t.instance,memberId:t.user,type:"MemberLeft",size:t.size})}}},{key:"onGroupCountNotice",value:function(){var e=this;return function(t){e.emit("memberNotice",{channelId:t.group,seq:t.seq,instance:t.instance,type:"MemberCountUpdated",size:t.size})}}},{key:"onGroupAttributeAlt",value:function(){var e=this;return function(t){var n=t.group;t=ff(t,kD),e.emit("channelAttributesUpdated",ua({channelId:n},t))}}},{key:"onUserNotice",value:function(e){var t=this;return function(n){t.emit("peerOnlineStatusChanged",{peerId:n.user,instance:n.instance,seq:n.seq,state:e})}}}],[{key:"sendMessageAck",value:function(e,t){var n=new ae(e.options);(n.isInvitation()||n.isPeerMessage())&&t.sendPacket("Ack",{code:0,dialogue:e.dialogue,instance:e.instance,sequence:e.sequence})}}]),t}(tb());m(ls,"genTimeoutError",(function(e,t){return bb(void 0).pipe(cd(void 0===t?1e4:t),ba((function(){throw new db(["Request timed out after %ds",void 0===t?1e4:t],e)})))}));var ms,ol,pl=0,ql=0;Ud.v1=function(e,t,n){n=t&&n||0;var r=t||[],i=(e=e||{}).node||ms,o=void 0!==e.clockseq?e.clockseq:ol;if(null==i||null==o){var a=Jq();null==i&&(i=ms=[1|a[0],a[1],a[2],a[3],a[4],a[5]]),null==o&&(o=ol=16383&(a[6]<<8|a[7]))}a=void 0!==e.msecs?e.msecs:(new Date).getTime();var s=void 0!==e.nsecs?e.nsecs:ql+1,c=a-pl+(s-ql)/1e4;if(0>c&&void 0===e.clockseq&&(o=o+1&16383),(0>c||a>pl)&&void 0===e.nsecs&&(s=0),1e4<=s)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");for(pl=a,ql=s,ol=o,e=(1e4*(268435455&(a+=122192928e5))+s)%4294967296,r[n++]=e>>>24&255,r[n++]=e>>>16&255,r[n++]=e>>>8&255,r[n++]=255&e,e=a/4294967296*1e4&268435455,r[n++]=e>>>8&255,r[n++]=255&e,r[n++]=e>>>24&15|16,r[n++]=e>>>16&255,r[n++]=o>>>8|128,r[n++]=255&o,o=0;6>o;++o)r[n+o]=i[o];return t||Kq(r)},Ud.v4=Ud;var rl=Ph(),vd,bf=S.LocalInvitationFailureReason,Ba=S.LocalInvitationState,lD=(vd=function(e){function t(e,i,o){W(this,t);var a=r.call(this,o,"RtmLocalInvitation",!0);return m(n(a),"state",Ba.IDLE),m(n(a),"localInvitationEnd$",Ca(gb(n(a),"LocalInvitationAccepted"),gb(n(a),"LocalInvitationRefused"),gb(n(a),"LocalInvitationFailure"),gb(n(a),"LocalInvitationCanceled")).pipe(Ka(1))),m(n(a),"callId",Ud.v4()),m(n(a),"_content",""),m(n(a),"_channelId",""),m(n(a),"_response",""),m(n(a),"calleeId",void 0),m(n(a),"logger",void 0),m(n(a),"getSession",void 0),a.calleeId=e,a.getSession=i,a.logger=o,a}la(t,e);var r=ma(t);return Ha(t,[{key:"channelId",get:function(){return this._channelId},set:function(e){this.state!==Ba.IDLE?this.info("set channelId only allow before invitation sent to remote"):(this.log("set channelId for %s",this.callId),this._channelId=e)}},{key:"content",get:function(){return this._content},set:function(e){this.log("set content for %s",this.callId),this._content=e}},{key:"response",get:function(){return this._response},set:function(e){throw new I('Cannot set the "response" of the LocalInvitation instance.',xc)}},{key:"send",value:function(){var e,t=this;if(this.state===Ba.SENT_TO_REMOTE||this.state===Ba.RECEIVED_BY_REMOTE)throw new K("The local invitation send failure. The call invitation has already been sent.",gA);if(this.isLocalInvitationEnd())throw new K("The local invitation send failure. The call invitation has ended.",Ih);if(0<this._channelId.length&&!za(this._channelId))throw new I("Illegal invitation channel ID",xc);if(!za(this.calleeId))throw new I("Illegal invitation callee user ID",xc);if(8192<Ig(this._content))throw new I('The length of the "content" overflows. The number of bytes representing content must not exceed 8  1024 if encoded in UTF-8.',xc);this.state=Ba.SENT_TO_REMOTE,ad(J(w.mark((function n(){var r,i,o;return w.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.getSession().sendInvitationMessage({peerId:t.calleeId,callId:t.callId,extra:t._content,type:"CallInvite",channelId:t._channelId});case 2:if(r=n.sent,i=r.hasPeerReceived,o=r.hasReSent,!t.isLocalInvitationEnd()){n.next=7;break}throw new db("send invitation timeout");case 7:if(t.log("The local invitation has sent to the callee"),i||o){n.next=11;break}throw e=new rl({PEER_NOT_ONLINE:"The peer of the invitation is not online"});case 11:if(i){n.next=14;break}throw e=new rl({RESENT_AND_OFFLINE:"Resent and the peer of the invitation is not online"});case 14:case"end":return n.stop()}}),n)})))).pipe(oe((function(e){return e.pipe(ca((function(e){if(!(e instanceof rl))throw e})),cd(2e3))})),hb(3e4),Ga((function(e){return Sa(e)&&t.warn("local invitation ack timed out"),Z(e)})),ob(this.localInvitationEnd$)).subscribe({next:function(){t.state===Ba.RECEIVED_BY_REMOTE?t.log('The local invitation state is already "RECEIVED_BY_REMOTE", skipped emitting "LocalInvitationReceivedByPeer"'):t.state!==Ba.SENT_TO_REMOTE?t.log("The invitation has ended, skipped emitting the %s event","LocalInvitationReceivedByPeer"):(t.info("The peer received the local invitation %s.",t.callId),t.state=Ba.RECEIVED_BY_REMOTE,t.emit("LocalInvitationReceivedByPeer"),t.localInvitationEnd$.pipe(hb(6e4),Ga((function(e){return Sa(e)&&t.warn("local invitation expired"),Z(e)}))).subscribe({error:function(){t.state=Ba.FAILURE,t.emit("LocalInvitationFailure",bf.INVITATION_EXPIRE)}}))},error:function(n){t.isLocalInvitationEnd()?t.log("The invitation has ended, skipped emitting the %s event","LocalInvitationFailure"):(t.state=Ba.FAILURE,Sa(n)&&e?"PEER_NOT_ONLINE"===e.code?t.emit("LocalInvitationFailure",bf.PEER_OFFLINE):"RESENT_AND_OFFLINE"===e.code&&t.emit("LocalInvitationFailure",bf.PEER_NO_RESPONSE):Sa(n)?t.emit("LocalInvitationFailure",bf.PEER_NO_RESPONSE):"RtmInvalidStatusError"===n.name?t.emit("LocalInvitationFailure",bf.NOT_LOGGEDIN):t.emit("LocalInvitationFailure",bf.UNKNOWN))}})}},{key:"cancel",value:function(){if(this.isLocalInvitationEnd())throw new K("The local invitation cancel failure",Ih);if(this.state===Ba.IDLE)throw new K("The local invitation has not been sent",fA);if(8192<Ig(this._content))throw new I('The length of the "content" overflows. The number of bytes representing content must not exceed 8  1024 if encoded in UTF-8.',xc);this.getSession().sendInvitationMessage({callId:this.callId,peerId:this.calleeId,type:"CallCancel",channelId:this._channelId,extra:this._content}),this.state=Ba.CANCELED,this.emit("LocalInvitationCanceled")}},{key:"onAcceptReceived",value:function(e){if(this.isLocalInvitationEnd()&&this.state!==Ba.ACCEPTED_BY_REMOTE)this.log("The invitation has ended, skipped emitting the %s event","LocalInvitationAccepted");else{if(this.state===Ba.IDLE)throw new K("the local have not sent the invitation, how can remote accept it?");this.getSession().sendInvitationMessage({callId:this.callId,isAcceptAck:!0,type:"CallAccept",peerId:this.calleeId,channelId:this.channelId}),this.state===Ba.ACCEPTED_BY_REMOTE?this.log("already in ACCEPTED_BY_REMOTE state, ignore emit ACCEPTED_BY_REMOTE"):(this.state===Ba.SENT_TO_REMOTE&&(this.log("receive LocalInvitationAccepted before remote response to the invitation"),this.state=Ba.RECEIVED_BY_REMOTE,this.emit("LocalInvitationReceivedByPeer")),this.state=Ba.ACCEPTED_BY_REMOTE,this._response=e,this.emit("LocalInvitationAccepted",e))}}},{key:"onRefuseReceived",value:function(e){if(this.isLocalInvitationEnd())this.log("The invitation has ended, skipped emitting the %s event","LocalInvitationRefused");else{if(this.state===Ba.IDLE)throw new K("the local have not sent the invitation, how can remote refuse it?");this.state===Ba.SENT_TO_REMOTE&&(this.log("receive LocalInvitationRefused before remote response to the invitation"),this.state=Ba.RECEIVED_BY_REMOTE,this.emit("LocalInvitationReceivedByPeer")),this._response=e,this.state=Ba.REFUSED_BY_REMOTE,this.emit("LocalInvitationRefused",e)}}},{key:"isLocalInvitationEnd",value:function(){return[Ba.CANCELED,Ba.FAILURE,Ba.ACCEPTED_BY_REMOTE,Ba.REFUSED_BY_REMOTE].includes(this.state)}}]),t}(tb()),fa(vd.prototype,"send",[Nb],Object.getOwnPropertyDescriptor(vd.prototype,"send"),vd.prototype),fa(vd.prototype,"cancel",[Nb],Object.getOwnPropertyDescriptor(vd.prototype,"cancel"),vd.prototype),vd),Rh=S.RemoteInvitationFailureReason,kb=S.RemoteInvitationState,mD=function(e){function t(e){var i=e.invitationChannel,o=e.extraContent,a=e.callId,s=e.callerId,c=e.logger;e=e.getSession,W(this,t);var u=r.call(this,c,"RtmRemoteInvitation",!0);return m(n(u),"state",kb.INVITATION_RECEIVED),m(n(u),"remoteInvitationEnd$",Ca(gb(n(u),"RemoteInvitationCanceled"),gb(n(u),"RemoteInvitationRefused"),gb(n(u),"RemoteInvitationAccepted"),gb(n(u),"RemoteInvitationFailure")).pipe(Ka(1))),m(n(u),"callerId",void 0),m(n(u),"callId",void 0),m(n(u),"_getSession",void 0),m(n(u),"logger",void 0),m(n(u),"_content",void 0),m(n(u),"_channelId",void 0),m(n(u),"_response",""),u._channelId=i,u._content=o,u.callId=a,u.callerId=s,u._getSession=e,u.logger=c,u.remoteInvitationEnd$.pipe(hb(6e4),Ga((function(e){return Sa(e)&&u.warn("Remote invitation expired"),Z(e)}))).subscribe({error:function(){u.state=kb.FAILURE,u.emit("RemoteInvitationFailure",Rh.INVITATION_EXPIRE)}}),u}la(t,e);var r=ma(t);return Ha(t,[{key:"channelId",get:function(){return this._channelId},set:function(e){throw new I('Cannot set the "response" of the RemoteInvitation instance.',xc)}},{key:"content",get:function(){return this._content},set:function(e){throw new I('Cannot set the "content" of the RemoteInvitation instance.',xc)}},{key:"response",get:function(){return this._response},set:function(e){this._response=e}},{key:"accept",value:function(){var e,t=this;if(this.isRemoteInvitationEnd())throw new K("The local invitation has ended. Cannot accept.",Ih);if(this.state===kb.ACCEPT_SENT_TO_LOCAL)throw new K("The remote invitation is accepting. Cannot do the operation.",Qq);if(8192<Ig(this._response))throw new I('The length of the "response" overflows. The number of bytes representing content must not exceed 8  1024 if encoded in UTF-8.',xc);this.state=kb.ACCEPT_SENT_TO_LOCAL,Xb(mm(1e3).pipe(cb((function(){return ad(J(w.mark((function e(){return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t._getSession().sendInvitationMessage({peerId:t.callerId,callId:t.callId,extra:t.response,type:"CallAccept",isAcceptAck:!1,channelId:t.channelId}));case 1:case"end":return e.stop()}}),e)}))))})),wb((function(t){return e=t.hasPeerReceived})),Ka(1)),gb(this,"RemoteInvitationAccepted")).pipe(hb(5e3),ob(this.remoteInvitationEnd$)).subscribe({error:function(n){if(t.logError(n),t.state=kb.FAILURE,Sa(n))switch(e){case void 0:case!0:return void t.emit("RemoteInvitationFailure",Rh.ACCEPT_FAILURE);case!1:return void t.emit("RemoteInvitationFailure",Rh.PEER_OFFLINE)}t.emit("RemoteInvitationFailure",Rh.UNKNOWN)}})}},{key:"refuse",value:function(){if(this.state===kb.ACCEPT_SENT_TO_LOCAL)throw new K("The remote invitation is accepting. Cannot do the operation.",Qq);if(this.isRemoteInvitationEnd())throw new K("The invitation is end. Cannot refuse",Ih);if(8192<Ig(this._response))throw new I('The length of the "response" overflows. The number of bytes representing content must not exceed 8  1024 if encoded in UTF-8.',xc);this._getSession().sendInvitationMessage({peerId:this.callerId,callId:this.callId,extra:this.response,type:"CallReject",channelId:this.channelId}),this.state=kb.REFUSED,this.emit("RemoteInvitationRefused")}},{key:"onCancelReceived",value:function(e){this.isRemoteInvitationEnd()?this.log("The invitation has ended, skipped emitting the %s event","RemoteInvitationCanceled"):(this.state===kb.ACCEPT_SENT_TO_LOCAL&&this.log("caller canceled before receive accept"),this._content=e,this.state=kb.CANCELED,this.emit("RemoteInvitationCanceled",e))}},{key:"onAcceptAckReceived",value:function(){this.state!==kb.ACCEPT_SENT_TO_LOCAL?this.log("The invitation has ended, skipped emitting the %s event","ori:".concat(this.state,", to: RemoteInvitationAccepted")):(this.state=kb.ACCEPTED,this.emit("RemoteInvitationAccepted"))}},{key:"isRemoteInvitationEnd",value:function(){return[kb.ACCEPTED,kb.REFUSED,kb.CANCELED,kb.FAILURE].includes(this.state)}}]),t}(tb()),nD=function(e){function t(e,i){W(this,t);var o=r.call(this,i,"InvitationManager");return m(n(o),"getSession",void 0),m(n(o),"invitationDispatcher",new ea.EventEmitter),m(n(o),"outgoingLocalInvitations",new Map),m(n(o),"receivedRemoteInvitations",new tc(void 0,{maxlen:1e4})),m(n(o),"logger",void 0),o.getSession=cn(e),o.logger=i,o.invitationDispatcher.on("remoteInvitationToManager",(function(e){var t=e.callId,n=e.extra,r=e.callerId;e=e.channelId,o.receivedRemoteInvitations.has(t)||((n=new mD({callerId:r,callId:t,getSession:o.getSession,logger:i,extraContent:n,invitationChannel:e})).remoteInvitationEnd$.subscribe((function(){o.receivedRemoteInvitations.delete(t)})),o.receivedRemoteInvitations.set(t,n),o.emit("remoteInvitationInstance",n))})),o.invitationDispatcher.on("acceptAckToRemoteInvitation",(function(e){(e=o.receivedRemoteInvitations.get(e.callId))&&e.onAcceptAckReceived()})),o.invitationDispatcher.on("cancelToRemoteInvitation",(function(e){var t=e.extra;(e=o.receivedRemoteInvitations.get(e.callId))&&e.onCancelReceived(t)})),o.invitationDispatcher.on("acceptToLocalInvitation",(function(e){var t=e.extra;(e=o.outgoingLocalInvitations.get(e.callId))&&e.onAcceptReceived(t)})),o.invitationDispatcher.on("refuseToLocalInvitation",(function(e){var t=e.extra;(e=o.outgoingLocalInvitations.get(e.callId))&&e.onRefuseReceived(t)})),o}la(t,e);var r=ma(t);return Ha(t,[{key:"invitationMessageHandler",value:function(e){var t=e.body,n=t.callId,r=t.extra;r=void 0===r?"":r;var i=t.type,o=void 0===(t=t.channel)?"":t,a=e.type;switch(t=e.peerId,e=e.serverReceivedTs,a){case"CallAccept":"ack"===i?this.invitationDispatcher.emit("acceptAckToRemoteInvitation",{callId:n}):"request"===i&&this.invitationDispatcher.emit("acceptToLocalInvitation",{callId:n,extra:r});break;case"CallInvite":this.invitationDispatcher.emit("remoteInvitationToManager",{callId:n,callerId:t,extra:r,channelId:o});break;case"CallCancel":if("0"===n){n="".concat("AgoraRTMLegacyEndcallCompatibleMessagePrefix","_").concat(o,"_").concat(r),this.getSession().emit("peerTextMessage",{peerId:t,properties:{serverReceivedTs:e,isOfflineMessage:!1},text:n});break}this.invitationDispatcher.emit("cancelToRemoteInvitation",{callId:n,extra:r});break;case"CallReject":this.invitationDispatcher.emit("refuseToLocalInvitation",{callId:n,extra:r});break;default:throw Im("invitationType",a)}}},{key:"genLocalInvitation",value:function(e){var t=this,n=new lD(e,this.getSession,this.logger);return n.localInvitationEnd$.subscribe((function(){t.outgoingLocalInvitations.delete(n.callId)})),this.outgoingLocalInvitations.set(n.callId,n),n}}]),t}(tb()),oD=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return lb(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),qC(e,t,{leading:r,maxWait:t,trailing:i})},ub,cf;!function(e){e[e.JOINED=0]="JOINED",e[e.LEFT=1]="LEFT"}(cf||(cf={}));var ns=S.ConnectionState,pD=(ub=function(e){function t(e,i,o,a){W(this,t);var s=r.call(this,a,"RtmChannel",!0);return m(n(s),"onMemberCountUpdated",oD((function(e){e!==s.memberCount&&(s.memberCount=e,s.emit("MemberCountUpdated",e))}),1e3)),m(n(s),"getSession",void 0),m(n(s),"memberCount",0),m(n(s),"memberJoinedLru",new tc(void 0,{maxlen:1e4})),m(n(s),"memberLeftLru",new tc(void 0,{maxlen:1e4})),m(n(s),"memberJoinStateLru",new tc(void 0,{maxlen:1e4})),m(n(s),"attributesSeqLru",new tc(void 0,{maxlen:1e4})),m(n(s),"channelId",void 0),m(n(s),"client",void 0),m(n(s),"onAttributesUpdated",(function(e){var t=e.channelId,n=e.attributeMaps,r=e.seq;e=e.instance.toString();var i=s.attributesSeqLru.get(e);if((!i||r.greaterThan(i))&&(s.attributesSeqLru.set(e,r),t===s.channelId)){for(t={},r=0;r<n.length;r++){var o=n[r];e=o.key,i=o.ms;var a=o.value;if(o=o.origin,"string"!=typeof e||!U.isLong(i)||"string"!=typeof a||!za(o))break;t[e]={value:a,lastUpdateUserId:o,lastUpdateTs:i.toNumber()}}s.emit("AttributesUpdated",t)}})),m(n(s),"onChannelTextMessage",(function(e){var t=e.memberId,n=e.text,r=e.properties;e.channelId===s.channelId&&s.emit("ChannelMessage",{text:n,messageType:S.MessageType.TEXT},t,r)})),m(n(s),"onChannelMediaMessage",(function(e){var t=e.memberId,n=e.properties,r=e.details,i=e.messageType;e.channelId===s.channelId&&("FILE"===i?s.emit("ChannelMessage",{messageType:S.MessageType.FILE,size:parseInt(pa(r.media_size),10),description:pa(r.media_description),fileName:pa(r.media_filename),mediaId:pa(r.media_id),thumbnail:new Blob([r.media_thumbnail])},t,n):"IMAGE"===i&&s.emit("ChannelMessage",{messageType:S.MessageType.IMAGE,size:parseInt(pa(r.media_size),10),description:pa(r.media_description),fileName:pa(r.media_filename),mediaId:pa(r.media_id),thumbnail:new Blob([r.media_thumbnail]),height:parseInt(pa(r.media_height),10),width:parseInt(pa(r.media_width),10),thumbnailHeight:parseInt(pa(r.media_thumbnailheight),10),thumbnailWidth:parseInt(pa(r.media_thumbnailwidth),10)},t,n))})),m(n(s),"onChannelRawMessage",(function(e){var t=e.desc,n=e.raw,r=e.memberId,i=e.properties;e.channelId===s.channelId&&s.emit("ChannelMessage",{messageType:S.MessageType.RAW,rawMessage:n,description:t},r,i)})),m(n(s),"onMemberNotice",(function(e){var t=e.memberId,n=e.type,r=e.size;if(e.channelId===s.channelId){var i=e.instance.toString();e=e.seq.toString();var o={MemberLeft:s.memberLeftLru,MemberJoined:s.memberJoinedLru,MemberCountUpdated:void 0}[n];if(o){if(o.has(i+e))return void s.log("received duplicated %s notice (seq: %s), channel '%s', member '%s'",n,e,oa(s.channelId),oa(t||""));if(o.set(i+e,void 0),"string"!=typeof t)return;if(t!==s.getSession().context.uid){if((i=s.memberJoinStateLru.get(t))===cf.JOINED&&"MemberJoined"===n)return void s.log("received duplicated %s state (seq: %s), channel '%s', member '%s'",n,e,oa(s.channelId),oa(t||""));if(i===cf.LEFT&&"MemberLeft"===n)return void s.log("received duplicated %s state (seq: %s), channel '%s', member '%s'",n,e,oa(s.channelId),oa(t||""))}s.memberJoinStateLru.set(t,"MemberJoined"===n?cf.JOINED:cf.LEFT)}s.info("Channel %s - %s, memberId: %s",n,oa(s.channelId),"MemberCountUpdated"===n?"[unknown]":oa(t||"")),i=t===s.getSession().context.uid,"MemberLeft"===n&&za(t)||"MemberJoined"===n&&za(t)?(i||s.emit(n,t),s.onMemberCountUpdated(r)):"MemberCountUpdated"===n&&"number"==typeof r&&s.onMemberCountUpdated(r)}})),s.getSession=cn(i),s.channelId=e,s.client=o,s.info("A channel created, id %s",oa(e)),s}la(t,e);var r=ma(t);return Ha(t,[{key:"join",value:function(){var e=J(w.mark((function e(){var t,n,r,i,o,a,s;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(za(this.channelId)){e.next=2;break}throw new I(["The %s in the arguments is invalid","channelId"],hA);case 2:e.prev=2,t=this.getSession(),e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(2),new K("The client is not logged in. Cannot do the operation",Vq);case 9:if(!t.joinedChannels.has(this)){e.next=12;break}throw eb("ChnJoin",{cname:this.channelId,lts:U.fromNumber(Date.now()),userId:t.context.uid,elapse:fb(t.startTime),errCode:Uq,sid:Xa(t.instanceId)},null!==(n=this.client.context.config.enableCloudProxy)&&void 0!==n&&n),new K("The channel has joined. Cannot rejoin",Uq);case 12:if(e.prev=12,this.log("Joining the channel %s",oa(this.channelId)),!this.hasOtherChannelJoined()){e.next=17;break}throw eb("ChnJoin",{cname:this.channelId,lts:U.fromNumber(Date.now()),userId:t.context.uid,elapse:fb(t.startTime),errCode:Wq,sid:Xa(t.instanceId)},null!==(o=this.client.context.config.enableCloudProxy)&&void 0!==o&&o),new K("A channel of the same channel ID has already joined. Cannot rejoin",Wq);case 17:if(20!==t.joinedChannels.size){e.next=20;break}throw eb("ChnJoin",{cname:this.channelId,lts:U.fromNumber(Date.now()),userId:t.context.uid,elapse:fb(t.startTime),errCode:Tq,sid:Xa(t.instanceId)},null!==(a=this.client.context.config.enableCloudProxy)&&void 0!==a&&a),new ib("The joined channels has exceeded the limit of 20",Tq);case 20:return eb("ChnJoin",{cname:this.channelId,lts:U.fromNumber(Date.now()),userId:t.context.uid,elapse:fb(t.startTime),errCode:0,sid:Xa(t.instanceId)},null!==(r=this.client.context.config.enableCloudProxy)&&void 0!==r&&r),e.next=23,t.requestChannelJoin(this,this.channelId);case 23:eb("ChnJoinRes",{cname:this.channelId,lts:U.fromNumber(Date.now()),elapse:fb(t.startTime),errCode:0,sid:Xa(t.instanceId),serverErrCode:0,userId:t.context.uid},null!==(i=this.client.context.config.enableCloudProxy)&&void 0!==i&&i),this.info("The channel %s joined successfully",oa(this.channelId)),t.on("channelTextMessage",this.onChannelTextMessage),t.on("channelRawMessage",this.onChannelRawMessage),t.on("channelMediaMessage",this.onChannelMediaMessage),t.on("memberNotice",this.onMemberNotice),t.on("channelAttributesUpdated",this.onAttributesUpdated),e.next=41;break;case 32:if(e.prev=32,e.t1=e.catch(12),this.logError(e.t1),!sa(e.t1)){e.next=37;break}throw e.t1;case 37:if(!Sa(e.t1)){e.next=40;break}throw eb("ChnJoinRes",{cname:this.channelId,lts:U.fromNumber(Date.now()),elapse:fb(t.startTime),errCode:Sq,sid:Xa(t.instanceId),serverErrCode:0,userId:t.context.uid},null!==(s=this.client.context.config.enableCloudProxy)&&void 0!==s&&s),new db(["Join channel %s timed out",oa(this.channelId)],Sq);case 40:throw new Wc(["The channel %s join failure",oa(this.channelId)],{code:Rq,originalError:e.t1});case 41:case"end":return e.stop()}}),e,this,[[2,6],[12,32]])})));return function(){return e.apply(this,arguments)}}()},{key:"leave",value:function(){var e=J(w.mark((function e(){var t,n,r,i;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=this.getSession(),e.next=7;break;case 4:throw e.prev=4,e.t0=e.catch(0),new K("The client is not logged in. Cannot do the operation",jA);case 7:if(n.joinedChannels.has(this)){e.next=9;break}throw new K("The channel does not join. Cannot do the operation",iA);case 9:e.prev=9,n.requestChannelLeave(this,this.channelId),this.memberLeftLru.empty(),this.memberJoinedLru.empty(),this.attributesSeqLru.empty(),this.memberJoinStateLru.empty(),this.memberCount=0,n.removeListener("channelTextMessage",this.onChannelTextMessage),n.removeListener("channelRawMessage",this.onChannelRawMessage),n.removeListener("channelMediaMessage",this.onChannelMediaMessage),n.removeListener("memberNotice",this.onMemberNotice),n.removeListener("channelAttributesUpdated",this.onAttributesUpdated),e.next=32;break;case 23:if(e.prev=23,e.t1=e.catch(9),this.logError(e.t1),!sa(e.t1)){e.next=30;break}throw void 0===e.t1.code&&(e.t1.code=Yq),eb("ChnLeave",{cname:this.channelId,lts:U.fromNumber(Date.now()),elapse:fb(n.startTime),errCode:Yq,sid:Xa(n.instanceId),userId:n.context.uid},null!==(i=this.client.context.config.enableCloudProxy)&&void 0!==i&&i),e.t1;case 30:throw eb("ChnLeave",{cname:this.channelId,lts:U.fromNumber(Date.now()),elapse:fb(n.startTime),errCode:Xq,sid:Xa(n.instanceId),userId:n.context.uid},null!==(r=this.client.context.config.enableCloudProxy)&&void 0!==r&&r),new Wc("The channel leave failure",{code:Xq,originalError:e.t1});case 32:eb("ChnLeave",{cname:this.channelId,lts:U.fromNumber(Date.now()),elapse:fb(n.startTime),errCode:0,sid:Xa(n.instanceId),userId:n.context.uid},null!==(t=this.client.context.config.enableCloudProxy)&&void 0!==t&&t);case 33:case"end":return e.stop()}}),e,this,[[0,4],[9,23]])})));return function(){return e.apply(this,arguments)}}()},{key:"sendMessage",value:function(){var e=J(w.mark((function e(t){var n,r,i,o,a,s=this,c=arguments;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=1<c.length&&void 0!==c[1]?c[1]:{},r=n.enableHistoricalMessaging,i=void 0!==r&&r,Tm(t,Hh),e.prev=2,o=this.getSession(),e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(2),new K("The client is not logged in. Cannot do the operation",ig);case 9:if(o.joinedChannels.has(this)){e.next=11;break}throw new K("The channel does not join. Cannot do the operation",ig);case 11:if(this.client.connectionState!==ns.RECONNECTING){e.next=16;break}return a=Date.now(),e.next=15,new Promise((function(e,n){var r=function(){var r=J(w.mark((function r(){var c;return w.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c=Date.now()-a,r.prev=1,r.next=4,Gg({message:t,peerId:s.channelId,toPeer:!1,session:s.getSession(),errorCodes:{NOT_LOGGED_IN:ig,TOO_OFTEN:Mq},diff:c,logger:s.logger,options:{enableHistoricalMessaging:i,enableOfflineMessaging:!1}});case 4:e(),r.next=12;break;case 7:r.prev=7,r.t0=r.catch(1),Sa(r.t0)&&n(new db(Yd(s.name,"sendMessageToPeer",1e4),Yk)),sa(r.t0)&&n(r.t0),n(new da("Channel message send failure",{code:hg,originalError:r.t0}));case 12:return r.prev=12,clearTimeout(o),r.finish(12);case 15:case"end":return r.stop()}}),r,null,[[1,7,12,15]])})));return function(){return r.apply(this,arguments)}}();s.client.internalEmitter.once("RECONNECTED",r);var o=setTimeout((function(){s.client.internalEmitter.off("RECONNECTED",r),n(new db(Yd(s.name,"sendMessageToPeer",1e4),Yk))}),9e3)}));case 15:return e.abrupt("return");case 16:if(this.client.connectionState===ns.CONNECTED){e.next=18;break}throw new K("The client is not logged in. Cannot do the operation",ig);case 18:return e.prev=18,e.next=21,Gg({message:t,peerId:this.channelId,toPeer:!1,session:this.getSession(),errorCodes:{NOT_LOGGED_IN:ig,TOO_OFTEN:Mq},diff:0,logger:this.logger,options:{enableHistoricalMessaging:i,enableOfflineMessaging:!1}});case 21:e.next=31;break;case 23:if(e.prev=23,e.t1=e.catch(18),!Sa(e.t1)){e.next=27;break}throw new db(Yd(this.name,"sendMessage",1e4),Yk);case 27:if(!sa(e.t1)){e.next=30;break}throw this.logError(e.t1),e.t1;case 30:throw new Wc("The channel message send failure",hg);case 31:case"end":return e.stop()}}),e,this,[[2,6],[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getMembers",value:function(){var e=J(w.mark((function e(){var t,n,r;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,e.prev=1,t=this.getSession(),e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(1),new K("The client is not logged in. Cannot do the operation",eA);case 8:if(t.joinedChannels.has(this)){e.next=10;break}throw new K("The channel does not join. Cannot do the operation",dA);case 10:return n=this.getSession().requestChannelMemberList(this.channelId),e.next=13,n.pipe(ba((function(e){return e.memberInfos.map((function(e){return e.account}))}))).toPromise();case 13:return r=e.sent,this.info("Channel %s - get members success, %o",oa(this.channelId),r.map(oa)),e.abrupt("return",r);case 18:if(e.prev=18,e.t1=e.catch(0),!sa(e.t1)){e.next=23;break}throw this.logError(e.t1),e.t1;case 23:throw new Wc("The channel members get failure",bA);case 24:case"end":return e.stop()}}),e,this,[[0,18],[1,5]])})));return function(){return e.apply(this,arguments)}}()},{key:"hasOtherChannelJoined",value:function(){var e=this;return!this.getSession().joinedChannels.has(this)&&Array.from(this.getSession().joinedChannels).some((function(t){return t.channelId===e.channelId}))}}]),t}(tb()),fa(ub.prototype,"join",[Nb],Object.getOwnPropertyDescriptor(ub.prototype,"join"),ub.prototype),fa(ub.prototype,"leave",[Nb],Object.getOwnPropertyDescriptor(ub.prototype,"leave"),ub.prototype),fa(ub.prototype,"sendMessage",[Nb],Object.getOwnPropertyDescriptor(ub.prototype,"sendMessage"),ub.prototype),fa(ub.prototype,"getMembers",[Ma],Object.getOwnPropertyDescriptor(ub.prototype,"getMembers"),ub.prototype),ub),E,Eb=S.ConnectionChangeReason,T=S.ConnectionState,os={DISCONNECTED:1,CONNECTING:2,CONNECTED:3,RECONNECTING:4,ABORTED:5},qD={LOGIN:1,LOGIN_SUCCESS:2,LOGIN_FAILURE:3,LOGIN_TIMEOUT:4,INTERRUPTED:5,LOGOUT:6,BANNED_BY_SERVER:7,REMOTE_LOGIN:8},rD=(E=function(e){function t(e,i,o,a){W(this,t);var s=r.call(this,i,"RtmClient",!0);return m(n(s),"connectionState",T.DISCONNECTED),m(n(s),"internalEmitter",new ea),m(n(s),"context",void 0),m(n(s),"attributes",{}),m(n(s),"loginPromise",void 0),m(n(s),"attributeDrafts",new Set),m(n(s),"session",void 0),m(n(s),"lastLoginTime",void 0),m(n(s),"reconnId",0),m(n(s),"channelAttributesCacheLru",new tc(void 0,{maxlen:1e4})),m(n(s),"invitationManager",void 0),m(n(s),"subscribedPeerStatusCache",{}),m(n(s),"peerStatusSeqLru",new tc(void 0,{maxlen:1e4})),m(n(s),"peerUnreachableTimers",{}),m(n(s),"mediaTaskManager",void 0),m(n(s),"setParameters",void 0),m(n(s),"updateConfig",void 0),m(n(s),"userDropHandler",(function(e){if(s.connectionState!==T.ABORTED)switch(e){case 11:s.logError("Kicked off by remote session"),s.onConnectionStateChanged(T.ABORTED,Eb.REMOTE_LOGIN);break;case 14:case 15:case 16:s.logError("Server banned because of illegal ".concat({14:"User ID",15:"IP",16:"Channel Name"}[e])),s.onConnectionStateChanged(T.ABORTED,Eb.BANNED_BY_SERVER);break;default:s.logError("User kicked off for unknown code: ".concat(e)),s.onConnectionStateChanged(T.ABORTED,Eb.INTERRUPTED)}})),s.context=new ZC(e,o,i),s.mediaTaskManager=new fs(i),s.context.config=o,s.internalEmitter.setMaxListeners(512),s.setParameters=a.bind(n(s)),s.updateConfig=a.bind(n(s)),s.invitationManager=new nD((function(){return s.session}),i),s.invitationManager.on("remoteInvitationInstance",(function(e){s.emit("RemoteInvitationReceived",e)})),s}la(t,e);var r=ma(t);return Ha(t,[{key:"renewToken",value:function(){var e=J(w.mark((function e(t){var n,r,i,o=this;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"==typeof t&&0!==t.length){e.next=2;break}throw new I("Invalid argument",rA);case 2:if(this.connectionState!==T.ABORTED){e.next=5;break}return e.next=5,new Promise((function(){}));case 5:if(this.connectionState===T.CONNECTED||this.connectionState===T.RECONNECTING){e.next=7;break}throw new K("The client is not logged in",uA);case 7:if(void 0!==this.session){e.next=9;break}throw new Fa({SESSION_NOT_FOUND:"Failed to get session of the client"});case 9:return e.prev=9,n=this.context.token,this.context.token=t,e.next=14,this.session.connection.apClient.getApEdgeInfo$(!1).pipe(Dd((function(){return Error("No available edge address to connect")})),oe((function(e){return e.pipe(ca((function(e){if(sa(e))throw e})),cd(2500),Ka(4))})),Ka(1),hb(2e4),Ga((function(e){return Sa(e)&&o.warn("renewToken timed out"),Z(e)}))).toPromise();case 14:r=e.sent,i=r.ticket,e.next=27;break;case 18:if(e.prev=18,e.t0=e.catch(9),this.context.token=n,e.t0.code!==$q&&e.t0.code!==ar){e.next=23;break}throw new Ye("Invalid token",tA);case 23:if(e.t0.code!==Kh){e.next=25;break}throw new Ye("The token expired",sA);case 25:if(!Sa(e.t0)){e.next=27;break}throw new db("Renew token timed out",qA);case 27:this.session.curLoginSockets.filter((function(e){return void 0!==e})).forEach((function(e){return e.ticket=i}));case 28:case"end":return e.stop()}}),e,this,[[9,18]])})));return function(t){return e.apply(this,arguments)}}()},{key:"queryPeersOnlineStatus",value:function(){var e=J(w.mark((function e(t){var n,r,i=this;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connectionState===T.CONNECTED){e.next=2;break}throw new K("The client is not logged in",pA);case 2:if(void 0!==this.session){e.next=4;break}throw new Fa({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:if(!(!Array.isArray(t)||0===t.length||t.some((function(e){return!za(e)}))||256<t.length)){e.next=6;break}throw new I("invalid arguments",er);case 6:return e.next=8,this.session.requestPeersOnlineStatus(t).toPromise();case 8:return n=e.sent,r=uc(Jk(n.userInfos,"account"),(function(e){return!!e.ts})),Object.keys(r).forEach((function(e){if(e in i.subscribedPeerStatusCache&&i.subscribedPeerStatusCache[e]!==S.PeerOnlineState.UNREACHABLE){var t=r[e]?S.PeerOnlineState.ONLINE:S.PeerOnlineState.OFFLINE;i.emit("PeersOnlineStatusChanged",m({},e,t)),i.subscribedPeerStatusCache[e]=t}})),e.abrupt("return",r);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChannelMemberCount",value:function(){var e=J(w.mark((function e(t){var n,r,i,o,a,s,c,u=this;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connectionState===T.CONNECTED){e.next=2;break}throw new K("The client is not logged in",aA);case 2:if(void 0!==this.session){e.next=4;break}throw new Fa({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:if(Array.isArray(t)&&t.every((function(e){return"string"==typeof e}))&&0!==t.length){e.next=6;break}throw new I("Invalid arguments: channelIds",Oq);case 6:if(!(32<t.length)){e.next=8;break}throw new I("getChannelMemberCount exceed limit of 32 channelIds",$z);case 8:n=0;case 9:if(!(n<t.length)){e.next=16;break}if(za(r=t[n])){e.next=13;break}throw new I(["getChannelMemberCount channel id %s is invalid",r],Oq);case 13:n++,e.next=9;break;case 16:return e.next=18,this.session.requestGetChannelMemberCount(t).toPromise();case 18:for(i=e.sent,o=i.groupInfos,a={},s=function(e){var t=(e=o[e]).group,n=e.memberCount;za(t)&&"number"==typeof n&&(u.session.joinedChannels.forEach((function(e){e.channelId===t&&e.onMemberCountUpdated(n)})),a[t]=n)},c=0;c<o.length;c++)s(c);return e.abrupt("return",a);case 24:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setLocalUserAttributes",value:function(){var e=J(w.mark((function e(t){var n,r;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(uf({attributes:t,maxAttrValueSize:8192,maxAttrsCount:32,maxTotalSize:16384}),this.connectionState===T.CONNECTED){e.next=3;break}throw new K("The client is not logged in",Ub);case 3:if(void 0!==this.session){e.next=5;break}throw new Fa({SESSION_NOT_FOUND:"Failed to get session of the client"});case 5:return n=this.session.requestSetLocalUserAttributes(t).toPromise(),r={attribute:t,promise:n},this.attributeDrafts.add(r),e.prev=8,e.next=11,n;case 11:this.attributes=t,e.next=19;break;case 14:if(e.prev=14,e.t0=e.catch(8),!sa(e.t0)){e.next=18;break}throw e.t0;case 18:throw new I("arguments is not valid",Ja);case 19:return e.prev=19,this.attributeDrafts.delete(r),e.finish(19);case 22:case"end":return e.stop()}}),e,this,[[8,14,19,22]])})));return function(t){return e.apply(this,arguments)}}()},{key:"setChannelAttributes",value:function(){var e=J(w.mark((function e(t,n){var r,i,o,a,s,c=arguments;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=2<c.length&&void 0!==c[2]?c[2]:{},i=r.enableNotificationToChannelMembers,o=void 0!==i&&i,uf({attributes:n,maxAttrValueSize:8192,maxAttrsCount:32,maxTotalSize:32768}),this.connectionState===T.CONNECTED){e.next=4;break}throw new K("The client is not logged in",Ub);case 4:if(void 0!==this.session){e.next=6;break}throw new Fa({SESSION_NOT_FOUND:"Failed to get session of the client"});case 6:return a=this.session.requestSetChannelAttributes(t,n,o).toPromise(),e.prev=7,e.next=10,a;case 10:s=uc(n,(function(e){return new Blob([e]).size})),this.channelAttributesCacheLru.set(t,s),e.next=19;break;case 14:if(e.prev=14,e.t0=e.catch(7),!sa(e.t0)){e.next=18;break}throw e.t0;case 18:throw new I("arguments is not valid",Ja);case 19:case"end":return e.stop()}}),e,this,[[7,14]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addOrUpdateLocalUserAttributes",value:function(){var e=J(w.mark((function e(t){var n,r,i;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=ua(ua({},this.attributes),t),uf({attributes:t,maxAttrValueSize:8192,maxAttrsCount:32,maxTotalSize:16384}),uf({attributes:n,maxAttrValueSize:8192,maxAttrsCount:32,maxTotalSize:16384}),this.connectionState===T.CONNECTED){e.next=5;break}throw new K("The client is not logged in",Ub);case 5:if(void 0!==this.session){e.next=7;break}throw new Fa({SESSION_NOT_FOUND:"Failed to get session of the client"});case 7:return r=this.session.requestAddOrUpdateLocalUserAttributes(t).toPromise(),i={attribute:n,promise:r},this.attributeDrafts.add(i),e.prev=10,e.next=13,r;case 13:this.attributes=n,e.next=21;break;case 16:if(e.prev=16,e.t0=e.catch(10),!sa(e.t0)){e.next=20;break}throw e.t0;case 20:throw new I("arguments is not valid",er);case 21:return e.prev=21,this.attributeDrafts.delete(i),e.finish(21);case 24:case"end":return e.stop()}}),e,this,[[10,16,21,24]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addOrUpdateChannelAttributes",value:function(){var e=J(w.mark((function e(t,n){var r,i,o,a,s,c,u,l=arguments;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=2<l.length&&void 0!==l[2]?l[2]:{},i=r.enableNotificationToChannelMembers,o=void 0!==i&&i,a=this.channelAttributesCacheLru.get(t,{}),s=uc(n,(function(e){return new Blob([e]).size})),c=ua(ua({},a),s),uf({attributes:n,attrSizeMap:c,maxAttrValueSize:8192,maxAttrsCount:32,maxTotalSize:32768}),this.connectionState===T.CONNECTED){e.next=7;break}throw new K("The client is not logged in",Ub);case 7:if(void 0!==this.session){e.next=9;break}throw new Fa({SESSION_NOT_FOUND:"Failed to get session of the client"});case 9:return u=this.session.requestAddOrUpdateChannelAttributes(t,n,o).toPromise(),e.prev=10,e.next=13,u;case 13:this.channelAttributesCacheLru.set(t,c),e.next=21;break;case 16:if(e.prev=16,e.t0=e.catch(10),!sa(e.t0)){e.next=20;break}throw e.t0;case 20:throw new I("arguments is not valid",Ja);case 21:case"end":return e.stop()}}),e,this,[[10,16]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deleteLocalUserAttributesByKeys",value:function(){var e=J(w.mark((function e(t){var n,r,i,o;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(t)&&0!==t.length&&!t.some((function(e){return 0===e.length}))){e.next=2;break}throw new K("arguments is not valid",Ja);case 2:if(this.connectionState===T.CONNECTED){e.next=4;break}throw new K("The client is not logged in",Ub);case 4:if(void 0!==this.session){e.next=6;break}throw new Fa({SESSION_NOT_FOUND:"Failed to get session of the client"});case 6:return n=this.session.requestDeleteLocalUserAttributesByKeys(t).toPromise(),r={attribute:Gk(this.attributes,t),promise:n},this.attributeDrafts.add(r),e.prev=9,e.next=12,n;case 12:for(i=0;i<t.length;i++)o=t[i],delete this.attributes[o];e.next=20;break;case 15:if(e.prev=15,e.t0=e.catch(9),!sa(e.t0)){e.next=19;break}throw e.t0;case 19:throw new I("arguments is not valid",Ja);case 20:return e.prev=20,this.attributeDrafts.delete(r),e.finish(20);case 23:case"end":return e.stop()}}),e,this,[[9,15,20,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteChannelAttributesByKeys",value:function(){var e=J(w.mark((function e(t,n){var r,i,o,a,s,c,u,l=arguments;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=2<l.length&&void 0!==l[2]?l[2]:{},i=r.enableNotificationToChannelMembers,o=void 0!==i&&i,Array.isArray(n)&&0!==n.length&&za(t)&&!n.some((function(e){return 0===e.length||512<e.length}))){e.next=3;break}throw new K("arguments is not valid",Ja);case 3:if(this.connectionState===T.CONNECTED){e.next=5;break}throw new K("The client is not logged in",Ub);case 5:if(void 0!==this.session){e.next=7;break}throw new Fa({SESSION_NOT_FOUND:"Failed to get session of the client"});case 7:return a=this.session.requestDeleteChannelAttributesByKeys(t,n,o).toPromise(),e.prev=8,e.next=11,a;case 11:if(s=this.channelAttributesCacheLru.get(t))for(c=0;c<n.length;c++)u=n[c],delete s[u];e.next=20;break;case 15:if(e.prev=15,e.t0=e.catch(8),!sa(e.t0)){e.next=19;break}throw e.t0;case 19:throw new I("arguments is not valid",Ja);case 20:case"end":return e.stop()}}),e,this,[[8,15]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"clearLocalUserAttributes",value:function(){var e=J(w.mark((function e(){var t,n;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connectionState===T.CONNECTED){e.next=2;break}throw new K("The client is not logged in",Ub);case 2:if(void 0!==this.session){e.next=4;break}throw new Fa({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:return t=this.session.requestClearLocalUserAttributes().toPromise(),n={attribute:{},promise:t},this.attributeDrafts.add(n),e.prev=7,e.next=10,t;case 10:this.attributes={},e.next=18;break;case 13:if(e.prev=13,e.t0=e.catch(7),!sa(e.t0)){e.next=17;break}throw e.t0;case 17:throw new I("arguments is not valid",Ja);case 18:return e.prev=18,this.attributeDrafts.delete(n),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[7,13,18,21]])})));return function(){return e.apply(this,arguments)}}()},{key:"clearChannelAttributes",value:function(){var e=J(w.mark((function e(t){var n,r,i,o,a=arguments;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=1<a.length&&void 0!==a[1]?a[1]:{},r=n.enableNotificationToChannelMembers,i=void 0!==r&&r,this.connectionState===T.CONNECTED){e.next=3;break}throw new K("The client is not logged in",Ub);case 3:if(void 0!==this.session){e.next=5;break}throw new Fa({SESSION_NOT_FOUND:"Failed to get session of the client"});case 5:return o=this.session.requestClearChannelAttributes(t,i).toPromise(),e.prev=6,e.next=9,o;case 9:this.channelAttributesCacheLru.delete(t),e.next=17;break;case 12:if(e.prev=12,e.t0=e.catch(6),!sa(e.t0)){e.next=16;break}throw e.t0;case 16:throw new I("arguments is not valid",Ja);case 17:case"end":return e.stop()}}),e,this,[[6,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getUserAttributes",value:function(){var e=J(w.mark((function e(t){var n,r,i;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(za(t)){e.next=2;break}throw new I("Not a valid user ID",Ja);case 2:if(this.connectionState===T.CONNECTED){e.next=4;break}throw new K("The client is not logged in",Ub);case 4:if(void 0!==this.session){e.next=6;break}throw new Fa({SESSION_NOT_FOUND:"Failed to get session of the client"});case 6:return e.prev=6,e.next=9,this.session.requestGetUserAttributeKeys(t).toPromise();case 9:return n=e.sent,r=n.keys,e.next=13,this.session.requestGetUserAttributesByKeys(t,r.slice(0,512)).toPromise();case 13:i=e.sent,e.next=21;break;case 16:if(e.prev=16,e.t0=e.catch(6),!sa(e.t0)){e.next=20;break}throw e.t0;case 20:throw new I("arguments is not valid",Ja);case 21:return e.abrupt("return",Yp(i.attributeInfos.map((function(e){return[e.key,e.value]}))));case 22:case"end":return e.stop()}}),e,this,[[6,16]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getChannelAttributes",value:function(){var e=J(w.mark((function e(t){var n,r,i,o,a,s,c,u,l,d,h;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(za(t)){e.next=2;break}throw new I("Not a valid channel ID",Ja);case 2:if(this.connectionState===T.CONNECTED){e.next=4;break}throw new K("The client is not logged in",Ub);case 4:if(void 0!==this.session){e.next=6;break}throw new Fa({SESSION_NOT_FOUND:"Failed to get session of the client"});case 6:return e.prev=6,e.next=9,this.session.requestGetChannelAttributesKeys(t).toPromise();case 9:return n=e.sent,r=n.keys,e.next=13,this.session.requestGetChannelAttributesByKeys(t,r).toPromise();case 13:i=e.sent,o=i.attributeMaps,e.next=22;break;case 17:if(e.prev=17,e.t0=e.catch(6),!sa(e.t0)){e.next=21;break}throw e.t0;case 21:throw new I("arguments is not valid",Ja);case 22:a={},s=0;case 24:if(!(s<o.length)){e.next=32;break}if(c=o[s],u=c.key,l=c.ms,d=c.value,h=c.origin,"string"==typeof u&&U.isLong(l)&&"string"==typeof d&&za(h)){e.next=28;break}return e.abrupt("break",32);case 28:a[u]={value:d,lastUpdateUserId:h,lastUpdateTs:l.toNumber()};case 29:s++,e.next=24;break;case 32:return this.channelAttributesCacheLru.set(t,uc(a,(function(e){return new Blob([e.value]).size}))),e.abrupt("return",a);case 34:case"end":return e.stop()}}),e,this,[[6,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getChannelAttributesByKeys",value:function(){var e=J(w.mark((function e(t,n){var r,i,o,a,s,c,u,l,d,h;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connectionState===T.CONNECTED){e.next=2;break}throw new K("The client is not logged in",Ub);case 2:if(void 0!==this.session){e.next=4;break}throw new Fa({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:return Hm(t,n),e.prev=5,e.next=8,this.session.requestGetChannelAttributesByKeys(t,n).toPromise();case 8:r=e.sent,i=r.attributeMaps,e.next=17;break;case 12:if(e.prev=12,e.t0=e.catch(5),!sa(e.t0)){e.next=16;break}throw e.t0;case 16:throw new I("arguments is not valid",Ja);case 17:o={},a=this.channelAttributesCacheLru.get(t,{}),s=0;case 20:if(!(s<i.length)){e.next=29;break}if(c=i[s],u=c.key,l=c.ms,d=c.value,h=c.origin,"string"==typeof u&&U.isLong(l)&&"string"==typeof d&&za(h)){e.next=24;break}return e.abrupt("break",29);case 24:a[u]=new Blob([d]).size,o[u]={value:d,lastUpdateUserId:h,lastUpdateTs:l.toNumber()};case 26:s++,e.next=20;break;case 29:return this.channelAttributesCacheLru.set(t,a),e.abrupt("return",o);case 31:case"end":return e.stop()}}),e,this,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getUserAttributesByKeys",value:function(){var e=J(w.mark((function e(t,n){var r;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connectionState===T.CONNECTED){e.next=2;break}throw new K("The client is not logged in",Ub);case 2:if(void 0!==this.session){e.next=4;break}throw new Fa({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:return Hm(t,n),e.prev=5,e.next=8,this.session.requestGetUserAttributesByKeys(t,n).toPromise();case 8:r=e.sent,e.next=16;break;case 11:if(e.prev=11,e.t0=e.catch(5),!sa(e.t0)){e.next=15;break}throw e.t0;case 15:throw new I("arguments is not valid",Ja);case 16:return e.abrupt("return",Yp(r.attributeInfos.map((function(e){return[e.key,e.value]}))));case 17:case"end":return e.stop()}}),e,this,[[5,11]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=J(w.mark((function e(t){var n,r,i,o,a=this;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Uk=!0,n=Bg(),r=t.token,t.token===this.context.appId&&(r=void 0),setTimeout((function(){var e;eb("Session",{appId:a.context.appId,did:navigator.userAgent,elapse:fb(a.session&&a.session.startTime),index:{index1:t.uid,index2:a.context.appId,index3:"enableLogUpload=".concat(a.context.config.enableLogUpload)},installId:gg,lts:U.fromNumber(Date.now()),os:7,sid:Xa(n),token:r||"",userId:t.uid,ver:"1.4.3-203",buildno:603,subVersion:203,version:4},null!==(e=a.context.config.enableCloudProxy)&&void 0!==e&&e)}),1e4),yd(t)&&za(t.uid)){e.next=7;break}throw new I("not a valid user id",Jh);case 7:if("string"!=typeof r||!r){e.next=11;break}this.context.token=r,e.next=13;break;case 11:if("string"==typeof r||null==r){e.next=13;break}throw new I('The "token" is not a valid string.',Jh);case 13:return i=Date.now(),this.context.sid=Xa(n),this.loginPromise=this.loginImpl({uid:t.uid,instanceId:n}),this.info("RTM Client logging in as ".concat(oa(t.uid))),e.prev=17,e.next=20,this.loginPromise;case 20:e.next=27;break;case 22:throw e.prev=22,e.t0=e.catch(17),sa(e.t0)&&eb("Link",{ackedServerIp:"",destServerIp:"",ec:e.t0.code||1,sc:e.t0.serverCode,elapse:fb(this.session&&this.session.startTime),lts:U.fromNumber(Date.now()),responseTime:Date.now()-i,sid:Xa(n),userId:t.uid},null!==(o=this.context.config.enableCloudProxy)&&void 0!==o&&o),this.context.token=void 0,e.t0;case 27:return e.prev=27,this.loginPromise=void 0,e.finish(27);case 30:Uk=!1;case 31:case"end":return e.stop()}}),e,this,[[17,22,27,30]])})));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=J(w.mark((function e(){var t;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.loginPromise){e.next=3;break}return e.next=3,this.loginPromise;case 3:if(this.connectionState!==T.DISCONNECTED){e.next=6;break}throw this.logError("Already in logout state"),new K("Logout failure. The client has already been logged out",br);case 6:if(this.connectionState!==T.ABORTED){e.next=10;break}return this.info('Reset connection state from "ABORTED" to "DISCONNECTED"'),this.onConnectionStateChanged(T.DISCONNECTED,Eb.LOGOUT),e.abrupt("return");case 10:if(void 0!==this.session){e.next=13;break}return this.onConnectionStateChanged(T.DISCONNECTED,Eb.LOGOUT),e.abrupt("return");case 13:return eb("Logout",{elapse:fb(this.session.startTime),lts:U.fromNumber(Date.now()),sid:Xa(this.session.instanceId),userId:this.context.uid},null!==(t=this.context.config.enableCloudProxy)&&void 0!==t&&t),e.next=16,this.session.logoutHandler();case 16:this.onConnectionStateChanged(T.DISCONNECTED,Eb.LOGOUT),this.log("Log out success");case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"logoutSync",value:function(){var e,t=this;if(this.connectionState===T.DISCONNECTED)throw this.logError("Already in logout state"),new K("Logout failure. The client has already been logged out",br);this.connectionState===T.ABORTED?this.info('Reset connection state from "ABORTED" to "DISCONNECTED"'):void 0!==this.session&&(eb("Logout",{elapse:fb(this.session.startTime),lts:U.fromNumber(Date.now()),sid:Xa(this.session.instanceId),userId:this.context.uid},null!==(e=this.context.config.enableCloudProxy)&&void 0!==e&&e),this.session.logoutHandler().then((function(){t.log("Log out success")}))),this.onConnectionStateChanged(T.DISCONNECTED,Eb.LOGOUT)}},{key:"sendMessageToPeer",value:function(){var e=J(w.mark((function e(t,n){var r,i,o,a,s,c,u=this,l=arguments;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=2<l.length&&void 0!==l[2]?l[2]:{},i=r.enableOfflineMessaging,o=void 0!==i&&i,a=r.enableHistoricalMessaging,s=void 0!==a&&a,Tm(t,ve),this.connectionState!==T.RECONNECTING){e.next=5;break}return c=Date.now(),e.abrupt("return",new Promise((function(e,r){var i=function(){var i=J(w.mark((function i(){var l;return w.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(void 0!==u.session){i.next=2;break}throw new Fa({SESSION_NOT_FOUND:"Failed to get session of the client"});case 2:return l=Date.now()-c,i.prev=3,i.t0=e,i.next=7,Gg({message:t,peerId:n,toPeer:!0,session:u.session,errorCodes:{NOT_LOGGED_IN:al,TOO_OFTEN:dr},diff:l,logger:u.logger,options:{enableHistoricalMessaging:s,enableOfflineMessaging:o}});case 7:i.t1=i.sent,(0,i.t0)(i.t1),i.next=16;break;case 11:i.prev=11,i.t2=i.catch(3),Sa(i.t2)&&r(new db(Yd(u.name,"sendMessageToPeer",1e4),Zk)),sa(i.t2)&&r(i.t2),r(new da("Peer-to-peer message send failure",{code:cr,originalError:i.t2}));case 16:return i.prev=16,clearTimeout(a),i.finish(16);case 19:case"end":return i.stop()}}),i,null,[[3,11,16,19]])})));return function(){return i.apply(this,arguments)}}();u.internalEmitter.once("RECONNECTED",i);var a=setTimeout((function(){u.internalEmitter.off("RECONNECTED",i),r(new db(Yd(u.name,"sendMessageToPeer",1e4),Zk))}),9e3)})));case 5:if(this.connectionState===T.CONNECTED){e.next=7;break}throw new K("Failed to send the peer-to-peer message. The client is not logged in",al);case 7:if(void 0!==this.session){e.next=9;break}throw new Fa({SESSION_NOT_FOUND:"Failed to get session of the client"});case 9:return e.prev=9,e.next=12,Gg({message:t,peerId:n,toPeer:!0,session:this.session,errorCodes:{NOT_LOGGED_IN:al,TOO_OFTEN:dr},diff:0,logger:this.logger,options:{enableHistoricalMessaging:s,enableOfflineMessaging:o}});case 12:return e.abrupt("return",e.sent);case 15:if(e.prev=15,e.t0=e.catch(9),!Sa(e.t0)){e.next=19;break}throw new db(Yd(this.name,"sendMessageToPeer",1e4),Zk);case 19:if(!sa(e.t0)){e.next=21;break}throw e.t0;case 21:throw new da("Peer-to-peer message send failure",{code:cr,originalError:e.t0});case 22:case"end":return e.stop()}}),e,this,[[9,15]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createChannel",value:function(e){var t=this;if(!za(e))throw new I(["The %s in the arguments is invalid",Object.keys({channelId:e})[0]],Zz);return new pD(e,(function(){return t.session}),this,this.logger)}},{key:"createLocalInvitation",value:function(e){if(!za(e))throw new I(["The %s in the arguments is invalid",Object.keys({calleeId:e})[0]],xc);return this.invitationManager.genLocalInvitation(e)}},{key:"subscribePeersOnlineStatus",value:function(){var e=J(w.mark((function e(t){var n,r,i,o,a,s,c,u,l,d,h,p,f,A=this;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connectionState===T.CONNECTED){e.next=2;break}throw new K("The client is not logged in",bl);case 2:if(void 0!==this.session){e.next=4;break}throw new Fa({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:if(Array.isArray(t)&&0!==t.length){e.next=6;break}throw new I("Invalid arguments: peerIds",kg);case 6:n=0;case 7:if(!(n<t.length)){e.next=14;break}if(za(r=t[n])){e.next=11;break}throw new I(["subscribePeersOnlineStatus peer id %s is invalid",r],kg);case 11:n++,e.next=7;break;case 14:if(!(512<(i=t&&t.length?vk(t):[]).length+Object.keys(this.subscribedPeerStatusCache).length)){e.next=17;break}throw new ib("Subscribed peers overflows",gr);case 17:return e.next=19,this.session.requestSubscribePeersOnlineStatus(i).toPromise();case 19:o=e.sent,a=o.errors,s=[],c=[],u=0;case 24:if(!(u<a.length)){e.next=32;break}if(l=a[u],d=l.code,"string"==typeof(h=l.account)){e.next=28;break}throw new da("Returned account is invalid",fr);case 28:0!==d&&s.push(h);case 29:u++,e.next=24;break;case 32:for(p=0;p<i.length;p++)f=i[p],s.includes(f)||(c.push(f),this.subscribedPeerStatusCache[f]=void 0);if(this.session.requestPeersOnlineStatus(c).pipe(ba((function(e){return uc(Jk(e.userInfos,"account"),(function(e){return!!e.ts}))}))).subscribe((function(e){e=uc(e,(function(e,t){return e=e?S.PeerOnlineState.ONLINE:S.PeerOnlineState.OFFLINE,A.subscribedPeerStatusCache[t]=e})),A.emit("PeersOnlineStatusChanged",e)})),0===s.length){e.next=36;break}throw new da("Subscription failed",fr);case 36:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"unsubscribePeersOnlineStatus",value:function(){var e=J(w.mark((function e(t){var n,r,i,o,a;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connectionState===T.CONNECTED){e.next=2;break}throw new K("The client is not logged in",bl);case 2:if(void 0!==this.session){e.next=4;break}throw new Fa({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:if(Array.isArray(t)&&0!==t.length){e.next=6;break}throw new I("Invalid arguments: peerIds",kg);case 6:n=0;case 7:if(!(n<t.length)){e.next=14;break}if(za(r=t[n])){e.next=11;break}throw new I(["subscribePeersOnlineStatus peer id %s is invalid",r],kg);case 11:n++,e.next=7;break;case 14:if(!(512<t.length)){e.next=16;break}throw new ib("Unsubscribed peers overflows",gr);case 16:for(i=t&&t.length?vk(t):[],this.session.requestUnsubscribePeersOnlineStatus(i),o=0;o<i.length;o++)a=i[o],delete this.subscribedPeerStatusCache[a];case 19:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queryPeersBySubscriptionOption",value:function(){var e=J(w.mark((function e(t){return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.connectionState===T.CONNECTED){e.next=2;break}throw new K("The client is not logged in",bl);case 2:if(t!==S.PeerSubscriptionOption.ONLINE_STATUS){e.next=4;break}return e.abrupt("return",Object.keys(this.subscribedPeerStatusCache));case 4:throw new I("Subscription option not supported",kg);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createMessage",value:function(e){return"IMAGE"===e.messageType?ua({width:0,height:0,fileName:"",description:"",thumbnail:new Blob,thumbnailWidth:0,thumbnailHeight:0,size:0},e):"FILE"===e.messageType?ua({fileName:"",description:"",thumbnail:new Blob,size:0},e):e}},{key:"downloadMedia",value:function(){var e=J(w.mark((function e(t){var n,r,i,o,a,s,c,u,l,d,h,p,f,A,g=this,m=arguments;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=1<m.length&&void 0!==m[1]?m[1]:{},"string"==typeof t){e.next=3;break}throw new I("invalid mediaId format",cl);case 3:if(e.prev=3,r=t.split("z"),i=ra(r,3),o=i[0],a=i[1],s=i[2],c=o.slice(1,65),u=bD(c),l=parseInt(o.slice(65),10),d=parseInt(a,10),h=parseInt(s,10),!(Number.isNaN(l)||Number.isNaN(d)||Number.isNaN(h))){e.next=12;break}throw new I("Invalid mediaId content",cl);case 12:e.next=19;break;case 14:if(e.prev=14,e.t0=e.catch(3),!sa(e.t0)){e.next=18;break}throw e.t0;case 18:throw new I("parse mediaId failure",{code:cl,originalError:e.t0});case 19:if(this.connectionState===T.CONNECTED){e.next=21;break}throw new K("The client is not logged in, cannot download",CA);case 21:if(void 0!==this.session){e.next=23;break}throw new Fa({SESSION_NOT_FOUND:"Failed to get session of the client"});case 23:return p=this.mediaTaskManager.addDownloadTask({unit:d,zone:l,hashHexStr:c,size:h},(function(){if(void 0===g.session)throw new Fa({SESSION_NOT_FOUND:"Failed to get session of the client"});return g.session.requestFileDownloadIndexGet({hash:u,zone:l,unit:d,size:h}).toPromise()}),n),e.next=26,this.mediaTaskManager.waitMediaTask(p);case 26:return f=e.sent,A=f.payload,e.abrupt("return",A);case 29:case"end":return e.stop()}}),e,this,[[3,14]])})));return function(t){return e.apply(this,arguments)}}()},{key:"createMediaMessageByUploading",value:function(){var e=J(w.mark((function e(t){var n,r,i,o,a,s,c,u,l,d,h,p,f,A,g,m,v,y,E,b,_,C,S,R,O=this,k=arguments;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=1<k.length&&void 0!==k[1]?k[1]:{},r=2<k.length&&void 0!==k[2]?k[2]:{},yd(n)){e.next=4;break}throw new I("Invalid params",wf);case 4:if(i="thumbnailWidth"in n||"thumbnailHeight"in n||"width"in n||"height"in n,o=n.messageType,a=void 0===o?i?"IMAGE":"FILE":o,s=n.description,c=void 0===s?"":s,u=n.fileName,l=void 0===u?"":u,d=n.thumbnail,"string"==typeof n.messageType&&"string"==typeof c&&"string"==typeof l&&(Pm(d)||void 0===d)&&Pm(t)){e.next=8;break}throw new I("Invalid message params type",wf);case 8:if(!i||"FILE"!==a){e.next=10;break}throw new I("Invalid message params, unexpected field in RtmFileMessage",wf);case 10:if(!(33554432<(h=t.size))){e.next=13;break}throw new ib("The payload size overflow 32 MB",wA);case 13:return e.next=15,Ji(t);case 15:return p=e.sent,e.next=18,aD(p);case 18:if(f=e.sent,this.connectionState===T.CONNECTED){e.next=21;break}throw new K("The client is not logged in",yA);case 21:if("IMAGE"!==a){e.next=29;break}return e.next=24,Xt(n,p);case 24:A=e.sent,g=A.height,m=A.width,v=A.thumbnailWidth,y=A.thumbnailHeight;case 29:return E=this.mediaTaskManager.addUploadTask({file:new Uint8Array(p),hash:f},(function(){if(void 0===O.session)throw new Fa({SESSION_NOT_FOUND:"Failed to get session of the client"});return O.session.fetchFileUploadIndexGet({hash:f,size:h})}),(function(e,t){if(void 0===O.session)throw new Fa({SESSION_NOT_FOUND:"Failed to get session of the client"});return O.session.requestFileUploadIndexSet({hash:f,unit:e,servers:t}).toPromise()}),r),e.next=32,this.mediaTaskManager.waitMediaTask(E);case 32:if(b=e.sent,_=b.zone,C=b.retUnit,"IMAGE"!==a){e.next=38;break}return S={height:g,width:m,fileName:l,size:h,description:c,thumbnail:d,messageType:a,thumbnailWidth:v,thumbnailHeight:y,mediaId:"0".concat($r(f)).concat(_,"z").concat(C,"z").concat(h,"z").concat(g,"z").concat(m)},e.abrupt("return",S);case 38:return R={fileName:l,size:h,description:c,mediaId:"0".concat($r(f)).concat(_,"z").concat(C,"z").concat(h),thumbnail:d,messageType:a},e.abrupt("return",R);case 40:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loginImpl",value:function(){var e=J(w.mark((function e(t){var n,r,i,o,a=this;return w.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.uid,r=t.instanceId,!(void 0!==this.lastLoginTime&&500>Date.now()-this.lastLoginTime)){e.next=4;break}throw new rC(["The frequency of login exceeded the limit of %d queries per second",2],mA);case 4:if(this.connectionState===T.DISCONNECTED){e.next=6;break}throw new K("The SDK is either logging in or has logged in the Agora RTM system",kA);case 6:e.prev=6,this.context.uid=n,e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(6),new I(["The %s in the arguments is invalid",Object.keys({uid:n})[0]],Jh);case 13:return this.onConnectionStateChanged(T.CONNECTING,Eb.LOGIN),this.session=i=new ls(this.context,new Yr(this.context,this.logger,!1),r,this.logger),o=function(){a.connectionState===T.CONNECTED&&(a.onConnectionStateChanged(T.RECONNECTING,Eb.INTERRUPTED),a.session)&&a.session.once("userJoined",(function(){a.onConnectionStateChanged(T.CONNECTED,Eb.LOGIN_SUCCESS)}))},i.on("connectionLost",o),i.on("tokenExpired",(function(){a.emit("TokenExpired")})),i.once("userDrop",this.userDropHandler),this.session.on("peerTextMessage",(function(e){a.emit("MessageFromPeer",{text:e.text,messageType:S.MessageType.TEXT},e.peerId,e.properties)})),this.session.on("peerMediaMessage",(function(e){var t=e.peerId,n=e.properties,r=e.messageType;e=e.details,"FILE"===r?a.emit("MessageFromPeer",{messageType:S.MessageType.FILE,size:parseInt(pa(e.media_size),10),description:pa(e.media_description),fileName:pa(e.media_filename),mediaId:pa(e.media_id),thumbnail:new Blob([e.media_thumbnail])},t,n):"IMAGE"===r&&a.emit("MessageFromPeer",{messageType:S.MessageType.IMAGE,size:parseInt(pa(e.media_size),10),description:pa(e.media_description),fileName:pa(e.media_filename),mediaId:pa(e.media_id),thumbnail:new Blob([e.media_thumbnail]),height:parseInt(pa(e.media_height),10),width:parseInt(pa(e.media_width),10),thumbnailHeight:parseInt(pa(e.media_thumbnailheight),10),thumbnailWidth:parseInt(pa(e.media_thumbnailwidth),10)},t,n)})),this.session.on("peerRawMessage",(function(e){a.emit("MessageFromPeer",{rawMessage:e.raw,description:e.desc,messageType:S.MessageType.RAW},e.peerId,e.properties)})),i.on("instanceChanged",(function(e){return r=e})),i.on("peerOnlineStatusChanged",(function(e){var t=e.instance.toString()+e.state,n=a.peerStatusSeqLru.get(t);!n||e.seq.greaterThan(n)?(a.peerStatusSeqLru.set(t,e.seq),e.state!==a.subscribedPeerStatusCache[e.peerId]&&a.emit("PeersOnlineStatusChanged",m({},e.peerId,e.state)),a.subscribedPeerStatusCache[e.peerId]=e.state,clearTimeout(a.peerUnreachableTimers[t]),e.state===S.PeerOnlineState.UNREACHABLE&&(a.peerUnreachableTimers[t]=setTimeout((function(){a.subscribedPeerStatusCache[e.peerId]===S.PeerOnlineState.UNREACHABLE&&(a.subscribedPeerStatusCache[e.peerId]=S.PeerOnlineState.ONLINE,a.emit("PeersOnlineStatusChanged",m({},e.peerId,S.PeerOnlineState.ONLINE)))}),3e4))):a.log("peerOnlineStatusChanged dedup for %s, %d",t,e.seq.toNumber())})),i.on("invitationMessage",this.invitationManager.invitationMessageHandler.bind(this.invitationManager)),i.on("channelAttributesUpdated",(function(e){var t=e.channelId;e=e.attributeMaps;for(var n={},r=0;r<e.length;r++){var i=e[r],o=i.key,s=i.ms,c=i.value;if(i=i.origin,"string"!=typeof o||!U.isLong(s)||"string"!=typeof c||!za(i))break;n[o]=new Blob([c]).size}a.channelAttributesCacheLru.set(t,n)})),i.on("userJoined",(function(e){if(0!==Object.keys(a.attributes).length){if(void 0===a.session)return;a.session.requestSetLocalUserAttributes(a.attributes,e).toPromise()}if(0!==a.attributeDrafts.size)for(var t=function(t,n){var r=(t=n[t]).attribute;t.promise.then((function(){void 0!==a.session&&a.session.requestSetLocalUserAttributes(r,e).toPromise()}))},n=0,r=Array.from(a.attributeDrafts);n<r.length;n++)t(n,r);0!==Object.keys(a.subscribedPeerStatusCache).length&&i.requestSubscribePeersOnlineStatus(Object.keys(a.subscribedPeerStatusCache))})),this.lastLoginTime=Date.now(),e.prev=29,e.next=32,i.loginHandler().toPromise();case 32:this.mediaTaskManager.setAuthInfo({ticket:i.connection.curOpenSockets.filter((function(e){return void 0!==e}))[0].ticket,instance:i.instanceId,useNewDomain:.5<=Math.random(),loginOpt:i.userJoinOptions.toLong()}),e.next=44;break;case 35:if(e.prev=35,e.t1=e.catch(29),!Sa(e.t1)){e.next=40;break}throw this.onConnectionStateChanged(T.DISCONNECTED,Eb.LOGIN_TIMEOUT),new db(Yd(this.name,"login",2e4),lA);case 40:if(this.onConnectionStateChanged(T.DISCONNECTED,Eb.LOGIN_FAILURE),!sa(e.t1)){e.next=43;break}throw e.t1;case 43:throw new da("Login failure",{code:Zq,originalError:e.t1});case 44:this.onConnectionStateChanged(T.CONNECTED,Eb.LOGIN_SUCCESS);case 45:case"end":return e.stop()}}),e,this,[[6,10],[29,35]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onConnectionStateChanged",value:function(e,t){var n,r=this;e===T.RECONNECTING&&(this.reconnId+=1),eb("ConnectionStateChange",{elapse:fb(this.session&&this.session.startTime),lts:U.fromNumber(Date.now()),newState:os[e],oldState:os[this.connectionState],reason:qD[t],sid:Xa(this.session&&this.session.instanceId||U.fromNumber(0)),userId:this.context.uid,reconnId:this.reconnId},null!==(n=this.context.config.enableCloudProxy)&&void 0!==n&&n),this.connectionState===T.RECONNECTING&&e===T.CONNECTED&&(0!==Object.keys(this.subscribedPeerStatusCache).length&&void 0!==this.session&&this.session.requestPeersOnlineStatus(Object.keys(this.subscribedPeerStatusCache)).pipe(ba((function(e){return uc(Jk(e.userInfos,"account"),(function(e){return!!e.ts}))}))).subscribe((function(e){e=uc(e,(function(e,t){return e=e?S.PeerOnlineState.ONLINE:S.PeerOnlineState.OFFLINE,r.subscribedPeerStatusCache[t]=e})),r.emit("PeersOnlineStatusChanged",e)})),this.internalEmitter.emit("RECONNECTED")),this.connectionState=e,e!==T.ABORTED&&e!==T.DISCONNECTED||(this.reconnId=0,this.attributes={},this.session&&(this.session.removeAllListeners(),this.session.joinedChannels.clear(),this.session.msgDedupLru.empty(),this.session.dialogueSequenceLru.empty(),this.session.dialPendingMsgSubjectMap.clear()),this.session=void 0,this.channelAttributesCacheLru.empty(),this.peerStatusSeqLru.empty(),this.peerUnreachableTimers={},this.subscribedPeerStatusCache={},this.attributeDrafts.clear(),this.context.token=void 0),this.mediaTaskManager.emit("connectionStateChanged",e),this.emit("ConnectionStateChanged",e,t)}}]),t}(tb()),fa(E.prototype,"renewToken",[Ma],Object.getOwnPropertyDescriptor(E.prototype,"renewToken"),E.prototype),fa(E.prototype,"queryPeersOnlineStatus",[Ma],Object.getOwnPropertyDescriptor(E.prototype,"queryPeersOnlineStatus"),E.prototype),fa(E.prototype,"getChannelMemberCount",[Ma],Object.getOwnPropertyDescriptor(E.prototype,"getChannelMemberCount"),E.prototype),fa(E.prototype,"setLocalUserAttributes",[Ma],Object.getOwnPropertyDescriptor(E.prototype,"setLocalUserAttributes"),E.prototype),fa(E.prototype,"setChannelAttributes",[Ma],Object.getOwnPropertyDescriptor(E.prototype,"setChannelAttributes"),E.prototype),fa(E.prototype,"addOrUpdateLocalUserAttributes",[Ma],Object.getOwnPropertyDescriptor(E.prototype,"addOrUpdateLocalUserAttributes"),E.prototype),fa(E.prototype,"addOrUpdateChannelAttributes",[Ma],Object.getOwnPropertyDescriptor(E.prototype,"addOrUpdateChannelAttributes"),E.prototype),fa(E.prototype,"deleteLocalUserAttributesByKeys",[Ma],Object.getOwnPropertyDescriptor(E.prototype,"deleteLocalUserAttributesByKeys"),E.prototype),fa(E.prototype,"deleteChannelAttributesByKeys",[Ma],Object.getOwnPropertyDescriptor(E.prototype,"deleteChannelAttributesByKeys"),E.prototype),fa(E.prototype,"clearLocalUserAttributes",[Nb],Object.getOwnPropertyDescriptor(E.prototype,"clearLocalUserAttributes"),E.prototype),fa(E.prototype,"clearChannelAttributes",[Ma],Object.getOwnPropertyDescriptor(E.prototype,"clearChannelAttributes"),E.prototype),fa(E.prototype,"getUserAttributes",[Ma],Object.getOwnPropertyDescriptor(E.prototype,"getUserAttributes"),E.prototype),fa(E.prototype,"getChannelAttributes",[Ma],Object.getOwnPropertyDescriptor(E.prototype,"getChannelAttributes"),E.prototype),fa(E.prototype,"getChannelAttributesByKeys",[Ma],Object.getOwnPropertyDescriptor(E.prototype,"getChannelAttributesByKeys"),E.prototype),fa(E.prototype,"getUserAttributesByKeys",[Ma],Object.getOwnPropertyDescriptor(E.prototype,"getUserAttributesByKeys"),E.prototype),fa(E.prototype,"login",[Nb],Object.getOwnPropertyDescriptor(E.prototype,"login"),E.prototype),fa(E.prototype,"logout",[Nb],Object.getOwnPropertyDescriptor(E.prototype,"logout"),E.prototype),fa(E.prototype,"logoutSync",[Nb],Object.getOwnPropertyDescriptor(E.prototype,"logoutSync"),E.prototype),fa(E.prototype,"sendMessageToPeer",[Ma],Object.getOwnPropertyDescriptor(E.prototype,"sendMessageToPeer"),E.prototype),fa(E.prototype,"createChannel",[Ma],Object.getOwnPropertyDescriptor(E.prototype,"createChannel"),E.prototype),fa(E.prototype,"createLocalInvitation",[Ma],Object.getOwnPropertyDescriptor(E.prototype,"createLocalInvitation"),E.prototype),fa(E.prototype,"subscribePeersOnlineStatus",[Ma],Object.getOwnPropertyDescriptor(E.prototype,"subscribePeersOnlineStatus"),E.prototype),fa(E.prototype,"unsubscribePeersOnlineStatus",[Ma],Object.getOwnPropertyDescriptor(E.prototype,"unsubscribePeersOnlineStatus"),E.prototype),fa(E.prototype,"queryPeersBySubscriptionOption",[Ma],Object.getOwnPropertyDescriptor(E.prototype,"queryPeersBySubscriptionOption"),E.prototype),fa(E.prototype,"createMessage",[Nb],Object.getOwnPropertyDescriptor(E.prototype,"createMessage"),E.prototype),fa(E.prototype,"downloadMedia",[Nb],Object.getOwnPropertyDescriptor(E.prototype,"downloadMedia"),E.prototype),fa(E.prototype,"createMediaMessageByUploading",[Nb],Object.getOwnPropertyDescriptor(E.prototype,"createMediaMessageByUploading"),E.prototype),E),ps={LOG_FILTER_OFF:{error:!1,warn:!1,info:!1,track:!1,debug:!1},LOG_FILTER_ERROR:{error:!0,warn:!1,info:!1,track:!1,debug:!1},LOG_FILTER_WARNING:{error:!0,warn:!0,info:!1,track:!1,debug:!1},LOG_FILTER_INFO:{error:!0,warn:!0,info:!0,track:!1,debug:!1},LOG_FILTER_DEBUG:{error:!0,warn:!0,info:!0,track:!0,debug:!0}},qs={enableLogUpload:!1,logFilter:ps.LOG_FILTER_INFO,enableCloudProxy:!1},Zd=ua(ua({createInstance:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length?arguments[2]:void 0;if(!/^[\dA-Za-z]{32}$/.test(e))throw new I(["The %s in the arguments is invalid",Object.keys({appId:e})[0]],Nq);var r=Object.keys(t).filter((function(e){return!(e in qs)}));if(0!==r.length)throw new I("Invalid RTM config: ".concat(r.join(", ")),Nq);var i=ua(ua({},qs),t);if(void 0!==n&&(!Array.isArray(n)||0===n.length))throw new I("Invalid area config");if(null!=n){if(!n.every((function(e){return e in S.LegacyAreaCode})))throw new I("Invalid area codes: ".concat(n.filter((function(e){return!(e in S)})).join(", ")));M=xe(n.map((function(e){return zC[e]})))}n=jl=Ya.__global_unique_id__=(Ya.__global_unique_id__||0)+1;var o=DC(i);r=EC(i);var a=FC(i),s=GC(n,i),c=Tr(n,i),u=c("RTM:DEBUG","<Entry> ");return Mr.rtmConfig=i,o("The Agora RTM Web SDK version is %s","1.4.3-203"),t.enableCloudProxy&&o("RTM cloud proxy enabled"),t.enableLogUpload&&o("Log upload enabled"),M&&u("Area is set to %s",Array.from(M.CODES).map((function(e){return xf(F).find((function(t){return F[t]===e}))})).join(", ")),u("Creating an RtmClient instance"),u('The Git commit ID is "'.concat("v1.4.3-17-g1e27aa38",'"')),u("The App ID is %s",Um(e,4,10,"*".repeat(6))),o("The process ID is %s",gg),u("The build is %s","v1.4.3-17-g1e27aa38"),u("NODE_ENV is %s","production"),new rD(e,{genLogger:c,genTracker:s,info:o,warn:r,logError:a,loggerId:n},i,(function(e){for(var t=0,n=xf(e);t<n.length;t++){var r=n[t];try{var a=e[r];null!=a&&(e.enableCloudProxy&&o("RTM cloud proxy enabled"),e.enableLogUpload&&o("Log upload enabled"),i[r]=a)}catch(e){throw new I(["The %s in the arguments is invalid",r],void 0)}}}))},BUILD:"v1.4.3-17-g1e27aa38",VERSION:"1.4.3-203",END_CALL_PREFIX:"AgoraRTMLegacyEndcallCompatibleMessagePrefix",processId:gg,ConnectionChangeReason:S.ConnectionChangeReason,ConnectionState:S.ConnectionState,LocalInvitationFailureReason:S.LocalInvitationFailureReason,LocalInvitationState:S.LocalInvitationState,RemoteInvitationFailureReason:S.RemoteInvitationFailureReason,RemoteInvitationState:S.RemoteInvitationState,MessageType:S.MessageType,PeerOnlineState:S.PeerOnlineState,PeerSubscriptionOption:S.PeerSubscriptionOption},ps),{},{setParameter:function(e,t){Object.keys(Nc).includes(e)&&(Nc[e]=t)},getParameter:function(e){return Nc[e]},setArea:function(e){var t=e.areaCodes;if(e=e.excludedArea,!Array.isArray(t)||0===t.length||!t.every((function(e){return e in S.AreaCode})))throw new I("Invalid area config");if(void 0!==e&&e===S.AreaCode.GLOBAL)throw new I("Excluded area cannot be global");if(void 0===e)M=xe(t.map((function(e){return F[e]})));else{if(t.includes(e))throw new I("Excluded area cannot be in areaCodes");if(!(e in F))throw new I("Invalid excludedArea:",e);M=bu({areas:t.map((function(e){return F[e]})),excludedArea:F[e]})}}});return Zd},module.exports=t()},1684:e=>{"use strict";e.exports=function(e,t,n){if("function"==typeof Array.prototype.findIndex)return e.findIndex(t,n);if("function"!=typeof t)throw new TypeError("predicate must be a function");var r=Object(e),i=r.length;if(0===i)return-1;for(var o=0;o<i;o++)if(t.call(n,r[o],o,r))return o;return-1}},6511:(e,t,n)=>{"use strict";var r=n(7418),i={};function o(e,t,n,r,i,o,a,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],l=0;(c=new Error(t.replace(/%s/g,(function(){return u[l++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}var a="mixins";e.exports=function(e,t,n){var s=[],c={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},u={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},l={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)h(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=r({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=r({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=f(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=r({},e.propTypes,t)},statics:function(e,t){!function(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){if(o(!(n in l),'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n),n in e)return o("DEFINE_MANY_MERGED"===(u.hasOwnProperty(n)?u[n]:null),"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),void(e[n]=f(e[n],r));e[n]=r}}}(e,t)},autobind:function(){}};function d(e,t){var n=c.hasOwnProperty(t)?c[t]:null;y.hasOwnProperty(t)&&o("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&o("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function h(e,n){if(n){o("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),o(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var r=e.prototype,i=r.__reactAutoBindPairs;for(var s in n.hasOwnProperty(a)&&l.mixins(e,n.mixins),n)if(n.hasOwnProperty(s)&&s!==a){var u=n[s],h=r.hasOwnProperty(s);if(d(h,s),l.hasOwnProperty(s))l[s](e,u);else{var p=c.hasOwnProperty(s);if("function"!=typeof u||p||h||!1===n.autobind)if(h){var g=c[s];o(p&&("DEFINE_MANY_MERGED"===g||"DEFINE_MANY"===g),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",g,s),"DEFINE_MANY_MERGED"===g?r[s]=f(r[s],u):"DEFINE_MANY"===g&&(r[s]=A(r[s],u))}else r[s]=u;else i.push(s,u),r[s]=u}}}}function p(e,t){for(var n in o(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),t)t.hasOwnProperty(n)&&(o(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function f(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return p(i,n),p(i,r),i}}function A(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function g(e,t){return t.bind(e)}var m={componentDidMount:function(){this.__isMounted=!0}},v={componentWillUnmount:function(){this.__isMounted=!1}},y={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},E=function(){};return r(E.prototype,e.prototype,y),function(e){var t=function(e,r,a){this.__reactAutoBindPairs.length&&function(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];e[r]=g(e,i)}}(this),this.props=e,this.context=r,this.refs=i,this.updater=a||n,this.state=null;var s=this.getInitialState?this.getInitialState():null;o("object"==typeof s&&!Array.isArray(s),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=s};for(var r in t.prototype=new E,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],s.forEach(h.bind(null,t)),h(t,m),h(t,e),h(t,v),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),o(t.prototype.render,"createClass(...): Class specification must implement a `render` method."),c)t.prototype[r]||(t.prototype[r]=null);return t}}},2555:(e,t,n)=>{"use strict";var r=n(7294),i=n(6511);if(void 0===r)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var o=(new r.Component).updater;e.exports=i(r.Component,r.isValidElement,o)},6238:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e)};var r,i=(r=n(5477))&&r.__esModule?r:{default:r};e.exports=t.default},638:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"==typeof e&&n.test(e)};var n=/-webkit-|-moz-|-ms-/;e.exports=t.default},1008:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(7537),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;600;700&display=swap);"]),a.push([e.id,"@font-face {\n  font-family: 'icomoon';\n  src: url('https://dbudicf5k4as1.cloudfront.net/10/icomoon.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: block;\n}\n\n[class^='icon-'],\n[class*=' icon-'] {\n  /* use !important to prevent issues with browser extensions that change fonts */\n  font-family: 'icomoon' !important;\n  speak: never;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.icon-demote-filled:before {\n  content: '\\e912';\n  color: #fafafa;\n}\n.icon-demote-outlined:before {\n  content: '\\e922';\n  color: #fafafa;\n}\n.icon-active-speaker:before {\n  content: '\\e903';\n  color: #099dfd;\n}\n.icon-alert:before {\n  content: '\\e924';\n  color: #ff414d;\n}\n.icon-arrow-down:before {\n  content: '\\e900';\n}\n.icon-arrow-up:before {\n  content: '\\e901';\n}\n.icon-back-btn:before {\n  content: '\\e902';\n}\n.icon-chat-filled:before {\n  content: '\\e904';\n  color: #c5c5c5;\n}\n.icon-chat-nav:before {\n  content: '\\e907';\n}\n.icon-chat-outlined:before {\n  content: '\\e910';\n  color: #c5c5c5;\n}\n.icon-check:before {\n  content: '\\e905';\n  color: #29c157;\n}\n.icon-clipboard:before {\n  content: '\\e906';\n}\n.icon-close:before {\n  content: '\\e908';\n}\n.icon-collapse:before {\n  content: '\\e913';\n  color: #fff;\n}\n.icon-connection-bad:before {\n  content: '\\e909';\n  color: #ffab00;\n}\n.icon-connection-good:before {\n  content: '\\e90a';\n  color: #29c157;\n}\n.icon-connection-loading:before {\n  content: '\\e90b';\n  color: #b3b3b3;\n}\n.icon-connection-unpublished:before {\n  content: '\\e90c';\n  color: #b3b3b3;\n}\n.icon-connection-unsupported:before {\n  content: '\\e90d';\n  color: #b3b3b3;\n}\n.icon-connection-very-bad:before {\n  content: '\\e90e';\n  color: #ff414d;\n}\n.icon-downside-triangle:before {\n  content: '\\e936';\n  color: #555;\n}\n.icon-end-call:before {\n  content: '\\e90f';\n}\n.icon-expand:before {\n  content: '\\e923';\n  color: #fff;\n}\n.icon-grid:before {\n  content: '\\e947';\n  color: #fff;\n}\n.icon-info:before {\n  content: '\\e911';\n}\n.icon-link-share:before {\n  content: '\\e93b';\n  color: #099dfd;\n}\n.icon-list-view:before {\n  content: '\\e914';\n}\n.icon-lower-hand:before {\n  content: '\\e915';\n  color: #099dfd;\n}\n.icon-mic-off:before {\n  content: '\\e916';\n}\n.icon-mic-off-filled:before {\n  content: '\\e948';\n  color: #c5c5c5;\n}\n.icon-mic-off-outlined:before {\n  content: '\\e949';\n  color: #c5c5c5;\n}\n.icon-mic-on:before {\n  content: '\\e917';\n}\n.icon-mic-on-filled:before {\n  content: '\\e94a';\n  color: #c5c5c5;\n}\n.icon-mic-on-outlined:before {\n  content: '\\e94b';\n  color: #c5c5c5;\n}\n.icon-more-menu:before {\n  content: '\\e918';\n}\n.icon-no-cam .path1:before {\n  content: '\\e919';\n  color: rgb(143, 143, 143);\n}\n.icon-no-cam .path2:before {\n  content: '\\e91a';\n  margin-left: -1em;\n  color: rgb(255, 171, 0);\n}\n.icon-no-cam .path3:before {\n  content: '\\e91b';\n  margin-left: -1em;\n  color: rgb(255, 255, 255);\n}\n.icon-no-cam .path4:before {\n  content: '\\e91c';\n  margin-left: -1em;\n  color: rgb(255, 255, 255);\n}\n.icon-no-mic .path1:before {\n  content: '\\e91d';\n  color: rgb(143, 143, 143);\n}\n.icon-no-mic .path2:before {\n  content: '\\e91e';\n  margin-left: -1em;\n  color: rgb(255, 171, 0);\n}\n.icon-no-mic .path3:before {\n  content: '\\e91f';\n  margin-left: -1em;\n  color: rgb(255, 255, 255);\n}\n.icon-no-mic .path4:before {\n  content: '\\e920';\n  margin-left: -1em;\n  color: rgb(255, 255, 255);\n}\n.icon-participants:before {\n  content: '\\e926';\n  color: #fff;\n}\n.icon-pencil-filled:before {\n  content: '\\e940';\n}\n.icon-pencil-outlined:before {\n  content: '\\e957';\n}\n.icon-people:before {\n  content: '\\e946';\n  color: #777;\n}\n.icon-person:before {\n  content: '\\e921';\n  color: #808080;\n}\n.icon-pin-filled:before {\n  content: '\\e94c';\n  color: #c5c5c5;\n}\n.icon-pin-outlined:before {\n  content: '\\e94d';\n  color: #c5c5c5;\n}\n.icon-pinned:before {\n  content: '\\e94e';\n  color: #fff;\n}\n.icon-profile .path1:before {\n  content: '\\e937';\n  color: rgb(0, 0, 0);\n}\n.icon-profile .path2:before {\n  content: '\\e938';\n  margin-left: -1em;\n  color: rgb(9, 157, 253);\n}\n.icon-profile .path3:before {\n  content: '\\e939';\n  margin-left: -1em;\n  color: rgb(255, 255, 255);\n}\n.icon-profile .path4:before {\n  content: '\\e93a';\n  margin-left: -1em;\n  color: rgb(255, 255, 255);\n}\n.icon-promote-filled:before {\n  content: '\\e94f';\n  color: #fafafa;\n}\n.icon-promote-outlined:before {\n  content: '\\e950';\n  color: #fafafa;\n}\n.icon-raise-hand:before {\n  content: '\\e927';\n  color: #099dfd;\n}\n.icon-recording:before {\n  content: '\\e928';\n}\n.icon-remove:before {\n  content: '\\e929';\n}\n.icon-remove-meeting:before {\n  content: '\\e943';\n  color: #e7414c;\n}\n.icon-screen-share:before {\n  content: '\\e92a';\n}\n.icon-send:before {\n  content: '\\e92b';\n}\n.icon-settings:before {\n  content: '\\e92c';\n}\n.icon-share:before {\n  content: '\\e92d';\n}\n.icon-speaker:before {\n  content: '\\e925';\n  color: #808080;\n}\n.icon-stop-recording:before {\n  content: '\\e92e';\n  color: #ff414d;\n}\n.icon-stop-screen-share:before {\n  content: '\\e92f';\n}\n.icon-switch-camera:before {\n  content: '\\e930';\n}\n.icon-tick:before {\n  content: '\\e932';\n}\n.icon-tick-fill:before {\n  content: '\\e931';\n  color: #36b37e;\n}\n.icon-unpin-filled:before {\n  content: '\\e951';\n  color: #d9d9d9;\n}\n.icon-unpin-outlined:before {\n  content: '\\e952';\n  color: #d9d9d9;\n}\n.icon-video-off:before {\n  content: '\\e933';\n}\n.icon-video-off-filled:before {\n  content: '\\e953';\n  color: #c5c5c5;\n}\n.icon-video-off-outlined:before {\n  content: '\\e954';\n  color: #c5c5c5;\n}\n.icon-video-on:before {\n  content: '\\e934';\n}\n.icon-video-on-filled:before {\n  content: '\\e955';\n  color: #c5c5c5;\n}\n.icon-video-on-outlined:before {\n  content: '\\e956';\n  color: #c5c5c5;\n}\n.icon-video-plus:before {\n  content: '\\e935';\n}\n","",{version:3,sources:["webpack://./src/assets/font-styles.css"],names:[],mappings:"AAEA;EACE,sBAAsB;EACtB,kFAAkF;EAClF,mBAAmB;EACnB,kBAAkB;EAClB,mBAAmB;AACrB;;AAEA;;EAEE,+EAA+E;EAC/E,iCAAiC;EACjC,YAAY;EACZ,kBAAkB;EAClB,mBAAmB;EACnB,oBAAoB;EACpB,oBAAoB;EACpB,cAAc;;EAEd,sCAAsC;EACtC,mCAAmC;EACnC,kCAAkC;AACpC;;AAEA;EACE,gBAAgB;EAChB,cAAc;AAChB;AACA;EACE,gBAAgB;EAChB,cAAc;AAChB;AACA;EACE,gBAAgB;EAChB,cAAc;AAChB;AACA;EACE,gBAAgB;EAChB,cAAc;AAChB;AACA;EACE,gBAAgB;AAClB;AACA;EACE,gBAAgB;AAClB;AACA;EACE,gBAAgB;AAClB;AACA;EACE,gBAAgB;EAChB,cAAc;AAChB;AACA;EACE,gBAAgB;AAClB;AACA;EACE,gBAAgB;EAChB,cAAc;AAChB;AACA;EACE,gBAAgB;EAChB,cAAc;AAChB;AACA;EACE,gBAAgB;AAClB;AACA;EACE,gBAAgB;AAClB;AACA;EACE,gBAAgB;EAChB,WAAW;AACb;AACA;EACE,gBAAgB;EAChB,cAAc;AAChB;AACA;EACE,gBAAgB;EAChB,cAAc;AAChB;AACA;EACE,gBAAgB;EAChB,cAAc;AAChB;AACA;EACE,gBAAgB;EAChB,cAAc;AAChB;AACA;EACE,gBAAgB;EAChB,cAAc;AAChB;AACA;EACE,gBAAgB;EAChB,cAAc;AAChB;AACA;EACE,gBAAgB;EAChB,WAAW;AACb;AACA;EACE,gBAAgB;AAClB;AACA;EACE,gBAAgB;EAChB,WAAW;AACb;AACA;EACE,gBAAgB;EAChB,WAAW;AACb;AACA;EACE,gBAAgB;AAClB;AACA;EACE,gBAAgB;EAChB,cAAc;AAChB;AACA;EACE,gBAAgB;AAClB;AACA;EACE,gBAAgB;EAChB,cAAc;AAChB;AACA;EACE,gBAAgB;AAClB;AACA;EACE,gBAAgB;EAChB,cAAc;AAChB;AACA;EACE,gBAAgB;EAChB,cAAc;AAChB;AACA;EACE,gBAAgB;AAClB;AACA;EACE,gBAAgB;EAChB,cAAc;AAChB;AACA;EACE,gBAAgB;EAChB,cAAc;AAChB;AACA;EACE,gBAAgB;AAClB;AACA;EACE,gBAAgB;EAChB,yBAAyB;AAC3B;AACA;EACE,gBAAgB;EAChB,iBAAiB;EACjB,uBAAuB;AACzB;AACA;EACE,gBAAgB;EAChB,iBAAiB;EACjB,yBAAyB;AAC3B;AACA;EACE,gBAAgB;EAChB,iBAAiB;EACjB,yBAAyB;AAC3B;AACA;EACE,gBAAgB;EAChB,yBAAyB;AAC3B;AACA;EACE,gBAAgB;EAChB,iBAAiB;EACjB,uBAAuB;AACzB;AACA;EACE,gBAAgB;EAChB,iBAAiB;EACjB,yBAAyB;AAC3B;AACA;EACE,gBAAgB;EAChB,iBAAiB;EACjB,yBAAyB;AAC3B;AACA;EACE,gBAAgB;EAChB,WAAW;AACb;AACA;EACE,gBAAgB;AAClB;AACA;EACE,gBAAgB;AAClB;AACA;EACE,gBAAgB;EAChB,WAAW;AACb;AACA;EACE,gBAAgB;EAChB,cAAc;AAChB;AACA;EACE,gBAAgB;EAChB,cAAc;AAChB;AACA;EACE,gBAAgB;EAChB,cAAc;AAChB;AACA;EACE,gBAAgB;EAChB,WAAW;AACb;AACA;EACE,gBAAgB;EAChB,mBAAmB;AACrB;AACA;EACE,gBAAgB;EAChB,iBAAiB;EACjB,uBAAuB;AACzB;AACA;EACE,gBAAgB;EAChB,iBAAiB;EACjB,yBAAyB;AAC3B;AACA;EACE,gBAAgB;EAChB,iBAAiB;EACjB,yBAAyB;AAC3B;AACA;EACE,gBAAgB;EAChB,cAAc;AAChB;AACA;EACE,gBAAgB;EAChB,cAAc;AAChB;AACA;EACE,gBAAgB;EAChB,cAAc;AAChB;AACA;EACE,gBAAgB;AAClB;AACA;EACE,gBAAgB;AAClB;AACA;EACE,gBAAgB;EAChB,cAAc;AAChB;AACA;EACE,gBAAgB;AAClB;AACA;EACE,gBAAgB;AAClB;AACA;EACE,gBAAgB;AAClB;AACA;EACE,gBAAgB;AAClB;AACA;EACE,gBAAgB;EAChB,cAAc;AAChB;AACA;EACE,gBAAgB;EAChB,cAAc;AAChB;AACA;EACE,gBAAgB;AAClB;AACA;EACE,gBAAgB;AAClB;AACA;EACE,gBAAgB;AAClB;AACA;EACE,gBAAgB;EAChB,cAAc;AAChB;AACA;EACE,gBAAgB;EAChB,cAAc;AAChB;AACA;EACE,gBAAgB;EAChB,cAAc;AAChB;AACA;EACE,gBAAgB;AAClB;AACA;EACE,gBAAgB;EAChB,cAAc;AAChB;AACA;EACE,gBAAgB;EAChB,cAAc;AAChB;AACA;EACE,gBAAgB;AAClB;AACA;EACE,gBAAgB;EAChB,cAAc;AAChB;AACA;EACE,gBAAgB;EAChB,cAAc;AAChB;AACA;EACE,gBAAgB;AAClB",sourcesContent:["@import url(\"https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;600;700&display=swap\");\n\n@font-face {\n  font-family: 'icomoon';\n  src: url('https://dbudicf5k4as1.cloudfront.net/10/icomoon.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n  font-display: block;\n}\n\n[class^='icon-'],\n[class*=' icon-'] {\n  /* use !important to prevent issues with browser extensions that change fonts */\n  font-family: 'icomoon' !important;\n  speak: never;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.icon-demote-filled:before {\n  content: '\\e912';\n  color: #fafafa;\n}\n.icon-demote-outlined:before {\n  content: '\\e922';\n  color: #fafafa;\n}\n.icon-active-speaker:before {\n  content: '\\e903';\n  color: #099dfd;\n}\n.icon-alert:before {\n  content: '\\e924';\n  color: #ff414d;\n}\n.icon-arrow-down:before {\n  content: '\\e900';\n}\n.icon-arrow-up:before {\n  content: '\\e901';\n}\n.icon-back-btn:before {\n  content: '\\e902';\n}\n.icon-chat-filled:before {\n  content: '\\e904';\n  color: #c5c5c5;\n}\n.icon-chat-nav:before {\n  content: '\\e907';\n}\n.icon-chat-outlined:before {\n  content: '\\e910';\n  color: #c5c5c5;\n}\n.icon-check:before {\n  content: '\\e905';\n  color: #29c157;\n}\n.icon-clipboard:before {\n  content: '\\e906';\n}\n.icon-close:before {\n  content: '\\e908';\n}\n.icon-collapse:before {\n  content: '\\e913';\n  color: #fff;\n}\n.icon-connection-bad:before {\n  content: '\\e909';\n  color: #ffab00;\n}\n.icon-connection-good:before {\n  content: '\\e90a';\n  color: #29c157;\n}\n.icon-connection-loading:before {\n  content: '\\e90b';\n  color: #b3b3b3;\n}\n.icon-connection-unpublished:before {\n  content: '\\e90c';\n  color: #b3b3b3;\n}\n.icon-connection-unsupported:before {\n  content: '\\e90d';\n  color: #b3b3b3;\n}\n.icon-connection-very-bad:before {\n  content: '\\e90e';\n  color: #ff414d;\n}\n.icon-downside-triangle:before {\n  content: '\\e936';\n  color: #555;\n}\n.icon-end-call:before {\n  content: '\\e90f';\n}\n.icon-expand:before {\n  content: '\\e923';\n  color: #fff;\n}\n.icon-grid:before {\n  content: '\\e947';\n  color: #fff;\n}\n.icon-info:before {\n  content: '\\e911';\n}\n.icon-link-share:before {\n  content: '\\e93b';\n  color: #099dfd;\n}\n.icon-list-view:before {\n  content: '\\e914';\n}\n.icon-lower-hand:before {\n  content: '\\e915';\n  color: #099dfd;\n}\n.icon-mic-off:before {\n  content: '\\e916';\n}\n.icon-mic-off-filled:before {\n  content: '\\e948';\n  color: #c5c5c5;\n}\n.icon-mic-off-outlined:before {\n  content: '\\e949';\n  color: #c5c5c5;\n}\n.icon-mic-on:before {\n  content: '\\e917';\n}\n.icon-mic-on-filled:before {\n  content: '\\e94a';\n  color: #c5c5c5;\n}\n.icon-mic-on-outlined:before {\n  content: '\\e94b';\n  color: #c5c5c5;\n}\n.icon-more-menu:before {\n  content: '\\e918';\n}\n.icon-no-cam .path1:before {\n  content: '\\e919';\n  color: rgb(143, 143, 143);\n}\n.icon-no-cam .path2:before {\n  content: '\\e91a';\n  margin-left: -1em;\n  color: rgb(255, 171, 0);\n}\n.icon-no-cam .path3:before {\n  content: '\\e91b';\n  margin-left: -1em;\n  color: rgb(255, 255, 255);\n}\n.icon-no-cam .path4:before {\n  content: '\\e91c';\n  margin-left: -1em;\n  color: rgb(255, 255, 255);\n}\n.icon-no-mic .path1:before {\n  content: '\\e91d';\n  color: rgb(143, 143, 143);\n}\n.icon-no-mic .path2:before {\n  content: '\\e91e';\n  margin-left: -1em;\n  color: rgb(255, 171, 0);\n}\n.icon-no-mic .path3:before {\n  content: '\\e91f';\n  margin-left: -1em;\n  color: rgb(255, 255, 255);\n}\n.icon-no-mic .path4:before {\n  content: '\\e920';\n  margin-left: -1em;\n  color: rgb(255, 255, 255);\n}\n.icon-participants:before {\n  content: '\\e926';\n  color: #fff;\n}\n.icon-pencil-filled:before {\n  content: '\\e940';\n}\n.icon-pencil-outlined:before {\n  content: '\\e957';\n}\n.icon-people:before {\n  content: '\\e946';\n  color: #777;\n}\n.icon-person:before {\n  content: '\\e921';\n  color: #808080;\n}\n.icon-pin-filled:before {\n  content: '\\e94c';\n  color: #c5c5c5;\n}\n.icon-pin-outlined:before {\n  content: '\\e94d';\n  color: #c5c5c5;\n}\n.icon-pinned:before {\n  content: '\\e94e';\n  color: #fff;\n}\n.icon-profile .path1:before {\n  content: '\\e937';\n  color: rgb(0, 0, 0);\n}\n.icon-profile .path2:before {\n  content: '\\e938';\n  margin-left: -1em;\n  color: rgb(9, 157, 253);\n}\n.icon-profile .path3:before {\n  content: '\\e939';\n  margin-left: -1em;\n  color: rgb(255, 255, 255);\n}\n.icon-profile .path4:before {\n  content: '\\e93a';\n  margin-left: -1em;\n  color: rgb(255, 255, 255);\n}\n.icon-promote-filled:before {\n  content: '\\e94f';\n  color: #fafafa;\n}\n.icon-promote-outlined:before {\n  content: '\\e950';\n  color: #fafafa;\n}\n.icon-raise-hand:before {\n  content: '\\e927';\n  color: #099dfd;\n}\n.icon-recording:before {\n  content: '\\e928';\n}\n.icon-remove:before {\n  content: '\\e929';\n}\n.icon-remove-meeting:before {\n  content: '\\e943';\n  color: #e7414c;\n}\n.icon-screen-share:before {\n  content: '\\e92a';\n}\n.icon-send:before {\n  content: '\\e92b';\n}\n.icon-settings:before {\n  content: '\\e92c';\n}\n.icon-share:before {\n  content: '\\e92d';\n}\n.icon-speaker:before {\n  content: '\\e925';\n  color: #808080;\n}\n.icon-stop-recording:before {\n  content: '\\e92e';\n  color: #ff414d;\n}\n.icon-stop-screen-share:before {\n  content: '\\e92f';\n}\n.icon-switch-camera:before {\n  content: '\\e930';\n}\n.icon-tick:before {\n  content: '\\e932';\n}\n.icon-tick-fill:before {\n  content: '\\e931';\n  color: #36b37e;\n}\n.icon-unpin-filled:before {\n  content: '\\e951';\n  color: #d9d9d9;\n}\n.icon-unpin-outlined:before {\n  content: '\\e952';\n  color: #d9d9d9;\n}\n.icon-video-off:before {\n  content: '\\e933';\n}\n.icon-video-off-filled:before {\n  content: '\\e953';\n  color: #c5c5c5;\n}\n.icon-video-off-outlined:before {\n  content: '\\e954';\n  color: #c5c5c5;\n}\n.icon-video-on:before {\n  content: '\\e934';\n}\n.icon-video-on-filled:before {\n  content: '\\e955';\n  color: #c5c5c5;\n}\n.icon-video-on-outlined:before {\n  content: '\\e956';\n  color: #c5c5c5;\n}\n.icon-video-plus:before {\n  content: '\\e935';\n}\n"],sourceRoot:""}]);const s=a},5094:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(7537),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,'\n  :root {\n    --rsbs-backdrop-bg: rgba(0, 0, 0, 0.6);\n    --rsbs-bg: #fff;\n    --rsbs-handle-bg: hsla(0, 0%, 0%, 0.14);\n    --rsbs-max-w: auto;\n    --rsbs-ml: env(safe-area-inset-left);\n    --rsbs-mr: env(safe-area-inset-right);\n    --rsbs-overlay-rounded: 16px;\n    --handleColor: $config.PRIMARY_ACTION_BRAND_COLOR;\n  }\n\n \n  [data-rsbs-overlay] {\n    border-top-left-radius: var(--rsbs-overlay-rounded);\n    border-top-right-radius: var(--rsbs-overlay-rounded);\n    display: flex;\n    background: var(--sheet-background); /* var(--rsbs-bg);*/\n    flex-direction: column;\n    height: var(--rsbs-overlay-h);\n    transform: translate3d(0, var(--rsbs-overlay-translate-y), 0);\n    will-change: height;\n  }\n  \n  [data-rsbs-overlay]:focus {\n    outline: none;\n  }\n  [data-rsbs-is-blocking="false"] [data-rsbs-overlay] {\n    box-shadow: 0 -5px 60px 0 rgba(38, 89, 115, 0.11),\n      0 -1px 0 rgba(38, 89, 115, 0.05);\n  }\n  [data-rsbs-overlay],\n  [data-rsbs-root]:after {\n    max-width: var(--rsbs-max-w);\n    margin-left: var(--rsbs-ml);\n    margin-right: var(--rsbs-mr);\n  }\n  [data-rsbs-overlay],\n  [data-rsbs-backdrop],\n  [data-rsbs-root]:after {\n    z-index: 3;\n    overscroll-behavior: none;\n    touch-action: none;\n    position: fixed;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    user-select: none;\n    -webkit-tap-highlight-color: transparent;\n    -webkit-touch-callout: none;\n  }\n  [data-rsbs-backdrop] {\n    top: -60px;\n    bottom: -60px;\n    background-color: var(--rsbs-backdrop-bg);\n    will-change: opacity;\n    cursor: pointer;\n    opacity: 1;\n  }\n  [data-rsbs-is-dismissable="false"] [data-rsbs-backdrop] {\n    cursor: ns-resize;\n  }\n  \n  [data-rsbs-root]:after {\n    content: "";\n    pointer-events: none;\n    background: var(--rsbs-bg);\n    height: 1px;\n    transform-origin: bottom;\n    transform: scale3d(1, var(--rsbs-antigap-scale-y), 1);\n    will-change: transform;\n  }\n  [data-rsbs-footer],\n  [data-rsbs-header] {\n    flex-shrink: 0;\n    cursor: ns-resize;\n   \n  }\n  [data-rsbs-header] {\n    text-align: center;\n    user-select: none;\n    box-shadow: 0 1px 0\n      rgba(46, 59, 66, calc(var(--rsbs-content-opacity) * 0.125));\n    z-index: 1;\n   /* padding-top: calc(20px + env(safe-area-inset-top));\n    padding-bottom: 16px; */\n  \n  }\n  [data-rsbs-header]:before {\n    /* position: absolute;\n    content: "";\n    display: block;\n    width: 36px;\n    height: 4px;\n    top: calc(8px + env(safe-area-inset-top));\n    left: 50%;\n    transform: translateX(-50%);\n    border-radius: 2px; */\n    background-color: var(--handle-background); /*var(--rsbs-handle-bg); */\n  }\n  @media (min-resolution: 2dppx) {\n    [data-rsbs-header]:before {\n      transform: translateX(-50%) scaleY(0.75);\n    }\n  }\n  [data-rsbs-has-header="false"] [data-rsbs-header] {\n    box-shadow: none;\n    padding-top: calc(12px + env(safe-area-inset-top));\n  }\n  \n  [data-rsbs-scroll] {\n    flex-shrink: 1;\n    flex-grow: 1;\n    -webkit-tap-highlight-color: revert;\n    -webkit-touch-callout: revert;\n    -webkit-user-select: auto;\n    -ms-user-select: auto;\n    user-select: auto;\n    overflow: hidden;\n    overscroll-behavior: contain;\n    -webkit-overflow-scrolling: touch;\n  }\n\n  [data-rsbs-state="opening"] [data-rsbs-content="true"] {\n    height:100%;\n  }\n\n  [data-rsbs-state="open"] [data-rsbs-content="true"] {\n    height:100%;\n  }\n  [data-rsbs-state="dragging"] [data-rsbs-content="true"] {\n    height:100%;\n  }\n  [data-rsbs-state="snapping"] [data-rsbs-content="true"] {\n    height:100%;\n  }\n\n\n',"",{version:3,sources:["webpack://./src/pages/video-call/ActionSheetStyles.css"],names:[],mappings:";EACE;IACE,sCAAsC;IACtC,eAAe;IACf,uCAAuC;IACvC,kBAAkB;IAClB,oCAAoC;IACpC,qCAAqC;IACrC,4BAA4B;IAC5B,iDAAiD;EACnD;;;EAGA;IACE,mDAAmD;IACnD,oDAAoD;IACpD,aAAa;IACb,mCAAmC,EAAE,mBAAmB;IACxD,sBAAsB;IACtB,6BAA6B;IAC7B,6DAA6D;IAC7D,mBAAmB;EACrB;;EAEA;IACE,aAAa;EACf;EACA;IACE;sCACkC;EACpC;EACA;;IAEE,4BAA4B;IAC5B,2BAA2B;IAC3B,4BAA4B;EAC9B;EACA;;;IAGE,UAAU;IACV,yBAAyB;IACzB,kBAAkB;IAClB,eAAe;IACf,QAAQ;IACR,SAAS;IACT,OAAO;IACP,iBAAiB;IACjB,wCAAwC;IACxC,2BAA2B;EAC7B;EACA;IACE,UAAU;IACV,aAAa;IACb,yCAAyC;IACzC,oBAAoB;IACpB,eAAe;IACf,UAAU;EACZ;EACA;IACE,iBAAiB;EACnB;;EAEA;IACE,WAAW;IACX,oBAAoB;IACpB,0BAA0B;IAC1B,WAAW;IACX,wBAAwB;IACxB,qDAAqD;IACrD,sBAAsB;EACxB;EACA;;IAEE,cAAc;IACd,iBAAiB;;EAEnB;EACA;IACE,kBAAkB;IAClB,iBAAiB;IACjB;iEAC6D;IAC7D,UAAU;GACX;2BACwB;;EAEzB;EACA;IACE;;;;;;;;yBAQqB;IACrB,0CAA0C,EAAE,0BAA0B;EACxE;EACA;IACE;MACE,wCAAwC;IAC1C;EACF;EACA;IACE,gBAAgB;IAChB,kDAAkD;EACpD;;EAEA;IACE,cAAc;IACd,YAAY;IACZ,mCAAmC;IACnC,6BAA6B;IAC7B,yBAAyB;IACzB,qBAAqB;IACrB,iBAAiB;IACjB,gBAAgB;IAChB,4BAA4B;IAC5B,iCAAiC;EACnC;;EAEA;IACE,WAAW;EACb;;EAEA;IACE,WAAW;EACb;EACA;IACE,WAAW;EACb;EACA;IACE,WAAW;EACb",sourcesContent:['\n  :root {\n    --rsbs-backdrop-bg: rgba(0, 0, 0, 0.6);\n    --rsbs-bg: #fff;\n    --rsbs-handle-bg: hsla(0, 0%, 0%, 0.14);\n    --rsbs-max-w: auto;\n    --rsbs-ml: env(safe-area-inset-left);\n    --rsbs-mr: env(safe-area-inset-right);\n    --rsbs-overlay-rounded: 16px;\n    --handleColor: $config.PRIMARY_ACTION_BRAND_COLOR;\n  }\n\n \n  [data-rsbs-overlay] {\n    border-top-left-radius: var(--rsbs-overlay-rounded);\n    border-top-right-radius: var(--rsbs-overlay-rounded);\n    display: flex;\n    background: var(--sheet-background); /* var(--rsbs-bg);*/\n    flex-direction: column;\n    height: var(--rsbs-overlay-h);\n    transform: translate3d(0, var(--rsbs-overlay-translate-y), 0);\n    will-change: height;\n  }\n  \n  [data-rsbs-overlay]:focus {\n    outline: none;\n  }\n  [data-rsbs-is-blocking="false"] [data-rsbs-overlay] {\n    box-shadow: 0 -5px 60px 0 rgba(38, 89, 115, 0.11),\n      0 -1px 0 rgba(38, 89, 115, 0.05);\n  }\n  [data-rsbs-overlay],\n  [data-rsbs-root]:after {\n    max-width: var(--rsbs-max-w);\n    margin-left: var(--rsbs-ml);\n    margin-right: var(--rsbs-mr);\n  }\n  [data-rsbs-overlay],\n  [data-rsbs-backdrop],\n  [data-rsbs-root]:after {\n    z-index: 3;\n    overscroll-behavior: none;\n    touch-action: none;\n    position: fixed;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    user-select: none;\n    -webkit-tap-highlight-color: transparent;\n    -webkit-touch-callout: none;\n  }\n  [data-rsbs-backdrop] {\n    top: -60px;\n    bottom: -60px;\n    background-color: var(--rsbs-backdrop-bg);\n    will-change: opacity;\n    cursor: pointer;\n    opacity: 1;\n  }\n  [data-rsbs-is-dismissable="false"] [data-rsbs-backdrop] {\n    cursor: ns-resize;\n  }\n  \n  [data-rsbs-root]:after {\n    content: "";\n    pointer-events: none;\n    background: var(--rsbs-bg);\n    height: 1px;\n    transform-origin: bottom;\n    transform: scale3d(1, var(--rsbs-antigap-scale-y), 1);\n    will-change: transform;\n  }\n  [data-rsbs-footer],\n  [data-rsbs-header] {\n    flex-shrink: 0;\n    cursor: ns-resize;\n   \n  }\n  [data-rsbs-header] {\n    text-align: center;\n    user-select: none;\n    box-shadow: 0 1px 0\n      rgba(46, 59, 66, calc(var(--rsbs-content-opacity) * 0.125));\n    z-index: 1;\n   /* padding-top: calc(20px + env(safe-area-inset-top));\n    padding-bottom: 16px; */\n  \n  }\n  [data-rsbs-header]:before {\n    /* position: absolute;\n    content: "";\n    display: block;\n    width: 36px;\n    height: 4px;\n    top: calc(8px + env(safe-area-inset-top));\n    left: 50%;\n    transform: translateX(-50%);\n    border-radius: 2px; */\n    background-color: var(--handle-background); /*var(--rsbs-handle-bg); */\n  }\n  @media (min-resolution: 2dppx) {\n    [data-rsbs-header]:before {\n      transform: translateX(-50%) scaleY(0.75);\n    }\n  }\n  [data-rsbs-has-header="false"] [data-rsbs-header] {\n    box-shadow: none;\n    padding-top: calc(12px + env(safe-area-inset-top));\n  }\n  \n  [data-rsbs-scroll] {\n    flex-shrink: 1;\n    flex-grow: 1;\n    -webkit-tap-highlight-color: revert;\n    -webkit-touch-callout: revert;\n    -webkit-user-select: auto;\n    -ms-user-select: auto;\n    user-select: auto;\n    overflow: hidden;\n    overscroll-behavior: contain;\n    -webkit-overflow-scrolling: touch;\n  }\n\n  [data-rsbs-state="opening"] [data-rsbs-content="true"] {\n    height:100%;\n  }\n\n  [data-rsbs-state="open"] [data-rsbs-content="true"] {\n    height:100%;\n  }\n  [data-rsbs-state="dragging"] [data-rsbs-content="true"] {\n    height:100%;\n  }\n  [data-rsbs-state="snapping"] [data-rsbs-content="true"] {\n    height:100%;\n  }\n\n\n'],sourceRoot:""}]);const s=a},3645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var u=0;u<e.length;u++){var l=[].concat(e[u]);r&&a[l[0]]||(void 0!==o&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),i&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=i):l[4]="".concat(i)),t.push(l))}},t}},7537:e=>{"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),o="/*# ".concat(i," */"),a=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}));return[t].concat(a).concat([o]).join("\n")}return[t].join("\n")}},4414:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(3242),a=n(5076);t.backOff=function(e,t){return void 0===t&&(t={}),r(this,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return n=o.getSanitizedOptions(t),[4,new s(e,n).execute()];case 1:return[2,r.sent()]}}))}))};var s=function(){function e(e,t){this.request=e,this.options=t,this.attemptNumber=0}return e.prototype.execute=function(){return r(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:if(this.attemptLimitReached)return[3,7];t.label=1;case 1:return t.trys.push([1,4,,6]),[4,this.applyDelay()];case 2:return t.sent(),[4,this.request()];case 3:return[2,t.sent()];case 4:return e=t.sent(),this.attemptNumber++,[4,this.options.retry(e,this.attemptNumber)];case 5:if(!t.sent()||this.attemptLimitReached)throw e;return[3,6];case 6:return[3,0];case 7:throw new Error("Something went wrong.")}}))}))},Object.defineProperty(e.prototype,"attemptLimitReached",{get:function(){return this.attemptNumber>=this.options.numOfAttempts},enumerable:!0,configurable:!0}),e.prototype.applyDelay=function(){return r(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,a.DelayFactory(this.options,this.attemptNumber).apply()];case 1:return e.sent(),[2]}}))}))},e}()},9966:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(n(1617).Delay);t.AlwaysDelay=o},1617:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6755),i=function(){function e(e){this.options=e,this.attempt=0}return e.prototype.apply=function(){var e=this;return new Promise((function(t){return setTimeout(t,e.jitteredDelay)}))},e.prototype.setAttemptNumber=function(e){this.attempt=e},Object.defineProperty(e.prototype,"jitteredDelay",{get:function(){return r.JitterFactory(this.options)(this.delay)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"delay",{get:function(){var e=this.options.startingDelay,t=this.options.timeMultiple,n=this.numOfDelayedAttempts,r=e*Math.pow(t,n);return Math.min(r,this.options.maxDelay)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numOfDelayedAttempts",{get:function(){return this.attempt},enumerable:!0,configurable:!0}),e}();t.Delay=i},5076:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1954),i=n(9966);t.DelayFactory=function(e,t){var n=function(e){return e.delayFirstAttempt?new i.AlwaysDelay(e):new r.SkipFirstDelay(e)}(e);return n.setAttemptNumber(t),n}},1954:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.apply=function(){return o(this,void 0,void 0,(function(){return a(this,(function(t){return[2,!!this.isFirstAttempt||e.prototype.apply.call(this)]}))}))},Object.defineProperty(t.prototype,"isFirstAttempt",{get:function(){return 0===this.attempt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numOfDelayedAttempts",{get:function(){return this.attempt-1},enumerable:!0,configurable:!0}),t}(n(1617).Delay);t.SkipFirstDelay=s},9813:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fullJitter=function(e){var t=Math.random()*e;return Math.round(t)}},6755:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9813),i=n(478);t.JitterFactory=function(e){return"full"===e.jitter?r.fullJitter:i.noJitter}},478:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.noJitter=function(e){return e}},3242:function(e,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r={delayFirstAttempt:!1,jitter:"none",maxDelay:1/0,numOfAttempts:10,retry:function(){return!0},startingDelay:100,timeMultiple:2};t.getSanitizedOptions=function(e){var t=n(n({},r),e);return t.numOfAttempts<1&&(t.numOfAttempts=1),t}},5035:e=>{"use strict";e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n,r="boolean"==typeof t.cycles&&t.cycles,i=t.cmp&&(n=t.cmp,function(e){return function(t,r){var i={key:t,value:e[t]},o={key:r,value:e[r]};return n(i,o)}}),o=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var n,a;if(Array.isArray(t)){for(a="[",n=0;n<t.length;n++)n&&(a+=","),a+=e(t[n])||"null";return a+"]"}if(null===t)return"null";if(-1!==o.indexOf(t)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=o.push(t)-1,c=Object.keys(t).sort(i&&i(t));for(a="",n=0;n<c.length;n++){var u=c[n],l=e(t[u]);l&&(a&&(a+=","),a+=JSON.stringify(u)+":"+l)}return o.splice(s,1),"{"+a+"}"}}(e)}},6508:e=>{"use strict";var t=!("undefined"==typeof window||!window.document||!window.document.createElement),n={canUseDOM:t,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:t&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:t&&!!window.screen,isInWorker:!t};e.exports=n},139:e=>{"use strict";function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},3759:e=>{"use strict";var t=function(e){if(void 0===e)throw new Error("invariant(...): Second argument must be a string.")};e.exports=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(t(n),!e){var a;if(void 0===n)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;(a=new Error(n.replace(/%s/g,(function(){return String(i[s++])})))).name="Invariant Violation"}throw a.framesToPop=1,a}}},9207:(e,t,n)=>{"use strict";var r;n(6508).canUseDOM&&(r=window.performance||window.msPerformance||window.webkitPerformance),e.exports=r||{}},8166:(e,t,n)=>{"use strict";var r,i=n(9207);r=i.now?function(){return i.now()}:function(){return Date.now()},e.exports=r},3620:(e,t,n)=>{"use strict";var r=n(139);e.exports=r},8679:(e,t,n)=>{"use strict";var r=n(1296),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var u=Object.defineProperty,l=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(f){var i=p(n);i&&i!==f&&e(t,i,r)}var a=l(n);d&&(a=a.concat(d(n)));for(var s=c(t),A=c(n),g=0;g<a.length;++g){var m=a[g];if(!(o[m]||r&&r[m]||A&&A[m]||s&&s[m])){var v=h(n,m);try{u(t,m,v)}catch(e){}}}}return t}},6103:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,A=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,E=n?Symbol.for("react.scope"):60119;function b(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case d:case o:case s:case a:case p:return e;default:switch(e=e&&e.$$typeof){case u:case h:case g:case A:case c:return e;default:return t}}case i:return t}}}function _(e){return b(e)===d}t.AsyncMode=l,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=c,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=g,t.Memo=A,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=p,t.isAsyncMode=function(e){return _(e)||b(e)===l},t.isConcurrentMode=_,t.isContextConsumer=function(e){return b(e)===u},t.isContextProvider=function(e){return b(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return b(e)===h},t.isFragment=function(e){return b(e)===o},t.isLazy=function(e){return b(e)===g},t.isMemo=function(e){return b(e)===A},t.isPortal=function(e){return b(e)===i},t.isProfiler=function(e){return b(e)===s},t.isStrictMode=function(e){return b(e)===a},t.isSuspense=function(e){return b(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===d||e===s||e===a||e===p||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===A||e.$$typeof===c||e.$$typeof===u||e.$$typeof===h||e.$$typeof===v||e.$$typeof===y||e.$$typeof===E||e.$$typeof===m)},t.typeOf=b},1296:(e,t,n)=>{"use strict";e.exports=n(6103)},5477:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=/[A-Z]/g,i=/^ms-/,o={};function a(e){return"-"+e.toLowerCase()}const s=function(e){if(o.hasOwnProperty(e))return o[e];var t=e.replace(r,a);return o[e]=i.test(t)?"-"+t:t}},9668:(e,t,n)=>{"use strict";t.Z=function(e){var t=e.prefixMap,n=e.plugins;return function e(s){for(var c in s){var u=s[c];if((0,a.default)(u))s[c]=e(u);else if(Array.isArray(u)){for(var l=[],d=0,h=u.length;d<h;++d){var p=(0,i.default)(n,c,u[d],s,t);(0,o.default)(l,p||u[d])}l.length>0&&(s[c]=l)}else{var f=(0,i.default)(n,c,u,s,t);f&&(s[c]=f),s=(0,r.default)(t,c,s)}}return s}};var r=s(n(7351)),i=s(n(5158)),o=s(n(382)),a=s(n(1568));function s(e){return e&&e.__esModule?e:{default:e}}},1505:(e,t)=>{"use strict";t.Z=function(e,t){if("string"==typeof t&&"text"===t)return["-webkit-text","text"]}},7951:(e,t,n)=>{"use strict";t.Z=function(e,t){if("string"==typeof t&&!(0,i.default)(t)&&t.indexOf("cross-fade(")>-1)return o.map((function(e){return t.replace(/cross-fade\(/g,e+"cross-fade(")}))};var r,i=(r=n(638))&&r.__esModule?r:{default:r},o=["-webkit-",""]},1385:(e,t)=>{"use strict";t.Z=function(e,t){if("cursor"===e&&r.hasOwnProperty(t))return n.map((function(e){return e+t}))};var n=["-webkit-","-moz-",""],r={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0}},9432:(e,t,n)=>{"use strict";t.Z=function(e,t){if("string"==typeof t&&!(0,i.default)(t)&&t.indexOf("filter(")>-1)return o.map((function(e){return t.replace(/filter\(/g,e+"filter(")}))};var r,i=(r=n(638))&&r.__esModule?r:{default:r},o=["-webkit-",""]},4223:(e,t)=>{"use strict";t.Z=function(e,t){if("display"===e&&n.hasOwnProperty(t))return n[t]};var n={flex:["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex","flex"],"inline-flex":["-webkit-inline-box","-moz-inline-box","-ms-inline-flexbox","-webkit-inline-flex","inline-flex"]}},8254:(e,t)=>{"use strict";t.Z=function(e,t,a){if(Object.prototype.hasOwnProperty.call(r,e)&&(a[r[e]]=n[t]||t),"flex"===e){if(Object.prototype.hasOwnProperty.call(i,t))return void(a.msFlex=i[t]);if(o.test(t))return void(a.msFlex=t+" 1 0%");var s=t.split(/\s/);switch(s.length){case 1:return void(a.msFlex="1 1 "+t);case 2:return void(o.test(s[1])?a.msFlex=s[0]+" "+s[1]+" 0%":a.msFlex=s[0]+" 1 "+s[1]);default:a.msFlex=t}}};var n={"space-around":"distribute","space-between":"justify","flex-start":"start","flex-end":"end"},r={alignContent:"msFlexLinePack",alignSelf:"msFlexItemAlign",alignItems:"msFlexAlign",justifyContent:"msFlexPack",order:"msFlexOrder",flexGrow:"msFlexPositive",flexShrink:"msFlexNegative",flexBasis:"msFlexPreferredSize"},i={auto:"1 1 auto",inherit:"inherit",initial:"0 1 auto",none:"0 0 auto",unset:"unset"},o=/^\d+(\.\d+)?$/},3133:(e,t)=>{"use strict";t.Z=function(e,t,i){"flexDirection"===e&&"string"==typeof t&&(t.indexOf("column")>-1?i.WebkitBoxOrient="vertical":i.WebkitBoxOrient="horizontal",t.indexOf("reverse")>-1?i.WebkitBoxDirection="reverse":i.WebkitBoxDirection="normal"),r.hasOwnProperty(e)&&(i[r[e]]=n[t]||t)};var n={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple"},r={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines",flexGrow:"WebkitBoxFlex"}},8538:(e,t,n)=>{"use strict";t.Z=function(e,t){if("string"==typeof t&&!(0,i.default)(t)&&a.test(t))return o.map((function(e){return t.replace(a,(function(t){return e+t}))}))};var r,i=(r=n(638))&&r.__esModule?r:{default:r},o=["-webkit-","-moz-",""],a=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/gi},8928:(e,t)=>{"use strict";var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function r(e){return"number"==typeof e&&!isNaN(e)}function i(e){return"string"==typeof e&&e.includes("/")}t.Z=function(e,t,n){if("display"===e&&t in a)return a[t];e in s&&(0,s[e])(t,n)};var o=["center","end","start","stretch"],a={"inline-grid":["-ms-inline-grid","inline-grid"],grid:["-ms-grid","grid"]},s={alignSelf:function(e,t){o.indexOf(e)>-1&&(t.msGridRowAlign=e)},gridColumn:function(e,t){if(r(e))t.msGridColumn=e;else if(i(e)){var o=e.split("/"),a=n(o,2),c=a[0],u=a[1];s.gridColumnStart(+c,t);var l=u.split(/ ?span /),d=n(l,2),h=d[0],p=d[1];""===h?s.gridColumnEnd(+c+ +p,t):s.gridColumnEnd(+u,t)}else s.gridColumnStart(e,t)},gridColumnEnd:function(e,t){var n=t.msGridColumn;r(e)&&r(n)&&(t.msGridColumnSpan=e-n)},gridColumnStart:function(e,t){r(e)&&(t.msGridColumn=e)},gridRow:function(e,t){if(r(e))t.msGridRow=e;else if(i(e)){var o=e.split("/"),a=n(o,2),c=a[0],u=a[1];s.gridRowStart(+c,t);var l=u.split(/ ?span /),d=n(l,2),h=d[0],p=d[1];""===h?s.gridRowEnd(+c+ +p,t):s.gridRowEnd(+u,t)}else s.gridRowStart(e,t)},gridRowEnd:function(e,t){var n=t.msGridRow;r(e)&&r(n)&&(t.msGridRowSpan=e-n)},gridRowStart:function(e,t){r(e)&&(t.msGridRow=e)},gridTemplateColumns:function(e,t){t.msGridColumns=e},gridTemplateRows:function(e,t){t.msGridRows=e},justifySelf:function(e,t){o.indexOf(e)>-1&&(t.msGridColumnAlign=e)}}},3716:(e,t,n)=>{"use strict";t.Z=function(e,t){if("string"==typeof t&&!(0,i.default)(t)&&t.indexOf("image-set(")>-1)return o.map((function(e){return t.replace(/image-set\(/g,e+"image-set(")}))};var r,i=(r=n(638))&&r.__esModule?r:{default:r},o=["-webkit-",""]},109:(e,t)=>{"use strict";t.Z=function(e,t,r){if(Object.prototype.hasOwnProperty.call(n,e))for(var i=n[e],o=0,a=i.length;o<a;++o)r[i[o]]=t};var n={marginBlockStart:["WebkitMarginBefore"],marginBlockEnd:["WebkitMarginAfter"],marginInlineStart:["WebkitMarginStart","MozMarginStart"],marginInlineEnd:["WebkitMarginEnd","MozMarginEnd"],paddingBlockStart:["WebkitPaddingBefore"],paddingBlockEnd:["WebkitPaddingAfter"],paddingInlineStart:["WebkitPaddingStart","MozPaddingStart"],paddingInlineEnd:["WebkitPaddingEnd","MozPaddingEnd"],borderBlockStart:["WebkitBorderBefore"],borderBlockStartColor:["WebkitBorderBeforeColor"],borderBlockStartStyle:["WebkitBorderBeforeStyle"],borderBlockStartWidth:["WebkitBorderBeforeWidth"],borderBlockEnd:["WebkitBorderAfter"],borderBlockEndColor:["WebkitBorderAfterColor"],borderBlockEndStyle:["WebkitBorderAfterStyle"],borderBlockEndWidth:["WebkitBorderAfterWidth"],borderInlineStart:["WebkitBorderStart","MozBorderStart"],borderInlineStartColor:["WebkitBorderStartColor","MozBorderStartColor"],borderInlineStartStyle:["WebkitBorderStartStyle","MozBorderStartStyle"],borderInlineStartWidth:["WebkitBorderStartWidth","MozBorderStartWidth"],borderInlineEnd:["WebkitBorderEnd","MozBorderEnd"],borderInlineEndColor:["WebkitBorderEndColor","MozBorderEndColor"],borderInlineEndStyle:["WebkitBorderEndStyle","MozBorderEndStyle"],borderInlineEndWidth:["WebkitBorderEndWidth","MozBorderEndWidth"]}},2564:(e,t)=>{"use strict";t.Z=function(e,t){if("position"===e&&"sticky"===t)return["-webkit-sticky","sticky"]}},2758:(e,t)=>{"use strict";t.Z=function(e,t){if(r.hasOwnProperty(e)&&i.hasOwnProperty(t))return n.map((function(e){return e+t}))};var n=["-webkit-","-moz-",""],r={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},i={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0}},6327:(e,t,n)=>{"use strict";t.Z=function(e,t,n,a){if("string"==typeof t&&s.hasOwnProperty(e)){var u=function(e,t){if((0,i.default)(e))return e;for(var n=e.split(/,(?![^()]*(?:\([^()]*\))?\))/g),o=0,a=n.length;o<a;++o){var s=n[o],u=[s];for(var l in t){var d=(0,r.default)(l);if(s.indexOf(d)>-1&&"order"!==d)for(var h=t[l],p=0,f=h.length;p<f;++p)u.unshift(s.replace(d,c[h[p]]+d))}n[o]=u.join(",")}return n.join(",")}(t,a),l=u.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(e){return!/-moz-|-ms-/.test(e)})).join(",");if(e.indexOf("Webkit")>-1)return l;var d=u.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(e){return!/-webkit-|-ms-/.test(e)})).join(",");return e.indexOf("Moz")>-1?d:(n["Webkit"+(0,o.default)(e)]=l,n["Moz"+(0,o.default)(e)]=d,u)}};var r=a(n(6238)),i=a(n(638)),o=a(n(2045));function a(e){return e&&e.__esModule?e:{default:e}}var s={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},c={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"}},382:(e,t)=>{"use strict";function n(e,t){-1===e.indexOf(t)&&e.push(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(Array.isArray(t))for(var r=0,i=t.length;r<i;++r)n(e,t[r]);else n(e,t)}},2045:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},1568:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e instanceof Object&&!Array.isArray(e)}},7351:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(e.hasOwnProperty(t)){for(var r={},o=e[t],a=(0,i.default)(t),s=Object.keys(n),c=0;c<s.length;c++){var u=s[c];if(u===t)for(var l=0;l<o.length;l++)r[o[l]+a]=n[t];r[u]=n[u]}return r}return n};var r,i=(r=n(2045))&&r.__esModule?r:{default:r}},5158:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r,i){for(var o=0,a=e.length;o<a;++o){var s=e[o](t,n,r,i);if(s)return s}}},5826:e=>{e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},8337:(e,t,n)=>{"use strict";function r(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach((function(t){t&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e}function i(e){return Object.prototype.toString.call(e)}function o(e){return"[object Function]"===i(e)}function a(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var s={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1},c={"http:":{validate:function(e,t,n){var r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},u="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function l(e){var t=e.re=n(6066)(e.__opts__),r=e.__tlds__.slice();function s(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||r.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),r.push(t.src_xn),t.src_tlds=r.join("|"),t.email_fuzzy=RegExp(s(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(s(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(s(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(s(t.tpl_host_fuzzy_test),"i");var c=[];function u(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach((function(t){var n=e.__schemas__[t];if(null!==n){var r={validate:null,link:null};if(e.__compiled__[t]=r,"[object Object]"===i(n))return"[object RegExp]"!==i(n.validate)?o(n.validate)?r.validate=n.validate:u(t,n):r.validate=function(e){return function(t,n){var r=t.slice(n);return e.test(r)?r.match(e)[0].length:0}}(n.validate),void(o(n.normalize)?r.normalize=n.normalize:n.normalize?u(t,n):r.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===i(e)}(n)?u(t,n):c.push(t)}})),c.forEach((function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)})),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};var l=Object.keys(e.__compiled__).filter((function(t){return t.length>0&&e.__compiled__[t]})).map(a).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+l+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+l+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function d(e,t){var n=e.__index__,r=e.__last_index__,i=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=i,this.text=i,this.url=i}function h(e,t){var n=new d(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function p(e,t){if(!(this instanceof p))return new p(e,t);var n;t||(n=e,Object.keys(n||{}).reduce((function(e,t){return e||s.hasOwnProperty(t)}),!1)&&(t=e,e={})),this.__opts__=r({},s,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=r({},c,e),this.__compiled__={},this.__tlds__=u,this.__tlds_replaced__=!1,this.re={},l(this)}p.prototype.add=function(e,t){return this.__schemas__[e]=t,l(this),this},p.prototype.set=function(e){return this.__opts__=r(this.__opts__,e),this},p.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,n,r,i,o,a,s,c;if(this.re.schema_test.test(e))for((s=this.re.schema_search).lastIndex=0;null!==(t=s.exec(e));)if(i=this.testSchemaAt(e,t[2],s.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+i;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=e.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||c<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(o=n.index+n[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=n.index+n[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&e.indexOf("@")>=0&&null!==(r=e.match(this.re.email_fuzzy))&&(o=r.index+r[1].length,a=r.index+r[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=a)),this.__index__>=0},p.prototype.pretest=function(e){return this.re.pretest.test(e)},p.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},p.prototype.match=function(e){var t=0,n=[];this.__index__>=0&&this.__text_cache__===e&&(n.push(h(this,t)),t=this.__last_index__);for(var r=t?e.slice(t):e;this.test(r);)n.push(h(this,t)),r=r.slice(this.__last_index__),t+=this.__last_index__;return n.length?n:null},p.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter((function(e,t,n){return e!==n[t-1]})).reverse(),l(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,l(this),this)},p.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},p.prototype.onCompile=function(){},e.exports=p},6066:(e,t,n)=>{"use strict";e.exports=function(e){var t={};return t.src_Any=n(9369).source,t.src_Cc=n(9413).source,t.src_Z=n(5045).source,t.src_P=n(3189).source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|"),t.src_pseudo_letter="(?:(?![><]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><]|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|[><]|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,4}[a-zA-Z0-9%/]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+t.src_ZCc+").|\\!(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy='(^|[><]|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},3122:e=>{"use strict";var t={};function n(e,r){var i;return"string"!=typeof r&&(r=n.defaultChars),i=function(e){var n,r,i=t[e];if(i)return i;for(i=t[e]=[],n=0;n<128;n++)r=String.fromCharCode(n),i.push(r);for(n=0;n<e.length;n++)i[r=e.charCodeAt(n)]="%"+("0"+r.toString(16).toUpperCase()).slice(-2);return i}(r),e.replace(/(%[a-f0-9]{2})+/gi,(function(e){var t,n,r,o,a,s,c,u="";for(t=0,n=e.length;t<n;t+=3)(r=parseInt(e.slice(t+1,t+3),16))<128?u+=i[r]:192==(224&r)&&t+3<n&&128==(192&(o=parseInt(e.slice(t+4,t+6),16)))?(u+=(c=r<<6&1984|63&o)<128?"":String.fromCharCode(c),t+=3):224==(240&r)&&t+6<n&&(o=parseInt(e.slice(t+4,t+6),16),a=parseInt(e.slice(t+7,t+9),16),128==(192&o)&&128==(192&a))?(u+=(c=r<<12&61440|o<<6&4032|63&a)<2048||c>=55296&&c<=57343?"":String.fromCharCode(c),t+=6):240==(248&r)&&t+9<n&&(o=parseInt(e.slice(t+4,t+6),16),a=parseInt(e.slice(t+7,t+9),16),s=parseInt(e.slice(t+10,t+12),16),128==(192&o)&&128==(192&a)&&128==(192&s))?((c=r<<18&1835008|o<<12&258048|a<<6&4032|63&s)<65536||c>1114111?u+="":(c-=65536,u+=String.fromCharCode(55296+(c>>10),56320+(1023&c))),t+=9):u+="";return u}))}n.defaultChars=";/?:@&=+$,#",n.componentChars="",e.exports=n},729:e=>{"use strict";var t={};function n(e,r,i){var o,a,s,c,u,l="";for("string"!=typeof r&&(i=r,r=n.defaultChars),void 0===i&&(i=!0),u=function(e){var n,r,i=t[e];if(i)return i;for(i=t[e]=[],n=0;n<128;n++)r=String.fromCharCode(n),/^[0-9a-z]$/i.test(r)?i.push(r):i.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2));for(n=0;n<e.length;n++)i[e.charCodeAt(n)]=e[n];return i}(r),o=0,a=e.length;o<a;o++)if(s=e.charCodeAt(o),i&&37===s&&o+2<a&&/^[0-9a-f]{2}$/i.test(e.slice(o+1,o+3)))l+=e.slice(o,o+3),o+=2;else if(s<128)l+=u[s];else if(s>=55296&&s<=57343){if(s>=55296&&s<=56319&&o+1<a&&(c=e.charCodeAt(o+1))>=56320&&c<=57343){l+=encodeURIComponent(e[o]+e[o+1]),o++;continue}l+="%EF%BF%BD"}else l+=encodeURIComponent(e[o]);return l}n.defaultChars=";/?:@&=+$,-_.!~*'()#",n.componentChars="-_.!~*'()",e.exports=n},2201:e=>{"use strict";e.exports=function(e){var t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&-1!==e.hostname.indexOf(":")?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",(t+=e.search||"")+(e.hash||"")}},8765:(e,t,n)=>{"use strict";e.exports.encode=n(729),e.exports.decode=n(3122),e.exports.format=n(2201),e.exports.parse=n(9553)},9553:e=>{"use strict";function t(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var n=/^([a-z0-9.+-]+:)/i,r=/:[0-9]*$/,i=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,o=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),a=["'"].concat(o),s=["%","/","?",";","#"].concat(a),c=["/","?","#"],u=/^[+a-z0-9A-Z_-]{0,63}$/,l=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,d={javascript:!0,"javascript:":!0},h={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};t.prototype.parse=function(e,t){var r,o,a,p,f,A=e;if(A=A.trim(),!t&&1===e.split("#").length){var g=i.exec(A);if(g)return this.pathname=g[1],g[2]&&(this.search=g[2]),this}var m=n.exec(A);if(m&&(a=(m=m[0]).toLowerCase(),this.protocol=m,A=A.substr(m.length)),(t||m||A.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(f="//"===A.substr(0,2))||m&&d[m]||(A=A.substr(2),this.slashes=!0)),!d[m]&&(f||m&&!h[m])){var v,y,E=-1;for(r=0;r<c.length;r++)-1!==(p=A.indexOf(c[r]))&&(-1===E||p<E)&&(E=p);for(-1!==(y=-1===E?A.lastIndexOf("@"):A.lastIndexOf("@",E))&&(v=A.slice(0,y),A=A.slice(y+1),this.auth=v),E=-1,r=0;r<s.length;r++)-1!==(p=A.indexOf(s[r]))&&(-1===E||p<E)&&(E=p);-1===E&&(E=A.length),":"===A[E-1]&&E--;var b=A.slice(0,E);A=A.slice(E),this.parseHost(b),this.hostname=this.hostname||"";var _="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!_){var C=this.hostname.split(/\./);for(r=0,o=C.length;r<o;r++){var I=C[r];if(I&&!I.match(u)){for(var S="",w=0,R=I.length;w<R;w++)I.charCodeAt(w)>127?S+="x":S+=I[w];if(!S.match(u)){var T=C.slice(0,r),O=C.slice(r+1),k=I.match(l);k&&(T.push(k[1]),O.unshift(k[2])),O.length&&(A=O.join(".")+A),this.hostname=T.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),_&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var N=A.indexOf("#");-1!==N&&(this.hash=A.substr(N),A=A.slice(0,N));var D=A.indexOf("?");return-1!==D&&(this.search=A.substr(D),A=A.slice(0,D)),A&&(this.pathname=A),h[a]&&this.hostname&&!this.pathname&&(this.pathname=""),this},t.prototype.parseHost=function(e){var t=r.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},e.exports=function(e,n){if(e&&e instanceof t)return e;var r=new t;return r.parse(e,n),r}},942:function(e,t,n){"use strict";const r=n(9727),{hasOwnProperty:i}=Object.prototype,{propertyIsEnumerable:o}=Object,a=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0}),s=this,c={concatArrays:!1,ignoreUndefined:!1},u=e=>{const t=[];for(const n in e)i.call(e,n)&&t.push(n);if(Object.getOwnPropertySymbols){const n=Object.getOwnPropertySymbols(e);for(const r of n)o.call(e,r)&&t.push(r)}return t};function l(e){return Array.isArray(e)?function(e){const t=e.slice(0,0);return u(e).forEach((n=>{a(t,n,l(e[n]))})),t}(e):r(e)?function(e){const t=null===Object.getPrototypeOf(e)?Object.create(null):{};return u(e).forEach((n=>{a(t,n,l(e[n]))})),t}(e):e}const d=(e,t,n,r)=>(n.forEach((n=>{void 0===t[n]&&r.ignoreUndefined||(n in e&&e[n]!==Object.getPrototypeOf(e)?a(e,n,h(e[n],t[n],r)):a(e,n,l(t[n])))})),e);function h(e,t,n){return n.concatArrays&&Array.isArray(e)&&Array.isArray(t)?((e,t,n)=>{let r=e.slice(0,0),o=0;return[e,t].forEach((t=>{const s=[];for(let n=0;n<t.length;n++)i.call(t,n)&&(s.push(String(n)),a(r,o++,t===e?t[n]:l(t[n])));r=d(r,t,u(t).filter((e=>!s.includes(e))),n)})),r})(e,t,n):r(t)&&r(e)?d(e,t,u(t),n):l(t)}e.exports=function(...e){const t=h(l(c),this!==s&&this||{},c);let n={_:{}};for(const i of e)if(void 0!==i){if(!r(i))throw new TypeError("`"+i+"` is not an Option Object");n=h(n,{_:i},t)}return n._}},9727:e=>{"use strict";e.exports=e=>{if("[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}},8059:e=>{function t(e){var t;return"number"==typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=c.hex6.exec(e))?parseInt(t[1]+"ff",16)>>>0:p.hasOwnProperty(e)?p[e]:(t=c.rgb.exec(e))?(u(t[1])<<24|u(t[2])<<16|u(t[3])<<8|255)>>>0:(t=c.rgba.exec(e))?(u(t[1])<<24|u(t[2])<<16|u(t[3])<<8|d(t[4]))>>>0:(t=c.hex3.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=c.hex8.exec(e))?parseInt(t[1],16)>>>0:(t=c.hex4.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=c.hsl.exec(e))?(255|r(l(t[1]),h(t[2]),h(t[3])))>>>0:(t=c.hsla.exec(e))?(r(l(t[1]),h(t[2]),h(t[3]))|d(t[4]))>>>0:null}function n(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function r(e,t,r){var i=r<.5?r*(1+t):r+t-r*t,o=2*r-i,a=n(o,i,e+1/3),s=n(o,i,e),c=n(o,i,e-1/3);return Math.round(255*a)<<24|Math.round(255*s)<<16|Math.round(255*c)<<8}var i="[-+]?\\d*\\.?\\d+",o=i+"%";function a(e){return Array.prototype.slice.call(e,0)}function s(){return"\\(\\s*("+a(arguments).join(")\\s*,\\s*(")+")\\s*\\)"}var c={rgb:new RegExp("rgb"+s(i,i,i)),rgba:new RegExp("rgba"+s(i,i,i,i)),hsl:new RegExp("hsl"+s(i,o,o)),hsla:new RegExp("hsla"+s(i,o,o,i)),hex3:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex4:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#([0-9a-fA-F]{6})$/,hex8:/^#([0-9a-fA-F]{8})$/};function u(e){var t=parseInt(e,10);return t<0?0:t>255?255:t}function l(e){return(parseFloat(e)%360+360)%360/360}function d(e){var t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function h(e){var t=parseFloat(e,10);return t<0?0:t>100?1:t/100}var p={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199};t.rgba=function(e){return{r:Math.round((4278190080&e)>>>24),g:Math.round((16711680&e)>>>16),b:Math.round((65280&e)>>>8),a:((255&e)>>>0)/255}},e.exports=t},6126:(e,t,n)=>{const{webm:r,mp4:i}=n(7505),o=()=>"undefined"!=typeof navigator&&parseFloat((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!window.MSStream,a=()=>"wakeLock"in navigator;e.exports=class{constructor(){if(this.enabled=!1,a()){this._wakeLock=null;const e=()=>{null!==this._wakeLock&&"visible"===document.visibilityState&&this.enable()};document.addEventListener("visibilitychange",e),document.addEventListener("fullscreenchange",e)}else o()?this.noSleepTimer=null:(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("title","No Sleep"),this.noSleepVideo.setAttribute("playsinline",""),this._addSourceToVideo(this.noSleepVideo,"webm",r),this._addSourceToVideo(this.noSleepVideo,"mp4",i),this.noSleepVideo.addEventListener("loadedmetadata",(()=>{this.noSleepVideo.duration<=1?this.noSleepVideo.setAttribute("loop",""):this.noSleepVideo.addEventListener("timeupdate",(()=>{this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=Math.random())}))})))}_addSourceToVideo(e,t,n){var r=document.createElement("source");r.src=n,r.type=`video/${t}`,e.appendChild(r)}get isEnabled(){return this.enabled}enable(){return a()?navigator.wakeLock.request("screen").then((e=>{this._wakeLock=e,this.enabled=!0,console.log("Wake Lock active."),this._wakeLock.addEventListener("release",(()=>{console.log("Wake Lock released.")}))})).catch((e=>{throw this.enabled=!1,console.error(`${e.name}, ${e.message}`),e})):o()?(this.disable(),console.warn("\n        NoSleep enabled for older iOS devices. This can interrupt\n        active or long-running network requests from completing successfully.\n        See https://github.com/richtr/NoSleep.js/issues/15 for more details.\n      "),this.noSleepTimer=window.setInterval((()=>{document.hidden||(window.location.href=window.location.href.split("#")[0],window.setTimeout(window.stop,0))}),15e3),this.enabled=!0,Promise.resolve()):this.noSleepVideo.play().then((e=>(this.enabled=!0,e))).catch((e=>{throw this.enabled=!1,e}))}disable(){a()?(this._wakeLock&&this._wakeLock.release(),this._wakeLock=null):o()?this.noSleepTimer&&(console.warn("\n          NoSleep now disabled for older iOS devices.\n        "),window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause(),this.enabled=!1}}},7505:e=>{e.exports={webm:"data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAVkhFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsghV17AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU1LjMzLjEwMFdBjUxhdmY1NS4zMy4xMDBzpJBlrrXf3DCDVB8KcgbMpcr+RImIQJBgAAAAAAAWVK5rAQAAAAAAD++uAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDiDgQEj44OEAmJaAOABAAAAAAAABrCBsLqBkK4BAAAAAAAPq9eBAnPFgQKcgQAitZyDdW5khohBX1ZPUkJJU4OBAuEBAAAAAAAAEZ+BArWIQOdwAAAAAABiZIEgY6JPbwIeVgF2b3JiaXMAAAAAAoC7AAAAAAAAgLUBAAAAAAC4AQN2b3JiaXMtAAAAWGlwaC5PcmcgbGliVm9yYmlzIEkgMjAxMDExMDEgKFNjaGF1ZmVudWdnZXQpAQAAABUAAABlbmNvZGVyPUxhdmM1NS41Mi4xMDIBBXZvcmJpcyVCQ1YBAEAAACRzGCpGpXMWhBAaQlAZ4xxCzmvsGUJMEYIcMkxbyyVzkCGkoEKIWyiB0JBVAABAAACHQXgUhIpBCCGEJT1YkoMnPQghhIg5eBSEaUEIIYQQQgghhBBCCCGERTlokoMnQQgdhOMwOAyD5Tj4HIRFOVgQgydB6CCED0K4moOsOQghhCQ1SFCDBjnoHITCLCiKgsQwuBaEBDUojILkMMjUgwtCiJqDSTX4GoRnQXgWhGlBCCGEJEFIkIMGQcgYhEZBWJKDBjm4FITLQagahCo5CB+EIDRkFQCQAACgoiiKoigKEBqyCgDIAAAQQFEUx3EcyZEcybEcCwgNWQUAAAEACAAAoEiKpEiO5EiSJFmSJVmSJVmS5omqLMuyLMuyLMsyEBqyCgBIAABQUQxFcRQHCA1ZBQBkAAAIoDiKpViKpWiK54iOCISGrAIAgAAABAAAEDRDUzxHlETPVFXXtm3btm3btm3btm3btm1blmUZCA1ZBQBAAAAQ0mlmqQaIMAMZBkJDVgEACAAAgBGKMMSA0JBVAABAAACAGEoOogmtOd+c46BZDppKsTkdnEi1eZKbirk555xzzsnmnDHOOeecopxZDJoJrTnnnMSgWQqaCa0555wnsXnQmiqtOeeccc7pYJwRxjnnnCateZCajbU555wFrWmOmkuxOeecSLl5UptLtTnnnHPOOeecc84555zqxekcnBPOOeecqL25lpvQxTnnnE/G6d6cEM4555xzzjnnnHPOOeecIDRkFQAABABAEIaNYdwpCNLnaCBGEWIaMulB9+gwCRqDnELq0ehopJQ6CCWVcVJKJwgNWQUAAAIAQAghhRRSSCGFFFJIIYUUYoghhhhyyimnoIJKKqmooowyyyyzzDLLLLPMOuyssw47DDHEEEMrrcRSU2011lhr7jnnmoO0VlprrbVSSimllFIKQkNWAQAgAAAEQgYZZJBRSCGFFGKIKaeccgoqqIDQkFUAACAAgAAAAABP8hzRER3RER3RER3RER3R8RzPESVREiVREi3TMjXTU0VVdWXXlnVZt31b2IVd933d933d+HVhWJZlWZZlWZZlWZZlWZZlWZYgNGQVAAACAAAghBBCSCGFFFJIKcYYc8w56CSUEAgNWQUAAAIACAAAAHAUR3EcyZEcSbIkS9IkzdIsT/M0TxM9URRF0zRV0RVdUTdtUTZl0zVdUzZdVVZtV5ZtW7Z125dl2/d93/d93/d93/d93/d9XQdCQ1YBABIAADqSIymSIimS4ziOJElAaMgqAEAGAEAAAIriKI7jOJIkSZIlaZJneZaomZrpmZ4qqkBoyCoAABAAQAAAAAAAAIqmeIqpeIqoeI7oiJJomZaoqZoryqbsuq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq4LhIasAgAkAAB0JEdyJEdSJEVSJEdygNCQVQCADACAAAAcwzEkRXIsy9I0T/M0TxM90RM901NFV3SB0JBVAAAgAIAAAAAAAAAMybAUy9EcTRIl1VItVVMt1VJF1VNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVN0zRNEwgNWQkAkAEAkBBTLS3GmgmLJGLSaqugYwxS7KWxSCpntbfKMYUYtV4ah5RREHupJGOKQcwtpNApJq3WVEKFFKSYYyoVUg5SIDRkhQAQmgHgcBxAsixAsiwAAAAAAAAAkDQN0DwPsDQPAAAAAAAAACRNAyxPAzTPAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAA0DwP8DwR8EQRAAAAAAAAACzPAzTRAzxRBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAAsDwP8EQR0DwRAAAAAAAAACzPAzxRBDzRAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEOAAABBgIRQasiIAiBMAcEgSJAmSBM0DSJYFTYOmwTQBkmVB06BpME0AAAAAAAAAAAAAJE2DpkHTIIoASdOgadA0iCIAAAAAAAAAAAAAkqZB06BpEEWApGnQNGgaRBEAAAAAAAAAAAAAzzQhihBFmCbAM02IIkQRpgkAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAGHAAAAgwoQwUGrIiAIgTAHA4imUBAIDjOJYFAACO41gWAABYliWKAABgWZooAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAYcAAACDChDBQashIAiAIAcCiKZQHHsSzgOJYFJMmyAJYF0DyApgFEEQAIAAAocAAACLBBU2JxgEJDVgIAUQAABsWxLE0TRZKkaZoniiRJ0zxPFGma53meacLzPM80IYqiaJoQRVE0TZimaaoqME1VFQAAUOAAABBgg6bE4gCFhqwEAEICAByKYlma5nmeJ4qmqZokSdM8TxRF0TRNU1VJkqZ5niiKommapqqyLE3zPFEURdNUVVWFpnmeKIqiaaqq6sLzPE8URdE0VdV14XmeJ4qiaJqq6roQRVE0TdNUTVV1XSCKpmmaqqqqrgtETxRNU1Vd13WB54miaaqqq7ouEE3TVFVVdV1ZBpimaaqq68oyQFVV1XVdV5YBqqqqruu6sgxQVdd1XVmWZQCu67qyLMsCAAAOHAAAAoygk4wqi7DRhAsPQKEhKwKAKAAAwBimFFPKMCYhpBAaxiSEFEImJaXSUqogpFJSKRWEVEoqJaOUUmopVRBSKamUCkIqJZVSAADYgQMA2IGFUGjISgAgDwCAMEYpxhhzTiKkFGPOOScRUoox55yTSjHmnHPOSSkZc8w556SUzjnnnHNSSuacc845KaVzzjnnnJRSSuecc05KKSWEzkEnpZTSOeecEwAAVOAAABBgo8jmBCNBhYasBABSAQAMjmNZmuZ5omialiRpmud5niiapiZJmuZ5nieKqsnzPE8URdE0VZXneZ4oiqJpqirXFUXTNE1VVV2yLIqmaZqq6rowTdNUVdd1XZimaaqq67oubFtVVdV1ZRm2raqq6rqyDFzXdWXZloEsu67s2rIAAPAEBwCgAhtWRzgpGgssNGQlAJABAEAYg5BCCCFlEEIKIYSUUggJAAAYcAAACDChDBQashIASAUAAIyx1lprrbXWQGettdZaa62AzFprrbXWWmuttdZaa6211lJrrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmstpZRSSimllFJKKaWUUkoppZRSSgUA+lU4APg/2LA6wknRWGChISsBgHAAAMAYpRhzDEIppVQIMeacdFRai7FCiDHnJKTUWmzFc85BKCGV1mIsnnMOQikpxVZjUSmEUlJKLbZYi0qho5JSSq3VWIwxqaTWWoutxmKMSSm01FqLMRYjbE2ptdhqq7EYY2sqLbQYY4zFCF9kbC2m2moNxggjWywt1VprMMYY3VuLpbaaizE++NpSLDHWXAAAd4MDAESCjTOsJJ0VjgYXGrISAAgJACAQUooxxhhzzjnnpFKMOeaccw5CCKFUijHGnHMOQgghlIwx5pxzEEIIIYRSSsaccxBCCCGEkFLqnHMQQgghhBBKKZ1zDkIIIYQQQimlgxBCCCGEEEoopaQUQgghhBBCCKmklEIIIYRSQighlZRSCCGEEEIpJaSUUgohhFJCCKGElFJKKYUQQgillJJSSimlEkoJJYQSUikppRRKCCGUUkpKKaVUSgmhhBJKKSWllFJKIYQQSikFAAAcOAAABBhBJxlVFmGjCRcegEJDVgIAZAAAkKKUUiktRYIipRikGEtGFXNQWoqocgxSzalSziDmJJaIMYSUk1Qy5hRCDELqHHVMKQYtlRhCxhik2HJLoXMOAAAAQQCAgJAAAAMEBTMAwOAA4XMQdAIERxsAgCBEZohEw0JweFAJEBFTAUBigkIuAFRYXKRdXECXAS7o4q4DIQQhCEEsDqCABByccMMTb3jCDU7QKSp1IAAAAAAADADwAACQXAAREdHMYWRobHB0eHyAhIiMkAgAAAAAABcAfAAAJCVAREQ0cxgZGhscHR4fICEiIyQBAIAAAgAAAAAggAAEBAQAAAAAAAIAAAAEBB9DtnUBAAAAAAAEPueBAKOFggAAgACjzoEAA4BwBwCdASqwAJAAAEcIhYWIhYSIAgIABhwJ7kPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99YAD+/6tQgKOFggADgAqjhYIAD4AOo4WCACSADqOZgQArADECAAEQEAAYABhYL/QACIBDmAYAAKOFggA6gA6jhYIAT4AOo5mBAFMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAGSADqOFggB6gA6jmYEAewAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAj4AOo5mBAKMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAKSADqOFggC6gA6jmYEAywAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAz4AOo4WCAOSADqOZgQDzADECAAEQEAAYABhYL/QACIBDmAYAAKOFggD6gA6jhYIBD4AOo5iBARsAEQIAARAQFGAAYWC/0AAiAQ5gGACjhYIBJIAOo4WCATqADqOZgQFDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggFPgA6jhYIBZIAOo5mBAWsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAXqADqOFggGPgA6jmYEBkwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIBpIAOo4WCAbqADqOZgQG7ADECAAEQEAAYABhYL/QACIBDmAYAAKOFggHPgA6jmYEB4wAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIB5IAOo4WCAfqADqOZgQILADECAAEQEAAYABhYL/QACIBDmAYAAKOFggIPgA6jhYICJIAOo5mBAjMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAjqADqOFggJPgA6jmYECWwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYICZIAOo4WCAnqADqOZgQKDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggKPgA6jhYICpIAOo5mBAqsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCArqADqOFggLPgA6jmIEC0wARAgABEBAUYABhYL/QACIBDmAYAKOFggLkgA6jhYIC+oAOo5mBAvsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAw+ADqOZgQMjADECAAEQEAAYABhYL/QACIBDmAYAAKOFggMkgA6jhYIDOoAOo5mBA0sAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA0+ADqOFggNkgA6jmYEDcwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIDeoAOo4WCA4+ADqOZgQObADECAAEQEAAYABhYL/QACIBDmAYAAKOFggOkgA6jhYIDuoAOo5mBA8MAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA8+ADqOFggPkgA6jhYID+oAOo4WCBA+ADhxTu2sBAAAAAAAAEbuPs4EDt4r3gQHxghEr8IEK",mp4:"data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"}},7418:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var a,s,c=i(e),u=1;u<arguments.length;u++){for(var l in a=Object(arguments[u]))n.call(a,l)&&(c[l]=a[l]);if(t){s=t(a);for(var d=0;d<s.length;d++)r.call(a,s[d])&&(c[s[d]]=a[s[d]])}}return c}},5658:(e,t,n)=>{"use strict";n.d(t,{Gl:()=>s,dP:()=>F,re:()=>V});var r=function(){return Object.create(null)},i=Array.prototype,o=i.forEach,a=i.slice,s=function(){function e(e,t){void 0===e&&(e=!0),void 0===t&&(t=r),this.weakness=e,this.makeData=t}return e.prototype.lookup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.lookupArray(e)},e.prototype.lookupArray=function(e){var t=this;return o.call(e,(function(e){return t=t.getChildTrie(e)})),t.data||(t.data=this.makeData(a.call(e)))},e.prototype.getChildTrie=function(t){var n=this.weakness&&function(e){switch(typeof e){case"object":if(null===e)break;case"function":return!0}return!1}(t)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),r=n.get(t);return r||n.set(t,r=new e(this.weakness,this.makeData)),r},e}(),c=null,u={},l=1;function d(e){try{return e()}catch(e){}}var h="@wry/context:Slot",p=d((function(){return globalThis}))||d((function(){return n.g}))||Object.create(null),f=p[h]||Array[h]||function(e){try{Object.defineProperty(p,h,{value:e,enumerable:!1,writable:!1,configurable:!0})}finally{return e}}(function(){function e(){this.id=["slot",l++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return e.prototype.hasValue=function(){for(var e=c;e;e=e.parent)if(this.id in e.slots){var t=e.slots[this.id];if(t===u)break;return e!==c&&(c.slots[this.id]=t),!0}return c&&(c.slots[this.id]=u),!1},e.prototype.getValue=function(){if(this.hasValue())return c.slots[this.id]},e.prototype.withValue=function(e,t,n,r){var i,o=((i={__proto__:null})[this.id]=e,i),a=c;c={parent:a,slots:o};try{return t.apply(r,n)}finally{c=a}},e.bind=function(e){var t=c;return function(){var n=c;try{return c=t,e.apply(this,arguments)}finally{c=n}}},e.noContext=function(e,t,n){if(!c)return e.apply(n,t);var r=c;try{return c=null,e.apply(n,t)}finally{c=r}},e}());function A(){}f.bind,f.noContext;var g,m=function(){function e(e,t){void 0===e&&(e=1/0),void 0===t&&(t=A),this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}return e.prototype.has=function(e){return this.map.has(e)},e.prototype.get=function(e){var t=this.getNode(e);return t&&t.value},e.prototype.getNode=function(e){var t=this.map.get(e);if(t&&t!==this.newest){var n=t.older,r=t.newer;r&&(r.older=n),n&&(n.newer=r),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=r)}return t},e.prototype.set=function(e,t){var n=this.getNode(e);return n?n.value=t:(n={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(e,n),n.value)},e.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},e.prototype.delete=function(e){var t=this.map.get(e);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0)},e}(),v=new f,y=Object.prototype.hasOwnProperty,E=void 0===(g=Array.from)?function(e){var t=[];return e.forEach((function(e){return t.push(e)})),t}:g;function b(e){var t=e.unsubscribe;"function"==typeof t&&(e.unsubscribe=void 0,t())}var _=[];function C(e,t){if(!e)throw new Error(t||"assertion failure")}function I(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1]}}var S=function(){function e(t){this.fn=t,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++e.count}return e.prototype.peek=function(){if(1===this.value.length&&!T(this))return w(this),this.value[0]},e.prototype.recompute=function(e){return C(!this.recomputing,"already recomputing"),w(this),T(this)?function(e,t){return L(e),v.withValue(e,R,[e,t]),function(e,t){if("function"==typeof e.subscribe)try{b(e),e.unsubscribe=e.subscribe.apply(null,t)}catch(t){return e.setDirty(),!1}return!0}(e,t)&&function(e){e.dirty=!1,T(e)||k(e)}(e),I(e.value)}(this,e):I(this.value)},e.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,O(this),b(this))},e.prototype.dispose=function(){var e=this;this.setDirty(),L(this),N(this,(function(t,n){t.setDirty(),M(t,e)}))},e.prototype.forget=function(){this.dispose()},e.prototype.dependOn=function(e){e.add(this),this.deps||(this.deps=_.pop()||new Set),this.deps.add(e)},e.prototype.forgetDeps=function(){var e=this;this.deps&&(E(this.deps).forEach((function(t){return t.delete(e)})),this.deps.clear(),_.push(this.deps),this.deps=null)},e.count=0,e}();function w(e){var t=v.getValue();if(t)return e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),T(e)?D(t,e):P(t,e),t}function R(e,t){e.recomputing=!0,e.value.length=0;try{e.value[0]=e.fn.apply(null,t)}catch(t){e.value[1]=t}e.recomputing=!1}function T(e){return e.dirty||!(!e.dirtyChildren||!e.dirtyChildren.size)}function O(e){N(e,D)}function k(e){N(e,P)}function N(e,t){var n=e.parents.size;if(n)for(var r=E(e.parents),i=0;i<n;++i)t(r[i],e)}function D(e,t){C(e.childValues.has(t)),C(T(t));var n=!T(e);if(e.dirtyChildren){if(e.dirtyChildren.has(t))return}else e.dirtyChildren=_.pop()||new Set;e.dirtyChildren.add(t),n&&O(e)}function P(e,t){C(e.childValues.has(t)),C(!T(t));var n,r,i,o=e.childValues.get(t);0===o.length?e.childValues.set(t,t.value.slice(0)):(n=o,r=t.value,(i=n.length)>0&&i===r.length&&n[i-1]===r[i-1]||e.setDirty()),x(e,t),T(e)||k(e)}function x(e,t){var n=e.dirtyChildren;n&&(n.delete(t),0===n.size&&(_.length<100&&_.push(n),e.dirtyChildren=null))}function L(e){e.childValues.size>0&&e.childValues.forEach((function(t,n){M(e,n)})),e.forgetDeps(),C(null===e.dirtyChildren)}function M(e,t){t.parents.delete(e),e.childValues.delete(t),x(e,t)}var B={setDirty:!0,dispose:!0,forget:!0};function F(e){var t=new Map,n=e&&e.subscribe;function r(e){var r=v.getValue();if(r){var i=t.get(e);i||t.set(e,i=new Set),r.dependOn(i),"function"==typeof n&&(b(i),i.unsubscribe=n(e))}}return r.dirty=function(e,n){var r=t.get(e);if(r){var i=n&&y.call(B,n)?n:"setDirty";E(r).forEach((function(e){return e[i]()})),t.delete(e),b(r)}},r}function U(){var e=new s("function"==typeof WeakMap);return function(){return e.lookupArray(arguments)}}U();var j=new Set;function V(e,t){void 0===t&&(t=Object.create(null));var n=new m(t.max||Math.pow(2,16),(function(e){return e.dispose()})),r=t.keyArgs,i=t.makeCacheKey||U(),o=function(){var o=i.apply(null,r?r.apply(null,arguments):arguments);if(void 0===o)return e.apply(null,arguments);var a=n.get(o);a||(n.set(o,a=new S(e)),a.subscribe=t.subscribe,a.forget=function(){return n.delete(o)});var s=a.recompute(Array.prototype.slice.call(arguments));return n.set(o,a),j.add(n),v.hasValue()||(j.forEach((function(e){return e.clean()})),j.clear()),s};function a(e){var t=n.get(e);t&&t.setDirty()}function s(e){var t=n.get(e);if(t)return t.peek()}function c(e){return n.delete(e)}return Object.defineProperty(o,"size",{get:function(){return n.map.size},configurable:!1,enumerable:!1}),o.dirtyKey=a,o.dirty=function(){a(i.apply(null,arguments))},o.peekKey=s,o.peek=function(){return s(i.apply(null,arguments))},o.forgetKey=c,o.forget=function(){return c(i.apply(null,arguments))},o.makeCacheKey=i,o.getKey=r?function(){return i.apply(null,r.apply(null,arguments))}:i,Object.freeze(o)}},4779:(e,t,n)=>{var r=n(5826);e.exports=function e(t,n,i){return r(n)||(i=n||i,n=[]),i=i||{},t instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(t,n):r(t)?function(t,n,r){for(var i=[],o=0;o<t.length;o++)i.push(e(t[o],n,r).source);return l(new RegExp("(?:"+i.join("|")+")",d(r)),n)}(t,n,i):function(e,t,n){return h(o(e,n),t,n)}(t,n,i)},e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,s="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var d=n[0],h=n[1],p=n.index;if(s+=e.slice(a,p),a=p+d.length,h)s+=h[1];else{var f=e[a],A=n[2],g=n[3],m=n[4],v=n[5],y=n[6],E=n[7];s&&(r.push(s),s="");var b=null!=A&&null!=f&&f!==A,_="+"===y||"*"===y,C="?"===y||"*"===y,I=n[2]||l,S=m||v;r.push({name:g||o++,prefix:A||"",delimiter:I,optional:C,repeat:_,partial:b,asterisk:!!E,pattern:S?u(S):E?".*":"[^"+c(I)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"==typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",d(t)));return function(t,i){for(var o="",s=t||{},c=(i||{}).pretty?a:encodeURIComponent,u=0;u<e.length;u++){var l=e[u];if("string"!=typeof l){var d,h=s[l.name];if(null==h){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var p=0;p<h.length;p++){if(d=c(h[p]),!n[u].test(d))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(d)+"`");o+=(0===p?l.prefix:l.delimiter)+d}}else{if(d=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):c(h),!n[u].test(d))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+d+'"');o+=l.prefix+d}}else o+=l}return o}}function c(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function u(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function d(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var u=e[s];if("string"==typeof u)a+=c(u);else{var h=c(u.prefix),p="(?:"+u.pattern+")";t.push(u),u.repeat&&(p+="(?:"+h+p+")*"),a+=p=u.optional?u.partial?h+"("+p+")?":"(?:"+h+"("+p+"))?":h+"("+p+")"}}var f=c(n.delimiter||"/"),A=a.slice(-f.length)===f;return i||(a=(A?a.slice(0,-f.length):a)+"(?:"+f+"(?=$))?"),a+=o?"$":i&&A?"":"(?="+f+"|$)",l(new RegExp("^"+a,d(n)),t)}},2703:(e,t,n)=>{"use strict";var r=n(414);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},5697:(e,t,n)=>{e.exports=n(2703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4448:(e,t,n)=>{"use strict";var r=n(7294),i=n(7418),o=n(3840);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,c={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(c[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,f={},A={};function g(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function E(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0===i.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!p.call(A,e)||!p.call(f,e)&&(h.test(e)?A[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=60103,C=60106,I=60107,S=60108,w=60114,R=60109,T=60110,O=60112,k=60113,N=60120,D=60115,P=60116,x=60121,L=60128,M=60129,B=60130,F=60131;if("function"==typeof Symbol&&Symbol.for){var U=Symbol.for;_=U("react.element"),C=U("react.portal"),I=U("react.fragment"),S=U("react.strict_mode"),w=U("react.profiler"),R=U("react.provider"),T=U("react.context"),O=U("react.forward_ref"),k=U("react.suspense"),N=U("react.suspense_list"),D=U("react.memo"),P=U("react.lazy"),x=U("react.block"),U("react.scope"),L=U("react.opaque.id"),M=U("react.debug_trace_mode"),B=U("react.offscreen"),F=U("react.legacy_hidden")}var j,V="function"==typeof Symbol&&Symbol.iterator;function Q(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=V&&e[V]||e["@@iterator"])?e:null}function G(e){if(void 0===j)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var q=!1;function H(e,t){if(!e||q)return"";q=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{q=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?G(e):""}function z(e){switch(e.tag){case 5:return G(e.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return H(e.type,!1);case 11:return H(e.type.render,!1);case 22:return H(e.type._render,!1);case 1:return H(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case I:return"Fragment";case C:return"Portal";case w:return"Profiler";case S:return"StrictMode";case k:return"Suspense";case N:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case R:return(e._context.displayName||"Context")+".Provider";case O:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case D:return W(e.type);case x:return W(e._render);case P:t=e._payload,e=e._init;try{return W(e(t))}catch(e){}}return null}function K(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function J(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Z(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&E(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ce(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ue(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de="http://www.w3.org/1999/xhtml";function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var fe,Ae,ge=(Ae=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((fe=fe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return Ae(e,t)}))}:Ae);function me(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ve={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ye=["Webkit","ms","Moz","O"];function Ee(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ve.hasOwnProperty(e)&&ve[e]?(""+t).trim():t+"px"}function be(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=Ee(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ve).forEach((function(e){ye.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ve[t]=ve[e]}))}));var _e=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ce(e,t){if(t){if(_e[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62))}}function Ie(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Re=null,Te=null;function Oe(e){if(e=ni(e)){if("function"!=typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=ii(t),we(e.stateNode,e.type,t))}}function ke(e){Re?Te?Te.push(e):Te=[e]:Re=e}function Ne(){if(Re){var e=Re,t=Te;if(Te=Re=null,Oe(e),t)for(e=0;e<t.length;e++)Oe(t[e])}}function De(e,t){return e(t)}function Pe(e,t,n,r,i){return e(t,n,r,i)}function xe(){}var Le=De,Me=!1,Be=!1;function Fe(){null===Re&&null===Te||(xe(),Ne())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=ii(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var je=!1;if(d)try{var Ve={};Object.defineProperty(Ve,"passive",{get:function(){je=!0}}),window.addEventListener("test",Ve,Ve),window.removeEventListener("test",Ve,Ve)}catch(Ae){je=!1}function Qe(e,t,n,r,i,o,a,s,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var Ge=!1,qe=null,He=!1,ze=null,We={onError:function(e){Ge=!0,qe=e}};function Ke(e,t,n,r,i,o,a,s,c){Ge=!1,qe=null,Qe.apply(We,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Ze(e){if(Ye(e)!==e)throw Error(a(188))}function Xe(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ze(i),e;if(o===r)return Ze(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=o;break}if(c===r){s=!0,r=i,n=o;break}c=c.sibling}if(!s){for(c=o.child;c;){if(c===n){s=!0,n=o,r=i;break}if(c===r){s=!0,r=o,n=i;break}c=c.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function $e(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,ot=[],at=null,st=null,ct=null,ut=new Map,lt=new Map,dt=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function ft(e,t){switch(e){case"focusin":case"focusout":at=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":ut.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lt.delete(t.pointerId)}}function At(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=pt(t,n,r,i,o),null!==t&&null!==(t=ni(t))&&tt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=ti(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ni(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function vt(e,t,n){mt(e)&&n.delete(t)}function yt(){for(it=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ni(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==at&&mt(at)&&(at=null),null!==st&&mt(st)&&(st=null),null!==ct&&mt(ct)&&(ct=null),ut.forEach(vt),lt.forEach(vt)}function Et(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,yt)))}function bt(e){function t(t){return Et(t,e)}if(0<ot.length){Et(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==at&&Et(at,e),null!==st&&Et(st,e),null!==ct&&Et(ct,e),ut.forEach(t),lt.forEach(t),n=0;n<dt.length;n++)(r=dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)gt(n),null===n.blockedOn&&dt.shift()}function _t(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ct={animationend:_t("Animation","AnimationEnd"),animationiteration:_t("Animation","AnimationIteration"),animationstart:_t("Animation","AnimationStart"),transitionend:_t("Transition","TransitionEnd")},It={},St={};function wt(e){if(It[e])return It[e];if(!Ct[e])return e;var t,n=Ct[e];for(t in n)if(n.hasOwnProperty(t)&&t in St)return It[e]=n[t];return e}d&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete Ct.animationend.animation,delete Ct.animationiteration.animation,delete Ct.animationstart.animation),"TransitionEvent"in window||delete Ct.transitionend.transition);var Rt=wt("animationend"),Tt=wt("animationiteration"),Ot=wt("animationstart"),kt=wt("transitionend"),Nt=new Map,Dt=new Map,Pt=["abort","abort",Rt,"animationEnd",Tt,"animationIteration",Ot,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",kt,"transitionEnd","waiting","waiting"];function xt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Dt.set(r,t),Nt.set(r,i),u(i,[r])}}(0,o.unstable_now)();var Lt=8;function Mt(e){if(0!=(1&e))return Lt=15,1;if(0!=(2&e))return Lt=14,2;if(0!=(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!=(32&e)?(Lt=11,32):0!=(t=192&e)?(Lt=10,t):0!=(256&e)?(Lt=9,256):0!=(t=3584&e)?(Lt=8,t):0!=(4096&e)?(Lt=7,4096):0!=(t=4186112&e)?(Lt=6,t):0!=(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!=(134217728&e)?(Lt=3,134217728):0!=(t=805306368&e)?(Lt=2,t):0!=(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Bt(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Lt=15;else if(0!=(o=134217727&n)){var c=o&~a;0!==c?(r=Mt(c),i=Lt):0!=(s&=o)&&(r=Mt(s),i=Lt)}else 0!=(o=n&~a)?(r=Mt(o),i=Lt):0!==s&&(r=Mt(s),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-Gt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&a)){if(Mt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Gt(t)),r|=e[n],t&=~i;return r}function Ft(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=jt(24&~t))?Ut(10,t):e;case 10:return 0===(e=jt(192&~t))?Ut(8,t):e;case 8:return 0===(e=jt(3584&~t))&&0===(e=jt(4186112&~t))&&(e=512),e;case 2:return 0===(t=jt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function jt(e){return e&-e}function Vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Gt(t)]=n}var Gt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(qt(e)/Ht|0)|0},qt=Math.log,Ht=Math.LN2,zt=o.unstable_UserBlockingPriority,Wt=o.unstable_runWithPriority,Kt=!0;function Yt(e,t,n,r){Me||xe();var i=Zt,o=Me;Me=!0;try{Pe(i,e,t,n,r)}finally{(Me=o)||Fe()}}function Jt(e,t,n,r){Wt(zt,Zt.bind(null,e,t,n,r))}function Zt(e,t,n,r){var i;if(Kt)if((i=0==(4&t))&&0<ot.length&&-1<ht.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var o=Xt(e,t,n,r);if(null===o)i&&ft(e,r);else{if(i){if(-1<ht.indexOf(e))return e=pt(o,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return at=At(at,e,t,n,r,i),!0;case"dragenter":return st=At(st,e,t,n,r,i),!0;case"mouseover":return ct=At(ct,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ut.set(o,At(ut.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,lt.set(o,At(lt.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;ft(e,r)}xr(e,t,r,null,n)}}}function Xt(e,t,n,r){var i=Se(r);if(null!==(i=ti(i))){var o=Ye(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Je(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return xr(e,t,r,i,n),null}var $t=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in $t?$t.value:$t.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function an(){return!1}function sn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:an,this.isPropagationStopped=an,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,un,ln,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=sn(dn),pn=i({},dn,{view:0,detail:0}),fn=sn(pn),An=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(cn=e.screenX-ln.screenX,un=e.screenY-ln.screenY):un=cn=0,ln=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:un}}),gn=sn(An),mn=sn(i({},An,{dataTransfer:0})),vn=sn(i({},pn,{relatedTarget:0})),yn=sn(i({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),En=i({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(En),_n=sn(i({},dn,{data:0})),Cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Rn(){return wn}var Tn=i({},pn,{key:function(e){if(e.key){var t=Cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),On=sn(Tn),kn=sn(i({},An,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rn})),Dn=sn(i({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=i({},An,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xn=sn(Pn),Ln=[9,13,27,32],Mn=d&&"CompositionEvent"in window,Bn=null;d&&"documentMode"in document&&(Bn=document.documentMode);var Fn=d&&"TextEvent"in window&&!Bn,Un=d&&(!Mn||Bn&&8<Bn&&11>=Bn),jn=String.fromCharCode(32),Vn=!1;function Qn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1,Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Wn(e,t,n,r){ke(r),0<(t=Mr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Yn=null;function Jn(e){Tr(e,0)}function Zn(e){if(Z(ri(e)))return e}function Xn(e,t){if("change"===e)return t}var $n=!1;if(d){var er;if(d){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"==typeof nr.oninput}er=tr}else er=!1;$n=er&&(!document.documentMode||9<document.documentMode)}function rr(){Kn&&(Kn.detachEvent("onpropertychange",ir),Yn=Kn=null)}function ir(e){if("value"===e.propertyName&&Zn(Yn)){var t=[];if(Wn(t,Yn,e,Se(e)),e=Jn,Me)e(t);else{Me=!0;try{De(e,t)}finally{Me=!1,Fe()}}}}function or(e,t,n){"focusin"===e?(rr(),Yn=n,(Kn=t).attachEvent("onpropertychange",ir)):"focusout"===e&&rr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(Yn)}function sr(e,t){if("click"===e)return Zn(t)}function cr(e,t){if("input"===e||"change"===e)return Zn(t)}var ur="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},lr=Object.prototype.hasOwnProperty;function dr(e,t){if(ur(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!lr.call(t,n[r])||!ur(e[n[r]],t[n[r]]))return!1;return!0}function hr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=hr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Ar(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var mr=d&&"documentMode"in document&&11>=document.documentMode,vr=null,yr=null,Er=null,br=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==vr||vr!==X(r)||(r="selectionStart"in(r=vr)&&gr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Er&&dr(Er,r)||(Er=r,0<(r=Mr(yr,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}xt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),xt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),xt(Pt,2);for(var Cr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ir=0;Ir<Cr.length;Ir++)Dt.set(Cr[Ir],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function Rr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,c,u){if(Ke.apply(this,arguments),Ge){if(!Ge)throw Error(a(198));var l=qe;Ge=!1,qe=null,He||(He=!0,ze=l)}}(r,t,void 0,e),e.currentTarget=null}function Tr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],c=s.instance,u=s.currentTarget;if(s=s.listener,c!==o&&i.isPropagationStopped())break e;Rr(i,s,u),o=c}else for(a=0;a<r.length;a++){if(c=(s=r[a]).instance,u=s.currentTarget,s=s.listener,c!==o&&i.isPropagationStopped())break e;Rr(i,s,u),o=c}}}if(He)throw e=ze,He=!1,ze=null,e}function Or(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Pr(t,e,2,!1),n.add(r))}var kr="_reactListening"+Math.random().toString(36).slice(2);function Nr(e){e[kr]||(e[kr]=!0,s.forEach((function(t){wr.has(t)||Dr(t,!1,e,null),Dr(t,!0,e,null)})))}function Dr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&wr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=oi(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Pr(o,e,i,t),a.add(s))}function Pr(e,t,n,r){var i=Dt.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=Jt;break;default:i=Zt}n=i.bind(null,t,n,e),i=void 0,!je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function xr(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&((c=a.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ti(s)))return;if(5===(c=a.tag)||6===c){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Be)return e();Be=!0;try{Le(e,t,n)}finally{Be=!1,Fe()}}((function(){var r=o,i=Se(n),a=[];e:{var s=Nt.get(e);if(void 0!==s){var c=hn,u=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":c=On;break;case"focusin":u="focus",c=vn;break;case"focusout":u="blur",c=vn;break;case"beforeblur":case"afterblur":c=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Nn;break;case Rt:case Tt:case Ot:c=yn;break;case kt:c=Dn;break;case"scroll":c=fn;break;case"wheel":c=xn;break;case"copy":case"cut":case"paste":c=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=kn}var l=0!=(4&t),d=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var p,f=r;null!==f;){var A=(p=f).stateNode;if(5===p.tag&&null!==A&&(p=A,null!==h&&null!=(A=Ue(f,h))&&l.push(Lr(f,A,p))),d)break;f=f.return}0<l.length&&(s=new c(s,u,null,n,i),a.push({event:s,listeners:l}))}}if(0==(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(u=n.relatedTarget||n.fromElement)||!ti(u)&&!u[$r])&&(c||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?ti(u):null)&&(u!==(d=Ye(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(c=null,u=r),c!==u)){if(l=gn,A="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(l=kn,A="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==c?s:ri(c),p=null==u?s:ri(u),(s=new l(A,f+"leave",c,n,i)).target=d,s.relatedTarget=p,A=null,ti(i)===r&&((l=new l(h,f+"enter",u,n,i)).target=p,l.relatedTarget=d,A=l),d=A,c&&u)e:{for(h=u,f=0,p=l=c;p;p=Br(p))f++;for(p=0,A=h;A;A=Br(A))p++;for(;0<f-p;)l=Br(l),f--;for(;0<p-f;)h=Br(h),p--;for(;f--;){if(l===h||null!==h&&l===h.alternate)break e;l=Br(l),h=Br(h)}l=null}else l=null;null!==c&&Fr(a,s,c,l,!1),null!==u&&null!==d&&Fr(a,d,u,l,!0)}if("select"===(c=(s=r?ri(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var g=Xn;else if(zn(s))if($n)g=cr;else{g=ar;var m=or}else(c=s.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=sr);switch(g&&(g=g(e,r))?Wn(a,g,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ie(s,"number",s.value)),m=r?ri(r):window,e){case"focusin":(zn(m)||"true"===m.contentEditable)&&(vr=m,yr=r,Er=null);break;case"focusout":Er=yr=vr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,_r(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":_r(a,n,i)}var v;if(Mn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else qn?Qn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Un&&"ko"!==n.locale&&(qn||"onCompositionStart"!==y?"onCompositionEnd"===y&&qn&&(v=nn()):(en="value"in($t=i)?$t.value:$t.textContent,qn=!0)),0<(m=Mr(r,y)).length&&(y=new _n(y,e,null,n,i),a.push({event:y,listeners:m}),(v||null!==(v=Gn(n)))&&(y.data=v))),(v=Fn?function(e,t){switch(e){case"compositionend":return Gn(t);case"keypress":return 32!==t.which?null:(Vn=!0,jn);case"textInput":return(e=t.data)===jn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Mn&&Qn(e,t)?(e=nn(),tn=en=$t=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Mr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v)}Tr(a,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ue(e,n))&&r.unshift(Lr(e,o,i)),null!=(o=Ue(e,t))&&r.push(Lr(e,o,i))),e=e.return}return r}function Br(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Fr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,c=s.alternate,u=s.stateNode;if(null!==c&&c===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(c=Ue(n,o))&&a.unshift(Lr(n,c,s)):i||null!=(c=Ue(n,o))&&a.push(Lr(n,c,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Ur(){}var jr=null,Vr=null;function Qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Gr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var qr="function"==typeof setTimeout?setTimeout:void 0,Hr="function"==typeof clearTimeout?clearTimeout:void 0;function zr(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function Wr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Kr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0,Jr=Math.random().toString(36).slice(2),Zr="__reactFiber$"+Jr,Xr="__reactProps$"+Jr,$r="__reactContainer$"+Jr,ei="__reactEvents$"+Jr;function ti(e){var t=e[Zr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[$r]||n[Zr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Kr(e);null!==e;){if(n=e[Zr])return n;e=Kr(e)}return t}n=(e=n).parentNode}return null}function ni(e){return!(e=e[Zr]||e[$r])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ri(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ii(e){return e[Xr]||null}function oi(e){var t=e[ei];return void 0===t&&(t=e[ei]=new Set),t}var ai=[],si=-1;function ci(e){return{current:e}}function ui(e){0>si||(e.current=ai[si],ai[si]=null,si--)}function li(e,t){si++,ai[si]=e.current,e.current=t}var di={},hi=ci(di),pi=ci(!1),fi=di;function Ai(e,t){var n=e.type.contextTypes;if(!n)return di;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function gi(e){return null!=e.childContextTypes}function mi(){ui(pi),ui(hi)}function vi(e,t,n){if(hi.current!==di)throw Error(a(168));li(hi,t),li(pi,n)}function yi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,W(t)||"Unknown",o));return i({},n,r)}function Ei(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||di,fi=hi.current,li(hi,e),li(pi,pi.current),!0}function bi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=yi(e,t,fi),r.__reactInternalMemoizedMergedChildContext=e,ui(pi),ui(hi),li(hi,e)):ui(pi),li(pi,n)}var _i=null,Ci=null,Ii=o.unstable_runWithPriority,Si=o.unstable_scheduleCallback,wi=o.unstable_cancelCallback,Ri=o.unstable_shouldYield,Ti=o.unstable_requestPaint,Oi=o.unstable_now,ki=o.unstable_getCurrentPriorityLevel,Ni=o.unstable_ImmediatePriority,Di=o.unstable_UserBlockingPriority,Pi=o.unstable_NormalPriority,xi=o.unstable_LowPriority,Li=o.unstable_IdlePriority,Mi={},Bi=void 0!==Ti?Ti:function(){},Fi=null,Ui=null,ji=!1,Vi=Oi(),Qi=1e4>Vi?Oi:function(){return Oi()-Vi};function Gi(){switch(ki()){case Ni:return 99;case Di:return 98;case Pi:return 97;case xi:return 96;case Li:return 95;default:throw Error(a(332))}}function qi(e){switch(e){case 99:return Ni;case 98:return Di;case 97:return Pi;case 96:return xi;case 95:return Li;default:throw Error(a(332))}}function Hi(e,t){return e=qi(e),Ii(e,t)}function zi(e,t,n){return e=qi(e),Si(e,t,n)}function Wi(){if(null!==Ui){var e=Ui;Ui=null,wi(e)}Ki()}function Ki(){if(!ji&&null!==Fi){ji=!0;var e=0;try{var t=Fi;Hi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Fi=null}catch(t){throw null!==Fi&&(Fi=Fi.slice(e+1)),Si(Ni,Wi),t}finally{ji=!1}}}var Yi=b.ReactCurrentBatchConfig;function Ji(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Zi=ci(null),Xi=null,$i=null,eo=null;function to(){eo=$i=Xi=null}function no(e){var t=Zi.current;ui(Zi),e.type._context._currentValue=t}function ro(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function io(e,t){Xi=e,eo=$i=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Ma=!0),e.firstContext=null)}function oo(e,t){if(eo!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(eo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===$i){if(null===Xi)throw Error(a(308));$i=t,Xi.dependencies={lanes:0,firstContext:t,responders:null}}else $i=$i.next=t;return e._currentValue}var ao=!1;function so(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function co(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function uo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function lo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ho(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function po(e,t,n,r){var o=e.updateQueue;ao=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,c=o.shared.pending;if(null!==c){o.shared.pending=null;var u=c,l=u.next;u.next=null,null===s?a=l:s.next=l,s=u;var d=e.alternate;if(null!==d){var h=(d=d.updateQueue).lastBaseUpdate;h!==s&&(null===h?d.firstBaseUpdate=l:h.next=l,d.lastBaseUpdate=u)}}if(null!==a){for(h=o.baseState,s=0,d=l=u=null;;){c=a.lane;var p=a.eventTime;if((r&c)===c){null!==d&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=e,A=a;switch(c=t,p=n,A.tag){case 1:if("function"==typeof(f=A.payload)){h=f.call(p,h,c);break e}h=f;break e;case 3:f.flags=-4097&f.flags|64;case 0:if(null==(c="function"==typeof(f=A.payload)?f.call(p,h,c):f))break e;h=i({},h,c);break e;case 2:ao=!0}}null!==a.callback&&(e.flags|=32,null===(c=o.effects)?o.effects=[a]:c.push(a))}else p={eventTime:p,lane:c,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===d?(l=d=p,u=h):d=d.next=p,s|=c;if(null===(a=a.next)){if(null===(c=o.shared.pending))break;a=c.next,c.next=null,o.lastBaseUpdate=c,o.shared.pending=null}}null===d&&(u=h),o.baseState=u,o.firstBaseUpdate=l,o.lastBaseUpdate=d,Fs|=s,e.lanes=s,e.memoizedState=h}}function fo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(a(191,i));i.call(r)}}}var Ao=(new r.Component).refs;function go(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var mo={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=uc(),i=lc(e),o=uo(r,i);o.payload=t,null!=n&&(o.callback=n),lo(e,o),dc(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=uc(),i=lc(e),o=uo(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),lo(e,o),dc(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=uc(),r=lc(e),i=uo(n,r);i.tag=2,null!=t&&(i.callback=t),lo(e,i),dc(e,r,n)}};function vo(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!(t.prototype&&t.prototype.isPureReactComponent&&dr(n,r)&&dr(i,o))}function yo(e,t,n){var r=!1,i=di,o=t.contextType;return"object"==typeof o&&null!==o?o=oo(o):(i=gi(t)?fi:hi.current,o=(r=null!=(r=t.contextTypes))?Ai(e,i):di),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=mo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Eo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&mo.enqueueReplaceState(t,t.state,null)}function bo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ao,so(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=oo(o):(o=gi(t)?fi:hi.current,i.context=Ai(e,o)),po(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(go(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&mo.enqueueReplaceState(i,i.state,null),po(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var _o=Array.isArray;function Co(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===Ao&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Io(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function So(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Gc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Wc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Co(e,t,n),r.return=e,r):((r=qc(n.type,n.key,n.props,null,e.mode,r)).ref=Co(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Kc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Hc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Wc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case _:return(n=qc(t.type,t.key,t.props,null,e.mode,n)).ref=Co(e,null,t),n.return=e,n;case C:return(t=Kc(t,e.mode,n)).return=e,t}if(_o(t)||Q(t))return(t=Hc(t,e.mode,n,null)).return=e,t;Io(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:c(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?n.type===I?d(e,t,n.props.children,r,i):u(e,t,n,r):null;case C:return n.key===i?l(e,t,n,r):null}if(_o(n)||Q(n))return null!==i?null:d(e,t,n,r,null);Io(e,n)}return null}function f(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case _:return e=e.get(null===r.key?n:r.key)||null,r.type===I?d(t,e,r.props.children,i,r.key):u(t,e,r,i);case C:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(_o(r)||Q(r))return d(t,e=e.get(n)||null,r,i,null);Io(t,r)}return null}function A(i,a,s,c){for(var u=null,l=null,d=a,A=a=0,g=null;null!==d&&A<s.length;A++){d.index>A?(g=d,d=null):g=d.sibling;var m=p(i,d,s[A],c);if(null===m){null===d&&(d=g);break}e&&d&&null===m.alternate&&t(i,d),a=o(m,a,A),null===l?u=m:l.sibling=m,l=m,d=g}if(A===s.length)return n(i,d),u;if(null===d){for(;A<s.length;A++)null!==(d=h(i,s[A],c))&&(a=o(d,a,A),null===l?u=d:l.sibling=d,l=d);return u}for(d=r(i,d);A<s.length;A++)null!==(g=f(d,i,A,s[A],c))&&(e&&null!==g.alternate&&d.delete(null===g.key?A:g.key),a=o(g,a,A),null===l?u=g:l.sibling=g,l=g);return e&&d.forEach((function(e){return t(i,e)})),u}function g(i,s,c,u){var l=Q(c);if("function"!=typeof l)throw Error(a(150));if(null==(c=l.call(c)))throw Error(a(151));for(var d=l=null,A=s,g=s=0,m=null,v=c.next();null!==A&&!v.done;g++,v=c.next()){A.index>g?(m=A,A=null):m=A.sibling;var y=p(i,A,v.value,u);if(null===y){null===A&&(A=m);break}e&&A&&null===y.alternate&&t(i,A),s=o(y,s,g),null===d?l=y:d.sibling=y,d=y,A=m}if(v.done)return n(i,A),l;if(null===A){for(;!v.done;g++,v=c.next())null!==(v=h(i,v.value,u))&&(s=o(v,s,g),null===d?l=v:d.sibling=v,d=v);return l}for(A=r(i,A);!v.done;g++,v=c.next())null!==(v=f(A,i,g,v.value,u))&&(e&&null!==v.alternate&&A.delete(null===v.key?g:v.key),s=o(v,s,g),null===d?l=v:d.sibling=v,d=v);return e&&A.forEach((function(e){return t(i,e)})),l}return function(e,r,o,c){var u="object"==typeof o&&null!==o&&o.type===I&&null===o.key;u&&(o=o.props.children);var l="object"==typeof o&&null!==o;if(l)switch(o.$$typeof){case _:e:{for(l=o.key,u=r;null!==u;){if(u.key===l){if(7===u.tag){if(o.type===I){n(e,u.sibling),(r=i(u,o.props.children)).return=e,e=r;break e}}else if(u.elementType===o.type){n(e,u.sibling),(r=i(u,o.props)).ref=Co(e,u,o),r.return=e,e=r;break e}n(e,u);break}t(e,u),u=u.sibling}o.type===I?((r=Hc(o.props.children,e.mode,c,o.key)).return=e,e=r):((c=qc(o.type,o.key,o.props,null,e.mode,c)).ref=Co(e,r,o),c.return=e,e=c)}return s(e);case C:e:{for(u=o.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Kc(o,e.mode,c)).return=e,e=r}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Wc(o,e.mode,c)).return=e,e=r),s(e);if(_o(o))return A(e,r,o,c);if(Q(o))return g(e,r,o,c);if(l&&Io(e,o),void 0===o&&!u)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,W(e.type)||"Component"))}return n(e,r)}}var wo=So(!0),Ro=So(!1),To={},Oo=ci(To),ko=ci(To),No=ci(To);function Do(e){if(e===To)throw Error(a(174));return e}function Po(e,t){switch(li(No,t),li(ko,e),li(Oo,To),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ui(Oo),li(Oo,t)}function xo(){ui(Oo),ui(ko),ui(No)}function Lo(e){Do(No.current);var t=Do(Oo.current),n=pe(t,e.type);t!==n&&(li(ko,e),li(Oo,n))}function Mo(e){ko.current===e&&(ui(Oo),ui(ko))}var Bo=ci(0);function Fo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Uo=null,jo=null,Vo=!1;function Qo(e,t){var n=Vc(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Go(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function qo(e){if(Vo){var t=jo;if(t){var n=t;if(!Go(e,t)){if(!(t=Wr(n.nextSibling))||!Go(e,t))return e.flags=-1025&e.flags|2,Vo=!1,void(Uo=e);Qo(Uo,n)}Uo=e,jo=Wr(t.firstChild)}else e.flags=-1025&e.flags|2,Vo=!1,Uo=e}}function Ho(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Uo=e}function zo(e){if(e!==Uo)return!1;if(!Vo)return Ho(e),Vo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Gr(t,e.memoizedProps))for(t=jo;t;)Qo(e,t),t=Wr(t.nextSibling);if(Ho(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){jo=Wr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}jo=null}}else jo=Uo?Wr(e.stateNode.nextSibling):null;return!0}function Wo(){jo=Uo=null,Vo=!1}var Ko=[];function Yo(){for(var e=0;e<Ko.length;e++)Ko[e]._workInProgressVersionPrimary=null;Ko.length=0}var Jo=b.ReactCurrentDispatcher,Zo=b.ReactCurrentBatchConfig,Xo=0,$o=null,ea=null,ta=null,na=!1,ra=!1;function ia(){throw Error(a(321))}function oa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function aa(e,t,n,r,i,o){if(Xo=o,$o=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Jo.current=null===e||null===e.memoizedState?Da:Pa,e=n(r,i),ra){o=0;do{if(ra=!1,!(25>o))throw Error(a(301));o+=1,ta=ea=null,t.updateQueue=null,Jo.current=xa,e=n(r,i)}while(ra)}if(Jo.current=Na,t=null!==ea&&null!==ea.next,Xo=0,ta=ea=$o=null,na=!1,t)throw Error(a(300));return e}function sa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ta?$o.memoizedState=ta=e:ta=ta.next=e,ta}function ca(){if(null===ea){var e=$o.alternate;e=null!==e?e.memoizedState:null}else e=ea.next;var t=null===ta?$o.memoizedState:ta.next;if(null!==t)ta=t,ea=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ea=e).memoizedState,baseState:ea.baseState,baseQueue:ea.baseQueue,queue:ea.queue,next:null},null===ta?$o.memoizedState=ta=e:ta=ta.next=e}return ta}function ua(e,t){return"function"==typeof t?t(e):t}function la(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ea,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var c=s=o=null,u=i;do{var l=u.lane;if((Xo&l)===l)null!==c&&(c=c.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var d={lane:l,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===c?(s=c=d,o=r):c=c.next=d,$o.lanes|=l,Fs|=l}u=u.next}while(null!==u&&u!==i);null===c?o=r:c.next=s,ur(r,t.memoizedState)||(Ma=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function da(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);ur(o,t.memoizedState)||(Ma=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ha(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Xo&e)===e)&&(t._workInProgressVersionPrimary=r,Ko.push(t))),e)return n(t._source);throw Ko.push(t),Error(a(350))}function pa(e,t,n,r){var i=ks;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),c=Jo.current,u=c.useState((function(){return ha(i,t,n)})),l=u[1],d=u[0];u=ta;var h=e.memoizedState,p=h.refs,f=p.getSnapshot,A=h.source;h=h.subscribe;var g=$o;return e.memoizedState={refs:p,source:t,subscribe:r},c.useEffect((function(){p.getSnapshot=n,p.setSnapshot=l;var e=o(t._source);if(!ur(s,e)){e=n(t._source),ur(d,e)||(l(e),e=lc(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var c=31-Gt(a),u=1<<c;r[c]|=e,a&=~u}}}),[n,t,r]),c.useEffect((function(){return r(t._source,(function(){var e=p.getSnapshot,n=p.setSnapshot;try{n(e(t._source));var r=lc(g);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),ur(f,n)&&ur(A,t)&&ur(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:ua,lastRenderedState:d}).dispatch=l=ka.bind(null,$o,e),u.queue=e,u.baseQueue=null,d=ha(i,t,n),u.memoizedState=u.baseState=d),d}function fa(e,t,n){return pa(ca(),e,t,n)}function Aa(e){var t=sa();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ua,lastRenderedState:e}).dispatch=ka.bind(null,$o,e),[t.memoizedState,e]}function ga(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=$o.updateQueue)?(t={lastEffect:null},$o.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ma(e){return e={current:e},sa().memoizedState=e}function va(){return ca().memoizedState}function ya(e,t,n,r){var i=sa();$o.flags|=e,i.memoizedState=ga(1|t,n,void 0,void 0===r?null:r)}function Ea(e,t,n,r){var i=ca();r=void 0===r?null:r;var o=void 0;if(null!==ea){var a=ea.memoizedState;if(o=a.destroy,null!==r&&oa(r,a.deps))return void ga(t,n,o,r)}$o.flags|=e,i.memoizedState=ga(1|t,n,o,r)}function ba(e,t){return ya(516,4,e,t)}function _a(e,t){return Ea(516,4,e,t)}function Ca(e,t){return Ea(4,2,e,t)}function Ia(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Sa(e,t,n){return n=null!=n?n.concat([e]):null,Ea(4,2,Ia.bind(null,t,e),n)}function wa(){}function Ra(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&oa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ta(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&oa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Oa(e,t){var n=Gi();Hi(98>n?98:n,(function(){e(!0)})),Hi(97<n?97:n,(function(){var n=Zo.transition;Zo.transition=1;try{e(!1),t()}finally{Zo.transition=n}}))}function ka(e,t,n){var r=uc(),i=lc(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===$o||null!==a&&a===$o)ra=na=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,c=a(s,n);if(o.eagerReducer=a,o.eagerState=c,ur(c,s))return}catch(e){}dc(e,i,r)}}var Na={readContext:oo,useCallback:ia,useContext:ia,useEffect:ia,useImperativeHandle:ia,useLayoutEffect:ia,useMemo:ia,useReducer:ia,useRef:ia,useState:ia,useDebugValue:ia,useDeferredValue:ia,useTransition:ia,useMutableSource:ia,useOpaqueIdentifier:ia,unstable_isNewReconciler:!1},Da={readContext:oo,useCallback:function(e,t){return sa().memoizedState=[e,void 0===t?null:t],e},useContext:oo,useEffect:ba,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ya(4,2,Ia.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ya(4,2,e,t)},useMemo:function(e,t){var n=sa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=sa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ka.bind(null,$o,e),[r.memoizedState,e]},useRef:ma,useState:Aa,useDebugValue:wa,useDeferredValue:function(e){var t=Aa(e),n=t[0],r=t[1];return ba((function(){var t=Zo.transition;Zo.transition=1;try{r(e)}finally{Zo.transition=t}}),[e]),n},useTransition:function(){var e=Aa(!1),t=e[0];return ma(e=Oa.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=sa();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},pa(r,e,t,n)},useOpaqueIdentifier:function(){if(Vo){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(a(355))})),n=Aa(t)[1];return 0==(2&$o.mode)&&($o.flags|=516,ga(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return Aa(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Pa={readContext:oo,useCallback:Ra,useContext:oo,useEffect:_a,useImperativeHandle:Sa,useLayoutEffect:Ca,useMemo:Ta,useReducer:la,useRef:va,useState:function(){return la(ua)},useDebugValue:wa,useDeferredValue:function(e){var t=la(ua),n=t[0],r=t[1];return _a((function(){var t=Zo.transition;Zo.transition=1;try{r(e)}finally{Zo.transition=t}}),[e]),n},useTransition:function(){var e=la(ua)[0];return[va().current,e]},useMutableSource:fa,useOpaqueIdentifier:function(){return la(ua)[0]},unstable_isNewReconciler:!1},xa={readContext:oo,useCallback:Ra,useContext:oo,useEffect:_a,useImperativeHandle:Sa,useLayoutEffect:Ca,useMemo:Ta,useReducer:da,useRef:va,useState:function(){return da(ua)},useDebugValue:wa,useDeferredValue:function(e){var t=da(ua),n=t[0],r=t[1];return _a((function(){var t=Zo.transition;Zo.transition=1;try{r(e)}finally{Zo.transition=t}}),[e]),n},useTransition:function(){var e=da(ua)[0];return[va().current,e]},useMutableSource:fa,useOpaqueIdentifier:function(){return da(ua)[0]},unstable_isNewReconciler:!1},La=b.ReactCurrentOwner,Ma=!1;function Ba(e,t,n,r){t.child=null===e?Ro(t,null,n,r):wo(t,e.child,n,r)}function Fa(e,t,n,r,i){n=n.render;var o=t.ref;return io(t,i),r=aa(e,t,n,r,o,i),null===e||Ma?(t.flags|=1,Ba(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ns(e,t,i))}function Ua(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||Qc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=qc(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ja(e,t,a,r,i,o))}return a=e.child,0==(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:dr)(i,r)&&e.ref===t.ref)?ns(e,t,o):(t.flags|=1,(e=Gc(a,r)).ref=t.ref,e.return=t,t.child=e)}function ja(e,t,n,r,i,o){if(null!==e&&dr(e.memoizedProps,r)&&e.ref===t.ref){if(Ma=!1,0==(o&i))return t.lanes=e.lanes,ns(e,t,o);0!=(16384&e.flags)&&(Ma=!0)}return Ga(e,t,n,r,o)}function Va(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},yc(0,n);else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},yc(0,e),null;t.memoizedState={baseLanes:0},yc(0,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,yc(0,r);return Ba(e,t,i,n),t.child}function Qa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ga(e,t,n,r,i){var o=gi(n)?fi:hi.current;return o=Ai(t,o),io(t,i),n=aa(e,t,n,r,o,i),null===e||Ma?(t.flags|=1,Ba(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ns(e,t,i))}function qa(e,t,n,r,i){if(gi(n)){var o=!0;Ei(t)}else o=!1;if(io(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),yo(t,n,r),bo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var c=a.context,u=n.contextType;u="object"==typeof u&&null!==u?oo(u):Ai(t,u=gi(n)?fi:hi.current);var l=n.getDerivedStateFromProps,d="function"==typeof l||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||c!==u)&&Eo(t,a,r,u),ao=!1;var h=t.memoizedState;a.state=h,po(t,r,a,i),c=t.memoizedState,s!==r||h!==c||pi.current||ao?("function"==typeof l&&(go(t,n,l,r),c=t.memoizedState),(s=ao||vo(t,n,s,r,h,c,u))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4)):("function"==typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,co(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Ji(t.type,s),a.props=u,d=t.pendingProps,h=a.context,c="object"==typeof(c=n.contextType)&&null!==c?oo(c):Ai(t,c=gi(n)?fi:hi.current);var p=n.getDerivedStateFromProps;(l="function"==typeof p||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==d||h!==c)&&Eo(t,a,r,c),ao=!1,h=t.memoizedState,a.state=h,po(t,r,a,i);var f=t.memoizedState;s!==d||h!==f||pi.current||ao?("function"==typeof p&&(go(t,n,p,r),f=t.memoizedState),(u=ao||vo(t,n,u,r,h,f,c))?(l||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,c),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,c)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=c,r=u):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ha(e,t,n,r,o,i)}function Ha(e,t,n,r,i,o){Qa(e,t);var a=0!=(64&t.flags);if(!r&&!a)return i&&bi(t,n,!1),ns(e,t,o);r=t.stateNode,La.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=wo(t,e.child,null,o),t.child=wo(t,null,s,o)):Ba(e,t,s,o),t.memoizedState=r.state,i&&bi(t,n,!0),t.child}function za(e){var t=e.stateNode;t.pendingContext?vi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vi(0,t.context,!1),Po(e,t.containerInfo)}var Wa,Ka,Ya,Ja={dehydrated:null,retryLane:0};function Za(e,t,n){var r,i=t.pendingProps,o=Bo.current,a=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),li(Bo,1&o),null===e?(void 0!==i.fallback&&qo(t),e=i.children,o=i.fallback,a?(e=Xa(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ja,e):"number"==typeof i.unstable_expectedLoadTime?(e=Xa(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ja,t.lanes=33554432,e):((n=zc({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=function(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0==(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Gc(a,s),null!==e?r=Gc(e,r):(r=Hc(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Ja,i):(n=function(e,t,n,r){var i=e.child;return e=i.sibling,n=Gc(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}(e,t,i.children,n),t.memoizedState=null,n))}function Xa(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=zc(t,i,0,null),n=Hc(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function $a(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ro(e.return,t)}function es(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function ts(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ba(e,t,r.children,n),0!=(2&(r=Bo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$a(e,n);else if(19===e.tag)$a(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(li(Bo,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),es(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}es(t,!0,n,null,o,t.lastEffect);break;case"together":es(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ns(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Gc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Gc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function rs(e,t){if(!Vo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function is(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(t.type)&&mi(),null;case 3:return xo(),ui(pi),ui(hi),Yo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(zo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Mo(t);var o=Do(No.current);if(n=t.type,null!==e&&null!=t.stateNode)Ka(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Do(Oo.current),zo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Zr]=t,r[Xr]=s,n){case"dialog":Or("cancel",r),Or("close",r);break;case"iframe":case"object":case"embed":Or("load",r);break;case"video":case"audio":for(e=0;e<Sr.length;e++)Or(Sr[e],r);break;case"source":Or("error",r);break;case"img":case"image":case"link":Or("error",r),Or("load",r);break;case"details":Or("toggle",r);break;case"input":ee(r,s),Or("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Or("invalid",r);break;case"textarea":ce(r,s),Or("invalid",r)}for(var u in Ce(n,s),e=null,s)s.hasOwnProperty(u)&&(o=s[u],"children"===u?"string"==typeof o?r.textContent!==o&&(e=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(e=["children",""+o]):c.hasOwnProperty(u)&&null!=o&&"onScroll"===u&&Or("scroll",r));switch(n){case"input":J(r),re(r,s,!0);break;case"textarea":J(r),le(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Ur)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(u=9===o.nodeType?o:o.ownerDocument,e===de&&(e=he(n)),e===de?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[Zr]=t,e[Xr]=r,Wa(e,t),t.stateNode=e,u=Ie(n,r),n){case"dialog":Or("cancel",e),Or("close",e),o=r;break;case"iframe":case"object":case"embed":Or("load",e),o=r;break;case"video":case"audio":for(o=0;o<Sr.length;o++)Or(Sr[o],e);o=r;break;case"source":Or("error",e),o=r;break;case"img":case"image":case"link":Or("error",e),Or("load",e),o=r;break;case"details":Or("toggle",e),o=r;break;case"input":ee(e,r),o=$(e,r),Or("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Or("invalid",e);break;case"textarea":ce(e,r),o=se(e,r),Or("invalid",e);break;default:o=r}Ce(n,o);var l=o;for(s in l)if(l.hasOwnProperty(s)){var d=l[s];"style"===s?be(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ge(e,d):"children"===s?"string"==typeof d?("textarea"!==n||""!==d)&&me(e,d):"number"==typeof d&&me(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(c.hasOwnProperty(s)?null!=d&&"onScroll"===s&&Or("scroll",e):null!=d&&E(e,s,d,u))}switch(n){case"input":J(e),re(e,r,!1);break;case"textarea":J(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Ur)}Qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ya(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));n=Do(No.current),Do(Oo.current),zo(t)?(r=t.stateNode,n=t.memoizedProps,r[Zr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Zr]=t,t.stateNode=r)}return null;case 13:return ui(Bo),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&zo(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Bo.current)?0===Ls&&(Ls=3):(0!==Ls&&3!==Ls||(Ls=4),null===ks||0==(134217727&Fs)&&0==(134217727&Us)||Ac(ks,Ds))),(r||n)&&(t.flags|=4),null);case 4:return xo(),null===e&&Nr(t.stateNode.containerInfo),null;case 10:return no(t),null;case 19:if(ui(Bo),null===(r=t.memoizedState))return null;if(s=0!=(64&t.flags),null===(u=r.rendering))if(s)rs(r,!1);else{if(0!==Ls||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(u=Fo(e))){for(t.flags|=64,rs(r,!1),null!==(s=u.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(u=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,e=u.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return li(Bo,1&Bo.current|2),t.child}e=e.sibling}null!==r.tail&&Qi()>Gs&&(t.flags|=64,s=!0,rs(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Fo(u))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),rs(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate&&!Vo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Qi()-r.renderingStartTime>Gs&&1073741824!==n&&(t.flags|=64,s=!0,rs(r,!1),t.lanes=33554432);r.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=r.last)?n.sibling=u:t.child=u,r.last=u)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Qi(),n.sibling=null,t=Bo.current,li(Bo,s?1&t|2:1&t),n):null;case 23:case 24:return Ec(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function os(e){switch(e.tag){case 1:gi(e.type)&&mi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(xo(),ui(pi),ui(hi),Yo(),0!=(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Mo(e),null;case 13:return ui(Bo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ui(Bo),null;case 4:return xo(),null;case 10:return no(e),null;case 23:case 24:return Ec(),null;default:return null}}function as(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function ss(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Wa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ka=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Do(Oo.current);var a,s=null;switch(n){case"input":o=$(e,o),r=$(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Ur)}for(d in Ce(n,r),n=null,o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&null!=o[d])if("style"===d){var u=o[d];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(c.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var l=r[d];if(u=null!=o?o[d]:void 0,r.hasOwnProperty(d)&&l!==u&&(null!=l||null!=u))if("style"===d)if(u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(d,n)),n=l;else"dangerouslySetInnerHTML"===d?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(s=s||[]).push(d,l)):"children"===d?"string"!=typeof l&&"number"!=typeof l||(s=s||[]).push(d,""+l):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(c.hasOwnProperty(d)?(null!=l&&"onScroll"===d&&Or("scroll",e),s||u===l||(s=[])):"object"==typeof l&&null!==l&&l.$$typeof===L?l.toString():(s=s||[]).push(d,l))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Ya=function(e,t,n,r){n!==r&&(t.flags|=4)};var cs="function"==typeof WeakMap?WeakMap:Map;function us(e,t,n){(n=uo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ws||(Ws=!0,Ks=r),ss(0,t)},n}function ls(e,t,n){(n=uo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return ss(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Ys?Ys=new Set([this]):Ys.add(this),ss(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ds="function"==typeof WeakSet?WeakSet:Set;function hs(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Bc(e,t)}else t.current=null}function ps(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ji(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&zr(t.stateNode.containerInfo))}throw Error(a(163))}function fs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(xc(n,e),Pc(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ji(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&fo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}fo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&bt(n)))))}throw Error(a(163))}function As(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=Ee("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function gs(e,t){if(Ci&&"function"==typeof Ci.onCommitFiberUnmount)try{Ci.onCommitFiberUnmount(_i,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))xc(t,n);else{r=t;try{i()}catch(e){Bc(r,e)}}n=n.next}while(n!==e)}break;case 1:if(hs(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Bc(t,e)}break;case 5:hs(t);break;case 4:_s(e,t)}}function ms(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function vs(e){return 5===e.tag||3===e.tag||4===e.tag}function ys(e){e:{for(var t=e.return;null!==t;){if(vs(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(me(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||vs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Es(e,n,t):bs(e,n,t)}function Es(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Ur));else if(4!==r&&null!==(e=e.child))for(Es(e,t,n),e=e.sibling;null!==e;)Es(e,t,n),e=e.sibling}function bs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(bs(e,t,n),e=e.sibling;null!==e;)bs(e,t,n),e=e.sibling}function _s(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,c=i,u=c;;)if(gs(s,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===c)break e;for(;null===u.sibling;){if(null===u.return||u.return===c)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(s=n,c=i.stateNode,8===s.nodeType?s.parentNode.removeChild(c):s.removeChild(c)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(gs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Cs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Xr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ie(e,i),t=Ie(e,r),i=0;i<o.length;i+=2){var s=o[i],c=o[i+1];"style"===s?be(n,c):"dangerouslySetInnerHTML"===s?ge(n,c):"children"===s?me(n,c):E(n,s,c,t)}switch(e){case"input":ne(n,r);break;case"textarea":ue(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,bt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Qs=Qi(),As(t.child,!0)),void Is(t);case 19:return void Is(t);case 23:case 24:return void As(t,null!==t.memoizedState)}throw Error(a(163))}function Is(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ds),t.forEach((function(t){var r=Uc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ss(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}var ws=Math.ceil,Rs=b.ReactCurrentDispatcher,Ts=b.ReactCurrentOwner,Os=0,ks=null,Ns=null,Ds=0,Ps=0,xs=ci(0),Ls=0,Ms=null,Bs=0,Fs=0,Us=0,js=0,Vs=null,Qs=0,Gs=1/0;function qs(){Gs=Qi()+500}var Hs,zs=null,Ws=!1,Ks=null,Ys=null,Js=!1,Zs=null,Xs=90,$s=[],ec=[],tc=null,nc=0,rc=null,ic=-1,oc=0,ac=0,sc=null,cc=!1;function uc(){return 0!=(48&Os)?Qi():-1!==ic?ic:ic=Qi()}function lc(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===Gi()?1:2;if(0===oc&&(oc=Bs),0!==Yi.transition){0!==ac&&(ac=null!==Vs?Vs.pendingLanes:0),e=oc;var t=4186112&~ac;return 0==(t&=-t)&&0==(t=(e=4186112&~e)&-e)&&(t=8192),t}return e=Gi(),e=Ut(0!=(4&Os)&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),oc)}function dc(e,t,n){if(50<nc)throw nc=0,rc=null,Error(a(185));if(null===(e=hc(e,t)))return null;Qt(e,t,n),e===ks&&(Us|=t,4===Ls&&Ac(e,Ds));var r=Gi();1===t?0!=(8&Os)&&0==(48&Os)?gc(e):(pc(e,n),0===Os&&(qs(),Wi())):(0==(4&Os)||98!==r&&99!==r||(null===tc?tc=new Set([e]):tc.add(e)),pc(e,n)),Vs=e}function hc(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function pc(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var c=31-Gt(s),u=1<<c,l=o[c];if(-1===l){if(0==(u&r)||0!=(u&i)){l=t,Mt(u);var d=Lt;o[c]=10<=d?l+250:6<=d?l+5e3:-1}}else l<=t&&(e.expiredLanes|=u);s&=~u}if(r=Bt(e,e===ks?Ds:0),t=Lt,0===r)null!==n&&(n!==Mi&&wi(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Mi&&wi(n)}15===t?(n=gc.bind(null,e),null===Fi?(Fi=[n],Ui=Si(Ni,Ki)):Fi.push(n),n=Mi):14===t?n=zi(99,gc.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=zi(n,fc.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function fc(e){if(ic=-1,ac=oc=0,0!=(48&Os))throw Error(a(327));var t=e.callbackNode;if(Dc()&&e.callbackNode!==t)return null;var n=Bt(e,e===ks?Ds:0);if(0===n)return null;var r=n,i=Os;Os|=16;var o=Cc();for(ks===e&&Ds===r||(qs(),bc(e,r));;)try{wc();break}catch(t){_c(e,t)}if(to(),Rs.current=o,Os=i,null!==Ns?r=0:(ks=null,Ds=0,r=Ls),0!=(Bs&Us))bc(e,0);else if(0!==r){if(2===r&&(Os|=64,e.hydrate&&(e.hydrate=!1,zr(e.containerInfo)),0!==(n=Ft(e))&&(r=Ic(e,n))),1===r)throw t=Ms,bc(e,0),Ac(e,n),pc(e,Qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Oc(e);break;case 3:if(Ac(e,n),(62914560&n)===n&&10<(r=Qs+500-Qi())){if(0!==Bt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){uc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=qr(Oc.bind(null,e),r);break}Oc(e);break;case 4:if(Ac(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Gt(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ws(n/1960))-n)){e.timeoutHandle=qr(Oc.bind(null,e),n);break}Oc(e);break;default:throw Error(a(329))}}return pc(e,Qi()),e.callbackNode===t?fc.bind(null,e):null}function Ac(e,t){for(t&=~js,t&=~Us,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Gt(t),r=1<<n;e[n]=-1,t&=~r}}function gc(e){if(0!=(48&Os))throw Error(a(327));if(Dc(),e===ks&&0!=(e.expiredLanes&Ds)){var t=Ds,n=Ic(e,t);0!=(Bs&Us)&&(n=Ic(e,t=Bt(e,t)))}else n=Ic(e,t=Bt(e,0));if(0!==e.tag&&2===n&&(Os|=64,e.hydrate&&(e.hydrate=!1,zr(e.containerInfo)),0!==(t=Ft(e))&&(n=Ic(e,t))),1===n)throw n=Ms,bc(e,0),Ac(e,t),pc(e,Qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Oc(e),pc(e,Qi()),null}function mc(e,t){var n=Os;Os|=1;try{return e(t)}finally{0===(Os=n)&&(qs(),Wi())}}function vc(e,t){var n=Os;Os&=-2,Os|=8;try{return e(t)}finally{0===(Os=n)&&(qs(),Wi())}}function yc(e,t){li(xs,Ps),Ps|=t,Bs|=t}function Ec(){Ps=xs.current,ui(xs)}function bc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Hr(n)),null!==Ns)for(n=Ns.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&mi();break;case 3:xo(),ui(pi),ui(hi),Yo();break;case 5:Mo(r);break;case 4:xo();break;case 13:case 19:ui(Bo);break;case 10:no(r);break;case 23:case 24:Ec()}n=n.return}ks=e,Ns=Gc(e.current,null),Ds=Ps=Bs=t,Ls=0,Ms=null,js=Us=Fs=0}function _c(e,t){for(;;){var n=Ns;try{if(to(),Jo.current=Na,na){for(var r=$o.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}na=!1}if(Xo=0,ta=ea=$o=null,ra=!1,Ts.current=null,null===n||null===n.return){Ls=1,Ms=t,Ns=null;break}e:{var o=e,a=n.return,s=n,c=t;if(t=Ds,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==c&&"object"==typeof c&&"function"==typeof c.then){var u=c;if(0==(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var d=0!=(1&Bo.current),h=a;do{var p;if(p=13===h.tag){var f=h.memoizedState;if(null!==f)p=null!==f.dehydrated;else{var A=h.memoizedProps;p=void 0!==A.fallback&&(!0!==A.unstable_avoidThisFallback||!d)}}if(p){var g=h.updateQueue;if(null===g){var m=new Set;m.add(u),h.updateQueue=m}else g.add(u);if(0==(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var v=uo(-1,1);v.tag=2,lo(s,v)}s.lanes|=1;break e}c=void 0,s=t;var y=o.pingCache;if(null===y?(y=o.pingCache=new cs,c=new Set,y.set(u,c)):void 0===(c=y.get(u))&&(c=new Set,y.set(u,c)),!c.has(s)){c.add(s);var E=Fc.bind(null,o,u,s);u.then(E,E)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);c=Error((W(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ls&&(Ls=2),c=as(c,s),h=a;do{switch(h.tag){case 3:o=c,h.flags|=4096,t&=-t,h.lanes|=t,ho(h,us(0,o,t));break e;case 1:o=c;var b=h.type,_=h.stateNode;if(0==(64&h.flags)&&("function"==typeof b.getDerivedStateFromError||null!==_&&"function"==typeof _.componentDidCatch&&(null===Ys||!Ys.has(_)))){h.flags|=4096,t&=-t,h.lanes|=t,ho(h,ls(h,o,t));break e}}h=h.return}while(null!==h)}Tc(n)}catch(e){t=e,Ns===n&&null!==n&&(Ns=n=n.return);continue}break}}function Cc(){var e=Rs.current;return Rs.current=Na,null===e?Na:e}function Ic(e,t){var n=Os;Os|=16;var r=Cc();for(ks===e&&Ds===t||bc(e,t);;)try{Sc();break}catch(t){_c(e,t)}if(to(),Os=n,Rs.current=r,null!==Ns)throw Error(a(261));return ks=null,Ds=0,Ls}function Sc(){for(;null!==Ns;)Rc(Ns)}function wc(){for(;null!==Ns&&!Ri();)Rc(Ns)}function Rc(e){var t=Hs(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,null===t?Tc(e):Ns=t,Ts.current=null}function Tc(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=is(n,t,Ps)))return void(Ns=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Ps)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=os(t)))return n.flags&=2047,void(Ns=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ns=t);Ns=t=e}while(null!==t);0===Ls&&(Ls=5)}function Oc(e){var t=Gi();return Hi(99,kc.bind(null,e,t)),null}function kc(e,t){do{Dc()}while(null!==Zs);if(0!=(48&Os))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,c=e.expirationTimes;0<o;){var u=31-Gt(o),l=1<<u;i[u]=0,s[u]=-1,c[u]=-1,o&=~l}if(null!==tc&&0==(24&r)&&tc.has(e)&&tc.delete(e),e===ks&&(Ns=ks=null,Ds=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Os,Os|=32,Ts.current=null,jr=Kt,gr(s=Ar())){if("selectionStart"in s)c={start:s.selectionStart,end:s.selectionEnd};else e:if(c=(c=s.ownerDocument)&&c.defaultView||window,(l=c.getSelection&&c.getSelection())&&0!==l.rangeCount){c=l.anchorNode,o=l.anchorOffset,u=l.focusNode,l=l.focusOffset;try{c.nodeType,u.nodeType}catch(e){c=null;break e}var d=0,h=-1,p=-1,f=0,A=0,g=s,m=null;t:for(;;){for(var v;g!==c||0!==o&&3!==g.nodeType||(h=d+o),g!==u||0!==l&&3!==g.nodeType||(p=d+l),3===g.nodeType&&(d+=g.nodeValue.length),null!==(v=g.firstChild);)m=g,g=v;for(;;){if(g===s)break t;if(m===c&&++f===o&&(h=d),m===u&&++A===l&&(p=d),null!==(v=g.nextSibling))break;m=(g=m).parentNode}g=v}c=-1===h||-1===p?null:{start:h,end:p}}else c=null;c=c||{start:0,end:0}}else c=null;Vr={focusedElem:s,selectionRange:c},Kt=!1,sc=null,cc=!1,zs=r;do{try{Nc()}catch(e){if(null===zs)throw Error(a(330));Bc(zs,e),zs=zs.nextEffect}}while(null!==zs);sc=null,zs=r;do{try{for(s=e;null!==zs;){var y=zs.flags;if(16&y&&me(zs.stateNode,""),128&y){var E=zs.alternate;if(null!==E){var b=E.ref;null!==b&&("function"==typeof b?b(null):b.current=null)}}switch(1038&y){case 2:ys(zs),zs.flags&=-3;break;case 6:ys(zs),zs.flags&=-3,Cs(zs.alternate,zs);break;case 1024:zs.flags&=-1025;break;case 1028:zs.flags&=-1025,Cs(zs.alternate,zs);break;case 4:Cs(zs.alternate,zs);break;case 8:_s(s,c=zs);var _=c.alternate;ms(c),null!==_&&ms(_)}zs=zs.nextEffect}}catch(e){if(null===zs)throw Error(a(330));Bc(zs,e),zs=zs.nextEffect}}while(null!==zs);if(b=Vr,E=Ar(),y=b.focusedElem,s=b.selectionRange,E!==y&&y&&y.ownerDocument&&fr(y.ownerDocument.documentElement,y)){null!==s&&gr(y)&&(E=s.start,void 0===(b=s.end)&&(b=E),"selectionStart"in y?(y.selectionStart=E,y.selectionEnd=Math.min(b,y.value.length)):(b=(E=y.ownerDocument||document)&&E.defaultView||window).getSelection&&(b=b.getSelection(),c=y.textContent.length,_=Math.min(s.start,c),s=void 0===s.end?_:Math.min(s.end,c),!b.extend&&_>s&&(c=s,s=_,_=c),c=pr(y,_),o=pr(y,s),c&&o&&(1!==b.rangeCount||b.anchorNode!==c.node||b.anchorOffset!==c.offset||b.focusNode!==o.node||b.focusOffset!==o.offset)&&((E=E.createRange()).setStart(c.node,c.offset),b.removeAllRanges(),_>s?(b.addRange(E),b.extend(o.node,o.offset)):(E.setEnd(o.node,o.offset),b.addRange(E))))),E=[];for(b=y;b=b.parentNode;)1===b.nodeType&&E.push({element:b,left:b.scrollLeft,top:b.scrollTop});for("function"==typeof y.focus&&y.focus(),y=0;y<E.length;y++)(b=E[y]).element.scrollLeft=b.left,b.element.scrollTop=b.top}Kt=!!jr,Vr=jr=null,e.current=n,zs=r;do{try{for(y=e;null!==zs;){var C=zs.flags;if(36&C&&fs(y,zs.alternate,zs),128&C){E=void 0;var I=zs.ref;if(null!==I){var S=zs.stateNode;zs.tag,E=S,"function"==typeof I?I(E):I.current=E}}zs=zs.nextEffect}}catch(e){if(null===zs)throw Error(a(330));Bc(zs,e),zs=zs.nextEffect}}while(null!==zs);zs=null,Bi(),Os=i}else e.current=n;if(Js)Js=!1,Zs=e,Xs=t;else for(zs=r;null!==zs;)t=zs.nextEffect,zs.nextEffect=null,8&zs.flags&&((C=zs).sibling=null,C.stateNode=null),zs=t;if(0===(r=e.pendingLanes)&&(Ys=null),1===r?e===rc?nc++:(nc=0,rc=e):nc=0,n=n.stateNode,Ci&&"function"==typeof Ci.onCommitFiberRoot)try{Ci.onCommitFiberRoot(_i,n,void 0,64==(64&n.current.flags))}catch(e){}if(pc(e,Qi()),Ws)throw Ws=!1,e=Ks,Ks=null,e;return 0!=(8&Os)||Wi(),null}function Nc(){for(;null!==zs;){var e=zs.alternate;cc||null===sc||(0!=(8&zs.flags)?$e(zs,sc)&&(cc=!0):13===zs.tag&&Ss(e,zs)&&$e(zs,sc)&&(cc=!0));var t=zs.flags;0!=(256&t)&&ps(e,zs),0==(512&t)||Js||(Js=!0,zi(97,(function(){return Dc(),null}))),zs=zs.nextEffect}}function Dc(){if(90!==Xs){var e=97<Xs?97:Xs;return Xs=90,Hi(e,Lc)}return!1}function Pc(e,t){$s.push(t,e),Js||(Js=!0,zi(97,(function(){return Dc(),null})))}function xc(e,t){ec.push(t,e),Js||(Js=!0,zi(97,(function(){return Dc(),null})))}function Lc(){if(null===Zs)return!1;var e=Zs;if(Zs=null,0!=(48&Os))throw Error(a(331));var t=Os;Os|=32;var n=ec;ec=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"==typeof s)try{s()}catch(e){if(null===o)throw Error(a(330));Bc(o,e)}}for(n=$s,$s=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var c=i.create;i.destroy=c()}catch(e){if(null===o)throw Error(a(330));Bc(o,e)}}for(c=e.current.firstEffect;null!==c;)e=c.nextEffect,c.nextEffect=null,8&c.flags&&(c.sibling=null,c.stateNode=null),c=e;return Os=t,Wi(),!0}function Mc(e,t,n){lo(e,t=us(0,t=as(n,t),1)),t=uc(),null!==(e=hc(e,1))&&(Qt(e,1,t),pc(e,t))}function Bc(e,t){if(3===e.tag)Mc(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Mc(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ys||!Ys.has(r))){var i=ls(n,e=as(t,e),1);if(lo(n,i),i=uc(),null!==(n=hc(n,1)))Qt(n,1,i),pc(n,i);else if("function"==typeof r.componentDidCatch&&(null===Ys||!Ys.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Fc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=uc(),e.pingedLanes|=e.suspendedLanes&n,ks===e&&(Ds&n)===n&&(4===Ls||3===Ls&&(62914560&Ds)===Ds&&500>Qi()-Qs?bc(e,0):js|=n),pc(e,t)}function Uc(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===Gi()?1:2:(0===oc&&(oc=Bs),0===(t=jt(62914560&~oc))&&(t=4194304))),n=uc(),null!==(e=hc(e,t))&&(Qt(e,t,n),pc(e,n))}function jc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Vc(e,t,n,r){return new jc(e,t,n,r)}function Qc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Gc(e,t){var n=e.alternate;return null===n?((n=Vc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function qc(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)Qc(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case I:return Hc(n.children,i,o,t);case M:s=8,i|=16;break;case S:s=8,i|=1;break;case w:return(e=Vc(12,n,t,8|i)).elementType=w,e.type=w,e.lanes=o,e;case k:return(e=Vc(13,n,t,i)).type=k,e.elementType=k,e.lanes=o,e;case N:return(e=Vc(19,n,t,i)).elementType=N,e.lanes=o,e;case B:return zc(n,i,o,t);case F:return(e=Vc(24,n,t,i)).elementType=F,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case R:s=10;break e;case T:s=9;break e;case O:s=11;break e;case D:s=14;break e;case P:s=16,r=null;break e;case x:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Vc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Hc(e,t,n,r){return(e=Vc(7,e,r,t)).lanes=n,e}function zc(e,t,n,r){return(e=Vc(23,e,r,t)).elementType=B,e.lanes=n,e}function Wc(e,t,n){return(e=Vc(6,e,null,t)).lanes=n,e}function Kc(e,t,n){return(t=Vc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Yc(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Vt(0),this.expirationTimes=Vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vt(0),this.mutableSourceEagerHydrationData=null}function Jc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:C,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Zc(e,t,n,r){var i=t.current,o=uc(),s=lc(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var c=n;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(gi(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(null!==c);throw Error(a(171))}if(1===n.tag){var u=n.type;if(gi(u)){n=yi(n,u,c);break e}}n=c}else n=di;return null===t.context?t.context=n:t.pendingContext=n,(t=uo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),lo(i,t),dc(i,s,o),s}function Xc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function $c(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eu(e,t){$c(e,t),(e=e.alternate)&&$c(e,t)}function tu(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Yc(e,t,null!=n&&!0===n.hydrate),t=Vc(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,so(t),e[$r]=n.current,Nr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function nu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ru(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=Xc(a);s.call(e)}}Zc(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new tu(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var c=i;i=function(){var e=Xc(a);c.call(e)}}vc((function(){Zc(t,a,e,i)}))}return Xc(a)}function iu(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nu(t))throw Error(a(200));return Jc(e,t,null,n)}Hs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Ma=!0;else{if(0==(n&r)){switch(Ma=!1,t.tag){case 3:za(t),Wo();break;case 5:Lo(t);break;case 1:gi(t.type)&&Ei(t);break;case 4:Po(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;li(Zi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Za(e,t,n):(li(Bo,1&Bo.current),null!==(t=ns(e,t,n))?t.sibling:null);li(Bo,1&Bo.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return ts(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),li(Bo,Bo.current),r)break;return null;case 23:case 24:return t.lanes=0,Va(e,t,n)}return ns(e,t,n)}Ma=0!=(16384&e.flags)}else Ma=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=Ai(t,hi.current),io(t,n),i=aa(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var o=!0;Ei(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,so(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&go(t,r,s,e),i.updater=mo,t.stateNode=i,i._reactInternals=t,bo(t,r,e,n),t=Ha(null,t,r,!0,o,n)}else t.tag=0,Ba(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return Qc(e)?1:0;if(null!=e){if((e=e.$$typeof)===O)return 11;if(e===D)return 14}return 2}(i),e=Ji(i,e),o){case 0:t=Ga(null,t,i,e,n);break e;case 1:t=qa(null,t,i,e,n);break e;case 11:t=Fa(null,t,i,e,n);break e;case 14:t=Ua(null,t,i,Ji(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ga(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,qa(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 3:if(za(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,co(e,t),po(t,r,null,n),(r=t.memoizedState.element)===i)Wo(),t=ns(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(jo=Wr(t.stateNode.containerInfo.firstChild),Uo=t,o=Vo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Ko.push(o);for(n=Ro(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Ba(e,t,r,n),Wo();t=t.child}return t;case 5:return Lo(t),null===e&&qo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Gr(r,i)?s=null:null!==o&&Gr(r,o)&&(t.flags|=16),Qa(e,t),Ba(e,t,s,n),t.child;case 6:return null===e&&qo(t),null;case 13:return Za(e,t,n);case 4:return Po(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wo(t,null,r,n):Ba(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fa(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 7:return Ba(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ba(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var c=t.type._context;if(li(Zi,c._currentValue),c._currentValue=o,null!==s)if(c=s.value,0==(o=ur(c,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(c,o):1073741823))){if(s.children===i.children&&!pi.current){t=ns(e,t,n);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var u=c.dependencies;if(null!==u){s=c.child;for(var l=u.firstContext;null!==l;){if(l.context===r&&0!=(l.observedBits&o)){1===c.tag&&((l=uo(-1,n&-n)).tag=2,lo(c,l)),c.lanes|=n,null!==(l=c.alternate)&&(l.lanes|=n),ro(c.return,n),u.lanes|=n;break}l=l.next}}else s=10===c.tag&&c.type===t.type?null:c.child;if(null!==s)s.return=c;else for(s=c;null!==s;){if(s===t){s=null;break}if(null!==(c=s.sibling)){c.return=s.return,s=c;break}s=s.return}c=s}Ba(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,io(t,n),r=r(i=oo(i,o.unstable_observedBits)),t.flags|=1,Ba(e,t,r,n),t.child;case 14:return o=Ji(i=t.type,t.pendingProps),Ua(e,t,i,o=Ji(i.type,o),r,n);case 15:return ja(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gi(r)?(e=!0,Ei(t)):e=!1,io(t,n),yo(t,r,i),bo(t,r,i,n),Ha(null,t,r,!0,e,n);case 19:return ts(e,t,n);case 23:case 24:return Va(e,t,n)}throw Error(a(156,t.tag))},tu.prototype.render=function(e){Zc(e,this._internalRoot,null,null)},tu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Zc(null,e,null,(function(){t[$r]=null}))},et=function(e){13===e.tag&&(dc(e,4,uc()),eu(e,4))},tt=function(e){13===e.tag&&(dc(e,67108864,uc()),eu(e,67108864))},nt=function(e){if(13===e.tag){var t=uc(),n=lc(e);dc(e,n,t),eu(e,n)}},rt=function(e,t){return t()},we=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ii(r);if(!i)throw Error(a(90));Z(r),ne(r,i)}}}break;case"textarea":ue(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},De=mc,Pe=function(e,t,n,r,i){var o=Os;Os|=4;try{return Hi(98,e.bind(null,t,n,r,i))}finally{0===(Os=o)&&(qs(),Wi())}},xe=function(){0==(49&Os)&&(function(){if(null!==tc){var e=tc;tc=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,pc(e,Qi())}))}Wi()}(),Dc())},Le=function(e,t){var n=Os;Os|=2;try{return e(t)}finally{0===(Os=n)&&(qs(),Wi())}};var ou={Events:[ni,ri,ii,ke,Ne,Dc,{current:!1}]},au={findFiberByHostInstance:ti,bundleType:0,version:"17.0.1",rendererPackageName:"react-dom"},su={bundleType:au.bundleType,version:au.version,rendererPackageName:au.rendererPackageName,rendererConfig:au.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Xe(e))?null:e.stateNode},findFiberByHostInstance:au.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cu.isDisabled&&cu.supportsFiber)try{_i=cu.inject(su),Ci=cu}catch(Ae){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ou,t.createPortal=iu,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return null===(e=Xe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Os;if(0!=(48&n))return e(t);Os|=1;try{if(e)return Hi(99,e.bind(null,t))}finally{Os=n,Wi()}},t.hydrate=function(e,t,n){if(!nu(t))throw Error(a(200));return ru(null,e,t,!0,n)},t.render=function(e,t,n){if(!nu(t))throw Error(a(200));return ru(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nu(e))throw Error(a(40));return!!e._reactRootContainer&&(vc((function(){ru(null,null,e,!1,(function(){e._reactRootContainer=null,e[$r]=null}))})),!0)},t.unstable_batchedUpdates=mc,t.unstable_createPortal=function(e,t){return iu(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nu(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ru(e,t,n,!1,r)},t.version="17.0.1"},3935:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(4448)},9921:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),g=Symbol.for("react.module.reference");function m(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case a:case o:case d:case h:return e;default:switch(e=e&&e.$$typeof){case u:case c:case l:case f:case p:case s:return e;default:return t}}case r:return t}}}t.ContextConsumer=c,t.ContextProvider=s,t.Element=n,t.ForwardRef=l,t.Fragment=i,t.Lazy=f,t.Memo=p,t.Portal=r,t.Profiler=a,t.StrictMode=o,t.Suspense=d,t.SuspenseList=h,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return m(e)===c},t.isContextProvider=function(e){return m(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return m(e)===l},t.isFragment=function(e){return m(e)===i},t.isLazy=function(e){return m(e)===f},t.isMemo=function(e){return m(e)===p},t.isPortal=function(e){return m(e)===r},t.isProfiler=function(e){return m(e)===a},t.isStrictMode=function(e){return m(e)===o},t.isSuspense=function(e){return m(e)===d},t.isSuspenseList=function(e){return m(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===a||e===o||e===d||e===h||e===A||"object"==typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===p||e.$$typeof===s||e.$$typeof===c||e.$$typeof===l||e.$$typeof===g||void 0!==e.getModuleId)},t.typeOf=m},9864:(e,t,n)=>{"use strict";e.exports=n(9921)},2867:(e,t,n)=>{"use strict";t.Z=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==u(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(n(7294)),i=s(n(5697)),o=n(3164),a=s(n(8765));function s(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}function g(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?v(e):t}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}function E(e,t){return E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},E(e,t)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=n(8337)(),C=o.Text.propTypes||{},I=o.Platform.OS,S=function(e){function t(e){var n;return p(this,t),b(v(n=g(this,m(t).call(this,e))),"linkify",(function(e){if(!n.state.linkifyIt.pretest(e.props.children)||!n.state.linkifyIt.test(e.props.children))return e;var t=[],i=0,a=h({},e.props,{ref:void 0,key:void 0});try{return n.state.linkifyIt.match(e.props.children).forEach((function(s){var c=s.index,u=s.lastIndex,d=s.text,h=s.url,p=e.props.children.substring(i,c);p&&t.push(p),i=u,n.props.linkText&&(d="function"==typeof n.props.linkText?n.props.linkText(h):n.props.linkText);var f={};"web"!==I&&(f.onLongPress=n.props.onLongPress?function(){return n.props.onLongPress(h,d)}:void 0),f.onPress=n.props.onPress?function(){return n.props.onPress(h,d)}:void 0,t.push(r.default.createElement(o.Text,l({},a,f,{key:h+c,style:[e.props.style,n.props.linkStyle]},n.props.injectViewProps(h)),d))})),t.push(e.props.children.substring(i,e.props.children.length)),r.default.cloneElement(e,a,t)}catch(t){return e}})),b(v(n),"parse",(function(e){var t=(e||{}).props,i=(t=void 0===t?{}:t).children;if(!i)return e;var a=h({},e.props,{ref:void 0,key:void 0});return r.default.cloneElement(e,a,r.default.Children.map(i,(function(t){var i=(t||{}).type,s=(i=void 0===i?{}:i).displayName;return"string"==typeof t&&n.state.linkifyIt.pretest(t)?n.linkify(r.default.createElement(o.Text,l({},a,{style:e.props.style}),t)):"Text"!==s||n.isTextNested(t)?n.parse(t):n.linkify(t)})))})),n.state={linkifyIt:e.linkify||_},n}return y(t,e),A(t,[{key:"render",value:function(){var e=l({},this.props);return delete e.onPress,delete e.linkDefault,delete e.onLongPress,delete e.linkStyle,r.default.createElement(o.View,l({},e,{style:this.props.style}),this.props.onPress||this.props.onLongPress||this.props.linkStyle?this.parse(this).props.children:this.props.children)}},{key:"isTextNested",value:function(e){if(!r.default.isValidElement(e))throw new Error("Invalid component");var t=e.type;if("Text"!==(t=void 0===t?{}:t).displayName)throw new Error("Not a Text component");return"string"!=typeof e.props.children}}]),t}(r.Component);S.propTypes={linkDefault:i.default.bool,linkify:i.default.object,linkStyle:C.style,linkText:i.default.oneOfType([i.default.string,i.default.func]),onPress:i.default.func,onLongPress:i.default.func,injectViewProps:i.default.func},S.defaultProps={linkify:_,injectViewProps:function(e){return{}}},S.getDerivedStateFromProps=function(e,t){return e.linkify!==t.linkifyIt?{linkifyIt:e.linkify}:null};var w=function(e){function t(e){var n;return p(this,t),(n=g(this,m(t).call(this,e))).handleLink=n.handleLink.bind(v(n)),n}return y(t,e),A(t,[{key:"handleLink",value:function(e){var t=a.default.parse(e);t.protocol=t.protocol.toLowerCase();var n=a.default.format(t);o.Linking.canOpenURL(n).then((function(e){return e&&o.Linking.openURL(n)}))}},{key:"render",value:function(){var e=this.handleLink||this.props.onPress;return this.props.linkDefault?r.default.createElement(S,l({},this.props,{onPress:e})):r.default.createElement(S,this.props)}}]),t}(r.Component);t.Z=w},335:(e,t,n)=>{var r=n(5318);Object.defineProperty(t,"DF",{enumerable:!0,get:function(){return i.default}});r(n(3361)),r(n(739)),r(n(9237));var i=r(n(8508))},9237:(e,t,n)=>{var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r={};e.glyphs.forEach((function(e){r[e.css]=e.code}));var o=t||e.name||"fontello";return(0,i.default)(r,o,n||o+".ttf")};var i=r(n(3361))},8508:(e,t,n)=>{var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r={};e.icons.forEach((function(e){e.properties.name.split(/\s*,\s*/g).forEach((function(t){r[t]=e.properties.code}))}));var o=t||e.preferences.fontPref.metadata.fontFamily;return(0,i.default)(r,o,n||o+".ttf")};var i=r(n(3361))},3361:(e,t,n)=>{var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.NativeIconAPI=t.DEFAULT_ICON_SIZE=t.DEFAULT_ICON_COLOR=void 0,t.default=function(e,t,n,r){var y=n?n.replace(/\.(otf|ttf)$/,""):t,C=A.Platform.select({windows:"/Assets/"+n+"#"+t,android:y,web:y,default:t}),I=f.default.oneOf(Object.keys(e)),S=function(t){function n(){var e,t;(0,c.default)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=(0,l.default)(this,(e=(0,d.default)(n)).call.apply(e,[this].concat(i)))).root=null,t.handleRef=function(e){t.root=e},t}return(0,h.default)(n,t),(0,u.default)(n,[{key:"setNativeProps",value:function(e){this.root&&this.root.setNativeProps(e)}},{key:"render",value:function(){var t=this.props,n=t.name,i=t.size,o=t.color,c=t.style,u=t.children,l=(0,s.default)(t,["name","size","color","style","children"]),d=n?e[n]||"?":"";"number"==typeof d&&(d=String.fromCodePoint(d));var h={fontSize:i,color:o},f={fontFamily:C,fontWeight:"normal",fontStyle:"normal"};return l.style=[h,c,f,r||{}],l.ref=this.handleRef,p.default.createElement(A.Text,(0,a.default)({selectable:!1},l,{__self:this,__source:{fileName:"/home/runner/work/react-native-vector-icons/react-native-vector-icons/lib/create-icon-set.js",lineNumber:91}}),d,u)}}]),n}(p.PureComponent);S.propTypes={allowFontScaling:f.default.bool,name:I,size:f.default.number,color:f.default.any,children:f.default.node,style:f.default.any},S.defaultProps={size:b,allowFontScaling:!1};var w=(0,m.default)();function R(t){var n=e[t]||"?";return"number"==typeof n?String.fromCodePoint(n):n}return S.Button=(0,v.default)(S),S.getImageSource=function(e){var t,n,r,i,a,s,c,u=arguments;return o.default.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(t=u.length>1&&void 0!==u[1]?u[1]:b,n=u.length>2&&void 0!==u[2]?u[2]:_,(0,g.default)(),r=R(e),i=(0,A.processColor)(n),a=r+":"+t+":"+i,!w.has(a)){l.next=8;break}return l.abrupt("return",w.get(a));case 8:return l.prev=8,l.next=11,o.default.awrap(E.getImageForFont(C,r,t,i));case 11:return s=l.sent,c={uri:s,scale:A.PixelRatio.get()},w.setValue(a,c),l.abrupt("return",c);case 17:throw l.prev=17,l.t0=l.catch(8),w.setError(a,l.t0),l.t0;case 21:case"end":return l.stop()}}),null,null,[[8,17]])},S.getImageSourceSync=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_;(0,g.default)();var r=R(e),i=(0,A.processColor)(n),o=r+":"+t+":"+i;if(w.has(o))return w.get(o);try{var a={uri:E.getImageForFontSync(C,r,t,i),scale:A.PixelRatio.get()};return w.setValue(o,a),a}catch(e){throw w.setError(o,e),e}},S.loadFont=function(){var e,t=arguments;return o.default.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(e=t.length>0&&void 0!==t[0]?t[0]:n,"ios"!==A.Platform.OS){r.next=7;break}if((0,g.default)(),e){r.next=5;break}throw new Error("Unable to load font, because no file was specified. ");case 5:return r.next=7,o.default.awrap(E.loadFontWithFileName.apply(E,(0,i.default)(e.split("."))));case 7:case"end":return r.stop()}}))},S.hasIcon=function(t){return Object.prototype.hasOwnProperty.call(e,t)},S.getRawGlyphMap=function(){return e},S.getFontFamily=function(){return C},S};var i=r(n(319)),o=r(n(7757)),a=r(n(7154)),s=r(n(6479)),c=r(n(4575)),u=r(n(3913)),l=r(n(8585)),d=r(n(9754)),h=r(n(2205)),p=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(7294)),f=r(n(5697)),A=n(3164),g=r(n(6444)),m=r(n(1602)),v=r(n(6648));function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}var E=A.NativeModules.RNVectorIconsManager||A.NativeModules.RNVectorIconsModule;t.NativeIconAPI=E;var b=12;t.DEFAULT_ICON_SIZE=b;var _="black";t.DEFAULT_ICON_COLOR=_},1602:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=new Map;return{setValue:function(t,n){return e.set(t,{type:"value",data:n})},setError:function(t,r){return e.set(t,{type:n,data:r})},has:function(t){return e.has(t)},get:function(t){if(e.has(t)){var r=e.get(t),i=r.type,o=r.data;if(i===n)throw o;return o}}}};var n="error"},739:(e,t,n)=>{var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.keys(e);if(0===n.length)throw new Error("You need to add at least one style");var r=(0,l.default)({defaultStyle:n[0],fallbackFamily:function(){return n[0]},glyphValidator:function(){return!0}},t),A=n.reduce((function(t,n){var r=e[n];return t[n]=(0,p.default)(r.glyphMap||{},r.fontFamily||"",r.fontFile||"",r.fontStyle||{}),t}),{});function g(e){return Object.keys(e).reduce((function(t,r){return-1!==n.indexOf(r)&&!0===e[r]?r:t}),r.defaultStyle)}function m(e){var t=e.name,i=g(e);if(r.glyphValidator(t,i))return A[i];var o=r.fallbackFamily(t);return-1===n.indexOf(o)?r.defaultStyle:A[o]}function v(e,t){return t.length>0?e[t]:e}function y(e){return Object.keys(e).reduce((function(t,r){return-1===n.indexOf(r)&&(t[r]=e[r]),t}),{})}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return-1===n.indexOf(e)?A[r.defaultStyle]:t?m((0,u.default)({name:t},e,!0)):A[g((0,u.default)({},e,!0))]}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.DEFAULT_ICON_SIZE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.DEFAULT_ICON_COLOR,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.defaultStyle;return E(i,e).getImageSource(e,t,n)}function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.defaultStyle;return E(e).getFontFamily()}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.defaultStyle;return E(e).getRawGlyphMap()}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.defaultStyle;return r.glyphValidator(e,t)}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=function(t){function n(){return(0,i.default)(this,n),(0,a.default)(this,(0,s.default)(n).apply(this,arguments))}return(0,c.default)(n,t),(0,o.default)(n,[{key:"render",value:function(){var t=v(m(this.props),e),n=y(this.props);return d.default.createElement(t,(0,l.default)({},n,{__self:this,__source:{fileName:f,lineNumber:123}}))}}]),n}(d.PureComponent);return t.propTypes=n.reduce((function(e,t){return e[t]=h.default.bool,e}),{}),t.defaultProps=n.reduce((function(e,t){return e[t]=!1,e}),{}),t}var w=S();return w.Button=S("Button"),w.getStyledIconSet=E,w.getImageSource=b,w.getFontFamily=_,w.getRawGlyphMap=C,w.hasIcon=I,w};var i=r(n(4575)),o=r(n(3913)),a=r(n(8585)),s=r(n(9754)),c=r(n(2205)),u=r(n(9713)),l=r(n(7154)),d=g(n(7294)),h=r(n(5697)),p=g(n(3361)),f="/home/runner/work/react-native-vector-icons/react-native-vector-icons/lib/create-multi-style-icon-set.js";function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}},6444:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!i){if("android"===r.Platform.OS)throw new Error("RNVectorIconsModule not available, did you properly integrate the module? Try running `react-native link react-native-vector-icons` and recompiling.");throw new Error("RNVectorIconsManager not available, did you add the library to your project and link with libRNVectorIcons.a? Try running `react-native link react-native-vector-icons` and recompiling.")}};var r=n(3164),i=r.NativeModules.RNVectorIconsManager||r.NativeModules.RNVectorIconsModule},6648:(e,t,n)=>{var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n;return n=t=function(t){function n(){return(0,a.default)(this,n),(0,c.default)(this,(0,u.default)(n).apply(this,arguments))}return(0,l.default)(n,t),(0,s.default)(n,[{key:"render",value:function(){var t=this.props,n=t.style,r=t.iconStyle,a=t.children,s=(0,o.default)(t,["style","iconStyle","children"]),c=(0,f.pick)(s,v,"style","name","size","color"),u=(0,f.pick)(s,y),l=(0,f.omit)(s,Object.keys(c),Object.keys(u),"iconStyle","borderRadius","backgroundColor");c.style=r?[m.icon,r]:m.icon;var h=(0,f.pick)(this.props,"color"),g=(0,f.pick)(this.props,"backgroundColor","borderRadius");return d.default.createElement(p.TouchableHighlight,(0,i.default)({style:[m.touchable,g]},u,{__self:this,__source:{fileName:A,lineNumber:116}}),d.default.createElement(p.View,(0,i.default)({style:[m.container,g,n]},l,{__self:this,__source:{fileName:A,lineNumber:120}}),d.default.createElement(e,(0,i.default)({},c,{__self:this,__source:{fileName:A,lineNumber:121}})),"string"==typeof a?d.default.createElement(p.Text,{style:[m.text,h],selectable:!1,__self:this,__source:{fileName:A,lineNumber:123}},a):a))}}]),n}(d.PureComponent),t.propTypes={backgroundColor:h.default.oneOfType([h.default.string,h.default.number]),borderRadius:h.default.number,color:h.default.any,size:h.default.number,iconStyle:h.default.any,style:h.default.any,children:h.default.node},t.defaultProps={backgroundColor:"#007AFF",borderRadius:5,color:"white",size:20},n};var i=r(n(7154)),o=r(n(6479)),a=r(n(4575)),s=r(n(3913)),c=r(n(8585)),u=r(n(9754)),l=r(n(2205)),d=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(7294)),h=r(n(5697)),p=n(3164),f=n(4931),A="/home/runner/work/react-native-vector-icons/react-native-vector-icons/lib/icon-button.js";function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}var m=p.StyleSheet.create({container:{flexDirection:"row",justifyContent:"flex-start",alignItems:"center",padding:8},touchable:{overflow:"hidden"},icon:{marginRight:10},text:{fontWeight:"600",backgroundColor:"transparent"}}),v=["ellipsizeMode","numberOfLines","textBreakStrategy","selectable","suppressHighlighting","allowFontScaling","adjustsFontSizeToFit","minimumFontScale"],y=["accessible","accessibilityLabel","accessibilityHint","accessibilityComponentType","accessibilityRole","accessibilityStates","accessibilityTraits","onFocus","onBlur","disabled","onPress","onPressIn","onPressOut","onLayout","onLongPress","nativeID","testID","delayPressIn","delayPressOut","delayLongPress","activeOpacity","underlayColor","selectionColor","onShowUnderlay","onHideUnderlay","hasTVPreferredFocus","tvParallaxProperties"]},4931:e=>{e.exports={pick:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.flat().filter((function(t){return Object.prototype.hasOwnProperty.call(e,t)})).reduce((function(t,n){return t[n]=e[n],t}),{})},omit:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=new Set(n.flat());return Object.getOwnPropertyNames(e).filter((function(e){return!i.has(e)})).reduce((function(t,n){return t[n]=e[n],t}),{})}}},9672:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(773),i=n(7177),o=n(7294);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}var s={max:1,min:0},c=function(e){return o.createElement("circle",{cx:"16",cy:"16",fill:"none",r:"14",strokeWidth:"4",style:e})},u=(0,o.forwardRef)((function(e,t){var n=e.animating,r=void 0===n||n,u=e.color,h=void 0===u?"#1976D2":u,p=e.hidesWhenStopped,f=void 0===p||p,A=e.size,g=void 0===A?"small":A,m=e.style,v=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["animating","color","hidesWhenStopped","size","style"]),y=o.createElement("svg",{height:"100%",viewBox:"0 0 32 32",width:"100%"},c({stroke:h,opacity:.2}),c({stroke:h,strokeDasharray:80,strokeDashoffset:60}));return o.createElement(i.Z,a({},v,{accessibilityRole:"progressbar",accessibilityValue:s,ref:t,style:[l.container,m]}),o.createElement(i.Z,{children:y,style:["number"==typeof g?{height:g,width:g}:d[g],l.animation,!r&&l.animationPause,!r&&f&&l.hidesWhenStopped]}))}));u.displayName="ActivityIndicator";var l=r.Z.create({container:{alignItems:"center",justifyContent:"center"},hidesWhenStopped:{visibility:"hidden"},animation:{animationDuration:"0.75s",animationKeyframes:[{"0%":{transform:[{rotate:"0deg"}]},"100%":{transform:[{rotate:"360deg"}]}}],animationTimingFunction:"linear",animationIterationCount:"infinite"},animationPause:{animationPlayState:"paused"}}),d=r.Z.create({small:{width:20,height:20},large:{width:36,height:36}});const h=u},1047:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Be});var r=n(6086),i=n(3759),o=n.n(i);const a=null;var s,c=1,u=1,l=!1,d=[],h={opacity:!0,transform:!0,borderRadius:!0,borderBottomEndRadius:!0,borderBottomLeftRadius:!0,borderBottomRightRadius:!0,borderBottomStartRadius:!0,borderTopEndRadius:!0,borderTopLeftRadius:!0,borderTopRightRadius:!0,borderTopStartRadius:!0,elevation:!0,shadowOpacity:!0,shadowRadius:!0,scaleX:!0,scaleY:!0,translateX:!0,translateY:!0},p={translateX:!0,translateY:!0,scale:!0,scaleX:!0,scaleY:!0,rotate:!0,rotateX:!0,rotateY:!0,perspective:!0},f={inputRange:!0,outputRange:!0,extrapolate:!0,extrapolateRight:!0,extrapolateLeft:!0};function A(){return u++}function g(e){return(!0!==e.useNativeDriver?e.useNativeDriver:a)||!1}const m={API:{enableQueue:function(){l=!0},disableQueue:function(){o()(a,"Native animated module is not available"),l=!1;for(var e=0,t=d.length;e<t;e++){var n=d[e];a.connectAnimatedNodes(n[0],n[1])}d.length=0},createAnimatedNode:function(e,t){o()(a,"Native animated module is not available"),a.createAnimatedNode(e,t)},startListeningToAnimatedNodeValue:function(e){o()(a,"Native animated module is not available"),a.startListeningToAnimatedNodeValue(e)},stopListeningToAnimatedNodeValue:function(e){o()(a,"Native animated module is not available"),a.stopListeningToAnimatedNodeValue(e)},connectAnimatedNodes:function(e,t){o()(a,"Native animated module is not available"),l?d.push([e,t]):a.connectAnimatedNodes(e,t)},disconnectAnimatedNodes:function(e,t){o()(a,"Native animated module is not available"),a.disconnectAnimatedNodes(e,t)},startAnimatingNode:function(e,t,n,r){o()(a,"Native animated module is not available"),a.startAnimatingNode(e,t,n,r)},stopAnimation:function(e){o()(a,"Native animated module is not available"),a.stopAnimation(e)},setAnimatedNodeValue:function(e,t){o()(a,"Native animated module is not available"),a.setAnimatedNodeValue(e,t)},setAnimatedNodeOffset:function(e,t){o()(a,"Native animated module is not available"),a.setAnimatedNodeOffset(e,t)},flattenAnimatedNodeOffset:function(e){o()(a,"Native animated module is not available"),a.flattenAnimatedNodeOffset(e)},extractAnimatedNodeOffset:function(e){o()(a,"Native animated module is not available"),a.extractAnimatedNodeOffset(e)},connectAnimatedNodeToView:function(e,t){o()(a,"Native animated module is not available"),a.connectAnimatedNodeToView(e,t)},disconnectAnimatedNodeFromView:function(e,t){o()(a,"Native animated module is not available"),a.disconnectAnimatedNodeFromView(e,t)},dropAnimatedNode:function(e){o()(a,"Native animated module is not available"),a.dropAnimatedNode(e)},addAnimatedEventToView:function(e,t,n){o()(a,"Native animated module is not available"),a.addAnimatedEventToView(e,t,n)},removeAnimatedEventFromView:function(e,t,n){o()(a,"Native animated module is not available"),a.removeAnimatedEventFromView(e,t,n)}},addWhitelistedStyleProp:function(e){h[e]=!0},addWhitelistedTransformProp:function(e){p[e]=!0},addWhitelistedInterpolationParam:function(e){f[e]=!0},validateStyles:function(e){for(var t in e)if(!h.hasOwnProperty(t))throw new Error("Style property '"+t+"' is not supported by native animated module")},validateTransform:function(e){e.forEach((function(e){if(!p.hasOwnProperty(e.property))throw new Error("Property '"+e.property+"' is not supported by native animated module")}))},validateInterpolation:function(e){for(var t in e)if(!f.hasOwnProperty(t))throw new Error("Interpolation property '"+t+"' is not supported by native animated module")},generateNewNodeTag:function(){return c++},generateNewAnimationId:A,assertNativeAnimatedModule:function(){o()(a,"Native animated module is not available")},shouldUseNativeDriver:g,transformDataType:function(e){return"string"!=typeof e?e:/deg$/.test(e)?(parseFloat(e)||0)*Math.PI/180:e},get nativeEventEmitter(){return s||(s=new r.Z(a)),s}};var v=m.API,y=1;const E=function(){var e=t.prototype;function t(){this._listeners={}}return e.__attach=function(){},e.__detach=function(){this.__isNative&&null!=this.__nativeTag&&(m.API.dropAnimatedNode(this.__nativeTag),this.__nativeTag=void 0)},e.__getValue=function(){},e.__getAnimatedValue=function(){return this.__getValue()},e.__addChild=function(e){},e.__removeChild=function(e){},e.__getChildren=function(){return[]},e.__makeNative=function(){if(!this.__isNative)throw new Error('This node cannot be made a "native" animated node');this.hasListeners()&&this._startListeningToNativeValueUpdates()},e.addListener=function(e){var t=String(y++);return this._listeners[t]=e,this.__isNative&&this._startListeningToNativeValueUpdates(),t},e.removeListener=function(e){delete this._listeners[e],this.__isNative&&!this.hasListeners()&&this._stopListeningForNativeValueUpdates()},e.removeAllListeners=function(){this._listeners={},this.__isNative&&this._stopListeningForNativeValueUpdates()},e.hasListeners=function(){return!!Object.keys(this._listeners).length},e._startListeningToNativeValueUpdates=function(){var e=this;this.__nativeAnimatedValueListener&&!this.__shouldUpdateListenersForNewNativeTag||(this.__shouldUpdateListenersForNewNativeTag&&(this.__shouldUpdateListenersForNewNativeTag=!1,this._stopListeningForNativeValueUpdates()),v.startListeningToAnimatedNodeValue(this.__getNativeTag()),this.__nativeAnimatedValueListener=m.nativeEventEmitter.addListener("onAnimatedValueUpdate",(function(t){t.tag===e.__getNativeTag()&&e._onAnimatedValueUpdateReceived(t.value)})))},e._onAnimatedValueUpdateReceived=function(e){this.__callListeners(e)},e.__callListeners=function(e){for(var t in this._listeners)this._listeners[t]({value:e})},e._stopListeningForNativeValueUpdates=function(){this.__nativeAnimatedValueListener&&(this.__nativeAnimatedValueListener.remove(),this.__nativeAnimatedValueListener=null,v.stopListeningToAnimatedNodeValue(this.__getNativeTag()))},e.__getNativeTag=function(){if(m.assertNativeAnimatedModule(),o()(this.__isNative,'Attempt to get native tag from node not marked as "native"'),null==this.__nativeTag){var e=m.generateNewNodeTag();this.__nativeTag=e,m.API.createAnimatedNode(e,this.__getNativeConfig()),this.__shouldUpdateListenersForNewNativeTag=!0}return this.__nativeTag},e.__getNativeConfig=function(){throw new Error("This JS animated node type cannot be used as native animated node")},e.toJSON=function(){return this.__getValue()},t}(),b=function(e){var t,n;function r(){var t;return(t=e.call(this)||this)._children=[],t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.__makeNative=function(){if(!this.__isNative){this.__isNative=!0;var t=this._children,n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var i;if(n){if(r>=t.length)break;i=t[r++]}else{if((r=t.next()).done)break;i=r.value}var o=i;o.__makeNative(),m.API.connectAnimatedNodes(this.__getNativeTag(),o.__getNativeTag())}}e.prototype.__makeNative.call(this)},i.__addChild=function(e){0===this._children.length&&this.__attach(),this._children.push(e),this.__isNative&&(e.__makeNative(),m.API.connectAnimatedNodes(this.__getNativeTag(),e.__getNativeTag()))},i.__removeChild=function(e){var t=this._children.indexOf(e);-1!==t?(this.__isNative&&e.__isNative&&m.API.disconnectAnimatedNodes(this.__getNativeTag(),e.__getNativeTag()),this._children.splice(t,1),0===this._children.length&&this.__detach()):console.warn("Trying to remove a child that doesn't exist")},i.__getChildren=function(){return this._children},i.__callListeners=function(t){if(e.prototype.__callListeners.call(this,t),!this.__isNative){var n=this._children,r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var o;if(r){if(i>=n.length)break;o=n[i++]}else{if((i=n.next()).done)break;o=i.value}var a=o;a.__getValue&&a.__callListeners(a.__getValue())}}},r}(E);var _=n(8059),C=n.n(_);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){return e};function R(e){if(e.outputRange&&"string"==typeof e.outputRange[0])return function(e){var t=e.outputRange;o()(t.length>=2,"Bad output range"),function(e){for(var t=e[0].replace(O,""),n=1;n<e.length;++n)o()(t===e[n].replace(O,""),"invalid pattern "+e[0]+" and "+e[n])}(t=t.map(T));var n=t[0].match(O).map((function(){return[]}));t.forEach((function(e){e.match(O).forEach((function(e,t){n[t].push(+e)}))}));var r,i=t[0].match(O).map((function(t,r){return R(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{outputRange:n[r]}))})),a="string"==typeof(r=t[0])&&r.startsWith("rgb");return function(e){var n=0;return t[0].replace(O,(function(){var t=+i[n++](e);return a&&(t=n<4?Math.round(t):Math.round(1e3*t)/1e3),String(t)}))}}(e);var t=e.outputRange;k("outputRange",t);var n=e.inputRange;k("inputRange",n),function(e){o()(e.length>=2,"inputRange must have at least 2 elements");for(var t=1;t<e.length;++t)o()(e[t]>=e[t-1],"inputRange must be monotonically non-decreasing "+e)}(n),o()(n.length===t.length,"inputRange ("+n.length+") and outputRange ("+t.length+") must have the same length");var r=e.easing||w,i="extend";void 0!==e.extrapolateLeft?i=e.extrapolateLeft:void 0!==e.extrapolate&&(i=e.extrapolate);var a="extend";return void 0!==e.extrapolateRight?a=e.extrapolateRight:void 0!==e.extrapolate&&(a=e.extrapolate),function(e){o()("number"==typeof e,"Cannot interpolation an input which is not a number");var s=function(e,t){var n;for(n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,n);return function(e,t,n,r,i,o,a,s){var c=e;if(c<t){if("identity"===a)return c;"clamp"===a&&(c=t)}if(c>n){if("identity"===s)return c;"clamp"===s&&(c=n)}return r===i?r:t===n?e<=t?r:i:(t===-1/0?c=-c:n===1/0?c-=t:c=(c-t)/(n-t),c=o(c),r===-1/0?c=-c:i===1/0?c+=r:c=c*(i-r)+r,c)}(e,n[s],n[s+1],t[s],t[s+1],r,i,a)}}function T(e){var t=C()(e);return null===t?e:"rgba("+((4278190080&(t=t||0))>>>24)+", "+((16711680&t)>>>16)+", "+((65280&t)>>>8)+", "+(255&t)/255+")"}var O=/[+-]?(?:\d+\.?\d*|\.\d+)(?:[eE][+-]?\d+)?/g;function k(e,t){o()(t.length>=2,e+" must have at least 2 elements"),o()(2!==t.length||t[0]!==-1/0||t[1]!==1/0,e+"cannot be ]-infinity;+infinity[ "+t)}var N=function(e){var t,n;function r(t,n){var r;return(r=e.call(this)||this)._parent=t,r._config=n,r._interpolation=R(n),r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.__makeNative=function(){this._parent.__makeNative(),e.prototype.__makeNative.call(this)},i.__getValue=function(){var e=this._parent.__getValue();return o()("number"==typeof e,"Cannot interpolate an input which is not a number."),this._interpolation(e)},i.interpolate=function(e){return new r(this,e)},i.__attach=function(){this._parent.__addChild(this)},i.__detach=function(){this._parent.__removeChild(this),e.prototype.__detach.call(this)},i.__transformDataType=function(e){return e.map(m.transformDataType)},i.__getNativeConfig=function(){return{inputRange:this._config.inputRange,outputRange:this.__transformDataType(this._config.outputRange),extrapolateLeft:this._config.extrapolateLeft||this._config.extrapolate||"extend",extrapolateRight:this._config.extrapolateRight||this._config.extrapolate||"extend",type:"interpolation"}},r}(b);N.__createInterpolation=R;const D=N;var P=n(1123),x=m.API;const L=function(e){var t,n;function r(t){var n;return(n=e.call(this)||this)._startingValue=n._value=t,n._offset=0,n._animation=null,n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.__detach=function(){this.stopAnimation(),e.prototype.__detach.call(this)},i.__getValue=function(){return this._value+this._offset},i.setValue=function(e){this._animation&&(this._animation.stop(),this._animation=null),this._updateValue(e,!this.__isNative),this.__isNative&&x.setAnimatedNodeValue(this.__getNativeTag(),e)},i.setOffset=function(e){this._offset=e,this.__isNative&&x.setAnimatedNodeOffset(this.__getNativeTag(),e)},i.flattenOffset=function(){this._value+=this._offset,this._offset=0,this.__isNative&&x.flattenAnimatedNodeOffset(this.__getNativeTag())},i.extractOffset=function(){this._offset+=this._value,this._value=0,this.__isNative&&x.extractAnimatedNodeOffset(this.__getNativeTag())},i.stopAnimation=function(e){this.stopTracking(),this._animation&&this._animation.stop(),this._animation=null,e&&e(this.__getValue())},i.resetAnimation=function(e){this.stopAnimation(e),this._value=this._startingValue},i._onAnimatedValueUpdateReceived=function(e){this._updateValue(e,!1)},i.interpolate=function(e){return new D(this,e)},i.animate=function(e,t){var n=this,r=null;e.__isInteraction&&(r=P.Z.createInteractionHandle());var i=this._animation;this._animation&&this._animation.stop(),this._animation=e,e.start(this._value,(function(e){n._updateValue(e,!0)}),(function(e){n._animation=null,null!==r&&P.Z.clearInteractionHandle(r),t&&t(e)}),i,this)},i.stopTracking=function(){this._tracking&&this._tracking.__detach(),this._tracking=null},i.track=function(e){this.stopTracking(),this._tracking=e},i._updateValue=function(t,n){var r;this._value=t,n&&(this,r=new Set,function e(t){"function"==typeof t.update?r.add(t):t.__getChildren().forEach(e)}(this),r.forEach((function(e){return e.update()}))),e.prototype.__callListeners.call(this,this.__getValue())},i.__getNativeConfig=function(){return{type:"value",value:this._value,offset:this._offset}},r}(b);var M=n(2747),B=m.shouldUseNativeDriver;function F(e,t,n){var r=[];o()(n[0]&&n[0].nativeEvent,"Native driven events only support animated values contained inside `nativeEvent`."),function e(t,n){if(t instanceof L)t.__makeNative(),r.push({nativeEventPath:n,animatedValueTag:t.__getNativeTag()});else if("object"==typeof t)for(var i in t)e(t[i],n.concat(i))}(n[0].nativeEvent,[]);var i=(0,M.Z)(e);return r.forEach((function(e){m.API.addAnimatedEventToView(i,t,e)})),{detach:function(){r.forEach((function(e){m.API.removeAnimatedEventFromView(i,t,e.animatedValueTag)}))}}}var U=function(){function e(e,t){void 0===t&&(t={}),this._listeners=[],this._argMapping=e,t.listener&&this.__addListener(t.listener),this._callListeners=this._callListeners.bind(this),this._attachedEvent=null,this.__isNative=B(t)}var t=e.prototype;return t.__addListener=function(e){this._listeners.push(e)},t.__removeListener=function(e){this._listeners=this._listeners.filter((function(t){return t!==e}))},t.__attach=function(e,t){o()(this.__isNative,"Only native driven events need to be attached."),this._attachedEvent=F(e,t,this._argMapping)},t.__detach=function(e,t){o()(this.__isNative,"Only native driven events need to be detached."),this._attachedEvent&&this._attachedEvent.detach()},t.__getHandler=function(){var e=this;return this.__isNative?this._callListeners:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=function e(t,n,r){if("number"==typeof n&&t instanceof L)t.setValue(n);else if("object"==typeof t)for(var i in t)e(t[i],n[i])};e.__isNative||e._argMapping.forEach((function(e,t){i(e,n[t],"arg"+t)})),e._callListeners.apply(e,n)}},t._callListeners=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._listeners.forEach((function(e){return e.apply(void 0,t)}))},t._validateMapping=function(){},e}();const j=function(e){var t,n;function r(t,n){var r;return(r=e.call(this)||this)._a="number"==typeof t?new L(t):t,r._b="number"==typeof n?new L(n):n,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.__makeNative=function(){this._a.__makeNative(),this._b.__makeNative(),e.prototype.__makeNative.call(this)},i.__getValue=function(){return this._a.__getValue()+this._b.__getValue()},i.interpolate=function(e){return new D(this,e)},i.__attach=function(){this._a.__addChild(this),this._b.__addChild(this)},i.__detach=function(){this._a.__removeChild(this),this._b.__removeChild(this),e.prototype.__detach.call(this)},i.__getNativeConfig=function(){return{type:"addition",input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}},r}(b),V=function(e){var t,n;function r(t,n,r){var i;return(i=e.call(this)||this)._a=t,i._min=n,i._max=r,i._value=i._lastValue=i._a.__getValue(),i}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.__makeNative=function(){this._a.__makeNative(),e.prototype.__makeNative.call(this)},i.interpolate=function(e){return new D(this,e)},i.__getValue=function(){var e=this._a.__getValue(),t=e-this._lastValue;return this._lastValue=e,this._value=Math.min(Math.max(this._value+t,this._min),this._max),this._value},i.__attach=function(){this._a.__addChild(this)},i.__detach=function(){this._a.__removeChild(this),e.prototype.__detach.call(this)},i.__getNativeConfig=function(){return{type:"diffclamp",input:this._a.__getNativeTag(),min:this._min,max:this._max}},r}(b),Q=function(e){var t,n;function r(t,n){var r;return(r=e.call(this)||this)._a="number"==typeof t?new L(t):t,r._b="number"==typeof n?new L(n):n,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.__makeNative=function(){this._a.__makeNative(),this._b.__makeNative(),e.prototype.__makeNative.call(this)},i.__getValue=function(){var e=this._a.__getValue(),t=this._b.__getValue();return 0===t&&console.error("Detected division by zero in AnimatedDivision"),e/t},i.interpolate=function(e){return new D(this,e)},i.__attach=function(){this._a.__addChild(this),this._b.__addChild(this)},i.__detach=function(){this._a.__removeChild(this),this._b.__removeChild(this),e.prototype.__detach.call(this)},i.__getNativeConfig=function(){return{type:"division",input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}},r}(b),G=function(e){var t,n;function r(t,n){var r;return(r=e.call(this)||this)._a=t,r._modulus=n,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.__makeNative=function(){this._a.__makeNative(),e.prototype.__makeNative.call(this)},i.__getValue=function(){return(this._a.__getValue()%this._modulus+this._modulus)%this._modulus},i.interpolate=function(e){return new D(this,e)},i.__attach=function(){this._a.__addChild(this)},i.__detach=function(){this._a.__removeChild(this),e.prototype.__detach.call(this)},i.__getNativeConfig=function(){return{type:"modulus",input:this._a.__getNativeTag(),modulus:this._modulus}},r}(b),q=function(e){var t,n;function r(t,n){var r;return(r=e.call(this)||this)._a="number"==typeof t?new L(t):t,r._b="number"==typeof n?new L(n):n,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.__makeNative=function(){this._a.__makeNative(),this._b.__makeNative(),e.prototype.__makeNative.call(this)},i.__getValue=function(){return this._a.__getValue()*this._b.__getValue()},i.interpolate=function(e){return new D(this,e)},i.__attach=function(){this._a.__addChild(this),this._b.__addChild(this)},i.__detach=function(){this._a.__removeChild(this),this._b.__removeChild(this),e.prototype.__detach.call(this)},i.__getNativeConfig=function(){return{type:"multiplication",input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}},r}(b),H=function(e){var t,n;function r(t){var n;return(n=e.call(this)||this)._transforms=t,n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.__makeNative=function(){e.prototype.__makeNative.call(this),this._transforms.forEach((function(e){for(var t in e){var n=e[t];n instanceof E&&n.__makeNative()}}))},i.__getValue=function(){return this._transforms.map((function(e){var t={};for(var n in e){var r=e[n];t[n]=r instanceof E?r.__getValue():r}return t}))},i.__getAnimatedValue=function(){return this._transforms.map((function(e){var t={};for(var n in e){var r=e[n];t[n]=r instanceof E?r.__getAnimatedValue():r}return t}))},i.__attach=function(){var e=this;this._transforms.forEach((function(t){for(var n in t){var r=t[n];r instanceof E&&r.__addChild(e)}}))},i.__detach=function(){var t=this;this._transforms.forEach((function(e){for(var n in e){var r=e[n];r instanceof E&&r.__removeChild(t)}})),e.prototype.__detach.call(this)},i.__getNativeConfig=function(){var e=[];return this._transforms.forEach((function(t){for(var n in t){var r=t[n];r instanceof E?e.push({type:"animated",property:n,nodeTag:r.__getNativeTag()}):e.push({type:"static",property:n,value:r})}})),m.validateTransform(e),{type:"transform",transforms:e}},r}(b);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var K=n(773).Z.flatten;const Y=function(e){var t,n;function r(t){var n;return n=e.call(this)||this,(t=K(t)||{}).transform&&(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{transform:new H(t.transform)})),n._style=t,n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i._walkStyleAndGetValues=function(e){var t={};for(var n in e){var r=e[n];r instanceof E?r.__isNative||(t[n]=r.__getValue()):r&&!Array.isArray(r)&&"object"==typeof r?t[n]=this._walkStyleAndGetValues(r):t[n]=r}return t},i.__getValue=function(){return this._walkStyleAndGetValues(this._style)},i._walkStyleAndGetAnimatedValues=function(e){var t={};for(var n in e){var r=e[n];r instanceof E?t[n]=r.__getAnimatedValue():r&&!Array.isArray(r)&&"object"==typeof r&&(t[n]=this._walkStyleAndGetAnimatedValues(r))}return t},i.__getAnimatedValue=function(){return this._walkStyleAndGetAnimatedValues(this._style)},i.__attach=function(){for(var e in this._style){var t=this._style[e];t instanceof E&&t.__addChild(this)}},i.__detach=function(){for(var t in this._style){var n=this._style[t];n instanceof E&&n.__removeChild(this)}e.prototype.__detach.call(this)},i.__makeNative=function(){for(var t in this._style){var n=this._style[t];n instanceof E&&n.__makeNative()}e.prototype.__makeNative.call(this)},i.__getNativeConfig=function(){var e={};for(var t in this._style)if(this._style[t]instanceof E){var n=this._style[t];n.__makeNative(),e[t]=n.__getNativeTag()}return m.validateStyles(e),{type:"style",style:e}},r}(b);function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const X=function(e){var t,n;function r(t,n){var r;return r=e.call(this)||this,t.style&&(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{style:new Y(t.style)})),r._props=t,r._callback=n,r.__attach(),r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.__getValue=function(){var e={};for(var t in this._props){var n=this._props[t];n instanceof E?(!n.__isNative||n instanceof Y)&&(e[t]=n.__getValue()):e[t]=n instanceof U?n.__getHandler():n}return e},i.__getAnimatedValue=function(){var e={};for(var t in this._props){var n=this._props[t];n instanceof E&&(e[t]=n.__getAnimatedValue())}return e},i.__attach=function(){for(var e in this._props){var t=this._props[e];t instanceof E&&t.__addChild(this)}},i.__detach=function(){for(var t in this.__isNative&&this._animatedView&&this.__disconnectAnimatedView(),this._props){var n=this._props[t];n instanceof E&&n.__removeChild(this)}e.prototype.__detach.call(this)},i.update=function(){this._callback()},i.__makeNative=function(){if(!this.__isNative){for(var e in this.__isNative=!0,this._props){var t=this._props[e];t instanceof E&&t.__makeNative()}this._animatedView&&this.__connectAnimatedView()}},i.setNativeView=function(e){this._animatedView!==e&&(this._animatedView=e,this.__isNative&&this.__connectAnimatedView())},i.__connectAnimatedView=function(){o()(this.__isNative,'Expected node to be marked as "native"');var e=(0,M.Z)(this._animatedView);o()(null!=e,"Unable to locate attached view in the native tree"),m.API.connectAnimatedNodeToView(this.__getNativeTag(),e)},i.__disconnectAnimatedView=function(){o()(this.__isNative,'Expected node to be marked as "native"');var e=(0,M.Z)(this._animatedView);o()(null!=e,"Unable to locate attached view in the native tree"),m.API.disconnectAnimatedNodeFromView(this.__getNativeTag(),e)},i.__getNativeConfig=function(){var e={};for(var t in this._props){var n=this._props[t];n instanceof E&&(n.__makeNative(),e[t]=n.__getNativeTag())}return{type:"props",props:e}},r}(E),$=function(e){var t,n;function r(t,n){var r;return(r=e.call(this)||this)._a="number"==typeof t?new L(t):t,r._b="number"==typeof n?new L(n):n,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.__makeNative=function(){this._a.__makeNative(),this._b.__makeNative(),e.prototype.__makeNative.call(this)},i.__getValue=function(){return this._a.__getValue()-this._b.__getValue()},i.interpolate=function(e){return new D(this,e)},i.__attach=function(){this._a.__addChild(this),this._b.__addChild(this)},i.__detach=function(){this._a.__removeChild(this),this._b.__removeChild(this),e.prototype.__detach.call(this)},i.__getNativeConfig=function(){return{type:"subtraction",input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}},r}(b);function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const re=function(e){var t,n;function r(t,n,r,i,o){var a;return(a=e.call(this)||this)._value=t,a._parent=n,a._animationClass=r,a._animationConfig=i,a._useNativeDriver=g(i),a._callback=o,a.__attach(),a}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.__makeNative=function(){this.__isNative=!0,this._parent.__makeNative(),e.prototype.__makeNative.call(this),this._value.__makeNative()},i.__getValue=function(){return this._parent.__getValue()},i.__attach=function(){this._parent.__addChild(this),this._useNativeDriver&&this.__makeNative()},i.__detach=function(){this._parent.__removeChild(this),e.prototype.__detach.call(this)},i.update=function(){this._value.animate(new this._animationClass(te({},this._animationConfig,{toValue:this._animationConfig.toValue.__getValue()})),this._callback)},i.__getNativeConfig=function(){var e=new this._animationClass(te({},this._animationConfig,{toValue:void 0})).__getNativeAnimationConfig();return{type:"tracking",animationId:A(),animationConfig:e,toValue:this._parent.__getNativeTag(),value:this._value.__getNativeTag()}},r}(E);var ie=1;const oe=function(e){var t,n;function r(t){var n;n=e.call(this)||this;var r=t||{x:0,y:0};return"number"==typeof r.x&&"number"==typeof r.y?(n.x=new L(r.x),n.y=new L(r.y)):(o()(r.x instanceof L&&r.y instanceof L,"AnimatedValueXY must be initialized with an object of numbers or AnimatedValues."),n.x=r.x,n.y=r.y),n._listeners={},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.setValue=function(e){this.x.setValue(e.x),this.y.setValue(e.y)},i.setOffset=function(e){this.x.setOffset(e.x),this.y.setOffset(e.y)},i.flattenOffset=function(){this.x.flattenOffset(),this.y.flattenOffset()},i.extractOffset=function(){this.x.extractOffset(),this.y.extractOffset()},i.__getValue=function(){return{x:this.x.__getValue(),y:this.y.__getValue()}},i.resetAnimation=function(e){this.x.resetAnimation(),this.y.resetAnimation(),e&&e(this.__getValue())},i.stopAnimation=function(e){this.x.stopAnimation(),this.y.stopAnimation(),e&&e(this.__getValue())},i.addListener=function(e){var t=this,n=String(ie++),r=function(n){n.value,e(t.__getValue())};return this._listeners[n]={x:this.x.addListener(r),y:this.y.addListener(r)},n},i.removeListener=function(e){this.x.removeListener(this._listeners[e].x),this.y.removeListener(this._listeners[e].y),delete this._listeners[e]},i.removeAllListeners=function(){this.x.removeAllListeners(),this.y.removeAllListeners(),this._listeners={}},i.getLayout=function(){return{left:this.x,top:this.y}},i.getTranslateTransform=function(){return[{translateX:this.x},{translateY:this.y}]},r}(b),ae=function(){function e(){}var t=e.prototype;return t.start=function(e,t,n,r,i){},t.stop=function(){this.__nativeId&&m.API.stopAnimation(this.__nativeId)},t.__getNativeAnimationConfig=function(){throw new Error("This animation type cannot be offloaded to native")},t.__debouncedOnEnd=function(e){var t=this.__onEnd;this.__onEnd=null,t&&t(e)},t.__startNativeAnimation=function(e){m.API.enableQueue(),e.__makeNative(),m.API.disableQueue(),this.__nativeId=m.generateNewAnimationId(),m.API.startAnimatingNode(this.__nativeId,e.__getNativeTag(),this.__getNativeAnimationConfig(),this.__debouncedOnEnd.bind(this))},e}(),se=function(e){var t,r;function i(t){var n,r,i,o;return(o=e.call(this)||this)._deceleration=null!==(n=t.deceleration)&&void 0!==n?n:.998,o._velocity=t.velocity,o._useNativeDriver=g(t),o.__isInteraction=null!==(r=t.isInteraction)&&void 0!==r?r:!o._useNativeDriver,o.__iterations=null!==(i=t.iterations)&&void 0!==i?i:1,o}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=i.prototype;return o.__getNativeAnimationConfig=function(){return{type:"decay",deceleration:this._deceleration,velocity:this._velocity,iterations:this.__iterations}},o.start=function(e,t,n,r,i){this.__active=!0,this._lastValue=e,this._fromValue=e,this._onUpdate=t,this.__onEnd=n,this._startTime=Date.now(),this._useNativeDriver?this.__startNativeAnimation(i):this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))},o.onUpdate=function(){var e=Date.now(),t=this._fromValue+this._velocity/(1-this._deceleration)*(1-Math.exp(-(1-this._deceleration)*(e-this._startTime)));this._onUpdate(t),Math.abs(this._lastValue-t)<.1?this.__debouncedOnEnd({finished:!0}):(this._lastValue=t,this.__active&&(this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))))},o.stop=function(){e.prototype.stop.call(this),this.__active=!1,n.g.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})},i}(ae);function ce(e){return 3.62*(e-30)+194}function ue(e){return 3*(e-8)+25}const le=function(e,t){return{stiffness:ce(e),damping:ue(t)}},de=function(e,t){function n(e,t,n){return(e-t)/(n-t)}function r(e,t,n){return t+e*(n-t)}var i=n(e/1.7,0,20);i=r(i,0,.8);var o,a,s,c=r(n(t/1.7,0,20),.5,200),u=function(e,t,n){return.01*e+(1-e)*t}(2*(o=i)-o*o,(a=c)<=18?(s=a,7e-4*Math.pow(s,3)-.031*Math.pow(s,2)+.64*s+1.28):a>18&&a<=44?function(e){return 44e-6*Math.pow(e,3)-.006*Math.pow(e,2)+.36*e+2}(a):function(e){return 45e-8*Math.pow(e,3)-332e-6*Math.pow(e,2)+.1078*e+5.84}(a));return{stiffness:ce(c),damping:ue(u)}},he=function(e){var t,r;function i(t){var n,r,i,a,s,c,u,l,d,h,p,f;if((d=e.call(this)||this)._overshootClamping=null!==(n=t.overshootClamping)&&void 0!==n&&n,d._restDisplacementThreshold=null!==(r=t.restDisplacementThreshold)&&void 0!==r?r:.001,d._restSpeedThreshold=null!==(i=t.restSpeedThreshold)&&void 0!==i?i:.001,d._initialVelocity=null!==(a=t.velocity)&&void 0!==a?a:0,d._lastVelocity=null!==(s=t.velocity)&&void 0!==s?s:0,d._toValue=t.toValue,d._delay=null!==(c=t.delay)&&void 0!==c?c:0,d._useNativeDriver=g(t),d.__isInteraction=null!==(u=t.isInteraction)&&void 0!==u?u:!d._useNativeDriver,d.__iterations=null!==(l=t.iterations)&&void 0!==l?l:1,void 0!==t.stiffness||void 0!==t.damping||void 0!==t.mass)o()(void 0===t.bounciness&&void 0===t.speed&&void 0===t.tension&&void 0===t.friction,"You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one"),d._stiffness=null!==(h=t.stiffness)&&void 0!==h?h:100,d._damping=null!==(p=t.damping)&&void 0!==p?p:10,d._mass=null!==(f=t.mass)&&void 0!==f?f:1;else if(void 0!==t.bounciness||void 0!==t.speed){var A,m;o()(void 0===t.tension&&void 0===t.friction&&void 0===t.stiffness&&void 0===t.damping&&void 0===t.mass,"You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one");var v=de(null!==(A=t.bounciness)&&void 0!==A?A:8,null!==(m=t.speed)&&void 0!==m?m:12);d._stiffness=v.stiffness,d._damping=v.damping,d._mass=1}else{var y,E,b=le(null!==(y=t.tension)&&void 0!==y?y:40,null!==(E=t.friction)&&void 0!==E?E:7);d._stiffness=b.stiffness,d._damping=b.damping,d._mass=1}return o()(d._stiffness>0,"Stiffness value must be greater than 0"),o()(d._damping>0,"Damping value must be greater than 0"),o()(d._mass>0,"Mass value must be greater than 0"),d}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=i.prototype;return a.__getNativeAnimationConfig=function(){var e;return{type:"spring",overshootClamping:this._overshootClamping,restDisplacementThreshold:this._restDisplacementThreshold,restSpeedThreshold:this._restSpeedThreshold,stiffness:this._stiffness,damping:this._damping,mass:this._mass,initialVelocity:null!==(e=this._initialVelocity)&&void 0!==e?e:this._lastVelocity,toValue:this._toValue,iterations:this.__iterations}},a.start=function(e,t,n,r,o){var a=this;if(this.__active=!0,this._startPosition=e,this._lastPosition=this._startPosition,this._onUpdate=t,this.__onEnd=n,this._lastTime=Date.now(),this._frameTime=0,r instanceof i){var s=r.getInternalState();this._lastPosition=s.lastPosition,this._lastVelocity=s.lastVelocity,this._initialVelocity=this._lastVelocity,this._lastTime=s.lastTime}var c=function(){a._useNativeDriver?a.__startNativeAnimation(o):a.onUpdate()};this._delay?this._timeout=setTimeout(c,this._delay):c()},a.getInternalState=function(){return{lastPosition:this._lastPosition,lastVelocity:this._lastVelocity,lastTime:this._lastTime}},a.onUpdate=function(){var e=Date.now();e>this._lastTime+64&&(e=this._lastTime+64);var t=(e-this._lastTime)/1e3;this._frameTime+=t;var n=this._damping,r=this._mass,i=this._stiffness,o=-this._initialVelocity,a=n/(2*Math.sqrt(i*r)),s=Math.sqrt(i/r),c=s*Math.sqrt(1-a*a),u=this._toValue-this._startPosition,l=0,d=0,h=this._frameTime;if(a<1){var p=Math.exp(-a*s*h);l=this._toValue-p*((o+a*s*u)/c*Math.sin(c*h)+u*Math.cos(c*h)),d=a*s*p*(Math.sin(c*h)*(o+a*s*u)/c+u*Math.cos(c*h))-p*(Math.cos(c*h)*(o+a*s*u)-c*u*Math.sin(c*h))}else{var f=Math.exp(-s*h);l=this._toValue-f*(u+(o+s*u)*h),d=f*(o*(h*s-1)+h*u*(s*s))}if(this._lastTime=e,this._lastPosition=l,this._lastVelocity=d,this._onUpdate(l),this.__active){var A=!1;this._overshootClamping&&0!==this._stiffness&&(A=this._startPosition<this._toValue?l>this._toValue:l<this._toValue);var g=Math.abs(d)<=this._restSpeedThreshold,m=!0;if(0!==this._stiffness&&(m=Math.abs(this._toValue-l)<=this._restDisplacementThreshold),A||g&&m)return 0!==this._stiffness&&(this._lastPosition=this._toValue,this._lastVelocity=0,this._onUpdate(this._toValue)),void this.__debouncedOnEnd({finished:!0});this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))}},a.stop=function(){e.prototype.stop.call(this),this.__active=!1,clearTimeout(this._timeout),n.g.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})},i}(ae);var pe,fe=n(1443);const Ae=function(e){var t,r;function i(t){var n,r,i,o,a,s;return(s=e.call(this)||this)._toValue=t.toValue,s._easing=null!==(n=t.easing)&&void 0!==n?n:(pe||(pe=fe.Z.inOut(fe.Z.ease)),pe),s._duration=null!==(r=t.duration)&&void 0!==r?r:500,s._delay=null!==(i=t.delay)&&void 0!==i?i:0,s.__iterations=null!==(o=t.iterations)&&void 0!==o?o:1,s._useNativeDriver=g(t),s.__isInteraction=null!==(a=t.isInteraction)&&void 0!==a?a:!s._useNativeDriver,s}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=i.prototype;return o.__getNativeAnimationConfig=function(){for(var e=[],t=0;t<this._duration;t+=16.666666666666668)e.push(this._easing(t/this._duration));return e.push(this._easing(1)),{type:"frames",frames:e,toValue:this._toValue,iterations:this.__iterations}},o.start=function(e,t,n,r,i){var o=this;this.__active=!0,this._fromValue=e,this._onUpdate=t,this.__onEnd=n;var a=function(){0!==o._duration||o._useNativeDriver?(o._startTime=Date.now(),o._useNativeDriver?o.__startNativeAnimation(i):o._animationFrame=requestAnimationFrame(o.onUpdate.bind(o))):(o._onUpdate(o._toValue),o.__debouncedOnEnd({finished:!0}))};this._delay?this._timeout=setTimeout(a,this._delay):a()},o.onUpdate=function(){var e=Date.now();if(e>=this._startTime+this._duration)return 0===this._duration?this._onUpdate(this._toValue):this._onUpdate(this._fromValue+this._easing(1)*(this._toValue-this._fromValue)),void this.__debouncedOnEnd({finished:!0});this._onUpdate(this._fromValue+this._easing((e-this._startTime)/this._duration)*(this._toValue-this._fromValue)),this.__active&&(this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this)))},o.stop=function(){e.prototype.stop.call(this),this.__active=!1,clearTimeout(this._timeout),n.g.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})},i}(ae);var ge=n(7294),me=n(596);function ve(){return ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ve.apply(this,arguments)}function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _e=function(e,t){return e&&t.onComplete?function(){t.onComplete&&t.onComplete.apply(t,arguments),e&&e.apply(void 0,arguments)}:e||t.onComplete},Ce=function(e,t,n){if(e instanceof oe){var r=Ee({},t),i=Ee({},t);for(var o in t){var a=t[o],s=a.x,c=a.y;void 0!==s&&void 0!==c&&(r[o]=s,i[o]=c)}var u=n(e.x,r),l=n(e.y,i);return we([u,l],{stopTogether:!1})}return null},Ie=function e(t,n){var r=function(e,t,n){n=_e(n,t);var r=e,i=t;r.stopTracking(),t.toValue instanceof E?r.track(new re(r,t.toValue,Ae,i,n)):r.animate(new Ae(i),n)};return Ce(t,n,e)||{start:function(e){r(t,n,e)},stop:function(){t.stopAnimation()},reset:function(){t.resetAnimation()},_startNativeLoop:function(e){var i=Ee({},n,{iterations:e});r(t,i)},_isUsingNativeDriver:function(){return n.useNativeDriver||!1}}},Se=function(e){var t=0;return{start:function(n){0===e.length?n&&n({finished:!0}):e[t].start((function r(i){i.finished&&++t!==e.length?e[t].start(r):n&&n(i)}))},stop:function(){t<e.length&&e[t].stop()},reset:function(){e.forEach((function(e,n){n<=t&&e.reset()})),t=0},_startNativeLoop:function(){throw new Error("Loops run using the native driver cannot contain Animated.sequence animations")},_isUsingNativeDriver:function(){return!1}}},we=function(e,t){var n=0,r={},i=!(t&&!1===t.stopTogether),o={start:function(t){n!==e.length?e.forEach((function(a,s){var c=function(a){if(r[s]=!0,++n===e.length)return n=0,void(t&&t(a));!a.finished&&i&&o.stop()};a?a.start(c):c({finished:!0})})):t&&t({finished:!0})},stop:function(){e.forEach((function(e,t){!r[t]&&e.stop(),r[t]=!0}))},reset:function(){e.forEach((function(e,t){e.reset(),r[t]=!1,n=0}))},_startNativeLoop:function(){throw new Error("Loops run using the native driver cannot contain Animated.parallel animations")},_isUsingNativeDriver:function(){return!1}};return o},Re=function(e){return Ie(new L(0),{toValue:0,delay:e,duration:0})};const Te={Value:L,ValueXY:oe,Interpolation:D,Node:E,decay:function e(t,n){var r=function(e,t,n){n=_e(n,t);var r=e,i=t;r.stopTracking(),r.animate(new se(i),n)};return Ce(t,n,e)||{start:function(e){r(t,n,e)},stop:function(){t.stopAnimation()},reset:function(){t.resetAnimation()},_startNativeLoop:function(e){var i=Ee({},n,{iterations:e});r(t,i)},_isUsingNativeDriver:function(){return n.useNativeDriver||!1}}},timing:Ie,spring:function e(t,n){var r=function(e,t,n){n=_e(n,t);var r=e,i=t;r.stopTracking(),t.toValue instanceof E?r.track(new re(r,t.toValue,he,i,n)):r.animate(new he(i),n)};return Ce(t,n,e)||{start:function(e){r(t,n,e)},stop:function(){t.stopAnimation()},reset:function(){t.resetAnimation()},_startNativeLoop:function(e){var i=Ee({},n,{iterations:e});r(t,i)},_isUsingNativeDriver:function(){return n.useNativeDriver||!1}}},add:function(e,t){return new j(e,t)},subtract:function(e,t){return new $(e,t)},divide:function(e,t){return new Q(e,t)},multiply:function(e,t){return new q(e,t)},modulo:function(e,t){return new G(e,t)},diffClamp:function(e,t,n){return new V(e,t,n)},delay:Re,sequence:Se,parallel:we,stagger:function(e,t){return we(t.map((function(t,n){return Se([Re(e*n),t])})))},loop:function(e,t){var n=void 0===t?{}:t,r=n.iterations,i=void 0===r?-1:r,o=n.resetBeforeIteration,a=void 0===o||o,s=!1,c=0;return{start:function(t){e&&0!==i?e._isUsingNativeDriver()?e._startNativeLoop(i):function n(r){void 0===r&&(r={finished:!0}),s||c===i||!1===r.finished?t&&t(r):(c++,a&&e.reset(),e.start(n))}():t&&t({finished:!0})},stop:function(){s=!0,e.stop()},reset:function(){c=0,s=!1,e.reset()},_startNativeLoop:function(){throw new Error("Loops run using the native driver cannot contain Animated.loop animations")},_isUsingNativeDriver:function(){return e._isUsingNativeDriver()}}},event:function(e,t){var n=new U(e,t);return n.__isNative?n:n.__getHandler()},createAnimatedComponent:function(e,t){o()("function"!=typeof e||e.prototype&&e.prototype.isReactComponent,"`createAnimatedComponent` does not support stateless functional components; use a class component instead.");var n=function(n){var r,i;function o(e){var t;return(t=n.call(this,e)||this)._invokeAnimatedPropsCallbackOnMount=!1,t._eventDetachers=[],t._animatedPropsCallback=function(){if(null==t._component)t._invokeAnimatedPropsCallbackOnMount=!0;else if(o.__skipSetNativeProps_FOR_TESTS_ONLY||"function"!=typeof t._component.setNativeProps)t.forceUpdate();else{if(t._propsAnimated.__isNative)throw new Error('Attempting to run JS driven animation on animated node that has been moved to "native" earlier by starting an animation with `useNativeDriver: true`');t._component.setNativeProps(t._propsAnimated.__getAnimatedValue())}},t._setComponentRef=(0,me.Z)(t.props.forwardedRef,(function(e){t._prevComponent=t._component,t._component=e,null!=e&&null==e.getNode&&(e.getNode=function(){var t;return console.warn("%s: Calling `getNode()` on the ref of an Animated component is no longer necessary. You can now directly use the ref instead. This method will be removed in a future release.",null!==(t=e.constructor.name)&&void 0!==t?t:"<<anonymous>>"),e})})),t}i=n,(r=o).prototype=Object.create(i.prototype),r.prototype.constructor=r,r.__proto__=i;var a=o.prototype;return a.componentWillUnmount=function(){this._propsAnimated&&this._propsAnimated.__detach(),this._detachNativeEvents()},a.UNSAFE_componentWillMount=function(){this._attachProps(this.props)},a.componentDidMount=function(){this._invokeAnimatedPropsCallbackOnMount&&(this._invokeAnimatedPropsCallbackOnMount=!1,this._animatedPropsCallback()),this._propsAnimated.setNativeView(this._component),this._attachNativeEvents()},a._attachNativeEvents=function(){var e=this,t=this._component&&this._component.getScrollableNode?this._component.getScrollableNode():this._component,n=function(n){var r=e.props[n];r instanceof U&&r.__isNative&&(r.__attach(t,n),e._eventDetachers.push((function(){return r.__detach(t,n)})))};for(var r in this.props)n(r)},a._detachNativeEvents=function(){this._eventDetachers.forEach((function(e){return e()})),this._eventDetachers=[]},a._attachProps=function(e){var t=this._propsAnimated;this._propsAnimated=new X(e,this._animatedPropsCallback),t&&t.__detach()},a.UNSAFE_componentWillReceiveProps=function(e){this._attachProps(e)},a.componentDidUpdate=function(e){this._component!==this._prevComponent&&this._propsAnimated.setNativeView(this._component),this._component===this._prevComponent&&e===this.props||(this._detachNativeEvents(),this._attachNativeEvents())},a.render=function(){var n=this._propsAnimated.__getValue();return ge.createElement(e,ve({},t,n,{ref:this._setComponentRef}))},o}(ge.Component);return n.__skipSetNativeProps_FOR_TESTS_ONLY=!1,e.propTypes,ge.forwardRef((function(e,t){return ge.createElement(n,ve({},e,null==t?null:{forwardedRef:t}))}))},attachNativeEvent:F,forkEvent:function(e,t){return e?e instanceof U?(e.__addListener(t),e):function(){"function"==typeof e&&e.apply(void 0,arguments),t.apply(void 0,arguments)}:t},unforkEvent:function(e,t){e&&e instanceof U&&e.__removeListener(t)},Event:U,__PropsOnlyForTests:X};var Oe=n(8744),ke=n(3250),Ne=n(7545),De=n(5164),Pe=n(4404),xe=n(7177);function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Be=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){Me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Te,{FlatList:Te.createAnimatedComponent(Oe.Z,{scrollEventThrottle:1e-4}),Image:Te.createAnimatedComponent(ke.Z),ScrollView:Te.createAnimatedComponent(De.Z,{scrollEventThrottle:1e-4}),SectionList:Te.createAnimatedComponent(Ne.Z,{scrollEventThrottle:1e-4}),View:Te.createAnimatedComponent(xe.Z),Text:Te.createAnimatedComponent(Pe.Z)})},8227:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(3759),i=n.n(r),o=n(6113),a=n(773),s=n(7177),c=n(7294),u=(0,c.createContext)(null);function l(e){var t=e.children,n=e.WrapperComponent,r=c.createElement(s.Z,{children:t,key:1,pointerEvents:"box-none",style:d.appContainer});return n&&(r=c.createElement(n,null,r)),c.createElement(u.Provider,{value:e.rootTag},c.createElement(s.Z,{pointerEvents:"box-none",style:d.appContainer},r))}var d=a.Z.create({appContainer:{flex:1}}),h=n(1512),p=n(3935),f=n(6730);function A(){return A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A.apply(this,arguments)}var g,m={},v={},y=function(e){return e()},E=function(){function e(){}return e.getAppKeys=function(){return Object.keys(v)},e.getApplication=function(e,t){return i()(v[e]&&v[e].getApplication,"Application "+e+" has not been registered. This is either due to an import error during initialization or failure to call AppRegistry.registerComponent."),v[e].getApplication(t)},e.registerComponent=function(e,t){return v[e]={getApplication:function(e){return n=y(t),r=e?e.initialProps:m,i=g&&g(e),{element:c.createElement(l,{rootTag:{},WrapperComponent:i},c.createElement(n,r)),getStyleElement:function(e){var t=f.Z.getStyleSheet();return c.createElement("style",A({},e,{dangerouslySetInnerHTML:{__html:t.textContent},id:t.id}))}};var n,r,i},run:function(e){return n=y(t),r=g&&g(e),o=e.callback,s=(a={hydrate:e.hydrate||!1,initialProps:e.initialProps||m,rootTag:e.rootTag}).initialProps,u=a.rootTag,d=a.hydrate?p.hydrate:h.Z,i()(u,"Expect to have a valid rootTag, instead got ",u),void d(c.createElement(l,{rootTag:u,WrapperComponent:r},c.createElement(n,s)),u,o);var n,r,o,a,s,u,d}},e},e.registerConfig=function(t){t.forEach((function(t){var n=t.appKey,r=t.component,o=t.run;o?e.registerRunnable(n,o):(i()(r,"No component provider passed in"),e.registerComponent(n,r))}))},e.registerRunnable=function(e,t){return v[e]={run:t},e},e.runApplication=function(e,t){i()(v[e]&&v[e].run,'Application "'+e+'" has not been registered. This is either due to an import error during initialization or failure to call AppRegistry.registerComponent.'),v[e].run(t)},e.setComponentProviderInstrumentationHook=function(e){y=e},e.setWrapperComponentProvider=function(e){g=e},e.unmountApplicationComponentAtRootTag=function(e){(0,o.Z)(e)},e}()},7878:(e,t,n)=>{"use strict";n.d(t,{Z:()=>A});var r=n(6508),i=n(1684),o=n.n(i),a=n(3759),s=n.n(a);function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=r.canUseDOM&&!document.hasOwnProperty("hidden")&&document.hasOwnProperty("webkitHidden"),l=["change","memoryWarning"],d=u?"webkitvisibilitychange":"visibilitychange",h=u?"webkitVisibilityState":"visibilityState",p="active",f=[],A=function(){function e(){}var t,n;return e.addEventListener=function(t,n){if(e.isAvailable&&(s()(-1!==l.indexOf(t),'Trying to subscribe to unknown event: "%s"',t),"change"===t)){var r=function(){return n(e.currentState)};f.push([n,r]),document.addEventListener(d,r,!1)}},e.removeEventListener=function(t,n){if(e.isAvailable&&(s()(-1!==l.indexOf(t),'Trying to remove listener for unknown event: "%s"',t),"change"===t)){var r=o()(f,(function(e){return e[0]===n}));s()(-1!==r,"Trying to remove AppState listener for unregistered handler");var i=f[r][1];document.removeEventListener(d,i,!1),f.splice(r,1)}},t=e,n=[{key:"currentState",get:function(){if(!e.isAvailable)return p;switch(document[h]){case"hidden":case"prerender":case"unloaded":return"background";default:return p}}}],null&&c(t.prototype,null),n&&c(t,n),e}();A.isAvailable=r.canUseDOM&&document[h]},177:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(7294),i=n(7353),o=n(773),a=n(7177);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}var l=(0,r.forwardRef)((function(e,t){var n=e.color,o=e.disabled,s=e.onChange,c=e.onValueChange,l=e.style,h=e.value,p=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["color","disabled","onChange","onValueChange","style","value"]),f=r.createElement(a.Z,{style:[d.fakeControl,h&&d.fakeControlChecked,h&&n&&{backgroundColor:n,borderColor:n},o&&d.fakeControlDisabled,h&&o&&d.fakeControlCheckedAndDisabled]}),A=(0,i.Z)("input",{checked:h,disabled:o,onChange:function(e){var t=e.nativeEvent.target.checked;e.nativeEvent.value=t,s&&s(e),c&&c(t)},ref:t,style:[d.nativeControl,d.cursorInherit],type:"checkbox"});return r.createElement(a.Z,u({},p,{style:[d.root,l,o&&d.cursorDefault]}),f,A)}));l.displayName="CheckBox";var d=o.Z.create({root:{cursor:"pointer",height:16,userSelect:"none",width:16},cursorDefault:{cursor:"default"},cursorInherit:{cursor:"inherit"},fakeControl:{alignItems:"center",backgroundColor:"#fff",borderColor:"#657786",borderRadius:2,borderStyle:"solid",borderWidth:2,height:"100%",justifyContent:"center",width:"100%"},fakeControlChecked:{backgroundColor:"#009688",backgroundImage:'url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgdmVyc2lvbj0iMS4xIgogICB2aWV3Qm94PSIwIDAgMSAxIgogICBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWluWU1pbiBtZWV0Ij4KICA8cGF0aAogICAgIGQ9Ik0gMC4wNDAzODA1OSwwLjYyNjc3NjcgMC4xNDY0NDY2MSwwLjUyMDcxMDY4IDAuNDI5Mjg5MzIsMC44MDM1NTMzOSAwLjMyMzIyMzMsMC45MDk2MTk0MSB6IE0gMC4yMTcxNTcyOSwwLjgwMzU1MzM5IDAuODUzNTUzMzksMC4xNjcxNTcyOSAwLjk1OTYxOTQxLDAuMjczMjIzMyAwLjMyMzIyMzMsMC45MDk2MTk0MSB6IgogICAgIGlkPSJyZWN0Mzc4MCIKICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lIiAvPgo8L3N2Zz4K")',backgroundRepeat:"no-repeat",borderColor:"#009688"},fakeControlDisabled:{borderColor:"#CCD6DD"},fakeControlCheckedAndDisabled:{backgroundColor:"#AAB8C2",borderColor:"#AAB8C2"},nativeControl:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},o.Z.absoluteFillObject,{height:"100%",margin:0,opacity:0,padding:0,width:"100%"})});const h=l},7196:(e,t,n)=>{"use strict";var r;n.d(t,{Z:()=>i});var i=function(){function e(){}return e.isAvailable=function(){return void 0===r&&(r="function"==typeof document.queryCommandSupported&&document.queryCommandSupported("copy")),r},e.getString=function(){return Promise.resolve("")},e.setString=function(e){var t=!1,n=document.body;if(n){var r=document.createElement("span");r.textContent=e,r.style.opacity="0",r.style.position="absolute",r.style.whiteSpace="pre-wrap",r.style.userSelect="auto",n.appendChild(r);var i=window.getSelection();i.removeAllRanges();var o=document.createRange();o.selectNodeContents(r),i.addRange(o);try{document.execCommand("copy"),t=!0}catch(e){}i.removeAllRanges(),n.removeChild(r)}return t},e}()},5998:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(6508),i=n(3759),o=n.n(i),a=r.canUseDOM?window:{devicePixelRatio:void 0,innerHeight:void 0,innerWidth:void 0,screen:{height:void 0,width:void 0}},s={},c={},u=function(){function e(){}return e.get=function(e){return o()(s[e],"No dimension set for key "+e),s[e]},e.set=function(e){e&&(r.canUseDOM?o()(!1,"Dimensions cannot be set in the browser"):(s.screen=e.screen,s.window=e.window))},e._update=function(){s.window={fontScale:1,height:a.innerHeight,scale:a.devicePixelRatio||1,width:a.innerWidth},s.screen={fontScale:1,height:a.screen.height,scale:a.devicePixelRatio||1,width:a.screen.width},Array.isArray(c.change)&&c.change.forEach((function(e){return e(s)}))},e.addEventListener=function(e,t){c[e]=c[e]||[],c[e].push(t)},e.removeEventListener=function(e,t){Array.isArray(c[e])&&(c[e]=c[e].filter((function(e){return e!==t})))},e}();u._update(),r.canUseDOM&&window.addEventListener("resize",u._update,!1)},8744:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});const r=function e(t,n,r){if(void 0===r&&(r=-1),0===r)return!0;if(t===n)return!1;if("function"==typeof t&&"function"==typeof n)return!1;if("object"!=typeof t||null===t)return t!==n;if("object"!=typeof n||null===n)return!0;if(t.constructor!==n.constructor)return!0;if(Array.isArray(t)){var i=t.length;if(n.length!==i)return!0;for(var o=0;o<i;o++)if(e(t[o],n[o],r-1))return!0}else{for(var a in t)if(e(t[a],n[a],r-1))return!0;for(var s in n)if(void 0===t[s]&&void 0!==n[s])return!0}return!1};var i=n(7294),o=n(773),a=n(7177),s=n(7967),c=n(3759),u=n.n(c);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=h({},s.Z.defaultProps,{numColumns:1,removeClippedSubviews:!1}),A=function(e){var t,n;n=e,(t=d).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var c=d.prototype;function d(t){var n;return(n=e.call(this,t)||this)._virtualizedListPairs=[],n._captureRef=function(e){n._listRef=e},n._getItem=function(e,t){var r=n.props.numColumns;if(r>1){for(var i=[],o=0;o<r;o++){var a=e[t*r+o];null!=a&&i.push(a)}return i}return e[t]},n._getItemCount=function(e){return e?Math.ceil(e.length/n.props.numColumns):0},n._keyExtractor=function(e,t){var r=n.props,i=r.keyExtractor,o=r.numColumns;return o>1?(u()(Array.isArray(e),"FlatList: Encountered internal consistency error, expected each item to consist of an array with 1-%s columns; instead, received a single item.",o),e.map((function(e,n){return i(e,t*o+n)})).join(":")):i(e,t)},n._renderItem=function(e){var t=n.props,r=t.renderItem,s=t.numColumns,c=t.columnWrapperStyle;if(s>1){var l=e.item,d=e.index;return u()(Array.isArray(l),"Expected array of items with numColumns > 1"),i.createElement(a.Z,{style:o.Z.compose(g.row,c)},l.map((function(t,n){var o=r({item:t,index:d*s+n,separators:e.separators});return null!=o?i.createElement(i.Fragment,{key:n},o):null})))}return r(e)},n._checkProps(n.props),n.props.viewabilityConfigCallbackPairs?n._virtualizedListPairs=n.props.viewabilityConfigCallbackPairs.map((function(e){return{viewabilityConfig:e.viewabilityConfig,onViewableItemsChanged:n._createOnViewableItemsChanged(e.onViewableItemsChanged)}})):n.props.onViewableItemsChanged&&n._virtualizedListPairs.push({viewabilityConfig:n.props.viewabilityConfig,onViewableItemsChanged:n._createOnViewableItemsChanged(n.props.onViewableItemsChanged)}),n}return c.scrollToEnd=function(e){this._listRef&&this._listRef.scrollToEnd(e)},c.scrollToIndex=function(e){this._listRef&&this._listRef.scrollToIndex(e)},c.scrollToItem=function(e){this._listRef&&this._listRef.scrollToItem(e)},c.scrollToOffset=function(e){this._listRef&&this._listRef.scrollToOffset(e)},c.recordInteraction=function(){this._listRef&&this._listRef.recordInteraction()},c.flashScrollIndicators=function(){this._listRef&&this._listRef.flashScrollIndicators()},c.getScrollResponder=function(){if(this._listRef)return this._listRef.getScrollResponder()},c.getNativeScrollRef=function(){if(this._listRef)return this._listRef.getScrollRef()},c.getScrollableNode=function(){if(this._listRef)return this._listRef.getScrollableNode()},c.setNativeProps=function(e){this._listRef&&this._listRef.setNativeProps(e)},c.componentDidUpdate=function(e){u()(e.numColumns===this.props.numColumns,"Changing numColumns on the fly is not supported. Change the key prop on FlatList when changing the number of columns to force a fresh render of the component."),u()(e.onViewableItemsChanged===this.props.onViewableItemsChanged,"Changing onViewableItemsChanged on the fly is not supported"),u()(!r(e.viewabilityConfig,this.props.viewabilityConfig),"Changing viewabilityConfig on the fly is not supported"),u()(e.viewabilityConfigCallbackPairs===this.props.viewabilityConfigCallbackPairs,"Changing viewabilityConfigCallbackPairs on the fly is not supported"),this._checkProps(this.props)},c._checkProps=function(e){var t=e.getItem,n=e.getItemCount,r=e.horizontal,i=e.numColumns,o=e.columnWrapperStyle,a=e.onViewableItemsChanged,s=e.viewabilityConfigCallbackPairs;u()(!t&&!n,"FlatList does not support custom data formats."),i>1?u()(!r,"numColumns does not support horizontal."):u()(!o,"columnWrapperStyle not supported for single column lists"),u()(!(a&&s),"FlatList does not support setting both onViewableItemsChanged and viewabilityConfigCallbackPairs.")},c._pushMultiColumnViewable=function(e,t){var n=this.props,r=n.numColumns,i=n.keyExtractor;t.item.forEach((function(n,o){u()(null!=t.index,"Missing index!");var a=t.index*r+o;e.push(h({},t,{item:n,key:i(n,a),index:a}))}))},c._createOnViewableItemsChanged=function(e){var t=this;return function(n){var r=t.props.numColumns;if(e)if(r>1){var i=[],o=[];n.viewableItems.forEach((function(e){return t._pushMultiColumnViewable(o,e)})),n.changed.forEach((function(e){return t._pushMultiColumnViewable(i,e)})),e({viewableItems:o,changed:i})}else e(n)}},c.render=function(){return i.createElement(s.Z,l({},this.props,{renderItem:this._renderItem,getItem:this._getItem,getItemCount:this._getItemCount,keyExtractor:this._keyExtractor,ref:this._captureRef,viewabilityConfigCallbackPairs:this._virtualizedListPairs}))},d}(i.PureComponent);A.defaultProps=f;var g=o.Z.create({row:{flexDirection:"row"}});const m=A},6218:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(6508),i=n.n(r),o=!0,a=!1,s=!0,c=!1,u=function(){return!!c||s&&a},l=function(){i().canUseDOM&&document.documentElement&&document.documentElement.setAttribute&&document.documentElement.setAttribute("dir",u()?"rtl":"ltr")};const d={allowRTL:function(e){s=e,l()},forceRTL:function(e){c=e,l()},setPreferredLanguageRTL:function(e){a=e,l()},swapLeftAndRightInRTL:function(e){o=e},get doLeftAndRightSwapInRTL(){return o},get isRTL(){return u()}}},3250:(e,t,n)=>{"use strict";n.d(t,{Z:()=>D});var r=n(7353),i=n(9150),o=[];function a(e){return o[e-1]}var s=n(3911),c=/^data:/,u=function(){function e(){}return e.has=function(t){var n=e._entries;return c.test(t)||Boolean(n[t])},e.add=function(t){var n=e._entries,r=Date.now();n[t]?(n[t].lastUsedTimestamp=r,n[t].refCount+=1):n[t]={lastUsedTimestamp:r,refCount:1}},e.remove=function(t){var n=e._entries;n[t]&&(n[t].refCount-=1),e._cleanUpIfNeeded()},e._cleanUpIfNeeded=function(){var t,n,r=e._entries,i=Object.keys(r);i.length+1>e._maximumEntries&&(i.forEach((function(e){var i=r[e];(!n||i.lastUsedTimestamp<n.lastUsedTimestamp)&&0===i.refCount&&(t=e,n=i)})),t&&delete r[t])},e}();u._maximumEntries=256,u._entries={};var l=0,d={},h={abort:function(e){var t=d[""+e];t&&(t.onerror=null,t.onload=null,t=null,delete d[""+e])},getSize:function(e,t,n){var r=!1,i=setInterval(a,16),o=h.load(e,a,(function(){"function"==typeof n&&n(),h.abort(o),clearInterval(i)}));function a(){var e=d[""+o];if(e){var n=e.naturalHeight,a=e.naturalWidth;n&&a&&(t(a,n),r=!0)}r&&(h.abort(o),clearInterval(i))}},has:function(e){return u.has(e)},load:function(e,t,n){l+=1;var r=new window.Image;return r.onerror=n,r.onload=function(e){var n=function(){return t({nativeEvent:e})};"function"==typeof r.decode?r.decode().then(n,n):setTimeout(n,0)},r.src=e,d[""+l]=r,l},prefetch:function(e){return new Promise((function(t,n){h.load(e,(function(){u.add(e),u.remove(e),t()}),n)}))},queryCache:function(e){var t={};return e.forEach((function(e){u.has(e)&&(t[e]="disk/memory")})),Promise.resolve(t)}};const p=h;var f=n(1302),A=n(773),g=n(4370),m=n(7177),v=n(7294);function y(){return y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y.apply(this,arguments)}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C="LOADED",I="LOADING",S=0,w=/^(data:image\/svg\+xml;utf8,)(.*)/;function R(e){var t=null;if("number"==typeof e){var n=a(e),r=n.scales[0];if(n.scales.length>1){var i=f.Z.get();r=n.scales.reduce((function(e,t){return Math.abs(t-i)<Math.abs(e-i)?t:e}))}var o=1!==r?"@"+r+"x":"";t=n?n.httpServerLocation+"/"+n.name+o+"."+n.type:""}else"string"==typeof e?t=e:e&&"string"==typeof e.uri&&(t=e.uri);if(t){var s=t.match(w);if(s){var c=s[1],u=s[2];return""+c+encodeURIComponent(u)}}return t}var T=(0,v.forwardRef)((function(e,t){var n=e.accessibilityLabel,i=e.blurRadius,o=e.defaultSource,c=e.draggable,u=e.onError,l=e.onLayout,d=e.onLoad,h=e.onLoadEnd,f=e.onLoadStart,E=e.pointerEvents,_=e.source,w=e.style,T=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["accessibilityLabel","blurRadius","defaultSource","draggable","onError","onLayout","onLoad","onLoadEnd","onLoadStart","pointerEvents","source","style"]),D=(0,v.useState)((function(){var e=R(_);return null!=e&&p.has(e)?C:"IDLE"})),P=D[0],x=D[1],L=(0,v.useState)({}),M=L[0],B=L[1],F=(0,v.useContext)(g.Z),U=(0,v.useRef)(null),j=(0,v.useRef)(S++),V=(0,v.useRef)(null),Q=P===C||P===I&&null==o,G=function(e,t,n){var r=b({},A.Z.flatten(e)),i=r.filter,o=r.resizeMode,a=r.shadowOffset,c=r.tintColor,u=[],l=null;if(i&&u.push(i),t&&u.push("blur("+t+"px)"),a){var d=(0,s.Z)(r);d&&u.push("drop-shadow("+d+")")}return c&&null!=n&&u.push("url(#tint-"+n+")"),u.length>0&&(l=u.join(" ")),delete r.blurRadius,delete r.shadowColor,delete r.shadowOpacity,delete r.shadowOffset,delete r.shadowRadius,delete r.tintColor,delete r.overlayColor,delete r.resizeMode,[r,o,l,c]}(w,i,j.current),q=G[0],H=G[1],z=G[2],W=G[3],K=e.resizeMode||H||"cover",Y=Q?_:o,J=R(Y),Z=function(e){if("number"==typeof e){var t=a(e);return{height:t.height,width:t.width}}if(null!=e&&!Array.isArray(e)&&"object"==typeof e)return{height:e.height,width:e.width}}(Y),X=J?'url("'+J+'")':null,$=function(){if(null!=U.current&&("center"===K||"repeat"===K)){var e=U.current,t=e.naturalHeight,n=e.naturalWidth,r=M.height,i=M.width;if(t&&n&&r&&i){var o=Math.min(1,i/n,r/t);return Math.ceil(o*n)+"px "+Math.ceil(o*t)+"px"}}}(),ee=J?(0,r.Z)("img",{alt:n||"",classList:[O.accessibilityImage],draggable:c||!1,ref:U,src:J}):null,te=R(_);return(0,v.useEffect)((function(){function e(){null!=V.current&&(p.abort(V.current),V.current=null)}return e(),null!=te&&(x(I),f&&f(),V.current=p.load(te,(function(e){x(C),d&&d(e),h&&h()}),(function(){x("ERRORED"),u&&u({nativeEvent:{error:"Failed to load resource "+te+" (404)"}}),h&&h()}))),e}),[te,V,x,u,d,h,f]),v.createElement(m.Z,y({},T,{accessibilityLabel:n,onLayout:function(e){if("center"===K||"repeat"===K||l){var t=e.nativeEvent.layout;l&&l(e),B(t)}},pointerEvents:E,ref:t,style:[k.root,F&&k.inline,Z,q]}),v.createElement(m.Z,{style:[k.image,N[K],{backgroundImage:X,filter:z},null!=$&&{backgroundSize:$}],suppressHydrationWarning:!0}),ee,function(e,t){return e&&null!=t?v.createElement("svg",{style:{position:"absolute",height:0,visibility:"hidden",width:0}},v.createElement("defs",null,v.createElement("filter",{id:"tint-"+t,suppressHydrationWarning:!0},v.createElement("feFlood",{floodColor:""+e,key:e}),v.createElement("feComposite",{in2:"SourceAlpha",operator:"atop"})))):null}(W,j.current))}));T.displayName="Image",T.getSize=function(e,t,n){p.getSize(e,t,n)},T.prefetch=function(e){return p.prefetch(e)},T.queryCache=function(e){return p.queryCache(e)};var O=i.Z.create({accessibilityImage:b({},A.Z.absoluteFillObject,{height:"100%",opacity:0,width:"100%",zIndex:-1})}),k=A.Z.create({root:{flexBasis:"auto",overflow:"hidden",zIndex:0},inline:{display:"inline-flex"},image:b({},A.Z.absoluteFillObject,{backgroundColor:"transparent",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",height:"100%",width:"100%",zIndex:-1})}),N=A.Z.create({center:{backgroundSize:"auto"},contain:{backgroundSize:"contain"},cover:{backgroundSize:"cover"},none:{backgroundPosition:"0 0",backgroundSize:"auto"},repeat:{backgroundPosition:"0 0",backgroundRepeat:"repeat",backgroundSize:"auto"},stretch:{backgroundSize:"100% 100%"}});const D=T},5900:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(7294),i=n(3250),o=n(773),a=n(7177);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}var c={},u=(0,r.forwardRef)((function(e,t){var n=e.children,u=e.style,l=void 0===u?c:u,d=e.imageStyle,h=e.imageRef,p=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["children","style","imageStyle","imageRef"]),f=o.Z.flatten(l),A=f.height,g=f.width;return r.createElement(a.Z,{ref:t,style:l},r.createElement(i.Z,s({},p,{ref:h,style:[o.Z.absoluteFill,{width:g,height:A,zIndex:-1},d]})),n)}));u.displayName="ImageBackground";const l=u},1123:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(3759),i=n.n(r),o=n(6508).canUseDOM&&void 0!==window.requestIdleCallback,a=o?window.requestIdleCallback:function(e,t){return setTimeout((function(){var t=Date.now();e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)},s=o?window.cancelIdleCallback:function(e){clearTimeout(e)};const c=a,u={Events:{interactionStart:"interactionStart",interactionComplete:"interactionComplete"},runAfterInteractions:function(e){var t,n=new Promise((function(n){t=c((function(){e?n(e()):n()}))}));return{then:n.then.bind(n),done:n.then.bind(n),cancel:function(){s(t)}}},createInteractionHandle:function(){return 1},clearInteractionHandle:function(e){i()(!!e,"Must provide a handle to clear.")},addListener:function(){}}},3668:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(1763);const i={addListener:function(){return{remove:function(){}}},dismiss:function(){(0,r.Z)()},removeAllListeners:function(){},removeListener:function(){}}},2286:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(6508),i=n(3759),o=n.n(i),a=r.canUseDOM?window.location.href:"",s={addEventListener:function(){},removeEventListener:function(){},canOpenURL:function(){return Promise.resolve(!0)},getInitialURL:function(){return Promise.resolve(a)},openURL:function(e){try{return c(e),Promise.resolve()}catch(e){return Promise.reject(e)}},_validateURL:function(e){o()("string"==typeof e,"Invalid URL: should be a string. Was: "+e),o()(e,"Invalid URL: cannot be empty")}},c=function(e){r.canUseDOM&&(window.location=new URL(e,window.location).toString())};const u=s},9176:(e,t,n)=>{"use strict";n.d(t,{Z:()=>D});var r=n(7294),i=n(6508),o=n(3935);const a=function(e){var t=e.children,n=(0,r.useRef)(null);if(i.canUseDOM&&!n.current){var a=document.createElement("div");a&&document.body&&(document.body.appendChild(a),n.current=a)}return(0,r.useEffect)((function(){if(i.canUseDOM)return function(){document.body&&n.current&&(document.body.removeChild(n.current),n.current=null)}}),[]),n.current&&i.canUseDOM?o.createPortal(t,n.current):null};var s=n(773),c=n(7353);function u(e,t){return"slide"===e?t?d:h:"fade"===e?t?p:f:t?l.container:l.hidden}var l=s.Z.create({container:{position:"fixed",top:0,right:0,bottom:0,left:0,zIndex:9999},animatedIn:{animationDuration:"300ms",animationTimingFunction:"ease-in"},animatedOut:{pointerEvents:"none",animationDuration:"300ms",animationTimingFunction:"ease-out"},fadeIn:{opacity:1,animationKeyframes:{"0%":{opacity:0},"100%":{opacity:1}}},fadeOut:{opacity:0,animationKeyframes:{"0%":{opacity:1},"100%":{opacity:0}}},slideIn:{transform:[{translateY:"0%"}],animationKeyframes:{"0%":{transform:[{translateY:"100%"}]},"100%":{transform:[{translateY:"0%"}]}}},slideOut:{transform:[{translateY:"100%"}],animationKeyframes:{"0%":{transform:[{translateY:"0%"}]},"100%":{transform:[{translateY:"100%"}]}}},hidden:{opacity:0}}),d=[l.container,l.animatedIn,l.slideIn],h=[l.container,l.animatedOut,l.slideOut],p=[l.container,l.animatedIn,l.fadeIn],f=[l.container,l.animatedOut,l.fadeOut];const A=function(e){var t=e.animationType,n=e.children,i=e.onDismiss,o=e.onShow,a=e.visible,s=(0,r.useState)(!1),d=s[0],h=s[1],p=(0,r.useRef)(!1),f=t&&"none"!==t,A=(0,r.useCallback)((function(e){e&&e.currentTarget!==e.target||(a?o&&o():(h(!1),i&&i()))}),[i,o,a]);return(0,r.useEffect)((function(){a&&h(!0),a===p.current||f||A(),p.current=a}),[f,a,A]),d||a?(0,c.Z)("div",{style:d?u(t,a):l.hidden,onAnimationEnd:A,children:n}):null};var g=n(7177),m=(0,r.forwardRef)((function(e,t){var n=e.active,o=e.children,a=e.onRequestClose,s=e.transparent;(0,r.useEffect)((function(){if(i.canUseDOM){var e=function(e){n&&"Escape"===e.key&&(e.stopPropagation(),a&&a())};return document.addEventListener("keyup",e,!1),function(){return document.removeEventListener("keyup",e,!1)}}}),[n,a]);var c=(0,r.useMemo)((function(){return[v.modal,s?v.modalTransparent:v.modalOpaque]}),[s]);return r.createElement(g.Z,{accessibilityRole:n?"dialog":null,"aria-modal":!0,ref:t,style:c},r.createElement(g.Z,{style:v.container},o))})),v=s.Z.create({modal:{position:"fixed",top:0,right:0,bottom:0,left:0},modalTransparent:{backgroundColor:"transparent"},modalOpaque:{backgroundColor:"white"},container:{top:0,flex:1}});const y=m;var E=n(3853),b=function(){return(0,c.Z)("div",{accessibilityRole:"none",tabIndex:0,style:w.focusBracket})};function _(e){if(!i.canUseDOM)return!1;try{e.focus()}catch(e){}return document.activeElement===e}function C(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(_(n)||C(n))return!0}return!1}function I(e){for(var t=e.childNodes.length-1;t>=0;t--){var n=e.childNodes[t];if(_(n)||I(n))return!0}return!1}const S=function(e){var t=e.active,n=e.children,o=(0,r.useRef)(),a=(0,r.useRef)({trapFocusInProgress:!1,lastFocusedElement:null});return(0,r.useEffect)((function(){if(i.canUseDOM){var e=function(){if(null!=o.current&&!a.current.trapFocusInProgress&&t){try{if(a.current.trapFocusInProgress=!0,document.activeElement instanceof Node&&!o.current.contains(document.activeElement)){var e=C(o.current);a.current.lastFocusedElement===document.activeElement&&(e=I(o.current)),!e&&null!=o.current&&document.activeElement&&E.Z.focus(o.current)}}finally{a.current.trapFocusInProgress=!1}a.current.lastFocusedElement=document.activeElement}};return e(),document.addEventListener("focus",e,!0),function(){return document.removeEventListener("focus",e,!0)}}}),[t]),(0,r.useEffect)((function(){if(i.canUseDOM){var e=document.activeElement;return function(){e&&document.contains(e)&&E.Z.focus(e)}}}),[]),r.createElement(r.Fragment,null,r.createElement(b,null),r.createElement(g.Z,{ref:o},n),r.createElement(b,null))};var w=s.Z.create({focusBracket:{outlineStyle:"none"}}),R=0,T=[],O={};function k(){if(0!==T.length){var e=T[T.length-1];T.forEach((function(t){t in O&&O[t](t===e)}))}}function N(e){e in O&&(O[e](!1),delete O[e]);var t=T.indexOf(e);-1!==t&&(T.splice(t,1),k())}const D=(0,r.forwardRef)((function(e,t){var n=e.animationType,i=e.children,o=e.onDismiss,s=e.onRequestClose,c=e.onShow,u=e.transparent,l=e.visible,d=void 0===l||l,h=(0,r.useMemo)((function(){return R++}),[]),p=(0,r.useState)(!1),f=p[0],g=p[1],m=(0,r.useCallback)((function(){N(h),o&&o()}),[h,o]),v=(0,r.useCallback)((function(){!function(e,t){N(e),T.push(e),O[e]=t,k()}(h,g),c&&c()}),[h,c]);return(0,r.useEffect)((function(){return function(){return N(h)}}),[h]),r.createElement(a,null,r.createElement(A,{animationType:n,onDismiss:m,onShow:v,visible:d},r.createElement(S,{active:f},r.createElement(y,{active:f,onRequestClose:s,ref:t,transparent:u},i))))}))},1525:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={UIManager:n(3853).Z}},3795:(e,t,n)=>{"use strict";n.d(t,{Z:()=>A});var r=n(1123),i={centroidDimension:function(e,t,n,r){var o=e.touchBank,a=0,s=0,c=1===e.numberActiveTouches?e.touchBank[e.indexOfSingleActiveTouch]:null;if(null!==c)c.touchActive&&c.currentTimeStamp>t&&(a+=r&&n?c.currentPageX:r&&!n?c.currentPageY:!r&&n?c.previousPageX:c.previousPageY,s=1);else for(var u=0;u<o.length;u++){var l=o[u];null!=l&&l.touchActive&&l.currentTimeStamp>=t&&(a+=r&&n?l.currentPageX:r&&!n?l.currentPageY:!r&&n?l.previousPageX:l.previousPageY,s++)}return s>0?a/s:i.noCentroid},currentCentroidXOfTouchesChangedAfter:function(e,t){return i.centroidDimension(e,t,!0,!0)},currentCentroidYOfTouchesChangedAfter:function(e,t){return i.centroidDimension(e,t,!1,!0)},previousCentroidXOfTouchesChangedAfter:function(e,t){return i.centroidDimension(e,t,!0,!1)},previousCentroidYOfTouchesChangedAfter:function(e,t){return i.centroidDimension(e,t,!1,!1)},currentCentroidX:function(e){return i.centroidDimension(e,0,!0,!0)},currentCentroidY:function(e){return i.centroidDimension(e,0,!1,!0)},noCentroid:-1};const o=i;var a=o.currentCentroidXOfTouchesChangedAfter,s=o.currentCentroidYOfTouchesChangedAfter,c=o.previousCentroidXOfTouchesChangedAfter,u=o.previousCentroidYOfTouchesChangedAfter,l=o.currentCentroidX,d=o.currentCentroidY,h={_initializeGestureState:function(e){e.moveX=0,e.moveY=0,e.x0=0,e.y0=0,e.dx=0,e.dy=0,e.vx=0,e.vy=0,e.numberActiveTouches=0,e._accountsForMovesUpTo=0},_updateGestureStateOnMove:function(e,t){e.numberActiveTouches=t.numberActiveTouches,e.moveX=a(t,e._accountsForMovesUpTo),e.moveY=s(t,e._accountsForMovesUpTo);var n=e._accountsForMovesUpTo,r=c(t,n),i=a(t,n),o=u(t,n),l=s(t,n),d=e.dx+(i-r),h=e.dy+(l-o),p=t.mostRecentTimeStamp-e._accountsForMovesUpTo;e.vx=(d-e.dx)/p,e.vy=(h-e.dy)/p,e.dx=d,e.dy=h,e._accountsForMovesUpTo=t.mostRecentTimeStamp},create:function(e){var t={handle:null,shouldCancelClick:!1,timeout:null},n={stateID:Math.random(),moveX:0,moveY:0,x0:0,y0:0,dx:0,dy:0,vx:0,vy:0,numberActiveTouches:0,_accountsForMovesUpTo:0};return{panHandlers:{onStartShouldSetResponder:function(t){return null!=e.onStartShouldSetPanResponder&&e.onStartShouldSetPanResponder(t,n)},onMoveShouldSetResponder:function(t){return null!=e.onMoveShouldSetPanResponder&&e.onMoveShouldSetPanResponder(t,n)},onStartShouldSetResponderCapture:function(t){return 1===t.nativeEvent.touches.length&&h._initializeGestureState(n),n.numberActiveTouches=t.touchHistory.numberActiveTouches,null!=e.onStartShouldSetPanResponderCapture&&e.onStartShouldSetPanResponderCapture(t,n)},onMoveShouldSetResponderCapture:function(t){var r=t.touchHistory;return h._updateGestureStateOnMove(n,r),!!e.onMoveShouldSetPanResponderCapture&&e.onMoveShouldSetPanResponderCapture(t,n)},onResponderGrant:function(i){return t.handle||(t.handle=r.Z.createInteractionHandle()),t.timeout&&function(e){clearTimeout(e.timeout)}(t),t.shouldCancelClick=!0,n.x0=l(i.touchHistory),n.y0=d(i.touchHistory),n.dx=0,n.dy=0,e.onPanResponderGrant&&e.onPanResponderGrant(i,n),null==e.onShouldBlockNativeResponder||e.onShouldBlockNativeResponder(i,n)},onResponderReject:function(r){p(t,e.onPanResponderReject,r,n)},onResponderRelease:function(r){p(t,e.onPanResponderRelease,r,n),f(t),h._initializeGestureState(n)},onResponderStart:function(t){var r=t.touchHistory;n.numberActiveTouches=r.numberActiveTouches,e.onPanResponderStart&&e.onPanResponderStart(t,n)},onResponderMove:function(t){var r=t.touchHistory;h._updateGestureStateOnMove(n,r),e.onPanResponderMove&&e.onPanResponderMove(t,n)},onResponderEnd:function(r){var i=r.touchHistory;n.numberActiveTouches=i.numberActiveTouches,p(t,e.onPanResponderEnd,r,n)},onResponderTerminate:function(r){p(t,e.onPanResponderTerminate,r,n),f(t),h._initializeGestureState(n)},onResponderTerminationRequest:function(t){return null==e.onPanResponderTerminationRequest||e.onPanResponderTerminationRequest(t,n)},onClickCapture:function(e){!0===t.shouldCancelClick&&(e.stopPropagation(),e.preventDefault())}},getInteractionHandle:function(){return t.handle}}}};function p(e,t,n,i){e.handle&&(r.Z.clearInteractionHandle(e.handle),e.handle=null),t&&t(n,i)}function f(e){e.timeout=setTimeout((function(){e.shouldCancelClick=!1}),250)}const A=h},2669:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=function(){return Promise.resolve(!1)};const i={PERMISSIONS:{},RESULTS:{},checkPermission:r,check:r,requestPermission:r,request:r,requestMultiple:r}},6250:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(7353),i=n(6528),o=n(91),a=n(773),s=n(7294);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=(0,s.forwardRef)((function(e,t){var n=e.children,a=e.enabled,l=e.onValueChange,h=e.selectedValue,p=e.style,f=e.testID,A=(e.itemStyle,e.mode,e.prompt,function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["children","enabled","onValueChange","selectedValue","style","testID","itemStyle","mode","prompt"])),g=(0,s.useRef)(null),m=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({children:n,disabled:!1===a||void 0,onChange:function(e){var t=e.target,n=t.selectedIndex,r=t.value;l&&l(r,n)},style:[d.initial,p],testID:f,value:h},A),v=(0,o.Z)(m),y=(0,i.Z)(g,v,t);return m.ref=y,(0,r.Z)("select",m)}));l.Item=function(e){var t=e.color,n=e.label,i=e.testID,o=e.value,a={color:t};return(0,r.Z)("option",{style:a,testID:i,value:o},n)};var d=a.Z.create({initial:{fontFamily:"System",fontSize:"inherit",margin:0}});const h=l},1302:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(5998),i=function(){function e(){}return e.get=function(){return r.Z.get("window").scale},e.getFontScale=function(){return r.Z.get("window").fontScale||e.get()},e.getPixelSizeForLayoutSize=function(t){return Math.round(t*e.get())},e.roundToNearestPixel=function(t){var n=e.get();return Math.round(t*n)/n},e}()},2805:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={OS:"web",select:function(e){return"web"in e?e.web:e.default},get isTesting(){return"test"===process.env.NODE_DEV}}},7097:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Ae});var r=n(7294),i=n(6528),o=n(6508),a=function(){},s=function(){var e=!1;if(o.canUseDOM)try{var t={};Object.defineProperty(t,"passive",{get:function(){return e=!0,!1}}),window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e}();function c(){return this.cancelBubble}function u(){return this.defaultPrevented}function l(e,t){var n=function(e){return null!=e&&(s?e:Boolean(e.capture))}(t);return function(t,r){if(null==t||"function"!=typeof t.addEventListener)throw new Error("createEventHandle: called on an invalid target.");var i=t;if(null!=r){var o=function(e){return r(((t=e).nativeEvent=t,t.persist=a,t.isDefaultPrevented=u,t.isPropagationStopped=c,t));var t};return i.addEventListener(e,o,n),function(){null!=i&&i.removeEventListener(e,o,n)}}return a}}var d,h,p="keyboard",f="keyboard",A=!1,g=new Set,m="keyboard",v="mouse",y="touch",E="contextmenu",b="mousedown",_="mousemove",C="mouseup",I="pointerdown",S="pointermove",w="scroll",R="selectionchange",T="touchcancel",O="touchmove",k="touchstart",N={passive:!0},D={capture:!0,passive:!0},P=l("blur",N),x=l("focus",N),L=l("visibilitychange",D),M=l("keydown",D),B=l(I,D),F=l(S,D),U=l(E,D),j=l(b,D),V=l(_,D),Q=l(C,D),G=l(w,D),q=l(R,D),H=l(T,D),z=l(O,D),W=l(k,D);function K(){null==d&&null==h||(null!=d&&(f=d,d=null),null!=h&&(p=h,h=null),J())}function Y(e){var t=e.type;if("undefined"!=typeof window&&null!=window.PointerEvent){if(t===I)return void(p!==e.pointerType&&(f=e.pointerType,p=e.pointerType,J()));if(t===S)return void(f!==e.pointerType&&(f=e.pointerType,J()))}else{if(A||(t===b&&p!==v&&(f=v,p=v,J()),t===_&&f!==v&&(f=v,J())),t===k)return A=!0,e.touches&&e.touches.length>1&&(A=!1),void(p!==y&&(f=y,p=y,J()));t!==E&&t!==C&&t!==R&&t!==w&&t!==T&&t!==O||(A=!1)}}function J(){var e={activeModality:p,modality:f};g.forEach((function(t){t(e)}))}o.canUseDOM&&(P(window,(function(){d=f,h=p,p=m,f=m,J(),A=!1})),x(window,(function(){K()})),M(document,(function(e){e.metaKey||e.altKey||e.ctrlKey||f!==m&&(f=m,p=m,J())})),B(document,Y),F(document,Y),L(document,(function(){"hidden"!==document.visibilityState&&K()})),U(document,Y),j(document,Y),V(document,Y),Q(document,Y),H(document,Y),z(document,Y),W(document,Y),q(document,Y),G(document,Y));var Z=n(9863),X=n(7771);function $(e,t){var n=(0,X.Z)((function(){return new Map})),r=(0,X.Z)((function(){var r=l(e,t);return function(e,t){var i=n.get(e);null!=i&&i(),null==t&&n.delete(e);var o=r(e,t);return n.set(e,o),o}}));return(0,Z.Z)((function(){return function(){null!=r&&(n.forEach((function(e){e()})),n.clear()),r=null}}),[r]),r}var ee={},te={passive:!0},ne="react-gui:hover:lock",re="react-gui:hover:unlock";function ie(e,t,n){var r=document.createEvent("CustomEvent"),i=n||ee,o=i.bubbles,a=void 0===o||o,s=i.cancelable,c=void 0===s||s,u=i.detail;r.initCustomEvent(t,a,c,u),e.dispatchEvent(r)}function oe(e){var t=e.pointerType;return null!=t?t:f}var ae=n(6560),se=n(773),ce=n(7177);function ue(){return ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ue.apply(this,arguments)}function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function he(e){var t=(0,r.useState)(!1);return[t[0]||e,t[1]]}var pe=se.Z.create({root:{cursor:"pointer",touchAction:"manipulation"}}),fe=(0,r.memo)((0,r.forwardRef)((function(e,t){var n=e.accessible,o=e.children,a=e.delayLongPress,s=e.delayPressIn,c=e.delayPressOut,u=e.disabled,l=e.focusable,d=e.onBlur,h=e.onFocus,p=e.onLongPress,f=e.onPress,A=e.onPressMove,g=e.onPressIn,m=e.onPressOut,v=e.style,y=e.testOnly_pressed,E=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["accessible","children","delayLongPress","delayPressIn","delayPressOut","disabled","focusable","onBlur","onFocus","onLongPress","onPress","onPressMove","onPressIn","onPressOut","style","testOnly_pressed"]),b=he(!1),_=b[0],C=b[1],I=he(!1),S=I[0],w=I[1],R=he(!0===y),T=R[0],O=R[1],k=(0,r.useRef)(null),N=(0,i.Z)(t,k),D=(0,r.useMemo)((function(){return{delayLongPress:a,delayPressStart:s,delayPressEnd:c,disabled:u,onLongPress:p,onPress:f,onPressChange:O,onPressStart:g,onPressMove:A,onPressEnd:m}}),[a,s,c,u,p,f,g,A,m,O]),P=(0,ae.Z)(k,D);!function(e,t){var n=t.contain,r=t.disabled,i=t.onHoverStart,o=t.onHoverChange,a=t.onHoverUpdate,s=t.onHoverEnd,c=!("undefined"==typeof window||null==window.PointerEvent),u=$(c?"pointermove":"mousemove",te),l=$(c?"pointerenter":"mouseenter",te),d=$(c?"pointerleave":"mouseleave",te),h=$(ne,te),p=$(re,te);(0,Z.Z)((function(){var t=e.current;if(null!==t){var c=function(e){null!=s&&s(e),null!=o&&o(!1),u(t,null),d(t,null)},f=function(t){var r=e.current;null!=r&&"touch"!==oe(t)&&(n&&ie(r,re),c(t))},A=function(e){"touch"!==oe(e)&&null!=a&&(null==e.x&&(e.x=e.clientX),null==e.y&&(e.y=e.clientY),a(e))},g=function(e){null!=i&&i(e),null!=o&&o(!0),null!=a&&u(t,r?null:A),d(t,r?null:f)};l(t,r?null:function(t){var i=e.current;null!=i&&"touch"!==oe(t)&&(n&&ie(i,ne),g(t),h(i,r?null:function(e){e.target!==i&&c(t)}),p(i,r?null:function(e){e.target!==i&&g(t)}))})}}),[l,u,d,h,p,n,r,i,o,a,s,e])}(k,{contain:!0,disabled:u,onHoverChange:C});var x=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){de(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({disabled:u},e.accessibilityState),L={hovered:_,focused:S,pressed:T};function M(e,t){return function(n){n.nativeEvent.target===k.current&&(w(t),null!=e&&e(n))}}return r.createElement(ce.Z,ue({},E,P,{accessibilityState:x,accessible:!1!==n,focusable:!1!==l,onBlur:M(d,!1),onFocus:M(h,!0),ref:N,style:[!u&&pe.root,"function"==typeof v?v(L):v]}),"function"==typeof o?o(L):o)})));fe.displayName="Pressable";const Ae=fe},3330:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(7177),i=n(7294);const o=function(e){e.colors,e.enabled,e.onRefresh,e.progressBackgroundColor,e.progressViewOffset,e.refreshing,e.size,e.tintColor,e.title,e.titleColor;var t=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["colors","enabled","onRefresh","progressBackgroundColor","progressViewOffset","refreshing","size","tintColor","title","titleColor"]);return i.createElement(r.Z,t)}},6636:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(6508),i=n(773),o=n(7177),a=n(7294);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}var c=r.canUseDOM&&window.CSS&&window.CSS.supports&&window.CSS.supports("top: constant(safe-area-inset-top)")?"constant":"env",u=(0,a.forwardRef)((function(e,t){var n=e.style,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["style"]);return a.createElement(o.Z,s({},r,{ref:t,style:i.Z.compose(l.root,n)}))}));u.displayName="SafeAreaView";var l=i.Z.create({root:{paddingTop:c+"(safe-area-inset-top)",paddingRight:c+"(safe-area-inset-right)",paddingBottom:c+"(safe-area-inset-bottom)",paddingLeft:c+"(safe-area-inset-left)"}});const d=u},5164:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var r=n(2555),i=n.n(r),o=n(1763),a=n(3759),s=n.n(a),c=n(5998),u=n(2747),l=n(2805),d=n(3177),h=n(3853),p=n(3620),f=n.n(p),A={};const g={Mixin:{scrollResponderMixinGetInitialState:function(){return{isTouching:!1,lastMomentumScrollBeginTime:0,lastMomentumScrollEndTime:0,observedScrollSinceBecomingResponder:!1,becameResponderWhileAnimating:!1}},scrollResponderHandleScrollShouldSetResponder:function(){return this.state.isTouching},scrollResponderHandleStartShouldSetResponder:function(){return!1},scrollResponderHandleStartShouldSetResponderCapture:function(e){return this.scrollResponderIsAnimating()},scrollResponderHandleResponderReject:function(){f()(!1,"ScrollView doesn't take rejection well - scrolls anyway")},scrollResponderHandleTerminationRequest:function(){return!this.state.observedScrollSinceBecomingResponder},scrollResponderHandleTouchEnd:function(e){var t=e.nativeEvent;this.state.isTouching=0!==t.touches.length,this.props.onTouchEnd&&this.props.onTouchEnd(e)},scrollResponderHandleResponderRelease:function(e){this.props.onResponderRelease&&this.props.onResponderRelease(e);var t=d.Z.currentlyFocusedField();this.props.keyboardShouldPersistTaps||null==t||e.target===t||this.state.observedScrollSinceBecomingResponder||this.state.becameResponderWhileAnimating||(this.props.onScrollResponderKeyboardDismissed&&this.props.onScrollResponderKeyboardDismissed(e),d.Z.blurTextInput(t))},scrollResponderHandleScroll:function(e){this.state.observedScrollSinceBecomingResponder=!0,this.props.onScroll&&this.props.onScroll(e)},scrollResponderHandleResponderGrant:function(e){this.state.observedScrollSinceBecomingResponder=!1,this.props.onResponderGrant&&this.props.onResponderGrant(e),this.state.becameResponderWhileAnimating=this.scrollResponderIsAnimating()},scrollResponderHandleScrollBeginDrag:function(e){this.props.onScrollBeginDrag&&this.props.onScrollBeginDrag(e)},scrollResponderHandleScrollEndDrag:function(e){this.props.onScrollEndDrag&&this.props.onScrollEndDrag(e)},scrollResponderHandleMomentumScrollBegin:function(e){this.state.lastMomentumScrollBeginTime=Date.now(),this.props.onMomentumScrollBegin&&this.props.onMomentumScrollBegin(e)},scrollResponderHandleMomentumScrollEnd:function(e){this.state.lastMomentumScrollEndTime=Date.now(),this.props.onMomentumScrollEnd&&this.props.onMomentumScrollEnd(e)},scrollResponderHandleTouchStart:function(e){this.state.isTouching=!0,this.props.onTouchStart&&this.props.onTouchStart(e)},scrollResponderHandleTouchMove:function(e){this.props.onTouchMove&&this.props.onTouchMove(e)},scrollResponderIsAnimating:function(){return Date.now()-this.state.lastMomentumScrollEndTime<16||this.state.lastMomentumScrollEndTime<this.state.lastMomentumScrollBeginTime},scrollResponderGetScrollableNode:function(){return this.getScrollableNode?this.getScrollableNode():(0,u.Z)(this)},scrollResponderScrollTo:function(e,t,n){if("number"==typeof e)console.warn("`scrollResponderScrollTo(x, y, animated)` is deprecated. Use `scrollResponderScrollTo({x: 5, y: 5, animated: true})` instead.");else{var r=e||A;e=r.x,t=r.y,n=r.animated}var i=this.scrollResponderGetScrollableNode(),o=e||0,a=t||0;"function"==typeof i.scroll?i.scroll({top:a,left:o,behavior:n?"smooth":"auto"}):(i.scrollLeft=o,i.scrollTop=a)},scrollResponderZoomTo:function(e,t){"ios"!==l.Z.OS&&s()("zoomToRect is not implemented")},scrollResponderFlashScrollIndicators:function(){},scrollResponderScrollNativeHandleToKeyboard:function(e,t,n){this.additionalScrollOffset=t||0,this.preventNegativeScrollOffset=!!n,h.Z.measureLayout(e,(0,u.Z)(this.getInnerViewNode()),this.scrollResponderTextInputFocusError,this.scrollResponderInputMeasureAndScrollToKeyboard)},scrollResponderInputMeasureAndScrollToKeyboard:function(e,t,n,r){var i=c.Z.get("window").height;this.keyboardWillOpenTo&&(i=this.keyboardWillOpenTo.endCoordinates.screenY);var o=t-i+r+this.additionalScrollOffset;this.preventNegativeScrollOffset&&(o=Math.max(0,o)),this.scrollResponderScrollTo({x:0,y:o,animated:!0}),this.additionalOffset=0,this.preventNegativeScrollOffset=!1},scrollResponderTextInputFocusError:function(e){console.error("Error measuring text field: ",e)},UNSAFE_componentWillMount:function(){this.keyboardWillOpenTo=null,this.additionalScrollOffset=0},scrollResponderKeyboardWillShow:function(e){this.keyboardWillOpenTo=e,this.props.onKeyboardWillShow&&this.props.onKeyboardWillShow(e)},scrollResponderKeyboardWillHide:function(e){this.keyboardWillOpenTo=null,this.props.onKeyboardWillHide&&this.props.onKeyboardWillHide(e)},scrollResponderKeyboardDidShow:function(e){e&&(this.keyboardWillOpenTo=e),this.props.onKeyboardDidShow&&this.props.onKeyboardDidShow(e)},scrollResponderKeyboardDidHide:function(e){this.keyboardWillOpenTo=null,this.props.onKeyboardDidHide&&this.props.onKeyboardDidHide(e)}}};var m=n(7294),v=n(773),y=n(7177),E=n(6528);function b(e){return{nativeEvent:{contentOffset:{get x(){return e.target.scrollLeft},get y(){return e.target.scrollTop}},contentSize:{get height(){return e.target.scrollHeight},get width(){return e.target.scrollWidth}},layoutMeasurement:{get height(){return e.target.offsetHeight},get width(){return e.target.offsetWidth}}},timeStamp:Date.now()}}var _=(0,m.forwardRef)((function(e,t){var n=e.accessibilityLabel,r=e.accessibilityRole,i=e.accessibilityState,o=e.children,a=e.importantForAccessibility,s=e.nativeID,c=e.onLayout,u=e.onScroll,l=e.onTouchMove,d=e.onWheel,h=e.pointerEvents,p=e.scrollEnabled,f=void 0===p||p,A=e.scrollEventThrottle,g=void 0===A?0:A,v=e.showsHorizontalScrollIndicator,_=e.showsVerticalScrollIndicator,I=e.style,S=e.dataSet,w=e.testID,R=(0,m.useRef)({isScrolling:!1,scrollLastTick:0}),T=(0,m.useRef)(null),O=(0,m.useRef)(null);function k(e){return function(t){f&&e&&e(t)}}function N(e){R.current.scrollLastTick=Date.now(),u&&u(b(e))}var D=!1===v||!1===_;return m.createElement(y.Z,{accessibilityLabel:n,accessibilityRole:r,accessibilityState:i,children:o,dataSet:S,importantForAccessibility:a,nativeID:s,onLayout:c,onScroll:function(e){var t,n,r;e.stopPropagation(),e.target===O.current&&(e.persist(),null!=T.current&&clearTimeout(T.current),T.current=setTimeout((function(){!function(e){R.current.isScrolling=!1,u&&u(b(e))}(e)}),100),R.current.isScrolling?(t=R.current.scrollLastTick,n=g,r=Date.now()-t,n>0&&r>=n&&N(e)):function(e){R.current.isScrolling=!0,N(e)}(e))},onTouchMove:k(l),onWheel:k(d),pointerEvents:h,ref:(0,E.Z)(O,t),style:[I,!f&&C.scrollDisabled,D&&C.hideScrollbar],testID:w})})),C=v.Z.create({scrollDisabled:{overflowX:"hidden",overflowY:"hidden",touchAction:"none"},hideScrollbar:{scrollbarWidth:"none"}});const I=_;function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(){return T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T.apply(this,arguments)}var O={},k=i()({displayName:"ScrollView",mixins:[g.Mixin],getInitialState:function(){return this.scrollResponderMixinGetInitialState()},flashScrollIndicators:function(){this.scrollResponderFlashScrollIndicators()},setNativeProps:function(e){this._scrollNodeRef&&this._scrollNodeRef.setNativeProps(e)},getScrollResponder:function(){return this},getScrollableNode:function(){return this._scrollNodeRef},getInnerViewNode:function(){return this._innerViewRef},scrollTo:function(e,t,n){if("number"==typeof e)console.warn("`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, animated: true})` instead.");else{var r=e||O;t=r.x,e=r.y,n=r.animated}this.getScrollResponder().scrollResponderScrollTo({x:t||0,y:e||0,animated:!1!==n})},scrollToEnd:function(e){var t=!1!==(e&&e.animated),n=this.props.horizontal,r=this.getScrollResponder(),i=r.scrollResponderGetScrollableNode(),o=n?i.scrollWidth:0,a=n?0:i.scrollHeight;r.scrollResponderScrollTo({x:o,y:a,animated:t})},render:function(){var e=this.props,t=e.contentContainerStyle,n=e.horizontal,r=e.onContentSizeChange,i=e.refreshControl,o=e.stickyHeaderIndices,a=e.pagingEnabled,c=(e.keyboardDismissMode,e.onScroll,function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["contentContainerStyle","horizontal","onContentSizeChange","refreshControl","stickyHeaderIndices","pagingEnabled","keyboardDismissMode","onScroll"])),u={};r&&(u={onLayout:this._handleContentOnLayout});var l=!n&&Array.isArray(o),d=l||a?m.Children.map(this.props.children,(function(e,t){var n=l&&o.indexOf(t)>-1;return null!=e&&(n||a)?m.createElement(y.Z,{style:v.Z.compose(n&&D.stickyHeader,a&&D.pagingEnabledChild)},e):e})):this.props.children,h=m.createElement(y.Z,T({},u,{children:d,collapsable:!1,ref:this._setInnerViewRef,style:v.Z.compose(n&&D.contentContainerHorizontal,t)})),p=n?D.baseHorizontal:D.baseVertical,f=n?D.pagingEnabledHorizontal:D.pagingEnabledVertical,A=w({},c,{style:[p,a&&f,this.props.style],onTouchStart:this.scrollResponderHandleTouchStart,onTouchMove:this.scrollResponderHandleTouchMove,onTouchEnd:this.scrollResponderHandleTouchEnd,onScrollBeginDrag:this.scrollResponderHandleScrollBeginDrag,onScrollEndDrag:this.scrollResponderHandleScrollEndDrag,onMomentumScrollBegin:this.scrollResponderHandleMomentumScrollBegin,onMomentumScrollEnd:this.scrollResponderHandleMomentumScrollEnd,onStartShouldSetResponder:this.scrollResponderHandleStartShouldSetResponder,onStartShouldSetResponderCapture:this.scrollResponderHandleStartShouldSetResponderCapture,onScrollShouldSetResponder:this.scrollResponderHandleScrollShouldSetResponder,onScroll:this._handleScroll,onResponderGrant:this.scrollResponderHandleResponderGrant,onResponderTerminationRequest:this.scrollResponderHandleTerminationRequest,onResponderTerminate:this.scrollResponderHandleTerminate,onResponderRelease:this.scrollResponderHandleResponderRelease,onResponderReject:this.scrollResponderHandleResponderReject}),g=I;return s()(void 0!==g,"ScrollViewClass must not be undefined"),i?m.cloneElement(i,{style:A.style},m.createElement(g,T({},A,{ref:this._setScrollNodeRef,style:p}),h)):m.createElement(g,T({},A,{ref:this._setScrollNodeRef}),h)},_handleContentOnLayout:function(e){var t=e.nativeEvent.layout,n=t.width,r=t.height;this.props.onContentSizeChange(n,r)},_handleScroll:function(e){"on-drag"===this.props.keyboardDismissMode&&(0,o.Z)(),this.scrollResponderHandleScroll(e)},_setInnerViewRef:function(e){this._innerViewRef=e},_setScrollNodeRef:function(e){this._scrollNodeRef=e}}),N={flexGrow:1,flexShrink:1,transform:[{translateZ:0}],WebkitOverflowScrolling:"touch"},D=v.Z.create({baseVertical:w({},N,{flexDirection:"column",overflowX:"hidden",overflowY:"auto"}),baseHorizontal:w({},N,{flexDirection:"row",overflowX:"auto",overflowY:"hidden"}),contentContainerHorizontal:{flexDirection:"row"},stickyHeader:{position:"sticky",top:0,zIndex:10},pagingEnabledHorizontal:{scrollSnapType:"x mandatory"},pagingEnabledVertical:{scrollSnapType:"y mandatory"},pagingEnabledChild:{scrollSnapAlign:"start"}});const P=k},7545:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var r=n(2805),i=n(7294),o=n(7177),a=n(7967),s=n(3759),c=n.n(s);function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var A=function(e){f(n,e);var t=n.prototype;function n(t,n){var r;return(r=e.call(this,t,n)||this)._keyExtractor=function(e,t){var n=r._subExtractor(t);return n&&n.key||String(t)},r._convertViewable=function(e){c()(null!=e.index,"Received a broken ViewToken");var t=r._subExtractor(e.index);if(!t)return null;var n=t.section.keyExtractor||r.props.keyExtractor;return d({},e,{index:t.index,key:n(e.item,t.index),section:t.section})},r._onViewableItemsChanged=function(e){var t=e.viewableItems,n=e.changed;r.props.onViewableItemsChanged&&r.props.onViewableItemsChanged({viewableItems:t.map(r._convertViewable,p(r)).filter(Boolean),changed:n.map(r._convertViewable,p(r)).filter(Boolean)})},r._renderItem=function(e){var t=e.item,n=e.index,o=r._subExtractor(n);if(!o)return null;var a=o.index;if(null==a){var s=o.section;if(!0===o.header){var u=r.props.renderSectionHeader;return u?u({section:s}):null}var l=r.props.renderSectionFooter;return l?l({section:s}):null}var d=o.section.renderItem||r.props.renderItem,h=r._getSeparatorComponent(n,o);return c()(d,"no renderItem!"),i.createElement(g,{SeparatorComponent:h,LeadingSeparatorComponent:0===a?r.props.SectionSeparatorComponent:void 0,cellKey:o.key,index:a,item:t,leadingItem:o.leadingItem,leadingSection:o.leadingSection,onUpdateSeparator:r._onUpdateSeparator,prevCellKey:(r._subExtractor(n-1)||{}).key,ref:function(e){r._cellRefs[o.key]=e},renderItem:d,section:o.section,trailingItem:o.trailingItem,trailingSection:o.trailingSection})},r._onUpdateSeparator=function(e,t){var n=r._cellRefs[e];n&&n.updateSeparatorProps(t)},r._cellRefs={},r._captureRef=function(e){r._listRef=e},r.state=r._computeState(t),r}return t.scrollToLocation=function(e){for(var t=e.itemIndex,n=0;n<e.sectionIndex;n++)t+=this.props.getItemCount(this.props.sections[n].data)+2;var r=0;e.itemIndex>0&&this.props.stickySectionHeadersEnabled&&(r=this._listRef._getFrameMetricsApprox(t-e.itemIndex).length);var i=d({},e,{viewOffset:r,index:t});this._listRef.scrollToIndex(i)},t.getListRef=function(){return this._listRef},t.UNSAFE_componentWillReceiveProps=function(e){this.setState(this._computeState(e))},t._computeState=function(e){var t=e.ListHeaderComponent?1:0,n=[],r=e.sections?e.sections.reduce((function(r,i){return n.push(r+t),r+e.getItemCount(i.data)+2}),0):0;return{childProps:d({},e,{renderItem:this._renderItem,ItemSeparatorComponent:void 0,data:e.sections,getItemCount:function(){return r},getItem:function(t,n){return function(e,t,n){if(!t)return null;for(var r=n-1,i=0;i<t.length;i++){var o=t[i],a=o.data,s=e.getItemCount(a);if(-1===r||r===s)return o;if(r<s)return e.getItem(a,r);r-=s+2}return null}(e,t,n)},keyExtractor:this._keyExtractor,onViewableItemsChanged:e.onViewableItemsChanged?this._onViewableItemsChanged:void 0,stickyHeaderIndices:e.stickySectionHeadersEnabled?n:void 0})}},t.render=function(){return i.createElement(a.Z,u({},this.state.childProps,{ref:this._captureRef}))},t._subExtractor=function(e){for(var t=e,n=this.props,r=n.getItem,i=n.getItemCount,o=n.keyExtractor,a=n.sections,s=0;s<a.length;s++){var c=a[s],u=c.data,l=c.key||String(s);if(!((t-=1)>=i(u)+1))return-1===t?{section:c,key:l+":header",index:null,header:!0,trailingSection:a[s+1]}:t===i(u)?{section:c,key:l+":footer",index:null,header:!1,trailingSection:a[s+1]}:{section:c,key:l+":"+(c.keyExtractor||o)(r(u,t),t),index:t,leadingItem:r(u,t-1),leadingSection:a[s-1],trailingItem:r(u,t+1),trailingSection:a[s+1]};t-=i(u)+1}},t._getSeparatorComponent=function(e,t){if(!(t=t||this._subExtractor(e)))return null;var n=t.section.ItemSeparatorComponent||this.props.ItemSeparatorComponent,r=this.props.SectionSeparatorComponent,i=e===this.state.childProps.getItemCount()-1,o=t.index===this.props.getItemCount(t.section.data)-1;return r&&o?r:!n||o||i?null:n},n}(i.PureComponent);A.defaultProps=d({},a.Z.defaultProps,{data:[]});var g=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={separatorProps:{highlighted:!1,leadingItem:t.props.item,leadingSection:t.props.leadingSection,section:t.props.section,trailingItem:t.props.trailingItem,trailingSection:t.props.trailingSection},leadingSeparatorProps:{highlighted:!1,leadingItem:t.props.leadingItem,leadingSection:t.props.leadingSection,section:t.props.section,trailingItem:t.props.item,trailingSection:t.props.trailingSection}},t._separators={highlight:function(){["leading","trailing"].forEach((function(e){return t._separators.updateProps(e,{highlighted:!0})}))},unhighlight:function(){["leading","trailing"].forEach((function(e){return t._separators.updateProps(e,{highlighted:!1})}))},updateProps:function(e,n){var r=t.props,i=r.LeadingSeparatorComponent,o=r.cellKey,a=r.prevCellKey;"leading"===e&&null!=i?t.setState((function(e){return{leadingSeparatorProps:d({},e.leadingSeparatorProps,{},n)}})):t.props.onUpdateSeparator("leading"===e&&a||o,n)}},t}f(t,e),t.getDerivedStateFromProps=function(e,t){return{separatorProps:d({},t.separatorProps,{leadingItem:e.item,leadingSection:e.leadingSection,section:e.section,trailingItem:e.trailingItem,trailingSection:e.trailingSection}),leadingSeparatorProps:d({},t.leadingSeparatorProps,{leadingItem:e.leadingItem,leadingSection:e.leadingSection,section:e.section,trailingItem:e.item,trailingSection:e.trailingSection})}};var n=t.prototype;return n.updateSeparatorProps=function(e){this.setState((function(t){return{separatorProps:d({},t.separatorProps,{},e)}}))},n.render=function(){var e=this.props,t=e.LeadingSeparatorComponent,n=e.SeparatorComponent,r=e.item,a=e.index,s=e.section,c=this.props.renderItem({item:r,index:a,section:s,separators:this._separators}),u=t&&i.createElement(t,this.state.leadingSeparatorProps),l=n&&i.createElement(n,this.state.separatorProps);return u||l?i.createElement(o.Z,null,u,c,l):c},t}(i.Component);const m=A;function v(){return v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},m.defaultProps,{stickySectionHeadersEnabled:"ios"===r.Z.OS}),_=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this)._captureRef=function(e){t._wrapperListRef=e},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.scrollToLocation=function(e){null!=this._wrapperListRef&&this._wrapperListRef.scrollToLocation(e)},o.recordInteraction=function(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();e&&e.recordInteraction()},o.flashScrollIndicators=function(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();e&&e.flashScrollIndicators()},o.getScrollResponder=function(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();if(e)return e.getScrollResponder()},o.getScrollableNode=function(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();if(e)return e.getScrollableNode()},o.setNativeProps=function(e){var t=this._wrapperListRef&&this._wrapperListRef.getListRef();t&&t.setNativeProps(e)},o.render=function(){return i.createElement(m,v({},this.props,{ref:this._captureRef,getItemCount:function(e){return e.length},getItem:function(e,t){return e[t]}}))},r}(i.PureComponent);_.defaultProps=b;const C=_},2357:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=function(){};function i(){return null}i.setBackgroundColor=r,i.setBarStyle=r,i.setHidden=r,i.setNetworkActivityIndicatorVisible=r,i.setTranslucent=r;const o=i},4989:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r={},i={},o=1,a=function(e){return"r-"+e},s=function(){function e(){}return e.register=function(e){var t=o++,n=a(t);return i[n]=e,t},e.getByID=function(e){if(!e)return r;var t=a(e);return i[t]||(console.warn("Invalid style with id `"+e+"`. Skipping ..."),r)},e}()},2452:(e,t,n)=>{"use strict";n.d(t,{Bt:()=>o,CT:()=>r,Xv:()=>a,fO:()=>s,uL:()=>i});var r="react-native-stylesheet",i={reset:0,modality:.1,classicReset:.5,classic:1,atomic:2.2,custom:{borderColor:2,borderRadius:2,borderStyle:2,borderWidth:2,display:2,flex:2,margin:2,overflow:2,overscrollBehavior:2,padding:2,marginHorizontal:2.1,marginVertical:2.1,paddingHorizontal:2.1,paddingVertical:2.1}},o={borderColor:["borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],borderStyle:["borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle"],borderWidth:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],margin:["marginTop","marginRight","marginBottom","marginLeft"],marginHorizontal:["marginRight","marginLeft"],marginVertical:["marginTop","marginBottom"],overflow:["overflowX","overflowY"],overscrollBehavior:["overscrollBehaviorX","overscrollBehaviorY"],padding:["paddingTop","paddingRight","paddingBottom","paddingLeft"],paddingHorizontal:["paddingRight","paddingLeft"],paddingVertical:["paddingTop","paddingBottom"]},a="monospace,monospace",s='-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif'},9150:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(6730);const i={create:function(e,t){return r.Z.createCSS(e,t)}}},280:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(4989);n(3759);const i=function e(t){if(t){if(!Array.isArray(t))return function(e){return"number"==typeof e?r.Z.getByID(e):e}(t);for(var n={},i=0,o=t.length;i<o;++i){var a=e(t[i]);if(a)for(var s in a){var c=a[s];n[s]=c}}return n}}},773:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(6508),i=n(4989),o=n(280),a={position:"absolute",left:0,right:0,top:0,bottom:0};const s={absoluteFill:i.Z.register(a),absoluteFillObject:a,compose:function(e,t){return e&&t?[e,t]:e||t},create:function(e){var t={};return Object.keys(e).forEach((function(n){var r=e[n]&&i.Z.register(e[n]);t[n]=r})),t},flatten:o.Z,hairlineWidth:1};r.canUseDOM&&window.__REACT_DEVTOOLS_GLOBAL_HOOK__&&(window.__REACT_DEVTOOLS_GLOBAL_HOOK__.resolveRNStyle=s.flatten);const c=s},5831:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(8416),i=n(5804),o={backgroundColor:!0,borderColor:!0,borderTopColor:!0,borderRightColor:!0,borderBottomColor:!0,borderLeftColor:!0,color:!0,shadowColor:!0,textDecorationColor:!0,textShadowColor:!0};function a(e,t){var n=e;return null!=t&&r.Z[t]||"number"!=typeof e?null!=t&&o[t]&&(n=(0,i.Z)(e)):n=e+"px",n}},3911:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(5804),i=n(5831),o={height:0,width:0};const a=function(e){var t=e.shadowColor,n=e.shadowOffset,a=e.shadowOpacity,s=e.shadowRadius,c=n||o,u=c.height,l=c.width,d=(0,i.Z)(l),h=(0,i.Z)(u),p=(0,i.Z)(s||0),f=(0,r.Z)(t||"black",a);if(null!=f&&null!=d&&null!=h&&null!=p)return d+" "+h+" "+p+" "+f}},6730:(e,t,n)=>{"use strict";n.d(t,{Z:()=>we});var r=n(6508),i=n(5831),o=n(3911),a={height:0,width:0};const s=function(e){var t,n,r,s,c=e.shadowColor,u=e.shadowOffset,l=e.shadowOpacity,d=e.shadowRadius,h=e.textShadowColor,p=e.textShadowOffset,f=e.textShadowRadius,A=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["shadowColor","shadowOffset","shadowOpacity","shadowRadius","textShadowColor","textShadowOffset","textShadowRadius"]);return null==c&&null==u&&null==l&&null==d||(t=A,r=(n=e).boxShadow,null!=(s=(0,o.Z)(n))&&(t.boxShadow=r?r+", "+s:s)),null==h&&null==p&&null==f||function(e,t){var n=t.textShadowColor,r=t.textShadowOffset,o=t.textShadowRadius,s=r||a,c=s.height,u=s.width,l=o||0,d=(0,i.Z)(u),h=(0,i.Z)(c),p=(0,i.Z)(l),f=(0,i.Z)(n,"textShadowColor");!f||0===c&&0===u&&0===l||null==d||null==h||null==p||(e.textShadow=d+" "+h+" "+p+" "+f)}(A,e),A};var c=Array.prototype.slice;function u(e){return Object.keys(e).map(Number).sort((function(e,t){return e>t?1:-1}))}var l=/\s*([,])\s*/g;function d(e){var t=e.split("{")[0].trim();return""!==t?t.replace(l,"$1"):null}const h=function(e){return function e(t,n){for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?e(i,n):null!=i&&!1!==i&&n.push(i)}return n}(e,[])};var p=n(280),f=n(6218),A=n(3145),g={},m="borderTopLeftRadius",v="borderTopRightRadius",y="borderBottomLeftRadius",E="borderBottomRightRadius",b="borderLeftColor",_="borderLeftStyle",C="borderLeftWidth",I="borderRightColor",S="borderRightStyle",w="borderRightWidth",R="right",T="marginLeft",O="marginRight",k="paddingLeft",N="paddingRight",D="left",P={borderTopLeftRadius:v,borderTopRightRadius:m,borderBottomLeftRadius:E,borderBottomRightRadius:y,borderLeftColor:I,borderLeftStyle:S,borderLeftWidth:w,borderRightColor:b,borderRightStyle:_,borderRightWidth:C,left:R,marginLeft:O,marginRight:T,paddingLeft:N,paddingRight:k,right:D},x={borderTopStartRadius:m,borderTopEndRadius:v,borderBottomStartRadius:y,borderBottomEndRadius:E,borderStartColor:b,borderStartStyle:_,borderStartWidth:C,borderEndColor:I,borderEndStyle:S,borderEndWidth:w,end:R,marginStart:T,marginEnd:O,paddingStart:k,paddingEnd:N,start:D},L={clear:!0,float:!0,textAlign:!0},M=function(e){return(0,A.Z)(e,-1)};const B=function(e){var t=f.Z.doLeftAndRightSwapInRTL,n=f.Z.isRTL,r=e||g,i={},o={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){var s=r[a],c=a,u=s;if(x.hasOwnProperty(a)){var l=x[a];c=n?P[l]:l}else n&&t&&P[a]&&(c=P[a]);if(L.hasOwnProperty(a)&&("start"===s?u=n?"right":"left":"end"===s?u=n?"left":"right":n&&t&&("left"===s?u="right":"right"===s&&(u="left"))),"transitionProperty"===c)if(x.hasOwnProperty(u)){var d=x[s];u=n?P[d]:d}else n&&t&&P[s]&&(u=P[s]);n&&"textShadowOffset"===c?(o[c]=u,o[c].width=M(u.width)):i[c]||(o[c]=u),x[a]&&(i[c]=!0)}return o};var F=n(2452),U={},j=!r.canUseDOM||null!=window.CSS&&null!=window.CSS.supports&&(window.CSS.supports("text-decoration-line","none")||window.CSS.supports("-webkit-text-decoration-line","none")),V=function(e){var t=Object.keys(e)[0],n=e[t];return"matrix"===t||"matrix3d"===t?t+"("+n.join(",")+")":t+"("+(0,i.Z)(n,t)+")"};const Q=function(e){if(!e)return U;var t={};return Object.keys(e).sort().forEach((function(n){var r=(0,i.Z)(e[n],n);if(null!=r)switch(n){case"aspectRatio":case"elevation":case"overlayColor":case"resizeMode":case"tintColor":break;case"backgroundClip":"text"===r&&(t.backgroundClip=r,t.WebkitBackgroundClip=r);break;case"flex":-1===r?(t.flexGrow=0,t.flexShrink=1,t.flexBasis="auto"):t.flex=r;break;case"font":t[n]=r.replace("System",F.fO);break;case"fontFamily":if(r.indexOf("System")>-1){var o=r.split(/,\s*/);o[o.indexOf("System")]=F.fO,t[n]=o.join(",")}else t[n]="monospace"===r?F.Xv:r;break;case"fontVariant":Array.isArray(r)&&r.length>0&&(t.fontVariant=r.join(" "));break;case"textAlignVertical":t.verticalAlign="center"===r?"middle":r;break;case"textDecorationLine":j?t.textDecorationLine=r:t.textDecoration=r;break;case"transform":case"transformMatrix":!function(e,t){var n=t.transform;Array.isArray(t.transform)&&(n=t.transform.map(V).join(" ")),e.transform=n}(t,e);break;case"writingDirection":t.direction=r;break;default:var a=F.Bt[n];a?a.forEach((function(n,i){void 0===e[n]&&(t[n]=r)})):t[n]=Array.isArray(r)?r.join(","):r}})),t};var G=n(5477),q=n(9668),H=n(1505),z=n(7951),W=n(1385),K=n(9432),Y=n(4223),J=n(8254),Z=n(3133),X=n(8538),$=n(8928),ee=n(3716),te=n(109),ne=n(2564),re=n(2758),ie=n(6327),oe=["Webkit"],ae=["Moz"],se=["ms"],ce=["Webkit","Moz"],ue=["Webkit","ms"],le=["Webkit","Moz","ms"];const de={plugins:[H.Z,z.Z,W.Z,K.Z,Y.Z,J.Z,Z.Z,X.Z,$.Z,ee.Z,te.Z,ne.Z,re.Z,ie.Z],prefixMap:{animation:oe,animationDelay:oe,animationDirection:oe,animationFillMode:oe,animationDuration:oe,animationIterationCount:oe,animationName:oe,animationPlayState:oe,animationTimingFunction:oe,appearance:ce,userSelect:le,textEmphasisPosition:oe,textEmphasis:oe,textEmphasisStyle:oe,textEmphasisColor:oe,boxDecorationBreak:oe,clipPath:oe,maskImage:oe,maskMode:oe,maskRepeat:oe,maskPosition:oe,maskClip:oe,maskOrigin:oe,maskSize:oe,maskComposite:oe,mask:oe,maskBorderSource:oe,maskBorderMode:oe,maskBorderSlice:oe,maskBorderWidth:oe,maskBorderOutset:oe,maskBorderRepeat:oe,maskBorder:oe,maskType:oe,textDecorationStyle:oe,textDecorationSkip:oe,textDecorationLine:oe,textDecorationColor:oe,filter:oe,fontFeatureSettings:oe,breakAfter:le,breakBefore:le,breakInside:le,columnCount:ce,columnFill:ce,columnGap:ce,columnRule:ce,columnRuleColor:ce,columnRuleStyle:ce,columnRuleWidth:ce,columns:ce,columnSpan:ce,columnWidth:ce,writingMode:ue,flex:ue,flexBasis:oe,flexDirection:ue,flexGrow:oe,flexFlow:ue,flexShrink:oe,flexWrap:ue,alignContent:oe,alignItems:oe,alignSelf:oe,justifyContent:oe,order:oe,transform:oe,transformOrigin:oe,transformOriginX:oe,transformOriginY:oe,backfaceVisibility:oe,perspective:oe,perspectiveOrigin:oe,transformStyle:oe,transformOriginZ:oe,backdropFilter:oe,fontKerning:oe,scrollSnapType:ue,scrollSnapPointsX:ue,scrollSnapPointsY:ue,scrollSnapDestination:ue,scrollSnapCoordinate:ue,shapeImageThreshold:oe,shapeImageMargin:oe,shapeImageOutside:oe,hyphens:le,flowInto:ue,flowFrom:ue,regionFragment:ue,textOrientation:oe,textAlignLast:ae,tabSize:ae,wrapFlow:se,wrapThrough:se,wrapMargin:se,touchAction:se,textSizeAdjust:["ms","Webkit"],borderImage:oe,borderImageOutset:oe,borderImageRepeat:oe,borderImageSlice:oe,borderImageSource:oe,borderImageWidth:oe,transitionDelay:oe,transitionDuration:oe,transitionProperty:oe,transitionTimingFunction:oe}};var he=(0,q.Z)(de);const pe=he;function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ge={get:function(e,t){if(null!=ge[e]&&ge[e].hasOwnProperty(t)&&null!=ge[e][t])return ge[e][t]},set:function(e,t,n){return null==ge[e]&&(ge[e]={}),ge[e][t]=n}};function me(e){return Object.keys(e).sort().reduce((function(t,n){var r=e[n];if(null!=r){var i=ve(r,n),o=ge.get(n,i);if(null!=o)t[o.identifier]=o;else{var a=Ee("r",n,r),s=function(e,t,n){var r=[],i="."+e;switch(t){case"animationKeyframes":var o=be(n),a=o.animationNames,s=o.rules,c=ye({animationName:a.join(",")});r.push.apply(r,[""+i+c].concat(s));break;case"placeholderTextColor":var u=ye({color:n,opacity:1});r.push(i+"::-webkit-input-placeholder"+u,i+"::-moz-placeholder"+u,i+":-ms-input-placeholder"+u,i+"::placeholder"+u);break;case"pointerEvents":var l,d=n;if("auto"===n||"box-only"===n){if(d="auto!important","box-only"===n){var h,p=ye(((h={})[t]="none",h));r.push(i+">*"+p)}}else if(("none"===n||"box-none"===n)&&(d="none!important","box-none"===n)){var f,A=ye(((f={})[t]="auto",f));r.push(i+">*"+A)}var g=ye(((l={})[t]=d,l));r.push(""+i+g);break;case"scrollbarWidth":var m;"none"===n&&r.push(i+"::-webkit-scrollbar{display:none}");var v=ye(((m={})[t]=n,m));r.push(""+i+v);break;default:var y,E=ye(((y={})[t]=n,y));r.push(""+i+E)}return r}(a,n,r),c=ge.set(n,i,{property:n,value:ve(r,n),identifier:a,rules:s});t[a]=c}}return t}),{})}function ve(e,t){var n=(0,i.Z)(e,t);return"string"!=typeof n?JSON.stringify(n||""):n}function ye(e){var t=pe(Q(e));return"{"+Object.keys(t).map((function(e){var n=t[e],r=(0,G.default)(e);return Array.isArray(n)?n.map((function(e){return r+":"+e})).join(";"):r+":"+n})).sort().join(";")+";}"}function Ee(e,t,n){return e+"-"+function(e,t){for(var n,r=e.length,i=1^r,o=0;r>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(n>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++o;switch(r){case 3:i^=(255&e.charCodeAt(o+2))<<16;case 2:i^=(255&e.charCodeAt(o+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(o)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0}(t+ve(n,t)).toString(36)}function be(e){if("number"==typeof e)throw new Error("Invalid CSS keyframes type: "+typeof e);var t=[],n=[];return(Array.isArray(e)?e:[e]).forEach((function(e){if("string"==typeof e)t.push(e);else{var r=function(e){var t=Ee("r","animation",e),n="{"+Object.keys(e).map((function(t){return""+t+ye(e[t])})).join("")+"}",r=["-webkit-",""].map((function(e){return"@"+e+"keyframes "+t+n}));return{identifier:t,rules:r}}(e),i=r.identifier,o=r.rules;t.push(i),n.push.apply(n,o)}})),{animationNames:t,rules:n}}const _e=["html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgba(0,0,0,0);}","body{margin:0;}","button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0;}","input::-webkit-inner-spin-button,input::-webkit-outer-spin-button,input::-webkit-search-cancel-button,input::-webkit-search-decoration,input::-webkit-search-results-button,input::-webkit-search-results-decoration{display:none;}"];var Ce="data-focusvisible-polyfill";var Ie=function(e){return"rn-"+e},Se=function(){var e,t,n,i={css:{},ltr:{},rtl:{},rtlNoSwap:{}},o=function(){e={css:{},ltr:{},rtl:{},rtlNoSwap:{}},t=function(e){var t,n={},r={};function i(e,t,r){var i=u(n),o=i.indexOf(t)+1,a=i[o],s=null!=a&&null!=n[a].start?n[a].start:e.cssRules.length,c=function(e,t,n){try{return e.insertRule(t,n),!0}catch(e){return!1}}(e,r,s);if(c){null==n[t].start&&(n[t].start=s);for(var l=o;l<i.length;l+=1){var d=i[l],h=n[d].start;n[d].start=h+1}}return c}null!=e&&c.call(e.cssRules).forEach((function(e,i){var o=e.cssText;if(o.indexOf("stylesheet-group")>-1)t=function(e){return Number(e.selectorText.split(/["']/)[1])}(e),n[t]={start:i,rules:[o]};else{var a=d(o);null!=a&&(r[a]=!0,n[t].rules.push(o))}}));var o={getTextContent:function(){return u(n).map((function(e){return n[e].rules.join("\n")})).join("\n")},insert:function(t,o){var a=Number(o);if(null==n[a]){var s=function(e){return'[stylesheet-group="'+e+'"]{}'}(a);n[a]={start:null,rules:[s]},null!=e&&i(e,a,s)}var c=d(t);null!=c&&null==r[c]&&(r[c]=!0,n[a].rules.push(t),null!=e&&(i(e,a,t)||n[a].rules.pop()))}};return o}(function(e){if(r.canUseDOM){var t=document.getElementById(e);if(null!=t)return t.sheet;var n=document.createElement("style");n.setAttribute("id",e);var i=document.head;return i&&i.insertBefore(n,i.firstChild),n.sheet}return null}(F.CT)),n={},function(e){if(e(":focus:not([data-focusvisible-polyfill]){outline: none;}"),r.canUseDOM){var t=!0,n=!1,i=null,o={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};document.addEventListener("keydown",(function(e){"Tab"!==e.key&&(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)||(a(document.activeElement)&&s(document.activeElement),t=!0)}),!0),document.addEventListener("mousedown",u,!0),document.addEventListener("pointerdown",u,!0),document.addEventListener("touchstart",u,!0),document.addEventListener("focus",(function(e){var n,r,i,c;a(e.target)&&(t||(r=(n=e.target).type,i=n.tagName,c=n.readOnly,"INPUT"===i&&o[r]&&!c||"TEXTAREA"===i&&!c||n.isContentEditable))&&s(e.target)}),!0),document.addEventListener("blur",(function(e){a(e.target)&&e.target.hasAttribute(Ce)&&(n=!0,window.clearTimeout(i),i=window.setTimeout((function(){n=!1,window.clearTimeout(i)}),100),c(e.target))}),!0),document.addEventListener("visibilitychange",(function(e){"hidden"===document.visibilityState&&(n&&(t=!0),l())}),!0),l()}function a(e){return!!(e&&e!==document&&"HTML"!==e.nodeName&&"BODY"!==e.nodeName&&"classList"in e&&"contains"in e.classList)}function s(e){e.hasAttribute(Ce)||e.setAttribute(Ce,!0)}function c(e){e.removeAttribute(Ce)}function u(e){!0===t&&function(){for(var e=document.querySelectorAll("[data-focusvisible-polyfill]"),t=0;t<e.length;t+=1)c(e[t])}(),t=!1}function l(){document.addEventListener("mousemove",d),document.addEventListener("mousedown",d),document.addEventListener("mouseup",d),document.addEventListener("pointermove",d),document.addEventListener("pointerdown",d),document.addEventListener("pointerup",d),document.addEventListener("touchmove",d),document.addEventListener("touchstart",d),document.addEventListener("touchend",d)}function d(e){"HTML"!==e.target.nodeName&&(t=!1,document.removeEventListener("mousemove",d),document.removeEventListener("mousedown",d),document.removeEventListener("mouseup",d),document.removeEventListener("pointermove",d),document.removeEventListener("pointerdown",d),document.removeEventListener("pointerup",d),document.removeEventListener("touchmove",d),document.removeEventListener("touchstart",d),document.removeEventListener("touchend",d))}}((function(e){return t.insert(e,F.uL.modality)})),_e.forEach((function(e){t.insert(e,F.uL.reset)}))};function a(r){var i=f.Z.doLeftAndRightSwapInRTL,o=f.Z.isRTL?i?"rtl":"rtlNoSwap":"ltr";if(!e[o][r]){var a=me(s(B((0,p.Z)(r))));Object.keys(a).forEach((function(e){var r=a[e],i=r.identifier,o=r.property,s=r.rules,c=r.value;!function(e,t,r){n[t]||(n[t]={}),n[t][r]=e}(i,o,c),s.forEach((function(e){var n=F.uL.custom[o]||F.uL.atomic;t.insert(e,n)}))})),e[o][r]=!0}}function l(e,r){var o=f.Z.doLeftAndRightSwapInRTL,a=f.Z.isRTL?o?"rtl":"rtlNoSwap":"ltr";if(null!=r&&null!=i[a][r])return i[a][r];var c=(0,p.Z)(e),u=s(B(c)),l=Object.keys(u).sort().reduce((function(e,r){var i=u[r];if(null!=i){var o=function(e,t){var r=ve(t,e);return n[e]&&n[e].hasOwnProperty(r)&&n[e][r]}(r,i);if(o)e.classList.push(o);else if("animationKeyframes"===r||"placeholderTextColor"===r||"pointerEvents"===r||"scrollbarWidth"===r){var a,s=me(((a={})[r]=i,a));Object.keys(s).forEach((function(n){var r=s[n],i=r.identifier,o=r.rules;e.classList.push(i),o.forEach((function(e){t.insert(e,F.uL.atomic)}))}))}else e.style||(e.style={}),e.style[r]=i}return e}),{classList:[]});return l.style&&(l.style=function(e){return function(e){var t=he(e);return Object.keys(t).forEach((function(e){var n=t[e];Array.isArray(n)&&(t[e]=n[n.length-1])})),t}(Q(e))}(l.style)),null!=r&&(i[a][r]=l),l}return o(),{getStyleSheet:function(){var e=t.getTextContent();return r.canUseDOM||o(),{id:F.CT,textContent:e}},createCSS:function(e,t){var n={};return Object.keys(e).forEach((function(r){var o=function(e,t){var n,r,i=Ee("css",t,e),o=e.animationKeyframes,a=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["animationKeyframes"]),s=[],c="."+i;if(null!=o){var u=be(o),l=u.animationNames,d=u.rules;r=l.join(","),s.push.apply(s,d)}var h=ye(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){Ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a,{animationName:r}));return s.push(""+c+h),(n={})[i]={identifier:i,rules:s},n}(e[r],r);Object.keys(o).forEach((function(e){var a=o[e],s=a.identifier,c=a.rules;i.css[s]={group:t||F.uL.classic,rules:c},n[r]=s}))})),n},resolve:function(n,r){var o=[],s={};if(!n&&!r)return s;if(Array.isArray(r)&&h(r).forEach((function(n){if(n){if(null==e.css[n]&&null!=i.css[n]){var r=i.css[n];r.rules.forEach((function(e){t.insert(e,r.group)})),e.css[n]=!0}o.push(n)}})),"number"==typeof n)a(n),s=l(n,Ie(n));else if(Array.isArray(n)){for(var c=h(n),u=!0,d="",p=0;p<c.length;p++){var f=c[p];"number"!=typeof f?u=!1:(u&&(d+=f+"-"),a(f))}s=l(c,u?Ie(d):null)}else s=l(n);o.push.apply(o,s.classList);var A,g={className:(A=o,A.join(" ").trim()),classList:o};return s.style&&(g.style=s.style),g},get sheet(){return t}}}();const we=Se},4370:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=(0,n(7294).createContext)(!1)},4404:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(7294),i=n(7353),o=n(9150),a=n(5819),s=n(42),c=n(6528),u=n(91),l=n(6077),d=n(773),h=n(4370),p={accessibilityLabel:!0,accessibilityLiveRegion:!0,accessibilityRole:!0,accessibilityState:!0,accessibilityValue:!0,accessible:!0,children:!0,classList:!0,dir:!0,importantForAccessibility:!0,lang:!0,nativeID:!0,onBlur:!0,onClick:!0,onClickCapture:!0,onContextMenu:!0,onFocus:!0,onKeyDown:!0,onKeyUp:!0,onTouchCancel:!0,onTouchCancelCapture:!0,onTouchEnd:!0,onTouchEndCapture:!0,onTouchMove:!0,onTouchMoveCapture:!0,onTouchStart:!0,onTouchStartCapture:!0,pointerEvents:!0,ref:!0,style:!0,testID:!0,dataSet:!0,onMouseDown:!0,onMouseEnter:!0,onMouseLeave:!0,onMouseMove:!0,onMouseOver:!0,onMouseOut:!0,onMouseUp:!0,onScroll:!0,onWheel:!0,href:!0,rel:!0,target:!0},f=(0,r.forwardRef)((function(e,t){var n=e.dir,o=e.numberOfLines,d=e.onClick,f=e.onLayout,m=e.onPress,v=e.onMoveShouldSetResponder,y=e.onMoveShouldSetResponderCapture,E=e.onResponderEnd,b=e.onResponderGrant,_=e.onResponderMove,C=e.onResponderReject,I=e.onResponderRelease,S=e.onResponderStart,w=e.onResponderTerminate,R=e.onResponderTerminationRequest,T=e.onScrollShouldSetResponder,O=e.onScrollShouldSetResponderCapture,k=e.onSelectionChangeShouldSetResponder,N=e.onSelectionChangeShouldSetResponderCapture,D=e.onStartShouldSetResponder,P=e.onStartShouldSetResponderCapture,x=e.selectable,L=(0,r.useContext)(h.Z),M=(0,r.useRef)(null),B=[A.text,!0===L&&A.textHasAncestor,1===o&&A.textOneLine,null!=o&&o>1&&A.textMultiLine],F=[e.style,null!=o&&o>1&&{WebkitLineClamp:o},!0===x&&g.selectable,!1===x&&g.notSelectable,m&&g.pressable];(0,s.Z)(M,f),(0,l.Z)(M,{onMoveShouldSetResponder:v,onMoveShouldSetResponderCapture:y,onResponderEnd:E,onResponderGrant:b,onResponderMove:_,onResponderReject:C,onResponderRelease:I,onResponderStart:S,onResponderTerminate:w,onResponderTerminationRequest:R,onScrollShouldSetResponder:T,onScrollShouldSetResponderCapture:O,onSelectionChangeShouldSetResponder:k,onSelectionChangeShouldSetResponderCapture:N,onStartShouldSetResponder:D,onStartShouldSetResponderCapture:P});var U=L?"span":"div",j=function(e){return(0,a.Z)(e,p)}(e);j.classList=B,j.dir=n,L||(j.dir=null!=n?n:"auto"),j.onClick=function(e){null!=d&&d(e),null==d&&null!=m&&(e.stopPropagation(),m(e))},j.style=F;var V=(0,u.Z)(j),Q=(0,c.Z)(M,V,t);j.ref=Q;var G=(0,i.Z)(U,j);return L?G:r.createElement(h.Z.Provider,{value:!0},G)}));f.displayName="Text";var A=o.Z.create({text:{border:"0 solid black",boxSizing:"border-box",color:"black",display:"inline",font:"14px System",margin:0,padding:0,whiteSpace:"pre-wrap",wordWrap:"break-word"},textHasAncestor:{color:"inherit",font:"inherit",whiteSpace:"inherit"},textOneLine:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},textMultiLine:{display:"-webkit-box",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",WebkitBoxOrient:"vertical"}}),g=d.Z.create({notSelectable:{userSelect:"none"},selectable:{userSelect:"text"},pressable:{cursor:"pointer"}});const m=f},9710:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(7294),i=n(7353),o=n(9150),a=n(5819),s=n(42),c=n(9863),u=n(6528),l=n(91),d=n(6077),h=n(773),p=n(3177),f={accessibilityLabel:!0,accessibilityLiveRegion:!0,accessibilityRole:!0,accessibilityState:!0,accessibilityValue:!0,accessible:!0,autoCapitalize:!0,autoComplete:!0,autoCorrect:!0,autoFocus:!0,children:!0,classList:!0,defaultValue:!0,dir:!0,disabled:!0,importantForAccessibility:!0,maxLength:!0,nativeID:!0,onBlur:!0,onChange:!0,onClick:!0,onClickCapture:!0,onContextMenu:!0,onFocus:!0,onScroll:!0,onTouchCancel:!0,onTouchCancelCapture:!0,onTouchEnd:!0,onTouchEndCapture:!0,onTouchMove:!0,onTouchMoveCapture:!0,onTouchStart:!0,onTouchStartCapture:!0,placeholder:!0,pointerEvents:!0,readOnly:!0,ref:!0,rows:!0,spellCheck:!0,style:!0,value:!0,testID:!0,type:!0,dataSet:!0,onMouseDown:!0,onMouseEnter:!0,onMouseLeave:!0,onMouseMove:!0,onMouseOver:!0,onMouseOut:!0,onMouseUp:!0},A=(0,r.forwardRef)((function(e,t){var n,o,A=e.autoCapitalize,m=void 0===A?"sentences":A,v=e.autoComplete,y=e.autoCompleteType,E=e.autoCorrect,b=void 0===E||E,_=e.blurOnSubmit,C=e.clearTextOnFocus,I=e.dir,S=e.editable,w=void 0===S||S,R=e.keyboardType,T=void 0===R?"default":R,O=e.multiline,k=void 0!==O&&O,N=e.numberOfLines,D=void 0===N?1:N,P=e.onBlur,x=e.onChange,L=e.onChangeText,M=e.onContentSizeChange,B=e.onFocus,F=e.onKeyPress,U=e.onLayout,j=e.onMoveShouldSetResponder,V=e.onMoveShouldSetResponderCapture,Q=e.onResponderEnd,G=e.onResponderGrant,q=e.onResponderMove,H=e.onResponderReject,z=e.onResponderRelease,W=e.onResponderStart,K=e.onResponderTerminate,Y=e.onResponderTerminationRequest,J=e.onScrollShouldSetResponder,Z=e.onScrollShouldSetResponderCapture,X=e.onSelectionChange,$=e.onSelectionChangeShouldSetResponder,ee=e.onSelectionChangeShouldSetResponderCapture,te=e.onStartShouldSetResponder,ne=e.onStartShouldSetResponderCapture,re=e.onSubmitEditing,ie=e.placeholderTextColor,oe=e.returnKeyType,ae=e.secureTextEntry,se=void 0!==ae&&ae,ce=e.selection,ue=e.selectTextOnFocus,le=e.spellCheck;switch(T){case"email-address":n="email";break;case"number-pad":case"numeric":o="numeric";break;case"decimal-pad":o="decimal";break;case"phone-pad":n="tel";break;case"search":case"web-search":n="search";break;case"url":n="url";break;default:n="text"}se&&(n="password");var de=(0,r.useRef)({height:null,width:null}),he=(0,r.useRef)(null),pe=(0,r.useCallback)((function(){var e=he.current;if(k&&M&&null!=e){var t=e.scrollHeight,n=e.scrollWidth;t===de.current.height&&n===de.current.width||(de.current.height=t,de.current.width=n,M({nativeEvent:{contentSize:{height:de.current.height,width:de.current.width}}}))}}),[he,k,M]),fe=(0,r.useMemo)((function(){return function(e){null!=e&&(e.clear=function(){null!=e&&(e.value="")},e.isFocused=function(){return null!=e&&p.Z.currentlyFocusedField()===e},pe())}}),[pe]);(0,c.Z)((function(){var e=he.current;null!=e&&null!=ce&&function(e,t){if(function(e,t){var n=e.selectionEnd,r=e.selectionStart,i=t.start,o=t.end;return i!==r||o!==n}(e,t)){var n=t.start,r=t.end;try{e.setSelectionRange(n,r||n)}catch(e){}}}(e,ce),document.activeElement===e&&(p.Z._currentlyFocusedNode=e)}),[he,ce]);var Ae=k?"textarea":"input",ge=[g.textinput],me=h.Z.compose(e.style,ie&&{placeholderTextColor:ie});(0,s.Z)(he,U),(0,d.Z)(he,{onMoveShouldSetResponder:j,onMoveShouldSetResponderCapture:V,onResponderEnd:Q,onResponderGrant:G,onResponderMove:q,onResponderReject:H,onResponderRelease:z,onResponderStart:W,onResponderTerminate:K,onResponderTerminationRequest:Y,onScrollShouldSetResponder:J,onScrollShouldSetResponderCapture:Z,onSelectionChangeShouldSetResponder:$,onSelectionChangeShouldSetResponderCapture:ee,onStartShouldSetResponder:te,onStartShouldSetResponderCapture:ne});var ve=function(e){return(0,a.Z)(e,f)}(e);ve.autoCapitalize=m,ve.autoComplete=v||y||"on",ve.autoCorrect=b?"on":"off",ve.classList=ge,ve.dir=void 0!==I?I:"auto",ve.enterkeyhint=oe,ve.onBlur=function(e){p.Z._currentlyFocusedNode=null,P&&(e.nativeEvent.text=e.target.value,P(e))},ve.onChange=function(e){var t=e.target.value;e.nativeEvent.text=t,pe(),x&&x(e),L&&L(t)},ve.onFocus=function(e){var t=he.current;null!=t&&(p.Z._currentlyFocusedNode=t,B&&(e.nativeEvent.text=e.target.value,B(e)),C&&(t.value=""),ue&&setTimeout((function(){t.select()}),0))},ve.onKeyDown=function(e){e.stopPropagation();var t=null==_?!k:_,n=e.nativeEvent,r=function(e){return e.isComposing||229===e.keyCode}(n);F&&F(e),"Enter"!==e.key||e.shiftKey||r||e.isDefaultPrevented()||(!_&&k||!re||(e.preventDefault(),n.text=e.target.value,re(e)),t&&null!=he.current&&he.current.blur())},ve.onSelect=function(e){if(X)try{var t=e.target,n=t.selectionStart,r=t.selectionEnd;e.nativeEvent.selection={start:n,end:r},e.nativeEvent.text=e.target.value,X(e)}catch(e){}},ve.readOnly=!w,ve.rows=k?D:void 0,ve.spellCheck=null!=le?le:b,ve.style=me,ve.type=k?void 0:n,ve.inputMode=o;var ye=(0,l.Z)(ve),Ee=(0,u.Z)(he,ye,fe,t);return ve.ref=Ee,(0,i.Z)(Ae,ve)}));A.displayName="TextInput",A.State=p.Z;var g=o.Z.create({textinput:{MozAppearance:"textfield",WebkitAppearance:"none",backgroundColor:"transparent",border:"0 solid black",borderRadius:0,boxSizing:"border-box",font:"14px System",margin:0,padding:0,resize:"none"}});const m=A},8548:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(7294),i=n(6528),o=n(6560),a=n(773),s=n(7177);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=a.Z.create({root:{transitionProperty:"opacity",transitionDuration:"0.15s",userSelect:"none"},actionable:{cursor:"pointer",touchAction:"manipulation"}}),p=r.memo(r.forwardRef((function(e,t){var n=e.accessible,a=e.activeOpacity,u=e.delayPressIn,d=e.delayPressOut,p=e.delayLongPress,f=e.disabled,A=e.focusable,g=e.onLongPress,m=e.onPress,v=e.onPressIn,y=e.onPressOut,E=e.rejectResponderTermination,b=e.style,_=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["accessible","activeOpacity","delayPressIn","delayPressOut","delayLongPress","disabled","focusable","onLongPress","onPress","onPressIn","onPressOut","rejectResponderTermination","style"]),C=(0,r.useRef)(null),I=(0,i.Z)(t,C),S=(0,r.useState)("0s"),w=S[0],R=S[1],T=(0,r.useState)(null),O=T[0],k=T[1],N=(0,r.useCallback)((function(e,t){k(e),R(t?t/1e3+"s":"0s")}),[k,R]),D=(0,r.useCallback)((function(e){N(null!=a?a:.2,e)}),[a,N]),P=(0,r.useCallback)((function(e){N(null,e)}),[N]),x=(0,r.useMemo)((function(){return{cancelable:!E,disabled:f,delayLongPress:p,delayPressStart:u,delayPressEnd:d,onLongPress:g,onPress:m,onPressStart:function(e){var t=null!=e.dispatchConfig?"onResponderGrant"===e.dispatchConfig.registrationName:"keydown"===e.type;D(t?0:150),null!=v&&v(e)},onPressEnd:function(e){P(250),null!=y&&y(e)}}}),[p,u,d,f,g,m,v,y,E,D,P]),L=(0,o.Z)(C,x);return r.createElement(s.Z,c({},_,L,{accessibilityState:l({disabled:f},e.accessibilityState),accessible:!1!==n,focusable:!1!==A&&void 0!==m,ref:I,style:[h.root,!f&&h.actionable,b,null!=O&&{opacity:O},{transitionDuration:w}]}))})));p.displayName="TouchableOpacity";const f=p},7901:(e,t,n)=>{"use strict";var r;n.d(t,{Z:()=>h});var i=n(7294),o=n(5819),a=n(6528),s=n(6560);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={accessibilityLabel:!0,accessibilityLiveRegion:!0,accessibilityRole:!0,accessibilityState:!0,accessibilityValue:!0,accessible:!0,children:!0,disabled:!0,focusable:!0,importantForAccessibility:!0,nativeID:!0,onBlur:!0,onFocus:!0,onLayout:!0,testID:!0},d=i.memo(i.forwardRef((function(e,t){var d=e.accessible,h=e.delayPressIn,p=e.delayPressOut,f=e.delayLongPress,A=e.disabled,g=e.focusable,m=e.onLongPress,v=e.onPress,y=e.onPressIn,E=e.onPressOut,b=e.rejectResponderTermination,_=(0,i.useRef)(null),C=(0,i.useMemo)((function(){return{cancelable:!b,disabled:A,delayLongPress:f,delayPressStart:h,delayPressEnd:p,onLongPress:m,onPress:v,onPressStart:y,onPressEnd:E}}),[A,h,p,f,m,v,y,E,b]),I=(0,s.Z)(_,C),S=i.Children.only(e.children),w=[S.props.children],R=function(e){return(0,o.Z)(e,l)}(e);R.accessible=!1!==d,R.accessibilityState=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({disabled:A},e.accessibilityState),R.focusable=!1!==g&&void 0!==v,R.ref=(0,a.Z)(t,_,S.ref);var T=Object.assign(R,I);return i.cloneElement.apply(r||(r=n.t(i,2)),[S,T].concat(w))})));d.displayName="TouchableWithoutFeedback";const h=d},3853:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(3767),i=n(8416);const o=function(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||i.Z.hasOwnProperty(e)&&i.Z[e]?(""+t).trim():t+"px"},a=function(e,t){var n=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=0===r.indexOf("--"),a=o(r,t[r],i);"float"===r&&(r="cssFloat"),i?n.setProperty(r,a):n[r]=a}};var s=function(e){var t=(0,r.Z)(e),n=t.x,i=t.y,o=t.top,a=t.left;return{x:n,y:i,width:e.offsetWidth,height:e.offsetHeight,top:o,left:a}},c=function(e,t,n){var i=t||e&&e.parentNode;e&&i&&setTimeout((function(){var t=(0,r.Z)(i),o=s(e),a=o.height,c=o.left,u=o.top,l=o.width,d=c-t.left,h=u-t.top;n(d,h,l,a,c,u)}),0)},u={A:!0,INPUT:!0,SELECT:!0,TEXTAREA:!0};const l={blur:function(e){try{e.blur()}catch(e){}},focus:function(e){try{var t=e.nodeName;null==e.getAttribute("tabIndex")&&null==u[t]&&e.setAttribute("tabIndex","-1"),e.focus()}catch(e){}},measure:function(e,t){c(e,null,t)},measureInWindow:function(e,t){e&&setTimeout((function(){var n=s(e),r=n.height,i=n.left,o=n.top,a=n.width;t(i,o,a,r)}),0)},measureLayout:function(e,t,n,r){c(e,t,r)},updateView:function(e,t){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=t[n];switch(n){case"style":a(e,r);break;case"class":case"className":e.setAttribute("class",r);break;case"text":case"value":e.value=r;break;default:e.setAttribute(n,r)}}},configureNextLayoutAnimation:function(e,t){t()},setLayoutAnimationEnabledExperimental:function(){}}},7177:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(7294),i=n(7353),o=n(9150),a=n(5819),s=n(42),c=n(6528),u=n(91),l=n(6077),d=n(773),h=n(4370),p={accessibilityLabel:!0,accessibilityLiveRegion:!0,accessibilityRole:!0,accessibilityState:!0,accessibilityValue:!0,accessible:!0,children:!0,classList:!0,disabled:!0,importantForAccessibility:!0,nativeID:!0,onBlur:!0,onClick:!0,onClickCapture:!0,onContextMenu:!0,onFocus:!0,onKeyDown:!0,onKeyUp:!0,onTouchCancel:!0,onTouchCancelCapture:!0,onTouchEnd:!0,onTouchEndCapture:!0,onTouchMove:!0,onTouchMoveCapture:!0,onTouchStart:!0,onTouchStartCapture:!0,pointerEvents:!0,ref:!0,style:!0,testID:!0,dataSet:!0,onMouseDown:!0,onMouseEnter:!0,onMouseLeave:!0,onMouseMove:!0,onMouseOver:!0,onMouseOut:!0,onMouseUp:!0,onScroll:!0,onWheel:!0,href:!0,rel:!0,target:!0},f=(0,r.forwardRef)((function(e,t){var n=e.onLayout,o=e.onMoveShouldSetResponder,f=e.onMoveShouldSetResponderCapture,m=e.onResponderEnd,v=e.onResponderGrant,y=e.onResponderMove,E=e.onResponderReject,b=e.onResponderRelease,_=e.onResponderStart,C=e.onResponderTerminate,I=e.onResponderTerminationRequest,S=e.onScrollShouldSetResponder,w=e.onScrollShouldSetResponderCapture,R=e.onSelectionChangeShouldSetResponder,T=e.onSelectionChangeShouldSetResponderCapture,O=e.onStartShouldSetResponder,k=e.onStartShouldSetResponderCapture,N=(0,r.useContext)(h.Z),D=(0,r.useRef)(null);(0,s.Z)(D,n),(0,l.Z)(D,{onMoveShouldSetResponder:o,onMoveShouldSetResponderCapture:f,onResponderEnd:m,onResponderGrant:v,onResponderMove:y,onResponderReject:E,onResponderRelease:b,onResponderStart:_,onResponderTerminate:C,onResponderTerminationRequest:I,onScrollShouldSetResponder:S,onScrollShouldSetResponderCapture:w,onSelectionChangeShouldSetResponder:R,onSelectionChangeShouldSetResponderCapture:T,onStartShouldSetResponder:O,onStartShouldSetResponderCapture:k});var P=d.Z.compose(N&&g.inline,e.style),x=function(e){return(0,a.Z)(e,p)}(e);x.classList=A,x.style=P;var L=(0,u.Z)(x),M=(0,c.Z)(D,L,t);return x.ref=M,(0,i.Z)("div",x)}));f.displayName="View";var A=[o.Z.create({view:{alignItems:"stretch",border:"0 solid black",boxSizing:"border-box",display:"flex",flexBasis:"auto",flexDirection:"column",flexShrink:0,margin:0,minHeight:0,minWidth:0,padding:0,position:"relative",zIndex:0}}).view],g=d.Z.create({inline:{display:"inline-flex"}});const m=f},7353:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(2474),i=n(3170),o=n(7294);const a=function(e,t){var n;e&&e.constructor===String&&(n=r.Z.propsToAccessibilityComponent(t));for(var a=n||e,s=(0,i.Z)(a,t),c=arguments.length,u=new Array(c>2?c-2:0),l=2;l<c;l++)u[l-2]=arguments[l];return o.createElement.apply(o,[a,s].concat(u))}},2747:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(3935);const i=function(e){var t;try{t=(0,r.findDOMNode)(e)}catch(e){}return t}},1082:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(8059),i=n.n(r);const o=function(e){if(null==e)return e;var t=i()(e);return null!=t?t=(t<<24|t>>>8)>>>0:void 0}},1512:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(3935).render},6113:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(3935).unmountComponentAtNode},1682:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(5998),i=n(7294);function o(){var e=(0,i.useState)((function(){return r.Z.get("window")})),t=e[0],n=e[1];return(0,i.useEffect)((function(){function e(e){var t=e.window;n(t)}return r.Z.addEventListener("change",e),n(r.Z.get("window")),function(){r.Z.removeEventListener("change",e)}}),[]),t}},3164:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AccessibilityInfo:()=>f,ActivityIndicator:()=>K.Z,Alert:()=>A,Animated:()=>g.Z,AppRegistry:()=>E.Z,AppState:()=>b.Z,Appearance:()=>y,BackHandler:()=>C,Button:()=>ee,CheckBox:()=>te.Z,Clipboard:()=>I.Z,DeviceEventEmitter:()=>Qt,DeviceInfo:()=>w,Dimensions:()=>S.Z,DrawerLayoutAndroid:()=>Lt,Easing:()=>R,FlatList:()=>ne.Z,I18nManager:()=>T.Z,Image:()=>re.Z,ImageBackground:()=>ie.Z,InputAccessoryView:()=>Mt,InteractionManager:()=>k.Z,Keyboard:()=>O.Z,KeyboardAvoidingView:()=>se,LayoutAnimation:()=>M,Linking:()=>B.Z,LogBox:()=>xt,Modal:()=>ce.Z,NativeEventEmitter:()=>F,NativeModules:()=>c.Z,PanResponder:()=>U.Z,PermissionsAndroid:()=>Ft.Z,Picker:()=>ue.Z,PixelRatio:()=>j.Z,Platform:()=>N.Z,Pressable:()=>le.Z,ProgressBar:()=>fe,RefreshControl:()=>Ae.Z,SafeAreaView:()=>ge.Z,ScrollView:()=>me.Z,SectionList:()=>ve.Z,Settings:()=>Ut,Share:()=>q,StatusBar:()=>ye.Z,StyleSheet:()=>H.Z,Switch:()=>Oe,Systrace:()=>jt,TVEventHandler:()=>Vt,Text:()=>Z.Z,TextInput:()=>ke.Z,ToastAndroid:()=>Bt,Touchable:()=>ft,TouchableHighlight:()=>St,TouchableNativeFeedback:()=>Ot,TouchableOpacity:()=>J.Z,TouchableWithoutFeedback:()=>kt.Z,UIManager:()=>D.Z,Vibration:()=>W,View:()=>oe.Z,VirtualizedList:()=>Nt,YellowBox:()=>Pt,findNodeHandle:()=>i.Z,processColor:()=>o.Z,render:()=>a.Z,unmountComponentAtNode:()=>s.Z,unstable_createElement:()=>r.Z,useColorScheme:()=>Gt,useWindowDimensions:()=>qt.Z});var r=n(7353),i=n(2747),o=n(1082),a=n(1512),s=n(6113),c=n(1525),u=n(6508);function l(){return new Promise((function(e,t){e(!0)}))}var d=u.canUseDOM&&"function"==typeof window.matchMedia?window.matchMedia("(prefers-reduced-motion: reduce)"):null,h={},p={isScreenReaderEnabled:l,isReduceMotionEnabled:function(){return new Promise((function(e,t){e(!d||d.matches)}))},fetch:l,addEventListener:function(e,t){if("reduceMotionChanged"===e){if(!d)return;var n=function(e){t(e.matches)};r=n,null!=d&&(null!=d.addEventListener?d.addEventListener("change",r):d.addListener(r)),h[t]=n}var r;return{remove:function(){return p.removeEventListener(e,t)}}},setAccessibilityFocus:function(e){},announceForAccessibility:function(e){},removeEventListener:function(e,t){if("reduceMotionChanged"===e){var n=h[t];if(!n||!d)return;r=n,null!=d&&(null!=d.removeEventListener?d.removeEventListener("change",r):d.removeListener(r))}var r}};const f=p,A=function(){function e(){}return e.alert=function(){},e}();var g=n(1047),m=u.canUseDOM&&null!=window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null,v=new WeakMap;const y={getColorScheme:function(){return m&&m.matches?"dark":"light"},addChangeListener:function(e){var t=v.get(e);t||(t=function(t){var n=t.matches;e({colorScheme:n?"dark":"light"})},v.set(e,t)),m&&m.addListener(t)},removeChangeListener:function(e){var t=v.get(e);t&&(m&&m.removeListener(t),v.delete(e))}};var E=n(8227),b=n(7878);function _(){}const C={exitApp:_,addEventListener:function(){return{remove:_}},removeEventListener:_};var I=n(7196),S=n(5998);const w={Dimensions:{get windowPhysicalPixels(){var e=S.Z.get("window"),t=e.width,n=e.height,r=e.fontScale,i=e.scale;return{width:t*i,height:n*i,scale:i,fontScale:r}},get screenPhysicalPixels(){var e=S.Z.get("screen"),t=e.width,n=e.height,r=e.fontScale,i=e.scale;return{width:t*i,height:n*i,scale:i,fontScale:r}}},get locale(){if(u.canUseDOM)return window.navigator.languages?window.navigator.languages[0]:window.navigator.language},get totalMemory(){return u.canUseDOM?window.navigator.deviceMemory:void 0},get userAgent(){return u.canUseDOM?window.navigator.userAgent:""}},R=n(1443).Z;var T=n(6218),O=n(3668),k=n(1123),N=n(2805),D=n(3853);function P(e,t){N.Z.isTesting||D.Z.configureNextLayoutAnimation(e,null!=t?t:function(){},(function(){}))}function x(e,t,n){return{duration:e,create:{type:t,property:n},update:{type:t},delete:{type:t,property:n}}}var L={easeInEaseOut:x(300,"easeInEaseOut","opacity"),linear:x(500,"linear","opacity"),spring:{duration:700,create:{type:"linear",property:"opacity"},update:{type:"spring",springDamping:.4},delete:{type:"linear",property:"opacity"}}};const M={configureNext:P,create:x,Types:Object.freeze({spring:"spring",linear:"linear",easeInEaseOut:"easeInEaseOut",easeIn:"easeIn",easeOut:"easeOut",keyboard:"keyboard"}),Properties:Object.freeze({opacity:"opacity",scaleX:"scaleX",scaleY:"scaleY",scaleXY:"scaleXY"}),checkConfig:function(){console.error("LayoutAnimation.checkConfig(...) has been disabled.")},Presets:L,easeInEaseOut:P.bind(null,L.easeInEaseOut),linear:P.bind(null,L.linear),spring:P.bind(null,L.spring)};var B=n(2286);const F=n(6086).Z;var U=n(3795),j=n(1302),V=n(3759),Q=n.n(V);function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const q=function(){function e(){}var t,n;return e.share=function(e,t){return void 0===t&&(t={}),Q()("object"==typeof e&&null!==e,"Content to share must be a valid object"),Q()("string"==typeof e.url||"string"==typeof e.message,"At least one of URL and message is required"),Q()("object"==typeof t&&null!==t,"Options must be a valid object"),Q()(!e.title||"string"==typeof e.title,"Invalid title: title should be a string."),void 0!==window.navigator.share?window.navigator.share({title:e.title,text:e.message,url:e.url}):Promise.reject(new Error("Share is not supported in this browser"))},t=e,n=[{key:"sharedAction",get:function(){return"sharedAction"}},{key:"dismissedAction",get:function(){return"dismissedAction"}}],null&&G(t.prototype,null),n&&G(t,n),e}();var H=n(773),z=function(e){"vibrate"in window.navigator&&window.navigator.vibrate(e)};const W={cancel:function(){z(0)},vibrate:function(e){void 0===e&&(e=400),z(e)}};var K=n(9672),Y=n(7294),J=n(8548),Z=n(4404),X=Y.forwardRef((function(e,t){var n=e.accessibilityLabel,r=e.color,i=e.disabled,o=e.onPress,a=e.testID,s=e.title;return Y.createElement(J.Z,{accessibilityLabel:n,accessibilityRole:"button",disabled:i,onPress:o,ref:t,style:[$.button,r&&{backgroundColor:r},i&&$.buttonDisabled],testID:a},Y.createElement(Z.Z,{style:[$.text,i&&$.textDisabled]},s))}));X.displayName="Button";var $=H.Z.create({button:{backgroundColor:"#2196F3",borderRadius:2},text:{color:"#fff",fontWeight:"500",padding:8,textAlign:"center",textTransform:"uppercase"},buttonDisabled:{backgroundColor:"#dfdfdf"},textDisabled:{color:"#a1a1a1"}});const ee=X;var te=n(177),ne=n(8744),re=n(3250),ie=n(5900),oe=n(7177);function ae(){return ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ae.apply(this,arguments)}const se=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).frame=null,t.onLayout=function(e){t.frame=e.nativeEvent.layout},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.relativeKeyboardHeight=function(e){var t=this.frame;if(!t||!e)return 0;var n=e.screenY-(this.props.keyboardVerticalOffset||0);return Math.max(t.y+t.height-n,0)},i.onKeyboardChange=function(e){},i.render=function(){var e=this.props,t=(e.behavior,e.contentContainerStyle,e.keyboardVerticalOffset,function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["behavior","contentContainerStyle","keyboardVerticalOffset"]));return Y.createElement(oe.Z,ae({onLayout:this.onLayout},t))},r}(Y.Component);var ce=n(9176),ue=n(6250),le=n(7097);function de(){return de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},de.apply(this,arguments)}var he=(0,Y.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"#1976D2":n,i=e.indeterminate,o=void 0!==i&&i,a=e.progress,s=void 0===a?0:a,c=e.trackColor,u=void 0===c?"transparent":c,l=e.style,d=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["color","indeterminate","progress","trackColor","style"]),h=100*s,p=(0,Y.useRef)(null);return(0,Y.useEffect)((function(){var e=o?"25%":h+"%";null!=p.current&&p.current.setNativeProps({style:{width:e}})}),[o,h,p]),Y.createElement(oe.Z,de({},d,{accessibilityRole:"progressbar",accessibilityValue:{max:100,min:0,now:o?null:h},ref:t,style:[pe.track,l,{backgroundColor:u}]}),Y.createElement(oe.Z,{ref:p,style:[pe.progress,o&&pe.animation,{backgroundColor:r}]}))}));he.displayName="ProgressBar";var pe=H.Z.create({track:{height:5,overflow:"hidden",userSelect:"none",zIndex:0},progress:{height:"100%",zIndex:-1},animation:{animationDuration:"1s",animationKeyframes:[{"0%":{transform:[{translateX:"-100%"}]},"100%":{transform:[{translateX:"400%"}]}}],animationTimingFunction:"linear",animationIterationCount:"infinite"}});const fe=he;var Ae=n(3330),ge=n(6636),me=n(5164),ve=n(7545),ye=n(2357),Ee=n(3145);function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){Ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ie(){return Ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ie.apply(this,arguments)}var Se={},we="0px 1px 3px rgba(0,0,0,0.5)",Re=(0,Y.forwardRef)((function(e,t){var n=e.accessibilityLabel,i=e.activeThumbColor,o=void 0===i?"#009688":i,a=e.activeTrackColor,s=void 0===a?"#A3D3CF":a,c=e.disabled,u=void 0!==c&&c,l=e.onValueChange,d=e.style,h=void 0===d?Se:d,p=e.thumbColor,f=void 0===p?"#FAFAFA":p,A=e.trackColor,g=void 0===A?"#939393":A,m=e.value,v=void 0!==m&&m,y=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["accessibilityLabel","activeThumbColor","activeTrackColor","disabled","onValueChange","style","thumbColor","trackColor","value"]),E=(0,Y.useRef)(null);function b(e){var t="focus"===e.nativeEvent.type?"0px 1px 3px rgba(0,0,0,0.5), 0 0 0 10px rgba(0,0,0,0.1)":we;null!=E.current&&(E.current.style.boxShadow=t)}var _=H.Z.flatten(h),C=_.height,I=_.width,S=C||20,w=(0,Ee.Z)(S,2),R=I>w?I:w,T=(0,Ee.Z)(S,.5),O=!0===v?null!=g&&"object"==typeof g?g.true:s:null!=g&&"object"==typeof g?g.false:g,k=v?o:f,N=S,D=N,P=[Te.root,h,u&&Te.cursorDefault,{height:S,width:R}],x=[Te.track,{backgroundColor:u?"#D5D5D5":O,borderRadius:T}],L=[Te.thumb,v&&Te.thumbActive,{backgroundColor:u?"#BDBDBD":k,height:N,marginStart:v?(0,Ee.Z)(D,-1):0,width:D}],M=(0,r.Z)("input",{accessibilityLabel:n,checked:v,disabled:u,onBlur:b,onChange:function(e){null!=l&&l(e.nativeEvent.target.checked)},onFocus:b,ref:t,style:[Te.nativeControl,Te.cursorInherit],type:"checkbox",role:"switch"});return Y.createElement(oe.Z,Ie({},y,{style:P}),Y.createElement(oe.Z,{style:x}),Y.createElement(oe.Z,{ref:E,style:L}),M)}));Re.displayName="Switch";var Te=H.Z.create({root:{cursor:"pointer",userSelect:"none"},cursorDefault:{cursor:"default"},cursorInherit:{cursor:"inherit"},track:_e({},H.Z.absoluteFillObject,{height:"70%",margin:"auto",transitionDuration:"0.1s",width:"100%"}),thumb:{alignSelf:"flex-start",borderRadius:"100%",boxShadow:we,start:"0%",transform:[{translateZ:0}],transitionDuration:"0.1s"},thumbActive:{start:"100%"},nativeControl:_e({},H.Z.absoluteFillObject,{height:"100%",margin:0,opacity:0,padding:0,width:"100%"})});const Oe=Re;var ke=n(9710),Ne=n(2474),De=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},Pe=function(e){var t=this;e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},xe=De;const Le=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||xe,n.poolSize||(n.poolSize=10),n.release=Pe,n},Me=De;var Be=Me;function Fe(e,t){this.width=e,this.height=t}Fe.prototype.destructor=function(){this.width=null,this.height=null},Fe.getPooledFromElement=function(e){return Fe.getPooled(e.offsetWidth,e.offsetHeight)},Le(Fe,Be);const Ue=Fe;var je=n(8059),Ve=n.n(je),Qe=Me;function Ge(e,t){this.left=e,this.top=t}Ge.prototype.destructor=function(){this.left=null,this.top=null},Le(Ge,Qe);const qe=Ge;function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach((function(t){We(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function We(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ke=function(e){var t=e.touches,n=e.changedTouches,r=t&&t.length>0,i=n&&n.length>0;return!r&&i?n[0]:r?t[0]:e},Ye="NOT_RESPONDER",Je="RESPONDER_INACTIVE_PRESS_IN",Ze="RESPONDER_INACTIVE_PRESS_OUT",Xe="RESPONDER_ACTIVE_PRESS_IN",$e="RESPONDER_ACTIVE_PRESS_OUT",et="RESPONDER_ACTIVE_LONG_PRESS_IN",tt="RESPONDER_ACTIVE_LONG_PRESS_OUT",nt="ERROR",rt={NOT_RESPONDER:!1,RESPONDER_INACTIVE_PRESS_IN:!1,RESPONDER_INACTIVE_PRESS_OUT:!1,RESPONDER_ACTIVE_PRESS_IN:!1,RESPONDER_ACTIVE_PRESS_OUT:!1,RESPONDER_ACTIVE_LONG_PRESS_IN:!1,RESPONDER_ACTIVE_LONG_PRESS_OUT:!1,ERROR:!1},it=ze({},rt,{RESPONDER_ACTIVE_PRESS_OUT:!0,RESPONDER_ACTIVE_PRESS_IN:!0}),ot=ze({},rt,{RESPONDER_INACTIVE_PRESS_IN:!0,RESPONDER_ACTIVE_PRESS_IN:!0,RESPONDER_ACTIVE_LONG_PRESS_IN:!0}),at=ze({},rt,{RESPONDER_ACTIVE_LONG_PRESS_IN:!0}),st="RESPONDER_RELEASE",ct="RESPONDER_TERMINATED",ut="LONG_PRESS_DETECTED",lt={NOT_RESPONDER:{DELAY:nt,RESPONDER_GRANT:Je,RESPONDER_RELEASE:nt,RESPONDER_TERMINATED:nt,ENTER_PRESS_RECT:nt,LEAVE_PRESS_RECT:nt,LONG_PRESS_DETECTED:nt},RESPONDER_INACTIVE_PRESS_IN:{DELAY:Xe,RESPONDER_GRANT:nt,RESPONDER_RELEASE:Ye,RESPONDER_TERMINATED:Ye,ENTER_PRESS_RECT:Je,LEAVE_PRESS_RECT:Ze,LONG_PRESS_DETECTED:nt},RESPONDER_INACTIVE_PRESS_OUT:{DELAY:$e,RESPONDER_GRANT:nt,RESPONDER_RELEASE:Ye,RESPONDER_TERMINATED:Ye,ENTER_PRESS_RECT:Je,LEAVE_PRESS_RECT:Ze,LONG_PRESS_DETECTED:nt},RESPONDER_ACTIVE_PRESS_IN:{DELAY:nt,RESPONDER_GRANT:nt,RESPONDER_RELEASE:Ye,RESPONDER_TERMINATED:Ye,ENTER_PRESS_RECT:Xe,LEAVE_PRESS_RECT:$e,LONG_PRESS_DETECTED:et},RESPONDER_ACTIVE_PRESS_OUT:{DELAY:nt,RESPONDER_GRANT:nt,RESPONDER_RELEASE:Ye,RESPONDER_TERMINATED:Ye,ENTER_PRESS_RECT:Xe,LEAVE_PRESS_RECT:$e,LONG_PRESS_DETECTED:nt},RESPONDER_ACTIVE_LONG_PRESS_IN:{DELAY:nt,RESPONDER_GRANT:nt,RESPONDER_RELEASE:Ye,RESPONDER_TERMINATED:Ye,ENTER_PRESS_RECT:et,LEAVE_PRESS_RECT:tt,LONG_PRESS_DETECTED:et},RESPONDER_ACTIVE_LONG_PRESS_OUT:{DELAY:nt,RESPONDER_GRANT:nt,RESPONDER_RELEASE:Ye,RESPONDER_TERMINATED:Ye,ENTER_PRESS_RECT:et,LEAVE_PRESS_RECT:tt,LONG_PRESS_DETECTED:nt},error:{DELAY:Ye,RESPONDER_GRANT:Je,RESPONDER_RELEASE:Ye,RESPONDER_TERMINATED:Ye,ENTER_PRESS_RECT:Ye,LEAVE_PRESS_RECT:Ye,LONG_PRESS_DETECTED:Ye}},dt={componentDidMount:function(){var e=this;this._touchableNode=(0,i.Z)(this),this._touchableNode&&this._touchableNode.addEventListener&&(this._touchableBlurListener=function(t){e._isTouchableKeyboardActive&&(e.state.touchable.touchState&&e.state.touchable.touchState!==Ye&&e.touchableHandleResponderTerminate({nativeEvent:t}),e._isTouchableKeyboardActive=!1)},this._touchableNode.addEventListener("blur",this._touchableBlurListener))},componentWillUnmount:function(){this._touchableNode&&this._touchableNode.addEventListener&&this._touchableNode.removeEventListener("blur",this._touchableBlurListener),this.touchableDelayTimeout&&clearTimeout(this.touchableDelayTimeout),this.longPressDelayTimeout&&clearTimeout(this.longPressDelayTimeout),this.pressOutDelayTimeout&&clearTimeout(this.pressOutDelayTimeout)},touchableGetInitialState:function(){return{touchable:{touchState:void 0,responderID:null}}},touchableHandleResponderTerminationRequest:function(){return!this.props.rejectResponderTermination},touchableHandleStartShouldSetResponder:function(){return!this.props.disabled},touchableLongPressCancelsPress:function(){return!0},touchableHandleResponderGrant:function(e){var t=e.currentTarget;e.persist(),this.pressOutDelayTimeout&&clearTimeout(this.pressOutDelayTimeout),this.pressOutDelayTimeout=null,this.state.touchable.touchState=Ye,this.state.touchable.responderID=t,this._receiveSignal("RESPONDER_GRANT",e);var n=void 0!==this.touchableGetHighlightDelayMS?Math.max(this.touchableGetHighlightDelayMS(),0):130;0!==(n=isNaN(n)?130:n)?this.touchableDelayTimeout=setTimeout(this._handleDelay.bind(this,e),n):this._handleDelay(e);var r=void 0!==this.touchableGetLongPressDelayMS?Math.max(this.touchableGetLongPressDelayMS(),10):370;r=isNaN(r)?370:r,this.longPressDelayTimeout=setTimeout(this._handleLongDelay.bind(this,e),r+n)},touchableHandleResponderRelease:function(e){this.pressInLocation=null,this._receiveSignal(st,e)},touchableHandleResponderTerminate:function(e){this.pressInLocation=null,this._receiveSignal(ct,e)},touchableHandleResponderMove:function(e){if(this.state.touchable.positionOnActivate){var t=this.state.touchable.positionOnActivate,n=this.state.touchable.dimensionsOnActivate,r=this.touchableGetPressRectOffset?this.touchableGetPressRectOffset():{left:20,right:20,top:20,bottom:20},i=r.left,o=r.top,a=r.right,s=r.bottom,c=this.touchableGetHitSlop?this.touchableGetHitSlop():null;c&&(i+=c.left||0,o+=c.top||0,a+=c.right||0,s+=c.bottom||0);var u=Ke(e.nativeEvent),l=u&&u.pageX,d=u&&u.pageY;if(this.pressInLocation&&this._getDistanceBetweenPoints(l,d,this.pressInLocation.pageX,this.pressInLocation.pageY)>10&&this._cancelLongPressDelayTimeout(),l>t.left-i&&d>t.top-o&&l<t.left+n.width+a&&d<t.top+n.height+s){var h=this.state.touchable.touchState;this._receiveSignal("ENTER_PRESS_RECT",e),this.state.touchable.touchState===Je&&h!==Je&&this._cancelLongPressDelayTimeout()}else this._cancelLongPressDelayTimeout(),this._receiveSignal("LEAVE_PRESS_RECT",e)}},touchableHandleFocus:function(e){this.props.onFocus&&this.props.onFocus(e)},touchableHandleBlur:function(e){this.props.onBlur&&this.props.onBlur(e)},_remeasureMetricsOnActivation:function(){var e=this.state.touchable.responderID;null!=e&&D.Z.measure(e,this._handleQueryLayout)},_handleQueryLayout:function(e,t,n,r,i,o){(e||t||n||r||i||o)&&(this.state.touchable.positionOnActivate&&qe.release(this.state.touchable.positionOnActivate),this.state.touchable.dimensionsOnActivate&&Ue.release(this.state.touchable.dimensionsOnActivate),this.state.touchable.positionOnActivate=qe.getPooled(i,o),this.state.touchable.dimensionsOnActivate=Ue.getPooled(n,r))},_handleDelay:function(e){this.touchableDelayTimeout=null,this._receiveSignal("DELAY",e)},_handleLongDelay:function(e){this.longPressDelayTimeout=null;var t=this.state.touchable.touchState;t!==Xe&&t!==et?console.error("Attempted to transition from state `"+t+"` to `"+"RESPONDER_ACTIVE_LONG_PRESS_IN`, which is not supported. This is most likely due to `Touchable.longPressDelayTimeout` not being cancelled."):this._receiveSignal(ut,e)},_receiveSignal:function(e,t){var n=this.state.touchable.responderID,r=this.state.touchable.touchState,i=lt[r]&&lt[r][e];if(n||e!==st){if(!i)throw new Error("Unrecognized signal `"+e+"` or state `"+r+"` for Touchable responder `"+n+"`");if(i===nt)throw new Error("Touchable cannot transition from `"+r+"` to `"+e+"` for responder `"+n+"`");r!==i&&(this._performSideEffectsForTransition(r,i,e,t),this.state.touchable.touchState=i)}},_cancelLongPressDelayTimeout:function(){this.longPressDelayTimeout&&clearTimeout(this.longPressDelayTimeout),this.longPressDelayTimeout=null},_isHighlight:function(e){return e===Xe||e===et},_savePressInLocation:function(e){var t=Ke(e.nativeEvent),n=t&&t.pageX,r=t&&t.pageY,i=t&&t.locationX,o=t&&t.locationY;this.pressInLocation={pageX:n,pageY:r,locationX:i,locationY:o}},_getDistanceBetweenPoints:function(e,t,n,r){var i=e-n,o=t-r;return Math.sqrt(i*i+o*o)},_performSideEffectsForTransition:function(e,t,n,r){var i=this._isHighlight(e),o=this._isHighlight(t);(n===ct||n===st)&&this._cancelLongPressDelayTimeout();var a=e===Ye&&t===Je,s=!it[e]&&it[t];if((a||s)&&this._remeasureMetricsOnActivation(),ot[e]&&n===ut&&this.touchableHandleLongPress&&this.touchableHandleLongPress(r),o&&!i?this._startHighlight(r):!o&&i&&this._endHighlight(r),ot[e]&&n===st){var c=!!this.props.onLongPress,u=at[e]&&(!c||!this.touchableLongPressCancelsPress());(!at[e]||u)&&this.touchableHandlePress&&(o||i||(this._startHighlight(r),this._endHighlight(r)),this.touchableHandlePress(r))}this.touchableDelayTimeout&&clearTimeout(this.touchableDelayTimeout),this.touchableDelayTimeout=null},_playTouchSound:function(){D.Z.playTouchSound()},_startHighlight:function(e){this._savePressInLocation(e),this.touchableHandleActivePressIn&&this.touchableHandleActivePressIn(e)},_endHighlight:function(e){var t=this;this.touchableHandleActivePressOut&&(this.touchableGetPressOutDelayMS&&this.touchableGetPressOutDelayMS()?this.pressOutDelayTimeout=setTimeout((function(){t.touchableHandleActivePressOut(e)}),this.touchableGetPressOutDelayMS()):this.touchableHandleActivePressOut(e))},touchableHandleKeyEvent:function(e){var t=e.type,n=e.key;"Enter"!==n&&" "!==n||("keydown"===t?this._isTouchableKeyboardActive||this.state.touchable.touchState&&this.state.touchable.touchState!==Ye||(this.touchableHandleResponderGrant(e),this._isTouchableKeyboardActive=!0):"keyup"===t&&this._isTouchableKeyboardActive&&this.state.touchable.touchState&&this.state.touchable.touchState!==Ye&&(this.touchableHandleResponderRelease(e),this._isTouchableKeyboardActive=!1),e.stopPropagation(),"Enter"===n&&"link"===Ne.Z.propsToAriaRole(this.props)||e.preventDefault())},withoutDefaultFocusAndBlur:{}},ht=(dt.touchableHandleFocus,dt.touchableHandleBlur,function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(dt,["touchableHandleFocus","touchableHandleBlur"]));dt.withoutDefaultFocusAndBlur=ht;var pt={Mixin:dt,TOUCH_TARGET_DEBUG:!1,renderDebugView:function(e){var t=e.color,n=e.hitSlop;if(!pt.TOUCH_TARGET_DEBUG)return null;var r={};for(var i in n=n||{top:0,bottom:0,left:0,right:0})r[i]=-n[i];var o=Ve()(t);if("number"!=typeof o)return null;var a="#"+("00000000"+o.toString(16)).substr(-8);return Y.createElement(oe.Z,{pointerEvents:"none",style:ze({position:"absolute",borderColor:a.slice(0,-2)+"55",borderWidth:1,borderStyle:"dashed",backgroundColor:a.slice(0,-2)+"0F"},r)})}};const ft=pt;var At=n(6528),gt=n(6560);function mt(){return mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mt.apply(this,arguments)}function vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(n),!0).forEach((function(t){Et(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bt(e,t){return{child:{opacity:null!=e?e:.85},underlay:{backgroundColor:void 0===t?"black":t}}}function _t(e){return null!=e.onPress||null!=e.onPressIn||null!=e.onPressOut||null!=e.onLongPress}var Ct=H.Z.create({root:{userSelect:"none"},actionable:{cursor:"pointer",touchAction:"manipulation"}}),It=Y.memo(Y.forwardRef((function(e,t){var n=e.accessible,r=e.activeOpacity,i=e.children,o=e.delayPressIn,a=e.delayPressOut,s=e.delayLongPress,c=e.disabled,u=e.focusable,l=e.onHideUnderlay,d=e.onLongPress,h=e.onPress,p=e.onPressIn,f=e.onPressOut,A=e.onShowUnderlay,g=e.rejectResponderTermination,m=e.style,v=e.testOnly_pressed,y=e.underlayColor,E=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["accessible","activeOpacity","children","delayPressIn","delayPressOut","delayLongPress","disabled","focusable","onHideUnderlay","onLongPress","onPress","onPressIn","onPressOut","onShowUnderlay","rejectResponderTermination","style","testOnly_pressed","underlayColor"]),b=(0,Y.useRef)(null),_=(0,At.Z)(t,b),C=(0,Y.useState)(!0===v?bt(r,y):null),I=C[0],S=C[1],w=(0,Y.useCallback)((function(){_t(e)&&(S(bt(r,y)),null!=A&&A())}),[r,A,e,y]),R=(0,Y.useCallback)((function(){!0!==v&&_t(e)&&(S(null),null!=l&&l())}),[l,e,v]),T=(0,Y.useMemo)((function(){return{cancelable:!g,disabled:c,delayLongPress:s,delayPressStart:o,delayPressEnd:a,onLongPress:d,onPress:h,onPressStart:function(e){w(),null!=p&&p(e)},onPressEnd:function(e){R(),null!=f&&f(e)}}}),[s,o,a,c,d,h,p,f,g,w,R]),O=(0,gt.Z)(b,T),k=Y.Children.only(i);return Y.createElement(oe.Z,mt({},E,O,{accessibilityState:yt({disabled:c},e.accessibilityState),accessible:!1!==n,focusable:!1!==u&&void 0!==h,ref:_,style:[Ct.root,m,!c&&Ct.actionable,I&&I.underlay]}),Y.cloneElement(k,{style:H.Z.compose(k.props.style,I&&I.child)}))})));It.displayName="TouchableHighlight";const St=It;var wt=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.setNativeProps=function(){},i.render=function(){return Y.createElement(oe.Z,{style:[Rt,this.props.style]},this.props.children)},r}(Y.Component),Rt={};const Tt=wt,Ot=Tt;var kt=n(7901);const Nt=n(7967).Z;function Dt(e){return Y.createElement(Tt,e)}Dt.ignoreWarnings=function(){};const Pt=Dt,xt={ignoreLogs:function(){},ignoreAllLogs:function(){},uninstall:function(){},install:function(){}},Lt=Tt,Mt=Tt,Bt=Tt;var Ft=n(2669);const Ut={},jt={},Vt={},Qt=n(9299).Z;function Gt(){var e=Y.useState(y.getColorScheme()),t=e[0],n=e[1];return Y.useEffect((function(){function e(e){n(e.colorScheme)}return y.addChangeListener(e),function(){return y.removeChangeListener(e)}})),t}var qt=n(1682)},2474:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r={adjustable:"slider",button:"button",header:"heading",image:"img",imagebutton:null,keyboardkey:null,label:null,link:"link",none:"presentation",search:"search",summary:"region",text:null};const i=function(e){var t=e.accessibilityRole;if(t){var n=r[t];if(null!==n)return n||t}};var o={article:"article",banner:"header",complementary:"aside",contentinfo:"footer",form:"form",link:"a",list:"ul",listitem:"li",main:"main",navigation:"nav",region:"section"},a={};const s={buttonLikeRoles:{button:!0,menuitem:!0},isDisabled:function(e){return e.disabled||Array.isArray(e.accessibilityStates)&&e.accessibilityStates.indexOf("disabled")>-1},propsToAccessibilityComponent:function(e){if(void 0===e&&(e=a),"label"===e.accessibilityRole)return"label";var t=i(e);if(t){if("heading"===t){var n=e["aria-level"];return null!=n?"h"+n:"h1"}return o[t]}},propsToAriaRole:i}},3177:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(3853);const i={_currentlyFocusedNode:null,currentlyFocusedField:function(){return document.activeElement!==this._currentlyFocusedNode&&(this._currentlyFocusedNode=null),this._currentlyFocusedNode},focusTextInput:function(e){null!==e&&(this._currentlyFocusedNode=e,document.activeElement!==e&&r.Z.focus(e))},blurTextInput:function(e){null!==e&&(this._currentlyFocusedNode=null,document.activeElement===e&&r.Z.blur(e))}}},3170:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(2474),i=n(9150),o=n(773),a=n(6730),s=n(2452),c={},u=Object.prototype.hasOwnProperty,l=i.Z.create({reset:{backgroundColor:"transparent",color:"inherit",font:"inherit",listStyle:"none",margin:0,textAlign:"inherit",textDecoration:"none"},cursor:{cursor:"pointer"}},s.uL.classicReset),d=o.Z.create({auto:{pointerEvents:"auto"},"box-none":{pointerEvents:"box-none"},"box-only":{pointerEvents:"box-only"},none:{pointerEvents:"none"}});const h=function(e,t){t||(t=c);var n=t,i=n.accessibilityLabel,s=n.accessibilityLiveRegion,h=n.accessibilityState,p=n.accessibilityValue,f=n.accessible,A=n.classList,g=n.dataSet,m=n.disabled,v=n.importantForAccessibility,y=n.nativeID,E=n.pointerEvents,b=n.style,_=n.testID,C=(n.accessibilityRole,function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,["accessibilityLabel","accessibilityLiveRegion","accessibilityState","accessibilityValue","accessible","classList","dataSet","disabled","importantForAccessibility","nativeID","pointerEvents","style","testID","accessibilityRole"])),I=null!=h&&!0===h.disabled||m,S=r.Z.propsToAriaRole(t),w="link"===S||"a"===e||"button"===e||"input"===e||"select"===e||"textarea"===e||null!=C.contentEditable;if(null!=g)for(var R in g)if(u.call(g,R)){var T=g[R];null!=T&&(C["data-"+R]=T)}if(null!=i&&(C["aria-label"]=i),null!=s&&(C["aria-live"]="none"===s?"off":s),null!=S&&(C.role=S),null!=h)for(var O in h){var k=h[O];null!=k&&("disabled"===O||"hidden"===O?!0===k&&(C["aria-"+O]=k,C[O]=k):C["aria-"+O]=k)}if(null!=p)for(var N in p){var D=p[N];null!=D&&(C["aria-value"+N]=D)}"no-hide-descendants"===v&&(C["aria-hidden"]=!0),!0===I&&(C["aria-disabled"]=!0,C.disabled=!0);var P=!I&&"no"!==v&&"no-hide-descendants"!==v;w?!1!==f&&P?C["data-focusable"]=!0:C.tabIndex="-1":"button"===S||"menuitem"===S||"textbox"===S?!1!==f&&P&&(C["data-focusable"]=!0,C.tabIndex="0"):!0===f&&P&&(C["data-focusable"]=!0,C.tabIndex="0");var x=o.Z.compose(E&&d[E],b),L=("button"===S||"link"===S)&&!I,M=[("a"===e||"button"===e||"li"===e||"ul"===e||"heading"===S)&&l.reset,L&&l.cursor,A],B=a.Z.resolve(x,M),F=B.className,U=B.style;if(null!=F&&""!==F&&(C.className=F),U&&(C.style=U),null!=y&&(C.id=y),"a"===e&&"_blank"===C.target&&(C.rel=(C.rel||"")+" noopener noreferrer"),null!=_&&(C["data-testid"]=_),w||"button"===S||"menuitem"===S||!0===f&&P){var j=C.onClick;if(null!=j)if(I)C.onClick=function(e){e.stopPropagation()};else if(!w){var V=C.onKeyDown;C.onKeyDown=function(e){var t=e.key,n=e.repeat,r=" "===t||"Spacebar"===t,i="button"===S||"menuitem"===S;null!=V&&V(e),n||"Enter"!==t?r&&i&&(n||j(e),e.preventDefault()):j(e)}}}return C}},1763:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(3177);const i=function(){r.Z.blurTextInput(r.Z.currentlyFocusedField())}},3767:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){if(null!=e&&1===e.nodeType&&"function"==typeof e.getBoundingClientRect)return e.getBoundingClientRect()}},596:(e,t,n)=>{"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach((function(t){null!=t&&("function"!=typeof t?"object"!=typeof t?console.error("mergeRefs cannot handle Refs of type boolean, number or string, received ref "+String(t)):t.current=e:t(e))}))}}n.d(t,{Z:()=>r}),n(7294)},3145:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=/^[+-]?\d*(?:\.\d+)?(?:[Ee][+-]?\d+)?(%|\w*)/;const i=function(e,t){var n;return"string"==typeof e?""+parseFloat(e)*t+e.match(r)[1]:(n=e,!isNaN(parseFloat(n))&&isFinite(n)?e*t:void 0)}},5804:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(1082);const i=function(e,t){if(void 0===t&&(t=1),null!=e){if("string"==typeof e&&function(e){return"currentcolor"===e||"currentColor"===e||"inherit"===e||0===e.indexOf("var(")}(e))return e;var n=(0,r.Z)(e);if(null!=n)return"rgba("+(n>>16&255)+","+(n>>8&255)+","+(255&n)+","+((n>>24&255)/255*t).toFixed(2)+")"}}},5819:(e,t,n)=>{"use strict";function r(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(!0!==t[r]&&0!==r.indexOf("aria-")||(n[r]=e[r]));return n}n.d(t,{Z:()=>r})},8416:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexOrder:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,gridRow:!0,gridRowEnd:!0,gridRowGap:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnGap:!0,gridColumnStart:!0,lineClamp:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0,scale:!0,scaleX:!0,scaleY:!0,scaleZ:!0,shadowOpacity:!0},i=["ms","Moz","O","Webkit"];Object.keys(r).forEach((function(e){i.forEach((function(t){r[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(t,e)]=r[e]}))}));const o=r},42:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(6508),i=n(9863),o=n(3853),a=(r.canUseDOM,null);function s(e,t){var n=(r.canUseDOM&&void 0!==window.ResizeObserver&&null==a&&(a=new window.ResizeObserver((function(e){e.forEach((function(e){var t=e.target,n=t.__reactLayoutHandler;"function"==typeof n&&o.Z.measure(t,(function(t,r,i,o,a,s){var c={nativeEvent:{layout:{x:t,y:r,width:i,height:o,left:a,top:s}},timeStamp:Date.now()};Object.defineProperty(c.nativeEvent,"target",{enumerable:!0,get:function(){return e.target}}),n(c)}))}))}))),a);(0,i.Z)((function(){var n=e.current;null!=n&&(n.__reactLayoutHandler=t)}),[e,t]),(0,i.Z)((function(){var t=e.current;return null!=t&&null!=n&&("function"==typeof t.__reactLayoutHandler?n.observe(t):n.unobserve(t)),function(){null!=t&&null!=n&&n.unobserve(t)}}),[e,n])}},9863:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(6508),i=n(7294);const o=r.canUseDOM?i.useLayoutEffect:i.useEffect},6528:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(7294),i=n(596);function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useMemo((function(){return i.Z.apply(void 0,t)}),[].concat(t))}},91:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(3853),i=n(3170),o=n(7771),a=n(7294);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={};function l(e){var t=e.classList,n=e.pointerEvents,l=e.style,d=(0,a.useRef)(null),h=(0,a.useRef)(null);h.current={classList:t,pointerEvents:n,style:l};var p=(0,o.Z)((function(){return function(e){null!=e&&(e.measure=function(t){return r.Z.measure(e,t)},e.measureLayout=function(t,n,i){return r.Z.measureLayout(e,t,i,n)},e.measureInWindow=function(t){return r.Z.measureInWindow(e,t)},e.setNativeProps=function(t){var n=h.current||u,o=n.classList,a=n.style,l=n.pointerEvents;!function(e,t,n,o,a,u){if(null!=e&&t){var l=(0,i.Z)(null,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({pointerEvents:o},t,{classList:[n,t.className],style:[a,t.style]})),d=l.style;if(null!=u.current)for(var h in null==l.style&&(l.style={}),u.current)null==l.style[h]&&(l.style[h]="");u.current=d,r.Z.updateView(e,l)}}(e,t,o,l,a,d)})}}));return p}},6560:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r="DELAY",i="ERROR",o="LONG_PRESS_DETECTED",a="NOT_RESPONDER",s="RESPONDER_ACTIVE_LONG_PRESS_START",c="RESPONDER_ACTIVE_PRESS_START",u="RESPONDER_INACTIVE_PRESS_START",l="RESPONDER_RELEASE",d="RESPONDER_TERMINATED",h=Object.freeze({NOT_RESPONDER:{DELAY:i,RESPONDER_GRANT:u,RESPONDER_RELEASE:i,RESPONDER_TERMINATED:i,LONG_PRESS_DETECTED:i},RESPONDER_INACTIVE_PRESS_START:{DELAY:c,RESPONDER_GRANT:i,RESPONDER_RELEASE:a,RESPONDER_TERMINATED:a,LONG_PRESS_DETECTED:i},RESPONDER_ACTIVE_PRESS_START:{DELAY:i,RESPONDER_GRANT:i,RESPONDER_RELEASE:a,RESPONDER_TERMINATED:a,LONG_PRESS_DETECTED:s},RESPONDER_ACTIVE_LONG_PRESS_START:{DELAY:i,RESPONDER_GRANT:i,RESPONDER_RELEASE:a,RESPONDER_TERMINATED:a,LONG_PRESS_DETECTED:s},ERROR:{DELAY:a,RESPONDER_GRANT:u,RESPONDER_RELEASE:a,RESPONDER_TERMINATED:a,LONG_PRESS_DETECTED:a}}),p=function(e){return e===c||e===s},f=function(e){return"button"===e.getAttribute("role")},A=function(e){return e===u||e===c||e===s},g=function(){function e(e){this._eventHandlers=null,this._isPointerTouch=!1,this._longPressDelayTimeout=null,this._longPressDispatched=!1,this._pressDelayTimeout=null,this._pressOutDelayTimeout=null,this._touchState=a,this.configure(e)}var t=e.prototype;return t.configure=function(e){this._config=e},t.reset=function(){this._cancelLongPressDelayTimeout(),this._cancelPressDelayTimeout(),this._cancelPressOutDelayTimeout()},t.getEventHandlers=function(){return null==this._eventHandlers&&(this._eventHandlers=this._createEventHandlers()),this._eventHandlers},t._createEventHandlers=function(){var e=this,t=function(t,n){t.persist(),e._cancelPressOutDelayTimeout(),e._longPressDispatched=!1,e._responder=t.currentTarget,e._selectionTerminated=!1,e._touchState=a,e._isPointerTouch="touchstart"===t.nativeEvent.type,e._receiveSignal("RESPONDER_GRANT",t);var i=m(e._config.delayPressStart,0,50);!1!==n&&i>0?e._pressDelayTimeout=setTimeout((function(){e._receiveSignal(r,t)}),i):e._receiveSignal(r,t);var o=m(e._config.delayLongPress,10,450);e._longPressDelayTimeout=setTimeout((function(){e._handleLongPress(t)}),o+i)},n=function(t){e._receiveSignal(l,t)},i=function t(r){e._touchState!==a&&(n(r),document.removeEventListener("keyup",t))};return{onStartShouldSetResponder:function(t){var n=e._config.disabled;return n&&f(t.currentTarget)&&t.stopPropagation(),null==n||!n},onKeyDown:function(n){(function(e){var t=e.key,n=e.currentTarget.getAttribute("role"),r=" "===t||"Spacebar"===t;return!e.repeat&&("Enter"===t||r&&("button"===n||"menuitem"===n))})(n)&&(e._touchState===a&&(t(n,!1),document.addEventListener("keyup",i)),n.stopPropagation())},onResponderGrant:function(e){return t(e)},onResponderMove:function(t){null!=e._config.onPressMove&&e._config.onPressMove(t);var n=v(t);if(null!=e._touchActivatePosition){var r=e._touchActivatePosition.pageX-n.pageX,i=e._touchActivatePosition.pageY-n.pageY;Math.hypot(r,i)>10&&e._cancelLongPressDelayTimeout()}},onResponderRelease:function(e){return n(e)},onResponderTerminate:function(t){"selectionchange"===t.nativeEvent.type&&(e._selectionTerminated=!0),e._receiveSignal(d,t)},onResponderTerminationRequest:function(t){var n=e._config,r=n.cancelable,i=n.disabled,o=n.onLongPress;return!(!i&&null!=o&&e._isPointerTouch&&"contextmenu"===t.nativeEvent.type)&&(null==r||r)},onClick:function(t){var n=e._config,r=n.disabled,i=n.onPress;r?f(t.currentTarget)&&t.stopPropagation():(t.stopPropagation(),e._longPressDispatched||e._selectionTerminated?t.preventDefault():null!=i&&!1===t.ctrlKey&&!1===t.altKey&&i(t))},onContextMenu:function(t){var n=e._config,r=n.disabled,i=n.onLongPress;r?f(t.currentTarget)&&t.stopPropagation():null!=i&&e._isPointerTouch&&!t.defaultPrevented&&(t.preventDefault(),t.stopPropagation())}}},t._receiveSignal=function(e,t){var n=this._touchState,r=null;null!=h[n]&&(r=h[n][e]),null==this._responder&&e===l||(null==r||r===i?console.error("PressResponder: Invalid signal "+e+" for state "+n+" on responder"):n!==r&&(this._performTransitionSideEffects(n,r,e,t),this._touchState=r))},t._performTransitionSideEffects=function(e,t,n,r){if(function(e){return e===d||e===l}(n)&&(this._isPointerTouch=!1,this._touchActivatePosition=null,this._cancelLongPressDelayTimeout()),A(e)&&n===o){var i=this._config.onLongPress;null!=i&&null==r.nativeEvent.key&&(i(r),this._longPressDispatched=!0)}var a=p(e),c=p(t);if(!a&&c?this._activate(r):a&&!c&&this._deactivate(r),A(e)&&n===l){var u=this._config,h=u.onLongPress;null!=u.onPress&&(null!=h&&e===s||c||a||(this._activate(r),this._deactivate(r)))}this._cancelPressDelayTimeout()},t._activate=function(e){var t=this._config,n=t.onPressChange,r=t.onPressStart,i=v(e);this._touchActivatePosition={pageX:i.pageX,pageY:i.pageY},null!=r&&r(e),null!=n&&n(!0)},t._deactivate=function(e){var t=this._config,n=t.onPressChange,r=t.onPressEnd;function i(){null!=r&&r(e),null!=n&&n(!1)}var o=m(this._config.delayPressEnd);o>0?this._pressOutDelayTimeout=setTimeout((function(){i()}),o):i()},t._handleLongPress=function(e){this._touchState!==c&&this._touchState!==s||this._receiveSignal(o,e)},t._cancelLongPressDelayTimeout=function(){null!=this._longPressDelayTimeout&&(clearTimeout(this._longPressDelayTimeout),this._longPressDelayTimeout=null)},t._cancelPressDelayTimeout=function(){null!=this._pressDelayTimeout&&(clearTimeout(this._pressDelayTimeout),this._pressDelayTimeout=null)},t._cancelPressOutDelayTimeout=function(){null!=this._pressOutDelayTimeout&&(clearTimeout(this._pressOutDelayTimeout),this._pressOutDelayTimeout=null)},e}();function m(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=0),Math.max(t,null!=e?e:n)}function v(e){var t=e.nativeEvent,n=t.changedTouches,r=t.touches;return null!=r&&r.length>0?r[0]:null!=n&&n.length>0?n[0]:e.nativeEvent}var y=n(7294);function E(e,t){var n=(0,y.useRef)(null);null==n.current&&(n.current=new g(t));var r=n.current;return(0,y.useEffect)((function(){r.configure(t)}),[t,r]),(0,y.useEffect)((function(){return function(){r.reset()}}),[r]),(0,y.useDebugValue)(t),r.getEventHandlers()}},6077:(e,t,n)=>{"use strict";n.d(t,{Z:()=>H});var r=n(7294),i=n(6508),o=n(3767);function a(e){return"touchstart"===e||"mousedown"===e}function s(e){return"touchmove"===e||"mousemove"===e}function c(e){return"touchend"===e||"mouseup"===e||u(e)}function u(e){return"touchcancel"===e||"dragstart"===e}var l=[],d={touchBank:l,numberActiveTouches:0,indexOfSingleActiveTouch:-1,mostRecentTimeStamp:0};function h(e){return e.timeStamp||e.timestamp}function p(e){var t=e.identifier;return null==t&&console.error("Touch object is missing identifier."),t}function f(e){var t=p(e),n=l[t];n?function(e,t){e.touchActive=!0,e.startPageX=t.pageX,e.startPageY=t.pageY,e.startTimeStamp=h(t),e.currentPageX=t.pageX,e.currentPageY=t.pageY,e.currentTimeStamp=h(t),e.previousPageX=t.pageX,e.previousPageY=t.pageY,e.previousTimeStamp=h(t)}(n,e):l[t]=function(e){return{touchActive:!0,startPageX:e.pageX,startPageY:e.pageY,startTimeStamp:h(e),currentPageX:e.pageX,currentPageY:e.pageY,currentTimeStamp:h(e),previousPageX:e.pageX,previousPageY:e.pageY,previousTimeStamp:h(e)}}(e),d.mostRecentTimeStamp=h(e)}function A(e){var t=l[p(e)];t?(t.touchActive=!0,t.previousPageX=t.currentPageX,t.previousPageY=t.currentPageY,t.previousTimeStamp=t.currentTimeStamp,t.currentPageX=e.pageX,t.currentPageY=e.pageY,t.currentTimeStamp=h(e),d.mostRecentTimeStamp=h(e)):console.warn("Cannot record touch move without a touch start.\n","Touch Move: "+m(e)+"\n","Touch Bank: "+v())}function g(e){var t=l[p(e)];t?(t.touchActive=!1,t.previousPageX=t.currentPageX,t.previousPageY=t.currentPageY,t.previousTimeStamp=t.currentTimeStamp,t.currentPageX=e.pageX,t.currentPageY=e.pageY,t.currentTimeStamp=h(e),d.mostRecentTimeStamp=h(e)):console.warn("Cannot record touch end without a touch start.\n","Touch End: "+m(e)+"\n","Touch Bank: "+v())}function m(e){return JSON.stringify({identifier:e.identifier,pageX:e.pageX,pageY:e.pageY,timestamp:h(e)})}function v(){var e=JSON.stringify(l.slice(0,20));return l.length>20&&(e+=" (original size: "+l.length+")"),e}const y={recordTouchTrack:function(e,t){if(s(e))t.changedTouches.forEach(A);else if(a(e))t.changedTouches.forEach(f),d.numberActiveTouches=t.touches.length,1===d.numberActiveTouches&&(d.indexOfSingleActiveTouch=t.touches[0].identifier);else if(c(e)&&(t.changedTouches.forEach(g),d.numberActiveTouches=t.touches.length,1===d.numberActiveTouches))for(var n=0;n<l.length;n++){var r=l[n];if(null!=r&&r.touchActive){d.indexOfSingleActiveTouch=n;break}}},touchHistory:d};var E=function(){},b={},_=[];function C(e){return e>20?e%20:e}function I(e){var t,n,r,i=!1,a=e.changedTouches,s=e.type,c=!0===e.metaKey,u=!0===e.shiftKey,l=a&&a[0].force||0,d=C(a&&a[0].identifier||0),h=a&&a[0].clientX||e.clientX,p=a&&a[0].clientY||e.clientY,f=a&&a[0].pageX||e.pageX,A=a&&a[0].pageY||e.pageY,g="function"==typeof e.preventDefault?e.preventDefault.bind(e):E,m=e.timeStamp;function v(e){return Array.prototype.slice.call(e).map((function(e){return{force:e.force,identifier:C(e.identifier),get locationX(){return w(e.clientX)},get locationY(){return R(e.clientY)},pageX:e.pageX,pageY:e.pageY,target:e.target,timestamp:m}}))}if(null!=a)n=v(a),r=v(e.touches);else{var I=[{force:l,identifier:d,get locationX(){return w(h)},get locationY(){return R(p)},pageX:f,pageY:A,target:e.target,timestamp:m}];n=I,r="mouseup"===s||"dragstart"===s?_:I}var S={bubbles:!0,cancelable:!0,currentTarget:null,defaultPrevented:e.defaultPrevented,dispatchConfig:b,eventPhase:e.eventPhase,isDefaultPrevented:function(){return e.defaultPrevented},isPropagationStopped:function(){return i},isTrusted:e.isTrusted,nativeEvent:{altKey:!1,ctrlKey:!1,metaKey:c,shiftKey:u,changedTouches:n,force:l,identifier:d,get locationX(){return w(h)},get locationY(){return R(p)},pageX:f,pageY:A,target:e.target,timestamp:m,touches:r,type:s},persist:E,preventDefault:g,stopPropagation:function(){i=!0},target:e.target,timeStamp:m,touchHistory:y.touchHistory};function w(e){if(t=t||(0,o.Z)(S.currentTarget))return e-t.left}function R(e){if(t=t||(0,o.Z)(S.currentTarget))return e-t.top}return S}var S="__reactResponderId";function w(e){for(var t=[];null!=e&&e!==document.body;)t.push(e),e=e.parentNode;return t}function R(e){return null!=e?e[S]:null}var T={},O=["onStartShouldSetResponderCapture","onStartShouldSetResponder",{bubbles:!0}],k=["onMoveShouldSetResponderCapture","onMoveShouldSetResponder",{bubbles:!0}],N={touchstart:O,mousedown:O,touchmove:k,mousemove:k,scroll:["onScrollShouldSetResponderCapture","onScrollShouldSetResponder",{bubbles:!1}]},D={id:null,idPath:null,node:null},P=new Map,x=!1,L=0,M={id:null,node:null,idPath:null};function B(e){M=e}function F(e){var t=P.get(e);return null!=t?t:T}function U(e){var t=e.type,n=e.target;if("touchstart"===t&&(x=!0),("touchmove"===t||L>1)&&(x=!1),!("mousedown"===t&&x||"mousemove"===t&&x||"mousemove"===t&&L<1))if(x&&"mouseup"===t)0===L&&(x=!1);else{var r=a(t)&&function(e){var t=e.altKey,n=e.button,r=e.buttons,i=e.ctrlKey,o=e.type,a=!1===t&&!1===i;return!!("touchstart"===o||"touchmove"===o||"mousedown"===o&&(0===n||1===r)&&a||"mousemove"===o&&1===r&&a)}(e),i=s(t),o=c(t),l=function(e){return"scroll"===e}(t),d=function(e){return"select"===e||"selectionchange"===e}(t),h=I(e);(r||i||o)&&(e.touches?L=e.touches.length:r?L=1:o&&(L=0),y.recordTouchTrack(t,h.nativeEvent));var p,f=function(e){for(var t=[],n=[],r=function(e){return"selectionchange"===e.type?w(window.getSelection().anchorNode):null!=e.composedPath?e.composedPath():w(e.target)}(e),i=0;i<r.length;i++){var o=r[i],a=R(o);null!=a&&(t.push(a),n.push(o))}return{idPath:t,nodePath:n}}(e),A=!1;if(r||i||l&&L>0){var g=M.idPath,m=f.idPath;if(null!=g&&null!=m){var v=function(e,t){var n=e.length,r=t.length;if(0===n||0===r||e[n-1]!==t[r-1])return null;var i=e[0],o=0,a=t[0],s=0;n-r>0&&(i=e[o=n-r],n=r),r-n>0&&(a=t[s=r-n],r=n);for(var c=n;c--;){if(i===a)return i;i=e[o++],a=t[s++]}return null}(g,m);if(null!=v){var E=m.indexOf(v)+(v===M.id?1:0);f={idPath:m.slice(E),nodePath:f.nodePath.slice(E)}}else f=null}null!=f&&(p=function(e,t,n){var r=N[t.type];if(null!=r){for(var i=e.idPath,o=e.nodePath,a=r[0],s=r[1],c=r[2].bubbles,u=function(e,t,r){var o=F(e)[r];if(null!=o&&(n.currentTarget=t,!0===o(n)))return{id:e,node:t,idPath:i.slice(i.indexOf(e))}},l=i.length-1;l>=0;l--){var d=u(i[l],o[l],a);if(null!=d)return d;if(!0===n.isPropagationStopped())return}if(c)for(var h=0;h<i.length;h++){var p=u(i[h],o[h],s);if(null!=p)return p;if(!0===n.isPropagationStopped())return}else{var f=i[0],A=o[0];if(t.target===A)return u(f,A,s)}}}(f,e,h),null!=p&&(function(e,t){var n=M,r=n.id,i=n.node,o=t.id,a=t.node,s=F(o),c=s.onResponderGrant,u=s.onResponderReject;if(e.bubbles=!1,e.cancelable=!1,e.currentTarget=a,null==r)null!=c&&(e.currentTarget=a,e.dispatchConfig.registrationName="onResponderGrant",c(e)),B(t);else{var l=F(r),d=l.onResponderTerminate,h=l.onResponderTerminationRequest,p=!0;null!=h&&(e.currentTarget=i,e.dispatchConfig.registrationName="onResponderTerminationRequest",!1===h(e)&&(p=!1)),p?(null!=d&&(e.currentTarget=i,e.dispatchConfig.registrationName="onResponderTerminate",d(e)),null!=c&&(e.currentTarget=a,e.dispatchConfig.registrationName="onResponderGrant",c(e)),B(t)):null!=u&&(e.currentTarget=a,e.dispatchConfig.registrationName="onResponderReject",u(e))}}(h,p),A=!0))}if(null!=M.id&&null!=M.node){var b=M,_=b.id,C=b.node,S=F(_),T=S.onResponderStart,O=S.onResponderMove,k=S.onResponderEnd,P=S.onResponderRelease,U=S.onResponderTerminate,j=S.onResponderTerminationRequest;if(h.bubbles=!1,h.cancelable=!1,h.currentTarget=C,r)null!=T&&(h.dispatchConfig.registrationName="onResponderStart",T(h));else if(i)null!=O&&(h.dispatchConfig.registrationName="onResponderMove",O(h));else{var V=u(t)||"contextmenu"===t||"blur"===t&&n===window||"blur"===t&&n.contains(C)&&e.relatedTarget!==C||l&&0===L||l&&n.contains(C)&&n!==C||d&&function(e){return"selectionchange"===e.type?(n=(t=window.getSelection()).toString(),r=t.anchorNode,i=t.focusNode,o=r&&r.nodeType===window.Node.TEXT_NODE||i&&i.nodeType===window.Node.TEXT_NODE,n.length>=1&&"\n"!==n&&o):"select"===e.type;var t,n,r,i,o}(e),Q=o&&!V&&!function(e,t){if(!t||0===t.length)return!1;for(var n=0;n<t.length;n++){var r=t[n].target;if(null!=r&&e.contains(r))return!0}return!1}(C,e.touches);if(o&&null!=k&&(h.dispatchConfig.registrationName="onResponderEnd",k(h)),Q&&(null!=P&&(h.dispatchConfig.registrationName="onResponderRelease",P(h)),B(D)),V){var G=!0;"contextmenu"!==t&&"scroll"!==t&&"selectionchange"!==t||(A?G=!1:null!=j&&(h.dispatchConfig.registrationName="onResponderTerminationRequest",!1===j(h)&&(G=!1))),G&&(null!=U&&(h.dispatchConfig.registrationName="onResponderTerminate",U(h)),B(D),x=!1,L=0)}}}}}var j=["blur","scroll"],V=["mousedown","mousemove","mouseup","dragstart","touchstart","touchmove","touchend","touchcancel","contextmenu","select","selectionchange"];function Q(e){M.id===e&&function(){var e=M,t=e.id,n=e.node;if(null!=t&&null!=n){var r=F(t).onResponderTerminate;if(null!=r){var i=I({});i.currentTarget=n,r(i)}B(D)}x=!1,L=0}(),P.has(e)&&P.delete(e)}var G={},q=0;function H(e,t){void 0===t&&(t=G);var n,o,a=(n=function(){return q++},null==(o=r.useRef(null)).current&&(o.current=n()),o.current),s=r.useRef(!1);r.useEffect((function(){return i.canUseDOM&&null==window.__reactResponderSystemActive&&(window.addEventListener("blur",U),V.forEach((function(e){document.addEventListener(e,U)})),j.forEach((function(e){document.addEventListener(e,U,!0)})),window.__reactResponderSystemActive=!0),function(){Q(a)}}),[a]),r.useEffect((function(){var n=t,r=n.onMoveShouldSetResponder,i=n.onMoveShouldSetResponderCapture,o=n.onScrollShouldSetResponder,c=n.onScrollShouldSetResponderCapture,u=n.onSelectionChangeShouldSetResponder,l=n.onSelectionChangeShouldSetResponderCapture,d=n.onStartShouldSetResponder,h=n.onStartShouldSetResponderCapture,p=null!=r||null!=i||null!=o||null!=c||null!=u||null!=l||null!=d||null!=h,f=e.current;p?(function(e,t,n){!function(e,t){null!=e&&(e[S]=t)}(t,e),P.set(e,n)}(a,f,t),s.current=!0):s.current&&(Q(a),s.current=!1)}),[t,e,a]),r.useDebugValue({isResponder:e.current===M.node}),r.useDebugValue(t)}},7771:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(7294),i="function"==typeof Symbol&&"symbol"==typeof Symbol()?Symbol():Object.freeze({});function o(e){var t=r.useRef(i);return t.current===i&&(t.current=e()),t.current}},1443:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r,i=.1,o="function"==typeof Float32Array;function a(e,t){return 1-3*t+3*e}function s(e,t){return 3*t-6*e}function c(e){return 3*e}function u(e,t,n){return((a(t,n)*e+s(t,n))*e+c(t))*e}function l(e,t,n){return 3*a(t,n)*e*e+2*s(t,n)*e+c(t)}function d(e,t,n,r){if(!(e>=0&&e<=1&&n>=0&&n<=1))throw new Error("bezier x values must be in [0, 1] range");var a=o?new Float32Array(11):new Array(11);if(e!==t||n!==r)for(var s=0;s<11;++s)a[s]=u(s*i,e,n);return function(o){return e===t&&n===r?o:0===o?0:1===o?1:u(function(t){for(var r=0,o=1;10!==o&&a[o]<=t;++o)r+=i;--o;var s=r+(t-a[o])/(a[o+1]-a[o])*i,c=l(s,e,n);return c>=.001?function(e,t,n,r){for(var i=t,o=0;o<4;++o){var a=l(i,n,r);if(0===a)return i;i-=(u(i,n,r)-e)/a}return i}(t,s,e,n):0===c?s:function(e,t,n,r,i){var o,a,s=0,c=t,l=n;do{(o=u(a=c+(l-c)/2,r,i)-e)>0?l=a:c=a}while(Math.abs(o)>1e-7&&++s<10);return a}(t,r,r+i,e,n)}(o),t,r)}}const h=function(){function e(){}return e.step0=function(e){return e>0?1:0},e.step1=function(e){return e>=1?1:0},e.linear=function(e){return e},e.ease=function(t){return r||(r=e.bezier(.42,0,1,1)),r(t)},e.quad=function(e){return e*e},e.cubic=function(e){return e*e*e},e.poly=function(e){return function(t){return Math.pow(t,e)}},e.sin=function(e){return 1-Math.cos(e*Math.PI/2)},e.circle=function(e){return 1-Math.sqrt(1-e*e)},e.exp=function(e){return Math.pow(2,10*(e-1))},e.elastic=function(e){void 0===e&&(e=1);var t=e*Math.PI;return function(e){return 1-Math.pow(Math.cos(e*Math.PI/2),3)*Math.cos(e*t)}},e.back=function(e){return void 0===e&&(e=1.70158),function(t){return t*t*((e+1)*t-e)}},e.bounce=function(e){if(e<1/2.75)return 7.5625*e*e;if(e<2/2.75){var t=e-1.5/2.75;return 7.5625*t*t+.75}if(e<2.5/2.75){var n=e-2.25/2.75;return 7.5625*n*n+.9375}var r=e-2.625/2.75;return 7.5625*r*r+.984375},e.bezier=function(e,t,n,r){return d(e,t,n,r)},e.in=function(e){return e},e.out=function(e){return function(t){return 1-e(1-t)}},e.inOut=function(e){return function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2}},e}()},9299:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(8463),i=n(8875);const o=new(function(e){var t,n;function r(){var t,n=new i.Z;return(t=e.call(this,n)||this).sharedSubscriber=n,t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.addListener=function(t,n,r){return e.prototype.addListener.call(this,t,n,r)},o.removeAllListeners=function(t){e.prototype.removeAllListeners.call(this,t)},o.removeSubscription=function(t){t.emitter!==this?t.emitter.removeSubscription(t):e.prototype.removeSubscription.call(this,t)},r}(r.Z))},6086:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8463),i=n(9299),o=n(3759),a=n.n(o);const s=function(e){var t,n;function r(t){return e.call(this,i.Z.sharedSubscriber)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.addListener=function(t,n,r){return null!=this._nativeModule&&this._nativeModule.addListener(t),e.prototype.addListener.call(this,t,n,r)},o.removeAllListeners=function(t){a()(t,"eventType argument is required.");var n=this.listeners(t).length;null!=this._nativeModule&&this._nativeModule.removeListeners(n),e.prototype.removeAllListeners.call(this,t)},o.removeSubscription=function(t){null!=this._nativeModule&&this._nativeModule.removeListeners(1),e.prototype.removeSubscription.call(this,t)},r}(r.Z)},7967:(e,t,n)=>{"use strict";n.d(t,{Z:()=>G});var r=n(1123);const i=function(){function e(e,t){this._delay=t,this._callback=e}var t=e.prototype;return t.dispose=function(e){void 0===e&&(e={abort:!1}),this._taskHandle&&(this._taskHandle.cancel(),e.abort||this._callback(),this._taskHandle=null)},t.schedule=function(){var e=this;if(!this._taskHandle){var t=setTimeout((function(){e._taskHandle=r.Z.runAfterInteractions((function(){e._taskHandle=null,e._callback()}))}),this._delay);this._taskHandle={cancel:function(){return clearTimeout(t)}}}},e}();var o=n(8166),a=n.n(o),s=n(3620),c=n.n(s);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(){this.any_blank_count=0,this.any_blank_ms=0,this.any_blank_speed_sum=0,this.mostly_blank_count=0,this.mostly_blank_ms=0,this.pixels_blank=0,this.pixels_sampled=0,this.pixels_scrolled=0,this.total_time_spent=0,this.sample_count=0},h=[],p=10,f=null;const A=function(){function e(e){this._anyBlankStartTime=null,this._enabled=!1,this._info=new d,this._mostlyBlankStartTime=null,this._samplesStartTime=null,this._getFrameMetrics=e,this._enabled=(f||0)>Math.random(),this._resetData()}e.addListener=function(e){return c()(null!==f,"Call `FillRateHelper.setSampleRate` before `addListener`."),h.push(e),{remove:function(){h=h.filter((function(t){return e!==t}))}}},e.setSampleRate=function(e){f=e},e.setMinSampleCount=function(e){p=e};var t=e.prototype;return t.activate=function(){this._enabled&&null==this._samplesStartTime&&(this._samplesStartTime=a()())},t.deactivateAndFlush=function(){if(this._enabled){var e=this._samplesStartTime;if(null!=e)if(this._info.sample_count<p)this._resetData();else{var t=a()()-e,n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this._info,{total_time_spent:t});h.forEach((function(e){return e(n)})),this._resetData()}}},t.computeBlankness=function(e,t,n){if(!this._enabled||0===e.getItemCount(e.data)||null==this._samplesStartTime)return 0;var r=n.dOffset,i=n.offset,o=n.velocity,s=n.visibleLength;this._info.sample_count++,this._info.pixels_sampled+=Math.round(s),this._info.pixels_scrolled+=Math.round(Math.abs(r));var c=Math.round(1e3*Math.abs(o)),u=a()();null!=this._anyBlankStartTime&&(this._info.any_blank_ms+=u-this._anyBlankStartTime),this._anyBlankStartTime=null,null!=this._mostlyBlankStartTime&&(this._info.mostly_blank_ms+=u-this._mostlyBlankStartTime),this._mostlyBlankStartTime=null;for(var l=0,d=t.first,h=this._getFrameMetrics(d);d<=t.last&&(!h||!h.inLayout);)h=this._getFrameMetrics(d),d++;h&&d>0&&(l=Math.min(s,Math.max(0,h.offset-i)));for(var p=0,f=t.last,A=this._getFrameMetrics(f);f>=t.first&&(!A||!A.inLayout);)A=this._getFrameMetrics(f),f--;if(A&&f<e.getItemCount(e.data)-1){var g=A.offset+A.length;p=Math.min(s,Math.max(0,i+s-g))}var m=Math.round(l+p),v=m/s;return v>0?(this._anyBlankStartTime=u,this._info.any_blank_speed_sum+=c,this._info.any_blank_count++,this._info.pixels_blank+=m,v>.5&&(this._mostlyBlankStartTime=u,this._info.mostly_blank_count++)):(c<.01||Math.abs(r)<1)&&this.deactivateAndFlush(),v},t.enabled=function(){return this._enabled},t._resetData=function(){this._anyBlankStartTime=null,this._info=new d,this._mostlyBlankStartTime=null,this._samplesStartTime=null},e}();var g=n(5697),m=n.n(g),v=n(7294),y=n(3330),E=n(5164),b=n(773),_=n(7177),C=n(3759),I=n.n(C);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e,t,n,r,i,o){if(function(e,t,n){return e>=0&&t<=n&&t>e}(n,r,i))return!0;var a=function(e,t,n){var r=Math.min(t,n)-Math.max(e,0);return Math.max(0,r)}(n,r,i);return 100*(e?a/i:a/o)>=t}const O=function(){function e(e){void 0===e&&(e={viewAreaCoveragePercentThreshold:0}),this._hasInteracted=!1,this._timers=new Set,this._viewableIndices=[],this._viewableItems=new Map,this._config=e}var t=e.prototype;return t.dispose=function(){this._timers.forEach(clearTimeout)},t.computeViewableItems=function(e,t,n,r,i){var o=this._config,a=o.itemVisiblePercentThreshold,s=o.viewAreaCoveragePercentThreshold,c=null!=s,u=c?s:a;I()(null!=u&&null!=a!=(null!=s),"Must set exactly one of itemVisiblePercentThreshold or viewAreaCoveragePercentThreshold");var l=[];if(0===e)return l;var d=-1,h=i||{first:0,last:e-1},p=h.first,f=h.last;if(f>=e)return console.warn("Invalid render range computing viewability "+JSON.stringify({renderRange:i,itemCount:e})),[];for(var A=p;A<=f;A++){var g=r(A);if(g){var m=g.offset-t,v=m+g.length;if(m<n&&v>0)d=A,T(c,u,m,v,n,g.length)&&l.push(A);else if(d>=0)break}}return l},t.onUpdate=function(e,t,n,r,i,o,a){var s=this;if((!this._config.waitForInteraction||this._hasInteracted)&&0!==e&&r(0)){var c=[];if(e&&(c=this.computeViewableItems(e,t,n,r,a)),this._viewableIndices.length!==c.length||!this._viewableIndices.every((function(e,t){return e===c[t]})))if(this._viewableIndices=c,this._config.minimumViewTime){var u=setTimeout((function(){s._timers.delete(u),s._onUpdateSync(c,o,i)}),this._config.minimumViewTime);this._timers.add(u)}else this._onUpdateSync(c,o,i)}},t.resetViewableIndices=function(){this._viewableIndices=[]},t.recordInteraction=function(){this._hasInteracted=!0},t._onUpdateSync=function(e,t,n){var r=this;e=e.filter((function(e){return r._viewableIndices.includes(e)}));var i=this._viewableItems,o=new Map(e.map((function(e){var t=n(e,!0);return[t.key,t]}))),a=[],s=o,c=Array.isArray(s),u=0;for(s=c?s:s[Symbol.iterator]();;){var l;if(c){if(u>=s.length)break;l=s[u++]}else{if((u=s.next()).done)break;l=u.value}var d=l,h=d[0],p=d[1];i.has(h)||a.push(p)}var f=i,A=Array.isArray(f),g=0;for(f=A?f:f[Symbol.iterator]();;){var m;if(A){if(g>=f.length)break;m=f[g++]}else{if((g=f.next()).done)break;m=g.value}var v=m,y=v[0],E=v[1];o.has(y)||a.push(w({},E,{isViewable:!1}))}a.length>0&&(this._viewableItems=o,t({viewableItems:Array.from(o.values()),changed:a,viewabilityConfig:this._config}))},e}();var k=n(2747);function N(e,t,n,r){var i=e.data,o=e.getItemCount,a=e.maxToRenderPerBatch,s=e.windowSize,c=o(i);if(0===c)return t;var u=r.offset,l=r.velocity,d=r.visibleLength,h=Math.max(0,u),p=h+d,f=(s-1)*d,A=l>1?"after":l<-1?"before":"none",g=Math.max(0,h-.5*f),m=Math.max(0,p+.5*f);if(n(c-1).offset<g)return{first:Math.max(0,c-1-a),last:c-1};var v=function(e,t,n){for(var r=[],i=0,o=0;o<t;o++)for(var a=n(o),s=a.offset+a.length,c=0;c<e.length;c++)if(null==r[c]&&s>=e[c]&&(r[c]=o,i++,c===e.length-1))return I()(i===e.length,"bad offsets input, should be in increasing order: %s",JSON.stringify(e)),r;return r}([g,h,p,m],e.getItemCount(e.data),n),y=v[0],E=v[1],b=v[2],_=v[3];y=null==y?0:y,_=null==_?c-1:_;for(var C={first:E=null==E?Math.max(0,y):E,last:b=null==b?Math.min(_,E+a-1):b},S=function(e,t){return t.last-t.first+1-Math.max(0,1+Math.min(t.last,e.last)-Math.max(t.first,e.first))}(t,C);!(E<=y&&b>=_);){var w=S>=a,R=E<=t.first||E>t.last,T=E>y&&(!w||!R),O=b>=t.last||b<t.first,k=b<_&&(!w||!O);if(w&&!T&&!k)break;!T||"after"===A&&k&&O||(R&&S++,E--),!k||"before"===A&&T&&R||(O&&S++,b++)}if(!(b>=E&&E>=0&&b<c&&E>=y&&b<=_&&E<=C.first&&b>=C.last))throw new Error("Bad window calculation "+JSON.stringify({first:E,last:b,itemCount:c,overscanFirst:y,overscanLast:_,visible:C}));return{first:E,last:b}}function D(){return D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D.apply(this,arguments)}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}b.Z.flatten;var B=!1,F="",U=function(e){M(n,e);var t=n.prototype;function n(t,n){var r;(r=e.call(this,t,n)||this)._getScrollMetrics=function(){return r._scrollMetrics},r._getOutermostParentListRef=function(){return r._isNestedWithSameOrientation()?r.context.virtualizedList.getOutermostParentListRef():function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r)},r._getNestedChildState=function(e){var t=r._nestedChildLists.get(e);return t&&t.state},r._registerAsNestedChild=function(e){var t=r._cellKeysToChildListKeys.get(e.cellKey)||new Set;t.add(e.key),r._cellKeysToChildListKeys.set(e.cellKey,t);var n=r._nestedChildLists.get(e.key);n&&null!==n.ref&&console.error("A VirtualizedList contains a cell which itself contains more than one VirtualizedList of the same orientation as the parent list. You must pass a unique listKey prop to each sibling list."),r._nestedChildLists.set(e.key,{ref:e.ref,state:null}),r._hasInteracted&&e.ref.recordInteraction()},r._unregisterAsNestedChild=function(e){r._nestedChildLists.set(e.key,{ref:null,state:e.state})},r._onUpdateSeparators=function(e,t){e.forEach((function(e){var n=null!=e&&r._cellRefs[e];n&&n.updateSeparatorProps(t)}))},r._averageCellLength=0,r._cellKeysToChildListKeys=new Map,r._cellRefs={},r._frames={},r._footerLength=0,r._hasDataChangedSinceEndReached=!0,r._hasDoneInitialScroll=!1,r._hasInteracted=!1,r._hasMore=!1,r._hasWarned={},r._headerLength=0,r._hiPriInProgress=!1,r._highestMeasuredFrameIndex=0,r._indicesToKeys=new Map,r._nestedChildLists=new Map,r._offsetFromParentVirtualizedList=0,r._prevParentOffset=0,r._scrollMetrics={contentLength:0,dOffset:0,dt:10,offset:0,timestamp:0,velocity:0,visibleLength:0},r._scrollRef=null,r._sentEndForContentLength=0,r._totalCellLength=0,r._totalCellsMeasured=0,r._viewabilityTuples=[],r._captureScrollRef=function(e){r._scrollRef=e},r._defaultRenderScrollComponent=function(e){var t=e.onRefresh;return r._isNestedWithSameOrientation()?v.createElement(_.Z,e):t?(I()("boolean"==typeof e.refreshing,"`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `"+JSON.stringify(e.refreshing)+"`"),v.createElement(E.Z,D({},e,{refreshControl:null==e.refreshControl?v.createElement(y.Z,{refreshing:e.refreshing,onRefresh:t,progressViewOffset:e.progressViewOffset}):e.refreshControl}))):v.createElement(E.Z,e)},r._onCellUnmount=function(e){var t=r._frames[e];t&&(r._frames[e]=x({},t,{inLayout:!1}))},r._onLayout=function(e){r._isNestedWithSameOrientation()?r.measureLayoutRelativeToContainingList():r._scrollMetrics.visibleLength=r._selectLength(e.nativeEvent.layout),r.props.onLayout&&r.props.onLayout(e),r._scheduleCellsToRenderUpdate(),r._maybeCallOnEndReached()},r._onLayoutEmpty=function(e){r.props.onLayout&&r.props.onLayout(e)},r._onLayoutFooter=function(e){r._footerLength=r._selectLength(e.nativeEvent.layout)},r._onLayoutHeader=function(e){r._headerLength=r._selectLength(e.nativeEvent.layout)},r._onContentSizeChange=function(e,t){e>0&&t>0&&null!=r.props.initialScrollIndex&&r.props.initialScrollIndex>0&&!r._hasDoneInitialScroll&&(r.scrollToIndex({animated:!1,index:r.props.initialScrollIndex}),r._hasDoneInitialScroll=!0),r.props.onContentSizeChange&&r.props.onContentSizeChange(e,t),r._scrollMetrics.contentLength=r._selectLength({height:t,width:e}),r._scheduleCellsToRenderUpdate(),r._maybeCallOnEndReached()},r._convertParentScrollMetrics=function(e){var t=e.offset-r._offsetFromParentVirtualizedList,n=e.visibleLength,i=t-r._scrollMetrics.offset;return{visibleLength:n,contentLength:r._scrollMetrics.contentLength,offset:t,dOffset:i}},r._onScroll=function(e){r._nestedChildLists.forEach((function(t){t.ref&&t.ref._onScroll(e)})),r.props.onScroll&&r.props.onScroll(e);var t=e.timeStamp,n=r._selectLength(e.nativeEvent.layoutMeasurement),i=r._selectLength(e.nativeEvent.contentSize),o=r._selectOffset(e.nativeEvent.contentOffset),a=o-r._scrollMetrics.offset;if(r._isNestedWithSameOrientation()){if(0===r._scrollMetrics.contentLength)return;var s=r._convertParentScrollMetrics({visibleLength:n,offset:o});n=s.visibleLength,i=s.contentLength,o=s.offset,a=s.dOffset}var c=r._scrollMetrics.timestamp?Math.max(1,t-r._scrollMetrics.timestamp):1,u=a/c;c>500&&r._scrollMetrics.dt>500&&i>5*n&&!r._hasWarned.perf&&(function(){var e;(e=console).log.apply(e,arguments)}("VirtualizedList: You have a large list that is slow to update - make sure your renderItem function renders components that follow React performance best practices like PureComponent, shouldComponentUpdate, etc.",{dt:c,prevDt:r._scrollMetrics.dt,contentLength:i}),r._hasWarned.perf=!0),r._scrollMetrics={contentLength:i,dt:c,dOffset:a,offset:o,timestamp:t,velocity:u,visibleLength:n},r._updateViewableItems(r.props.data),r.props&&(r._maybeCallOnEndReached(),0!==u&&r._fillRateHelper.activate(),r._computeBlankness(),r._scheduleCellsToRenderUpdate())},r._onScrollBeginDrag=function(e){r._nestedChildLists.forEach((function(t){t.ref&&t.ref._onScrollBeginDrag(e)})),r._viewabilityTuples.forEach((function(e){e.viewabilityHelper.recordInteraction()})),r._hasInteracted=!0,r.props.onScrollBeginDrag&&r.props.onScrollBeginDrag(e)},r._onScrollEndDrag=function(e){var t=e.nativeEvent.velocity;t&&(r._scrollMetrics.velocity=r._selectOffset(t)),r._computeBlankness(),r.props.onScrollEndDrag&&r.props.onScrollEndDrag(e)},r._onMomentumScrollEnd=function(e){r._scrollMetrics.velocity=0,r._computeBlankness(),r.props.onMomentumScrollEnd&&r.props.onMomentumScrollEnd(e)},r._updateCellsToRender=function(){var e=r.props,t=e.data,n=e.getItemCount,i=e.onEndReachedThreshold,o=r._isVirtualizationDisabled();r._updateViewableItems(t),t&&r.setState((function(e){var a;if(o){var s=r._scrollMetrics,c=s.contentLength,u=s.offset,l=s.visibleLength,d=c-l-u<i*l?r.props.maxToRenderPerBatch:0;a={first:0,last:Math.min(e.last+d,n(t)-1)}}else r._scrollMetrics.visibleLength&&(r.props.initialScrollIndex&&!r._scrollMetrics.offset||(a=N(r.props,e,r._getFrameMetricsApprox,r._scrollMetrics)));if(a&&r._nestedChildLists.size>0)for(var h=a.first,p=a.last,f=h;f<=p;f++){var A=r._indicesToKeys.get(f),g=A&&r._cellKeysToChildListKeys.get(A);if(g){var m=!1,v=g,y=Array.isArray(v),E=0;for(v=y?v:v[Symbol.iterator]();;){var b;if(y){if(E>=v.length)break;b=v[E++]}else{if((E=v.next()).done)break;b=E.value}var _=b,C=r._nestedChildLists.get(_);if(C&&C.ref&&C.ref.hasMore()){m=!0;break}}if(m){a.last=f;break}}}return a}))},r._createViewToken=function(e,t){var n=r.props,i=n.data,o=n.getItem,a=n.keyExtractor,s=o(i,e);return{index:e,item:s,key:a(s,e),isViewable:t}},r._getFrameMetricsApprox=function(e){var t=r._getFrameMetrics(e);if(t&&t.index===e)return t;var n=r.props.getItemLayout;return I()(!n,"Should not have to estimate frames when a measurement metrics function is provided"),{length:r._averageCellLength,offset:r._averageCellLength*e}},r._getFrameMetrics=function(e){var t=r.props,n=t.data,i=t.getItem,o=t.getItemCount,a=t.getItemLayout,s=t.keyExtractor;I()(o(n)>e,"Tried to get frame for out of range index "+e);var c=i(n,e),u=c&&r._frames[s(c,e)];return u&&u.index===e||a&&(u=a(n,e)),u},I()(!t.onScroll||!t.onScroll.__isNative,"Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent to support native onScroll events with useNativeDriver"),I()(t.windowSize>0,"VirtualizedList: The windowSize prop must be present and set to a value greater than 0."),r._fillRateHelper=new A(r._getFrameMetrics),r._updateCellsToRenderBatcher=new i(r._updateCellsToRender,r.props.updateCellsBatchingPeriod),r.props.viewabilityConfigCallbackPairs?r._viewabilityTuples=r.props.viewabilityConfigCallbackPairs.map((function(e){return{viewabilityHelper:new O(e.viewabilityConfig),onViewableItemsChanged:e.onViewableItemsChanged}})):r.props.onViewableItemsChanged&&r._viewabilityTuples.push({viewabilityHelper:new O(r.props.viewabilityConfig),onViewableItemsChanged:r.props.onViewableItemsChanged});var o={first:r.props.initialScrollIndex||0,last:Math.min(r.props.getItemCount(r.props.data),(r.props.initialScrollIndex||0)+r.props.initialNumToRender)-1};if(r._isNestedWithSameOrientation()){var a=r.context.virtualizedList.getNestedChildState(r.props.listKey||r._getCellKey());a&&(o=a,r.state=a,r._frames=a.frames)}return r.state=o,r}return t.scrollToEnd=function(e){var t=!e||e.animated,n=this.props.getItemCount(this.props.data)-1,r=this._getFrameMetricsApprox(n),i=Math.max(0,r.offset+r.length+this._footerLength-this._scrollMetrics.visibleLength);this._scrollRef.scrollTo(this.props.horizontal?{x:i,animated:t}:{y:i,animated:t})},t.scrollToIndex=function(e){var t=this.props,n=t.data,r=t.horizontal,i=t.getItemCount,o=t.getItemLayout,a=t.onScrollToIndexFailed,s=e.animated,c=e.index,u=e.viewOffset,l=e.viewPosition;if(I()(c>=0&&c<i(n),"scrollToIndex out of range: "+c+" vs "+(i(n)-1)),!o&&c>this._highestMeasuredFrameIndex)return I()(!!a,"scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, otherwise there is no way to know the location of offscreen indices or handle failures."),void a({averageItemLength:this._averageCellLength,highestMeasuredFrameIndex:this._highestMeasuredFrameIndex,index:c});var d=this._getFrameMetricsApprox(c),h=Math.max(0,d.offset-(l||0)*(this._scrollMetrics.visibleLength-d.length))-(u||0);this._scrollRef.scrollTo(r?{x:h,animated:s}:{y:h,animated:s})},t.scrollToItem=function(e){for(var t=e.item,n=this.props,r=n.data,i=n.getItem,o=(0,n.getItemCount)(r),a=0;a<o;a++)if(i(r,a)===t){this.scrollToIndex(x({},e,{index:a}));break}},t.scrollToOffset=function(e){var t=e.animated,n=e.offset;this._scrollRef.scrollTo(this.props.horizontal?{x:n,animated:t}:{y:n,animated:t})},t.recordInteraction=function(){this._nestedChildLists.forEach((function(e){e.ref&&e.ref.recordInteraction()})),this._viewabilityTuples.forEach((function(e){e.viewabilityHelper.recordInteraction()})),this._updateViewableItems(this.props.data)},t.flashScrollIndicators=function(){this._scrollRef.flashScrollIndicators()},t.getScrollResponder=function(){if(this._scrollRef&&this._scrollRef.getScrollResponder)return this._scrollRef.getScrollResponder()},t.getScrollableNode=function(){return this._scrollRef&&this._scrollRef.getScrollableNode?this._scrollRef.getScrollableNode():(0,k.Z)(this._scrollRef)},t.getScrollRef=function(){return this._scrollRef&&this._scrollRef.getScrollRef?this._scrollRef.getScrollRef():this._scrollRef},t.setNativeProps=function(e){this._scrollRef&&this._scrollRef.setNativeProps(e)},t.getChildContext=function(){return{virtualizedList:{getScrollMetrics:this._getScrollMetrics,horizontal:this.props.horizontal,getOutermostParentListRef:this._getOutermostParentListRef,getNestedChildState:this._getNestedChildState,registerAsNestedChild:this._registerAsNestedChild,unregisterAsNestedChild:this._unregisterAsNestedChild}}},t._getCellKey=function(){return this.context.virtualizedCell&&this.context.virtualizedCell.cellKey||"rootList"},t.hasMore=function(){return this._hasMore},t.componentDidMount=function(){this._isNestedWithSameOrientation()&&this.context.virtualizedList.registerAsNestedChild({cellKey:this._getCellKey(),key:this.props.listKey||this._getCellKey(),ref:this})},t.componentWillUnmount=function(){this._isNestedWithSameOrientation()&&this.context.virtualizedList.unregisterAsNestedChild({key:this.props.listKey||this._getCellKey(),state:{first:this.state.first,last:this.state.last,frames:this._frames}}),this._updateViewableItems(null),this._updateCellsToRenderBatcher.dispose({abort:!0}),this._viewabilityTuples.forEach((function(e){e.viewabilityHelper.dispose()})),this._fillRateHelper.deactivateAndFlush()},n.getDerivedStateFromProps=function(e,t){var n=e.data,r=e.getItemCount,i=e.maxToRenderPerBatch;return{first:Math.max(0,Math.min(t.first,r(n)-1-i)),last:Math.max(0,Math.min(t.last,r(n)-1))}},t._pushCells=function(e,t,n,r,i,o){var a,s=this,c=this.props,u=c.CellRendererComponent,l=c.ItemSeparatorComponent,d=c.data,h=c.getItem,p=c.getItemCount,f=c.horizontal,A=c.keyExtractor,g=this.props.ListHeaderComponent?1:0,m=p(d)-1;i=Math.min(m,i);for(var y=function(r){var i=h(d,r),c=A(i,r);s._indicesToKeys.set(r,c),n.has(r+g)&&t.push(e.length),e.push(v.createElement(j,{CellRendererComponent:u,ItemSeparatorComponent:r<m?l:void 0,cellKey:c,fillRateHelper:s._fillRateHelper,horizontal:f,index:r,inversionStyle:o,item:i,key:c,prevCellKey:a,onUpdateSeparators:s._onUpdateSeparators,onLayout:function(e){return s._onCellLayout(e,c,r)},onUnmount:s._onCellUnmount,parentProps:s.props,ref:function(e){s._cellRefs[c]=e}})),a=c},E=r;E<=i;E++)y(E)},t._isVirtualizationDisabled=function(){return this.props.disableVirtualization||!1},t._isNestedWithSameOrientation=function(){var e=this.context.virtualizedList;return!(!e||!!e.horizontal!=!!this.props.horizontal)},t.render=function(){var e=this,t=this.props,n=t.ListEmptyComponent,r=t.ListFooterComponent,i=t.ListHeaderComponent,o=this.props,a=o.data,s=o.horizontal,c=this._isVirtualizationDisabled(),u=this.props.inverted?this.props.horizontal?Q.horizontallyInverted:Q.verticallyInverted:null,l=[],d=new Set(this.props.stickyHeaderIndices),h=[];if(i){d.has(0)&&h.push(0);var p=v.isValidElement(i)?i:v.createElement(i,null);l.push(v.createElement(V,{cellKey:this._getCellKey()+"-header",key:"$header"},v.createElement(_.Z,{onLayout:this._onLayoutHeader,style:b.Z.compose(u,this.props.ListHeaderComponentStyle)},p)))}var f=this.props.getItemCount(a);if(f>0){B=!1,F="";var A=s?"width":"height",g=this.props.initialScrollIndex?-1:this.props.initialNumToRender-1,m=this.state,y=m.first,E=m.last;this._pushCells(l,h,d,0,g,u);var C=Math.max(g+1,y);if(!c&&y>g+1){var I=!1;if(d.size>0)for(var S=i?1:0,w=C-1;w>g;w--)if(d.has(w+S)){var R,T,O=this._getFrameMetricsApprox(g),k=this._getFrameMetricsApprox(w),N=k.offset-O.offset-(this.props.initialScrollIndex?0:O.length);l.push(v.createElement(_.Z,{key:"$sticky_lead",style:(R={},R[A]=N,R)})),this._pushCells(l,h,d,w,w,u);var D=this._getFrameMetricsApprox(y).offset-(k.offset+k.length);l.push(v.createElement(_.Z,{key:"$sticky_trail",style:(T={},T[A]=D,T)})),I=!0;break}if(!I){var P,L=this._getFrameMetricsApprox(g),M=this._getFrameMetricsApprox(y).offset-(L.offset+L.length);l.push(v.createElement(_.Z,{key:"$lead_spacer",style:(P={},P[A]=M,P)}))}}if(this._pushCells(l,h,d,C,E,u),!this._hasWarned.keys&&B&&(console.warn("VirtualizedList: missing keys for items, make sure to specify a key or id property on each item or provide a custom keyExtractor.",F),this._hasWarned.keys=!0),!c&&E<f-1){var U,j=this._getFrameMetricsApprox(E),G=this.props.getItemLayout?f-1:Math.min(f-1,this._highestMeasuredFrameIndex),q=this._getFrameMetricsApprox(G),H=q.offset+q.length-(j.offset+j.length);l.push(v.createElement(_.Z,{key:"$tail_spacer",style:(U={},U[A]=H,U)}))}}else if(n){var z=v.isValidElement(n)?n:v.createElement(n,null);l.push(v.cloneElement(z,{key:"$empty",onLayout:function(t){e._onLayoutEmpty(t),z.props.onLayout&&z.props.onLayout(t)},style:b.Z.compose(u,z.props.style)}))}if(r){var W=v.isValidElement(r)?r:v.createElement(r,null);l.push(v.createElement(V,{cellKey:this._getCellKey()+"-footer",key:"$footer"},v.createElement(_.Z,{onLayout:this._onLayoutFooter,style:b.Z.compose(u,this.props.ListFooterComponentStyle)},W)))}var K=x({},this.props,{onContentSizeChange:this._onContentSizeChange,onLayout:this._onLayout,onScroll:this._onScroll,onScrollBeginDrag:this._onScrollBeginDrag,onScrollEndDrag:this._onScrollEndDrag,onMomentumScrollEnd:this._onMomentumScrollEnd,scrollEventThrottle:this.props.scrollEventThrottle,invertStickyHeaders:void 0!==this.props.invertStickyHeaders?this.props.invertStickyHeaders:this.props.inverted,stickyHeaderIndices:h});u&&(K.style=[u,this.props.style]),this._hasMore=this.state.last<this.props.getItemCount(this.props.data)-1;var Y=v.cloneElement((this.props.renderScrollComponent||this._defaultRenderScrollComponent)(K),{ref:this._captureScrollRef},l);return this.props.debug?v.createElement(_.Z,{style:Q.debug},Y,this._renderDebugOverlay()):Y},t.componentDidUpdate=function(e){var t=this.props,n=t.data,r=t.extraData;n===e.data&&r===e.extraData||(this._hasDataChangedSinceEndReached=!0,this._viewabilityTuples.forEach((function(e){e.viewabilityHelper.resetViewableIndices()})));var i=this._hiPriInProgress;this._scheduleCellsToRenderUpdate(),i&&(this._hiPriInProgress=!1)},t._computeBlankness=function(){this._fillRateHelper.computeBlankness(this.props,this.state,this._scrollMetrics)},t._onCellLayout=function(e,t,n){var r=e.nativeEvent.layout,i={offset:this._selectOffset(r),length:this._selectLength(r),index:n,inLayout:!0},o=this._frames[t];o&&i.offset===o.offset&&i.length===o.length&&n===o.index?this._frames[t].inLayout=!0:(this._totalCellLength+=i.length-(o?o.length:0),this._totalCellsMeasured+=o?0:1,this._averageCellLength=this._totalCellLength/this._totalCellsMeasured,this._frames[t]=i,this._highestMeasuredFrameIndex=Math.max(this._highestMeasuredFrameIndex,n),this._scheduleCellsToRenderUpdate());var a=this._cellKeysToChildListKeys.get(t);if(a){var s=a,c=Array.isArray(s),u=0;for(s=c?s:s[Symbol.iterator]();;){var l;if(c){if(u>=s.length)break;l=s[u++]}else{if((u=s.next()).done)break;l=u.value}var d=l,h=this._nestedChildLists.get(d);h&&h.ref&&h.ref.measureLayoutRelativeToContainingList()}}this._computeBlankness(),this._updateViewableItems(this.props.data)},t.measureLayoutRelativeToContainingList=function(){var e=this;try{if(!this._scrollRef)return;this._scrollRef.measureLayout(this.context.virtualizedList.getOutermostParentListRef().getScrollRef().getNativeScrollRef(),(function(t,n,r,i){e._offsetFromParentVirtualizedList=e._selectOffset({x:t,y:n}),e._scrollMetrics.contentLength=e._selectLength({width:r,height:i});var o=e._convertParentScrollMetrics(e.context.virtualizedList.getScrollMetrics());e._scrollMetrics.visibleLength=o.visibleLength,e._scrollMetrics.offset=o.offset}),(function(e){console.warn("VirtualizedList: Encountered an error while measuring a list's offset from its containing VirtualizedList.")}))}catch(e){console.warn("measureLayoutRelativeToContainingList threw an error",e.stack)}},t._renderDebugOverlay=function(){for(var e=this._scrollMetrics.visibleLength/(this._scrollMetrics.contentLength||1),t=[],n=this.props.getItemCount(this.props.data),r=0;r<n;r++){var i=this._getFrameMetricsApprox(r);i.inLayout&&t.push(i)}var o=this._getFrameMetricsApprox(this.state.first).offset,a=this._getFrameMetricsApprox(this.state.last),s=a.offset+a.length-o,c=this._scrollMetrics.offset,u=this._scrollMetrics.visibleLength;return v.createElement(_.Z,{style:[Q.debugOverlayBase,Q.debugOverlay]},t.map((function(t,n){return v.createElement(_.Z,{key:"f"+n,style:[Q.debugOverlayBase,Q.debugOverlayFrame,{top:t.offset*e,height:t.length*e}]})})),v.createElement(_.Z,{style:[Q.debugOverlayBase,Q.debugOverlayFrameLast,{top:o*e,height:s*e}]}),v.createElement(_.Z,{style:[Q.debugOverlayBase,Q.debugOverlayFrameVis,{top:c*e,height:u*e}]}))},t._selectLength=function(e){return this.props.horizontal?e.width:e.height},t._selectOffset=function(e){return this.props.horizontal?e.x:e.y},t._maybeCallOnEndReached=function(){var e=this.props,t=e.data,n=e.getItemCount,r=e.onEndReached,i=e.onEndReachedThreshold,o=this._scrollMetrics,a=o.contentLength,s=o.visibleLength,c=a-s-o.offset;r&&this.state.last===n(t)-1&&c<i*s&&(this._hasDataChangedSinceEndReached||this._scrollMetrics.contentLength!==this._sentEndForContentLength)&&(this._hasDataChangedSinceEndReached=!1,this._sentEndForContentLength=this._scrollMetrics.contentLength,r({distanceFromEnd:c}))},t._scheduleCellsToRenderUpdate=function(){var e=this.state,t=e.first,n=e.last,r=this._scrollMetrics,i=r.offset,o=r.visibleLength,a=r.velocity,s=this.props.getItemCount(this.props.data),c=!1,u=this.props.onEndReachedThreshold*o/2;if(t>0){var l=i-this._getFrameMetricsApprox(t).offset;c=c||l<0||a<-2&&l<u}if(n<s-1){var d=this._getFrameMetricsApprox(n).offset-(i+o);c=c||d<0||a>2&&d<u}if(c&&(this._averageCellLength||this.props.getItemLayout)&&!this._hiPriInProgress)return this._hiPriInProgress=!0,this._updateCellsToRenderBatcher.dispose({abort:!0}),void this._updateCellsToRender();this._updateCellsToRenderBatcher.schedule()},t._updateViewableItems=function(e){var t=this,n=this.props.getItemCount;this._viewabilityTuples.forEach((function(r){r.viewabilityHelper.onUpdate(n(e),t._scrollMetrics.offset,t._scrollMetrics.visibleLength,t._getFrameMetrics,t._createViewToken,r.onViewableItemsChanged,t.state)}))},n}(v.PureComponent);U.defaultProps={disableVirtualization:!1,horizontal:!1,initialNumToRender:10,keyExtractor:function(e,t){return null!=e.key?e.key:null!=e.id?e.id:(B=!0,e.type&&e.type.displayName&&(F=e.type.displayName),String(t))},maxToRenderPerBatch:10,onEndReachedThreshold:2,scrollEventThrottle:50,updateCellsBatchingPeriod:50,windowSize:21},U.contextTypes={virtualizedCell:m().shape({cellKey:m().string}),virtualizedList:m().shape({getScrollMetrics:m().func,horizontal:m().bool,getOutermostParentListRef:m().func,getNestedChildState:m().func,registerAsNestedChild:m().func,unregisterAsNestedChild:m().func})},U.childContextTypes={virtualizedList:m().shape({getScrollMetrics:m().func,horizontal:m().bool,getOutermostParentListRef:m().func,getNestedChildState:m().func,registerAsNestedChild:m().func,unregisterAsNestedChild:m().func})};var j=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={separatorProps:{highlighted:!1,leadingItem:t.props.item}},t._separators={highlight:function(){var e=t.props,n=e.cellKey,r=e.prevCellKey;t.props.onUpdateSeparators([n,r],{highlighted:!0})},unhighlight:function(){var e=t.props,n=e.cellKey,r=e.prevCellKey;t.props.onUpdateSeparators([n,r],{highlighted:!1})},updateProps:function(e,n){var r=t.props,i=r.cellKey,o=r.prevCellKey;t.props.onUpdateSeparators(["leading"===e?o:i],n)}},t}M(t,e);var n=t.prototype;return n.getChildContext=function(){return{virtualizedCell:{cellKey:this.props.cellKey}}},n.updateSeparatorProps=function(e){this.setState((function(t){return{separatorProps:x({},t.separatorProps,{},e)}}))},n.componentWillUnmount=function(){this.props.onUnmount(this.props.cellKey)},n.render=function(){var e=this.props,t=e.CellRendererComponent,n=e.ItemSeparatorComponent,r=e.fillRateHelper,i=e.horizontal,o=e.item,a=e.index,s=e.inversionStyle,c=e.parentProps,u=c.renderItem,l=c.getItemLayout;I()(u,"no renderItem!");var d=u({item:o,index:a,separators:this._separators}),h=!l||c.debug||r.enabled()?this.props.onLayout:void 0,p=n&&v.createElement(n,this.state.separatorProps),f=s?i?[Q.rowReverse,s]:[Q.columnReverse,s]:i?[Q.row,s]:s;return t?v.createElement(t,D({},this.props,{style:f,onLayout:h}),d,p):v.createElement(_.Z,{style:f,onLayout:h},d,p)},t}(v.Component);j.childContextTypes={virtualizedCell:m().shape({cellKey:m().string})};var V=function(e){function t(){return e.apply(this,arguments)||this}M(t,e);var n=t.prototype;return n.getChildContext=function(){return{virtualizedCell:{cellKey:this.props.cellKey}}},n.render=function(){return this.props.children},t}(v.Component);V.childContextTypes={virtualizedCell:m().shape({cellKey:m().string})};var Q=b.Z.create({verticallyInverted:{transform:[{scaleY:-1}]},horizontallyInverted:{transform:[{scaleX:-1}]},row:{flexDirection:"row"},rowReverse:{flexDirection:"row-reverse"},columnReverse:{flexDirection:"column-reverse"},debug:{flex:1},debugOverlayBase:{position:"absolute",top:0,right:0},debugOverlay:{bottom:0,width:20,borderColor:"blue",borderWidth:1},debugOverlayFrame:{left:0,backgroundColor:"orange"},debugOverlayFrameLast:{left:0,borderColor:"green",borderWidth:2},debugOverlayFrameVis:{left:0,borderColor:"red",borderWidth:2}});const G=U},8463:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});const r=function(e){var t,n;function r(t,n,r,i){var o;return(o=e.call(this,n)||this).emitter=t,o.listener=r,o.context=i,o}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.remove=function(){this.emitter.removeSubscription(this)},r}(function(){function e(e){this.subscriber=e}return e.prototype.remove=function(){this.subscriber.removeSubscription(this)},e}());var i=n(8875),o=n(3759),a=n.n(o),s=function(){return!0};const c=function(){function e(e){this._subscriber=e||new i.Z}var t=e.prototype;return t.addListener=function(e,t,n){return this._subscriber.addSubscription(e,new r(this,this._subscriber,t,n))},t.once=function(e,t,n){var r=this;return this.addListener(e,(function(){r.removeCurrentListener();for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];t.apply(n,i)}))},t.removeAllListeners=function(e){this._subscriber.removeAllSubscriptions(e)},t.removeCurrentListener=function(){a()(!!this._currentSubscription,"Not in an emitting cycle; there is no current subscription"),this.removeSubscription(this._currentSubscription)},t.removeSubscription=function(e){a()(e.emitter===this,"Subscription does not belong to this emitter."),this._subscriber.removeSubscription(e)},t.listeners=function(e){var t=this._subscriber.getSubscriptionsForType(e);return t?t.filter(s).map((function(e){return e.listener})):[]},t.emit=function(e){var t=this._subscriber.getSubscriptionsForType(e);if(t){for(var n=0,r=t.length;n<r;n++){var i=t[n];i&&i.listener&&(this._currentSubscription=i,i.listener.apply(i.context,Array.prototype.slice.call(arguments,1)))}this._currentSubscription=null}},t.removeListener=function(e,t){var n=this._subscriber.getSubscriptionsForType(e);if(n)for(var r=0,i=n.length;r<i;r++){var o=n[r];o&&o.listener===t&&o.remove()}},e}()},8875:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(3759),i=n.n(r);const o=function(){function e(){this._subscriptionsForType={},this._currentSubscription=null}var t=e.prototype;return t.addSubscription=function(e,t){i()(t.subscriber===this,"The subscriber of the subscription is incorrectly set."),this._subscriptionsForType[e]||(this._subscriptionsForType[e]=[]);var n=this._subscriptionsForType[e].length;return this._subscriptionsForType[e].push(t),t.eventType=e,t.key=n,t},t.removeAllSubscriptions=function(e){void 0===e?this._subscriptionsForType={}:delete this._subscriptionsForType[e]},t.removeSubscription=function(e){var t=e.eventType,n=e.key,r=this._subscriptionsForType[t];r&&delete r[n]},t.getSubscriptionsForType=function(e){return this._subscriptionsForType[e]},e}()},86:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for;n&&Symbol.for("react.element"),n&&Symbol.for("react.portal"),n&&Symbol.for("react.fragment"),n&&Symbol.for("react.strict_mode"),n&&Symbol.for("react.profiler"),n&&Symbol.for("react.provider"),n&&Symbol.for("react.context"),n&&Symbol.for("react.async_mode"),n&&Symbol.for("react.concurrent_mode"),n&&Symbol.for("react.forward_ref"),n&&Symbol.for("react.suspense"),n&&Symbol.for("react.suspense_list"),n&&Symbol.for("react.memo"),n&&Symbol.for("react.lazy"),n&&Symbol.for("react.block"),n&&Symbol.for("react.fundamental"),n&&Symbol.for("react.responder"),n&&Symbol.for("react.scope")},663:(e,t,n)=>{"use strict";n(86)},2408:(e,t,n)=>{"use strict";var r=n(7418),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,c=60112;t.Suspense=60113;var u=60115,l=60116;if("function"==typeof Symbol&&Symbol.for){var d=Symbol.for;i=d("react.element"),o=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),a=d("react.provider"),s=d("react.context"),c=d("react.forward_ref"),t.Suspense=d("react.suspense"),u=d("react.memo"),l=d("react.lazy")}var h="function"==typeof Symbol&&Symbol.iterator;function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A={};function g(e,t,n){this.props=e,this.context=t,this.refs=A,this.updater=n||f}function m(){}function v(e,t,n){this.props=e,this.context=t,this.refs=A,this.updater=n||f}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(p(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=g.prototype;var y=v.prototype=new m;y.constructor=v,r(y,g.prototype),y.isPureReactComponent=!0;var E={current:null},b=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)b.call(t,r)&&!_.hasOwnProperty(r)&&(o[r]=t[r]);var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){for(var u=Array(c),l=0;l<c;l++)u[l]=arguments[l+2];o.children=u}if(e&&e.defaultProps)for(r in c=e.defaultProps)void 0===o[r]&&(o[r]=c[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:E.current}}function I(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function w(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function R(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case i:case o:c=!0}}if(c)return a=a(c=e),e=""===r?"."+w(c,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),R(a,t,n,"",(function(e){return e}))):null!=a&&(I(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(S,"$&/")+"/")+e)),t.push(a)),1;if(c=0,r=""===r?".":r+":",Array.isArray(e))for(var u=0;u<e.length;u++){var l=r+w(s=e[u],u);c+=R(s,t,n,l,a)}else if(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"==typeof l)for(e=l.call(e),u=0;!(s=e.next()).done;)c+=R(s=s.value,t,n,l=r+w(s,u++),a);else if("object"===s)throw t=""+e,Error(p(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return c}function T(e,t,n){if(null==e)return e;var r=[],i=0;return R(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var k={current:null};function N(){var e=k.current;if(null===e)throw Error(p(321));return e}var D={ReactCurrentDispatcher:k,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:E,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error(p(143));return e}},t.Component=g,t.PureComponent=v,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,n){if(null==e)throw Error(p(267,e));var o=r({},e.props),a=e.key,s=e.ref,c=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,c=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)b.call(t,l)&&!_.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){u=Array(l);for(var d=0;d<l;d++)u[d]=arguments[d+2];o.children=u}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:c}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return N().useCallback(e,t)},t.useContext=function(e,t){return N().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return N().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return N().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return N().useLayoutEffect(e,t)},t.useMemo=function(e,t){return N().useMemo(e,t)},t.useReducer=function(e,t,n){return N().useReducer(e,t,n)},t.useRef=function(e){return N().useRef(e)},t.useState=function(e){return N().useState(e)},t.version="17.0.1"},7294:(e,t,n)=>{"use strict";e.exports=n(2408)},5666:e=>{var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,a=Object.create(o.prototype),s=new O(r||[]);return i(a,"_invoke",{value:S(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var h="suspendedStart",p="executing",f="completed",A={};function g(){}function m(){}function v(){}var y={};u(y,a,(function(){return this}));var E=Object.getPrototypeOf,b=E&&E(E(k([])));b&&b!==n&&r.call(b,a)&&(y=b);var _=v.prototype=g.prototype=Object.create(y);function C(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,o,a,s){var c=d(e[i],e,o);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==typeof l&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(l).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function S(e,t,n){var r=h;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===f){if("throw"===i)throw o;return N()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=w(a,n);if(s){if(s===A)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var c=d(e,t,n);if("normal"===c.type){if(r=n.done?f:"suspendedYield",c.arg===A)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=f,n.method="throw",n.arg=c.arg)}}}function w(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,w(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),A;var o=d(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,A;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,A):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,A)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function k(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return m.prototype=v,i(_,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:m,configurable:!0}),m.displayName=u(v,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,c,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},C(I.prototype),u(I.prototype,s,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new I(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},C(_),u(_,c,"Generator"),u(_,a,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,A):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),A},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),A}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:k(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),A}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},53:(e,t)=>{"use strict";var n,r,i,o;if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,l=null,d=function(){if(null!==u)try{var e=t.unstable_now();u(!0,e),u=null}catch(e){throw setTimeout(d,0),e}};n=function(e){null!==u?setTimeout(n,0,e):(u=e,setTimeout(d,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,p=window.clearTimeout;if("undefined"!=typeof console){var f=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof f&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var A=!1,g=null,m=-1,v=5,y=0;t.unstable_shouldYield=function(){return t.unstable_now()>=y},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<e?Math.floor(1e3/e):5};var E=new MessageChannel,b=E.port2;E.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();y=e+v;try{g(!0,e)?b.postMessage(null):(A=!1,g=null)}catch(e){throw b.postMessage(null),e}}else A=!1},n=function(e){g=e,A||(A=!0,b.postMessage(null))},r=function(e,n){m=h((function(){e(t.unstable_now())}),n)},i=function(){p(m),m=-1}}function _(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function C(e){return void 0===(e=e[0])?null:e}function I(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,c=e[s];if(void 0!==a&&0>S(a,n))void 0!==c&&0>S(c,a)?(e[r]=c,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==c&&0>S(c,n)))break e;e[r]=c,e[s]=n,r=s}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var w=[],R=[],T=1,O=null,k=3,N=!1,D=!1,P=!1;function x(e){for(var t=C(R);null!==t;){if(null===t.callback)I(R);else{if(!(t.startTime<=e))break;I(R),t.sortIndex=t.expirationTime,_(w,t)}t=C(R)}}function L(e){if(P=!1,x(e),!D)if(null!==C(w))D=!0,n(M);else{var t=C(R);null!==t&&r(L,t.startTime-e)}}function M(e,n){D=!1,P&&(P=!1,i()),N=!0;var o=k;try{for(x(n),O=C(w);null!==O&&(!(O.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=O.callback;if("function"==typeof a){O.callback=null,k=O.priorityLevel;var s=a(O.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?O.callback=s:O===C(w)&&I(w),x(n)}else I(w);O=C(w)}if(null!==O)var c=!0;else{var u=C(R);null!==u&&r(L,u.startTime-n),c=!1}return c}finally{O=null,k=o,N=!1}}var B=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){D||N||(D=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return k},t.unstable_getFirstCallbackNode=function(){return C(w)},t.unstable_next=function(e){switch(k){case 1:case 2:case 3:var t=3;break;default:t=k}var n=k;k=t;try{return e()}finally{k=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=B,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=k;k=e;try{return t()}finally{k=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?s+a:s,e){case 1:var c=-1;break;case 2:c=250;break;case 5:c=1073741823;break;case 4:c=1e4;break;default:c=5e3}return e={id:T++,callback:o,priorityLevel:e,startTime:a,expirationTime:c=a+c,sortIndex:-1},a>s?(e.sortIndex=a,_(R,e),null===C(w)&&e===C(R)&&(P?i():P=!0,r(L,a-s))):(e.sortIndex=c,_(w,e),D||N||(D=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=k;return function(){var n=k;k=t;try{return e.apply(this,arguments)}finally{k=n}}}},3840:(e,t,n)=>{"use strict";e.exports=n(53)},3379:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},a=[],s=0;s<e.length;s++){var c=e[s],u=r.base?c[0]+r.base:c[0],l=o[u]||0,d="".concat(u," ").concat(l);o[u]=l+1;var h=n(d),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==h)t[h].references++,t[h].updater(p);else{var f=i(p,r);r.byIndex=s,t.splice(s,0,{identifier:d,updater:f,references:1})}a.push(d)}return a}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var o=r(e=e||[],i=i||{});return function(e){e=e||[];for(var a=0;a<o.length;a++){var s=n(o[a]);t[s].references--}for(var c=r(e,i),u=0;u<o.length;u++){var l=n(o[u]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}o=c}}},569:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},9216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},3565:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7795:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},4589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},1467:(e,t,n)=>{"use strict";n.d(t,{ej:()=>s,kG:()=>c,U6:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};Object.create,Object.create;var i="Invariant Violation",o=Object.setPrototypeOf,a=void 0===o?function(e,t){return e.__proto__=t,e}:o,s=function(e){function t(n){void 0===n&&(n=i);var r=e.call(this,"number"==typeof n?i+": "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name=i,a(r,t.prototype),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error);function c(e,t){if(!e)throw new s(t)}var u=["log","warn","error","silent"],l=u.indexOf("log");function d(e){return function(){if(u.indexOf(e)>=l)return console[e].apply(console,arguments)}}function h(e){var t=u[l];return l=Math.max(0,u.indexOf(e)),t}!function(e){e.log=d("log"),e.warn=d("warn"),e.error=d("error")}(c||(c={})),"object"==typeof process&&"object"==typeof process.env&&process},655:(e,t,n)=>{"use strict";n.d(t,{Jh:()=>c,ZT:()=>i,_T:()=>a,mG:()=>s,pi:()=>o,pr:()=>u});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function c(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function u(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}},9413:e=>{e.exports=/[\0-\x1F\x7F-\x9F]/},3189:e=>{e.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},5045:e=>{e.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/},9369:e=>{e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},2473:e=>{"use strict";e.exports=function(){}},9329:(e,t,n)=>{e.exports=n(516).Observable},516:(e,t)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}t.Observable=void 0;var o=function(){return"function"==typeof Symbol},a=function(e){return o()&&Boolean(Symbol[e])},s=function(e){return a(e)?Symbol[e]:"@@"+e};o()&&!a("observable")&&(Symbol.observable=Symbol("observable"));var c=s("iterator"),u=s("observable"),l=s("species");function d(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function h(e){var t=e.constructor;return void 0!==t&&null===(t=t[l])&&(t=void 0),void 0!==t?t:_}function p(e){return e instanceof _}function f(e){f.log?f.log(e):setTimeout((function(){throw e}))}function A(e){Promise.resolve().then((function(){try{e()}catch(e){f(e)}}))}function g(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{var n=d(t,"unsubscribe");n&&n.call(t)}}catch(e){f(e)}}function m(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function v(e,t,n){e._state="running";var r=e._observer;try{var i=d(r,t);switch(t){case"next":i&&i.call(r,n);break;case"error":if(m(e),!i)throw n;i.call(r,n);break;case"complete":m(e),i&&i.call(r)}}catch(e){f(e)}"closed"===e._state?g(e):"running"===e._state&&(e._state="ready")}function y(e,t,n){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void A((function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(v(e,t[n].type,t[n].value),"closed"!==e._state);++n);}}(e)}))):void v(e,t,n);e._queue.push({type:t,value:n})}}var E=function(){function e(t,r){n(this,e),this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state="initializing";var i=new b(this);try{this._cleanup=r.call(void 0,i)}catch(e){i.error(e)}"initializing"===this._state&&(this._state="ready")}return i(e,[{key:"unsubscribe",value:function(){"closed"!==this._state&&(m(this),g(this))}},{key:"closed",get:function(){return"closed"===this._state}}]),e}(),b=function(){function e(t){n(this,e),this._subscription=t}return i(e,[{key:"next",value:function(e){y(this._subscription,"next",e)}},{key:"error",value:function(e){y(this._subscription,"error",e)}},{key:"complete",value:function(){y(this._subscription,"complete")}},{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),_=function(){function e(t){if(n(this,e),!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}return i(e,[{key:"subscribe",value:function(e){return"object"==typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new E(e,this._subscriber)}},{key:"forEach",value:function(e){var t=this;return new Promise((function(n,r){if("function"==typeof e)var i=t.subscribe({next:function(t){try{e(t,o)}catch(e){r(e),i.unsubscribe()}},error:r,complete:n});else r(new TypeError(e+" is not a function"));function o(){i.unsubscribe(),n()}}))}},{key:"map",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(h(this))((function(n){return t.subscribe({next:function(t){try{t=e(t)}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:"filter",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(h(this))((function(n){return t.subscribe({next:function(t){try{if(!e(t))return}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:"reduce",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=h(this),r=arguments.length>1,i=!1,o=arguments[1],a=o;return new n((function(n){return t.subscribe({next:function(t){var o=!i;if(i=!0,!o||r)try{a=e(a,t)}catch(e){return n.error(e)}else a=t},error:function(e){n.error(e)},complete:function(){if(!i&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(a),n.complete()}})}))}},{key:"concat",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=h(this);return new i((function(t){var r,o=0;return function e(a){r=a.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){o===n.length?(r=void 0,t.complete()):e(i.from(n[o++]))}})}(e),function(){r&&(r.unsubscribe(),r=void 0)}}))}},{key:"flatMap",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=h(this);return new n((function(r){var i=[],o=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(e){return r.error(e)}var o=n.from(t).subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){var e=i.indexOf(o);e>=0&&i.splice(e,1),a()}});i.push(o)},error:function(e){r.error(e)},complete:function(){a()}});function a(){o.closed&&0===i.length&&r.complete()}return function(){i.forEach((function(e){return e.unsubscribe()})),o.unsubscribe()}}))}},{key:u,value:function(){return this}}],[{key:"from",value:function(t){var n="function"==typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var r=d(t,u);if(r){var i=r.call(t);if(Object(i)!==i)throw new TypeError(i+" is not an object");return p(i)&&i.constructor===n?i:new n((function(e){return i.subscribe(e)}))}if(a("iterator")&&(r=d(t,c)))return new n((function(e){A((function(){if(!e.closed){var n=!0,i=!1,o=void 0;try{for(var a,s=r.call(t)[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value;if(e.next(c),e.closed)return}}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}e.complete()}}))}));if(Array.isArray(t))return new n((function(e){A((function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}}))}));throw new TypeError(t+" is not observable")}},{key:"of",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i="function"==typeof this?this:e;return new i((function(e){A((function(){if(!e.closed){for(var t=0;t<n.length;++t)if(e.next(n[t]),e.closed)return;e.complete()}}))}))}},{key:l,get:function(){return this}}]),e}();t.Observable=_,o()&&Object.defineProperty(_,Symbol("extensions"),{value:{symbol:u,hostReportError:f},configurable:!0})},5821:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(5695);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e){return a(e,[])}function a(e,t){switch(i(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var n=[].concat(t,[e]),i=function(e){var t=e[String(r.Z)];return"function"==typeof t?t:"function"==typeof e.inspect?e.inspect:void 0}(e);if(void 0!==i){var o=i.call(e);if(o!==e)return"string"==typeof o?o:a(o,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";for(var n=Math.min(10,e.length),r=e.length-n,i=[],o=0;o<n;++o)i.push(a(e[o],t));return 1===r?i.push("... 1 more item"):r>1&&i.push("... ".concat(r," more items")),"["+i.join(", ")+"]"}(e,n);return function(e,t){var n=Object.keys(e);return 0===n.length?"{}":t.length>2?"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var n=e.constructor.name;if("string"==typeof n&&""!==n)return n}return t}(e)+"]":"{ "+n.map((function(n){return n+": "+a(e[n],t)})).join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}},5695:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0},5217:(e,t,n)=>{"use strict";n.d(t,{Ye:()=>o,WU:()=>a,UG:()=>s});var r=n(5695);function i(e){var t=e.prototype.toJSON;"function"==typeof t||function(e,t){if(!Boolean(0))throw new Error("Unexpected invariant triggered.")}(),e.prototype.inspect=t,r.Z&&(e.prototype[r.Z]=t)}var o=function(){function e(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}return e.prototype.toJSON=function(){return{start:this.start,end:this.end}},e}();i(o);var a=function(){function e(e,t,n,r,i,o,a){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=i,this.value=a,this.prev=o,this.next=null}return e.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();function s(e){return null!=e&&"string"==typeof e.kind}i(a)},7392:(e,t,n)=>{"use strict";function r(e){var t=e.split(/\r\n|[\n\r]/g),n=function(e){for(var t,n=!0,r=!0,i=0,o=null,a=0;a<e.length;++a)switch(e.charCodeAt(a)){case 13:10===e.charCodeAt(a+1)&&++a;case 10:n=!1,r=!0,i=0;break;case 9:case 32:++i;break;default:r&&!n&&(null===o||i<o)&&(o=i),r=!1}return null!==(t=o)&&void 0!==t?t:0}(e);if(0!==n)for(var r=1;r<t.length;r++)t[r]=t[r].slice(n);for(var o=0;o<t.length&&i(t[o]);)++o;for(var a=t.length;a>o&&i(t[a-1]);)--a;return t.slice(o,a).join("\n")}function i(e){for(var t=0;t<e.length;++t)if(" "!==e[t]&&"\t"!==e[t])return!1;return!0}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1===e.indexOf("\n"),i=" "===e[0]||"\t"===e[0],o='"'===e[e.length-1],a="\\"===e[e.length-1],s=!r||o||a||n,c="";return!s||r&&i||(c+="\n"+t),c+=t?e.replace(/\n/g,"\n"+t):e,s&&(c+="\n"),'"""'+c.replace(/"""/g,'\\"""')+'"""'}n.d(t,{LZ:()=>o,W7:()=>r})},7304:(e,t,n)=>{"use strict";n.d(t,{$_:()=>a,Vn:()=>s});var r=n(5821),i=n(5217),o={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},a=Object.freeze({});function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,s=void 0,u=Array.isArray(e),l=[e],d=-1,h=[],p=void 0,f=void 0,A=void 0,g=[],m=[],v=e;do{var y=++d===l.length,E=y&&0!==h.length;if(y){if(f=0===m.length?void 0:g[g.length-1],p=A,A=m.pop(),E){if(u)p=p.slice();else{for(var b={},_=0,C=Object.keys(p);_<C.length;_++){var I=C[_];b[I]=p[I]}p=b}for(var S=0,w=0;w<h.length;w++){var R=h[w][0],T=h[w][1];u&&(R-=S),u&&null===T?(p.splice(R,1),S++):p[R]=T}}d=s.index,l=s.keys,h=s.edits,u=s.inArray,s=s.prev}else{if(f=A?u?d:l[d]:void 0,null==(p=A?A[f]:v))continue;A&&g.push(f)}var O,k=void 0;if(!Array.isArray(p)){if(!(0,i.UG)(p))throw new Error("Invalid AST Node: ".concat((0,r.Z)(p),"."));var N=c(t,p.kind,y);if(N){if((k=N.call(t,p,f,A,g,m))===a)break;if(!1===k){if(!y){g.pop();continue}}else if(void 0!==k&&(h.push([f,k]),!y)){if(!(0,i.UG)(k)){g.pop();continue}p=k}}}void 0===k&&E&&h.push([f,p]),y?g.pop():(s={inArray:u,index:d,keys:l,edits:h,prev:s},l=(u=Array.isArray(p))?p:null!==(O=n[p.kind])&&void 0!==O?O:[],d=-1,h=[],A&&m.push(A),A=p)}while(void 0!==s);return 0!==h.length&&(v=h[h.length-1][1]),v}function c(e,t,n){var r=e[t];if(r){if(!n&&"function"==typeof r)return r;var i=n?r.leave:r.enter;if("function"==typeof i)return i}else{var o=n?e.leave:e.enter;if(o){if("function"==typeof o)return o;var a=o[t];if("function"==typeof a)return a}}}}},__webpack_module_cache__={},leafPrototypes,getProto;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},getProto=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,__webpack_require__.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var n=Object.create(null);__webpack_require__.r(n);var r={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var i=2&t&&e;"object"==typeof i&&!~leafPrototypes.indexOf(i);i=getProto(i))Object.getOwnPropertyNames(i).forEach((t=>r[t]=()=>e[t]));return r.default=()=>e,__webpack_require__.d(n,r),n},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;__webpack_require__.g.importScripts&&(e=__webpack_require__.g.location+"");var t=__webpack_require__.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=e})();var __webpack_exports__={};(()=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{$config:()=>bS,CUSTOM_ROUTES_PREFIX:()=>gS,Chat:()=>Cg,ChatBubble:()=>dg,ChatSendButton:()=>fg,ChatTextInput:()=>Ag,Controls:()=>yv,ControlsComponentsArray:()=>mv,CustomizationProvider:()=>Oe,GridLayout:()=>Lf,HorizontalRule:()=>Ga,Icons:()=>Jn,MUTE_LOCAL_TYPE:()=>bi,MUTE_REMOTE_TYPE:()=>Ri,MaxVideoView:()=>Nf,NameWithMicIcon:()=>Rf,NavBarComponentsArray:()=>gm,Navbar:()=>vm,NetworkQualityPill:()=>Cf,ParticipantsView:()=>ag,PinnedLayout:()=>Ff,PrimaryButton:()=>rs,RN:()=>_S,React:()=>n,RenderComponent:()=>Pf,SecondaryButton:()=>as,SettingsView:()=>jm,SidePanelButtonsArray:()=>AS,SidePanelType:()=>va,TextInput:()=>ls,ToggleState:()=>tn,UiKitBtnTemplate:()=>er,UiKitImageIcon:()=>ir,UiKitMaxVideoView:()=>Wn,UikitChannelProfile:()=>en,UikitClientRole:()=>$t,VideoComponent:()=>Ev,VideocallScreen:()=>hS,controlMessageEnum:()=>Kr,createConcealedHook:()=>de,createHook:()=>he,customEvents:()=>Da,customizationConfig:()=>pe,customize:()=>l,default:()=>oR,isAndroid:()=>ci,isDesktop:()=>li,isIOS:()=>ui,isMobileOrTablet:()=>Cn,isWeb:()=>si,useChatUIControl:()=>fa,useCreateMeeting:()=>Me,useCustomization:()=>ke,useHistory:()=>Eo,useIsAttendee:()=>vS,useIsAudioEnabled:()=>yS,useIsHost:()=>mS,useIsPSTN:()=>Ci,useIsVideoEnabled:()=>ES,useJoinMeeting:()=>ni,useLayout:()=>Di,useLocalUid:()=>Qn,useLocalUserInfo:()=>Oi,useMeetingInfo:()=>be,useMessages:()=>Ra,useMuteToggleLocal:()=>_i,useParams:()=>bo,useRecording:()=>da,useRemoteEndcall:()=>Ii,useRemoteMute:()=>Ti,useRender:()=>Na,useRtc:()=>ka,useSidePanel:()=>ba,useUserName:()=>Oa});var e={};__webpack_require__.r(e),__webpack_require__.d(e,{ZO:()=>Sn,Lm:()=>xn,Qi:()=>Ln,bY:()=>Mn,ZP:()=>Bn});var t=__webpack_require__(8227),n=__webpack_require__(7294),r=__webpack_require__(9864);function i(e){return!(!e||"string"!=typeof e)}function o(e){return!(!e||"function"!=typeof e)}function a(e){return!(!e||"object"!=typeof e)}function s(e){return!(!e||!r.isValidElementType(e))}const c=["customLayout","useUserContext"];function u(e){for(const t in e)if(-1===c.indexOf(t)){let n=e[t];n&&(s(n)||a(n)?a(n)&&u(n):console.error(`Customize:Error ${t} should be a react component or object`))}else{let n=e[t];n&&!o(n)&&console.error(`Customize:Error ${t} should be an function`)}}const l=e=>((null==e?void 0:e.components)&&u(e.components),(null==e?void 0:e.i18n)&&function(e){e&&(Array.isArray(e)?e.map((e=>{const t=e.data;for(const n in t){const r=t[n];r&&(i(r)||o(r)||console.error(`Customize:Error ${e.locale} ${n} should be a string or function`))}})):console.error("Customize:Error i18n should be an array"))}(e.i18n),e),d=JSON.parse('{"APP_ID":"f9c50175f866402f9dd1a249fb16d917","ENCRYPTION_ENABLED":true,"ENABLE_GOOGLE_OAUTH":false,"ENABLE_APPLE_OAUTH":false,"ENABLE_SLACK_OAUTH":false,"ENABLE_MICROSOFT_OAUTH":false,"GOOGLE_CLIENT_ID":"","MICROSOFT_CLIENT_ID":"","SLACK_CLIENT_ID":"","APPLE_CLIENT_ID":"","PROJECT_ID":"175cf8bc4cb6944eef5e","APP_CERTIFICATE":"b3d96e30f8454b2e912237780c568996","CUSTOMER_ID":"","CUSTOMER_CERTIFICATE":"","BUCKET_NAME":"","BUCKET_ACCESS_KEY":"","BUCKET_ACCESS_SECRET":"","GOOGLE_CLIENT_SECRET":"","MICROSOFT_CLIENT_SECRET":"","SLACK_CLIENT_SECRET":"","APPLE_PRIVATE_KEY":"","APPLE_KEY_ID":"","APPLE_TEAM_ID":"","PSTN_EMAIL":"","PSTN_ACCOUNT":"","PSTN_PASSWORD":"","RECORDING_REGION":0,"GEO_FENCING":true,"LOG_ENABLED":true,"EVENT_MODE":false,"RAISE_HAND":false,"AUDIO_ROOM":false,"PRODUCT_ID":"mbtesting","APP_NAME":"MBTesting","LOGO":"https://dbudicf5k4as1.cloudfront.net/2/5TWpUqsdC0BH6lPJ.jpeg","ICON":"","PRIMARY_COLOR":"#00AEFC","FRONTEND_ENDPOINT":"","BACKEND_ENDPOINT":"https://managedservices-staging.rteappbuilder.com","PSTN":false,"PRECALL":true,"CHAT":true,"CLOUD_RECORDING":false,"SCREEN_SHARING":true,"LANDING_SUB_HEADING":"The Real-Time Engagement Platform for meaningful human connections.","BG":"","PRIMARY_FONT_COLOR":"#363636","SECONDARY_FONT_COLOR":"#FFFFFF","SENTRY_DSN":"https://b5df0450fe284baa8376e62ace331580@o615358.ingest.sentry.io/5749898","PROFILE":"480p_8","ENABLE_IDP_AUTH":false,"ENABLE_TOKEN_AUTH":true,"ICON_TEXT":false,"PRIMARY_ACTION_BRAND_COLOR":"#099DFD","PRIMARY_ACTION_TEXT_COLOR":"#FFFFFF","SECONDARY_ACTION_COLOR":"#FFFFFF","FONT_COLOR":"#FFFFFF","BACKGROUND_COLOR":"#111111","VIDEO_AUDIO_TILE_COLOR":"#222222","VIDEO_AUDIO_TILE_OVERLAY_COLOR":"#000004","VIDEO_AUDIO_TILE_TEXT_COLOR":"#FFFFFF","VIDEO_AUDIO_TILE_AVATAR_COLOR":"#BDD0DB","SEMANTIC_ERROR":"#FF414D","SEMANTIC_SUCCESS":"#36B37E","SEMANTIC_WARNING":"#FFAB00","SEMANTIC_NEUTRAL":"#808080","INPUT_FIELD_BACKGROUND_COLOR":"#181818","INPUT_FIELD_BORDER_COLOR":"#262626","CARD_LAYER_1_COLOR":"#1D1D1D","CARD_LAYER_2_COLOR":"#262626","CARD_LAYER_3_COLOR":"#2D2D2D","CARD_LAYER_4_COLOR":"#333333","CARD_LAYER_5_COLOR":"#808080","HARD_CODED_BLACK_COLOR":"#000000","ICON_BG_COLOR":"#242529","TOOLBAR_COLOR":"#111111","ACTIVE_SPEAKER":true}');var h=__webpack_require__(6829),p=function(){return p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},p.apply(this,arguments)};function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}Object.create,Object.create,"function"==typeof Symbol&&null!=Symbol.iterator&&Symbol.iterator,"function"==typeof Symbol&&null!=Symbol.asyncIterator&&Symbol.asyncIterator;var A="function"==typeof Symbol&&null!=Symbol.toStringTag?Symbol.toStringTag:"@@toStringTag";function g(e,t){for(var n,r=/\r\n|[\n\r]/g,i=1,o=t+1;(n=r.exec(e.body))&&n.index<t;)i+=1,o=t+1-(n.index+n[0].length);return{line:i,column:o}}function m(e){return v(e.source,g(e.source,e.start))}function v(e,t){var n=e.locationOffset.column-1,r=E(n)+e.body,i=t.line-1,o=e.locationOffset.line-1,a=t.line+o,s=1===t.line?n:0,c=t.column+s,u="".concat(e.name,":").concat(a,":").concat(c,"\n"),l=r.split(/\r\n|[\n\r]/g),d=l[i];if(d.length>120){for(var h=Math.floor(c/80),p=c%80,f=[],A=0;A<d.length;A+=80)f.push(d.slice(A,A+80));return u+y([["".concat(a),f[0]]].concat(f.slice(1,h+1).map((function(e){return["",e]})),[[" ",E(p-1)+"^"],["",f[h+1]]]))}return u+y([["".concat(a-1),l[i-1]],["".concat(a),d],["",E(c-1)+"^"],["".concat(a+1),l[i+1]]])}function y(e){var t=e.filter((function(e){return e[0],void 0!==e[1]})),n=Math.max.apply(Math,t.map((function(e){return e[0].length})));return t.map((function(e){var t,r=e[0],i=e[1];return E(n-(t=r).length)+t+(i?" | "+i:" |")})).join("\n")}function E(e){return Array(e+1).join(" ")}function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?I(e):t}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){var t="function"==typeof Map?new Map:void 0;return S=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return w(e,arguments,O(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),T(r,e)},S(e)}function w(e,t,n){return w=R()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&T(i,n.prototype),i},w.apply(null,arguments)}function R(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function T(e,t){return T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},T(e,t)}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(a,e);var t,n,r,i,o=(t=a,n=R(),function(){var e,r=O(t);if(n){var i=O(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return C(this,e)});function a(e,t,n,r,i,s,c){var u,l,d,h,p;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),p=o.call(this,e);var A,m=Array.isArray(t)?0!==t.length?t:void 0:t?[t]:void 0,v=n;!v&&m&&(v=null===(A=m[0].loc)||void 0===A?void 0:A.source);var y,E=r;!E&&m&&(E=m.reduce((function(e,t){return t.loc&&e.push(t.loc.start),e}),[])),E&&0===E.length&&(E=void 0),r&&n?y=r.map((function(e){return g(n,e)})):m&&(y=m.reduce((function(e,t){return t.loc&&e.push(g(t.loc.source,t.loc.start)),e}),[]));var b,_=c;if(null==_&&null!=s){var S=s.extensions;"object"==f(b=S)&&null!==b&&(_=S)}return Object.defineProperties(I(p),{name:{value:"GraphQLError"},message:{value:e,enumerable:!0,writable:!0},locations:{value:null!==(u=y)&&void 0!==u?u:void 0,enumerable:null!=y},path:{value:null!=i?i:void 0,enumerable:null!=i},nodes:{value:null!=m?m:void 0},source:{value:null!==(l=v)&&void 0!==l?l:void 0},positions:{value:null!==(d=E)&&void 0!==d?d:void 0},originalError:{value:s},extensions:{value:null!==(h=_)&&void 0!==h?h:void 0,enumerable:null!=_}}),null!=s&&s.stack?(Object.defineProperty(I(p),"stack",{value:s.stack,writable:!0,configurable:!0}),C(p)):(Error.captureStackTrace?Error.captureStackTrace(I(p),a):Object.defineProperty(I(p),"stack",{value:Error().stack,writable:!0,configurable:!0}),p)}return r=a,(i=[{key:"toString",value:function(){return function(e){var t=e.message;if(e.nodes)for(var n=0,r=e.nodes;n<r.length;n++){var i=r[n];i.loc&&(t+="\n\n"+m(i.loc))}else if(e.source&&e.locations)for(var o=0,a=e.locations;o<a.length;o++){var s=a[o];t+="\n\n"+v(e.source,s)}return t}(this)}},{key:A,get:function(){return"Object"}}])&&_(r.prototype,i),a}(S(Error));function N(e,t,n){return new k("Syntax Error: ".concat(n),void 0,e,[t])}var D=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"}),P=__webpack_require__(5217),x=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"}),L=__webpack_require__(5821);function M(e,t){if(!Boolean(e))throw new Error(t)}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var F=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GraphQL request",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{line:1,column:1};"string"==typeof e||M(0,"Body must be a string. Received: ".concat((0,L.Z)(e),".")),this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||M(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||M(0,"column in locationOffset is 1-indexed and must be positive.")}var t,n;return t=e,(n=[{key:A,get:function(){return"Source"}}])&&B(t.prototype,n),e}(),U=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"}),j=__webpack_require__(7392),V=function(){function e(e){var t=new P.WU(x.SOF,0,0,0,0,null);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}var t=e.prototype;return t.advance=function(){return this.lastToken=this.token,this.token=this.lookahead()},t.lookahead=function(){var e=this.token;if(e.kind!==x.EOF)do{var t;e=null!==(t=e.next)&&void 0!==t?t:e.next=G(this,e)}while(e.kind===x.COMMENT);return e},e}();function Q(e){return isNaN(e)?x.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function G(e,t){for(var n=e.source,r=n.body,i=r.length,o=t.end;o<i;){var a=r.charCodeAt(o),s=e.line,c=1+o-e.lineStart;switch(a){case 65279:case 9:case 32:case 44:++o;continue;case 10:++o,++e.line,e.lineStart=o;continue;case 13:10===r.charCodeAt(o+1)?o+=2:++o,++e.line,e.lineStart=o;continue;case 33:return new P.WU(x.BANG,o,o+1,s,c,t);case 35:return H(n,o,s,c,t);case 36:return new P.WU(x.DOLLAR,o,o+1,s,c,t);case 38:return new P.WU(x.AMP,o,o+1,s,c,t);case 40:return new P.WU(x.PAREN_L,o,o+1,s,c,t);case 41:return new P.WU(x.PAREN_R,o,o+1,s,c,t);case 46:if(46===r.charCodeAt(o+1)&&46===r.charCodeAt(o+2))return new P.WU(x.SPREAD,o,o+3,s,c,t);break;case 58:return new P.WU(x.COLON,o,o+1,s,c,t);case 61:return new P.WU(x.EQUALS,o,o+1,s,c,t);case 64:return new P.WU(x.AT,o,o+1,s,c,t);case 91:return new P.WU(x.BRACKET_L,o,o+1,s,c,t);case 93:return new P.WU(x.BRACKET_R,o,o+1,s,c,t);case 123:return new P.WU(x.BRACE_L,o,o+1,s,c,t);case 124:return new P.WU(x.PIPE,o,o+1,s,c,t);case 125:return new P.WU(x.BRACE_R,o,o+1,s,c,t);case 34:return 34===r.charCodeAt(o+1)&&34===r.charCodeAt(o+2)?Y(n,o,s,c,t,e):K(n,o,s,c,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return z(n,o,a,s,c,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return Z(n,o,s,c,t)}throw N(n,o,q(a))}var u=e.line,l=1+o-e.lineStart;return new P.WU(x.EOF,i,i,u,l,t)}function q(e){return e<32&&9!==e&&10!==e&&13!==e?"Cannot contain the invalid character ".concat(Q(e),"."):39===e?"Unexpected single quote character ('), did you mean to use a double quote (\")?":"Cannot parse the unexpected character ".concat(Q(e),".")}function H(e,t,n,r,i){var o,a=e.body,s=t;do{o=a.charCodeAt(++s)}while(!isNaN(o)&&(o>31||9===o));return new P.WU(x.COMMENT,t,s,n,r,i,a.slice(t+1,s))}function z(e,t,n,r,i,o){var a=e.body,s=n,c=t,u=!1;if(45===s&&(s=a.charCodeAt(++c)),48===s){if((s=a.charCodeAt(++c))>=48&&s<=57)throw N(e,c,"Invalid number, unexpected digit after 0: ".concat(Q(s),"."))}else c=W(e,c,s),s=a.charCodeAt(c);if(46===s&&(u=!0,s=a.charCodeAt(++c),c=W(e,c,s),s=a.charCodeAt(c)),69!==s&&101!==s||(u=!0,43!==(s=a.charCodeAt(++c))&&45!==s||(s=a.charCodeAt(++c)),c=W(e,c,s),s=a.charCodeAt(c)),46===s||function(e){return 95===e||e>=65&&e<=90||e>=97&&e<=122}(s))throw N(e,c,"Invalid number, expected digit but got: ".concat(Q(s),"."));return new P.WU(u?x.FLOAT:x.INT,t,c,r,i,o,a.slice(t,c))}function W(e,t,n){var r=e.body,i=t,o=n;if(o>=48&&o<=57){do{o=r.charCodeAt(++i)}while(o>=48&&o<=57);return i}throw N(e,i,"Invalid number, expected digit but got: ".concat(Q(o),"."))}function K(e,t,n,r,i){for(var o,a,s,c,u=e.body,l=t+1,d=l,h=0,p="";l<u.length&&!isNaN(h=u.charCodeAt(l))&&10!==h&&13!==h;){if(34===h)return p+=u.slice(d,l),new P.WU(x.STRING,t,l+1,n,r,i,p);if(h<32&&9!==h)throw N(e,l,"Invalid character within String: ".concat(Q(h),"."));if(++l,92===h){switch(p+=u.slice(d,l-1),h=u.charCodeAt(l)){case 34:p+='"';break;case 47:p+="/";break;case 92:p+="\\";break;case 98:p+="\b";break;case 102:p+="\f";break;case 110:p+="\n";break;case 114:p+="\r";break;case 116:p+="\t";break;case 117:var f=(o=u.charCodeAt(l+1),a=u.charCodeAt(l+2),s=u.charCodeAt(l+3),c=u.charCodeAt(l+4),J(o)<<12|J(a)<<8|J(s)<<4|J(c));if(f<0){var A=u.slice(l+1,l+5);throw N(e,l,"Invalid character escape sequence: \\u".concat(A,"."))}p+=String.fromCharCode(f),l+=4;break;default:throw N(e,l,"Invalid character escape sequence: \\".concat(String.fromCharCode(h),"."))}d=++l}}throw N(e,l,"Unterminated string.")}function Y(e,t,n,r,i,o){for(var a=e.body,s=t+3,c=s,u=0,l="";s<a.length&&!isNaN(u=a.charCodeAt(s));){if(34===u&&34===a.charCodeAt(s+1)&&34===a.charCodeAt(s+2))return l+=a.slice(c,s),new P.WU(x.BLOCK_STRING,t,s+3,n,r,i,(0,j.W7)(l));if(u<32&&9!==u&&10!==u&&13!==u)throw N(e,s,"Invalid character within String: ".concat(Q(u),"."));10===u?(++s,++o.line,o.lineStart=s):13===u?(10===a.charCodeAt(s+1)?s+=2:++s,++o.line,o.lineStart=s):92===u&&34===a.charCodeAt(s+1)&&34===a.charCodeAt(s+2)&&34===a.charCodeAt(s+3)?(l+=a.slice(c,s)+'"""',c=s+=4):++s}throw N(e,s,"Unterminated string.")}function J(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function Z(e,t,n,r,i){for(var o=e.body,a=o.length,s=t+1,c=0;s!==a&&!isNaN(c=o.charCodeAt(s))&&(95===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122);)++s;return new P.WU(x.NAME,t,s,n,r,i,o.slice(t,s))}var X=function(){function e(e,t){var n=function(e){return e instanceof F}(e)?e:new F(e);this._lexer=new V(n),this._options=t}var t=e.prototype;return t.parseName=function(){var e=this.expectToken(x.NAME);return{kind:D.NAME,value:e.value,loc:this.loc(e)}},t.parseDocument=function(){var e=this._lexer.token;return{kind:D.DOCUMENT,definitions:this.many(x.SOF,this.parseDefinition,x.EOF),loc:this.loc(e)}},t.parseDefinition=function(){if(this.peek(x.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(x.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},t.parseOperationDefinition=function(){var e=this._lexer.token;if(this.peek(x.BRACE_L))return{kind:D.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(e)};var t,n=this.parseOperationType();return this.peek(x.NAME)&&(t=this.parseName()),{kind:D.OPERATION_DEFINITION,operation:n,name:t,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseOperationType=function(){var e=this.expectToken(x.NAME);switch(e.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(e)},t.parseVariableDefinitions=function(){return this.optionalMany(x.PAREN_L,this.parseVariableDefinition,x.PAREN_R)},t.parseVariableDefinition=function(){var e=this._lexer.token;return{kind:D.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(x.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(x.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(e)}},t.parseVariable=function(){var e=this._lexer.token;return this.expectToken(x.DOLLAR),{kind:D.VARIABLE,name:this.parseName(),loc:this.loc(e)}},t.parseSelectionSet=function(){var e=this._lexer.token;return{kind:D.SELECTION_SET,selections:this.many(x.BRACE_L,this.parseSelection,x.BRACE_R),loc:this.loc(e)}},t.parseSelection=function(){return this.peek(x.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var e,t,n=this._lexer.token,r=this.parseName();return this.expectOptionalToken(x.COLON)?(e=r,t=this.parseName()):t=r,{kind:D.FIELD,alias:e,name:t,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(x.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},t.parseArguments=function(e){var t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(x.PAREN_L,t,x.PAREN_R)},t.parseArgument=function(){var e=this._lexer.token,t=this.parseName();return this.expectToken(x.COLON),{kind:D.ARGUMENT,name:t,value:this.parseValueLiteral(!1),loc:this.loc(e)}},t.parseConstArgument=function(){var e=this._lexer.token;return{kind:D.ARGUMENT,name:this.parseName(),value:(this.expectToken(x.COLON),this.parseValueLiteral(!0)),loc:this.loc(e)}},t.parseFragment=function(){var e=this._lexer.token;this.expectToken(x.SPREAD);var t=this.expectOptionalKeyword("on");return!t&&this.peek(x.NAME)?{kind:D.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(e)}:{kind:D.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseFragmentDefinition=function(){var e,t=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(e=this._options)||void 0===e?void 0:e.experimentalFragmentVariables)?{kind:D.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}:{kind:D.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},t.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(e){var t=this._lexer.token;switch(t.kind){case x.BRACKET_L:return this.parseList(e);case x.BRACE_L:return this.parseObject(e);case x.INT:return this._lexer.advance(),{kind:D.INT,value:t.value,loc:this.loc(t)};case x.FLOAT:return this._lexer.advance(),{kind:D.FLOAT,value:t.value,loc:this.loc(t)};case x.STRING:case x.BLOCK_STRING:return this.parseStringLiteral();case x.NAME:switch(this._lexer.advance(),t.value){case"true":return{kind:D.BOOLEAN,value:!0,loc:this.loc(t)};case"false":return{kind:D.BOOLEAN,value:!1,loc:this.loc(t)};case"null":return{kind:D.NULL,loc:this.loc(t)};default:return{kind:D.ENUM,value:t.value,loc:this.loc(t)}}case x.DOLLAR:if(!e)return this.parseVariable()}throw this.unexpected()},t.parseStringLiteral=function(){var e=this._lexer.token;return this._lexer.advance(),{kind:D.STRING,value:e.value,block:e.kind===x.BLOCK_STRING,loc:this.loc(e)}},t.parseList=function(e){var t=this,n=this._lexer.token;return{kind:D.LIST,values:this.any(x.BRACKET_L,(function(){return t.parseValueLiteral(e)}),x.BRACKET_R),loc:this.loc(n)}},t.parseObject=function(e){var t=this,n=this._lexer.token;return{kind:D.OBJECT,fields:this.any(x.BRACE_L,(function(){return t.parseObjectField(e)}),x.BRACE_R),loc:this.loc(n)}},t.parseObjectField=function(e){var t=this._lexer.token,n=this.parseName();return this.expectToken(x.COLON),{kind:D.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e),loc:this.loc(t)}},t.parseDirectives=function(e){for(var t=[];this.peek(x.AT);)t.push(this.parseDirective(e));return t},t.parseDirective=function(e){var t=this._lexer.token;return this.expectToken(x.AT),{kind:D.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e),loc:this.loc(t)}},t.parseTypeReference=function(){var e,t=this._lexer.token;return this.expectOptionalToken(x.BRACKET_L)?(e=this.parseTypeReference(),this.expectToken(x.BRACKET_R),e={kind:D.LIST_TYPE,type:e,loc:this.loc(t)}):e=this.parseNamedType(),this.expectOptionalToken(x.BANG)?{kind:D.NON_NULL_TYPE,type:e,loc:this.loc(t)}:e},t.parseNamedType=function(){var e=this._lexer.token;return{kind:D.NAMED_TYPE,name:this.parseName(),loc:this.loc(e)}},t.parseTypeSystemDefinition=function(){var e=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(e.kind===x.NAME)switch(e.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(e)},t.peekDescription=function(){return this.peek(x.STRING)||this.peek(x.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");var n=this.parseDirectives(!0),r=this.many(x.BRACE_L,this.parseOperationTypeDefinition,x.BRACE_R);return{kind:D.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:r,loc:this.loc(e)}},t.parseOperationTypeDefinition=function(){var e=this._lexer.token,t=this.parseOperationType();this.expectToken(x.COLON);var n=this.parseNamedType();return{kind:D.OPERATION_TYPE_DEFINITION,operation:t,type:n,loc:this.loc(e)}},t.parseScalarTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");var n=this.parseName(),r=this.parseDirectives(!0);return{kind:D.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");var n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:D.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o,loc:this.loc(e)}},t.parseImplementsInterfaces=function(){var e;if(!this.expectOptionalKeyword("implements"))return[];if(!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLImplementsInterfaces)){var t=[];this.expectOptionalToken(x.AMP);do{t.push(this.parseNamedType())}while(this.expectOptionalToken(x.AMP)||this.peek(x.NAME));return t}return this.delimitedMany(x.AMP,this.parseNamedType)},t.parseFieldsDefinition=function(){var e;return!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLEmptyFields)&&this.peek(x.BRACE_L)&&this._lexer.lookahead().kind===x.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(x.BRACE_L,this.parseFieldDefinition,x.BRACE_R)},t.parseFieldDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseArgumentDefs();this.expectToken(x.COLON);var i=this.parseTypeReference(),o=this.parseDirectives(!0);return{kind:D.FIELD_DEFINITION,description:t,name:n,arguments:r,type:i,directives:o,loc:this.loc(e)}},t.parseArgumentDefs=function(){return this.optionalMany(x.PAREN_L,this.parseInputValueDef,x.PAREN_R)},t.parseInputValueDef=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(x.COLON);var r,i=this.parseTypeReference();this.expectOptionalToken(x.EQUALS)&&(r=this.parseValueLiteral(!0));var o=this.parseDirectives(!0);return{kind:D.INPUT_VALUE_DEFINITION,description:t,name:n,type:i,defaultValue:r,directives:o,loc:this.loc(e)}},t.parseInterfaceTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");var n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:D.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o,loc:this.loc(e)}},t.parseUnionTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseUnionMemberTypes();return{kind:D.UNION_TYPE_DEFINITION,description:t,name:n,directives:r,types:i,loc:this.loc(e)}},t.parseUnionMemberTypes=function(){return this.expectOptionalToken(x.EQUALS)?this.delimitedMany(x.PIPE,this.parseNamedType):[]},t.parseEnumTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseEnumValuesDefinition();return{kind:D.ENUM_TYPE_DEFINITION,description:t,name:n,directives:r,values:i,loc:this.loc(e)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(x.BRACE_L,this.parseEnumValueDefinition,x.BRACE_R)},t.parseEnumValueDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseDirectives(!0);return{kind:D.ENUM_VALUE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseInputObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseInputFieldsDefinition();return{kind:D.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:r,fields:i,loc:this.loc(e)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(x.BRACE_L,this.parseInputValueDef,x.BRACE_R)},t.parseTypeSystemExtension=function(){var e=this._lexer.lookahead();if(e.kind===x.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)},t.parseSchemaExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var t=this.parseDirectives(!0),n=this.optionalMany(x.BRACE_L,this.parseOperationTypeDefinition,x.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return{kind:D.SCHEMA_EXTENSION,directives:t,operationTypes:n,loc:this.loc(e)}},t.parseScalarTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var t=this.parseName(),n=this.parseDirectives(!0);if(0===n.length)throw this.unexpected();return{kind:D.SCALAR_TYPE_EXTENSION,name:t,directives:n,loc:this.loc(e)}},t.parseObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return{kind:D.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i,loc:this.loc(e)}},t.parseInterfaceTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return{kind:D.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i,loc:this.loc(e)}},t.parseUnionTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseUnionMemberTypes();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:D.UNION_TYPE_EXTENSION,name:t,directives:n,types:r,loc:this.loc(e)}},t.parseEnumTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseEnumValuesDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:D.ENUM_TYPE_EXTENSION,name:t,directives:n,values:r,loc:this.loc(e)}},t.parseInputObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseInputFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:D.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:r,loc:this.loc(e)}},t.parseDirectiveDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(x.AT);var n=this.parseName(),r=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var o=this.parseDirectiveLocations();return{kind:D.DIRECTIVE_DEFINITION,description:t,name:n,arguments:r,repeatable:i,locations:o,loc:this.loc(e)}},t.parseDirectiveLocations=function(){return this.delimitedMany(x.PIPE,this.parseDirectiveLocation)},t.parseDirectiveLocation=function(){var e=this._lexer.token,t=this.parseName();if(void 0!==U[t.value])return t;throw this.unexpected(e)},t.loc=function(e){var t;if(!0!==(null===(t=this._options)||void 0===t?void 0:t.noLocation))return new P.Ye(e,this._lexer.lastToken,this._lexer.source)},t.peek=function(e){return this._lexer.token.kind===e},t.expectToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t;throw N(this._lexer.source,t.start,"Expected ".concat(ee(e),", found ").concat($(t),"."))},t.expectOptionalToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t},t.expectKeyword=function(e){var t=this._lexer.token;if(t.kind!==x.NAME||t.value!==e)throw N(this._lexer.source,t.start,'Expected "'.concat(e,'", found ').concat($(t),"."));this._lexer.advance()},t.expectOptionalKeyword=function(e){var t=this._lexer.token;return t.kind===x.NAME&&t.value===e&&(this._lexer.advance(),!0)},t.unexpected=function(e){var t=null!=e?e:this._lexer.token;return N(this._lexer.source,t.start,"Unexpected ".concat($(t),"."))},t.any=function(e,t,n){this.expectToken(e);for(var r=[];!this.expectOptionalToken(n);)r.push(t.call(this));return r},t.optionalMany=function(e,t,n){if(this.expectOptionalToken(e)){var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r}return[]},t.many=function(e,t,n){this.expectToken(e);var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r},t.delimitedMany=function(e,t){this.expectOptionalToken(e);var n=[];do{n.push(t.call(this))}while(this.expectOptionalToken(e));return n},e}();function $(e){var t=e.value;return ee(e.kind)+(null!=t?' "'.concat(t,'"'):"")}function ee(e){return function(e){return e===x.BANG||e===x.DOLLAR||e===x.AMP||e===x.PAREN_L||e===x.PAREN_R||e===x.SPREAD||e===x.COLON||e===x.EQUALS||e===x.AT||e===x.BRACKET_L||e===x.BRACKET_R||e===x.BRACE_L||e===x.PIPE||e===x.BRACE_R}(e)?'"'.concat(e,'"'):e}var te=new Map,ne=new Map,re=!0,ie=!1;function oe(e){return e.replace(/[\s,]+/g," ").trim()}function ae(e){var t=oe(e);if(!te.has(t)){var n=function(e,t){return new X(e,t).parseDocument()}(e,{experimentalFragmentVariables:ie,allowLegacyFragmentVariables:ie});if(!n||"Document"!==n.kind)throw new Error("Not a valid GraphQL document.");te.set(t,function(e){var t=new Set(e.definitions);t.forEach((function(e){e.loc&&delete e.loc,Object.keys(e).forEach((function(n){var r=e[n];r&&"object"==typeof r&&t.add(r)}))}));var n=e.loc;return n&&(delete n.startToken,delete n.endToken),e}(function(e){var t=new Set,n=[];return e.definitions.forEach((function(e){if("FragmentDefinition"===e.kind){var r=e.name.value,i=oe((a=e.loc).source.body.substring(a.start,a.end)),o=ne.get(r);o&&!o.has(i)?re&&console.warn("Warning: fragment with name "+r+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"):o||ne.set(r,o=new Set),o.add(i),t.has(i)||(t.add(i),n.push(e))}else n.push(e);var a})),p(p({},e),{definitions:n})}(n)))}return te.get(t)}function se(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];"string"==typeof e&&(e=[e]);var r=e[0];return t.forEach((function(t,n){t&&"Document"===t.kind?r+=t.loc.source.body:r+=t,r+=e[n+1]})),ae(r)}var ce,ue=se;(ce=se||(se={})).gql=ue,ce.resetCaches=function(){te.clear(),ne.clear()},ce.disableFragmentWarnings=function(){re=!1},ce.enableExperimentalFragmentVariables=function(){ie=!0},ce.disableExperimentalFragmentVariables=function(){ie=!1},se.default=se;const le=se;function de(e,t){return function(r){const i=(0,n.useContext)(e);return r?r(t(i)):t(i)}}const he=function(e){return function(t){const r=(0,n.useContext)(e);return t?t(r):r}},pe=l({});let fe=()=>({events:{},emit(e,...t){let n=this.events[e]||[];for(let e=0,r=n.length;e<r;e++)n[e](...t)},on(e,t){return this.events[e]?.push(t)||(this.events[e]=[t]),()=>{this.events[e]=this.events[e]?.filter((e=>t!==e))}}});function Ae(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ge=new class{constructor(){Ae(this,"emitter",void 0),Ae(this,"emitCache",{}),Ae(this,"emitCacheDisabled",{}),this.emitter=fe()}async emit(e,...t){if(this.emitCache[e])throw new Error(`Event: ${e} already in callstack`);const n=await new Promise(((n,r)=>{this.emitCache[e]=[n,r,...t],this.emitter.emit(e,n,r,...t)})).then((t=>(delete this.emitCache[e],t))).catch((t=>{throw delete this.emitCache[e],t}));return n}on(e,t){const n=this.emitter.on(e,t);return this.emitCache[e]&&!this.emitCacheDisabled[e]&&this.emitter.emit(e,...this.emitCache[e]),this.emitCacheDisabled[e]=!0,n}},me=ge,ve={isJoinDataFetched:!1,data:{isHost:!1,meetingTitle:"",roomId:{attendee:""},isSeparateHostLink:!0}},ye=(0,n.createContext)(ve),Ee=e=>n.createElement(ye.Provider,{value:{...e.value}},e.children),be=he(ye),_e={join:{initialized:!1},customize:{},clearState:()=>{}},Ce=(0,n.createContext)(_e);let Ie=[];const Se=e=>me.on("join",((t,n,r,i)=>{if("object"==typeof r){if(!(e=>{const{channel:t,encryptionSecret:n,rtmToken:r,screenShareToken:i,screenShareUid:o,token:a,uid:s}=e;return!!(n&&i&&o&&t&&r&&a&&s)})(r))return void n(new Error("Invalid meeting details"));e({initialized:!0,phrase:"sdk-initiated-meeting",meetingDetails:r,skipPrecall:i,promise:{res:t,rej:n}})}else"string"==typeof r&&r.trim().length>0?e({initialized:!0,phrase:r,skipPrecall:i,promise:{res:t,rej:n}}):n(new Error("Invalid room detail"))})),we=e=>me.on("customize",((t,n,r)=>{e({customization:r}),t()})),Re=e=>{const[t,r]=(0,n.useState)(_e.join),[i,o]=(0,n.useState)(_e.customize);return(0,n.useEffect)((()=>{Ie.forEach((e=>e())),console.log("[SDKContext] join state is ",t);const e=[we((e=>{o(e)})),Se((e=>{r(e)}))];return()=>{e.forEach((e=>e())),Ie=[we((e=>{_e.customize=e})),Se((e=>{_e.join=e}))]}}),[]),n.createElement(Ce.Provider,{value:{join:t,customize:i,clearState:e=>{switch(e){case"join":return void r(_e.join);case"customize":o(_e.customize)}}}},e.children)},Te=n.createContext(pe),Oe=e=>{const{customize:t}=(0,n.useContext)(Ce);return n.createElement(Te.Provider,{value:t.customization},e.children)},ke=he(Te),Ne=(0,n.createContext)({setMeetingInfo:()=>{}}),De=e=>n.createElement(Ne.Provider,{value:{...e.value}},e.children),Pe=he(Ne),xe=fe(),Le=le`
  mutation CreateChannel($title: String!, $enablePSTN: Boolean) {
    createChannel(title: $title, enablePSTN: $enablePSTN) {
      passphrase {
        host
        view
      }
      channel
      title
      pstn {
        number
        dtmf
      }
    }
  }
`;function Me(){const[e,{error:t}]=(0,h.useMutation)(Le),{setMeetingInfo:n}=Pe();return async(r,i,o)=>{var a;const s=await e({variables:{title:r,enablePSTN:i}});if(t)throw t;if(!(s&&null!=s&&s.data&&null!=s&&null!==(a=s.data)&&void 0!==a&&a.createChannel))throw new Error("An error occurred in parsing the channel data.");{var c,u,l,d,h,p,f,A;let e={roomId:{attendee:""}};null!=s&&null!==(c=s.data)&&void 0!==c&&null!==(u=c.createChannel)&&void 0!==u&&null!==(l=u.passphrase)&&void 0!==l&&l.view&&(e.roomId.attendee=s.data.createChannel.passphrase.view),null!=s&&null!==(d=s.data)&&void 0!==d&&null!==(h=d.createChannel)&&void 0!==h&&null!==(p=h.passphrase)&&void 0!==p&&p.host&&(e.roomId.host=s.data.createChannel.passphrase.host),!0===i&&null!=s&&null!==(f=s.data)&&void 0!==f&&null!==(A=f.createChannel)&&void 0!==A&&A.pstn&&(e.pstn={number:s.data.createChannel.pstn.number,pin:s.data.createChannel.pstn.dtmf}),n({data:{isHost:!0,isSeparateHostLink:!!o,meetingTitle:r,roomId:null==e?void 0:e.roomId,pstn:null==e?void 0:e.pstn}}),xe.emit("create",e.roomId.host,e.roomId.attendee,null==e?void 0:e.pstn)}}}const Be=__webpack_require__(942).bind({concatArrays:!0,ignoreUndefined:!0});function Fe(e,t){return new Promise(((n,r)=>{try{const r=e();null==t||t(null,r),n(r)}catch(e){null==t||t(e),r(e)}}))}function Ue(e,t,n){return Promise.all(e).then((e=>{const r=(null==n?void 0:n(e))??null;return null==t||t(null,r),Promise.resolve(r)}),(e=>(null==t||t(e),Promise.reject(e))))}const je={getItem:(e,t)=>Fe((()=>window.localStorage.getItem(e)),t),setItem:(e,t,n)=>Fe((()=>window.localStorage.setItem(e,t)),n),removeItem:(e,t)=>Fe((()=>window.localStorage.removeItem(e)),t),mergeItem:(e,t,n)=>Fe((()=>function(e,t){const n=window.localStorage.getItem(e);if(n){const r=JSON.parse(n),i=JSON.parse(t),o=JSON.stringify(Be(r,i));window.localStorage.setItem(e,o)}else window.localStorage.setItem(e,t)}(e,t)),n),clear:e=>Fe((()=>window.localStorage.clear()),e),getAllKeys:e=>Fe((()=>{const e=window.localStorage.length,t=[];for(let n=0;n<e;n+=1){const e=window.localStorage.key(n)||"";t.push(e)}return t}),e),flushGetRequests:()=>{},multiGet:(e,t)=>Ue(e.map((e=>je.getItem(e))),t,(t=>t.map(((t,n)=>[e[n],t])))),multiSet:(e,t)=>Ue(e.map((e=>je.setItem(e[0],e[1]))),t),multiRemove:(e,t)=>Ue(e.map((e=>je.removeItem(e))),t),multiMerge:(e,t)=>Ue(e.map((e=>je.mergeItem(e[0],e[1]))),t)},Ve=je,Qe=e=>{(0,n.useEffect)(e,[])},Ge={token:null,displayName:"",selectedLanguageCode:"",rememberedDevicesList:{audioinput:{},audiooutput:{},videoinput:{}},activeDeviceId:{audioinput:"",audiooutput:"",videoinput:""}},qe={store:Ge,setStore:null},He=(0,n.createContext)(qe),ze=He,We=(He.Consumer,e=>{const[t,r]=(0,n.useState)(!1),[i,o]=(0,n.useState)(Ge);return Qe((()=>{(async()=>{try{const e=await Ve.getItem("store");if(null===e)await Ve.setItem("store",JSON.stringify(Ge)),r(!0);else{const t=JSON.parse(e);Object.keys(Ge).forEach((e=>{t[e]||(t[e]=Ge[e])})),o(t),r(!0)}console.log("store hydrated",e),r(!0)}catch(e){console.error("problem hydrating store",e)}})()})),(0,n.useEffect)((()=>{t&&(async()=>{try{await Ve.setItem("store",JSON.stringify(i)),console.log("store synced with value",i)}catch(e){console.log("problem syncing the store",e)}})()}),[i,t]),n.createElement(He.Provider,{value:{store:i,setStore:o}},t?e.children:n.createElement(n.Fragment,null))});var Ke=__webpack_require__(3104),Ye=__webpack_require__(4152),Je=__webpack_require__(655),Ze=__webpack_require__(5658),Xe=__webpack_require__(9770),$e=function(){function e(){this.getFragmentDoc=(0,Ze.re)(Xe.Yk)}return e.prototype.recordOptimisticTransaction=function(e,t){this.performTransaction(e,t)},e.prototype.transformDocument=function(e){return e},e.prototype.identify=function(e){},e.prototype.gc=function(){return[]},e.prototype.modify=function(e){return!1},e.prototype.transformForLink=function(e){return e},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read({rootId:e.id||"ROOT_QUERY",query:e.query,variables:e.variables,returnPartialData:e.returnPartialData,optimistic:t})},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read({query:this.getFragmentDoc(e.fragment,e.fragmentName),variables:e.variables,rootId:e.id,returnPartialData:e.returnPartialData,optimistic:t})},e.prototype.writeQuery=function(e){return this.write({dataId:e.id||"ROOT_QUERY",result:e.data,query:e.query,variables:e.variables,broadcast:e.broadcast})},e.prototype.writeFragment=function(e){return this.write({dataId:e.id,result:e.data,variables:e.variables,query:this.getFragmentDoc(e.fragment,e.fragmentName),broadcast:e.broadcast})},e}(),et=function(e,t,n,r,i){this.message=e,this.path=t,this.query=n,this.clientOnly=r,this.variables=i},tt=__webpack_require__(386),nt=__webpack_require__(1234),rt=__webpack_require__(1467),it=__webpack_require__(4604),ot=__webpack_require__(6376),at=__webpack_require__(7742),st=__webpack_require__(2152),ct=__webpack_require__(1578),ut=Object.prototype.hasOwnProperty,lt=/^[_a-z][_0-9a-z]*/i;function dt(e){var t=e.match(lt);return t?t[0]:e}function ht(e,t,n){return!(!t||"object"!=typeof t)&&(Array.isArray(t)?t.every((function(t){return ht(e,t,n)})):e.selections.every((function(e){if((0,tt.My)(e)&&(0,ot.LZ)(e,n)){var r=(0,tt.u2)(e);return ut.call(t,r)&&(!e.selectionSet||ht(e.selectionSet,t[r],n))}return!0})))}function pt(e){return null!==e&&"object"==typeof e&&!(0,tt.Yk)(e)&&!Array.isArray(e)}var ft=Object.create(null),At=function(){return ft},gt=Object.create(null),mt=function(){function e(e,t){var n=this;this.policies=e,this.group=t,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(e,t){return(0,tt.Yk)(e)?n.get(e.__ref,t):e&&e[t]},this.canRead=function(e){return(0,tt.Yk)(e)?n.has(e.__ref):"object"==typeof e},this.toReference=function(e,t){if("string"==typeof e)return(0,tt.kQ)(e);if((0,tt.Yk)(e))return e;var r=n.policies.identify(e)[0];if(r){var i=(0,tt.kQ)(r);return t&&n.merge(r,e),i}}}return e.prototype.toObject=function(){return(0,Je.pi)({},this.data)},e.prototype.has=function(e){return void 0!==this.lookup(e,!0)},e.prototype.get=function(e,t){if(this.group.depend(e,t),ut.call(this.data,e)){var n=this.data[e];if(n&&ut.call(n,t))return n[t]}return"__typename"===t&&ut.call(this.policies.rootTypenamesById,e)?this.policies.rootTypenamesById[e]:this instanceof Et?this.parent.get(e,t):void 0},e.prototype.lookup=function(e,t){return t&&this.group.depend(e,"__exists"),ut.call(this.data,e)?this.data[e]:this instanceof Et?this.parent.lookup(e,t):this.policies.rootTypenamesById[e]?Object.create(null):void 0},e.prototype.merge=function(e,t){var n=this,r=this.lookup(e),i=new at.w0(bt).merge(r,t);if(this.data[e]=i,i!==r&&(delete this.refs[e],this.group.caching)){var o=Object.create(null);r||(o.__exists=1),Object.keys(t).forEach((function(e){if(!r||r[e]!==i[e]){o[e]=1;var t=dt(e);t===e||n.policies.hasKeyArgs(i.__typename,t)||(o[t]=1),void 0!==i[e]||n instanceof Et||delete i[e]}})),Object.keys(o).forEach((function(t){return n.group.dirty(e,t)}))}},e.prototype.modify=function(e,t){var n=this,r=this.lookup(e);if(r){var i=Object.create(null),o=!1,a=!0,s={DELETE:ft,INVALIDATE:gt,isReference:tt.Yk,toReference:this.toReference,canRead:this.canRead,readField:function(t,r){return n.policies.readField("string"==typeof t?{fieldName:t,from:r||(0,tt.kQ)(e)}:t,{store:n})}};if(Object.keys(r).forEach((function(c){var u=dt(c),l=r[c];if(void 0!==l){var d="function"==typeof t?t:t[c]||t[u];if(d){var h=d===At?ft:d(l,(0,Je.pi)((0,Je.pi)({},s),{fieldName:u,storeFieldName:c,storage:n.getStorage(e,c)}));h===gt?n.group.dirty(e,c):(h===ft&&(h=void 0),h!==l&&(i[c]=h,o=!0,l=h))}void 0!==l&&(a=!1)}})),o)return this.merge(e,i),a&&(this instanceof Et?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},e.prototype.delete=function(e,t,n){var r,i=this.lookup(e);if(i){var o=this.getFieldValue(i,"__typename"),a=t&&n?this.policies.getStoreFieldName({typename:o,fieldName:t,args:n}):t;return this.modify(e,a?((r={})[a]=At,r):At)}return!1},e.prototype.evict=function(e){var t=!1;return e.id&&(ut.call(this.data,e.id)&&(t=this.delete(e.id,e.fieldName,e.args)),this instanceof Et&&(t=this.parent.evict(e)||t),(e.fieldName||t)&&this.group.dirty(e.id,e.fieldName||"__exists")),t},e.prototype.clear=function(){this.replace(null)},e.prototype.extract=function(){var e=this,t=this.toObject(),n=[];return this.getRootIdSet().forEach((function(t){ut.call(e.policies.rootTypenamesById,t)||n.push(t)})),n.length&&(t.__META={extraRootIds:n.sort()}),t},e.prototype.replace=function(e){var t=this;if(Object.keys(this.data).forEach((function(n){e&&ut.call(e,n)||t.delete(n)})),e){var n=e.__META,r=(0,Je._T)(e,["__META"]);Object.keys(r).forEach((function(e){t.merge(e,r[e])})),n&&n.extraRootIds.forEach(this.retain,this)}},e.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},e.prototype.release=function(e){if(this.rootIds[e]>0){var t=--this.rootIds[e];return t||delete this.rootIds[e],t}return 0},e.prototype.getRootIdSet=function(e){return void 0===e&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof Et?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},e.prototype.gc=function(){var e=this,t=this.getRootIdSet(),n=this.toObject();t.forEach((function(r){ut.call(n,r)&&(Object.keys(e.findChildRefIds(r)).forEach(t.add,t),delete n[r])}));var r=Object.keys(n);if(r.length){for(var i=this;i instanceof Et;)i=i.parent;r.forEach((function(e){return i.delete(e)}))}return r},e.prototype.findChildRefIds=function(e){if(!ut.call(this.refs,e)){var t=this.refs[e]=Object.create(null),n=new Set([this.data[e]]),r=function(e){return null!==e&&"object"==typeof e};n.forEach((function(e){(0,tt.Yk)(e)?t[e.__ref]=!0:r(e)&&Object.values(e).filter(r).forEach(n.add,n)}))}return this.refs[e]},e.prototype.makeCacheKey=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.group.keyMaker.lookupArray(e)},e}(),vt=function(){function e(e){this.caching=e,this.d=null,this.keyMaker=new Ze.Gl(ct.m),this.d=e?(0,Ze.dP)():null}return e.prototype.depend=function(e,t){if(this.d){this.d(yt(e,t));var n=dt(t);n!==t&&this.d(yt(e,n))}},e.prototype.dirty=function(e,t){this.d&&this.d.dirty(yt(e,t))},e}();function yt(e,t){return t+"#"+e}!function(e){var t=function(e){function t(t){var n=t.policies,r=t.resultCaching,i=void 0===r||r,o=t.seed,a=e.call(this,n,new vt(i))||this;return a.storageTrie=new Ze.Gl(ct.m),a.sharedLayerGroup=new vt(i),o&&a.replace(o),a}return(0,Je.ZT)(t,e),t.prototype.addLayer=function(e,t){return new Et(e,this,t,this.sharedLayerGroup)},t.prototype.removeLayer=function(){return this},t.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},t}(e);e.Root=t}(mt||(mt={}));var Et=function(e){function t(t,n,r,i){var o=e.call(this,n.policies,i)||this;return o.id=t,o.parent=n,o.replay=r,o.group=i,r(o),o}return(0,Je.ZT)(t,e),t.prototype.addLayer=function(e,n){return new t(e,this,n,this.group)},t.prototype.removeLayer=function(e){var t=this,n=this.parent.removeLayer(e);return e===this.id?(this.group.caching&&Object.keys(this.data).forEach((function(e){t.data[e]!==n.lookup(e)&&t.delete(e)})),n):n===this.parent?this:n.addLayer(this.id,this.replay)},t.prototype.toObject=function(){return(0,Je.pi)((0,Je.pi)({},this.parent.toObject()),this.data)},t.prototype.findChildRefIds=function(t){var n=this.parent.findChildRefIds(t);return ut.call(this.data,t)?(0,Je.pi)((0,Je.pi)({},n),e.prototype.findChildRefIds.call(this,t)):n},t.prototype.getStorage=function(){for(var e=this.parent;e.parent;)e=e.parent;return e.getStorage.apply(e,arguments)},t}(mt);function bt(e,t,n){var r=e[n],i=t[n];return(0,st.D)(r,i)?r:i}function _t(e){return!!(e instanceof mt&&e.group.caching)}function Ct(e,t){return new et(e.message,t.path.slice(),t.query,t.clientOnly,t.variables)}var It=function(){function e(e){var t=this;this.config=e,this.executeSelectionSet=(0,Ze.re)((function(e){return t.execSelectionSetImpl(e)}),{keyArgs:function(e){return[e.selectionSet,e.objectOrReference,e.context]},makeCacheKey:function(e,t,n){if(_t(n.store))return n.store.makeCacheKey(e,(0,tt.Yk)(t)?t.__ref:t,n.varString)}}),this.knownResults=new WeakMap,this.executeSubSelectedArray=(0,Ze.re)((function(e){return t.execSubSelectedArrayImpl(e)}),{makeCacheKey:function(e){var t=e.field,n=e.array,r=e.context;if(_t(r.store))return r.store.makeCacheKey(t,n,r.varString)}}),this.config=(0,Je.pi)({addTypename:!0},e)}return e.prototype.diffQueryAgainstStore=function(e){var t=e.store,n=e.query,r=e.rootId,i=void 0===r?"ROOT_QUERY":r,o=e.variables,a=e.returnPartialData,s=void 0===a||a,c=this.config.cache.policies;o=(0,Je.pi)((0,Je.pi)({},(0,it.O4)((0,it.iW)(n))),o);var u=this.executeSelectionSet({selectionSet:(0,it.p$)(n).selectionSet,objectOrReference:(0,tt.kQ)(i),context:{store:t,query:n,policies:c,variables:o,varString:JSON.stringify(o),fragmentMap:(0,Xe.F)((0,it.kU)(n)),path:[],clientOnly:!1}}),l=u.missing&&u.missing.length>0;if(l&&!s)throw u.missing[0];return{result:u.result,missing:u.missing,complete:!l}},e.prototype.isFresh=function(e,t,n,r){if(_t(r.store)&&this.knownResults.get(e)===n){var i=this.executeSelectionSet.peek(n,t,r);if(i&&e===i.result)return!0}return!1},e.prototype.execSelectionSetImpl=function(e){var t=this,n=e.selectionSet,r=e.objectOrReference,i=e.context;if((0,tt.Yk)(r)&&!i.policies.rootTypenamesById[r.__ref]&&!i.store.has(r.__ref))return{result:{},missing:[Ct(new rt.ej(4),i)]};var o=i.variables,a=i.policies,s=i.store,c=[],u={result:null},l=s.getFieldValue(r,"__typename");function d(){return u.missing||(u.missing=[])}function h(e){var t;return e.missing&&(t=d()).push.apply(t,e.missing),e.result}this.config.addTypename&&"string"==typeof l&&!a.rootIdsByTypename[l]&&c.push({__typename:l});var p=new Set(n.selections);return p.forEach((function(e){var n;if((0,ot.LZ)(e,o))if((0,tt.My)(e)){var s=a.readField({fieldName:e.name.value,field:e,variables:i.variables,from:r},i),u=(0,tt.u2)(e);i.path.push(u);var f=i.clientOnly;i.clientOnly=f||!(!e.directives||!e.directives.some((function(e){return"client"===e.name.value}))),void 0===s?nt.Gw.added(e)||d().push(Ct(new rt.ej(5),i)):Array.isArray(s)?s=h(t.executeSubSelectedArray({field:e,array:s,context:i})):e.selectionSet&&null!=s&&(s=h(t.executeSelectionSet({selectionSet:e.selectionSet,objectOrReference:s,context:i}))),void 0!==s&&c.push(((n={})[u]=s,n)),i.clientOnly=f,(0,rt.kG)(i.path.pop()===u)}else{var A=(0,Xe.hi)(e,i.fragmentMap);A&&a.fragmentMatches(A,l)&&A.selectionSet.selections.forEach(p.add,p)}})),u.result=(0,at.bw)(c),this.knownResults.set(u.result,n),u},e.prototype.execSubSelectedArrayImpl=function(e){var t,n=this,r=e.field,i=e.array,o=e.context;function a(e,n){return e.missing&&(t=t||[]).push.apply(t,e.missing),(0,rt.kG)(o.path.pop()===n),e.result}return r.selectionSet&&(i=i.filter(o.store.canRead)),i=i.map((function(e,t){return null===e?null:(o.path.push(t),Array.isArray(e)?a(n.executeSubSelectedArray({field:r,array:e,context:o}),t):r.selectionSet?a(n.executeSelectionSet({selectionSet:r.selectionSet,objectOrReference:e,context:o}),t):((0,rt.kG)(o.path.pop()===t),e))})),{result:i,missing:t}},e}(),St=function(){function e(e,t){this.cache=e,this.reader=t}return e.prototype.writeToStore=function(e){var t=e.query,n=e.result,r=e.dataId,i=e.store,o=e.variables,a=(0,it.$H)(t),s=new at.w0;o=(0,Je.pi)((0,Je.pi)({},(0,it.O4)(a)),o);var c=this.processSelectionSet({result:n||Object.create(null),dataId:r,selectionSet:a.selectionSet,mergeTree:{map:new Map},context:{store:i,written:Object.create(null),merge:function(e,t){return s.merge(e,t)},variables:o,varString:JSON.stringify(o),fragmentMap:(0,Xe.F)((0,it.kU)(t))}});if(!(0,tt.Yk)(c))throw new rt.ej(7);return i.retain(c.__ref),c},e.prototype.processSelectionSet=function(e){var t=this,n=e.dataId,r=e.result,i=e.selectionSet,o=e.context,a=e.mergeTree,s=this.cache.policies,c=s.identify(r,i,o.fragmentMap),u=c[0],l=c[1];if("string"==typeof(n=n||u)){var d=o.written[n]||(o.written[n]=[]),h=(0,tt.kQ)(n);if(d.indexOf(i)>=0)return h;if(d.push(i),this.reader&&this.reader.isFresh(r,h,i,o))return h}var p=Object.create(null);l&&(p=o.merge(p,l));var f=n&&s.rootTypenamesById[n]||(0,tt.qw)(r,i,o.fragmentMap)||n&&o.store.get(n,"__typename");"string"==typeof f&&(p.__typename=f);var A=new Set(i.selections);if(A.forEach((function(e){var n;if((0,ot.LZ)(e,o.variables))if((0,tt.My)(e)){var i=(0,tt.u2)(e),c=r[i];if(void 0!==c){var u=s.getStoreFieldName({typename:f,fieldName:e.name.value,field:e,variables:o.variables}),l=Rt(a,u),d=t.processFieldValue(c,e,o,l),h=e.selectionSet&&o.store.getFieldValue(d,"__typename")||void 0,g=s.getMergeFunction(f,e.name.value,h);g?l.info={field:e,typename:f,merge:g}:Tt(a,u),p=o.merge(p,((n={})[u]=d,n))}else if(s.usingPossibleTypes&&!(0,ot.FS)(["defer","client"],e))throw new rt.ej(8)}else{var m=(0,Xe.hi)(e,o.fragmentMap);m&&s.fragmentMatches(m,f,r,o.variables)&&m.selectionSet.selections.forEach(A.add,A)}})),"string"==typeof n){var g=(0,tt.kQ)(n);return a.map.size&&(p=this.applyMerges(a,g,p,o)),o.store.merge(n,p),g}return p},e.prototype.processFieldValue=function(e,t,n,r){var i=this;return t.selectionSet&&null!==e?Array.isArray(e)?e.map((function(e,o){var a=i.processFieldValue(e,t,n,Rt(r,o));return Tt(r,o),a})):this.processSelectionSet({result:e,selectionSet:t.selectionSet,context:n,mergeTree:r}):e},e.prototype.applyMerges=function(e,t,n,r,i){var o,a=this;if(e.map.size&&!(0,tt.Yk)(n)){var s,c=Array.isArray(n)||!(0,tt.Yk)(t)&&!pt(t)?void 0:t,u=n;c&&!i&&(i=[(0,tt.Yk)(c)?c.__ref:c]);var l=function(e,t){return Array.isArray(e)?"number"==typeof t?e[t]:void 0:r.store.getFieldValue(e,String(t))};e.map.forEach((function(e,t){i&&i.push(t);var n=l(c,t),o=l(u,t),d=a.applyMerges(e,n,o,r,i);d!==o&&(s=s||new Map).set(t,d),i&&(0,rt.kG)(i.pop()===t)})),s&&(n=Array.isArray(u)?u.slice(0):(0,Je.pi)({},u),s.forEach((function(e,t){n[t]=e})))}return e.info?this.cache.policies.runMergeFunction(t,n,e.info,r,i&&(o=r.store).getStorage.apply(o,i)):n},e}(),wt=[];function Rt(e,t){var n=e.map;return n.has(t)||n.set(t,wt.pop()||{map:new Map}),n.get(t)}function Tt(e,t){var n=e.map,r=n.get(t);!r||r.info||r.map.size||(wt.push(r),n.delete(t))}new Set;var Ot=__webpack_require__(4420);function kt(e){return void 0!==e.args?e.args:e.field?(0,tt.NC)(e.field,e.variables):null}var Nt=function(e,t){var n=e.__typename,r=e.id,i=e._id;if("string"==typeof n&&(t&&(t.keyObject=void 0!==r?{id:r}:void 0!==i?{_id:i}:void 0),void 0===r&&(r=i),void 0!==r))return n+":"+("number"==typeof r||"string"==typeof r?r:JSON.stringify(r))},Dt=function(){},Pt=function(e,t){return t.fieldName},xt=function(e,t,n){return(0,n.mergeObjects)(e,t)},Lt=function(e,t){return t},Mt=function(){function e(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=(0,Je.pi)({dataIdFromObject:Nt},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return e.prototype.identify=function(e,t,n){var r=t&&n?(0,tt.qw)(e,t,n):e.__typename;if(r===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var i,o={typename:r,selectionSet:t,fragmentMap:n},a=r&&this.getTypePolicy(r),s=a&&a.keyFn||this.config.dataIdFromObject;s;){var c=s(e,o);if(!Array.isArray(c)){i=c;break}s=jt(c)}return i=i?String(i):void 0,o.keyObject?[i,o.keyObject]:[i]},e.prototype.addTypePolicies=function(e){var t=this;Object.keys(e).forEach((function(n){var r=e[n],i=r.queryType,o=r.mutationType,a=r.subscriptionType,s=(0,Je._T)(r,["queryType","mutationType","subscriptionType"]);i&&t.setRootTypename("Query",n),o&&t.setRootTypename("Mutation",n),a&&t.setRootTypename("Subscription",n),ut.call(t.toBeAdded,n)?t.toBeAdded[n].push(s):t.toBeAdded[n]=[s]}))},e.prototype.updateTypePolicy=function(e,t){var n=this,r=this.getTypePolicy(e),i=t.keyFields,o=t.fields;function a(e,t){e.merge="function"==typeof t?t:!0===t?xt:!1===t?Lt:e.merge}a(r,t.merge),r.keyFn=!1===i?Dt:Array.isArray(i)?jt(i):"function"==typeof i?i:r.keyFn,o&&Object.keys(o).forEach((function(t){var r=n.getFieldPolicy(e,t,!0),i=o[t];if("function"==typeof i)r.read=i;else{var s=i.keyArgs,c=i.read,u=i.merge;r.keyFn=!1===s?Pt:Array.isArray(s)?Ut(s):"function"==typeof s?s:r.keyFn,"function"==typeof c&&(r.read=c),a(r,u)}r.read&&r.merge&&(r.keyFn=r.keyFn||Pt)}))},e.prototype.setRootTypename=function(e,t){void 0===t&&(t=e);var n="ROOT_"+e.toUpperCase(),r=this.rootTypenamesById[n];t!==r&&((0,rt.kG)(!r||r===e,1),r&&delete this.rootIdsByTypename[r],this.rootIdsByTypename[t]=n,this.rootTypenamesById[n]=t)},e.prototype.addPossibleTypes=function(e){var t=this;this.usingPossibleTypes=!0,Object.keys(e).forEach((function(n){t.getSupertypeSet(n,!0),e[n].forEach((function(e){t.getSupertypeSet(e,!0).add(n);var r=e.match(lt);r&&r[0]===e||t.fuzzySubtypes.set(e,new RegExp(e))}))}))},e.prototype.getTypePolicy=function(e){var t=this;if(!ut.call(this.typePolicies,e)){var n=this.typePolicies[e]=Object.create(null);n.fields=Object.create(null);var r=this.supertypeMap.get(e);r&&r.size&&r.forEach((function(e){var r=t.getTypePolicy(e),i=r.fields,o=(0,Je._T)(r,["fields"]);Object.assign(n,o),Object.assign(n.fields,i)}))}var i=this.toBeAdded[e];return i&&i.length&&i.splice(0).forEach((function(n){t.updateTypePolicy(e,n)})),this.typePolicies[e]},e.prototype.getFieldPolicy=function(e,t,n){if(e){var r=this.getTypePolicy(e).fields;return r[t]||n&&(r[t]=Object.create(null))}},e.prototype.getSupertypeSet=function(e,t){var n=this.supertypeMap.get(e);return!n&&t&&this.supertypeMap.set(e,n=new Set),n},e.prototype.fragmentMatches=function(e,t,n,r){var i=this;if(!e.typeCondition)return!0;if(!t)return!1;var o=e.typeCondition.name.value;if(t===o)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(o))for(var a=this.getSupertypeSet(t,!0),s=[a],c=function(e){var t=i.getSupertypeSet(e,!1);t&&t.size&&s.indexOf(t)<0&&s.push(t)},u=!(!n||!this.fuzzySubtypes.size),l=0;l<s.length;++l){var d=s[l];if(d.has(o))return a.has(o)||a.add(o),!0;d.forEach(c),u&&l===s.length-1&&ht(e.selectionSet,n,r)&&(u=!1,this.fuzzySubtypes.forEach((function(e,n){var r=t.match(e);r&&r[0]===t&&c(n)})))}return!1},e.prototype.hasKeyArgs=function(e,t){var n=this.getFieldPolicy(e,t,!1);return!(!n||!n.keyFn)},e.prototype.getStoreFieldName=function(e){var t,n=e.typename,r=e.fieldName,i=this.getFieldPolicy(n,r,!1),o=i&&i.keyFn;if(o&&n)for(var a={typename:n,fieldName:r,field:e.field||null,variables:e.variables},s=kt(e);o;){var c=o(s,a);if(!Array.isArray(c)){t=c||r;break}o=Ut(c)}return void 0===t&&(t=e.field?(0,tt.vf)(e.field,e.variables):(0,tt.PT)(r,kt(e))),!1===t?r:r===dt(t)?t:r+":"+t},e.prototype.readField=function(e,t){var n=e.from;if(n&&(e.field||e.fieldName)){if(void 0===e.typename){var r=t.store.getFieldValue(n,"__typename");r&&(e.typename=r)}var i=this.getStoreFieldName(e),o=dt(i),a=t.store.getFieldValue(n,i),s=this.getFieldPolicy(e.typename,o,!1),c=s&&s.read;if(c){var u=Bt(this,n,e,t,t.store.getStorage((0,tt.Yk)(n)?n.__ref:n,i));return Ot.ab.withValue(this.cache,c,[a,u])}return a}},e.prototype.getMergeFunction=function(e,t,n){var r=this.getFieldPolicy(e,t,!1),i=r&&r.merge;return!i&&n&&(i=(r=this.getTypePolicy(n))&&r.merge),i},e.prototype.runMergeFunction=function(e,t,n,r,i){var o=n.field,a=n.typename,s=n.merge;return s===xt?Ft(r.store.getFieldValue)(e,t):s===Lt?t:s(e,t,Bt(this,void 0,{typename:a,fieldName:o.name.value,field:o,variables:r.variables},r,i||Object.create(null)))},e}();function Bt(e,t,n,r,i){var o=e.getStoreFieldName(n),a=dt(o),s=n.variables||r.variables,c=r.store,u=c.getFieldValue,l=c.toReference,d=c.canRead;return{args:kt(n),field:n.field||null,fieldName:a,storeFieldName:o,variables:s,isReference:tt.Yk,toReference:l,storage:i,cache:e.cache,canRead:d,readField:function(n,i){var o="string"==typeof n?{fieldName:n,from:i}:(0,Je.pi)({},n);return void 0===o.from&&(o.from=t),void 0===o.variables&&(o.variables=s),e.readField(o,r)},mergeObjects:Ft(u)}}function Ft(e){return function(t,n){if(Array.isArray(t)||Array.isArray(n))throw new rt.ej(2);if(t&&"object"==typeof t&&n&&"object"==typeof n){var r=e(t,"__typename"),i=e(n,"__typename");return r&&i&&r!==i||!pt(t)||!pt(n)?n:(0,Je.pi)((0,Je.pi)({},t),n)}return n}}function Ut(e){return function(t,n){return t?n.fieldName+":"+JSON.stringify(Qt(t,e,!1)):n.fieldName}}function jt(e){var t=new Ze.Gl(ct.m);return function(n,r){var i;if(r.selectionSet&&r.fragmentMap){var o=t.lookupArray([r.selectionSet,r.fragmentMap]);i=o.aliasMap||(o.aliasMap=Vt(r.selectionSet,r.fragmentMap))}var a=r.keyObject=Qt(n,e,!0,i);return r.typename+":"+JSON.stringify(a)}}function Vt(e,t){var n=Object.create(null),r=new Set([e]);return r.forEach((function(e){e.selections.forEach((function(e){if((0,tt.My)(e)){if(e.alias){var i=e.alias.value,o=e.name.value;o!==i&&((n.aliases||(n.aliases=Object.create(null)))[o]=i)}e.selectionSet&&((n.subsets||(n.subsets=Object.create(null)))[e.name.value]=Vt(e.selectionSet,t))}else{var a=(0,Xe.hi)(e,t);a&&r.add(a.selectionSet)}}))})),n}function Qt(e,t,n,r){var i,o=Object.create(null);return t.forEach((function(t){if(Array.isArray(t)){if("string"==typeof i){var a=r&&r.subsets,s=a&&a[i];o[i]=Qt(e[i],t,n,s)}}else{var c=r&&r.aliases,u=c&&c[t]||t;ut.call(e,u)?o[i=t]=e[u]:((0,rt.kG)(!n,3),i=void 0)}})),o}var Gt={dataIdFromObject:Nt,addTypename:!0,resultCaching:!0,typePolicies:{}},qt=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n.watches=new Set,n.typenameDocumentCache=new Map,n.makeVar=Ot.QS,n.txCount=0,n.maybeBroadcastWatch=(0,Ze.re)((function(e,t){return n.broadcastWatch.call(n,e,!!t)}),{makeCacheKey:function(e){var t=e.optimistic?n.optimisticData:n.data;if(_t(t)){var r=e.optimistic,i=e.rootId,o=e.variables;return t.makeCacheKey(e.query,e.callback,JSON.stringify({optimistic:r,rootId:i,variables:o}))}}}),n.watchDep=(0,Ze.dP)(),n.config=(0,Je.pi)((0,Je.pi)({},Gt),t),n.addTypename=!!n.config.addTypename,n.policies=new Mt({cache:n,dataIdFromObject:n.config.dataIdFromObject,possibleTypes:n.config.possibleTypes,typePolicies:n.config.typePolicies}),n.data=new mt.Root({policies:n.policies,resultCaching:n.config.resultCaching}),n.optimisticData=n.data,n.storeWriter=new St(n,n.storeReader=new It({cache:n,addTypename:n.addTypename})),n}return(0,Je.ZT)(t,e),t.prototype.restore=function(e){return e&&this.data.replace(e),this},t.prototype.extract=function(e){return void 0===e&&(e=!1),(e?this.optimisticData:this.data).extract()},t.prototype.read=function(e){var t=e.returnPartialData,n=void 0!==t&&t;try{return this.storeReader.diffQueryAgainstStore({store:e.optimistic?this.optimisticData:this.data,query:e.query,variables:e.variables,rootId:e.rootId,config:this.config,returnPartialData:n}).result||null}catch(e){if(e instanceof et)return null;throw e}},t.prototype.write=function(e){try{return++this.txCount,this.storeWriter.writeToStore({store:this.data,query:e.query,result:e.result,dataId:e.dataId,variables:e.variables})}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.modify=function(e){if(ut.call(e,"id")&&!e.id)return!1;var t=e.optimistic?this.optimisticData:this.data;try{return++this.txCount,t.modify(e.id||"ROOT_QUERY",e.fields)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.diff=function(e){return this.storeReader.diffQueryAgainstStore({store:e.optimistic?this.optimisticData:this.data,rootId:e.id||"ROOT_QUERY",query:e.query,variables:e.variables,returnPartialData:e.returnPartialData,config:this.config})},t.prototype.watch=function(e){var t=this;return this.watches.size||(0,Ot._v)(this),this.watches.add(e),e.immediate&&this.maybeBroadcastWatch(e),function(){t.watches.delete(e)&&!t.watches.size&&(0,Ot.li)(t),t.watchDep.dirty(e),t.maybeBroadcastWatch.forget(e)}},t.prototype.gc=function(){return this.optimisticData.gc()},t.prototype.retain=function(e,t){return(t?this.optimisticData:this.data).retain(e)},t.prototype.release=function(e,t){return(t?this.optimisticData:this.data).release(e)},t.prototype.identify=function(e){return(0,tt.Yk)(e)?e.__ref:this.policies.identify(e)[0]},t.prototype.evict=function(e){if(!e.id){if(ut.call(e,"id"))return!1;e=(0,Je.pi)((0,Je.pi)({},e),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(e)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.reset=function(){return this.data.clear(),this.optimisticData=this.data,this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(e){var t=this.optimisticData.removeLayer(e);t!==this.optimisticData&&(this.optimisticData=t,this.broadcastWatches())},t.prototype.performTransaction=function(e,t){var n=this,r=function(t){var r=n,i=r.data,o=r.optimisticData;++n.txCount,t&&(n.data=n.optimisticData=t);try{e(n)}finally{--n.txCount,n.data=i,n.optimisticData=o}},i=!1;"string"==typeof t?(this.optimisticData=this.optimisticData.addLayer(t,r),i=!0):null===t?r(this.data):r(),this.broadcastWatches(i)},t.prototype.transformDocument=function(e){if(this.addTypename){var t=this.typenameDocumentCache.get(e);return t||(t=(0,nt.Gw)(e),this.typenameDocumentCache.set(e,t),this.typenameDocumentCache.set(t,t)),t}return e},t.prototype.broadcastWatches=function(e){var t=this;this.txCount||this.watches.forEach((function(n){return t.maybeBroadcastWatch(n,e)}))},t.prototype.broadcastWatch=function(e,t){this.watchDep.dirty(e),this.watchDep(e);var n=this.diff({query:e.query,variables:e.variables,optimistic:e.optimistic});e.optimistic&&t&&(n.fromOptimisticTransaction=!0),e.callback(n)},t}($e),Ht=__webpack_require__(6706),zt=__webpack_require__(9329),Wt=__webpack_require__.n(zt);const Kt=(0,n.createContext)({client:{}}),Yt=e=>{const t=(0,Ke.L)({uri:"https://managedservices-staging.rteappbuilder.com/v1/query",credentials:"include"}),{store:r}=(0,n.useContext)(ze),i=(o=async(e,{headers:t})=>{const n=await Ve.getItem("store");let r;return n&&(r=JSON.parse(n).token),console.log("link module token",n),{headers:{...t,"X-Project-ID":"175cf8bc4cb6944eef5e","X-Platform-ID":"turnkey_web",...r&&{authorization:r?`Bearer ${r}`:""}}}},new Ht.i((function(e,t){var n=(0,Je._T)(e,[]);return new(Wt())((function(r){var i;return Promise.resolve(n).then((function(t){return o(0,e.getContext())})).then(e.setContext).then((function(){i=t(e).subscribe({next:r.next.bind(r),error:r.error.bind(r),complete:r.complete.bind(r)})})).catch(r.error.bind(r)),function(){i&&i.unsubscribe()}}))})));var o;const a=(0,n.useRef)(new Ye.f({link:i.concat(t),cache:new qt}));return console.log("GraphQL render triggered",r),n.createElement(Kt.Provider,{value:{client:a.current}},n.createElement(h.ApolloProvider,{client:a.current},e.children))},Jt=n.createContext({}),Zt=Jt.Provider,Xt=(Jt.Consumer,Jt);let $t,en,tn,nn;var rn,on;let an;(on=$t||($t={}))[on.Broadcaster=1]="Broadcaster",on[on.Audience=2]="Audience",function(e){e[e.Communication=0]="Communication",e[e.LiveBroadcasting=1]="LiveBroadcasting"}(en||(en={})),(rn=tn||(tn={}))[rn.disabled=0]="disabled",rn[rn.enabled=1]="enabled",rn[rn.disabling=2]="disabling",rn[rn.enabling=3]="enabling",function(e){e[e.NOT_REQUESTED=0]="NOT_REQUESTED",e[e.REQUESTED=1]="REQUESTED",e[e.GRANTED_FOR_CAM_AND_MIC=2]="GRANTED_FOR_CAM_AND_MIC",e[e.GRANTED_FOR_CAM_ONLY=3]="GRANTED_FOR_CAM_ONLY",e[e.GRANTED_FOR_MIC_ONLY=4]="GRANTED_FOR_MIC_ONLY",e[e.REJECTED=5]="REJECTED",e[e.CANCELLED=6]="CANCELLED"}(nn||(nn={})),function(e){e[e.HIGH=0]="HIGH",e[e.LOW=1]="LOW",e[e.DYNAMIC=2]="DYNAMIC"}(an||(an={}));const sn={rtcProps:{appId:"",channel:"",geoFencing:!0,audioRoom:!1}},cn=n.createContext(sn),un=cn.Provider,ln=(cn.Consumer,cn),dn=n.createContext({}),hn=dn.Provider,pn=(dn.Consumer,dn);var fn=__webpack_require__(8424),An=__webpack_require__.n(fn);let gn,mn,vn,yn,En;var bn;(bn=gn||(gn={}))[bn.Hidden=1]="Hidden",bn[bn.Fit=2]="Fit",bn[bn.Adaptive=3]="Adaptive",function(e){e[e.Auto=0]="Auto",e[e.Enabled=1]="Enabled",e[e.Disabled=2]="Disabled"}(mn||(mn={})),function(e){e[e.AUDIENCE_LEVEL_LOW_LATENCY=1]="AUDIENCE_LEVEL_LOW_LATENCY",e[e.AUDIENCE_LEVEL_ULTRA_LOW_LATENCY=2]="AUDIENCE_LEVEL_ULTRA_LOW_LATENCY",e[e.AUDIENCE_LEVEL_SYNC_LATENCY=3]="AUDIENCE_LEVEL_SYNC_LATENCY"}(vn||(vn={})),function(e){e.host="host",e.audience="audience"}(yn||(yn={})),function(e){e.live="live",e.rtc="rtc"}(En||(En={}));var _n=__webpack_require__(2805);const Cn=()=>{var e,t,n,r,i,o;let a=!1;var s;return s=(null===(e=navigator)||void 0===e?void 0:e.userAgent)||(null===(t=navigator)||void 0===t?void 0:t.vendor)||(null===(n=window)||void 0===n?void 0:n.opera),(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(s)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(s.substr(0,4)))&&(a=!0),a=/Macintosh/i.test(null===(r=navigator)||void 0===r?void 0:r.userAgent)&&(null===(i=navigator)||void 0===i?void 0:i.maxTouchPoints)&&(null===(o=navigator)||void 0===o?void 0:o.maxTouchPoints)>1||a,a};function In(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let Sn,wn,Rn;window.AgoraRTC=An(),function(e){e.CHINA="CHINA",e.ASIA="ASIA",e.NORTH_AMERICA="NORTH_AMERICA",e.EUROPE="EUROPE",e.JAPAN="JAPAN",e.INDIA="INDIA",e.OCEANIA="OCEANIA",e.SOUTH_AMERICA="SOUTH_AMERICA",e.AFRICA="AFRICA",e.OVERSEA="OVERSEA",e.GLOBAL="GLOBAL"}(Sn||(Sn={})),function(e){e[e.None=0]="None",e[e.AES128XTS=1]="AES128XTS",e[e.AES128ECB=2]="AES128ECB",e[e.AES256XTS=3]="AES256XTS",e[e.SM4128ECB=4]="SM4128ECB",e[e.AES128GCM=5]="AES128GCM",e[e.AES256GCM=6]="AES256GCM"}(wn||(wn={})),function(e){e[e.HIGH=0]="HIGH",e[e.LOW=1]="LOW"}(Rn||(Rn={})),An().setArea({areaCode:Sn.GLOBAL,excludedArea:Sn.CHINA}),An().setLogLevel(0),An().enableLogUpload();class Tn{constructor(e){In(this,"activeSpeakerUid",void 0),In(this,"appId",void 0),In(this,"client",void 0),In(this,"screenClient",void 0),In(this,"eventsMap",new Map([["UserJoined",()=>null],["UserOffline",()=>null],["JoinChannelSuccess",()=>null],["ScreenshareStopped",()=>null],["RemoteAudioStateChanged",()=>null],["RemoteVideoStateChanged",()=>null],["NetworkQuality",()=>null],["ActiveSpeaker",()=>null]])),In(this,"localStream",{}),In(this,"screenStream",{}),In(this,"remoteStreams",new Map),In(this,"inScreenshare",!1),In(this,"videoProfile","480p_9"),In(this,"isPublished",!1),In(this,"isAudioEnabled",!1),In(this,"isVideoEnabled",!1),In(this,"isAudioPublished",!1),In(this,"isVideoPublished",!1),In(this,"isJoined",!1),In(this,"videoDeviceId",void 0),In(this,"audioDeviceId",void 0),In(this,"muteLocalVideoMutex",!1),In(this,"muteLocalAudioMutex",!1),In(this,"speakerDeviceId",""),In(this,"getEncryptionMode",((e,t)=>{let n;if(e)switch(t){case wn.None:n="none";break;case wn.AES128ECB:n="aes-128-ecb";break;case wn.AES128XTS:n="aes-128-xts";break;case wn.AES256XTS:n="aes-256-xts";break;case wn.SM4128ECB:n="sm4-128-ecb";default:n="none"}else n="none";return n})),this.appId=e}static async create(e){let t=new Tn(e);return window.engine=t,t}async setVideoProfile(e){this.videoProfile=e}async enableAudio(){const e={bypassWebAudio:"web"==_n.Z.OS&&Cn()};try{let t=await An().createMicrophoneAudioTrack(e);this.localStream.audio=t,this.audioDeviceId=null==t?void 0:t.getMediaStreamTrack().getSettings().deviceId,this.isAudioEnabled=!0}catch(e){let t=e;throw e.status={audioError:t},e}}async enableVideo(){const e={bypassWebAudio:"web"==_n.Z.OS&&Cn()},t={encoderConfig:this.videoProfile};try{let[n,r]=await An().createMicrophoneAndCameraTracks(e,t);this.localStream.audio=n,this.localStream.video=r,this.audioDeviceId=null==n?void 0:n.getMediaStreamTrack().getSettings().deviceId,this.videoDeviceId=null==r?void 0:r.getMediaStreamTrack().getSettings().deviceId,this.isVideoEnabled=!0,this.isAudioEnabled=!0}catch(n){let r=!1,i=!1;try{let t=await An().createMicrophoneAudioTrack(e);this.localStream.audio=t,this.audioDeviceId=null==t?void 0:t.getMediaStreamTrack().getSettings().deviceId,this.isAudioEnabled=!0}catch(e){r=e}try{let e=await An().createCameraVideoTrack(t);this.localStream.video=e,this.videoDeviceId=null==e?void 0:e.getMediaStreamTrack().getSettings().deviceId,this.isVideoEnabled=!0}catch(e){i=e}throw n.status={audioError:r,videoError:i},n}}async enableAudioVolumeIndication(e,t,n){An().setParameter("AUDIO_VOLUME_INDICATION_INTERVAL",e),this.client.enableAudioVolumeIndicator()}async publish(){if(this.localStream.audio||this.localStream.video)try{let n=[];var e,t;this.localStream.audio&&this.isAudioEnabled&&n.push(this.localStream.audio),this.localStream.video&&this.isVideoEnabled&&n.push(this.localStream.video),n.length>0&&(await this.client.publish(n),"audio"===n[0].trackMediaType?this.isAudioPublished=!0:"video"===n[0].trackMediaType&&(this.isVideoPublished=!0),"audio"===(null===(e=n[1])||void 0===e?void 0:e.trackMediaType)?this.isAudioPublished=!0:"video"===(null===(t=n[1])||void 0===t?void 0:t.trackMediaType)&&(this.isVideoPublished=!0),!1===this.isPublished&&(this.isPublished=!0,this.eventsMap.get("JoinChannelSuccess")()))}catch(e){console.error(e,this.localStream),this.isPublished=!1}}async joinChannel(e,t,n,r){this.client.on("user-joined",(e=>{this.eventsMap.get("UserJoined")(e.uid),this.eventsMap.get("RemoteVideoStateChanged")(e.uid,0,0,0),this.eventsMap.get("RemoteAudioStateChanged")(e.uid,0,0,0)})),this.client.on("user-left",(e=>{const t=e.uid;this.remoteStreams.has(t)&&this.remoteStreams.delete(t),this.eventsMap.get("UserOffline")(t)})),this.client.on("user-published",(async(e,t)=>{if(this.inScreenshare&&e.uid===this.screenClient.uid?this.eventsMap.get("RemoteVideoStateChanged")(e.uid,2,0,0):await this.client.subscribe(e,t),"audio"===t){const t=e.audioTrack;var n,r;null==t||t.play(),this.remoteStreams.set(e.uid,{...this.remoteStreams.get(e.uid),audio:t}),this.speakerDeviceId&&(null===(n=this.remoteStreams.get(e.uid))||void 0===n||null===(r=n.audio)||void 0===r||r.setPlaybackDevice(this.speakerDeviceId)),this.eventsMap.get("RemoteAudioStateChanged")(e.uid,2,0,0)}else{const t=e.videoTrack;this.remoteStreams.set(e.uid,{...this.remoteStreams.get(e.uid),video:t}),this.eventsMap.get("RemoteVideoStateChanged")(e.uid,2,0,0)}})),this.client.on("user-unpublished",(async(e,t)=>{if("audio"===t){const{audio:t,...n}=this.remoteStreams.get(e.uid);this.remoteStreams.set(e.uid,n),this.eventsMap.get("RemoteAudioStateChanged")(e.uid,0,0,0)}else{const{video:t,...n}=this.remoteStreams.get(e.uid);this.remoteStreams.set(e.uid,n),this.eventsMap.get("RemoteVideoStateChanged")(e.uid,0,0,0)}})),this.client.on("volume-indicator",(e=>{const t=e.reduce(((e,t,n)=>null===e||t.level>e.level?t:e),null),n=t&&(null==t?void 0:t.level)>0&&null!=t&&t.uid?t.uid:void 0;this.activeSpeakerUid!==n&&(this.eventsMap.get("ActiveSpeaker")(n),this.activeSpeakerUid=n)})),this.client.on("stream-type-changed",(function(e,t){console.log("[fallback]: ",e,t)})),this.client.on("network-quality",(async({downlinkNetworkQuality:e,uplinkNetworkQuality:t})=>{const n=this.eventsMap.get("NetworkQuality");n(0,e,t);const r=this.client.getRemoteNetworkQuality();Object.keys(r).forEach((e=>{n(e,r[e].downlinkNetworkQuality,r[e].uplinkNetworkQuality)}))})),await this.client.join(this.appId,t,e||null,r||null),this.isJoined=!0,await this.publish(),console.log("enabling screen sleep")}async leaveChannel(){this.client.leave(),this.remoteStreams.forEach(((e,t,n)=>{var r,i;null===(r=e.video)||void 0===r||r.close(),null===(i=e.audio)||void 0===i||i.close()})),this.remoteStreams.clear(),console.log("disabling screen sleep")}addListener(e,t){return"UserJoined"!==e&&"UserOffline"!==e&&"JoinChannelSuccess"!==e&&"ScreenshareStopped"!==e&&"RemoteAudioStateChanged"!==e&&"RemoteVideoStateChanged"!==e&&"NetworkQuality"!==e&&"ActiveSpeaker"!==e||this.eventsMap.set(e,t),{remove:()=>{console.log("Use destroy method to remove all the event listeners from the RtcEngine instead.")}}}async muteLocalAudioStream(e){let t=!1;try{var n;this.muteLocalAudioMutex||(this.muteLocalAudioMutex=!0,t=!0,await(null===(n=this.localStream.audio)||void 0===n?void 0:n.setMuted(e)),this.muteLocalAudioMutex=!1,this.isAudioEnabled=!e,e||this.isAudioPublished||!this.isJoined||await this.publish())}catch(e){t&&(this.muteLocalAudioMutex=!1),console.error(e,"\n Be sure to invoke the enableVideo method before using this method.")}}async muteLocalVideoStream(e){let t=!1;try{var n;this.muteLocalVideoMutex||(this.muteLocalVideoMutex=!0,t=!0,await(null===(n=this.localStream.video)||void 0===n?void 0:n.setEnabled(!e)),this.muteLocalVideoMutex=!1,this.isVideoEnabled=!e,e||this.isVideoPublished||!this.isJoined||await this.publish())}catch(e){t&&(this.muteLocalVideoMutex=!1),console.error(e,"\n Be sure to invoke the enableVideo method before using this method.")}}async muteRemoteAudioStream(e,t){try{var n,r;null===(n=this.remoteStreams.get(e))||void 0===n||null===(r=n.audio)||void 0===r||r.setEnabled(!t)}catch(e){console.error(e)}}async muteRemoteVideoStream(e,t){try{var n,r;null===(n=this.remoteStreams.get(e))||void 0===n||null===(r=n.video)||void 0===r||r.setEnabled(!t)}catch(e){console.error(e)}}async getDevices(e){const t=await An().getDevices(!0);return e&&e(t),t}async setChannelProfile(e){try{this.client=An().createClient({codec:"vp8",mode:e===en.LiveBroadcasting?En.live:En.rtc}),this.screenClient=An().createClient({codec:"vp8",mode:e===en.LiveBroadcasting?En.live:En.rtc})}catch(e){throw e}}async setClientRole(e,t){try{e==$t.Audience?(this.isJoined&&(await this.client.unpublish(),this.isAudioPublished=!1,this.isVideoPublished=!1,this.isPublished=!1),await this.client.setClientRole(yn.audience,t),await this.screenClient.setClientRole(yn.audience,t)):e==$t.Broadcaster&&(await this.client.setClientRole(yn.host),await this.screenClient.setClientRole(yn.host))}catch(e){throw e}}async changeCamera(e,t,n){try{var r;await(null===(r=this.localStream.video)||void 0===r?void 0:r.setDevice(e)),this.videoDeviceId=e,t(e)}catch(e){n(e)}}async switchCamera(){try{const t=await An().getDevices(!0);for(let n=0;n<t.length;n++){let r=t[n];if("videoinput"===r.kind&&r.deviceId!==this.videoDeviceId){var e;await(null===(e=this.localStream.video)||void 0===e?void 0:e.setDevice(r.deviceId)),this.videoDeviceId=r.deviceId;break}}}catch(e){throw e}}async changeMic(e,t,n){try{var r;await(null===(r=this.localStream.audio)||void 0===r?void 0:r.setDevice(e)),this.audioDeviceId=e,t(e)}catch(e){n(e)}}async changeSpeaker(e,t,n){try{var r;this.speakerDeviceId=e,null===(r=this.remoteStreams)||void 0===r||r.forEach(((t,n,r)=>{var i;null==t||null===(i=t.audio)||void 0===i||i.setPlaybackDevice(e)})),t(e)}catch(e){n(e)}}async enableDualStreamMode(e){return this.client[e?"enableDualStream":"disableDualStream"]()}async setRemoteSubscribeFallbackOption(e){this.streams.forEach((t=>{this.client.setStreamFallbackOption(t,e)})),Promise.resolve(),console.log("!set fallback")}async enableEncryption(e,t){let n;n=this.getEncryptionMode(e,null==t?void 0:t.encryptionMode);try{await Promise.all([this.client.setEncryptionConfig(n,t.encryptionKey),this.screenClient.setEncryptionConfig(n,t.encryptionKey)])}catch(e){throw e}}setEncryptionSecret(e){console.error("Please use enableEncryption instead")}setEncryptionMode(e){console.error("Please use enableEncryption instead")}async destroy(){var e,t,n,r;this.inScreenshare&&(this.eventsMap.get("UserOffline")(this.screenClient.uid),this.screenClient.leave(),this.eventsMap.get("ScreenshareStopped")()),this.eventsMap.forEach(((e,t,n)=>{this.client.off(t,e)})),this.eventsMap.clear(),0!==this.remoteStreams.size&&(this.remoteStreams.forEach(((e,t,n)=>{var r,i,o,a;(null==e||null===(r=e.video)||void 0===r?void 0:r.isPlaying)&&(null==e||null===(i=e.video)||void 0===i||i.stop()),(null==e||null===(o=e.video)||void 0===o?void 0:o.isPlaying)&&(null==e||null===(a=e.audio)||void 0===a||a.stop())})),this.remoteStreams.clear()),null===(e=this.localStream.audio)||void 0===e||e.close(),null===(t=this.localStream.video)||void 0===t||t.close(),this.localStream={},null===(n=this.screenStream.audio)||void 0===n||n.close(),null===(r=this.screenStream.video)||void 0===r||r.close(),this.screenStream={}}async setRemoteVideoStreamType(e,t){return this.client.setRemoteVideoStreamType(e,t)}isSingleTrack(e){return!e.length}async startScreenshare(e,t,n,r,i,o,a,s={},c="auto"){if(this.inScreenshare){this.eventsMap.get("UserOffline")(this.screenClient.uid),this.screenClient.leave(),this.eventsMap.get("ScreenshareStopped")();try{var u,l;null===(u=this.screenStream.audio)||void 0===u||u.close(),null===(l=this.screenStream.video)||void 0===l||l.close(),this.screenStream={}}catch(e){throw e}this.inScreenshare=!1}else{try{if(console.log("[screenshare]: creating stream"),a&&a.screenKey&&a.mode){let e;e=this.getEncryptionMode(!0,null==a?void 0:a.mode);try{await this.screenClient.setEncryptionConfig(e,a.screenKey)}catch(e){console.log("e: Encryption for screenshare failed",e)}}const e=await An().createScreenVideoTrack(s,c);this.isSingleTrack(e)?this.screenStream.video=e:(this.screenStream.video=e[0],this.screenStream.audio=e[1])}catch(e){throw console.log("[screenshare]: Error during intialization"),e}await this.screenClient.join(this.appId,t,e||null,r||null),this.inScreenshare=!0,await this.screenClient.publish(this.screenStream.audio?[this.screenStream.video,this.screenStream.audio]:this.screenStream.video),this.screenStream.video.on("track-ended",(()=>{var e,t;this.eventsMap.get("UserOffline")(this.screenClient.uid),this.screenClient.leave(),null===(e=this.screenStream.audio)||void 0===e||e.close(),null===(t=this.screenStream.video)||void 0===t||t.close(),this.screenStream={},this.eventsMap.get("ScreenshareStopped")(),this.inScreenshare=!1}))}}}var On=__webpack_require__(773);const kn=On.Z.create({full:{flex:1}}),Nn=e=>{var t;const r=0===e.uid?window.engine.localStream.video:1===e.uid?window.engine.screenStream.video:null===(t=window.engine.remoteStreams.get(e.uid))||void 0===t?void 0:t.video;return(0,n.useEffect)((function(){return null!=r&&r.play&&(2===e.renderMode?r.play(String(e.uid),{fit:"contain"}):r.play(String(e.uid))),()=>{console.log(`unmounting stream ${e.uid}`,r),r&&r.stop()}}),[e.uid,e.renderMode,r]),r?n.createElement("div",{id:String(e.uid),className:"video-container",style:{...kn.full,...e.style,overflow:"hidden"}}):n.createElement("div",{style:{...kn.full,backgroundColor:"black"}})};function Dn(){return Dn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dn.apply(this,arguments)}function Pn(e){return n.createElement(Nn,Dn({uid:0},e))}const xn={SurfaceView:Pn,TextureView:Pn},Ln={SurfaceView:Nn,TextureView:Nn},Mn={...gn},Bn=Tn;var Fn=__webpack_require__(2669);const Un={"120p_1":{dimensions:{width:160,height:120},frameRate:15,bitRate:65},"120p_3":{dimensions:{width:120,height:120},frameRate:15,bitRate:50},"180p_1":{dimensions:{width:320,height:180},frameRate:15,bitRate:140},"180p_3":{dimensions:{width:180,height:180},frameRate:15,bitRate:100},"180p_4":{dimensions:{width:240,height:180},frameRate:15,bitRate:120},"240p_1":{dimensions:{width:320,height:240},frameRate:15,bitRate:200},"240p_3":{dimensions:{width:240,height:240},frameRate:15,bitRate:140},"240p_4":{dimensions:{width:424,height:240},frameRate:15,bitRate:220},"360p_1":{dimensions:{width:640,height:360},frameRate:15,bitRate:400},"360p_3":{dimensions:{width:360,height:360},frameRate:15,bitRate:260},"360p_4":{dimensions:{width:640,height:360},frameRate:30,bitRate:600},"360p_6":{dimensions:{width:360,height:360},frameRate:30,bitRate:400},"360p_7":{dimensions:{width:480,height:360},frameRate:15,bitRate:320},"360p_8":{dimensions:{width:480,height:360},frameRate:30,bitRate:490},"360p_9":{dimensions:{width:640,height:360},frameRate:15,bitRate:800},"360p_10":{dimensions:{width:640,height:360},frameRate:24,bitRate:800},"360p_11":{dimensions:{width:640,height:360},frameRate:24,bitRate:1e3},"480p_1":{dimensions:{width:640,height:480},frameRate:15,bitRate:500},"480p_2":{dimensions:{width:640,height:480},frameRate:30,bitRate:1e3},"480p_3":{dimensions:{width:480,height:480},frameRate:15,bitRate:400},"480p_4":{dimensions:{width:640,height:480},frameRate:30,bitRate:750},"480p_6":{dimensions:{width:480,height:480},frameRate:30,bitRate:600},"480p_8":{dimensions:{width:848,height:480},frameRate:15,bitRate:610},"480p_9":{dimensions:{width:848,height:480},frameRate:30,bitRate:930},"480p_10":{dimensions:{width:640,height:480},frameRate:10,bitRate:400},"720p_1":{dimensions:{width:1280,height:720},frameRate:15,bitRate:1130},"720p_2":{dimensions:{width:1280,height:720},frameRate:30,bitRate:2e3},"720p_3":{dimensions:{width:1280,height:720},frameRate:30,bitRate:1710},"720p_5":{dimensions:{width:960,height:720},frameRate:15,bitRate:910},"720p_6":{dimensions:{width:960,height:720},frameRate:30,bitRate:1380}},jn=({dispatch:t,children:r})=>{const[i,o]=(0,n.useState)(!1),{callbacks:a,rtcProps:s,mode:c}=(0,n.useContext)(ln),{geoFencing:u=!0,audioRoom:l=!1,activeSpeaker:d=!1}=s||{};let h=(0,n.useRef)({});const p=(0,n.useRef)(!1),f=(0,n.useRef)(!0),A=(e,n)=>{t(e&&n?{type:"LocalPermissionState",value:[nn.REJECTED]}:e&&!n?{type:"LocalPermissionState",value:[nn.GRANTED_FOR_CAM_ONLY]}:!e&&n?{type:"LocalPermissionState",value:[nn.GRANTED_FOR_MIC_ONLY]}:{type:"LocalPermissionState",value:[nn.GRANTED_FOR_CAM_AND_MIC]})},g=async()=>{try{t({type:"LocalPermissionState",value:[nn.REQUESTED]}),!0===l?(await h.current.enableAudio(),t({type:"LocalPermissionState",value:[nn.GRANTED_FOR_MIC_ONLY]}),t({type:"LocalMuteAudio",value:[tn.disabled]})):(await h.current.enableVideo(),t({type:"LocalPermissionState",value:[nn.GRANTED_FOR_CAM_AND_MIC]}),t({type:"LocalMuteAudio",value:[tn.disabled]}),t({type:"LocalMuteVideo",value:[tn.disabled]}))}catch(e){const{status:n}=e;if(n){const{audioError:e,videoError:r}=n;e?console.error("No audio device",e):t({type:"LocalMuteAudio",value:[tn.disabled]}),r||l?console.error("No video device",r):t({type:"LocalMuteVideo",value:[tn.disabled]}),A(e,r)}console.error("No devices",e)}};return(0,n.useEffect)((()=>(async function(){"android"===_n.Z.OS&&await async function(e){try{const t=[];t.push(Fn.Z.PERMISSIONS.RECORD_AUDIO),e||t.push(Fn.Z.PERMISSIONS.CAMERA);const n=await Fn.Z.requestMultiple(t);n["android.permission.RECORD_AUDIO"]===Fn.Z.RESULTS.GRANTED&&n["android.permission.CAMERA"]===Fn.Z.RESULTS.GRANTED?console.log("You can use the cameras & mic"):n["android.permission.RECORD_AUDIO"]===Fn.Z.RESULTS.GRANTED?console.log("You can use mic"):console.log("Permission denied")}catch(e){console.warn(e)}}(l);try{if(!0!==u||"android"!==_n.Z.OS&&"ios"!==_n.Z.OS?h.current=await Bn.create(s.appId):h.current=await Bn.createWithAreaCode(s.appId,Sn.GLOB^Sn.CN),c==en.LiveBroadcasting?(await h.current.setChannelProfile(en.LiveBroadcasting),await h.current.setClientRole(s.role===$t.Audience?$t.Audience:$t.Broadcaster)):await h.current.setChannelProfile(en.Communication),d&&await h.current.enableAudioVolumeIndication(500,3,!0),l)"android"!==_n.Z.OS&&"ios"!==_n.Z.OS||(await h.current.setAudioProfile(e.AudioProfile.Default,e.AudioScenario.Default),c==en.Communication&&await h.current.setEnableSpeakerphone(!0));else if(s.profile)if("web"===_n.Z.OS)await h.current.setVideoProfile(s.profile);else{const e=Un[s.profile];await h.current.setVideoEncoderConfiguration({...e,bitrate:0})}c===en.LiveBroadcasting&&s.role==$t.Audience&&"web"===_n.Z.OS||(await(async()=>{c==en.LiveBroadcasting&&(null==s?void 0:s.role)==$t.Audience?g():(async()=>{try{t({type:"LocalPermissionState",value:[nn.REQUESTED]}),!0===l?(await h.current.enableAudio(),t({type:"LocalPermissionState",value:[nn.GRANTED_FOR_MIC_ONLY]}),t({type:"LocalMuteAudio",value:[tn.enabled]})):(await h.current.enableVideo(),t({type:"LocalPermissionState",value:[nn.GRANTED_FOR_CAM_AND_MIC]}),t({type:"LocalMuteAudio",value:[tn.enabled]}),t({type:"LocalMuteVideo",value:[tn.enabled]}))}catch(e){const{status:n}=e;if(n){const{audioError:e,videoError:r}=n;e?console.error("No audio device",e):t({type:"LocalMuteAudio",value:[tn.enabled]}),r||l?console.error("No video device",r):t({type:"LocalMuteVideo",value:[tn.enabled]}),A(e,r)}console.error("No devices",e)}})()})(),p.current=!0),h.current.addListener("JoinChannelSuccess",(async(e,t,n)=>{console.log("UIkit enabling dual stream",s.dual),s.dual&&(console.log("UIkit enabled dual stream"),await h.current.enableDualStreamMode(s.dual)),(null==a?void 0:a.JoinChannelSuccess)&&a.JoinChannelSuccess(e,t,n)})),h.current.addListener("UserJoined",((...e)=>{t({type:"UserJoined",value:e})})),h.current.addListener("UserOffline",((...e)=>{t({type:"UserOffline",value:e})})),h.current.addListener("RemoteAudioStateChanged",((...e)=>{t({type:"RemoteAudioStateChanged",value:e})})),h.current.addListener("Error",(e=>{console.log("Error: ",e)})),h.current.addListener("RemoteVideoStateChanged",((...e)=>{t({type:"RemoteVideoStateChanged",value:e})})),h.current.addListener("AudioVolumeIndication",((...e)=>{var n;const[r,i]=e;if(0===(null===(n=r[0])||void 0===n?void 0:n.uid)){r[0].vad;const e=r[0].volume;t(e>0?{type:"ActiveSpeakerDetected",value:[s.uid]}:{type:"ActiveSpeakerDetected",value:[void 0]})}})),h.current.addListener("ActiveSpeaker",((...e)=>{t({type:"ActiveSpeakerDetected",value:e})})),o(!0)}catch(e){console.error(e)}}(),()=>{h.current.destroy&&h.current.destroy()})),[s.appId,s.uid]),(0,n.useEffect)((()=>{f.current?f.current=!1:(async()=>{if(c==en.LiveBroadcasting){var e,n,r,i,o,a;if(s.role==$t.Broadcaster&&(await(null===(e=h.current)||void 0===e?void 0:e.setClientRole($t.Broadcaster)),p.current||(await g(),p.current=!0),p.current))await(null===(n=h.current)||void 0===n?void 0:n.muteLocalAudioStream(!0)),l||await(null===(r=h.current)||void 0===r?void 0:r.muteLocalVideoStream(!0)),t({type:"LocalMuteAudio",value:[tn.disabled]}),l||t({type:"LocalMuteVideo",value:[tn.disabled]});if(s.role==$t.Audience)await(null===(i=h.current)||void 0===i?void 0:i.muteLocalAudioStream(!0)),l||await(null===(a=h.current)||void 0===a?void 0:a.muteLocalVideoStream(!0)),t({type:"LocalMuteAudio",value:[tn.disabled]}),l||t({type:"LocalMuteVideo",value:[tn.disabled]}),await(null===(o=h.current)||void 0===o?void 0:o.setClientRole($t.Audience))}})()}),[s.role]),n.createElement(n.Fragment,null,i&&h?r(h):n.createElement(n.Fragment,null))},Vn=({children:e,precall:t,engineRef:r,uidState:i,dispatch:o})=>{let a=(0,n.useRef)(!1);const{rtcProps:s}=(0,n.useContext)(ln),{audioRoom:c=!1}=s;return(0,n.useEffect)((()=>{const e=r.current;async function n(){try{console.log("Leaving channel"),e.leaveChannel(),a.current=!1}catch(e){console.error("Cannot leave the channel:",e)}}const{renderList:u,activeUids:l}=i,[d]=l,h=u[d].video;async function p(){s.encryption&&s.encryption.key&&s.encryption.mode&&(console.log("using channel encryption",s.encryption),await e.enableEncryption(!0,{encryptionKey:s.encryption.key,encryptionMode:s.encryption.mode})),c||h!==tn.enabled||"ios"!==_n.Z.OS||(o({type:"LocalMuteVideo",value:[tn.disabling]}),await e.muteLocalVideoStream(!0),o({type:"LocalMuteVideo",value:[tn.disabled]})),await e.joinChannel(s.token||null,s.channel,null,s.uid||0),c||h!==tn.enabled||"ios"!==_n.Z.OS||(o({type:"LocalMuteVideo",value:[tn.enabling]}),await e.muteLocalVideoStream(!1),o({type:"LocalMuteVideo",value:[tn.enabled]}))}return async function(){t?console.log("In precall - waiting to join"):(a.current?(await n(),await p()):(await p(),a.current=!0),console.log("Attempted join: ",s.channel))}(),()=>{t||n()}}),[s.channel,s.uid,s.token,t,s.encryption]),n.createElement(n.Fragment,null,e)},Qn=()=>{const{rtcProps:e}=(0,n.useContext)(ln);return(null==e?void 0:e.uid)||0},Gn=e=>{const{callbacks:t,rtcProps:r,mode:i}=(0,n.useContext)(ln);let[o,a]=(0,n.useState)((null==r?void 0:r.initialDualStreamMode)||an.DYNAMIC);const s=Qn(),c={renderList:{[s]:{uid:s,audio:tn.disabled,video:tn.disabled,streamType:"high",type:"rtc",permissionStatus:nn.NOT_REQUESTED}},activeUids:[s],activeSpeaker:void 0,pinnedUid:void 0,lastJoinedUid:0},[u,l]=n.useState(JSON.parse(JSON.stringify(c)));n.useEffect((()=>{l(JSON.parse(JSON.stringify(c)))}),[]);const d=(0,n.useCallback)(((e,t)=>{var n;if(-1===(null==e||null===(n=e.activeUids)||void 0===n?void 0:n.indexOf(t)))return{};let r=[...e.activeUids],i={...e.renderList};const[a]=r;if(a===t)return{};const s=r.findIndex((e=>e===t));return s?(o===an.DYNAMIC&&(i[a].streamType="low",i[t].streamType="high"),r[0]=t,r[s]=a,{activeUids:r,renderList:i,activeSpeaker:e.activeSpeaker}):{}}),[o]),h=(0,n.useCallback)(((e,t)=>{var n;if(-1===(null==e||null===(n=e.activeUids)||void 0===n?void 0:n.indexOf(t)))return{};let r=[...e.activeUids],i={...e.renderList};if(!(t in i))return{};const[a]=r;if(a===t)return{};o===an.DYNAMIC&&(i[a].streamType="low",i[t].streamType="high");const s=r.filter((e=>e!==t&&e!==a));return r=[t,a,...s],{activeSpeaker:e.activeSpeaker,activeUids:r,renderList:i}}),[o]),[p,f]=(0,n.useReducer)(((e,n)=>{let r={};switch(n.type){case"AddCustomContent":n.type,r=((e,t)=>({...e,activeUids:[...e.activeUids,t.value[0]],renderList:{...e.renderList,[t.value[0]]:{...e.renderList[t.value[0]],...t.value[1]}}}))(e,n);break;case"UpdateRenderList":n.type,r=((e,t)=>({...e,renderList:{...e.renderList,[t.value[0]]:{...e.renderList[t.value[0]],...t.value[1]}}}))(e,n);break;case"UpdateDualStreamMode":n.type,r=function(e,t){const n=t.value[0];let r,i={...e.renderList};const o=e=>{i[e].streamType="high"},a=e=>{i[e].streamType="low"};if(n===an.HIGH)e.activeUids.forEach(o);else if(n===an.LOW)e.activeUids.forEach(a);else{const[t,...n]=e.activeUids;o(t),n.forEach(a)}return r={activeSpeaker:e.activeSpeaker,renderList:i,activeUids:[...e.activeUids]},r}(e,n);break;case"UserJoined":n.type,r=function(e,t,n,r){const i=t.value[0];let o={},a={type:"rtc"};e.renderList[i]&&"type"in e.renderList[i]&&(a.type=e.renderList[i].type);let s={...e.renderList,[i]:{...e.renderList[i],uid:i,audio:tn.disabled,video:tn.disabled,streamType:n===an.HIGH?"high":"low",...a}},c=e.activeUids.filter((e=>e===i)).length?[...e.activeUids]:[...e.activeUids,i];const[u]=c;return 2===c.length&&u===r?(n===an.DYNAMIC&&(s[i].streamType="high"),o={activeSpeaker:e.activeSpeaker,renderList:s,activeUids:c.reverse(),lastJoinedUid:i}):o={activeSpeaker:e.activeSpeaker,renderList:s,activeUids:c,lastJoinedUid:i},console.log("new user joined!\n",e,o,{dualStreamMode:n}),o}(e,n,o,s);break;case"UserOffline":n.type,r=function(e,t){const n=[...e.activeUids].filter((e=>e!==t.value[0]));return{activeSpeaker:e.activeSpeaker,renderList:e.renderList,activeUids:n}}(e,n);break;case"SwapVideo":n.type,r=d(e,n.value[0]);break;case"DequeVideo":n.type,r=h(e,n.value[0]);break;case"UserMuteRemoteAudio":n.type,r=function(e,t){return{activeSpeaker:e.activeSpeaker,renderList:{...e.renderList,[t.value[0]]:{...e.renderList[t.value[0]],audio:t.value[1]}},activeUids:[...e.activeUids]}}(e,n);break;case"UserMuteRemoteVideo":n.type,r=function(e,t){return{activeSpeaker:e.activeSpeaker,renderList:{...e.renderList,[t.value[0]]:{...e.renderList[t.value[0]],video:t.value[1]}},activeUids:[...e.activeUids]}}(e,n);break;case"LocalMuteAudio":n.type,r=function(e,t,n){return{activeSpeaker:e.activeSpeaker,renderList:{...e.renderList,[n]:{...e.renderList[n],audio:t.value[0]}},activeUids:[...e.activeUids]}}(e,n,s);break;case"LocalMuteVideo":n.type,r=function(e,t,n){return{activeSpeaker:e.activeSpeaker,renderList:{...e.renderList,[n]:{...e.renderList[n],video:t.value[0]}},activeUids:[...e.activeUids]}}(e,n,s);break;case"LocalPermissionState":n.type,r=function(e,t,n){return{activeSpeaker:e.activeSpeaker,renderList:{...e.renderList,[n]:{...e.renderList[n],permissionStatus:t.value[0]}},activeUids:[...e.activeUids]}}(e,n,s);break;case"RemoteAudioStateChanged":n.type,r=function(e,t){let n;return n=2===t.value[1]||1===t.value[1]?tn.enabled:tn.disabled,{activeSpeaker:e.activeSpeaker,renderList:{...e.renderList,[t.value[0]]:{...e.renderList[t.value[0]],audio:n}},activeUids:[...e.activeUids]}}(e,n);break;case"RemoteVideoStateChanged":n.type,r=function(e,t){let n;return 0===t.value[1]?n=tn.disabled:2===t.value[1]&&(n=tn.enabled),{activeSpeaker:e.activeSpeaker,renderList:{...e.renderList,[t.value[0]]:{...e.renderList[t.value[0]],video:void 0!==n?n:e.renderList[t.value[0]].video}},activeUids:[...e.activeUids]}}(e,n);break;case"ActiveSpeakerDetected":n.type,r=function(e,t){var n;return{...e,activeSpeaker:null!=t&&t.value&&null!==(n=t.value)&&void 0!==n&&n.length?t.value[0]:""}}(e,n);break;case"UserPin":n.type,r=function(e,t){var n;return{...e,pinnedUid:null!=t&&t.value&&null!==(n=t.value)&&void 0!==n&&n.length?t.value[0]:""}}(e,n)}return t&&t[n.type]&&(t[n.type].apply(null,n.value),console.log("callback executed")),{...e,...r}}),u);return n.createElement(jn,{dispatch:f},(t=>{var o;return n.createElement(Vn,{precall:!r.callActive,engineRef:t,uidState:p,dispatch:f},n.createElement(Zt,{value:{RtcEngine:t.current,dispatch:f,setDualStreamMode:a}},n.createElement(hn,{value:{renderList:p.renderList,activeUids:i==en.LiveBroadcasting&&(null==r?void 0:r.role)==$t.Audience?p.activeUids.filter((e=>e!==s)):p.activeUids,activeSpeaker:p.activeSpeaker,pinnedUid:null!=p&&p.pinnedUid&&-1!==(null==p||null===(o=p.activeUids)||void 0===o?void 0:o.indexOf(p.pinnedUid))?p.pinnedUid:void 0,lastJoinedUid:p.lastJoinedUid}},e.children)))}))};var qn=__webpack_require__(7177);const Hn=xn.SurfaceView,zn=Ln.SurfaceView,Wn=e=>{const{styleProps:t,rtcProps:r}=(0,n.useContext)(ln),{maxViewStyles:i}=t||{},o=e.fallback,{containerStyle:a={}}=e,s=Qn(),c=e.user.uid===(null==r?void 0:r.screenShareUid)?1:e.user.uid;return c===s?e.user.video?n.createElement(Hn,{style:a,renderMode:Mn.Fit}):o?n.createElement(o,null):n.createElement(qn.Z,{style:[{flex:1,backgroundColor:"#000"},a]}):n.createElement(n.Fragment,null,n.createElement("div",{style:{flex:1,overflow:"hidden",display:e.user.video?"flex":"none"}},n.createElement(zn,{style:a,uid:c,renderMode:Mn.Fit})),e.user.video?n.createElement(n.Fragment,null):n.createElement(n.Fragment,null,o?n.createElement(o,null):n.createElement(qn.Z,{style:[{flex:1,backgroundColor:"#000"},a]})))};var Kn=__webpack_require__(5998);let Yn={width:Kn.Z.get("window").width,height:Kn.Z.get("window").height};On.Z.create({max:{flex:1},buttonHolder:{height:100,alignItems:"center",flex:1,flexDirection:"row",justifyContent:"space-evenly"},button:{paddingHorizontal:20,paddingVertical:10,backgroundColor:"#0093E9",borderRadius:25},buttonText:{color:"#fff"},fullView:{width:Yn.width,height:Yn.height},minView:{width:240,height:135},minContainer:{position:"absolute",top:15,left:0,padding:0,margin:0,width:Yn.width},Controls:{position:"absolute",top:Yn.height-120,left:0,width:Yn.width,height:70,zIndex:10,display:"flex",flexDirection:"row",justifyContent:"space-evenly",alignItems:"center"},minOverlay:{...On.Z.absoluteFill,backgroundColor:"black",opacity:.7},minCloseBtn:{alignItems:"center",justifyContent:"center",backgroundColor:"rgba(255,255,255,0.1)",width:46,height:46,borderRadius:23,position:"absolute",right:5,top:5},controlBtn:{width:46,height:46,backgroundColor:"rgba(255,255,255,0.1)",alignItems:"center",justifyContent:"center"},leftRemoteBtn:{borderTopLeftRadius:23,borderBottomLeftRadius:23,borderRightWidth:4*On.Z.hairlineWidth,borderRightColor:"#007aff"},rightRemoteBtn:{borderTopRightRadius:23,borderBottomRightRadius:23,borderLeftWidth:4*On.Z.hairlineWidth,borderLeftColor:"#007aff"},remoteBtnContainer:{width:"100%",display:"flex",marginTop:50,flexDirection:"row",justifyContent:"center",alignSelf:"center"},localBtn:{borderRadius:23,borderWidth:4*On.Z.hairlineWidth,borderColor:"#007aff",backgroundColor:"#007aff"},endCall:{borderRadius:30,borderWidth:4*On.Z.hairlineWidth,borderColor:"#ff0000",width:60,height:60,backgroundColor:"#ff0000"}});const Jn={profile:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAYAAAB5fY51AAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABxMSURBVHgB7d1PjFzFnQfwX1X3jGdIkDv4Yu/B00hxtJsE/8kl5DBmrI3kCGEwl3CIEXZMvIqWlfEhOYRI2FLIITnYSERRAGfGAg5wwfwRIVIQg31ZX+KxWXZXa6T0cIFD8LYFa49nuqu2fq+77Z7pP/O6+71X9aq+H2mYGccopv36O7/61e/VEwSwxsTvb5TrhUJpTMqyElQipctCyo2CqKRJlIh/Tety279San70U21+kBCiqltfa13hr7VS10iKitRUVVpXqVarLP10skIAbQRBkDiUaHxsxgRFqSALO6IgIr3T/E9lckvFJFyFg00ptSiFWFhRqrJyZHyBIDgILM+VZnVpuV6fqWtVbgQTzZB7oTQUU6ktaE0VreqXzLfzE8XiQvWQqBJ4C4HlEQ6npVptpzaVkpTF+xytmNJWMZf1glK1D4T5vPSTsXkCbyCwcqwVUKa/9JApN3aavtIMQSch5s1rs2CWv2+gCss3BFbOjD2/vFMKmpGF4kPmTcgV1HrNbljLBJiq195QmubRC8sXBJbjVlVRRAcJAZW0inkTzJuG/hksH92HwHJQK6SklI+ZJvl+QkhlpWreEGdN5frG9ceLZwmcg8ByyMQLKzMIKWdE4YXKyy0ILMs4pLDcc15j2bi8fALDrHYhsCzgJd+N2srBZuN8hiA3ePZLafXshCycxW5j9hBYGUI15ZXGkhFVV6YQWBmIgqpQeBrVlKeEmBdKPYtGffoQWClpW/Y91pyXAv9VNOkTS4eLcwSpQGAlLLp3j+ioVupJwrIvVFFw0fLKPJaLyUJgJQRBBV1UTM9yTi0tnUFwJQOBNSIEFcQQBdc40bPYWRwNAmtICCoYAnpcI0JgDeGOF2v7tRAnKbyjWyAZCK4hIbAGgPEESFhFLy/vQX8rPgRWDNHNyEqdFI2BT4BEmetqDgOo8SCw1nHHrH4afSrIQNU05k9dPyROEPSEwOohOjmhUDipMfQJ2cIysQ8E1hq8/LtJ9DQ1qioAO0y1pZeWnkVwrYbAatO8OXmWsPsHbsBu4hoILEJVBW5DU/624AMLVRXkRMVs/hwK/fTTYAMLVRXkkfnhejzkncQgA2tiVpel1q9jBxByKtidREmBmZzVR4VSFxFWkGNlMT5+cfJ0PbjVQTAVFpaA4CUpT20gOhHKKRBBBBYvAU1V9T6hsQ5+CmaJ6P2SkE9W4CUgIazAX9ESka918pzXgRXdByjE64T7AMF/Jb7W+Zonj3m5JIwO11PqpMbpChAgHjQdl/KYj30t7wILIwsAES/7Wl4FFprrAKt4F1re9LCiW2zQXAdoFzXj+b1BnvAisL7yR/2YkJIrKzTXAVYr8XvDlyHT3AcW74ooreYIAPo56cMOYq57WM3ji48TAMSS95uncxtYCCuA4eQ5tHIZWAgrgNHkNbRyF1h3nK7PYiAUIAFSnrpxSByjHMlVYE3O6pM4bQEgOTwVf/1w4RDlRG52CaMdDoQVQKJ4tZKn3cNcVFjoWQGkKy89LecDC2EFkI08hJbTgYWwAsiW66HlbGDx2eumZ3WKACBTUsiD//djcYYc5GRgNZ8V+D4BgBVmZbPHxWcgOhdYzSNi+NQF3MgMYE9VLy/vcu1oGqfGGtrOs0JYAdhVEuPj70/8/kaZHOJMhRU9hgvnWQE4RQixMC7EHleOW3amwlpS6iQhrACcwkeNLzfem05wIrB4fEHg/kAAJ7k0DW99ScjPUms+igsAHCa0fvj648WzZJHVwMKOIECuWN85tLYk5CY7dgQBciXaOeT3LlliLbBuEvGauEwAkCfl5nvXCitLQtx2A5B7x24cLmT+Hs48sNC3AvCClX5W5ktC9K0AvFCSGza8nnU/K9PAas5ylAkAco+HSrPuZ2W2JMQJDAB+yvJkh0wCq+2m5jIBgG8qG6TclcX9hkXKglJYCnpm4zjR1FcbH/x19GsbBJXM19Vloms3dfRri1+ar5dvfwYvtUYdUn9kWOoV1sTp2kFBYpYgt7bfRTS9RdCOTSL6eqsJqdI4DYyD7MOrJry+0HTJfD7/qabLVwk8kcXSMNXAwlIwn7hiOrBN0L6pRkANE05xcYid/4zorUVN50yAffIlQX6lvjRMdUlo0vAoIaxyoT2kdm+mzHAY7tvKH/yzU0Th9dIVHQUYlpC5k/rSMLUKq1ld/Y3AaRxOHFI/2iZSraQGxZXX2ya0fnURVVfepLk0TC2wJk/XOazKBE7ioPrFd2Sm1dSwXr6C4MoTPqX0+o/lLkpBKoGF5wm6ixvmz+/OR1CtheDKD/P+P2GqrOOUsMQDC/cKuol7VE98S9BTu5x/2Pe6njGhxR/gtKppwN+ddAM++VtzGjNXCCuHcDX17/ulF2HF+L/jv34oaTqHVWJASmmcBZ/oFYxGu1u4quI3N1dWvkK15bakG/CJVljNmStwAPeq/ny/9DqsWKva4v9ecI8oFBK9OTqxwOKJdsKuoBNaS0Ae+gzBVDOcsUR0kNYz/KAZSkhigSVIOPEYoNBxRfWuefO6NFOVhalAKso80kKcTOrcrEQCC9WVG3h59Jvvhv2G5f9+XzYXPFJeqtWepASM/DeLR8y7gd+keKPehma8cxIZcxi5wlrG/YLWIaw64TVxTimJKmukv1GcxmAf3pj9odJyyshV1kgVlvmXHyOElTW+TK6niV+fA18ncMPIVdbQVzuqK7vuuYvown5rz8HNFT6mZu87CocFumGkKmv4K17VZwhhZQUPSb72fYRVXDzx/6p5vTYGNurhqJGqrKGvesxd2cOnLUxhsnsg/Hq99s9YPrtASHl02LmsoQILc1f2cE8mj0fDuIDPpcdgqRNKN2srB2kIQwUWqis7eCmIJvto+PXDfYcOkIWjNISBA6t5X1CZIHN86wmMhvtYL0wj9B1Q5ocr04AGfgdos/4kyBw/IAJ9q2Tw0pAffAF2DXOSw0A/anDelR1cFfDpCwis5PCDXe89q/BkHssGPS9rsAqrcZooZIwbxQirZPHriQa8fULQQEfPxP4ba97kzNUVjj/OUOsgPgRW8ri6+sfXUGVZNtAgaewKa0nVOQkRVhl7FL2r1LQezAFWDTTiEDuwhBBotlvAzXZIDwLLAYXiQ3F/a6zA4mY7adpJkCnsDKaPq6wHphBaVmk9E3fEIV6FhWa7FaiusvFv3ySwLG7zPVZgmbfNDEGmuNmOW3CywXNZuDHaMiEfi/Pb1g2sZqlWJsgUeivZwuttXSnOsnD9CkvGSz5I1u4teANlCdWsfTJG1qwbWOZtk9gzxSAeXg6G8kxBV2BZaJ82WbPesTN9A6t5ozNmrzKG6sqOfdgttI0P9+s7jdA3sJQQsecjIDkP4sZcK7AstG+9ZWHfwMJy0I57NuEnvQ3TqGytW29Z2DOwmh17LAczxv0rDIvawa87+ljW9V0W9q6wsDtoxXZUV1ZNb8brb1u/IdKegYVhUTt2YHfQqvKdBLb1GSLtGlhfeX6ZS7IyQeawHLQLr78TSmONDOrQNbBqAtWVLVvvxJLEJgSWG4o9MqhrYMkBjnuAZJXQ9LUKPzAc0SODOgIr2lLUeobACjyCyi7sEjpC653dxhs6Amu9SVNIFyosu7AkdEbX8YaOwBr0UHgAgDR0y6LOHpYs7CCwAssRgDZdsqgzsNC/sgbLQYA2JovW9rFWBdYwj46G5PDDPQHgtrV9rFWBpUmj4Q4AzhBrMmlVYEkh7yOwqoqHelqFKtcxQs60f7u6hyUEKizL8BRiu/D6O0aIVY33W4HVbG6VCazCG8YuvP7OKbc33m8FFgZG3XD5c01gz+IXeP1dc71en2l93b4knCGwDj0Uu/D6u6egVbn19a3AEmvWimAH3jB2XfqcwDGibYD0doUlRZnAuvOfYkli04dX8fq7Rret/mTbr6KH5QCusDDaYAc33FHhOqnc+iIKrK/0ON0P7EDj3Q5Ut+6aeFFP8ecosLSUZQJnvP0JgQXnPiNwlVrZw5+iwFIat+S45BIqLCvOocJylhCNRw7K5ndlAmec/wx9rKxx7+ryVQJHtXYKZeMbOUXglJev4Kd9lt5exOvtMq311/izbH5TJnDKW3gDZeol/IBwW3NOtFFh4R5C5/CyEFvs2cByMBfK/A85MYvqylVYFmbjmb/idc4DHm2QVKuVCZz03EcazfeUcXV1/jMEVh7U1crXpBSiROAknrxGlZUuHhbF0jsfzOZgWarmfAO46XcfIbDS9MxFvL55IZUqSVLoYbmMf/qjykoHv66ornJEiLIUqLCc97ML6GUljYMK1VW+cFZJTehhuY57WVgaJgvVVf4IITdKTLnnA+8Y4g2WDFRX+cTT7pIgF7jKOnJOEYzuyDmEVR6Zv7WNJrA0loQ5wdPvz2FpOBJeWmPuKp8EN921RtM9T3gpg6XhcPh14w0MyC8sCXOGl4aP/EVh13BA/Hr94B0sqfNOCkKFlTd8o+6vcf/bQH6NytQHJa6wEFg59Nx/aux0xcSvE3p/XihhSZhj/EbEOU79cZMdwe4PBFbO/ct5jbPIe+DhUDTZ/YLA8sAj72k8GmwNDqsj5/Ga+AaB5QHeOdz7J41jlZsQVv5CYHkiGnd4D81l7lkhrPyFwPLMzy+E22Tm/270rPwmJk/X8TfsoQe2Ev32XklTXyXvVaNhWtxyEwKusKoE3uHH3fNkt+/NeL6/8ntnFcIqDFWpEVje4snue9/wc4nIVRUvf/eaUMYEezCq6GEFgAPrn15T3jzduFVVYXo9PAisQHAV8kOzi8hnQeW1IuE/9953UFUFS4iqFEJUCILx8seNaitPwcV/Tv7z8p8bvapwaaWqRTL/4NPdISwcXPxx4OuCnvi2oO13kXOiAwv/Q9NbnyCkoKFoLoVriKtwtYJrerOgR7cRTW8RVkchuJn+yhVNby7iicywmlkOVoqCtNklRGSFjsOBKxo+OfuBrYIenMouvBBSEIfW6lpRa6piRQjt3jZLMJ7j4vDafldjubh7C9H2TcksHfkAQv649PfG/8/ilwgpWB9nVdHUWRUC6OHyVR2Fy8sf83eNYOEQ2zhOUfU1dSdRyXy9cUPnT71rNxsPgF38olFFfXgV4QQj0LpSlOaa0qiwYAAcYuz8ql9FEEG6lJRVKZSqEACA46TWVVkfG8OtOQDgPlH8W7QYxIkNAOC6G4cLIro1x6RVhQAA3FXhf0SBJbReIAAAR2mzQ8ifWxXWNQIAcJRs3vPcCCytUGEBgLOUUov8ubEklBI7hQDgLCVEVFQ1zsOShXkCAHCUbs6L3ppxx2gDALiKRxr4860TRzHaAABOai4H2e0jkrX+gAAAXNNsuLPbFRZ2CgHAQbptTrTY+qIgZAVNLLeE8BBUF/DRN9eWCdw13/riVmCNFwrzN5UiyB4fiscfOzaJ6JTP1llTkC1+2MUn5oMfPnvpauMznwUGdk0UiwtLza9XnYQ1cbrOd0OXCVLFgbTDBNSBb8jokfJ8AB64iUPs/Kea3lrkh2EQZK9idgjvbn1TbP9fonsKhSgTpGL3ZqJ9U4J+tE0gpHIiOlXV/H0dMB+t8PrVRR1VYpABrS+1f7sqsJRWH0hR2E+QKA6qX3xHRp8hv9rD6+UrCK5MaDXf/u2qJz8LEtgpTNBWc4G/e7+MPhBWfuHQ+u8fSnp+WkR/z5AOvSaTVvWwSrO6ZBrv/0swEu5RPfEtQU/twmH5oXjGVFv8AclqTbi3dLyjJv+o3jfrxhmCodxjmumvfV9ily9A3OPa+47CMjEhWuv5pceLe9p/TXb8LlW/RDAUrqr+fD/CKlT8935hv4yuAxidIN2RRR2BpTWdJRjYb74rog/s/oWN2wF8HaAdMLpuWdQRWDykZT7hfKwBcOMVP1WhHQfWH6ZxTYyimUWrdARW9ZCott8dDf3xDiDvGAGs9eg2hNawuH8VZdEasttvVvXaGwTr4soK4wrQD0JrOEKrrhnUNbCK+vbNhtAd9ylQWUEcHFp8vUB8tR4Z1PNVnDxd53msEkEH7k+gqQqD+vkFTc99hFmtGFbdP9hO9vxXtDpD0IHnrBBWMAyusvhUDuhPUO8VXs/AwnhDJ74Fg4dCAYb1qrl+NmL0pS+lehdLPd99GG/o9EtTWWEoFEbB1w8q9L6qSz8Zm+/1P/YMLN5SNFuL2C1s4lIeTXZIAs/sTWN3uSvzDuu7suu/vtF6jiDyKpaCkKBfosrqqrZOkdT3XYhlYQNXVlgKQpL4KGxUWR2qy48Xh6+wsCxsQM8B0oAqa7X1loNs/XVO4MtCVFeQFlRZq/XbHWxZN7CaHftgl4VotEOaUGXdUum3O9gSr5Mc6BApz13hXkFIU+uxbqHrNyzaLlZghTpE+uAUfvpB+h5FFU9qeflEnN8XK7CiUk2IeQoMloOQhX1bKWxCLCz9dLIS57fGHi4K7cgZXg7ivi/IQujLQq3Vs3F/b+zAmiyOzVFAzfftm1BdQXamNwd7vVUnZCF2yyl2YEWn/wXUfEezHbJ03xYKEs9edTtZtJeB7jcJqfmOCguyFGr7IW6zvWWgwAqp+Y7+FWQpxB+Q0XMHYzbbWwa+o1fX6wMlYh7xZDse1wVZ4qZ7aI13RRS72d4ycGA1qizy+qk6W3ErDlgQ2C1glfVudO5mqDNTVL3udfN94wb0ryB7G8fDue406aFWakMFlu8jDlgOgg1Td1IoKkuHi3M0hKECKzp2RqmB158AAMNWV2zoYzQnisVThMP9AGAwFVpemachDR1YqLIAYFAmM84MOsrQbqSDylFlAcAAKlSrzdEIRgosVFkAENeo1RUb+VEwqLIAIIZKMytGMnJgocoCgPXwzuAgNzn3ksjD9prJWSEAgE5Dz12tlUhgcXIKrY8RAMAao8xdrZXY44yv831BAR6jDJCExS+Jzn+qyUOJVVcs0eevh3CSA0DSOKx+8I6KPvtGLy/voQQlGlh8koPWOshHggEMw+ewEkRzo44xrJVoYLGJQuFJyvmYA5fmPl5A4Bafw8qoDnqaaByJB5YPYw6eX0jgAN+vMc6ApKsrltoBPJN/VBdJ652UY3yg2rv3y9AOVoOUBfADsXLjcOFuSkHiFVaLacDnfswBlRYk7fJVou+d9fuaSrrR3i61wIqOUtb5n4DnC+tec4G9tejlljNk6OUrOvoBWF0mf+l0loItqQUW21AoHicPJuCvmQvskfc0PXMRoQXD4WvnyHntd1iZ97peqY18v2A/qQZWswF/iDzBFx1CCwbBAfXzC2FcNzzRnmZ1xTI59X7yxZVTJORR8gQ/s/DV76MZD/1xO+GRv6iob+U7nrm6friQenGSaoXV4svSsIUvQDTjoZ/znzWukRDCyqikMXPVTWbPFZp4YWVGSPk+eeapXSL6AGj53UeafnYhnNaBafvsiTbZMpBJhcV82TVcK2qmnsNkPDSWgHvfCS6sTmQVVizT0qA0q0s3tX4/7wOl3XA/6w/TgnZvQbUVIl4Ccr/K813AtVIbEO0lswqLRbuGQjxMHh6pHA2Z/gm7iKFp7QLu9X2+qlM1zQHRXqyUA5MvLD9JsnCSPIVbesLAVdWRc4Fuvqj6sRs/GU915qoba+sX30Ydunnim4L+9dsCweUZrqR+bSrp5z4KtJo2vegbj489SRZYC6yon6XURfNlmTzGYcW7iAe2obflA94B5GV/YMu/dpUNUu5K4oESw7D6LpqY1WXRCK0See6BrYJ+ey+qrbzi5d+v/qrN56B7lNy32pX2NHs/1n/s3/Fibb9pxL9OgTjwdUFPfQfBlRfBL//aCK0fjp7dYPPPQA6YeGHluJDyaQoEhxUvETFw6i4OKl7+8UfAy79bmvNWx8kyZ94xEy/W5oQQj1FA0N9yD4KqU1b3CcbhzDvF56HS9SC47ENQ9WS1yb6WU++QZhOe7zcsU4BawTW9BT2urCCo+qrwcKjNJvtazv1ID2nnsBcOq+nNaM6niU9ReOl/NL3yMYKqB+s7gt04uQbx9WSHYfA4xKPfELRvK0ECMJ4QT5YnMAzC2abJxOnaQUFiliDClRaH1xOYnB8YV1N8Jj+WfTFZuu0mDqe7vKGNO8TFy8VHtxF6XX1wML1yRdObi4RqagCujC/04vy2FEKrP4TXbXwT8tuLCKlhuR5WLBf76AiteLbfZXYYNxPtKwvavZm8x1XUh2a592ZFR72py1cRUsPKQ1ix3Az+ILQGUxonuscE2INT5vMmPwKsFVCXP29UUR9eRU8qCXkJK5arScUQp+GTxMtHfuLP7n9oLB/5a5fxEo8rp0t/11HjHAGVAotHxQwjd6PVIZyjlSVeRm414bVjk/naVGIbxxtBxhVaFjiU+EG1HEiLX2jz0fgay7v0aa3PLD1ePEg5kst7QbA8zMbUVxthxiHGATZ1Z/PX77x92Wzt0ujnALrWVglxEDU+N783IfXJl/wZoWRLnpaB7XJ78xpCC2A4eQ0rluu7bRFaAIPJc1ix3B8PgNACiCfvYcW8OM/E96fwAIxKkz60dLg4RznnzQFMzRum+ajlYE95AOiiaiqrh128kXkYXp0YF/p5WgBrOHee1agyffJz2pYOiYqWkp9GWyGAgAkhFnwLK+ZVYDEOLT7SlYfiCCBAfO2PC+FdWDGvDxHHDiKExoedwH68f+pB87mHfBAgmvHgs6rQ+pDt5wamLYjHtKAZD57zrrnei3c9rG5afS2+M50AfGKuab62QwgrFtyD8JpDptzXwhIR8qxKqn7C1bPX0xLkkzuxRIQ845EFdfPmw6FUVe2CWBKuxUvEG4cLd/OOCgHkiVkC+jqyEEfwz0Zv3tLDu4hlAnBXxfyAPeTLLTbDCrLCascXAE/HY9AUnNVqrAceViz4Cqtd8+Gt3JAvE4B9qKrWCL7CasfHb0T3ImL8AWxDVdUVKqwesJMINkQ7gPX6MQRVdwisdTTvR+Sn9GBuC9LE51Y96/N9gElAYMXA1RbV68fxTERIg3kTzo1Leax6SFQJ+kJgDQDLREiS2ZmeN/84geVffAisIWA3EUZUEVof8/1khTQgsEaA4IIBRX2qiWLxFJZ/w0Fgjag0q0tLtdqTpjHP/a0yAXRCUCUEgZWQqDFfMxUXggtuQ1AlDIGVsCi4VH0GS8WgIahSgsBKEXpcgdG0oHT9zGRxbA5BlQ4EVgb4XHlFdFQIMUPgHYwnZAeBlaG2AdSHCJPzeVclrc5oTWcRVNlBYFkQ7Syq+n6hxVHzN7CTIDe4mtJavYFlnx0ILMvaqq77CL0uV6GacgQCyyF8+ikJcRBLRidUNdFZUuoMQsodCCxHNRv1+xFemboVUhPF4gKWfO5BYOVAW+WFZWPybi33EFLuQ2DlzNjzyzuloBkh5EMYkxhK1TTOF7hxrjTNrxwZXyDIDQRWjjXvY9wpBO3XJHYgwLrjnT1B+hKqqPxDYHmGl4+a9E4S8j4pBI9MlCkgmh/cYCoos8z7QJBYQED5BYHluVYVZr6c0ULskCTKvsx+cTiZT/Na1S8VhKyolZWFUB8wGgoEVqC4FzYmZVlpU41JOWXWTSbIRFk4VpG1Kiaz3K1yMAkpq7S8Mo9gChMCCzpM/P5GmYrFsllSlpSgEildNn2ykhZyYxRsxBeOMN83xi1EY+xivdELHhm4vTTTusLfcxAJra6Z/lKVpKhI83lFqUqhXq8ilGCt/wedGY9rV99gfgAAAABJRU5ErkJggg==","no-mic":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAYISURBVHgB7ZxPbNtUHMe/dhK6aTDCxE7j4Al2qUBbb1xYkws31EZagZ3WihNIqP9OlZDmStxaqauQhjigdicQm7TtOC7NxJFDOiHtApOCBFwmbYFtaku2eL/fi9MmjmM/28+Jk+YzPSVx7Dr+5L3fe+/3nAFDhgwZMmRIv6I5N6ytrWV3d3ezS0tLZcTIyspKLp1OT9DTSSqGvblCpVir1W4vLi5uIgG0CFpdXZ1MpVIb9DRLpUwlPz8/X4ZC+Augh8tU5nx2Lcdx/qDozS9IzhrqchiDyhZdkAG1bMFfTpznD4TueG24vFb2Ienv8BdwLsAhhn3+LHqEU9Atl30MKJBkHy9Tc9rOTzEpzHFKcAqaobLtsp+B6JIuIyS6rl9Cj2gRRAGRe5E84qlJQZpW27l71cycNUhIolKwLOuay/4GwkuKdIGZTOZ19AC90xsLCwvTMUgKTbVaPY0eoHu9mTRJvUD32+GwS/IVxCiSdA19iJQgxkdSiSR59lIU+E16WEafIS2I8ZDEPdTWIEoKJIhhSXC/yIGUFFgQ43GRAycplCDmsEgKLYg5DJIiCWIGXVJkQYyPpNL6+vqlkMf3HCWCGK+LpHzOZr9KUiaIGURJSgUxgyZJuSBmkCRpCIm1QQH4CGUJ05iAJeZj5+ivcVDeT4w9/P8U9qyj4vHB7rv4a++d/eMpjTo9OzvrOYGlHtDEQaqWl4CK6DKBBVk/ICekANMImCXcqx3Fg533UHp6Hg+rp4JKGiNB2+gy0oKsn0QN4WWbHBTAtennRxfx34sTJl24Z3MiSXO0zxX0AF9Boim9KrUSGorSk3GUnn1gfvbl15Fijp2T4lXhHBSuynoGaWpOBsmRXQkNxdhrd3Hhzavm9W+/CL0sZMPH5+znBpWbUEBHQaJJpVFCtOUaKY6nH+GjExvmne8+jSJp0vHagAJcBdnxhmtO19aiRvQdjGdvh5Jkz/ecn1VJQE87N4hmpVP1tALKGTXdt983IUtDEjU3TH1+VTom0dgqRz1iyzbKfN6DAloEiYCcoZpjhaieox2++ACCGJb0YfZH8/tvvoJs4CY5s85tmqbdggJatXNvZalpu1HgmDR27BeTmo5vc6N9cmiPN2VVg8p9QaJpxdhbBYV7t7dG/vCVZItw1rQiFHFQg9JiDJEo3j9+hx9kJJlolaRsHicEiV5L0QhZJVSDREEwScsqb9sTI2nrBtUeS8ytwnPBct9+I/R8WFB6ch53/y00XvpOS1RTb2JW2yArMYwe+xUj2k7jpVTgVokuZuddHBAGhbv9k6/83bypq5J0pJJbexq8feQ35ybTviE0dnSKQmeRcHhc5MIcOYq95+UYlNjm1eBk5p9Ob03HLYkFxT5bjwrHIQ9ilRRL0l41PoKY2CT1hSCbMur3cZ+2nzuJRZJmXcdjqIhDMQ0UbSraFN5ovLDTq5yvMlz23aTB5AwUodMgsYKkY7XWGHsqkUfnmqTs9x06/ev6UkpgtPYv0UdSDop+BKPRRPUKfYBZREVBRrEjNSxrn8B0e8unufGXn7d/YhEKjkE5+wRJJk8xqNjpzTgl6ZQH4j+Q5DhU8ZLD+DQ3HueFbm66ViA5VoJv8tYglVuOS5Ie5EP0hKp8djAOSUKQXYWLiAqvbEw8rpezCibbGja1i64X2xEJSaUgvy85GElbmEcUWAj3ZJlsvZyZ69yzyVINl1v2kWQgwI9w9gVpH1Ow1rCOsBjT7dvORBo9LAetPc1ISJKalrTOxVJirNH7gSONnKnZm4iIxGDSlxZBokd7joJzaC/F7y6Vrxyic+RzvxAXpQQPSWWZ49tm83a15mWEYGMjHjGzpGqlXu5T+LgXeB2Sz1mI0rTcaJLU6K25lRRkju041bbXym7SHga6A4/H8iIWJgjPXIRYjk7RED5uSXazUl1zVOCZMOMPTN8oJ6jiW6yzqOd8hrEkymHkb+Lk2pQWPYuq/wWhCO7Kp9TdaBAHYW4DbojiW4GDzm3q8z6a2iRdTINI+VCRKqlR0TGOuiwDB9IqIlvJCbka/hTzvafY1mb6IIPZxEtVOHtju35SjAAAAABJRU5ErkJggg==","no-cam":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAYrSURBVHgB7ZvPbxtFFMe/a8etK2gaVYoAlYOrUg4RKMmNE3H+gjZSi4Q44HDlkDSBY9WtuObngWvjHBBSqeRcOcW9cmkQiAtUGInyQxFtVBUloamX98a7iZ3szs7szq43jT/V1rV3E28/nnkz894Y6NGjR48ePY4rVtCJxcXFEj3U6Biho0rHDWILJ4yc5Jwnh6nQsU7SBnDCkAka8Xm+iBOGTFDd57UKtaIVnCBkMYi70zqOtiSmSvFoEhL453d2dlLrksVicSuJGGnJTrqBmiWVfE6HSlpYWKhalvUx0mOj2Wwuz87OVmEIK+yCEElLPLTJfr4Lkhibbus2DBAqiJmbm7uaz+driHgzXZI0TvdVR0xyKheRnCnJaZta2S3JeczMzFQcx1lFutyCAUIFucG6HHJZqCRqQdP0sIH0KJuYt6m0INU3kUpyR5hxpCipUCicQ0yUupgGmZMUF9OCmJdKUhKCGFVJDWScpAQx9vLycuDQflwkJSkINKuthkhqIOOSEhXEZFkShwE6HDoCsxSJC2KyKMmNkbb7dDroulQEMSyJbmok6Hyakg7JkZKaIJf1bkvSkcOkLUjkmLolSVcOk7YgpiuSKKPAMdCGJt0QxHiSSkEXuJIm6IidJWQ5tFiuIgLdEsSoSOLlCLekyJLiyGFUM4q/Hn79tLWNwVOPcKn4I/r7HmOw8Ainc9vi8Nj87wJ2nTPi8eHOO/h99y2/t2igldxqSO6BuyNnNXXTFzYUuxW9v68LbUFvnv5FSBl65bsOGSrsNs/g4fa7ePDsfWw+v9B+qoFkJG2pXh8kSLmLcQu5NvilOEbP3teWw/DPsNiPXpsTv6c//9g7VYJad5uAHsknzN4+9f3A2MCa+E9x6zEF/65P3vgCY+fWRHeFmqQ6PUwiRaRdzPmabrqvowSdCE/3zuPe5qd4+uI8P20gvLtV6MFoAVO7izl3SUofHiBhOQwHeW6h3I2h1pKqSKkl+QoScqxIo0ZkOD5xXGqTVJMl3dOSdKRZiW5VIDmOb6EwmCHb//WfbOjAI91Xf3/mdTcxD5KVlEmiDQMlHqVh3lmhFnOWupWuHOaa4//6PaXaZAcck1gSz6EQT1Id4SUrgVoMepXeJIocw3BMeq//W++pmP+EdDebHo5Ud6nsE7tguS9IdC1J4ihteK7VNq1gSTXZ9UGS4lZ1D1pQn9lh0wRtrYgph+1NSkKSECRGLcW+mibcgg5NTitxJCFCLS7n/j2FjHKp+MPhlyJLQoSCpYjczjd4grhzHoOjWDs87N/586Y3orUTujfJj6Cdc4GjGAXnMlKcEOrCE0hOq/gwHbajxA/d0ncOeVxFxvHpZh52TEkN96VG0LU56mTDyDg8L5IQVxKnUEaDrrMo/phZkCYUgxieWd/562bYZcb2JbbDo1jiq/W4KCbnIrWkMLqZtFdGI3tpXNKxEKSJUUksKHbdKWl4LqSJPT8/b2RdmaPVe+YFcZDWJZfLLcp2lCj/HvqjvT5Jm12niCiEbbtRoQ9N/Ib4IzFlDo2PsPsEFByVcCVhamoq0mqe50FltNYmmYUrHnEkuUzQPGkNmuSoDXEXy2wc4gCtKSdIwopsR0kQrdX8XSzRvzKZ8vhn7/X66h+f3w+7joIyf8j8Fa0tSd1MLC/cKq0SXrqjjKx2sz1ctD7U3ydkSpKYKFrXRfa/jrgM0fzsypPWMWzg660WqlHkMJK6WegGrnYOZtIOtJNPHbAQro0VBlrH5engWpkqzxFraAyRVJNVbz32BVkfULC2sIyolCpHX7scK6zdjtp62nEl+YkuQeGr7p1rsbzYbNT9iaODBnV7G4aQ5KhLgLwO2CHImqAAtkcJJCfCJ/ezT+NrRJib8Xu/EIkso0gkSac4vnPoyJsXhpfo83Bn9ixMsy4PvlkH46K7J4Rbpvb6/g23CwYSuMhwa2U1uqKEdEhcThTCN1DlqSUlLcntViaCsmmkCTO+YfpELwLxhlspDo2c/2I0i3IY5XW8ux3Ppn+a+v57HTyUXzcwQU0Q7URHm6gr0C84cpxZpXddy7oYj1iZILGGa9KRwxhasko4kLYlspWckGvlnNbwDBvWZPYzmO38D55gnBRWdEoTAAAAAElFTkSuQmCC",pinnedLayout:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFuSURBVHgB7dzBTQJBFIfxeQtBuVHCtmAFSicSTt7swFgCBRi0EiyBErYEb64E58lKYri8/Sfqgd39fifImw3hy8xlDpsSAABdZW3D2dpnHzk/HD7eNl/TL7wvRz+/MX369HQGzGybPa/q5fhZro0Gl2svLefN4WOZ/uAcA52ofLeb13fTKlpQhI8ed06Z+q20yWTTnJRoQRjIjsdqCMp6v7+PhkVCstHoOpoRqOF+E40IJBBIIJBAIIFAAoEEAgkEEggkEEggkEAgYRwNTi+6howdJBBICI/Yf90fd/2osoMEAgkEEggkEEggkEAggUACgQQCCQQSCCQQSCCQQCCBQAKBBC7tBXaQQCCBS3uBHSQQSCCQQCCBQAKBBAIJBBIIJBBIIJBAIIFADbNtNGoL9JYGwj2volkcqKVqz1RtLxgIA7nZonk49dv3iwXaFoSB6oVVXhRzd39JPQt1+E+vnvPjRVFctb11AQCAbvsCS61W9paa/pgAAAAASUVORK5CYII=",gridLayout:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEZSURBVHgB7dzBDYJAEEDR1Qq0A1qwBCuzBGMFaiW2YAfagXawjokHYmB/IhgE/0smHjbM4Us4cCAlSZImKee8iNnG3PKH3vb1oqedl5h9TFVqMCvEqeLnFFOlDmahtjOnHvS88xqzjpXXpsN54cJN6hhnJKqYfdth6Q76xX/7WzvvsXLZdDBPelq0HRgIGAgYCBgIGAgYCBgIGAgYCBgIGAgYCBhI0pB8o9iws86HNDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDAQMBAwEDCQpCH50r5hZ50PaWAgYCBgIGAgYCBgIGAgYCBgIGAgYCBgIFAKdE8qBjqn/3FoO/DDAp9+WOB1wTrm+FoyNc9HyC5m1RZHkqRxewD9wBbfql+gGwAAAABJRU5ErkJggg==","stop-recording":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAfCSURBVHgB7VtRcts2EF1Qsj86SaregD2B7ROEylemEyfOCWKfwM4JrJzAzglsn8BK7en0K2JPEOUEYU9QdZK/REQXACWCIkAsSMhuMnozGsPkEgAfF4tdYAGwwQYbbLDBBt8rmO0GT57GAFunAPO3LP1jCoHBk992AXoJFneAcSyzAZYXvwUylJwBYxnk/CP+nwJ8mbI0ncEdwU7QcP8T/onxNwM+H4YgiSfPEmzyFbZ6AFUifJEChyuArylL/8xgjWgi6B8oX6I1STxJBhA9OgbOT4BGykI7aAQyuIT865t1EdUwxPZP8O6ZdsmLJDcxfIpa8BdAjvVtizozlo5n9XoOcPh9E88n+HuMwy0B85ushSjWdBOHxAg7dKpdQpK+7rk6IYcSYxeghqh+R5DyDqB/biKDCqz/QBuqVTA2Yu9/fwOBwFwCBpIyJGloI4k/eX5WaI1+VdgM/Lq3KQQEaleM2iX692rlVmMffRC5BPClRvjC+heJgW1N1CxnQJ7/q/2HHeVDNrkdhiZH9W2Mw/L2EHjvV2znCqp9/KA0rWMbVEEfTZKyEdqdvD/qMpR8gXbzEN9I9DFeXuw45MgEqQ74Dbf7gBx2LL/G0u7yYgeSvAhSHfj/kyTAh88upSFfXoDXLL05B094EyTbSp6dI0nH2qXvhCTubQtbEVQ0/gEf39UudSJJ+k3wU4zzhuYz9YVvlEEHrJBEclN0tNSg58cYP5nU1Ysk6S9F7AWqv5htYouYMPLTtqEF2qQB2qSJZpNSNrkZUp9vYYOeyikUlt4xOn81Tfq81xRQoq906hF6VNHCY1aGe1722cMeOf2g+hMiwl+Sg1/jdg9fNtUksDMPJmrIGDr7ZP8a5UfQNljlgFP51idJMhFymKKjWl6AU1v/VuFFkNQe0cHlhf6RKvRfYqtajIYaZSMp7x1VZVsCSRZ20OqwrkBqTPkhMU58SCLYU4P6F2WL7M3CgEpnkEdDCklm2bYQbTR49TUsPigITTyhaBGZIGV7lpE0LmBFl/r9+yPJEfpU280qIUn06MT1DF2DlO1R4DgTGKZfK0nRwzOLLA5NyKA7kKT+NU20Xxpnzo9dWkQniMv1mAI9q9tufHG0W2icLwyy+EV7QwhCEttFwz1ySqXjacUWwYOkSZ5EkFoqXfopqct5K1S5KnMXJHF+SrNHuRb5s8MmSZoGRZWY5solrqJqw8rfXZDEti7cQtvjUh5XKRtAI4hrkTH0UsIDr+y3JEkmmxSKpMRlV5QZKIeZ2mExw0mQdNVLT9kZG63MdhYhnGINjl4wkgizE+Kj1nJirQqc+Fayy/VKbdhKgALh6K2LJM4fE6TSshjt2IQIBOVxKb1ieM01vgAq1kdS4nYC+6UrwqyBMoWgKF4WcwJBnMfgAzdJLZdsH+w6BPR6Y5sQxUhrXwK3gJ1gro7VsRaSNM03oFgrd25SehLU3FFl0FvCTtK0HUma5tsRhCAftCdIIDhJ3RGaoO4vEIwkHoRMCkFZWfQa1+0hSBK5AfX6RRz1klYJxV4ujbO1zwSCmPYwIwwhwkxHAYMzXPuueeRyV4LDkbuCPGu6W7WX9j4TCJqXBEUsdorLjI1AYPzSTNLNpYskdxaK5gBXlKAKAkHb6bLI2Y5bPp9CSLQjKQV3xbHWhjVCICQvyNhrwTDBx5GRctjZxpckwooDvnkZjuR2QqnR/EIrBsXakBVFpOzuoC9wH84UdSuSKtknGcDnsbO+ygpF36r11Gm+tCtRlLjFtWXNcMANwN7ETJKWosPYlSvJUy2q0VYoqASlZe0Naz0FihXFtxAeDpLg9epmghlbB8sib7ZX9PwgfS+ekASgtnzlbmYM4dEp81bL4HW+i8+i/btluZr+YoSyRT3h1K0jPCg0ibofVkIuB5cfLXN9aI9QQ9qVxcsmLmMtoDxfVPv1YOC3aVhAZaAp6NvRFpAJKman0q4QtEg9t5yK16FJsQ9Jde3Bvjngu/XsrUUCiqTeHoTZJFwFiSS5wuipPQJeBBm06IKaJVEsfu2Fmd1kWrHu67hJih7pyZ0k7ZGPgSfkdFpqQozbyoR9qMWz4xk+f6Kl7WbgBUHMIq34BieAWuqvnSSe/1KWOSHYLfoMLSCPB6gpvKilfRZpMUyFX7KDvRlAeepnJtd0uNznx1ipd2k8qrCah9iUnixkWZRhX0dARCuCZGOrZzlaZpF2hSHFTiALlVTamiCBWrbrD0hSJ4IEUJOuK4dKAh8moffDRlJzvqQLAdake0eVHEW5prx/Rp3dQqHMTaoY/rgpX5JULwSCObl8/nIdxznN7cvzaaf1k0byLnr0X4ZtNCkYQbIb9WMKrdJ2/duVedsjqO/h6evOrUgKSpDshu0wXWCitBONh/W20BnN0etn80n1nj9JwQmS3VAH3U5WhtwCqVoSnU99h5+yJSJljr0wHwyuHtwrEsirJOGHYu9v1usoUtFwInCBDHswVUe+xTZNtLJfnuOvJ0hYHB3ftdYjiamHD11JWitBC2hEiYXyGIKBdtSzC0l3QpCO4pjkQUuyZsqOsHe20MPeroEkDueodY3rVXdOkI5Cs2I1dEReEfvZIPW3Gn7bU7kA17W9KknOkz/3StB9oAi0RdL5QET1ODzHsMEGG2ywwQY/JP4DcXBrc3r74McAAAAASUVORK5CYII=","demote-filled":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAPhSURBVHgB7Zq9TuswFMfdIiGxIPoAqGFHXMQT9L4BTEhMZWO7RYKZMsACqFwGNgQSD1DeIGVBYiF3YEW5EiNDKoQEhA/fcyq7Opi0pI5T6t78JSu4Thz/4q9zjmEsU6ZMmYZRLy8vpTAMy5zzCTbsenx8dACWi+RJ6AlQoVCow8Vhligf56aRkRHaq7PQ2261WnVyuZwL+Xm82gQdS8/Pz1XSy/zq6ooXi0UOPSyT/19CX19fu1AWiHvwivkyTgtmm3DO7u3tBd2gZ2Zm+M3NDaf3iOQ/PT1VmC0SC5SHUFtbW1wTmsP832A2SMLKlAQahneJDbqgg8sUOCG0z2yQSWgrehllEHr/q3fhfBerfNvowRWf9VuGoN1O9aMlJ+B4h+T13cSt1WpeQuiO8xjKjrvAfvnBUhG+8PT0lCeAjmywYrd3TQ8PD7OsXwKr6wRfqgvted4ZiwYuxwXu63xGq0m+WAe6k+09sMBiYQlMQ6cNHMs9jBK4hM339/dNmV9cXGQHBwcf7tnd3WU7Ozvt/PT0NKvX62x8fFz+5FjnWsq5bKqnB3ZIU6ERYQraCmAUmoohsYp0oc/PzzesAKbC/RE/wNzcXMWgwzG4wFSGvazBB0alCF1mg6qUoMusR+VYQqHtC2HcEhgiuKcW0SCBa9uTeXt72xwbG2tIaCg7ps+vra2x9fX1dh6CgGxhYYHd39+38pOTk629G68RWh4dHT1haQqBhFnpUkurSwpoxNJwT5ej2ojvS+Q+KpC810SjldiYo6OjwAQ0GD3zaltF0ADL/Z69KQQVFQShBihpWFXWKWPbCV3LVoqKdYckcEDf+6Xw6yQFJWmf9HDbkkoIfay2WfWlo0ZApMSDpmBxSJ/RUUPLDg8PfR3opaWl2Yh2fzBLY5924Pg3BStSoNTv0jIdi0x1LcWHpO32otg+uYd4DgwXh5nVBA3L4lZFyy4vL3E7W6YP9Opavr6+bijt/h3VkE/A0JhU4kT5fL4k/xb7ckPmAbZyd3enDX1xcVHDOsijfzvtz5+AqdFgUlDvL7o3wodFuKbMQ1kVoH9MTU2t0ufiQK+srFRub29lvgl1/2RxpR6JmkzqNtFhJ/C3t7dd3dU79srcD+BQsboItK/eq7NlOY4T9BwuEo48TzH5qtmHHwEWy7oJ6ILOfyKEmiZkDynyqETso+53Qe+H5vfjD9CdDAP8XcC32qALzWyU7gkHemXMRtEwcBwvq9Fo2AuLUuLebhx/ult92icP36Vms3nSxSL7A6chq8xmqT0sf1d72uphTEUMk0CNYEjooYGNo6H7d8dMmTJlypRpiPUP/nINjVERkUQAAAAASUVORK5CYII=","demote-outlined":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOsSURBVHgB7ZrNThsxEMcnjcQRkSfI9o5QxBPkDQonJE7bF6BUgnPSA1wABXHghkDixCl9g4ULR7aVckXbN9gIIQGLwPVQOxrc3cTxetM43b9kRfshr38ef8yMA1CqVKlSs6jn5+dmkiQ+Y2wBZl0PDw8eh2WihBJ6gatWq3X5jweO6IPOS9VqlVq1wa0dtNttr1KpBPx6BX9dgtbS09NTm1iZ3dzcsHq9zriFZYn+S+herxfwZ7F4B3/x2sdpAa4J5+zBwUE8DHppaYnd3t4y+o4o0ePj4ya4IrFAhQi1s7PDDKEZn/8tcEESVpY80Hx4N2HaxQ3sU+Cc0BG4IJvQTlgZZRH6cNS3cL6LVX7g9OCKD5OWJeggq3705AQcyyjhxF3cTqcT5oQOs+rmz06HwI7ssEKEHzw/P2c5oFMbrPjtQ8v9/X0DJiXudZ3hR02hwzD8DunAvi7wROczek3ywybQWb731AKLhSW2DV00sFZ4mCYeEvZfX1+/yeu1tTU4Ojp6987+/j7s7e0NrhcXF6Hb7cL8/Ly85TkXWsq5bMvSUzukqdCJsAXtBDAKXcWEeEWm0FdXVy0ngKlwf8QOWF5e3rQYcEwvMJXlKGv6gVEFQvswrSoI2odJSvi9Pg/jOnx76iZ/IpyINoqmdAqA9qFo4QkEAqpgwwpXvSBoHzIMkSt8JJCxLqQCvEAbc3JyEtuA5qNqJaWtLfE8GjuaEudJgQmk/KiampW57Zyh5VtJy3UnJHGA3wJdkZ4aVmSi/RA9JJ2hRD2pnNCnKXV7o0bAyEZlQCJg02SeiChrUN/x8XFkAr2+vt4Y1W7t046MBSkwhUypP6AdaOKRqaGl6Eja7lCrMWLevpuHtlOqwu+mW1fHZPWm0GJRHX/LUg/MijoPUqz8tl+bQl9fX6uw+ol+FTgpaHMXC0ysWtpCwBGPdVKpAr+8vHzBCvKUrHmP+2Ty994e7e7uBqbQ2iuzFE3OWS5BWs8L6Eh932TL8jwvHjtdpG4blkuUZm3sCD6cuzagayb/RCjQym/bRdYQF/toUCR0JQuaV9TgDWvxrGIRZzg/5+bmMld/MfSb1WoVnYtPFxcX3sbGxrt3tra2YHt7e3Dd6/VgdXUV7u7u5K1fcRx/BNdkesKBWxy4KJoG1omyLi8v3YVFKXnvQMc5GVaf8cnDv1K/3z/ja8tneo+ccPzgpyFfwWWpFpb3VUs7PYypiGMSqxkMCT0zsDqaub87lipVqlSpUjOs3+SJ5oMyh/uFAAAAAElFTkSuQmCC","lower-hand":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADvSURBVHgB5ZRREcIwDIZbB5MQCZOABBxQCUMBSJgEHCBhczAJlTAJITmyo1dW2vTKC/x3ubVZky9JbzPmr4SInmySdcemCR7I7nFQmAhFAcxrAE7ilyBhJ75pBxCu+VxfC3FbpR8Ai2zzI5OEq4wAxAcZgJctmBJxuzFE/GsTQAqy+ZoAJPAggblxVQMAX/LRuHxrwFsnQWIsBtChkcwlACj30icgkEveR9VecV8pCJR0cMMyMeQYQfIAJYR1khj1z08NUUsJGUyNlJCLqVEhZNqDWAXE0QMSr2dr7cyF0Jrv40z70XxD+Px2nPkZPQCoHCglmaLpAgAAAABJRU5ErkJggg==","raise-hand":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADxSURBVHgB5ZTtEYIwDIYD5391gzqBjIAbOIojsIFuoBs4AmyAG+AIblATDSdW+pFSf3g+d+81V0jeNrQA/BVa644EKcGCNapFFfqFQi1IvvxZgEfJ43wwR3HN8cqVnI9N8uoKRx6tXLGc2HbQUjKaLGEiuWVe8ejtcaxBMpIYYCvPqP1XDOjI4rBF7SRJPeUgri2x6oOxWpnNAMKhe/C43RliPpzaosb3QqzBFbVhgyNI0X6o7xdzEgQ7uIGdBp7/p7Ug52MHJ8fqO5ZJeKv0+/EMRYEETKgExSuIIdAk/AZbTOjE0DdpB0U71EHclp/kDilNkhWhg0nUAAAAAElFTkSuQmCC"};var Zn=__webpack_require__(8548),Xn=__webpack_require__(3250),$n=__webpack_require__(4404);const er=e=>{const{disabled:t=!1}=e,{styleProps:r}=(0,n.useContext)(ln),{BtnTemplateStyles:i,theme:o}=r||{},a=n.useRef(null);return n.createElement(Zn.Z,{style:e.style,disabled:t,onPress:e.onPress},n.createElement(Xn.Z,{ref:"web"===_n.Z.OS?a:void 0,style:[{width:"100%",height:"100%"},null==e?void 0:e.styleIcon],resizeMode:"contain",source:{uri:null!=e&&e.name&&Jn[e.name]?Jn[e.name]:e.icon}}),n.createElement($n.Z,{style:[{textAlign:"center",marginTop:5},null==e?void 0:e.styleText]},e.btnText))};xn.SurfaceView,Ln.SurfaceView;const tr=(0,n.createContext)({}),nr=(tr.Provider,tr.Consumer,e=>{const{renderList:t}=(0,n.useContext)(pn);if(null==e||!e.localUid)return console.error("Error: local user id is empty"),null;let r=t[null==e?void 0:e.localUid];return r?n.createElement(tr.Provider,{value:r},e.children):(console.error("Error: we couldn't find the local user data"),null)}),rr=function(e,t,r,i){n.useEffect((()=>{if(!(()=>{if("web"!==_n.Z.OS)return!1;if(!("userAgent"in navigator))return console.warn("unable to detect browser"),!1;const e=navigator.userAgent,t=e.indexOf("Chrome")>-1,n=e.indexOf("Safari")>-1;return!t||!n})())return;let n;if(e&&e.current){const t=e.current;t&&t.children.length>0&&(n=t.children[0],n.style.display="none")}const r=setTimeout((()=>{n&&(n.style.display="initial")}),t);return()=>clearTimeout(r)}),[r,i])},ir=e=>{const{styleProps:t}=(0,n.useContext)(ln),{theme:r}=t||{},i=n.useRef(null);return rr(i,10,(null==e?void 0:e.name)||"",null==e?void 0:e.tintColor),n.createElement(Xn.Z,{ref:"web"===_n.Z.OS?i:void 0,style:[{width:"100%",height:"100%"},null!=e&&e.tintColor?{tintColor:e.tintColor}:{},null==e?void 0:e.style],resizeMode:"contain",source:{uri:e.name&&Jn[e.name]?Jn[e.name]:e.icon}})},or={joinRoomButton:({ready:e,role:t})=>e?t?"JOIN MEETING AS "+(t===$t.Broadcaster?"HOST":"AUDIENCE"):"JOIN MEETING":"Loading..."},ar={label:"English US",locale:"en-us",data:{meetingNameInputPlaceholder:"Name your Meeting",...or,pstnUserLabel:"PSTN User"}},sr=(0,n.createContext)({languageCode:ar.locale,setLanguageCode:()=>{}}),cr=e=>{const{store:t,setStore:r}=(0,n.useContext)(ze),i=ke((e=>null==e?void 0:e.i18n));let o=i&&Array.isArray(i)&&i.length&&null!=i&&i.find((e=>e.locale===t.selectedLanguageCode))?t.selectedLanguageCode:void 0;const[a,s]=(0,n.useState)(o||!!(i&&Array.isArray(i)&&i.length)&&i[0].locale||ar.locale);return(0,n.useEffect)((()=>{r&&r((e=>({...e,selectedLanguageCode:a})))}),[a]),(0,n.useEffect)((()=>{let e=i&&Array.isArray(i)&&i.length&&null!=i&&i.find((e=>e.locale===t.selectedLanguageCode))?t.selectedLanguageCode:void 0;s(e||!!(i&&Array.isArray(i)&&i.length)&&i[0].locale||ar.locale)}),[i]),n.createElement(sr.Provider,{value:{languageCode:a,setLanguageCode:e=>{s(e)}}},e.children)},ur=he(sr);function lr(e){const t=ur((e=>e.languageCode)),n=function(e=ar.locale){const t=ke((e=>null==e?void 0:e.i18n));if(!e||!t||t&&!Array.isArray(t)||t&&Array.isArray(t)&&!t.length)return ar.data;{let n=t.find((t=>t.locale===e));return n&&n.data?{...ar.data,...n.data}:ar.data}}(t);return t=>{let r=n?n[e]:void 0;return r?"function"==typeof r?r(t):"string"==typeof r?r:"":""}}var dr=__webpack_require__(2813),hr=__webpack_require__.n(dr);function pr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class fr{constructor(){pr(this,"appId",void 0),pr(this,"client",void 0),pr(this,"channelMap",new Map([])),pr(this,"remoteInvititations",new Map([])),pr(this,"localInvititations",new Map([])),pr(this,"channelEventsMap",new Map([["channelMessageReceived",()=>null],["channelMemberJoined",()=>null],["channelMemberLeft",()=>null],["ChannelAttributesUpdated",()=>null]])),pr(this,"clientEventsMap",new Map([["connectionStateChanged",()=>null],["messageReceived",()=>null],["remoteInvitationReceived",()=>null],["tokenExpired",()=>null]])),pr(this,"localInvitationEventsMap",new Map([["localInvitationAccepted",()=>null],["localInvitationCanceled",()=>null],["localInvitationFailure",()=>null],["localInvitationReceivedByPeer",()=>null],["localInvitationRefused",()=>null]])),pr(this,"remoteInvitationEventsMap",new Map([["remoteInvitationAccepted",()=>null],["remoteInvitationCanceled",()=>null],["remoteInvitationFailure",()=>null],["remoteInvitationRefused",()=>null]])),this.appId="",console.log("Using RTM Bridge")}on(e,t){"channelMessageReceived"===e||"channelMemberJoined"===e||"channelMemberLeft"===e||"ChannelAttributesUpdated"===e?this.channelEventsMap.set(e,t):"connectionStateChanged"===e||"messageReceived"===e||"remoteInvitationReceived"===e||"tokenExpired"===e?this.clientEventsMap.set(e,t):"localInvitationAccepted"===e||"localInvitationCanceled"===e||"localInvitationFailure"===e||"localInvitationReceivedByPeer"===e||"localInvitationRefused"===e?this.localInvitationEventsMap.set(e,t):"remoteInvitationAccepted"!==e&&"remoteInvitationCanceled"!==e&&"remoteInvitationFailure"!==e&&"remoteInvitationRefused"!==e||this.remoteInvitationEventsMap.set(e,t)}createClient(e){this.appId=e,this.client=hr().createInstance(this.appId),this.client.on("ConnectionStateChanged",((e,t)=>{this.clientEventsMap.get("connectionStateChanged")({state:e,reason:t})})),this.client.on("MessageFromPeer",((e,t,n)=>{this.clientEventsMap.get("messageReceived")({text:e.text,ts:n.serverReceivedTs,offline:n.isOfflineMessage,peerId:t})})),this.client.on("RemoteInvitationReceived",(e=>{this.remoteInvititations.set(e.callerId,e),this.clientEventsMap.get("remoteInvitationReceived")({callerId:e.callerId,content:e.content,state:e.state,channelId:e.channelId,response:e.response}),e.on("RemoteInvitationAccepted",(()=>{this.remoteInvitationEventsMap.get("RemoteInvitationAccepted")({callerId:e.callerId,content:e.content,state:e.state,channelId:e.channelId,response:e.response})})),e.on("RemoteInvitationCanceled",(t=>{this.remoteInvitationEventsMap.get("remoteInvitationCanceled")({callerId:e.callerId,content:t,state:e.state,channelId:e.channelId,response:e.response})})),e.on("RemoteInvitationFailure",(t=>{this.remoteInvitationEventsMap.get("remoteInvitationFailure")({callerId:e.callerId,content:e.content,state:e.state,channelId:e.channelId,response:e.response,code:-1})})),e.on("RemoteInvitationRefused",(()=>{this.remoteInvitationEventsMap.get("remoteInvitationRefused")({callerId:e.callerId,content:e.content,state:e.state,channelId:e.channelId,response:e.response})}))})),this.client.on("TokenExpired",(()=>{this.clientEventsMap.get("tokenExpired")({})}))}async login(e){return this.client.login(e)}async logout(){return this.client.logout()}async joinChannel(e){return this.channelMap.set(e,this.client.createChannel(e)),this.channelMap.get(e).on("ChannelMessage",((t,n,r)=>{let i=t.text,o=r.serverReceivedTs;this.channelEventsMap.get("channelMessageReceived")({uid:n,channelId:e,text:i,ts:o})})),this.channelMap.get(e).on("MemberJoined",(t=>{this.channelEventsMap.get("channelMemberJoined")({uid:t,channelId:e})})),this.channelMap.get(e).on("MemberLeft",(e=>{console.log("Member Left",this.channelEventsMap),this.channelEventsMap.get("channelMemberLeft")({uid:e})})),this.channelMap.get(e).on("AttributesUpdated",(e=>{})),this.channelMap.get(e).join()}async leaveChannel(e){if(this.channelMap.get(e))return this.channelMap.get(e).leave();Promise.reject("Wrong channel")}async sendMessageByChannelId(e,t){if(this.channelMap.get(e))return this.channelMap.get(e).sendMessage({text:t});console.log(this.channelMap,e),Promise.reject("Wrong channel")}destroyClient(){console.log("Destroy called"),this.channelEventsMap.forEach(((e,t)=>{this.client.off(t,e)})),this.channelEventsMap.clear(),this.channelMap.clear(),this.clientEventsMap.clear(),this.remoteInvitationEventsMap.clear(),this.localInvitationEventsMap.clear()}async getChannelMembersBychannelId(e){if(this.channelMap.get(e)){let t=[],n=this.channelMap.get(e);return await n.getMembers().then((n=>{n.map((n=>{t.push({channelId:e,uid:n})}))})),{members:t}}Promise.reject("Wrong channel")}async queryPeersOnlineStatus(e){let t=[];return await this.client.queryPeersOnlineStatus(e).then((e=>{Object.entries(e).forEach((e=>{t.push({online:e[1],uid:e[0]})}))})),{items:t}}async renewToken(e){return this.client.renewToken(e)}async getUserAttributesByUid(e){let t={};return await this.client.getUserAttributes(e).then((n=>{t={attributes:n,uid:e}})).catch((e=>{Promise.reject(e)})),t}async removeAllLocalUserAttributes(){return this.client.clearLocalUserAttributes()}async removeLocalUserAttributesByKeys(e){return this.client.deleteLocalUserAttributesByKeys(e)}async replaceLocalUserAttributes(e){let t={};return e.map((e=>{let n=Object.values(e)[0],r=Object.values(e)[1];t[n]=r})),this.client.setLocalUserAttributes({...t})}async setLocalUserAttributes(e){let t={};return e.map((e=>{let n=Object.values(e)[0],r=Object.values(e)[1];t[n]=r})),this.client.setLocalUserAttributes({...t})}async addOrUpdateLocalUserAttributes(e){let t={};return e.map((e=>{let n=Object.values(e)[0],r=Object.values(e)[1];t[n]=r})),this.client.addOrUpdateLocalUserAttributes({...t})}addOrUpdateChannelAttributes(e,t,n){return Promise.resolve()}async sendLocalInvitation(e){let t=this.client.createLocalInvitation(e.uid);return this.localInvititations.set(e.uid,t),t.content=e.content,t.on("LocalInvitationAccepted",(e=>{this.localInvitationEventsMap.get("localInvitationAccepted")({calleeId:t.calleeId,content:t.content,state:t.state,channelId:t.channelId,response:e})})),t.on("LocalInvitationCanceled",(()=>{this.localInvitationEventsMap.get("localInvitationCanceled")({calleeId:t.calleeId,content:t.content,state:t.state,channelId:t.channelId,response:t.response})})),t.on("LocalInvitationFailure",(e=>{this.localInvitationEventsMap.get("localInvitationFailure")({calleeId:t.calleeId,content:t.content,state:t.state,channelId:t.channelId,response:t.response,code:-1})})),t.on("LocalInvitationReceivedByPeer",(()=>{this.localInvitationEventsMap.get("localInvitationReceivedByPeer")({calleeId:t.calleeId,content:t.content,state:t.state,channelId:t.channelId,response:t.response})})),t.on("LocalInvitationRefused",(e=>{this.localInvitationEventsMap.get("localInvitationRefused")({calleeId:t.calleeId,content:t.content,state:t.state,channelId:t.channelId,response:e})})),t.send()}async sendMessageToPeer(e){return this.client.sendMessageToPeer({text:e.text},e.peerId)}async acceptRemoteInvitation(e){return this.remoteInvititations.get(e.uid).accept()}async refuseRemoteInvitation(e){return this.remoteInvititations.get(e.uid).refuse()}async cancelLocalInvitation(e){return console.log(this.localInvititations.get(e.uid)),this.localInvititations.get(e.uid).cancel()}getSdkVersion(e){e(dr.VERSION)}addListener(e,t){return"ChannelAttributesUpdated"===e&&this.channelEventsMap.set(e,t),{remove:()=>{console.log("Use destroy method to remove all the event listeners from the RtcEngine instead.")}}}}function Ar(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class gr{static getInstance(){return gr._instance?gr._instance:new gr}async createClientInstance(){await this.engine.createClient("f9c50175f866402f9dd1a249fb16d917")}async destroyClientInstance(){await this.engine.logout(),await this.engine.destroyClient()}constructor(){return Ar(this,"engine",void 0),Ar(this,"localUID",""),Ar(this,"channelId",""),gr._instance||(gr._instance=this,this.engine=new fr,this.localUID="",this.channelId="",this.createClientInstance()),gr._instance}setLocalUID(e){this.localUID=e}setChannelId(e){this.channelId=e}setLoginInfo(e,t){this.localUID=e,this.channelId=t}get localUid(){return this.localUID}get channelUid(){return this.channelId}destroy(){try{this.destroyClientInstance(),gr._instance=null,this.localUID="",this.channelId=""}catch(e){console.log("Error destroying instance error: ",e)}}}Ar(gr,"_instance",null);const mr=gr,vr=function(){let e={};const t=function(e){return"function"==typeof e||!(!e||"object"!=typeof e)&&t(e.listener)},n=function(t,n){const r=function(t,n){let r;return e.hasOwnProperty(n)?(e[n].get(t)||e[n].set(t,[]),r=e[n].get(t)):(e[n]=new Map,e[n].set(t,[]),r=e[n].get(t)),r}(t,n);let i;return r instanceof Array&&(i={},i[t]=r),i||r},r=function(e,t){for(var n=e.length;n--;)if(e[n].listener.toString()===t.toString())return n;return-1};return{getEvents:t=>e[t]||(e[t]=new Map),addListener(e,i,o){if(!t(i))throw new Error("Listener must be a function");const a=n(e,o),s="object"==typeof i;for(let e in a)a.hasOwnProperty(e)&&-1===r(a[e],i)&&a[e].push(s?i:{listener:i,once:!1});return this},removeListener(e,t,i){let o=n(e,i);for(let e in o)if(o.hasOwnProperty(e)){let n=r(o[e],t);-1!==n&&o[e].splice(n,1)}return this},removeAllListeners(e,t){let n=typeof e,r=this.getEvents(t);return"string"===n&&r.has(e)&&r.delete(e),this},removeAll(t){return e[t]=new Map,this},emitEvent(e,t,r){let i,o,a=n(e,t);for(let n in a)if(a.hasOwnProperty(n)){i=a[n].slice(0);for(let n=0;n<i.length;n++){o=i[n],!0===o.once&&this.removeListener(e,t,o.listener);const r=[].slice.call(arguments,2);o.listener.apply(this,r||[])}}return this},clear(){e={}}}}(),yr=vr,Er=function(){let e=[];return{enqueue(t){e.push(t)},dequeue(){if(0!=e.length)return e.pop()},isEmpty:()=>0===e.length,size:()=>e.length,clear(){e=[]}}}(),br=Er,_r="RECORDING_STARTED",Cr="RECORDING_STOPPED",Ir="RECORDING_STOP_REQUEST",Sr="SCREENSHARE_STARTED",wr="SCREENSHARE_STOPPED",Rr="recording",Tr="raised",Or="role",kr="PUBLIC_CHAT_MESSAGE",Nr="PRIVATE_CHAT_MESSAGE",Dr="screenshare",Pr="name",xr="VIDEO_MEETING_HOST",Lr="VIDEO_MEETING_ATTENDEE";let Mr,Br;!function(e){e.core="core",e.fpe="fpe"}(Mr||(Mr={})),function(e){e[e.LEVEL1=1]="LEVEL1",e[e.LEVEL2=2]="LEVEL2",e[e.LEVEL3=3]="LEVEL3"}(Br||(Br={}));const Fr=e=>{if("string"!=typeof e)return!1;try{const t=JSON.parse(e),n=Object.prototype.toString.call(t);return"[object Object]"===n||"[object Array]"===n}catch(e){return!1}},Ur=e=>{try{return[null,JSON.parse(e)]}catch(e){return[e]}},jr=e=>{let t=e;return t<0&&(t=e+parseInt("0xffffffff")+1),t},Vr=()=>(new Date).getTime(),Qr=e=>{if(!e)return Vr();try{const t=new Date(e).getTime();return isNaN(t)?Vr():t}catch(e){return Vr()}},Gr=e=>{let t=new Int32Array(1);return t[0]=parseInt(e),t[0]};function qr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Hr=class{constructor(e){qr(this,"source",Mr.core),qr(this,"_persist",(async(e,t)=>{const n=mr.getInstance().engine;try{const r={key:e,value:t};await n.addOrUpdateLocalUserAttributes([r])}catch(e){console.log("CUSTOM_EVENT_API error occured while updating the value ",e)}})),qr(this,"_validateEvt",(e=>{if("string"!=typeof e)throw Error("CUSTOM_EVENT_API Event name cannot be of type "+typeof e);if(""==e.trim())throw Error("CUSTOM_EVENT_API Name or function cannot be empty");return!0})),qr(this,"_validateListener",(e=>{if("function"!=typeof e)throw Error("CUSTOM_EVENT_API Function cannot be of type "+typeof e);return!0})),qr(this,"_send",(async(e,t)=>{const n="string"==typeof t?parseInt(t):t,r=mr.getInstance().engine,i=JSON.stringify(e);if(void 0===n||"number"==typeof n&&n<=0||Array.isArray(n)&&0===(null==n?void 0:n.length)){console.log("CUSTOM_EVENT_API: case 1 executed");try{const e=mr.getInstance().channelUid;await r.sendMessageByChannelId(e,i)}catch(e){throw console.log("CUSTOM_EVENT_API: send event case 1 error : ",e),e}}if("number"==typeof n&&0!==n){console.log("CUSTOM_EVENT_API: case 2 executed",n);const e=jr(n);try{await r.sendMessageToPeer({peerId:`${e}`,offline:!1,text:i})}catch(e){throw console.log("CUSTOM_EVENT_API: send event case 2 error : ",e),e}}if("object"==typeof n&&Array.isArray(n)){console.log("CUSTOM_EVENT_API: case 3 executed",n);try{for(const e of n){const t=jr(e);await r.sendMessageToPeer({peerId:`${t}`,offline:!1,text:i})}}catch(e){throw console.log("CUSTOM_EVENT_API: send event case 3 error : ",e),e}}})),qr(this,"on",((e,t)=>{try{if(!this._validateEvt(e)||!this._validateListener(t))return;return yr.addListener(e,t,this.source),console.log("CUSTOM_EVENT_API event listener registered",e),()=>{yr.removeListener(e,t,this.source)}}catch(e){console.log("CUSTOM_EVENT_API on error: ",e)}})),qr(this,"off",((e,t)=>{try{t?this._validateListener(t)&&this._validateEvt(e)&&yr.removeListener(e,t,this.source):e?this._validateEvt(e)&&yr.removeAllListeners(e,this.source):yr.removeAll(this.source)}catch(e){console.log("CUSTOM_EVENT_API off error: ",e)}})),qr(this,"send",(async(e="",t="",n=Br.LEVEL1,r=-1)=>{if(!this._validateEvt(e))return;const i=JSON.stringify({payload:t,persistLevel:n,source:this.source}),o={evt:e,value:i};if(n===Br.LEVEL2||n===Br.LEVEL3)try{await this._persist(e,i)}catch(e){console.log("CUSTOM_EVENT_API persist error: ",e)}try{await this._send(o,r)}catch(e){console.log("CUSTOM_EVENT_API: sending failed. ",e)}})),e&&(this.source=e)}},zr=new Hr;let Wr,Kr;!function(e){e.Control="0",e.Normal="1"}(Wr||(Wr={})),function(e){e.muteVideo="1",e.muteAudio="2",e.muteSingleVideo="3",e.muteSingleAudio="4",e.kickUser="5",e.requestVideo="6",e.requestAudio="7",e.kickScreenshare="9"}(Kr||(Kr={}));const Yr=(0,n.createContext)(null),Jr=n.createContext({displayName:"",setDisplayName:()=>{}}),Zr=e=>{const t=Qn(),r=(()=>{const{rtcProps:e}=(0,n.useContext)(ln);return(null==e?void 0:e.screenShareUid)||0})(),{dispatch:i}=ka(),{store:o,setStore:a}=(0,n.useContext)(ze),{hasUserJoinedRTM:s}=(0,n.useContext)(Yr),[c,u]=(0,n.useState)(null!=o&&o.displayName?o.displayName:""),l="User",d=lr("pstnUserLabel")(),h=e=>`${e}'s screenshare`;(0,n.useEffect)((()=>(zr.on(Pr,(e=>{const t=JSON.parse(null==e?void 0:e.payload);t&&(null!=t&&t.uid&&p(null==t?void 0:t.uid,{name:"1"===String(null==t?void 0:t.uid)[0]?d:(null==t?void 0:t.name)||l}),null!=t&&t.screenShareUid&&p(null==t?void 0:t.screenShareUid,{name:h((null==t?void 0:t.name)||l)}))})),()=>{zr.off(Pr)})),[]),(0,n.useEffect)((()=>{a((e=>({...e,displayName:c}))),p(t,{name:c||l}),p(r,{name:h(c||l)}),s&&zr.send(Pr,JSON.stringify({uid:t,screenShareUid:r,name:c||l}),Br.LEVEL2)}),[c,s]);const p=(e,t)=>{i({type:"UpdateRenderList",value:[e,t]})};return n.createElement(Jr.Provider,{value:{setDisplayName:u,displayName:c}},e.children)},Xr=he(Jr),$r=function(){const{displayName:e}=Xr();return e},ei=le`
  query JoinChannel($passphrase: String!) {
    joinChannel(passphrase: $passphrase) {
      channel
      title
      isHost
      secret
      mainUser {
        rtc
        rtm
        uid
      }
      screenShare {
        rtc
        rtm
        uid
      }
    }
    getUser {
      name
      email
    }
  }
`,ti=le`
  query JoinChannel($passphrase: String!) {
    joinChannel(passphrase: $passphrase) {
      channel
      title
      isHost
      secret
      mainUser {
        rtc
        rtm
        uid
      }
      screenShare {
        rtc
        rtm
        uid
      }
    }
  }
`;function ni(){const{store:e}=(0,n.useContext)(ze),{setMeetingInfo:t}=Pe(),{client:r}=(0,n.useContext)(Kt);return $r(),async n=>{t((e=>({...e,isJoinDataFetched:!1})));try{const v=await r.query({query:null===e.token?ti:ei,variables:{passphrase:n}});if(v.error)throw v.error;if(v&&v.data){var i,o,a,s,c,u,l,d,h,p,f,A,g,m;let e=v.data,n={};return null!=e&&null!==(i=e.joinChannel)&&void 0!==i&&i.channel&&(n.channel=e.joinChannel.channel),null!=e&&null!==(o=e.joinChannel)&&void 0!==o&&null!==(a=o.mainUser)&&void 0!==a&&a.uid&&(n.uid=e.joinChannel.mainUser.uid),null!=e&&null!==(s=e.joinChannel)&&void 0!==s&&null!==(c=s.mainUser)&&void 0!==c&&c.rtc&&(n.token=e.joinChannel.mainUser.rtc),null!=e&&null!==(u=e.joinChannel)&&void 0!==u&&null!==(l=u.mainUser)&&void 0!==l&&l.rtm&&(n.rtmToken=e.joinChannel.mainUser.rtm),null!=e&&null!==(d=e.joinChannel)&&void 0!==d&&d.secret&&(n.encryptionSecret=e.joinChannel.secret),null!=e&&null!==(h=e.joinChannel)&&void 0!==h&&null!==(p=h.screenShare)&&void 0!==p&&p.uid&&(n.screenShareUid=e.joinChannel.screenShare.uid),null!=e&&null!==(f=e.joinChannel)&&void 0!==f&&null!==(A=f.screenShare)&&void 0!==A&&A.rtc&&(n.screenShareToken=e.joinChannel.screenShare.rtc),null!=e&&null!==(g=e.joinChannel)&&void 0!==g&&g.isHost&&(n.isHost=e.joinChannel.isHost),null!=e&&null!==(m=e.joinChannel)&&void 0!==m&&m.title&&(n.meetingTitle=e.joinChannel.title),console.log("!!!!!Meetinginfo",{meetingInfo:n,response:v.data}),t((e=>{let t={...e.data,...n};return{...e,isJoinDataFetched:!0,data:t}})),n}throw new Error("An error occurred in parsing the channel data.")}catch(e){throw e}}}var ri=__webpack_require__(1682);const ii=(e,t=25)=>e?(null==e?void 0:e.substring(0,t))+((null==e?void 0:e.length)>t?"...":""):"",oi=e=>!(!e||!r.isValidElementType(e)),ai=()=>"web"===_n.Z.OS,si=()=>"web"===_n.Z.OS,ci=()=>!1,ui=()=>!1,li=()=>!1,di=()=>{var e,t,n;let r=!1;var i;return i=(null===(e=navigator)||void 0===e?void 0:e.userAgent)||(null===(t=navigator)||void 0===t?void 0:t.vendor)||(null===(n=window)||void 0===n?void 0:n.opera),(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(i)||ci()||ui())&&(r=!0),r},hi=e=>!!(e&&Array.isArray(e)&&e.length),pi=e=>{const{px:t,py:n,localWidth:r,localHeight:i,globalWidth:o,globalHeight:a,extra:{top:s=0,bottom:c=0,left:u=0,right:l=0}={},popupWidth:d=220}=e;if(t>o/2){const e=o-t+d;let r=0;return e>o&&(r=e-o+10),n>a/2?{bottom:a-n+c,right:o-t-r+l}:{top:n+i+s,right:o-t-r+l}}{const e=t+r+d;let l=0;return e>o&&(l=e-o+10),n>a/2?{bottom:a-n+c,left:t+r-l+u}:{top:n+i+s+s,left:t+r-l+u}}},fi=576,Ai=768,gi=1330,mi=()=>{const{width:e,height:t}=(0,ri.Z)();return(n="default")=>"default"===n?e>t:"toolbar"===n?e>gi:"popup"===n?e>Ai:e>=gi},vi=()=>{const{width:e}=(0,ri.Z)();return(t=576)=>e<t},yi=()=>{const{width:e}=(0,ri.Z)();return t=>e<360?t/3:e<Ai?t/2:t};var Ei=__webpack_require__(7878);let bi;!function(e){e[e.audio=0]="audio",e[e.video=1]="video"}(bi||(bi={}));const _i=function(){const{RtcEngine:e,dispatch:t}=ka(),r=Oi(),i=(0,n.useRef)(Ei.Z.currentState),[o,a]=(0,n.useState)(i.current),s=(0,n.useRef)(r.video);return(0,n.useEffect)((()=>{if(!di())return;const e=Ei.Z.addEventListener("change",(e=>{i.current=e,a(i.current)}));return()=>{null==e||e.remove()}}),[]),(0,n.useEffect)((()=>{"background"===o&&(s.current=r.video,s.current&&(ai()?e.muteLocalVideoStream(!0):e.enableLocalVideo(!1),t({type:"LocalMuteVideo",value:[0]}))),"active"===o&&s.current&&(ai()?e.muteLocalVideoStream(!1):e.enableLocalVideo(!0),t({type:"LocalMuteVideo",value:[1]}))}),[o]),async n=>{switch(n){case bi.audio:let n=r.audio;if(n===tn.enabled||n===tn.disabled){t({type:"LocalMuteAudio",value:[n===tn.enabled?tn.disabling:tn.enabling]});try{await e.muteLocalAudioStream(n===tn.enabled),t({type:"LocalMuteAudio",value:[n===tn.enabled?tn.disabled:tn.enabled]})}catch(e){console.error(e),t({type:"LocalMuteAudio",value:[n]})}}break;case bi.video:const i=r.video;if(i===tn.enabled||i===tn.disabled){t({type:"LocalMuteVideo",value:[i===tn.enabled?tn.disabling:tn.enabling]});try{ai()?await e.muteLocalVideoStream(i===tn.enabled):await e.enableLocalVideo(i!==tn.enabled),t({type:"LocalMuteVideo",value:[i===tn.enabled?tn.disabled:tn.enabled]})}catch(e){console.log("error while dispatching"),t({type:"LocalMuteVideo",value:[i]})}}}}},Ci=function(){const{renderList:e}=Na();return t=>!e[t]&&"1"===String(t)[0]},Ii=()=>{const{data:{isHost:e}}=be(),t=Ci();return n=>{e&&n?t(n)||zr.send(Kr.kickUser,"",Br.LEVEL1,n):console.error("A host can only remove the audience from the call.")}},Si=le`
  mutation mutePSTN($uid: Int!, $passphrase: String!, $mute: Boolean!) {
    mutePSTN(uid: $uid, passphrase: $passphrase, mute: $mute) {
      uid
      mute
    }
  }
`,wi=()=>{const[e,{data:t,loading:n,error:r}]=(0,h.useMutation)(Si),{data:{isHost:i,roomId:o}}=be(),a=Ci();return async s=>{if(i){if(a(s)?await e({variables:{uid:s,passphrase:null==o?void 0:o.host,mute:1}}):console.error("UID does not belong to the PSTN user."),!n&&r)throw r;return t}console.error("A host can only mute audience audio or video.")}};let Ri;!function(e){e[e.audio=0]="audio",e[e.video=1]="video"}(Ri||(Ri={}));const Ti=function(){const{data:{isHost:e}}=be(),t=Ci(),n=wi();return async(r,i)=>{if(e)switch(r){case Ri.audio:if(i)if(t(i))try{n(i)}catch(e){console.error("An error occurred while muting the PSTN user.")}else zr.send(Kr.muteAudio,"",Br.LEVEL1,i);else zr.send(Kr.muteAudio,"",Br.LEVEL1);break;case Ri.video:i?t(i)||zr.send(Kr.muteVideo,"",Br.LEVEL1,i):zr.send(Kr.muteVideo,"",Br.LEVEL1)}else console.error("A host can only mute audience audio or video.")}},Oi=()=>{const e=Qn(),{renderList:t}=Na();return t[e]},ki=n.createContext({currentLayout:"",setLayout:()=>{}}),Ni=e=>n.createElement(ki.Provider,{value:{...e.value}},e.children),Di=he(ki);function Pi(e,t){return Pi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Pi(e,t)}function xi(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Pi(e,t)}function Li(){return Li=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Li.apply(this,arguments)}function Mi(e){return"/"===e.charAt(0)}function Bi(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}function Fi(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}const Ui=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"==typeof t||"object"==typeof n){var r=Fi(t),i=Fi(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1};function ji(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function Vi(e,t,n,r){var i;"string"==typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=Li({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],o=e&&Mi(e),a=t&&Mi(t),s=o||a;if(e&&Mi(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var c=i[i.length-1];n="."===c||".."===c||""===c}else n=!1;for(var u=0,l=i.length;l>=0;l--){var d=i[l];"."===d?Bi(i,l):".."===d?(Bi(i,l),u++):u&&(Bi(i,l),u--)}if(!s)for(;u--;u)i.unshift("..");!s||""===i[0]||i[0]&&Mi(i[0])||i.unshift("");var h=i.join("/");return n&&"/"!==h.substr(-1)&&(h+="/"),h}(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function Qi(e,t,n){return Math.min(Math.max(e,t),n)}function Gi(e){void 0===e&&(e={});var t,n,r=e,i=r.getUserConfirmation,o=r.initialEntries,a=void 0===o?["/"]:o,s=r.initialIndex,c=void 0===s?0:s,u=r.keyLength,l=void 0===u?6:u,d=(t=null,n=[],{setPrompt:function(e){return t=e,function(){t===e&&(t=null)}},confirmTransitionTo:function(e,n,r,i){if(null!=t){var o="function"==typeof t?t(e,n):t;"string"==typeof o?"function"==typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var t=!0;function r(){t&&e.apply(void 0,arguments)}return n.push(r),function(){t=!1,n=n.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.forEach((function(e){return e.apply(void 0,t)}))}});function h(e){Li(v,e),v.length=v.entries.length,d.notifyListeners(v.location,v.action)}function p(){return Math.random().toString(36).substr(2,l)}var f=Qi(c,0,a.length-1),A=a.map((function(e){return Vi(e,void 0,"string"==typeof e?p():e.key||p())})),g=ji;function m(e){var t=Qi(v.index+e,0,v.entries.length-1),n=v.entries[t];d.confirmTransitionTo(n,"POP",i,(function(e){e?h({action:"POP",location:n,index:t}):h()}))}var v={length:A.length,action:"POP",location:A[f],index:f,entries:A,createHref:g,push:function(e,t){var n="PUSH",r=Vi(e,t,p(),v.location);d.confirmTransitionTo(r,n,i,(function(e){if(e){var t=v.index+1,i=v.entries.slice(0);i.length>t?i.splice(t,i.length-t,r):i.push(r),h({action:n,location:r,index:t,entries:i})}}))},replace:function(e,t){var n="REPLACE",r=Vi(e,t,p(),v.location);d.confirmTransitionTo(r,n,i,(function(e){e&&(v.entries[v.index]=r,h({action:n,location:r}))}))},go:m,goBack:function(){m(-1)},goForward:function(){m(1)},canGo:function(e){var t=v.index+e;return t>=0&&t<v.entries.length},block:function(e){return void 0===e&&(e=!1),d.setPrompt(e)},listen:function(e){return d.appendListener(e)}};return v}"undefined"==typeof window||!window.document||window.document.createElement;var qi=__webpack_require__(5697),Hi=__webpack_require__.n(qi),zi=1073741823,Wi="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:{};function Ki(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var Yi=n.createContext||function(e,t){var r,i,o,a="__create-react-context-"+((Wi[o="__global_unique_id__"]=(Wi[o]||0)+1)+"__"),s=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=Ki(t.props.value),t}xi(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(r,i)?(n="function"==typeof t?t(r,i):zi,0!=(n|=0)&&this.emitter.set(e.value,n)):n=0}},r.render=function(){return this.props.children},n}(n.Component);s.childContextTypes=((r={})[a]=Hi().object.isRequired,r);var c=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!=((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}xi(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?zi:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?zi:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():e},r.render=function(){return function(e){return Array.isArray(e)?e[0]:e}(this.props.children)(this.state.value)},n}(n.Component);return c.contextTypes=((i={})[a]=Hi().object,i),{Provider:s,Consumer:c}};const Ji=Yi;function Zi(e,t){if(!e)throw new Error("Invariant failed")}var Xi=__webpack_require__(4779),$i=__webpack_require__.n(Xi);function eo(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}__webpack_require__(663),__webpack_require__(8679);var to=function(e){var t=Ji();return t.displayName=e,t},no=to("Router-History"),ro=function(e){var t=Ji();return t.displayName=e,t},io=ro("Router"),oo=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}xi(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=t.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&this.unlisten()},r.render=function(){return n.createElement(io.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},n.createElement(no.Provider,{children:this.props.children||null,value:this.props.history}))},t}(n.Component),ao=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Gi(t.props),t}return xi(t,e),t.prototype.render=function(){return n.createElement(oo,{history:this.history,children:this.props.children})},t}(n.Component),so=function(e){function t(){return e.apply(this,arguments)||this}xi(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(n.Component);function co(e){var t=e.message,r=e.when,i=void 0===r||r;return n.createElement(io.Consumer,null,(function(e){if(e||Zi(!1),!i||e.staticContext)return null;var r=e.history.block;return n.createElement(so,{onMount:function(e){e.release=r(t)},onUpdate:function(e,n){n.message!==t&&(e.release(),e.release=r(t))},onUnmount:function(e){e.release()},message:t})}))}var uo={},lo=0;function ho(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(uo[e])return uo[e];var t=$i().compile(e);return lo<1e4&&(uo[e]=t,lo++),t}(e)(t,{pretty:!0})}function po(e){var t=e.computedMatch,r=e.to,i=e.push,o=void 0!==i&&i;return n.createElement(io.Consumer,null,(function(e){e||Zi(!1);var i=e.history,a=e.staticContext,s=o?i.push:i.replace,c=Vi(t?"string"==typeof r?ho(r,t.params):Li({},r,{pathname:ho(r.pathname,t.params)}):r);return a?(s(c),null):n.createElement(so,{onMount:function(){s(c)},onUpdate:function(e,t){var n,r,i=Vi(t.to);n=i,r=Li({},c,{key:i.key}),n.pathname===r.pathname&&n.search===r.search&&n.hash===r.hash&&n.key===r.key&&Ui(n.state,r.state)||s(c)},to:r})}))}var fo={},Ao=0;function go(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,c=n.sensitive,u=void 0!==c&&c;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=fo[n]||(fo[n]={});if(r[e])return r[e];var i=[],o={regexp:$i()(e,i,t),keys:i};return Ao<1e4&&(r[e]=o,Ao++),o}(n,{end:o,strict:s,sensitive:u}),i=r.regexp,a=r.keys,c=i.exec(e);if(!c)return null;var l=c[0],d=c.slice(1),h=e===l;return o&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:a.reduce((function(e,t,n){return e[t.name]=d[n],e}),{})}}),null)}var mo=function(e){function t(){return e.apply(this,arguments)||this}return xi(t,e),t.prototype.render=function(){var e=this;return n.createElement(io.Consumer,null,(function(t){t||Zi(!1);var r=e.props.location||t.location,i=Li({},t,{location:r,match:e.props.computedMatch?e.props.computedMatch:e.props.path?go(r.pathname,e.props):t.match}),o=e.props,a=o.children,s=o.component,c=o.render;return Array.isArray(a)&&0===a.length&&(a=null),n.createElement(io.Provider,{value:i},i.match?a?"function"==typeof a?a(i):a:s?n.createElement(s,i):c?c(i):null:"function"==typeof a?a(i):null)}))},t}(n.Component);n.Component;var vo=function(e){function t(){return e.apply(this,arguments)||this}return xi(t,e),t.prototype.render=function(){var e=this;return n.createElement(io.Consumer,null,(function(t){t||Zi(!1);var r,i,o=e.props.location||t.location;return n.Children.forEach(e.props.children,(function(e){if(null==i&&n.isValidElement(e)){r=e;var a=e.props.path||e.props.from;i=a?go(o.pathname,Li({},e.props,{path:a})):t.match}})),i?n.cloneElement(r,{location:o,computedMatch:i}):null}))},t}(n.Component),yo=n.useContext;function Eo(){return yo(no)}function bo(){var e=yo(io).match;return e?e.params:{}}var _o=__webpack_require__(1047),Co=__webpack_require__(3795),Io=__webpack_require__(3668);const So=Hi().oneOfType([Hi().object,Hi().number]),wo="#FFF",Ro="#FF414D",To="#69C779",Oo="#D8D8D8",ko="#87CEFA",No="#040405",Do=On.Z.create({base:{flexDirection:"row",height:105,borderRadius:6,backgroundColor:wo,shadowOffset:{width:0,height:0},shadowOpacity:.1,shadowRadius:6,elevation:2},borderTop:{borderTopWidth:5,borderTopColor:Oo},contentContainer:{paddingLeft:20,flex:1,flexDirection:"row",justifyContent:"flex-start"},text1:{fontSize:15,fontFamily:"Source Sans Pro",width:"100%",fontWeight:"600",marginRight:2},text2:{fontSize:15,fontFamily:"Source Sans Pro",width:"100%",fontWeight:"400"}});function Po({leadingIcon:e,trailingIcon:t,text1:r,text2:i,onPress:o,style:a,contentContainerStyle:s,text1Style:c,text2Style:u,activeOpacity:l,text1NumberOfLines:d,text2NumberOfLines:h,primaryBtn:p,secondaryBtn:f}){return n.createElement(Zn.Z,{testID:"rootView",style:[Do.base,Do.borderTop,a],onPress:o,activeOpacity:o?l:1},n.createElement(qn.Z,{testID:"contentContainer",style:[Do.contentContainer,s]},(r||(null==r?void 0:r.length)>0)&&n.createElement(qn.Z,{style:{flex:1,flexDirection:"row",justifyContent:"space-between"}},n.createElement(qn.Z,{style:{flexDirection:"row",flex:1}},e||n.createElement(n.Fragment,null),n.createElement($n.Z,{testID:"text1",style:[Do.text1,c],numberOfLines:d},r)),n.createElement(qn.Z,{style:{justifyContent:"flex-start",alignSelf:"center"}},t||n.createElement(n.Fragment,null))),(i||(null==i?void 0:i.length)>0)&&n.createElement(qn.Z,null,n.createElement($n.Z,{testID:"text2",style:[Do.text2,u],numberOfLines:h},i)),p||f?n.createElement(qn.Z,{style:{flex:1,flexDirection:"row",paddingTop:32,paddingBottom:24}},p||n.createElement(n.Fragment,null),f||n.createElement(n.Fragment,null)):n.createElement(n.Fragment,null)))}Po.HEIGHT=105,Po.propTypes={leadingIcon:Hi().node,trailingIcon:Hi().node,text1:Hi().string,text2:Hi().string,onPress:Hi().func,style:So,contentContainerStyle:So,text1Style:So,text2Style:So,activeOpacity:Hi().number,text1NumberOfLines:Hi().number,text2NumberOfLines:Hi().number},Po.defaultProps={leadingIcon:null,trailingIcon:null,text1:void 0,text2:void 0,onPress:void 0,style:void 0,contentContainerStyle:void 0,text1Style:void 0,text2Style:void 0,activeOpacity:.8,text1NumberOfLines:1,text2NumberOfLines:2};const xo=Po;function Lo(){return Lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lo.apply(this,arguments)}function Mo(e){return n.createElement(xo,Lo({},e,{style:{borderTopColor:To},text1Style:{color:No},text2Style:{color:No}}))}Mo.propTypes=xo.propTypes;const Bo=Mo;function Fo(){return Fo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fo.apply(this,arguments)}function Uo(e){return n.createElement(xo,Fo({},e,{style:{borderTopColor:Ro},text1Style:{color:Ro},text2Style:{color:Ro}}))}Uo.propTypes=xo.propTypes;const jo=Uo;function Vo(){return Vo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vo.apply(this,arguments)}function Qo(e){return n.createElement(xo,Vo({},e,{style:{borderTopColor:ko},text1Style:{color:No},text2Style:{color:No}}))}Qo.propTypes=xo.propTypes;const Go=Qo,qo=({obj:e={},keys:t=[]})=>Object.keys(e).reduce(((n,r)=>(t.includes(r)&&(n[r]=e[r]),n)),{}),Ho="ios"===_n.Z.OS,zo=On.Z.create({base:{position:"absolute",alignItems:"center",justifyContent:"center"},top:{top:30},bottom:{bottom:0}});function Wo(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ko(){return Ko=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ko.apply(this,arguments)}const Yo={success:({hide:e,...t})=>n.createElement(Bo,Ko({},t,{onTrailingIconPress:e})),error:({hide:e,...t})=>n.createElement(jo,Ko({},t,{onTrailingIconPress:e})),info:({hide:e,...t})=>n.createElement(Go,Ko({},t,{onTrailingIconPress:e}))};function Jo(e){const{dx:t,dy:n}=e;return Math.abs(t)>2||Math.abs(n)>2}const Zo=({topOffset:e,bottomOffset:t,keyboardOffset:n,visibilityTime:r,height:i,autoHide:o,position:a,type:s})=>({topOffset:e,bottomOffset:t,keyboardOffset:n,height:i,position:a,type:s,visibilityTime:r,autoHide:o,text1:void 0,text2:void 0,onPress:void 0,onShow:void 0,onHide:void 0});class Xo extends n.Component{static setRef(e={}){Xo._ref=e}static getRef(){return Xo._ref}static clearRef(){Xo._ref=null}static show(e={}){var t;null===(t=Xo._ref)||void 0===t||t.show(e)}static hide(){var e;null===(e=Xo._ref)||void 0===e||e.hide({forceHide:!0})}static getToastId(){var e;return null===(e=Xo._ref)||void 0===e?void 0:e.getToastId()}constructor(e){super(e),Wo(this,"getToastId",(()=>{var e;return null===(e=this.state)||void 0===e?void 0:e.toastId})),Wo(this,"getCustomStyle",(()=>{let e={};return e=Cn()||Kn.Z.get("window").width<768?{left:"3%",right:"3%",width:"94%"}:Kn.Z.get("window").width<900?{left:"18%",right:"18%",width:"64%"}:Kn.Z.get("window").width<1200?{left:"25%",right:"25%",width:"50%"}:{left:"33.33%",right:"33.33%",width:"33.33%"},e})),Wo(this,"keyboardDidShow",(e=>{const{isVisible:t,position:n}=this.state;this.setState({keyboardHeight:e.endCoordinates.height,keyboardVisible:!0}),t&&"bottom"===n&&this.animate({toValue:2})})),Wo(this,"keyboardDidHide",(()=>{const{isVisible:e,position:t}=this.state;this.setState({keyboardVisible:!1}),e&&"bottom"===t&&this.animate({toValue:1})})),Wo(this,"animateShow",(()=>{const{keyboardVisible:e,position:t}=this.state,n=e&&"bottom"===t?2:1;return this.animate({toValue:n})})),this._setState=this._setState.bind(this),this._animateMovement=this._animateMovement.bind(this),this._animateRelease=this._animateRelease.bind(this),this.startTimer=this.startTimer.bind(this),this.animate=this.animate.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.onLayout=this.onLayout.bind(this),this.state={...Zo(e),inProgress:!1,isVisible:!1,animation:new _o.Z.Value(0),keyboardHeight:0,keyboardVisible:!1,customProps:{},customStyle:this.getCustomStyle(),isHovered:!1,toastId:0},this.panResponder=Co.Z.create({onMoveShouldSetPanResponder:(e,t)=>Jo(t),onMoveShouldSetPanResponderCapture:(e,t)=>Jo(t),onPanResponderMove:(e,t)=>{this._animateMovement(t)},onPanResponderRelease:(e,t)=>{this._animateRelease(t)}})}componentDidMount(){const e={remove:()=>{}};this.keyboardDidShowListener=Ho?Io.Z.addListener("keyboardDidShow",this.keyboardDidShow):e,this.keyboardDidHideListner=Ho?Io.Z.addListener("keyboardDidHide",this.keyboardDidHide):e}componentWillUnmount(){this.keyboardDidShowListener.remove(),this.keyboardDidHideListner.remove(),clearTimeout(this.timer)}_setState(e){return new Promise((t=>this.setState(e,(()=>t()))))}_animateMovement(e){const{position:t,animation:n,keyboardVisible:r}=this.state,{dy:i}=e;let o=1+i/100;const a=r&&"bottom"===t?2:1;"bottom"===t&&(o=a-i/100),o<=a&&n.setValue(o)}_animateRelease(e){const{position:t,animation:n,keyboardVisible:r}=this.state,{dy:i,vy:o}=e,a="bottom"===t;let s=1+i/100;a&&(s=1-i/100),s<=.65||Math.abs(o)>=.65?this.hide({speed:3*Math.abs(o)}):_o.Z.spring(n,{toValue:r&&a?2:1,velocity:o,useNativeDriver:!0}).start()}async show(e={}){const{inProgress:t,isVisible:n}=this.state;(t||n)&&await this.hide(),await this._setState((t=>({...t,...Zo(this.props),height:t.height,inProgress:!0,...e,...null!=e&&e.props?{customProps:e.props}:{customProps:{}}}))),await this.animateShow(),await this._setState((e=>({...e,isVisible:!0,inProgress:!1}))),this.clearTimer();const{autoHide:r,onShow:i}=this.state;r&&this.startTimer(),i&&i()}async hide({speed:e,forceHide:t=!1}={}){if(!this.state.isHovered||t||di()){await this._setState((e=>({...e,inProgress:!0}))),await this.animateHide({speed:e}),this.clearTimer(),await this._setState((e=>({...e,isVisible:!1,inProgress:!1,toastId:0})));const{onHide:t}=this.state;t&&t()}}animateHide({speed:e}={}){return this.animate({toValue:0,speed:e})}animate({toValue:e,speed:t=0}){const{animation:n}=this.state;return new Promise((r=>{const i={toValue:e,useNativeDriver:!0,...t>0?{speed:t}:{friction:8}};_o.Z.spring(n,i).start((()=>r()))}))}startTimer(){const{visibilityTime:e}=this.state;this.timer=setTimeout((()=>this.hide()),e)}clearTimer(){clearTimeout(this.timer),this.timer=null}renderContent({config:e}){const t={...Yo,...e},{type:n,customProps:r}=this.state,i=t[n];return i?i({...qo({obj:this.state,keys:["position","type","inProgress","isVisible","text1","text2","hide","show","onPress","primaryBtn","secondaryBtn","checkbox","toastId"]}),props:{...r},hide:this.hide,show:this.show}):(console.error(`Type '${n}' does not exist. Make sure to add it to your 'config'. You can read the documentation here: https://github.com/calintamas/react-native-toast-message/blob/master/README.md`),null)}getBaseStyle(e="bottom",t){const{topOffset:n,bottomOffset:r,keyboardOffset:i,height:o,animation:a}=this.state;"bottom"===e||[o+5,-("bottom"===e?r:n),-(i+t)].map((e=>-e));const s=a.interpolate({inputRange:[0,1,2],outputRange:[0,1,0]});return[zo.base,{left:this.state.customStyle.left,right:this.state.customStyle.right,width:this.state.customStyle.width},zo[e],{opacity:s}]}onLayout(e){this.setState({height:e.nativeEvent.layout.height,customStyle:this.getCustomStyle()})}render(){const{style:e}=this.props,{position:t,keyboardHeight:r}=this.state,i=this.getBaseStyle(t,r);return n.createElement($o,{setIsHovered:e=>{di()||(this.setState({isHovered:e}),setTimeout((()=>{e||this.startTimer()})))}},n.createElement(_o.Z.View,Ko({testID:"animatedView",onLayout:this.onLayout,style:[i,e,{zIndex:100,display:this.state.isVisible?"flex":"none"}]},this.panResponder.panHandlers),this.renderContent(this.props)))}}Wo(Xo,"_ref",null);const $o=({children:e,setIsHovered:t})=>ai()?n.createElement("div",{onMouseEnter:()=>{t(!0)},onMouseLeave:()=>{t(!1)}},e):n.createElement(n.Fragment,null,e);Xo.propTypes={config:Hi().objectOf(Hi().func),style:So,topOffset:Hi().number,bottomOffset:Hi().number,keyboardOffset:Hi().number,visibilityTime:Hi().number,autoHide:Hi().bool,height:Hi().number,position:Hi().oneOf(["top","bottom"]),type:Hi().string},Xo.defaultProps={config:{},style:void 0,topOffset:30,bottomOffset:40,keyboardOffset:15,visibilityTime:4e3,autoHide:!0,height:60,position:"top",type:"success"};const ea=Xo,ta=le`
  mutation setPresenter($uid: Int!, $passphrase: String!) {
    setPresenter(uid: $uid, passphrase: $passphrase)
  }
`,na=le`
  mutation setNormal($passphrase: String!) {
    setNormal(passphrase: $passphrase)
  }
`,ra=function(){const[e]=(0,h.useMutation)(ta),[t]=(0,h.useMutation)(na),{phrase:n}=bo();return{executeNormalQuery:()=>{t({variables:{passphrase:n}}).then((e=>{console.log(e.data),e.data.stopRecordingSession})).catch((e=>{console.log(e)}))},executePresenterQuery:t=>{e({variables:{uid:t,passphrase:n}}).then((e=>{e.data.setPresenter})).catch((e=>{console.log(e)}))}}},ia=(0,n.createContext)({screenShareData:{},setScreenShareData:()=>{}}),oa=e=>{const{rtcProps:t}=(0,n.useContext)(ln),[r,i]=(0,n.useState)({[null==t?void 0:t.screenShareUid]:{name:"",isActive:!1,ts:0}});return n.createElement(ia.Provider,{value:{screenShareData:r,setScreenShareData:i}},e.children)},aa=he(ia),sa=(0,n.createContext)({startRecording:()=>{},stopRecording:()=>{},isRecordingActive:!1,inProgress:!1}),ca=le`
  mutation startRecordingSession(
    $passphrase: String!
    $secret: String
    $config: recordingConfig!
  ) {
    startRecordingSession(
      passphrase: $passphrase
      secret: $secret
      config: $config
    )
  }
`,ua=le`
  mutation stopRecordingSession($passphrase: String!) {
    stopRecordingSession(passphrase: $passphrase)
  }
`,la=e=>{const{rtcProps:t}=(0,n.useContext)(ln),{setRecordingActive:r,isRecordingActive:i}=null==e?void 0:e.value,[o,a]=(0,n.useState)(!1),[s,c]=(0,n.useState)(0),{renderList:u,activeUids:l}=Na(),{phrase:d}=bo(),[p]=(0,h.useMutation)(ca),[f]=(0,h.useMutation)(ua),A=function(e){const t=(0,n.useRef)();return(0,n.useEffect)((()=>{t.current=e})),t.current}({isRecordingActive:i}),g=e=>e?"Recording Started":"Recording Stopped",{executePresenterQuery:m,executeNormalQuery:v}=ra(),{localUid:y}=(0,n.useContext)(Yr),{screenShareData:E}=aa();n.useEffect((()=>{zr.on(Rr,(e=>{const t=JSON.parse(e.payload),n=t.action,i=t.value;switch(n){case _r:c(parseInt(i)),r(!0);break;case Cr:r(!1);break;case Ir:b()}}))}),[]),(0,n.useEffect)((()=>{if(A){var e;if((null==A?void 0:A.isRecordingActive)===i)return;ea.show({type:"info",text1:g(i),text2:i?`This meeting is being recorded by ${ii(null===(e=u[s])||void 0===e?void 0:e.name)||"user"}`:"",visibilityTime:3e3,primaryBtn:null,secondaryBtn:null})}}),[i]);const b=()=>{y===s||-1===l.indexOf(s)?(a(!0),f({variables:{passphrase:d}}).then((e=>{console.log(e.data),a(!1),"success"===e.data.stopRecordingSession&&(zr.send(Rr,JSON.stringify({action:Cr,value:""}),Br.LEVEL3),r(!1))})).catch((e=>{a(!1),console.log(e)}))):zr.send(Rr,JSON.stringify({action:Ir,value:""}),Br.LEVEL1)};return n.createElement(sa.Provider,{value:{inProgress:o,startRecording:()=>{a(!0),p({variables:{passphrase:d,secret:t.encryption&&t.encryption.key?t.encryption.key:"",config:{resolution:"SD360p",trigger:"AUTO"}}}).then((e=>{if(console.log(e.data),a(!1),"success"===e.data.startRecordingSession){zr.send(Rr,JSON.stringify({action:_r,value:`${y}`}),Br.LEVEL3),c(y),r(!0);const e=Object.entries(E).filter((e=>{var t,n;return(null===(t=e[1])||void 0===t?void 0:t.ts)&&e[1].ts>0&&(null===(n=e[1])||void 0===n?void 0:n.isActive)})).sort(((e,t)=>t[1].ts-e[1].ts)),t=e.length>0?e[0][0]:0;t?(console.log("screenshare: Executing presenter query for screenuid",t),m(parseInt(t))):v()}})).catch((e=>{a(!1),console.log(e)}))},stopRecording:b,isRecordingActive:i}},e.children)},da=he(sa),ha=n.createContext({groupActive:!1,privateActive:!1,selectedChatUserId:0,message:"",setGroupActive:()=>{},setPrivateActive:()=>{},setSelectedChatUserId:()=>{},setMessage:()=>{},inputActive:!1,setInputActive:()=>{}}),pa=e=>{const[t,r]=(0,n.useState)(!1),[i,o]=(0,n.useState)(!1),[a,s]=(0,n.useState)(!1),[c,u]=(0,n.useState)(0),[l,d]=(0,n.useState)("");return n.createElement(ha.Provider,{value:{groupActive:t,privateActive:i,selectedChatUserId:c,setGroupActive:r,setPrivateActive:o,setSelectedChatUserId:u,message:l,setMessage:d,inputActive:a,setInputActive:s}},e.children)},fa=he(ha),Aa=n.createContext({totalUnreadCount:0,unreadGroupMessageCount:0,unreadPrivateMessageCount:0,unreadIndividualMessageCount:{},setUnreadGroupMessageCount:()=>{},setUnreadIndividualMessageCount:()=>{},setUnreadPrivateMessageCount:()=>{}}),ga=e=>{const[t,r]=(0,n.useState)(0),[i,o]=(0,n.useState)(0),[a,s]=(0,n.useState)({});return(0,n.useEffect)((()=>{let e=0;for(const t in a)e+=a[t];o(e)}),[a]),n.createElement(Aa.Provider,{value:{totalUnreadCount:t+i,unreadGroupMessageCount:t,setUnreadGroupMessageCount:r,unreadPrivateMessageCount:i,setUnreadPrivateMessageCount:o,unreadIndividualMessageCount:a,setUnreadIndividualMessageCount:s}},e.children)},ma=he(Aa);let va;!function(e){e[e.None=0]="None",e[e.Participants=1]="Participants",e[e.Chat=2]="Chat",e[e.Settings=3]="Settings"}(va||(va={}));const ya=n.createContext({sidePanel:va.None,setSidePanel:()=>{}}),Ea=e=>n.createElement(ya.Provider,{value:{...e.value}},e.children),ba=he(ya);function _a(){return((e=21)=>{let t="",n=e;for(;n--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return t})()}var Ca;!function(e){e.Create="Create_Chat_Message",e.Update="Update_Chat_Message",e.Delete="Delete_Chat_Message"}(Ca||(Ca={}));const Ia=n.createContext({messageStore:[],privateMessageStore:{},sendChatMessage:()=>{},editChatMessage:()=>{},deleteChatMessage:()=>{},openPrivateChat:()=>{}}),Sa=e=>{const{dispatch:t}=ka(),{renderList:r}=Na(),i=Qn(),{setSidePanel:o}=ba(),{groupActive:a,selectedChatUserId:s,setGroupActive:c,setPrivateActive:u,setSelectedChatUserId:l}=fa(),{setUnreadGroupMessageCount:d,setUnreadIndividualMessageCount:h,unreadPrivateMessageCount:p,unreadIndividualMessageCount:f,setUnreadPrivateMessageCount:A}=ma(),[g,m]=(0,n.useState)([]),[v,y]=(0,n.useState)({}),E=(0,n.useRef)({renderList:r}),b=(0,n.useRef)(),_=(0,n.useRef)();(0,n.useEffect)((()=>{E.current.renderList=r}),[r]),(0,n.useEffect)((()=>{b.current=a}),[a]),(0,n.useEffect)((()=>{_.current=s}),[s]);const C=e=>{c(!1),l(e),u(!0),o(va.Chat)};n.useEffect((()=>{const e=(e,t,n=!1)=>{var r,i;if(!n&&b.current)return;const a=parseInt(t);var s;n&&a===_.current||ea.show({primaryBtn:null,secondaryBtn:null,type:"info",text1:n?"Youve received a private message":null!==(r=E.current.renderList[a])&&void 0!==r&&r.name?(s=ii(null===(i=E.current.renderList[a])||void 0===i?void 0:i.name),`${s} commented in the public chat`):"",text2:n?"":e.length>30?e.slice(0,30)+"...":e,visibilityTime:3e3,onPress:()=>{n?C(a):(u(!1),l(0),c(!0),o(va.Chat))}})};zr.on(kr,(t=>{const n=JSON.parse(t.payload),r=n.action,i=n.value;switch(r){case Ca.Create:e(i.msg,`${t.sender}`),I(t.sender,{msg:i.msg,createdTimestamp:i.createdTimestamp,isDeleted:i.isDeleted,msgId:i.msgId}),b.current||d((e=>e+1));break;case Ca.Update:m((e=>e.map((e=>e.msgId===i.msgId&&e.uid===t.sender?{...e,msg:i.msg,updatedTimestamp:i.updatedTimestamp}:e))));break;case Ca.Delete:m((e=>e.map((e=>e.msgId===i.msgId&&e.uid===t.sender?{...e,isDeleted:!0,updatedTimestamp:i.updatedTimestamp}:e))))}})),zr.on(Nr,(n=>{const r=JSON.parse(n.payload),i=r.action,o=r.value;switch(i){case Ca.Create:try{((e,n)=>{t({type:"UpdateRenderList",value:[e,n]})})(n.sender,{lastMessageTimeStamp:(new Date).getTime()})}catch(e){console.log("ERROR : couldn't update the last message timestamp")}e(o.msg,`${n.sender}`,!0),S(n.sender,{msg:o.msg,createdTimestamp:o.createdTimestamp,msgId:o.msgId,isDeleted:o.isDeleted},!1),_.current!==n.sender&&h((e=>{const t=e&&e[n.sender]?e[n.sender]:0;return{...e,[n.sender]:t+1}}));break;case Ca.Update:y((e=>{const t=e[n.sender].map((e=>e.msgId===o.msgId&&e.uid===n.sender?{...e,msg:o.msg,updatedTimestamp:o.updatedTimestamp}:e));return{...e,[n.sender]:t}}));break;case Ca.Delete:y((e=>{const t=e[n.sender].map((e=>e.msgId===o.msgId&&e.uid===n.sender?{...e,isDeleted:!0,updatedTimestamp:o.updatedTimestamp}:e));return{...e,[n.sender]:t}}))}}))}),[]);const I=(e,t)=>{m((n=>[...n,{createdTimestamp:t.createdTimestamp,uid:e,msg:t.msg,msgId:t.msgId,isDeleted:t.isDeleted}]))},S=(e,t,n)=>{y((r=>{let o={...r};return void 0!==o[e]?o[e]=[...o[e],{createdTimestamp:t.createdTimestamp,uid:n?i:e,msg:t.msg,msgId:t.msgId,isDeleted:t.isDeleted}]:o={...o,[e]:[{createdTimestamp:t.createdTimestamp,uid:n?i:e,msg:t.msg,msgId:t.msgId,isDeleted:t.isDeleted}]},{...o}}))};return n.createElement(Ia.Provider,{value:{messageStore:g,privateMessageStore:v,sendChatMessage:(e,t)=>{if("string"!=typeof e||""!==e.trim())if(t){const n={msg:e,createdTimestamp:Vr(),msgId:_a(),isDeleted:!1};zr.send(Nr,JSON.stringify({value:n,action:Ca.Create}),Br.LEVEL1,t),S(t,n,!0)}else{const t={msg:e,msgId:_a(),isDeleted:!1,createdTimestamp:Vr()};zr.send(kr,JSON.stringify({value:t,action:Ca.Create}),Br.LEVEL1),I(i,t)}},editChatMessage:(e,t,n)=>{if("string"!=typeof t||""!==t.trim())if(n){const r=v[n].filter((t=>t.msgId===e&&t.uid===i));if(r&&r.length){const r={msg:t,updatedTimestamp:Vr()};zr.send(Nr,JSON.stringify({value:{msgId:e,...r},action:Ca.Update}),Br.LEVEL1,n),y((t=>{const i=t[n].map((t=>t.msgId===e?{...t,...r}:t));return{...t,[n]:i}}))}else console.log("You don't have permission to edit")}else{const n=g.filter((t=>t.msgId===e&&t.uid===i));if(n&&n.length){const n={msg:t,updatedTimestamp:Vr()};zr.send(kr,JSON.stringify({value:{msgId:e,...n},action:Ca.Update}),Br.LEVEL1),m((t=>t.map((t=>t.msgId===e?{...t,...n}:t))))}else console.log("You don't have permission to edit")}},deleteChatMessage:(e,t)=>{if(t){const n=v[t].filter((t=>t.msgId===e&&t.uid===i));if(n&&n.length){const n={updatedTimestamp:Vr()};zr.send(Nr,JSON.stringify({value:{msgId:e,...n},action:Ca.Delete}),Br.LEVEL1,t),y((r=>{const i=r[t].map((t=>t.msgId===e?{...t,isDeleted:!0,...n}:t));return{...r,[t]:i}}))}else console.log("You don't have permission to delete")}else{const t=g.filter((t=>t.msgId===e&&t.uid===i));if(t&&t.length){const t={updatedTimestamp:Vr()};zr.send(kr,JSON.stringify({value:{msgId:e,...t},action:Ca.Delete}),Br.LEVEL1),m((n=>n.map((n=>n.msgId===e?{...n,isDeleted:!0,...t}:n))))}else console.log("You don't have permission to delete")}},openPrivateChat:C}},e.children)},wa=he(Ia),Ra=()=>{const{deleteChatMessage:e,editChatMessage:t,messageStore:n,privateMessageStore:r,sendChatMessage:i}=wa(),{setUnreadIndividualMessageCount:o,setUnreadGroupMessageCount:a,unreadGroupMessageCount:s,unreadIndividualMessageCount:c}=ma();return{groupMessages:n,privateMessages:r,sendMessage:i,editMessage:t,deleteMessage:e,groupUnreadCount:s,individualUnreadCount:c,setGroupUnreadCount:a,setIndividualUnreadCount:o}},Ta=function(){const{setDisplayName:e}=Xr();return e};function Oa(){const e=Ta();return[$r(),e]}const ka=he(Xt),Na=he(pn),Da=new Hr(Mr.fpe),Pa="D9",xa="CC",La="B3",Ma="99",Ba="80",Fa="66",Ua="4D",ja="33",Va="26",Qa="1A";function Ga(e){return n.createElement(qn.Z,{style:[qa.ruler,null==e?void 0:e.style]})}const qa=On.Z.create({ruler:{borderBottomColor:"#099DFD"+xa,borderBottomWidth:1,margin:"2%",width:"100%",maxWidth:200}}),Ha={high:1,medium:.85,disabled:.4},za={high:"",medium:Pa,disabled:Fa},Wa={extraLarge:32,large:20,medium:18,normal:16,small:14,tiny:12},Ka={sansPro:"Source Sans Pro"},Ya={small:4,medium:8,large:12,extraLarge:20},Ja=JSON.parse('{"x0":{"topPinned":false},"ud":{"width":"100%","backgroundColor":"#00AEFC","borderRadius":100,"maxWidth":450,"minWidth":200,"minHeight":45},"ZG":{"width":"100%","height":45,"lineHeight":45,"fontSize":16,"textAlign":"center","textAlignVertical":"center","color":"#fff"},"SK":{"width":"100%","borderColor":"#00AEFC","borderWidth":1,"borderRadius":100,"maxWidth":450,"minWidth":200,"minHeight":45},"A8":{"width":"100%","height":45,"lineHeight":45,"fontSize":16,"textAlign":"center","fontWeight":"500","textAlignVertical":"center","color":"#000"},"Y2":{"width":"100%","paddingLeft":8,"paddingRight":8,"borderColor":"#00AEFC","borderRadius":100,"borderWidth":1,"textAlign":"center","color":"#333333","fontSize":16,"maxWidth":450,"minHeight":45},"t_":{"flex":12,"backgroundColor":"#fff","flexDirection":"row"}}');var Za=__webpack_require__(335);const Xa=JSON.parse('{"IcoMoonType":"selection","icons":[{"icon":{"paths":["M916.178 808.381l-724.878-724.881-36.204 36.204 724.878 724.881 36.204-36.204zM520.996 342.147l-181.969-181.97c13.932-4.385 28.922-6.577 44.973-6.577 40.558 0 74.35 13.999 101.378 41.995 27.062 27.997 40.589 63.001 40.589 105.013 0 14.702-1.659 28.549-4.972 41.539zM624.307 445.457l159.237 159.235c17.167-16.927 25.748-37.212 25.748-60.861v-201.139c0-24.131-8.934-44.612-26.808-61.444-17.869-16.832-39.613-25.248-65.234-25.248s-47.508 8.416-65.664 25.248c-18.186 16.832-27.279 37.314-27.279 61.444v102.765zM242.032 300.609c0-3.318 0.084-6.593 0.253-9.823l156.257 156.257c-4.746 0.417-9.594 0.625-14.542 0.625-40.558 0-74.35-13.999-101.378-41.995-27.060-28.030-40.59-63.052-40.59-105.063zM551.286 599.788c9.718 26.045 26.312 48.922 49.777 68.628 14.618 12.252 30.423 21.775 47.416 28.564l97.377 97.377v49.096c0 7.301-2.826 13.614-8.489 18.949-5.663 5.33-12.37 7.997-20.116 7.997s-14.454-2.668-20.116-7.997c-5.663-5.335-8.489-11.648-8.489-18.949v-80.794c-53.617-5.601-99.036-26.081-136.264-61.445-37.228-35.333-59.118-77.696-65.666-127.089-1.201-8.402 1.029-15.549 6.691-21.448 1.809-1.889 3.816-3.471 6.019-4.751l51.86 51.86zM840.335 661.484l40.73 40.73 1.055-0.998c37.228-35.333 58.819-77.696 64.763-127.089 1.203-8.402-1.029-15.549-6.687-21.448-5.663-5.898-13.256-8.847-22.779-8.847-7.148 0-13.107 2.115-17.884 6.339-4.772 4.204-7.762 9.953-8.965 17.254-5.453 36.541-22.2 67.896-50.232 94.060zM142.698 768c-18.949 0-34.669-6.472-47.16-19.41-12.492-12.974-18.738-28.902-18.738-47.79v-29.394c0-21.007 5.564-40.095 16.694-57.272 11.161-17.142 25.875-30.264 44.143-39.373 39.195-18.888 79.753-33.423 121.673-43.607 41.888-10.153 83.451-15.227 124.69-15.227 3.533 0 7.071 0.036 10.612 0.113 24.093 0.507 40.588 23.060 40.588 47.16 0 83.743 40.209 158.095 102.374 204.8h-394.876z"],"attrs":[{"fill":"rgb(250, 250, 250)"}],"isMulticolor":false,"isMulticolor2":false,"grid":0,"tags":["demote-filled"]},"attrs":[{"fill":"rgb(250, 250, 250)"}],"properties":{"order":939,"id":72,"name":"demote-filled","prevSize":32,"code":59666},"setIdx":0,"setId":1,"iconIdx":0},{"icon":{"paths":["M242.255 290.755c-0.17 3.241-0.255 6.525-0.255 9.854 0 42.012 13.53 77.033 40.59 105.063 27.027 27.997 60.82 41.995 101.378 41.995 4.958 0 9.815-0.209 14.571-0.628l-156.284-156.285z","M783.544 604.692l-159.237-159.235v-102.765c0-24.131 9.093-44.612 27.279-61.444 18.156-16.832 40.044-25.248 65.664-25.248s47.365 8.416 65.234 25.248c17.874 16.832 26.808 37.314 26.808 61.444v201.139c0 23.649-8.581 43.935-25.748 60.861z","M551.286 599.788c9.718 26.045 26.312 48.922 49.777 68.628 14.618 12.252 30.423 21.775 47.416 28.564l97.377 97.377v49.096c0 7.301-2.826 13.614-8.489 18.949-5.663 5.33-12.37 7.997-20.116 7.997s-14.454-2.668-20.116-7.997c-5.663-5.335-8.489-11.648-8.489-18.949v-80.794c-53.617-5.601-99.036-26.081-136.264-61.445-37.228-35.333-59.118-77.696-65.666-127.089-1.201-8.402 1.029-15.549 6.691-21.448 1.809-1.889 3.816-3.471 6.019-4.751l51.86 51.86z","M881.065 702.213l-40.73-40.73c28.032-26.163 44.78-57.518 50.232-94.060 1.203-7.301 4.193-13.051 8.965-17.254 4.777-4.224 10.737-6.339 17.884-6.339 9.523 0 17.116 2.949 22.779 8.847 5.658 5.898 7.89 13.046 6.687 21.448-5.944 49.393-27.535 91.756-64.763 127.089-0.348 0.338-0.701 0.666-1.055 0.998z","M520.97 342.121l-181.951-181.952c13.925-4.38 28.908-6.569 44.949-6.569 40.558 0 74.35 13.999 101.378 41.995 27.059 27.997 40.591 63.001 40.591 105.013 0 14.692-1.654 28.53-4.966 41.513z","M472.767 721.577c12.172 15.985 26.406 30.285 42.299 42.496h-370.662c-18.74 0-34.701-6.641-47.882-19.917-13.148-13.307-19.722-29.071-19.722-47.288v-29.389c0-21.007 5.709-40.1 17.126-57.272 11.45-17.142 26.196-30.264 44.237-39.373 40.909-18.888 82.867-33.423 125.873-43.607 42.973-10.153 85.613-15.227 127.92-15.227 2.838 0 5.677 0.020 8.519 0.067 18.754 0.302 31.166 18.514 28.382 37.064-2.504 16.676-16.772 30.259-33.638 30.136l-3.262-0.015c-37.447 0-75.41 4.89-113.889 14.674-38.513 9.81-75.094 22.415-109.745 37.811-7.623 3.492-13.698 8.233-18.225 14.213-4.493 5.949-6.74 13.128-6.74 21.53v29.389h283.354c18.351 0 34.94 10.112 46.058 24.709z","M191.3 83.5l724.877 724.877-36.204 36.204-724.877-724.877 36.204-36.204z"],"attrs":[{"fill":"rgb(250, 250, 250)"},{"fill":"rgb(250, 250, 250)"},{"fill":"rgb(250, 250, 250)"},{"fill":"rgb(250, 250, 250)"},{"fill":"rgb(250, 250, 250)"},{"fill":"rgb(250, 250, 250)"},{"fill":"rgb(250, 250, 250)"}],"isMulticolor":false,"isMulticolor2":false,"grid":0,"tags":["demote-outlined"]},"attrs":[{"fill":"rgb(250, 250, 250)"},{"fill":"rgb(250, 250, 250)"},{"fill":"rgb(250, 250, 250)"},{"fill":"rgb(250, 250, 250)"},{"fill":"rgb(250, 250, 250)"},{"fill":"rgb(250, 250, 250)"},{"fill":"rgb(250, 250, 250)"}],"properties":{"order":940,"id":71,"name":"demote-outlined","prevSize":32,"code":59682},"setIdx":0,"setId":1,"iconIdx":1},{"icon":{"paths":["M524.8 204.8c35.346 0 64 28.654 64 64v486.4c0 35.346-28.654 64-64 64s-64-28.654-64-64v-486.4c0-35.346 28.654-64 64-64z","M780.8 358.4c35.346 0 64 28.654 64 64v179.2c0 35.346-28.654 64-64 64s-64-28.654-64-64v-179.2c0-35.346 28.654-64 64-64z","M268.8 358.4c35.346 0 64 28.654 64 64v179.2c0 35.346-28.654 64-64 64s-64-28.654-64-64v-179.2c0-35.346 28.654-64 64-64z"],"attrs":[{"fill":"rgb(9, 157, 253)"},{"fill":"rgb(9, 157, 253)"},{"fill":"rgb(9, 157, 253)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["active-speaker"],"grid":0},"attrs":[{"fill":"rgb(9, 157, 253)"},{"fill":"rgb(9, 157, 253)"},{"fill":"rgb(9, 157, 253)"}],"properties":{"order":941,"id":0,"name":"active-speaker","prevSize":32,"code":59651},"setIdx":0,"setId":1,"iconIdx":2},{"icon":{"paths":["M491.52 705.536c9.556 0 17.408-3.072 23.552-9.216s9.216-13.996 9.216-23.552c0-9.556-3.072-17.408-9.216-23.552s-13.996-9.216-23.552-9.216c-9.556 0-17.408 3.072-23.552 9.216s-9.216 13.996-9.216 23.552c0 9.556 3.072 17.408 9.216 23.552s13.996 9.216 23.552 9.216zM460.8 556.032h61.44v-245.76h-61.44v245.76zM491.52 901.12c-53.932 0-104.612-10.24-152.044-30.72-47.459-20.48-88.596-48.128-123.412-82.944s-62.464-75.952-82.944-123.412c-20.48-47.432-30.72-98.111-30.72-152.044s10.24-104.625 30.72-152.084c20.48-47.432 48.128-88.556 82.944-123.372s75.953-62.464 123.412-82.944c47.432-20.48 98.111-30.72 152.044-30.72s104.624 10.24 152.084 30.72c47.432 20.48 88.556 48.128 123.372 82.944s62.464 75.94 82.944 123.372c20.48 47.459 30.72 98.152 30.72 152.084s-10.24 104.612-30.72 152.044c-20.48 47.46-48.128 88.596-82.944 123.412s-75.94 62.464-123.372 82.944c-47.46 20.48-98.152 30.72-152.084 30.72z"],"width":983,"attrs":[{"fill":"rgb(255, 65, 77)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["alert"],"grid":0},"attrs":[{"fill":"rgb(255, 65, 77)"}],"properties":{"order":942,"id":1,"name":"alert","prevSize":32,"code":59684},"setIdx":0,"setId":1,"iconIdx":3},{"icon":{"paths":["M512 625.050q-7.475 0-14.95-2.662t-13.824-10.138l-188.826-187.699q-9.626-10.701-9.062-25.088 0.512-14.387 10.138-24.013 11.725-10.65 24.525-10.138 12.8 0.563 23.45 10.138l168.55 169.626 169.574-168.55q9.626-10.65 22.426-10.65t24.525 10.65q10.701 10.65 10.701 24.525t-10.701 23.501l-187.75 187.699q-6.349 7.475-13.824 10.138t-14.95 2.662z"],"attrs":[{}],"isMulticolor":false,"isMulticolor2":false,"tags":["arrow-down"],"grid":0},"attrs":[{}],"properties":{"order":943,"id":2,"name":"arrow-down","prevSize":32,"code":59648},"setIdx":0,"setId":1,"iconIdx":4},{"icon":{"paths":["M295.475 616.55q-10.701-9.626-10.701-23.501t10.701-24.525l187.75-186.675q6.349-7.475 13.824-10.65t14.95-3.174 14.95 3.174 13.824 10.65l188.826 187.75q9.626 10.65 10.138 23.45t-10.138 23.501q-10.65 10.65-24.013 10.65-13.312 0-24.013-10.65l-169.574-167.475-169.574 168.499q-9.626 10.701-22.938 10.701-13.363 0-24.013-11.725z"],"attrs":[{}],"isMulticolor":false,"isMulticolor2":false,"tags":["arrow-up"],"grid":0},"attrs":[{}],"properties":{"order":944,"id":3,"name":"arrow-up","prevSize":32,"code":59649},"setIdx":0,"setId":1,"iconIdx":5},{"icon":{"paths":["M512 837.333l-325.333-325.333 325.333-325.333 45.867 45.867-248.533 247.467h528v64h-528l248.533 247.467-45.867 45.867z"],"attrs":[{}],"isMulticolor":false,"isMulticolor2":false,"tags":["back-btn"],"defaultCode":59650,"grid":0},"attrs":[{}],"properties":{"order":945,"id":4,"name":"back-btn","prevSize":32,"code":59650},"setIdx":0,"setId":1,"iconIdx":6},{"icon":{"paths":["M106.6 187.751c0-22.767 7.834-41.967 23.501-57.6 15.633-15.667 34.833-23.501 57.6-23.501h648.498c22.769 0 41.969 7.834 57.6 23.501 15.667 15.633 23.501 34.833 23.501 57.6v477.849c0 22.769-7.834 41.969-23.501 57.6-15.631 15.631-34.831 23.45-57.6 23.45h-578.098l-82.125 81.101c-12.834 12.8-27.597 15.821-44.288 9.062-16.726-6.758-25.088-19.031-25.088-36.813v-612.249zM266.6 386.151h490.699v-68.301h-490.699v68.301zM266.6 535.45h322.149v-68.249h-322.149v68.249z"],"attrs":[{"fill":"rgb(197, 197, 197)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["chat-filled"],"grid":0},"attrs":[{"fill":"rgb(197, 197, 197)"}],"properties":{"order":946,"id":5,"name":"chat-filled","prevSize":32,"code":59652},"setIdx":0,"setId":1,"iconIdx":7},{"icon":{"paths":["M298.667 586.667h257.067q12.8 0 21.888-9.088 9.045-9.045 9.045-22.912t-9.045-22.955q-9.088-9.045-22.955-9.045h-257.067q-12.8 0-21.845 9.045-9.088 9.088-9.088 22.955t9.088 22.912q9.045 9.088 22.912 9.088zM298.667 458.667h427.733q12.8 0 21.888-9.088 9.045-9.045 9.045-22.912t-9.045-22.955q-9.088-9.045-22.955-9.045h-427.733q-12.8 0-21.845 9.045-9.088 9.088-9.088 22.955t9.088 22.912q9.045 9.088 22.912 9.088zM298.667 330.667h427.733q12.8 0 21.888-9.088 9.045-9.045 9.045-22.912t-9.045-22.912q-9.088-9.088-22.955-9.088h-427.733q-12.8 0-21.845 9.088-9.088 9.045-9.088 22.912t9.088 22.912q9.045 9.088 22.912 9.088zM106.667 804.267v-620.8q0-32 22.4-54.4t54.4-22.4h657.067q32 0 54.4 22.4t22.4 54.4v486.4q0 32-22.4 54.4t-54.4 22.4h-582.4l-86.4 85.333q-18.133 18.133-41.6 8.021-23.467-10.155-23.467-35.755z"],"attrs":[{}],"isMulticolor":false,"isMulticolor2":false,"tags":["chat-nav"],"grid":0},"attrs":[{}],"properties":{"order":947,"id":6,"name":"chat-nav","prevSize":32,"code":59655},"setIdx":0,"setId":1,"iconIdx":8},{"icon":{"paths":["M106.6 800v-612.249c0-22.767 7.834-41.967 23.501-57.6 15.633-15.667 34.833-23.501 57.6-23.501h648.498c22.769 0 41.969 7.834 57.6 23.501 15.667 15.633 23.501 34.833 23.501 57.6v477.849c0 22.769-7.834 41.969-23.501 57.6-15.631 15.631-34.831 23.45-57.6 23.45h-578.098l-82.125 81.101c-12.834 12.8-27.597 15.821-44.288 9.062-16.726-6.758-25.088-19.031-25.088-36.813zM174.901 732.774l54.374-54.374h606.923c3.584 0 6.605-1.244 9.062-3.738 2.493-2.493 3.738-5.514 3.738-9.062v-477.849c0-3.584-1.244-6.605-3.738-9.062-2.458-2.492-5.478-3.738-9.062-3.738h-648.498c-3.584 0-6.605 1.246-9.062 3.738-2.492 2.458-3.738 5.478-3.738 9.062v545.023zM174.901 187.751v-12.8 12.8z","M588.749 535.45h-322.149v-68.249h322.149v68.249z","M757.299 386.151h-490.699v-68.301h490.699v68.301z"],"attrs":[{"fill":"rgb(197, 197, 197)"},{"fill":"rgb(197, 197, 197)"},{"fill":"rgb(197, 197, 197)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["chat-outlined"],"grid":0},"attrs":[{"fill":"rgb(197, 197, 197)"},{"fill":"rgb(197, 197, 197)"},{"fill":"rgb(197, 197, 197)"}],"properties":{"order":948,"id":7,"name":"chat-outlined","prevSize":32,"code":59664},"setIdx":0,"setId":1,"iconIdx":9},{"icon":{"paths":["M456.6 650.65l239.976-238.9-39.475-39.475-200.501 199.476-90.675-89.601-39.475 39.476 130.15 129.024zM512.051 900.25c-53.318 0-103.63-10.122-150.939-30.362-47.274-20.275-88.525-48.010-123.75-83.2-35.191-35.226-62.925-76.477-83.2-123.75-20.241-47.309-30.362-97.623-30.362-150.938 0-54.033 10.121-104.516 30.362-151.45 20.275-46.933 48.009-88.013 83.2-123.238 35.226-35.191 76.476-62.925 123.75-83.2 47.309-20.241 97.622-30.362 150.939-30.362 54.031 0 104.515 10.121 151.45 30.362 46.93 20.275 88.013 48.009 123.238 83.2 35.19 35.226 62.925 76.305 83.2 123.238 20.239 46.934 30.362 97.417 30.362 151.45 0 53.315-10.122 103.629-30.362 150.938-20.275 47.273-48.010 88.525-83.2 123.75-35.226 35.19-76.308 62.925-123.238 83.2-46.935 20.239-97.418 30.362-151.45 30.362z"],"attrs":[{"fill":"rgb(41, 193, 87)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["check"],"defaultCode":59653,"grid":0},"attrs":[{"fill":"rgb(41, 193, 87)"}],"properties":{"order":949,"id":8,"name":"check","prevSize":32,"code":59653},"setIdx":0,"setId":1,"iconIdx":10},{"icon":{"paths":["M213.333 938.667c-23.467 0-43.563-8.35-60.288-25.045-16.697-16.725-25.045-36.821-25.045-60.288v-597.333h85.333v597.333h469.333v85.333h-469.333zM384 768c-23.467 0-43.549-8.35-60.245-25.045-16.725-16.725-25.088-36.821-25.088-60.288v-512c0-23.467 8.363-43.563 25.088-60.288 16.697-16.697 36.779-25.045 60.245-25.045h384c23.467 0 43.563 8.349 60.288 25.045 16.695 16.725 25.045 36.821 25.045 60.288v512c0 23.467-8.35 43.563-25.045 60.288-16.725 16.695-36.821 25.045-60.288 25.045h-384z"],"attrs":[{}],"isMulticolor":false,"isMulticolor2":false,"tags":["clipboard"],"defaultCode":59654,"grid":0},"attrs":[{}],"properties":{"order":950,"id":9,"name":"clipboard","prevSize":32,"code":59654},"setIdx":0,"setId":1,"iconIdx":11},{"icon":{"paths":["M512 556.8l-216.533 216.533q-8.533 8.533-21.845 9.045-13.355 0.555-22.955-9.045t-9.6-22.4 9.6-22.4l216.533-216.533-216.533-216.533q-8.533-8.533-9.045-21.888-0.555-13.312 9.045-22.912t22.4-9.6 22.4 9.6l216.533 216.533 216.533-216.533q8.533-8.533 21.888-9.088 13.312-0.512 22.912 9.088t9.6 22.4-9.6 22.4l-216.533 216.533 216.533 216.533q8.533 8.533 9.045 21.845 0.555 13.355-9.045 22.955t-22.4 9.6-22.4-9.6z"],"attrs":[{}],"isMulticolor":false,"isMulticolor2":false,"tags":["close"],"grid":0},"attrs":[{}],"properties":{"order":951,"id":10,"name":"close","prevSize":32,"code":59656},"setIdx":0,"setId":1,"iconIdx":12},{"icon":{"paths":["M42.667 560.213v-53.76h362.246l-130.885-126.72 39.662-38.4 198.31 192-198.31 192-39.662-38.4 130.885-126.72h-362.246zM512 533.333l198.31-192 39.663 38.4-130.884 126.72h362.244v53.76h-362.244l130.884 126.72-39.663 38.4-198.31-192z"],"attrs":[{"fill":"rgb(255, 255, 255)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["collapse"],"grid":0},"attrs":[{"fill":"rgb(255, 255, 255)"}],"properties":{"order":952,"id":11,"name":"collapse","prevSize":32,"code":59667},"setIdx":0,"setId":1,"iconIdx":13},{"icon":{"paths":["M323.091 562.97c27.378-20.864 56.734-37.257 88.067-49.182 31.334-11.921 64.947-17.882 100.843-17.882s69.508 5.961 100.843 17.882c31.334 11.925 60.689 28.318 88.068 49.182l168.832-165.428c-52.932-40.538-109.060-72.431-168.375-95.681-59.319-23.249-122.445-34.874-189.367-34.874s-130.046 11.625-189.365 34.874c-59.319 23.249-115.444 55.143-168.375 95.681l168.832 165.428zM512 810.667c-3.652 0-6.997-0.597-10.039-1.788-3.042-1.195-6.084-3.281-9.126-6.259l-399.72-391.665c-5.475-5.365-8.061-11.625-7.757-18.778s3.194-13.115 8.67-17.885c57.798-50.076 122.137-89.421 193.016-118.036s145.866-42.922 224.957-42.922c79.091 0 154.078 14.307 224.956 42.922 70.882 28.615 135.219 67.96 193.015 118.036 5.478 4.769 8.367 10.731 8.67 17.885 0.307 7.153-2.278 13.413-7.757 18.778l-399.718 391.665c-3.042 2.978-6.084 5.065-9.126 6.259-3.042 1.19-6.387 1.788-10.039 1.788z"],"attrs":[{"fill":"rgb(255, 171, 0)","opacity":0.6}],"isMulticolor":false,"isMulticolor2":false,"tags":["connection-bad"],"defaultCode":59657,"grid":0},"attrs":[{"fill":"rgb(255, 171, 0)","opacity":0.6}],"properties":{"order":953,"id":12,"name":"connection-bad","prevSize":32,"code":59657},"setIdx":0,"setId":1,"iconIdx":14},{"icon":{"paths":["M512 810.667c-4.561 0-8.951-0.649-13.175-1.941-4.25-1.293-8-3.878-11.26-7.757l-392.905-388.847c-6.516-7.111-9.617-15.192-9.305-24.242 0.339-9.050 3.766-16.808 10.282-23.273 58.643-49.131 123.475-86.626 194.498-112.485s144.98-38.788 221.865-38.788c76.885 0 150.844 12.929 221.867 38.788s135.855 63.354 194.496 112.485c6.515 6.465 9.946 14.223 10.283 23.273 0.311 9.050-2.79 17.131-9.306 24.242l-392.905 388.847c-3.26 3.878-6.997 6.464-11.221 7.757-4.25 1.293-8.653 1.941-13.214 1.941z"],"attrs":[{"fill":"rgb(41, 193, 87)","opacity":0.6}],"isMulticolor":false,"isMulticolor2":false,"tags":["connection-good"],"defaultCode":59658,"grid":0},"attrs":[{"fill":"rgb(41, 193, 87)","opacity":0.6}],"properties":{"order":954,"id":13,"name":"connection-good","prevSize":32,"code":59658},"setIdx":0,"setId":1,"iconIdx":15},{"icon":{"paths":["M490.667 298.667c58.91 0 106.667-47.756 106.667-106.667s-47.757-106.667-106.667-106.667c-58.91 0-106.667 47.756-106.667 106.667s47.757 106.667 106.667 106.667zM341.333 277.333c0 58.91-47.756 106.667-106.667 106.667s-106.667-47.756-106.667-106.667c0-58.91 47.756-106.667 106.667-106.667s106.667 47.756 106.667 106.667zM725.333 341.333c23.565 0 42.667-19.103 42.667-42.667s-19.102-42.667-42.667-42.667c-23.565 0-42.667 19.103-42.667 42.667s19.102 42.667 42.667 42.667zM832 597.333c35.345 0 64-28.655 64-64s-28.655-64-64-64c-35.345 0-64 28.655-64 64s28.655 64 64 64zM810.667 789.333c0 35.345-28.655 64-64 64s-64-28.655-64-64c0-35.345 28.655-64 64-64s64 28.655 64 64zM490.667 938.667c35.345 0 64-28.655 64-64s-28.655-64-64-64c-35.345 0-64 28.655-64 64s28.655 64 64 64zM341.333 768c0 47.13-38.205 85.333-85.333 85.333s-85.333-38.204-85.333-85.333c0-47.13 38.205-85.333 85.333-85.333s85.333 38.204 85.333 85.333zM170.667 640c47.128 0 85.333-38.204 85.333-85.333s-38.205-85.333-85.333-85.333c-47.128 0-85.333 38.204-85.333 85.333s38.205 85.333 85.333 85.333z"],"attrs":[{"fill":"rgb(179, 179, 179)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["connection-loading"],"defaultCode":59659,"grid":0},"attrs":[{"fill":"rgb(179, 179, 179)"}],"properties":{"order":955,"id":14,"name":"connection-loading","prevSize":32,"code":59659},"setIdx":0,"setId":1,"iconIdx":16},{"icon":{"paths":["M511.735 810.667c-4.565 0-8.96-0.649-13.184-1.941-4.254-1.293-8.009-3.878-11.268-7.757l-392.17-387.878c-6.52-7.111-9.78-15.515-9.78-25.212s3.26-17.455 9.78-23.273c58.027-49.777 122.731-87.441 194.11-112.989 71.406-25.522 145.576-38.284 222.512-38.284 76.932 0 151.104 12.929 222.511 38.788 71.377 25.859 136.081 63.354 194.108 112.485 6.519 6.465 9.95 14.223 10.287 23.273 0.316 9.050-2.462 16.808-8.329 23.273l-6.848 5.818c-16.951-18.101-37.645-32.646-62.084-43.636-24.461-10.99-49.732-16.485-75.81-16.485-52.16 0-96.495 18.101-133.005 54.303-36.514 36.2-54.767 80.164-54.767 131.88 0 28.442 5.709 54.455 17.131 78.042 11.396 23.607 26.223 43.17 44.48 58.684l-123.226 121.212c-3.26 3.878-7.002 6.464-11.226 7.757-4.254 1.293-8.661 1.941-13.222 1.941zM785.57 690.423c-7.172 0-13.039-2.415-17.604-7.253-4.565-4.86-6.195-10.202-4.89-16.017 1.301-16.162 5.385-29.739 12.245-40.73 6.831-10.991 18.722-25.212 35.674-42.667 13.692-13.577 22.822-24.243 27.383-32 4.565-7.757 6.848-16.482 6.848-26.18 0-12.928-4.723-24.41-14.161-34.445-9.468-10.005-23.33-15.010-41.583-15.010-11.085 0-21.359 2.419-30.827 7.253-9.442 4.86-17.421 11.494-23.94 19.9-4.565 5.815-9.783 9.694-15.65 11.635-5.867 1.937-11.409 1.617-16.627-0.969-6.519-2.59-10.756-6.788-12.71-12.608-1.958-5.82-1.63-11.315 0.977-16.486 10.432-15.514 24.124-28.288 41.075-38.319 16.951-10.010 36.186-15.014 57.702-15.014 29.99 0 54.438 8.883 73.348 26.65 18.906 17.792 28.361 40.585 28.361 68.382 0 14.869-3.26 27.955-9.779 39.253-6.519 11.328-18.91 26.364-37.163 45.111-11.738 10.991-19.887 20.365-24.452 28.122-4.561 7.757-7.497 17.131-8.802 28.122-1.301 6.464-4.237 11.959-8.802 16.482-4.561 4.527-10.103 6.788-16.623 6.788zM784.593 797.090c-9.131 0-16.785-3.23-22.963-9.698-6.208-6.464-9.314-14.221-9.314-23.27s3.106-16.806 9.314-23.275c6.178-6.464 13.833-9.694 22.963-9.694 9.126 0 16.951 3.23 23.471 9.694 6.519 6.468 9.779 14.225 9.779 23.275s-3.26 16.806-9.779 23.27c-6.519 6.468-14.345 9.698-23.471 9.698z"],"attrs":[{"fill":"rgb(179, 179, 179)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["connection-unpublished"],"defaultCode":59660,"grid":0},"attrs":[{"fill":"rgb(179, 179, 179)"}],"properties":{"order":956,"id":15,"name":"connection-unpublished","prevSize":32,"code":59660},"setIdx":0,"setId":1,"iconIdx":17},{"icon":{"paths":["M512 801.126c-4.561 0-8.951-0.64-13.175-1.911-4.25-1.271-8-3.814-11.26-7.633l-392.905-382.636c-6.516-6.997-9.617-15.102-9.305-24.313 0.339-9.236 3.766-16.718 10.282-22.443 57.991-48.346 122.329-85.242 193.012-110.688 70.71-25.446 145.16-38.168 223.351-38.168s152.627 12.723 223.313 38.168c70.707 25.446 135.057 62.342 193.050 110.688 6.515 5.725 9.946 13.206 10.283 22.443 0.311 9.211-2.79 17.316-9.306 24.313l-92.851 90.651h-254.118c-19.546 0-36.16 6.677-49.843 20.036s-20.527 29.581-20.527 48.666v232.828zM616.58 802.078c-5.214-5.090-7.821-11.601-7.821-19.541 0-7.966 2.607-14.81 7.821-20.535l61.572-60.113-61.572-60.117c-5.214-5.086-7.821-11.601-7.821-19.541 0-7.966 2.607-14.81 7.821-20.535 5.862-5.086 12.873-7.633 21.030-7.633 8.132 0 14.805 2.547 20.019 7.633l61.572 60.117 61.577-60.117c5.867-5.086 12.877-7.633 21.035-7.633 8.132 0 14.801 2.547 20.015 7.633 5.867 5.726 8.798 12.57 8.798 20.535 0 7.94-2.931 14.455-8.798 19.541l-61.572 60.117 61.572 60.113c5.867 5.726 8.798 12.57 8.798 20.535 0 7.94-2.931 14.451-8.798 19.541-5.214 5.726-11.883 8.589-20.015 8.589-8.158 0-15.168-2.863-21.035-8.589l-61.577-60.113-61.572 60.113c-5.214 5.726-11.887 8.589-20.019 8.589-8.158 0-15.168-2.863-21.030-8.589z"],"attrs":[{"fill":"rgb(179, 179, 179)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["connection-unsupported"],"defaultCode":59661,"grid":0},"attrs":[{"fill":"rgb(179, 179, 179)"}],"properties":{"order":957,"id":16,"name":"connection-unsupported","prevSize":32,"code":59661},"setIdx":0,"setId":1,"iconIdx":18},{"icon":{"paths":["M387.886 626.458c17.644-13.709 36.96-24.439 57.951-32.192 20.988-7.748 43.042-11.622 66.163-11.622s45.175 3.874 66.163 11.622c20.992 7.753 40.307 18.483 57.95 32.192l233.63-228.917c-52.932-40.538-109.060-72.431-168.375-95.68-59.319-23.249-122.445-34.874-189.367-34.874s-130.046 11.625-189.365 34.874c-59.319 23.249-115.444 55.143-168.375 95.68l233.626 228.917zM512 810.667c-3.652 0-6.997-0.597-10.039-1.788-3.042-1.195-6.084-3.281-9.126-6.259l-399.72-391.665c-5.475-5.365-8.061-11.625-7.757-18.778s3.194-13.115 8.67-17.885c57.798-50.076 122.137-89.421 193.016-118.036s145.866-42.922 224.957-42.922c79.091 0 154.078 14.307 224.956 42.922 70.882 28.615 135.219 67.96 193.015 118.036 5.478 4.769 8.367 10.731 8.67 17.885 0.307 7.153-2.278 13.413-7.757 18.778l-399.718 391.665c-3.042 2.978-6.084 5.065-9.126 6.259-3.042 1.19-6.387 1.788-10.039 1.788z"],"attrs":[{"fill":"rgb(255, 65, 77)","opacity":0.6}],"isMulticolor":false,"isMulticolor2":false,"tags":["connection-very-bad"],"defaultCode":59662,"grid":0},"attrs":[{"fill":"rgb(255, 65, 77)","opacity":0.6}],"properties":{"order":958,"id":17,"name":"connection-very-bad","prevSize":32,"code":59662},"setIdx":0,"setId":1,"iconIdx":19},{"icon":{"paths":["M814.249 946.069c-70.816 102.289-222.025 102.289-292.846 0l-461.498-666.614c-81.771-118.113 2.766-279.455 146.422-279.455l922.998 0c143.658 0 228.196 161.343 146.423 279.456l-461.499 666.613z"],"width":1336,"attrs":[{"fill":"rgb(85, 85, 85)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["downside-triangle"],"defaultCode":59702,"grid":0},"attrs":[{"fill":"rgb(85, 85, 85)"}],"properties":{"order":959,"id":20,"name":"downside-triangle","prevSize":32,"code":59702},"setIdx":0,"setId":1,"iconIdx":20},{"icon":{"paths":["M533.325 341.333c83.913 0 166.571 16.896 247.979 50.688 81.438 33.763 153.801 84.425 217.088 151.979 8.533 8.533 12.8 18.487 12.8 29.867s-4.267 21.333-12.8 29.867l-98.133 96c-7.821 7.821-16.883 12.087-27.179 12.8-10.325 0.713-19.755-2.133-28.288-8.533l-123.733-93.867c-5.687-4.267-9.954-9.246-12.8-14.933s-4.267-12.087-4.267-19.2v-121.6c-27.021-8.533-54.754-15.287-83.2-20.267s-57.6-7.467-87.467-7.467c-29.867 0-59.021 2.487-87.467 7.467-28.444 4.979-56.177 11.733-83.2 20.267v121.6c0 7.113-1.422 13.513-4.267 19.2s-7.111 10.667-12.8 14.933l-123.733 93.867c-8.533 6.4-17.948 9.246-28.245 8.533-10.325-0.713-19.399-4.979-27.221-12.8l-98.133-96c-8.533-8.533-12.8-18.487-12.8-29.867s4.267-21.333 12.8-29.867c62.578-67.554 134.756-118.215 216.533-151.979 81.778-33.792 164.621-50.688 248.533-50.688z"],"width":1067,"attrs":[{}],"isMulticolor":false,"isMulticolor2":false,"tags":["end-call"],"defaultCode":59663,"grid":0},"attrs":[{}],"properties":{"order":960,"id":21,"name":"end-call","prevSize":32,"code":59663},"setIdx":0,"setId":1,"iconIdx":21},{"icon":{"paths":["M42.667 499.823l201.155-201.156 40.231 40.231-132.762 132.761h721.474l-132.762-132.761 40.23-40.231 201.156 201.156-201.156 201.152-40.23-40.23 132.762-132.762h-721.474l132.762 132.762-40.231 40.23-201.155-201.152z"],"attrs":[{"fill":"rgb(255, 255, 255)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["expand"],"grid":0},"attrs":[{"fill":"rgb(255, 255, 255)"}],"properties":{"order":961,"id":22,"name":"expand","prevSize":32,"code":59683},"setIdx":0,"setId":1,"iconIdx":22},{"icon":{"paths":["M170.667 85.333c-47.128 0-85.333 38.205-85.333 85.333v213.333c0 47.13 38.205 85.333 85.333 85.333h213.333c47.13 0 85.333-38.204 85.333-85.333v-213.333c0-47.128-38.204-85.333-85.333-85.333h-213.333z","M170.667 554.667c-47.128 0-85.333 38.204-85.333 85.333v213.333c0 47.13 38.205 85.333 85.333 85.333h213.333c47.13 0 85.333-38.204 85.333-85.333v-213.333c0-47.13-38.204-85.333-85.333-85.333h-213.333z","M554.667 170.667c0-47.128 38.204-85.333 85.333-85.333h213.333c47.13 0 85.333 38.205 85.333 85.333v213.333c0 47.13-38.204 85.333-85.333 85.333h-213.333c-47.13 0-85.333-38.204-85.333-85.333v-213.333z","M640 554.667c-47.13 0-85.333 38.204-85.333 85.333v213.333c0 47.13 38.204 85.333 85.333 85.333h213.333c47.13 0 85.333-38.204 85.333-85.333v-213.333c0-47.13-38.204-85.333-85.333-85.333h-213.333z"],"attrs":[{"fill":"rgb(255, 255, 255)"},{"fill":"rgb(255, 255, 255)"},{"fill":"rgb(255, 255, 255)"},{"fill":"rgb(255, 255, 255)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["grid"],"grid":0},"attrs":[{"fill":"rgb(255, 255, 255)"},{"fill":"rgb(255, 255, 255)"},{"fill":"rgb(255, 255, 255)"},{"fill":"rgb(255, 255, 255)"}],"properties":{"order":962,"id":23,"name":"grid","prevSize":32,"code":59719},"setIdx":0,"setId":1,"iconIdx":23},{"icon":{"paths":["M484.299 706.15h55.502v-245.351h-55.502v245.351zM512.051 396.799c8.53 0 15.647-3.021 21.35-9.062 5.663-6.042 8.499-13.329 8.499-21.862 0-7.816-2.836-14.746-8.499-20.787-5.704-6.075-12.82-9.114-21.35-9.114-8.535 0-15.652 2.85-21.352 8.55-5.666 5.701-8.499 12.817-8.499 21.35s2.833 15.821 8.499 21.862c5.7 6.042 12.817 9.062 21.352 9.062zM512.051 900.25c-53.318 0-103.63-10.122-150.939-30.362-47.274-20.275-88.525-48.010-123.75-83.2-35.191-35.226-62.925-76.477-83.2-123.75-20.241-47.309-30.362-97.623-30.362-150.938 0-54.033 10.121-104.516 30.362-151.45 20.275-46.933 48.009-88.013 83.2-123.238 35.226-35.191 76.476-62.925 123.75-83.2 47.309-20.241 97.622-30.362 150.939-30.362 54.031 0 104.515 10.121 151.45 30.362 46.93 20.275 88.013 48.009 123.238 83.2 35.19 35.226 62.925 76.476 83.2 123.75 20.239 47.309 30.362 97.622 30.362 150.938 0 53.315-10.122 103.629-30.362 150.938-20.275 47.273-48.010 88.525-83.2 123.75-35.226 35.19-76.477 62.925-123.75 83.2-47.309 20.239-97.623 30.362-150.938 30.362zM512.051 844.8c92.431 0 171.008-32.358 235.725-97.075s97.075-143.293 97.075-235.725c0-92.433-32.358-171.008-97.075-235.725s-143.293-97.075-235.725-97.075c-92.434 0-171.010 32.358-235.726 97.075s-97.075 143.292-97.075 235.725c0 92.432 32.358 171.009 97.075 235.725s143.292 97.075 235.726 97.075z"],"attrs":[{"opacity":0.5}],"isMulticolor":false,"isMulticolor2":false,"tags":["info"],"defaultCode":59665,"grid":0},"attrs":[{"opacity":0.5}],"properties":{"order":963,"id":24,"name":"info","prevSize":32,"code":59665},"setIdx":0,"setId":1,"iconIdx":24},{"icon":{"paths":["M739.554 512c-15.642 0-28.442 12.8-28.442 28.446v170.667h-398.224v-398.224h170.665c15.646 0 28.446-12.8 28.446-28.444s-12.8-28.445-28.446-28.445h-170.665c-31.289 0-56.889 25.6-56.889 56.889v398.224c0 31.287 25.6 56.887 56.889 56.887h398.224c31.287 0 56.887-25.6 56.887-56.887v-170.667c0-15.646-12.8-28.446-28.446-28.446z","M753.792 256h-150.473c-12.8 0-19.055 15.36-9.954 24.178l55.181 55.182-221.867 221.867c-2.632 2.633-4.721 5.76-6.146 9.199-1.425 3.443-2.159 7.13-2.159 10.854s0.734 7.411 2.159 10.854c1.425 3.439 3.514 6.566 6.146 9.199 2.637 2.633 5.76 4.723 9.203 6.148 3.439 1.425 7.13 2.159 10.85 2.159 3.725 0 7.415-0.734 10.854-2.159s6.566-3.516 9.199-6.148l221.585-221.582 55.181 55.182c9.101 8.819 24.461 2.56 24.461-10.24v-150.471c0-7.964-6.255-14.222-14.221-14.222z"],"attrs":[{"fill":"rgb(9, 157, 253)"},{"fill":"rgb(9, 157, 253)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["link-share"],"defaultCode":59707,"grid":0},"attrs":[{"fill":"rgb(9, 157, 253)"},{"fill":"rgb(9, 157, 253)"}],"properties":{"order":964,"id":25,"name":"link-share","prevSize":32,"code":59707},"setIdx":0,"setId":1,"iconIdx":25},{"icon":{"paths":["M256 85.495c23.564 0 42.667 19.103 42.667 42.667v128c0 23.564-19.103 42.667-42.667 42.667h-128c-23.564 0-42.667-19.102-42.667-42.667v-128c0-23.564 19.103-42.667 42.667-42.667h128zM640 128.161c0-23.564-19.102-42.667-42.667-42.667h-170.667c-23.564 0-42.667 19.103-42.667 42.667v128c0 23.564 19.103 42.667 42.667 42.667h170.667c23.565 0 42.667-19.102 42.667-42.667v-128zM938.667 128.161c0-23.564-19.102-42.667-42.667-42.667h-128c-23.565 0-42.667 19.103-42.667 42.667v128c0 23.564 19.102 42.667 42.667 42.667h128c23.565 0 42.667-19.102 42.667-42.667v-128zM128 384.161c-23.564 0-42.667 19.103-42.667 42.668v469.333c0 23.565 19.103 42.667 42.667 42.667h768c23.565 0 42.667-19.102 42.667-42.667v-469.333c0-23.565-19.102-42.668-42.667-42.668h-768z"],"attrs":[{}],"isMulticolor":false,"isMulticolor2":false,"tags":["list-view"],"defaultCode":59668,"grid":0},"attrs":[{}],"properties":{"order":965,"id":26,"name":"list-view","prevSize":32,"code":59668},"setIdx":0,"setId":1,"iconIdx":26},{"icon":{"paths":["M800.676 751.514c12.416-33.055 18.621-69.868 18.621-110.423v-381.694c0-14.127-4.413-25.524-13.245-34.191-8.858-8.698-20.485-13.047-34.872-13.047-14.392 0-26.015 4.349-34.877 13.047-8.827 8.667-13.24 20.064-13.24 34.191v212.083c0 4.472-1.48 8.158-4.434 11.058-2.918 2.899-6.676 4.349-11.264 4.349s-8.182-1.45-10.793-4.349c-2.637-2.899-3.958-6.585-3.958-11.058v-324.833c0-13.51-4.572-24.752-13.711-33.728-9.175-9.006-20.628-13.51-34.36-13.51-14.418 0-26.045 4.504-34.872 13.51-8.832 8.976-13.245 20.218-13.245 33.728v324.833c0 4.472-1.475 8.158-4.429 11.058s-6.723 4.349-11.31 4.349c-4.557 0-8.31-1.45-11.264-4.349s-4.434-6.585-4.434-11.058v-374.013c0-14.127-4.255-25.369-12.769-33.728s-19.968-12.538-34.355-12.538c-14.392 0-26.017 4.179-34.878 12.538-8.828 8.359-13.243 19.601-13.243 33.728v329.177l330.934 324.871zM439.296 396.755l-95.247-93.503v-123.849c0-14.127 4.257-25.523 12.772-34.19 8.515-8.698 19.967-13.047 34.357-13.047 14.422 0 26.047 4.349 34.875 13.047 8.829 8.667 13.243 20.064 13.243 34.19v217.353zM533.555 921.6c-64.128 0-121.076-17.193-170.844-51.584-49.737-34.36-86.717-84.316-110.942-149.857l-93.268-239.056c-5.876-14.126-6.363-26.664-1.461-37.614 4.901-10.918 13.573-16.378 26.015-16.378 18.977 0 36.321 6.585 52.030 19.756s26.188 26.834 31.435 40.991l44.16 107.937c1.32 2.591 7.211 6.124 17.673 10.598h15.694v-105.644l-292.849-292.848 54.306-54.306 814.635 814.639-54.303 54.303-154.163-154.158c-48.251 35.482-107.628 53.222-178.12 53.222z"],"attrs":[{"fill":"rgb(9, 157, 253)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["lower-hand"],"grid":0},"attrs":[{"fill":"rgb(9, 157, 253)"}],"properties":{"order":966,"id":27,"name":"lower-hand","prevSize":32,"code":59669},"setIdx":0,"setId":1,"iconIdx":27},{"icon":{"paths":["M735.991 604.804l-48-48c7.113-12.087 12.629-25.6 16.555-40.533 3.895-14.933 5.845-30.579 5.845-46.933h64c0 26.313-3.371 50.658-10.112 73.045-6.771 22.413-16.201 43.221-28.288 62.421zM598.391 466.138l-58.667-58.667v-194.133c0-12.089-4.083-22.229-12.245-30.421-8.192-8.164-18.334-12.245-30.421-12.245s-22.217 4.081-30.379 12.245c-8.192 8.192-12.288 18.332-12.288 30.421v107.733l-64-64v-43.733c0-29.867 10.311-55.111 30.933-75.733 20.621-20.623 45.867-30.933 75.733-30.933s55.113 10.311 75.733 30.933c20.621 20.622 30.933 45.867 30.933 75.733v228.267c0 4.979-0.525 9.417-1.579 13.312-1.079 3.925-2.334 7.667-3.755 11.221zM465.058 885.338v-140.8c-70.4-7.821-128.881-37.858-175.445-90.112-46.592-52.279-69.888-113.975-69.888-185.088h64c0 59.021 20.622 109.325 61.866 150.912 41.245 41.613 91.733 62.421 151.467 62.421 27.021 0 52.621-4.979 76.8-14.933s45.513-23.467 64-40.533l45.867 45.867c-20.621 19.2-44.087 35.2-70.4 48s-54.4 20.621-84.267 23.467v140.8h-64zM847.991 926.938l-776.533-776.533 44.8-44.8 776.533 775.467-44.8 45.867z","M857.617 935.467l-787.2-786.135 45.867-44.8 786.134 786.135-44.8 44.8z"],"attrs":[{},{}],"isMulticolor":false,"isMulticolor2":false,"tags":["mic-off"],"defaultCode":59670,"grid":0},"attrs":[{},{}],"properties":{"order":967,"id":28,"name":"mic-off","prevSize":32,"code":59670},"setIdx":0,"setId":1,"iconIdx":28},{"icon":{"paths":["M741.325 609.075l-52.275-51.2c4.982-7.818 9.078-16.538 12.288-26.163 3.21-9.59 5.514-19.712 6.912-30.361 1.434-9.25 5.002-16.538 10.701-21.862 5.668-5.359 12.764-8.038 21.299-8.038 10.685 0 19.574 3.738 26.675 11.213 7.132 7.475 9.984 16.538 8.55 27.187-2.867 18.498-6.963 36.111-12.288 52.838-5.325 16.691-12.611 32.154-21.862 46.387zM605.85 474.676l-215.45-216.525v-40.55c0-30.584 10.838-56.713 32.512-78.387 21.709-21.709 47.855-32.563 78.438-32.563 30.582 0 56.525 10.854 77.824 32.563 21.366 21.674 32.051 47.803 32.051 78.387v225.075c0 5.666-0.358 11.537-1.075 17.613-0.717 6.042-2.15 10.837-4.301 14.387zM817.050 907.725l-717.824-716.799c-6.417-6.383-9.626-14.2-9.626-23.45s3.209-17.425 9.626-24.525c7.1-7.134 15.274-10.701 24.525-10.701s17.066 3.567 23.45 10.701l717.875 716.799c6.385 7.101 9.574 15.089 9.574 23.962 0 8.909-3.19 16.911-9.574 24.013-7.101 6.415-15.273 9.626-24.525 9.626s-17.085-3.21-23.501-9.626zM467.2 851.2v-102.4c-64-7.101-118.221-33.060-162.662-77.875-44.442-44.785-70.57-98.473-78.387-161.075-1.434-10.65 1.399-19.712 8.499-27.187 7.134-7.475 16.026-11.213 26.675-11.213 7.817 0 14.575 2.679 20.275 8.038 5.7 5.325 9.609 12.612 11.725 21.862 7.134 51.199 30.242 94.039 69.325 128.511 39.117 34.473 85.35 51.712 138.701 51.712 25.6 0 49.766-4.608 72.499-13.824 22.769-9.252 43.044-21.709 60.826-37.376l50.125 50.176c-19.901 18.468-42.481 33.572-67.738 45.312s-52.465 19.389-81.613 22.938v102.4c0 9.252-3.379 17.254-10.138 24.013s-14.746 10.138-23.962 10.138c-9.25 0-17.254-3.379-24.013-10.138s-10.138-14.761-10.138-24.013z"],"attrs":[{"fill":"rgb(197, 197, 197)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["mic-off-filled"],"grid":0},"attrs":[{"fill":"rgb(197, 197, 197)"}],"properties":{"order":968,"id":29,"name":"mic-off-filled","prevSize":32,"code":59720},"setIdx":0,"setId":1,"iconIdx":29},{"icon":{"paths":["M741.325 609.075l-52.275-51.2c4.265-7.818 8.192-16.538 11.776-26.163 3.548-9.59 6.026-19.712 7.424-30.361 1.434-9.25 5.002-16.538 10.701-21.862 5.668-5.359 12.764-8.038 21.299-8.038 10.685 0 19.574 3.738 26.675 11.213 7.132 7.475 9.984 16.538 8.55 27.187-2.867 18.498-6.963 36.111-12.288 52.838-5.325 16.691-12.611 32.154-21.862 46.387zM605.85 474.676l-62.925-62.925v-194.15c0-12.083-4.081-22.221-12.237-30.413-8.192-8.158-17.971-12.237-29.338-12.237-12.083 0-22.221 4.079-30.413 12.237-8.192 8.192-12.288 18.33-12.288 30.413v108.8l-68.25-68.25v-40.55c0-30.584 10.838-56.713 32.512-78.387 21.709-21.709 47.855-32.563 78.438-32.563 30.582 0 56.525 10.854 77.824 32.563 21.366 21.674 32.051 47.803 32.051 78.387v225.075c0 5.666-0.358 11.537-1.075 17.613-0.717 6.042-2.15 10.837-4.301 14.387zM817.050 907.725l-717.824-716.799c-6.417-6.383-9.626-14.2-9.626-23.45s3.209-17.425 9.626-24.525c7.1-7.134 15.274-10.701 24.525-10.701s17.066 3.567 23.45 10.701l717.875 716.799c6.385 7.101 9.574 15.089 9.574 23.962 0 8.909-3.19 16.911-9.574 24.013-7.101 6.415-15.273 9.626-24.525 9.626s-17.085-3.21-23.501-9.626zM467.2 851.2v-103.475c-64-7.101-118.221-32.87-162.662-77.312s-70.57-97.961-78.387-160.563c-1.434-10.65 1.229-19.712 7.987-27.187s15.821-11.213 27.187-11.213c7.817 0 14.575 2.679 20.275 8.038 5.7 5.325 9.609 12.612 11.725 21.862 6.417 50.483 29.354 93.148 68.813 127.999 39.458 34.816 85.862 52.224 139.213 52.224 25.6 0 49.956-4.439 73.062-13.312s43.197-21.504 60.262-37.888l50.125 50.176c-19.901 18.468-42.481 33.572-67.738 45.312s-52.465 19.031-81.613 21.862v103.475c0 9.252-3.379 17.254-10.138 24.013s-14.746 10.138-23.962 10.138c-9.25 0-17.254-3.379-24.013-10.138s-10.138-14.761-10.138-24.013z"],"attrs":[{"fill":"rgb(197, 197, 197)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["mic-off-outlined"],"grid":0},"attrs":[{"fill":"rgb(197, 197, 197)"}],"properties":{"order":969,"id":30,"name":"mic-off-outlined","prevSize":32,"code":59721},"setIdx":0,"setId":1,"iconIdx":30},{"icon":{"paths":["M512 599.671c-32.367 0-59.725-11.298-82.074-33.899-22.351-22.601-33.526-50.266-33.526-82.995v-280.549c0-32.731 11.175-60.396 33.526-82.996 22.349-22.6 49.707-33.9 82.074-33.9s59.725 11.3 82.074 33.9c22.353 22.6 33.527 50.265 33.527 82.996v280.549c0 32.73-11.174 60.395-33.527 82.995-22.349 22.601-49.707 33.899-82.074 33.899zM512 938.667c-10.018 0-18.295-3.302-24.832-9.911-6.566-6.639-9.847-15.027-9.847-25.156v-119.232c-70.131-7.795-129.657-36.442-178.578-85.943-48.952-49.468-77.282-108.881-84.989-178.24-1.541-10.133 1.156-18.893 8.092-26.278 6.936-7.42 15.799-11.127 26.588-11.127 8.477 0 15.983 3.115 22.519 9.348 6.566 6.238 10.62 14.029 12.161 23.381 7.706 56.887 33.138 104.614 76.295 143.172 43.157 38.592 94.023 57.886 152.591 57.886s109.436-19.294 152.593-57.886c43.153-38.558 68.587-86.285 76.292-143.172 1.545-9.353 5.581-17.143 12.117-23.381 6.566-6.234 14.089-9.348 22.562-9.348 10.79 0 19.652 3.708 26.59 11.127 6.938 7.386 9.634 16.145 8.090 26.278-7.706 69.359-36.019 128.772-84.941 178.24-48.951 49.502-108.493 78.148-178.624 85.943v119.232c0 10.129-3.268 18.517-9.801 25.156-6.566 6.609-14.861 9.911-24.879 9.911z"],"attrs":[{}],"isMulticolor":false,"isMulticolor2":false,"tags":["mic-on"],"defaultCode":59671,"grid":0},"attrs":[{}],"properties":{"order":970,"id":31,"name":"mic-on","prevSize":32,"code":59671},"setIdx":0,"setId":1,"iconIdx":31},{"icon":{"paths":["M513.075 582.4c-30.582 0-56.712-10.839-78.386-32.512-21.709-21.709-32.563-47.855-32.563-78.438v-254.925c0-30.584 10.854-56.542 32.563-77.875 21.674-21.334 47.804-32 78.386-32 30.587 0 56.545 10.666 77.875 32 21.335 21.333 32 47.291 32 77.875v254.925c0 30.583-10.665 56.729-32 78.438-21.33 21.673-47.288 32.512-77.875 32.512zM513.075 885.35c-9.249 0-17.253-3.379-24.012-10.138s-10.138-14.761-10.138-24.013v-102.4c-64-7.101-118.221-33.060-162.662-77.875-44.442-44.785-70.57-98.473-78.387-161.075-1.434-10.65 1.229-19.712 7.987-27.187s15.821-11.213 27.187-11.213c7.817 0 14.763 2.679 20.838 8.038 6.042 5.325 9.762 12.612 11.162 21.862 7.134 50.483 30.242 93.148 69.325 127.999 39.117 34.816 85.35 52.224 138.7 52.224 52.603 0 98.458-17.408 137.574-52.224 39.117-34.852 62.228-77.517 69.325-127.999 1.434-9.25 5.002-16.538 10.701-21.862 5.704-5.359 12.82-8.038 21.35-8.038 11.366 0 20.429 3.738 27.187 11.213s9.421 16.538 7.987 27.187c-7.096 62.602-32.87 116.29-77.312 161.075-44.472 44.815-98.693 70.774-162.662 77.875v102.4c0 9.252-3.379 17.254-10.138 24.013s-14.761 10.138-24.013 10.138z"],"attrs":[{"fill":"rgb(197, 197, 197)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["mic-on-filled"],"grid":0},"attrs":[{"fill":"rgb(197, 197, 197)"}],"properties":{"order":971,"id":32,"name":"mic-on-filled","prevSize":32,"code":59722},"setIdx":0,"setId":1,"iconIdx":32},{"icon":{"paths":["M513.075 582.4c-30.582 0-56.712-10.839-78.386-32.512-21.709-21.709-32.563-47.855-32.563-78.438v-254.925c0-30.584 10.854-56.542 32.563-77.875 21.674-21.334 47.804-32 78.386-32 30.587 0 56.545 10.666 77.875 32 21.335 21.333 32 47.291 32 77.875v254.925c0 30.583-10.665 56.729-32 78.438-21.33 21.673-47.288 32.512-77.875 32.512zM513.075 885.35c-9.249 0-17.253-3.379-24.012-10.138s-10.138-14.761-10.138-24.013v-103.475c-64-7.101-118.221-32.87-162.662-77.312s-70.57-97.961-78.387-160.563c-1.434-10.65 1.229-19.712 7.987-27.187s15.821-11.213 27.187-11.213c7.817 0 14.763 2.679 20.838 8.038 6.042 5.325 9.762 12.612 11.162 21.862 7.134 50.483 30.242 93.148 69.325 127.999 39.117 34.816 85.35 52.224 138.7 52.224 52.603 0 98.458-17.408 137.574-52.224 39.117-34.852 62.228-77.517 69.325-127.999 1.434-9.25 5.002-16.538 10.701-21.862 5.704-5.359 12.82-8.038 21.35-8.038 11.366 0 20.429 3.738 27.187 11.213s9.421 16.538 7.987 27.187c-7.096 62.602-32.87 116.121-77.312 160.563-44.472 44.442-98.693 70.211-162.662 77.312v103.475c0 9.252-3.379 17.254-10.138 24.013s-14.761 10.138-24.013 10.138zM513.075 514.15c12.083 0 22.036-4.095 29.85-12.287 7.818-8.192 11.725-18.33 11.725-30.413v-254.925c0-12.083-3.907-22.033-11.725-29.85-7.813-7.817-17.766-11.725-29.85-11.725-12.082 0-22.22 3.908-30.412 11.725-8.158 7.816-12.237 17.766-12.237 29.85v254.925c0 12.083 4.079 22.221 12.237 30.413 8.192 8.192 18.33 12.287 30.412 12.287z"],"attrs":[{"fill":"rgb(197, 197, 197)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["mic-on-outlined"],"grid":0},"attrs":[{"fill":"rgb(197, 197, 197)"}],"properties":{"order":972,"id":33,"name":"mic-on-outlined","prevSize":32,"code":59723},"setIdx":0,"setId":1,"iconIdx":33},{"icon":{"paths":["M441.617 226.089c0-19.549 6.852-36.159 20.553-49.828 13.67-13.7 30.276-20.55 49.826-20.55s36.16 6.85 49.83 20.55c13.7 13.669 20.548 30.278 20.548 49.828s-6.848 36.175-20.548 49.874c-13.67 13.669-30.281 20.503-49.83 20.503s-36.156-6.834-49.826-20.503c-13.7-13.7-20.553-30.325-20.553-49.874zM441.617 497.045c0-19.55 6.852-36.16 20.553-49.83 13.67-13.7 30.276-20.549 49.826-20.549s36.16 6.848 49.83 20.549c13.7 13.67 20.548 30.281 20.548 49.83s-6.848 36.156-20.548 49.826c-13.67 13.7-30.281 20.553-49.83 20.553s-36.156-6.852-49.826-20.553c-13.7-13.67-20.553-30.276-20.553-49.826zM441.617 768c0-19.55 6.852-36.16 20.553-49.826 13.67-13.7 30.276-20.553 49.826-20.553s36.16 6.852 49.83 20.553c13.7 13.666 20.548 30.276 20.548 49.826s-6.848 36.173-20.548 49.873c-13.67 13.67-30.281 20.506-49.83 20.506s-36.156-6.835-49.826-20.506c-13.7-13.7-20.553-30.323-20.553-49.873z"],"attrs":[{}],"isMulticolor":false,"isMulticolor2":false,"tags":["more-menu"],"defaultCode":59672,"grid":0},"attrs":[{}],"properties":{"order":973,"id":34,"name":"more-menu","prevSize":32,"code":59672},"setIdx":0,"setId":1,"iconIdx":34},{"icon":{"paths":["M857.604 928.495l-763.508-786.65c-5.842-6.028-8.763-13.563-8.763-22.605s3.286-16.954 9.859-23.735c6.572-6.781 14.43-10.172 23.573-10.172 9.114 0 16.957 3.391 23.529 10.172l762.413 786.649c5.841 6.029 8.764 13.564 8.764 22.605s-3.285 16.951-9.86 23.735c-6.571 6.78-14.238 10.172-23.002 10.172s-16.431-3.392-23.006-10.172zM784.213 628.979l-461.173-474.701h381.207c22.639 0 41.626 7.912 56.96 23.735 15.339 15.823 23.006 35.037 23.006 57.642v206.836l119.398-123.198c6.575-6.781 14.067-8.484 22.481-5.108 8.384 3.406 12.574 10.006 12.574 19.802v318.728c0 9.796-4.19 16.38-12.574 19.759-8.414 3.405-15.906 1.715-22.481-5.065l-119.398-123.196v84.766zM200.352 155.408l582.764 601.289c-0.73 20.343-9.126 38.050-25.195 53.12s-34.325 22.605-54.771 22.605h-498.417c-21.908 0-40.531-7.91-55.866-23.735-15.336-15.821-23.004-35.034-23.004-57.643v-515.389c0-20.344 7.303-38.805 21.908-55.382s32.133-24.866 52.58-24.866z","M298.667 1024c-40.818 0-79.395-7.842-115.733-23.522s-68.071-37.082-95.2-64.213c-27.129-27.127-48.533-58.859-64.213-95.198s-23.52-75.166-23.52-116.48c0-40.819 7.84-79.394 23.52-115.733s37.085-67.947 64.213-94.827c27.129-26.88 58.862-48.162 95.2-63.842s75.165-23.518 116.48-23.518c40.818 0 79.395 7.838 115.733 23.518 36.339 15.68 67.947 36.962 94.827 63.842s48.158 58.487 63.838 94.827c15.68 36.339 23.522 75.166 23.522 116.48 0 40.819-7.842 79.394-23.522 115.733s-36.958 68.070-63.838 95.198c-26.88 27.132-58.487 48.533-94.827 64.213-36.338 15.68-75.165 23.522-116.48 23.522z","M256 533.333v256h85.333v-256h-85.333z","M298.667 938.667c23.564 0 42.667-19.102 42.667-42.667s-19.103-42.667-42.667-42.667c-23.564 0-42.667 19.102-42.667 42.667s19.103 42.667 42.667 42.667z"],"attrs":[{"fill":"rgb(143, 143, 143)"},{"fill":"rgb(255, 171, 0)"},{"fill":"rgb(255, 255, 255)"},{"fill":"rgb(255, 255, 255)"}],"isMulticolor":true,"isMulticolor2":false,"tags":["no-cam"],"grid":0},"attrs":[{"fill":"rgb(143, 143, 143)"},{"fill":"rgb(255, 171, 0)"},{"fill":"rgb(255, 255, 255)"},{"fill":"rgb(255, 255, 255)"}],"properties":{"order":974,"id":35,"name":"no-cam","prevSize":32,"code":59673,"codes":[59673,59674,59675,59676]},"setIdx":0,"setId":1,"iconIdx":35},{"icon":{"paths":["M742.306 612.459l-51.61-50.795c5.35-8.277 9.937-17.681 13.764-28.22 3.823-10.534 6.498-21.444 8.026-32.734 1.532-9.028 5.551-16.555 12.066-22.575 6.485-6.016 13.931-9.028 22.345-9.028 10.705 0 19.499 3.584 26.381 10.748 6.878 7.134 9.557 15.59 8.026 25.374-3.059 20.318-7.829 39.309-14.315 56.977-6.511 17.698-14.741 34.449-24.683 50.253zM594.351 465.719l-223.656-221.233v-46.279c0-31.605 11.087-58.319 33.262-80.141s49.321-32.734 81.432-32.734c32.115 0 59.26 10.911 81.434 32.734 22.178 21.822 33.263 48.536 33.263 80.141v241.553c0 5.265-0.563 9.963-1.698 14.084-1.161 4.156-2.509 8.115-4.036 11.874zM838.652 929.638l-786.81-774.323c-6.117-6.020-9.175-13.74-9.175-23.162 0-9.391 3.058-17.473 9.175-24.245 6.882-6.772 15.11-10.159 24.683-10.159 9.542 0 17.373 3.386 23.49 10.159l786.808 773.193c6.118 6.771 9.178 14.869 9.178 24.29 0 9.391-3.059 17.472-9.178 24.247-6.878 6.020-15.091 9.028-24.636 9.028-9.57 0-17.417-3.008-23.535-9.028zM450.982 875.456v-115.132c-69.582-7.526-128.658-35.187-177.228-82.987-48.539-47.765-76.632-105.139-84.278-172.109-1.529-9.783 1.147-18.24 8.029-25.374 6.882-7.164 15.675-10.748 26.38-10.748 8.411 0 15.675 3.012 21.792 9.028 6.117 6.020 10.323 13.547 12.617 22.575 7.646 54.933 32.879 101.018 75.699 138.253 42.819 37.261 93.284 55.893 151.396 55.893 29.056 0 56.585-5.265 82.581-15.804 25.997-10.534 48.939-24.832 68.817-42.889l49.318 48.533c-22.174 20.318-47.407 37.052-75.695 50.206-28.292 13.184-58.496 21.658-90.611 25.421v115.132c0 9.783-3.243 17.882-9.728 24.29-6.515 6.383-14.741 9.574-24.683 9.574-9.937 0-18.15-3.191-24.636-9.574-6.515-6.409-9.771-14.507-9.771-24.29z","M298.667 1024c-40.818 0-79.395-7.842-115.733-23.522s-68.071-37.082-95.2-64.213c-27.129-27.127-48.533-58.859-64.213-95.198s-23.52-75.166-23.52-116.48c0-40.819 7.84-79.394 23.52-115.733s37.085-67.947 64.213-94.827c27.129-26.88 58.862-48.162 95.2-63.842s75.165-23.518 116.48-23.518c40.818 0 79.395 7.838 115.733 23.518 36.339 15.68 67.947 36.962 94.827 63.842s48.158 58.487 63.838 94.827c15.68 36.339 23.522 75.166 23.522 116.48 0 40.819-7.842 79.394-23.522 115.733s-36.958 68.070-63.838 95.198c-26.88 27.132-58.487 48.533-94.827 64.213-36.338 15.68-75.165 23.522-116.48 23.522z","M256 533.333v256h85.333v-256h-85.333z","M298.667 938.667c23.564 0 42.667-19.102 42.667-42.667s-19.103-42.667-42.667-42.667c-23.564 0-42.667 19.102-42.667 42.667s19.103 42.667 42.667 42.667z"],"attrs":[{"fill":"rgb(143, 143, 143)"},{"fill":"rgb(255, 171, 0)"},{"fill":"rgb(255, 255, 255)"},{"fill":"rgb(255, 255, 255)"}],"isMulticolor":true,"isMulticolor2":false,"tags":["no-mic"],"defaultCode":59677,"grid":0},"attrs":[{"fill":"rgb(143, 143, 143)"},{"fill":"rgb(255, 171, 0)"},{"fill":"rgb(255, 255, 255)"},{"fill":"rgb(255, 255, 255)"}],"properties":{"order":975,"id":36,"name":"no-mic","prevSize":32,"codes":[59677,59678,59679,59680],"code":59677},"setIdx":0,"setId":1,"iconIdx":36},{"icon":{"paths":["M-4.25 772.271v-71.467c0-32.713 16.185-58.85 48.555-78.421 32.341-19.541 74.467-29.312 126.379-29.312 7.822 0 15.118 0.354 21.888 1.067l20.779 2.133c-10.667 14.933-18.489 31.117-23.467 48.555-4.978 17.408-7.467 35.712-7.467 54.912v72.533h-186.667zM251.75 772.271v-72.533c0-47.646 24.007-86.217 72.021-115.712 47.986-29.525 110.733-44.288 188.246-44.288 78.221 0 141.154 14.763 188.8 44.288 47.646 29.495 71.467 68.066 71.467 115.712v72.533h-520.534zM841.617 772.271v-72.533c0-19.2-2.658-37.504-7.979-54.912-5.346-17.438-13.001-33.621-22.955-48.555l20.821-2.133c6.741-0.713 14.025-1.067 21.845-1.067 51.913 0 94.050 9.771 126.421 29.312 32.341 19.571 48.512 45.709 48.512 78.421v71.467h-186.667zM170.683 551.471c-24.178 0-44.8-8.533-61.867-25.6s-25.6-37.687-25.6-61.867c0-24.179 8.533-44.985 25.6-62.421 17.067-17.408 37.689-26.112 61.867-26.112s44.8 8.704 61.867 26.112c17.067 17.436 25.6 38.242 25.6 62.421s-8.533 44.8-25.6 61.867c-17.067 17.067-37.689 25.6-61.867 25.6zM853.35 551.471c-24.179 0-44.8-8.533-61.867-25.6s-25.6-37.687-25.6-61.867c0-24.179 8.533-44.985 25.6-62.421 17.067-17.408 37.687-26.112 61.867-26.112s44.8 8.704 61.867 26.112c17.067 17.436 25.6 38.242 25.6 62.421s-8.533 44.8-25.6 61.867c-17.067 17.067-37.687 25.6-61.867 25.6zM512.017 507.738c-36.979 0-68.267-12.8-93.867-38.4s-38.4-56.533-38.4-92.8c0-36.978 12.8-68.267 38.4-93.867s56.888-38.4 93.867-38.4c36.979 0 68.267 12.8 93.867 38.4s38.4 56.889 38.4 93.867c0 36.267-12.8 67.2-38.4 92.8s-56.887 38.4-93.867 38.4z"],"attrs":[{"fill":"rgb(255, 255, 255)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["participants"],"grid":0},"attrs":[{"fill":"rgb(255, 255, 255)"}],"properties":{"order":976,"id":37,"name":"participants","prevSize":32,"code":59686},"setIdx":0,"setId":1,"iconIdx":37},{"icon":{"paths":["M809.574 374.374l-153.6-154.624 49.101-48.026q20.275-20.275 48.538-20.275t48.538 20.275l56.525 56.525q19.2 20.275 19.2 49.613t-20.275 48.538zM196.25 874.65q-15.974 0-28.262-12.237-12.237-12.288-12.237-28.262v-97.075q0-7.475 2.662-14.387 2.662-6.963 9.062-13.363l441.6-441.6 153.6 153.6-441.6 441.6q-6.4 6.4-13.363 9.062-6.912 2.662-14.387 2.662z"],"attrs":[{}],"isMulticolor":false,"isMulticolor2":false,"tags":["pencil-filled"],"grid":0},"attrs":[{}],"properties":{"order":977,"id":38,"name":"pencil-filled","prevSize":32,"code":59712},"setIdx":0,"setId":1,"iconIdx":38},{"icon":{"paths":["M224 806.4h56.525l385.075-385.075-55.45-56.525-386.15 386.15zM809.574 374.374l-153.6-154.624 49.101-48.026q20.275-20.275 48.538-20.275t48.538 20.275l56.525 56.525q19.2 20.275 19.2 49.613t-20.275 48.538zM196.25 874.65q-15.974 0-28.262-12.237-12.237-12.288-12.237-28.262v-97.075q0-7.475 2.662-14.387 2.662-6.963 9.062-13.363l441.6-441.6 153.6 153.6-441.6 441.6q-6.4 6.4-13.363 9.062-6.912 2.662-14.387 2.662zM637.85 393.626l-27.699-28.826 55.45 56.525z"],"attrs":[{}],"isMulticolor":false,"isMulticolor2":false,"tags":["pencil-outlined"],"grid":0},"attrs":[{}],"properties":{"order":978,"id":39,"name":"pencil-outlined","prevSize":32,"code":59735},"setIdx":0,"setId":1,"iconIdx":39},{"icon":{"paths":["M136.6 789.35v-73.626c0-16.348 3.908-30.566 11.725-42.65s18.842-22.39 33.075-30.925c34.816-19.932 71.441-35.942 109.875-48.026 38.366-12.083 82.090-18.125 131.174-18.125s92.807 6.042 131.176 18.125c38.431 12.083 75.059 28.093 109.875 48.026 14.234 8.535 25.257 18.842 33.075 30.925 7.813 12.083 11.725 26.301 11.725 42.65v73.626h-571.701zM785.101 789.35v-70.4c0-26.317-5.156-50.499-15.462-72.55-10.312-22.052-23.639-40.192-39.987-54.426 19.896 5.699 39.629 12.646 59.187 20.838 19.558 8.156 38.943 17.935 58.163 29.338 12.083 7.101 21.862 17.577 29.338 31.437 7.439 13.86 11.162 28.979 11.162 45.363v70.4h-102.4zM422.45 499.201c-36.966 0-68.25-12.971-93.85-38.912-25.6-25.976-38.4-57.088-38.4-93.338 0-37.001 12.8-68.301 38.4-93.901s56.883-38.4 93.85-38.4c36.966 0 68.25 12.8 93.851 38.4 25.6 25.6 38.4 56.9 38.4 93.901 0 36.25-12.8 67.362-38.4 93.338-25.602 25.941-56.885 38.912-93.851 38.912zM722.176 366.951c0 36.25-12.8 67.362-38.4 93.338-25.6 25.941-56.883 38.912-93.85 38.912-2.15 0-3.4 0.17-3.738 0.512-0.343 0.375-1.946 0.205-4.813-0.512 15.631-18.501 27.904-38.776 36.813-60.826 8.873-22.016 13.312-45.824 13.312-71.424 0-26.317-4.628-50.33-13.875-72.038-9.216-21.675-21.299-41.762-36.25-60.262h8.55c36.966 0 68.25 12.8 93.85 38.4s38.4 56.9 38.4 93.901z"],"attrs":[{"fill":"rgb(119, 119, 119)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["people"],"grid":0},"attrs":[{"fill":"rgb(119, 119, 119)"}],"properties":{"order":979,"id":40,"name":"people","prevSize":32,"code":59718},"setIdx":0,"setId":1,"iconIdx":40},{"icon":{"paths":["M487.619 499.756c-39.281 0-72.804-14.061-100.571-42.181-27.767-28.092-41.651-61.44-41.651-100.043 0-39.28 13.884-72.804 41.651-100.571s61.291-41.65 100.571-41.65c39.283 0 72.806 13.883 100.571 41.65s41.652 61.291 41.652 100.571c0 38.603-13.887 71.951-41.652 100.043-27.765 28.12-61.289 42.181-100.571 42.181zM182.857 808.58v-90.414c0-19.641 5.418-37.927 16.254-54.857s25.397-30.135 43.683-39.619c39.957-19.641 80.43-34.377 121.417-44.208 40.96-9.811 82.096-14.711 123.408-14.711s82.461 4.901 123.451 14.711c40.96 9.83 81.418 24.566 121.373 44.208 18.286 9.484 32.846 22.689 43.686 39.619 10.835 16.93 16.252 35.216 16.252 54.857v90.414h-609.524z"],"width":975,"attrs":[{"fill":"rgb(128, 128, 128)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["person"],"grid":0},"attrs":[{"fill":"rgb(128, 128, 128)"}],"properties":{"order":980,"id":41,"name":"person","prevSize":32,"code":59681},"setIdx":0,"setId":1,"iconIdx":41},{"icon":{"paths":["M572.252 651.402l0.036 132.762-39.209 39.209-140.291-140.293-156.908 156.908-39.209-0.036-0.036-39.209 156.908-156.908-140.29-140.289 39.208-39.208 132.76 0.036 205.166-205.167-36.204-36.204 39.209-39.208 259.441 259.437-39.209 39.209-36.204-36.204-205.169 205.167z"],"attrs":[{"fill":"rgb(197, 197, 197)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["pin-filled"],"grid":0},"attrs":[{"fill":"rgb(197, 197, 197)"}],"properties":{"order":981,"id":42,"name":"pin-filled","prevSize":32,"code":59724},"setIdx":0,"setId":1,"iconIdx":42},{"icon":{"paths":["M572.252 651.402l0.036 132.762-39.209 39.209-140.291-140.293-156.908 156.908-39.209-0.036-0.036-39.209 156.908-156.908-140.29-140.289 39.208-39.208 132.76 0.036 205.166-205.167-36.204-36.204 39.209-39.208 259.441 259.437-39.209 39.209-36.204-36.204-205.169 205.167zM308.289 520.166l208.171 208.169v-99.558l221.752-221.75-108.616-108.612-221.747 221.751h-99.56z"],"attrs":[{"fill":"rgb(197, 197, 197)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["pin-outlined"],"grid":0},"attrs":[{"fill":"rgb(197, 197, 197)"}],"properties":{"order":982,"id":43,"name":"pin-outlined","prevSize":32,"code":59725},"setIdx":0,"setId":1,"iconIdx":43},{"icon":{"paths":["M170.667 85.333c-47.128 0-85.333 38.205-85.333 85.333v213.333c0 47.13 38.205 85.333 85.333 85.333h213.333c47.13 0 85.333-38.204 85.333-85.333v-213.333c0-47.128-38.204-85.333-85.333-85.333h-213.333z","M170.667 554.667c-47.128 0-85.333 38.204-85.333 85.333v213.333c0 47.13 38.205 85.333 85.333 85.333h213.333c47.13 0 85.333-38.204 85.333-85.333v-213.333c0-47.13-38.204-85.333-85.333-85.333h-213.333z","M554.667 170.667c0-47.128 38.204-85.333 85.333-85.333h213.333c47.13 0 85.333 38.205 85.333 85.333v682.667c0 47.13-38.204 85.333-85.333 85.333h-213.333c-47.13 0-85.333-38.204-85.333-85.333v-682.667z"],"attrs":[{"fill":"rgb(255, 255, 255)"},{"fill":"rgb(255, 255, 255)"},{"fill":"rgb(255, 255, 255)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["pinned"],"grid":0},"attrs":[{"fill":"rgb(255, 255, 255)"},{"fill":"rgb(255, 255, 255)"},{"fill":"rgb(255, 255, 255)"}],"properties":{"order":983,"id":44,"name":"pinned","prevSize":32,"code":59726},"setIdx":0,"setId":1,"iconIdx":44},{"icon":{"paths":["M1024 512c0 282.77-229.23 512-512 512s-512-229.23-512-512c0-282.77 229.23-512 512-512s512 229.23 512 512z","M1024 512c0 282.77-229.23 512-512 512s-512-229.23-512-512c0-282.77 229.23-512 512-512s512 229.23 512 512z","M237.52 772.135v-37.445c0-68.645 55.647-124.293 124.292-124.293h290.016c68.645 0 124.292 55.648 124.292 124.293v26.929c-68.901 72.72-166.393 118.078-274.479 118.078-102.777 0-195.974-41.012-264.121-107.563z","M672.547 392.888c0 91.526-74.197 165.723-165.723 165.723s-165.723-74.197-165.723-165.723c0-91.526 74.197-165.723 165.723-165.723s165.723 74.197 165.723 165.723z"],"attrs":[{"fill":"rgb(0, 0, 0)"},{"fill":"rgb(9, 157, 253)"},{"fill":"rgb(255, 255, 255)"},{"fill":"rgb(255, 255, 255)"}],"isMulticolor":true,"isMulticolor2":false,"tags":["profile"],"defaultCode":59703,"grid":0},"attrs":[{"fill":"rgb(0, 0, 0)"},{"fill":"rgb(9, 157, 253)"},{"fill":"rgb(255, 255, 255)"},{"fill":"rgb(255, 255, 255)"}],"properties":{"order":984,"id":45,"name":"profile","prevSize":32,"codes":[59703,59704,59705,59706],"code":59703},"setIdx":0,"setId":1,"iconIdx":45},{"icon":{"paths":["M282.622 405.672c27.028 27.997 60.82 41.995 101.378 41.995s74.35-13.999 101.378-41.995c27.062-28.030 40.589-63.052 40.589-105.063s-13.527-77.017-40.589-105.013c-27.028-27.997-60.82-41.995-101.378-41.995s-74.35 13.999-101.378 41.995c-27.060 27.997-40.59 63.001-40.59 105.013s13.53 77.033 40.59 105.063z","M95.538 748.59c12.492 12.938 28.212 19.41 47.16 19.41h394.876c-62.165-46.705-102.374-121.057-102.374-204.8 0-24.1-16.496-46.653-40.588-47.16-3.541-0.077-7.078-0.113-10.612-0.113-41.239 0-82.803 5.074-124.69 15.227-41.921 10.184-82.478 24.719-121.673 43.607-18.267 9.108-32.982 22.231-44.143 39.373-11.129 17.178-16.694 36.265-16.694 57.272v29.394c0 18.888 6.246 34.816 18.738 47.79z","M717.251 631.368c-25.62 0-47.508-8.55-65.664-25.651-18.186-17.126-27.279-37.755-27.279-61.885v-201.139c0-24.131 9.093-44.612 27.279-61.444 18.156-16.832 40.044-25.248 65.664-25.248s47.365 8.416 65.234 25.248c17.874 16.832 26.808 37.314 26.808 61.444v201.139c0 24.131-8.934 44.759-26.808 61.885-17.869 17.101-39.613 25.651-65.234 25.651zM717.251 870.4c-7.747 0-14.454-2.668-20.116-7.997-5.663-5.335-8.494-11.648-8.494-18.949v-80.794c-53.612-5.601-99.031-26.081-136.259-61.445-37.228-35.333-59.118-77.696-65.666-127.089-1.201-8.402 1.029-15.549 6.691-21.448s13.253-8.847 22.777-8.847c6.543 0 12.365 2.115 17.454 6.339 5.059 4.204 8.177 9.953 9.349 17.254 5.975 39.828 25.334 73.492 58.076 100.992 32.768 27.469 71.496 41.206 116.188 41.206 44.063 0 82.478-13.737 115.246-41.206 32.768-27.5 52.127-61.164 58.071-100.992 1.203-7.301 4.193-13.051 8.965-17.254 4.777-4.224 10.737-6.339 17.884-6.339 9.523 0 17.116 2.949 22.779 8.847 5.658 5.898 7.89 13.046 6.687 21.448-5.944 49.393-27.535 91.756-64.763 127.089-37.258 35.364-82.678 55.844-136.264 61.445v80.794c0 7.301-2.826 13.614-8.489 18.949-5.663 5.33-12.37 7.997-20.116 7.997z"],"attrs":[{"fill":"rgb(250, 250, 250)"},{"fill":"rgb(250, 250, 250)"},{"fill":"rgb(250, 250, 250)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["promote-filled"],"grid":0},"attrs":[{"fill":"rgb(250, 250, 250)"},{"fill":"rgb(250, 250, 250)"},{"fill":"rgb(250, 250, 250)"}],"properties":{"order":985,"id":46,"name":"promote-filled","prevSize":32,"code":59727},"setIdx":0,"setId":1,"iconIdx":46},{"icon":{"paths":["M287.952 405.117c27.727 28.366 62.395 42.55 104.003 42.55s76.276-14.183 104.003-42.55c27.761-28.333 41.641-63.17 41.641-104.509 0-42.012-13.88-77.017-41.641-105.013-27.727-27.997-62.395-41.995-104.003-41.995s-76.276 13.999-104.003 41.995c-27.761 27.997-41.641 63.001-41.641 105.013 0 41.339 13.88 76.176 41.641 104.509zM448.626 357.879c-14.879 15.057-33.769 22.585-56.67 22.585s-41.791-7.528-56.67-22.585c-14.912-15.057-22.368-34.147-22.368-57.271 0-23.090 7.456-42.163 22.368-57.221 14.879-15.057 33.769-22.585 56.67-22.585s41.791 7.528 56.67 22.585c14.912 15.057 22.368 34.13 22.368 57.221 0 23.123-7.456 42.213-22.368 57.271z","M515.067 768c-15.893-12.211-30.127-26.511-42.299-42.496-11.118-14.597-27.707-24.704-46.058-24.704h-283.354v-29.394c0-8.402 2.247-15.58 6.74-21.524 4.527-5.985 10.602-10.726 18.225-14.218 34.651-15.396 71.233-27.996 109.745-37.811 38.479-9.779 76.442-14.669 113.889-14.669 1.087 0 2.174 0 3.262 0.010 16.866 0.123 31.134-13.455 33.638-30.136 2.784-18.55-9.628-36.762-28.382-37.059-2.842-0.046-5.682-0.072-8.519-0.072-42.307 0-84.947 5.074-127.92 15.227-43.006 10.184-84.963 24.719-125.873 43.607-18.041 9.108-32.787 22.231-44.237 39.373-11.417 17.178-17.126 36.265-17.126 57.272v29.394c0 18.212 6.574 33.976 19.722 47.288 13.181 13.276 29.142 19.912 47.882 19.912h370.662z","M717.251 631.368c-25.62 0-47.508-8.55-65.664-25.651-18.186-17.126-27.279-37.755-27.279-61.885v-201.139c0-24.131 9.093-44.612 27.279-61.444 18.156-16.832 40.044-25.248 65.664-25.248s47.365 8.416 65.234 25.248c17.874 16.832 26.808 37.314 26.808 61.444v201.139c0 24.131-8.934 44.759-26.808 61.885-17.869 17.101-39.613 25.651-65.234 25.651zM717.251 870.4c-7.747 0-14.454-2.668-20.116-7.997-5.663-5.335-8.494-11.648-8.494-18.949v-81.638c-53.612-5.606-99.031-25.938-136.259-61-37.228-35.067-59.118-77.297-65.666-126.689-1.201-8.402 1.029-15.549 6.691-21.448s13.253-8.847 22.777-8.847c6.543 0 12.365 2.115 17.454 6.339 5.059 4.204 8.177 9.953 9.349 17.254 5.975 39.828 25.334 73.492 58.076 100.992 32.768 27.469 71.496 41.206 116.188 41.206 44.063 0 82.478-13.737 115.246-41.206 32.768-27.5 52.127-61.164 58.071-100.992 1.203-7.301 4.193-13.051 8.965-17.254 4.777-4.224 10.737-6.339 17.884-6.339 9.523 0 17.116 2.949 22.779 8.847 5.658 5.898 7.89 13.046 6.687 21.448-5.944 49.393-27.535 91.622-64.763 126.689-37.258 35.062-82.678 55.393-136.264 61v81.638c0 7.301-2.826 13.614-8.489 18.949-5.663 5.33-12.37 7.997-20.116 7.997zM717.251 577.521c10.122 0 18.458-3.231 25.006-9.697 6.548-6.461 9.82-14.459 9.82-23.992v-201.139c0-9.534-3.272-17.384-9.82-23.551s-14.884-9.251-25.006-9.251c-10.122 0-18.616 3.084-25.477 9.251-6.835 6.167-10.25 14.018-10.25 23.551v201.139c0 9.533 3.415 17.531 10.25 23.992 6.861 6.467 15.355 9.697 25.477 9.697z","M716.8 307.2c28.277 0 51.2 22.923 51.2 51.2v204.8c0 28.277-22.923 51.2-51.2 51.2s-51.2-22.923-51.2-51.2v-204.8c0-28.277 22.923-51.2 51.2-51.2z"],"attrs":[{"fill":"rgb(250, 250, 250)"},{"fill":"rgb(250, 250, 250)"},{"fill":"rgb(250, 250, 250)"},{"fill":"rgb(250, 250, 250)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["promote-outlined"],"grid":0},"attrs":[{"fill":"rgb(250, 250, 250)"},{"fill":"rgb(250, 250, 250)"},{"fill":"rgb(250, 250, 250)"},{"fill":"rgb(250, 250, 250)"}],"properties":{"order":986,"id":47,"name":"promote-outlined","prevSize":32,"code":59728},"setIdx":0,"setId":1,"iconIdx":47},{"icon":{"paths":["M512.491 938.667c43.157 0 82.889-7.561 119.194-22.682 36.275-15.117 67.665-35.443 94.161-60.971 26.466-25.502 47.223-55.262 62.263-89.284 15.040-34.018 22.558-69.926 22.558-107.729v-219.238c0-12.6-4.407-23.159-13.222-31.676-8.841-8.492-19.797-12.739-32.879-12.739-13.077 0-24.034 4.246-32.875 12.739-8.815 8.518-13.222 19.076-13.222 31.676v170.099h-11.772c-39.232 4.412-70.293 18.436-93.18 42.074-22.886 23.612-35.635 51.166-38.251 82.667h-35.311c3.268-39.061 17.655-72.448 43.157-100.169s59.174-45.675 101.026-53.867v-370.439c0-12.6-4.407-23.159-13.222-31.676-8.841-8.492-19.802-12.739-32.879-12.739s-23.868 4.246-32.367 12.739c-8.499 8.518-12.749 19.076-12.749 31.676v274.993h-35.311v-355.318c0-12.6-4.42-22.995-13.261-31.185-8.815-8.19-19.435-12.285-31.859-12.285-13.077 0-24.026 4.095-32.841 12.285-8.841 8.19-13.261 18.585-13.261 31.185v355.318h-34.33v-307.124c0-11.97-4.407-22.365-13.22-31.185-8.841-8.82-19.8-13.23-32.878-13.23s-24.024 4.41-32.839 13.23c-8.841 8.82-13.261 19.215-13.261 31.185v330.748h-35.311v-220.183c0-12.6-4.407-23.146-13.222-31.639-8.841-8.518-19.473-12.777-31.897-12.777-13.078 0-24.024 4.259-32.839 12.777-8.841 8.492-13.261 19.039-13.261 31.639v370.438c0 37.803 7.52 73.711 22.56 107.729 15.040 34.022 35.964 63.782 62.774 89.284 26.81 25.527 58.367 45.854 94.671 60.971 36.277 15.121 75.996 22.682 119.153 22.682z"],"attrs":[{"fill":"rgb(9, 157, 253)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["raise-hand"],"defaultCode":59687,"grid":0},"attrs":[{"fill":"rgb(9, 157, 253)"}],"properties":{"order":987,"id":48,"name":"raise-hand","prevSize":32,"code":59687},"setIdx":0,"setId":1,"iconIdx":48},{"icon":{"paths":["M917.333 512c0-212.077-171.921-384-384-384-212.077 0-384 171.923-384 384 0 212.079 171.923 384 384 384 212.079 0 384-171.921 384-384zM960 512c0 235.639-191.027 426.667-426.667 426.667-235.642 0-426.667-191.027-426.667-426.667 0-235.642 191.025-426.667 426.667-426.667 235.639 0 426.667 191.025 426.667 426.667zM533.333 768c-141.385 0-256-114.615-256-256s114.615-256 256-256c141.385 0 256 114.615 256 256s-114.615 256-256 256z"],"width":1067,"attrs":[{}],"isMulticolor":false,"isMulticolor2":false,"tags":["recording"],"defaultCode":59688,"grid":0},"attrs":[{}],"properties":{"order":988,"id":49,"name":"recording","prevSize":32,"code":59688},"setIdx":0,"setId":1,"iconIdx":49},{"icon":{"paths":["M361.624 701.85l150.427-150.374 150.426 150.374 39.424-39.424-150.374-150.426 150.374-150.426-39.424-39.424-150.426 150.374-150.427-150.374-39.424 39.424 150.374 150.426-150.374 150.426 39.424 39.424zM512.051 900.25c-53.318 0-103.63-10.122-150.939-30.362-47.274-20.275-88.525-48.010-123.75-83.2-35.191-35.226-62.925-76.477-83.2-123.75-20.241-47.309-30.362-97.623-30.362-150.938 0-54.033 10.121-104.516 30.362-151.45 20.275-46.933 48.009-88.013 83.2-123.238 35.226-35.191 76.476-62.925 123.75-83.2 47.309-20.241 97.622-30.362 150.939-30.362 54.031 0 104.515 10.121 151.45 30.362 46.93 20.275 88.013 48.009 123.238 83.2 35.19 35.226 62.925 76.305 83.2 123.238 20.239 46.934 30.362 97.417 30.362 151.45 0 53.315-10.122 103.629-30.362 150.938-20.275 47.273-48.010 88.525-83.2 123.75-35.226 35.19-76.308 62.925-123.238 83.2-46.935 20.239-97.418 30.362-151.45 30.362z"],"attrs":[{}],"isMulticolor":false,"isMulticolor2":false,"tags":["remove"],"defaultCode":59689,"grid":0},"attrs":[{}],"properties":{"order":989,"id":50,"name":"remove","prevSize":32,"code":59689},"setIdx":0,"setId":1,"iconIdx":50},{"icon":{"paths":["M512.051 900.25c-53.318 0-103.63-10.122-150.939-30.362-47.274-20.275-88.525-48.010-123.75-83.2-35.191-35.226-62.925-76.477-83.2-123.75-20.241-47.309-30.362-97.623-30.362-150.938 0-54.033 10.121-104.516 30.362-151.45 20.275-46.933 48.009-88.013 83.2-123.238 35.226-35.191 76.476-62.925 123.75-83.2 47.309-20.241 97.622-30.362 150.939-30.362 54.031 0 104.515 10.121 151.45 30.362 46.93 20.275 88.013 48.009 123.238 83.2 35.19 35.226 62.925 76.305 83.2 123.238 20.239 46.934 30.362 97.417 30.362 151.45 0 53.315-10.122 103.629-30.362 150.938-20.275 47.273-48.010 88.525-83.2 123.75-35.226 35.19-76.308 62.925-123.238 83.2-46.935 20.239-97.418 30.362-151.45 30.362zM512.051 844.8c92.431 0 171.008-32.358 235.725-97.075s97.075-143.293 97.075-235.725c0-40.55-6.932-79.121-20.787-115.712-13.86-36.625-33.249-69.53-58.163-98.714l-468.277 468.276c29.184 24.919 62.089 44.303 98.714 58.163 36.591 13.86 75.162 20.787 115.714 20.787zM258.2 726.426l468.277-468.276c-29.184-24.917-62.090-44.305-98.714-58.163-36.593-13.858-75.162-20.787-115.712-20.787-92.434 0-171.010 32.358-235.726 97.075s-97.075 143.292-97.075 235.725c0 40.551 6.929 79.12 20.787 115.713 13.858 36.623 33.246 69.53 58.163 98.714z"],"attrs":[{"fill":"rgb(231, 65, 76)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["remove-meeting"],"grid":0},"attrs":[{"fill":"rgb(231, 65, 76)"}],"properties":{"order":990,"id":51,"name":"remove-meeting","prevSize":32,"code":59715},"setIdx":0,"setId":1,"iconIdx":51},{"icon":{"paths":["M490.667 682.667h85.333v-177.067l68.267 67.2 60.8-60.8-171.733-170.667-170.667 170.667 60.8 59.733 67.2-67.2v178.133zM192 853.333c-23.467 0-43.549-8.35-60.245-25.045-16.725-16.725-25.088-36.821-25.088-60.288v-512c0-23.467 8.363-43.549 25.088-60.245 16.697-16.725 36.779-25.088 60.245-25.088h682.667c23.467 0 43.563 8.363 60.288 25.088 16.695 16.697 25.045 36.779 25.045 60.245v512c0 23.467-8.35 43.563-25.045 60.288-16.725 16.695-36.821 25.045-60.288 25.045h-682.667z"],"width":1067,"attrs":[{}],"isMulticolor":false,"isMulticolor2":false,"tags":["screen-share"],"defaultCode":59690,"grid":0},"attrs":[{}],"properties":{"order":991,"id":52,"name":"screen-share","prevSize":32,"code":59690},"setIdx":0,"setId":1,"iconIdx":52},{"icon":{"paths":["M190.073 849.715c-14.605 5.858-28.594 4.604-41.966-3.767-13.405-8.367-20.107-20.924-20.107-37.662v-177.020c0-10.044 3.051-19.247 9.153-27.618 6.069-8.371 14.378-13.811 24.926-16.32l303.060-75.328-303.060-75.328c-10.548-2.509-18.857-7.731-24.926-15.667-6.102-7.968-9.153-17.392-9.153-28.273v-177.018c0-16.739 6.702-29.294 20.107-37.663 13.372-8.37 27.361-9.625 41.966-3.767l679.15 295.031c17.852 8.367 26.778 22.596 26.778 42.684s-8.926 34.317-26.778 42.684l-679.15 295.031z"],"attrs":[{}],"isMulticolor":false,"isMulticolor2":false,"tags":["send"],"defaultCode":59691,"grid":0},"attrs":[{}],"properties":{"order":992,"id":53,"name":"send","prevSize":32,"code":59691},"setIdx":0,"setId":1,"iconIdx":53},{"icon":{"paths":["M599.983 938.667h-134.409c-9.626 0-18.142-3.366-25.549-10.103s-11.849-15.347-13.329-25.826l-13.33-101.052c-11.849-3.742-23.875-9.357-36.079-16.845-12.234-7.484-23.535-15.343-33.902-23.578l-92.197 40.422c-9.627 3.742-19.061 4.117-28.303 1.122-9.271-2.995-16.87-8.981-22.794-17.967l-66.648-117.892c-5.184-8.981-6.665-18.534-4.443-28.655 2.222-10.091 7.035-18.129 14.441-24.119l81.089-61.751c-1.481-6.737-2.399-13.474-2.755-20.211-0.385-6.737-0.577-13.474-0.577-20.211 0-5.99 0.192-12.352 0.577-19.089 0.356-6.737 1.274-13.845 2.755-21.333l-81.089-61.753c-7.405-5.988-12.219-14.028-14.441-24.118-2.222-10.12-0.741-19.671 4.443-28.654l66.648-116.772c5.184-8.983 12.589-14.971 22.216-17.965s18.884-2.62 27.77 1.123l93.308 39.298c10.368-8.234 21.668-15.899 33.902-22.995 12.204-7.126 24.23-12.935 36.079-17.426l13.33-101.053c1.481-10.48 5.922-19.088 13.329-25.825s15.923-10.105 25.549-10.105h134.409c10.368 0 19.251 3.369 26.658 10.105s11.849 15.345 13.329 25.825l13.329 101.053c13.329 5.239 25.357 11.033 36.079 17.381 10.752 6.378 21.683 14.058 32.794 23.040l94.417-39.298c8.887-3.743 17.967-4.117 27.238-1.123 9.242 2.994 16.823 8.982 22.75 17.965l66.645 116.772c5.184 8.983 6.665 18.534 4.446 28.654-2.223 10.090-7.036 18.129-14.443 24.118l-82.197 62.875c1.481 7.488 2.219 14.225 2.219 20.211v19.089c0 5.99-0.192 12.156-0.576 18.505-0.354 6.379-1.276 13.683-2.756 21.918l81.092 61.751c8.145 5.99 13.329 14.029 15.548 24.119 2.223 10.121 0.371 19.674-5.551 28.655l-66.65 116.77c-5.184 8.981-12.591 14.972-22.217 17.967-9.626 2.991-19.255 2.62-28.881-1.122l-91.085-39.3c-11.11 8.981-22.396 16.841-33.86 23.578-11.49 6.737-23.164 12.352-35.012 16.845l-13.329 101.052c-1.481 10.479-5.922 19.089-13.329 25.826s-16.29 10.103-26.658 10.103zM533.333 646.737c37.026 0 68.501-13.099 94.417-39.3 25.92-26.197 38.878-58.010 38.878-95.437s-12.958-69.239-38.878-95.439c-25.916-26.199-57.391-39.298-94.417-39.298s-68.501 13.099-94.417 39.298c-25.92 26.199-38.88 58.011-38.88 95.439s12.959 69.239 38.88 95.437c25.916 26.202 57.391 39.3 94.417 39.3z"],"attrs":[{}],"isMulticolor":false,"isMulticolor2":false,"tags":["settings"],"defaultCode":59692,"grid":0},"attrs":[{}],"properties":{"order":993,"id":54,"name":"settings","prevSize":32,"code":59692},"setIdx":0,"setId":1,"iconIdx":54},{"icon":{"paths":["M775.313 938.667c-33.643 0-62.17-11.669-85.577-35.008s-35.106-51.785-35.106-85.333c0-5.107 0.363-10.765 1.097-16.981 0.73-6.182 2.193-11.465 4.386-15.838l-324.753-190.362c-11.703 11.669-24.869 20.787-39.497 27.349-14.629 6.566-30.354 9.847-47.177 9.847-33.646 0-62.171-11.669-85.577-35.008s-35.109-51.785-35.109-85.333c0-33.549 11.703-61.995 35.109-85.333s51.931-35.008 85.577-35.008c16.823 0 32.549 3.282 47.177 9.846s27.794 15.681 39.497 27.351l324.753-190.36c-2.193-4.376-3.657-9.671-4.386-15.885-0.734-6.185-1.097-11.83-1.097-16.936 0-33.55 11.699-61.994 35.106-85.333s51.934-35.008 85.577-35.008c33.647 0 62.174 11.669 85.577 35.008 23.407 23.339 35.11 51.784 35.11 85.333s-11.703 61.994-35.11 85.333c-23.403 23.339-51.93 35.009-85.577 35.009-16.823 0-32.546-3.282-47.177-9.846-14.626-6.564-27.793-15.681-39.497-27.351l-324.754 190.36c2.194 4.373 3.657 9.481 4.389 15.313 0.731 5.837 1.097 11.669 1.097 17.506 0 5.107-0.366 10.752-1.097 16.934-0.731 6.217-2.194 11.511-4.389 15.885l324.754 190.362c11.703-11.669 24.87-20.787 39.497-27.354 14.63-6.562 30.353-9.843 47.177-9.843 33.647 0 62.174 11.669 85.577 35.008 23.407 23.339 35.11 51.785 35.11 85.333s-11.703 61.995-35.11 85.333c-23.403 23.339-51.93 35.008-85.577 35.008z"],"attrs":[{}],"isMulticolor":false,"isMulticolor2":false,"tags":["share"],"defaultCode":59693,"grid":0},"attrs":[{}],"properties":{"order":994,"id":55,"name":"share","prevSize":32,"code":59693},"setIdx":0,"setId":1,"iconIdx":55},{"icon":{"paths":["M599.532 857.62v-66.135c61.158-19.2 110.582-54.584 148.27-106.153 37.688-51.543 56.53-109.665 56.53-174.378 0-64.711-18.842-122.851-56.53-174.421-37.688-51.542-87.112-86.912-148.27-106.112v-66.134c78.935 21.334 143.462 64 193.582 128 50.145 64 75.218 136.889 75.218 218.666s-25.073 154.666-75.218 218.666c-50.12 64-114.647 106.665-193.582 128zM155.8 618.685v-213.331h158.934l182.4-183.466v580.268l-182.4-183.47h-158.934zM599.532 667.756v-313.602c28.447 15.645 50.488 37.689 66.135 66.134s23.465 59.022 23.465 91.733c0 32.712-7.818 62.935-23.465 90.665-15.647 27.735-37.688 49.423-66.135 65.070z"],"attrs":[{"fill":"rgb(128, 128, 128)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["speaker"],"grid":0},"attrs":[{"fill":"rgb(128, 128, 128)"}],"properties":{"order":995,"id":56,"name":"speaker","prevSize":32,"code":59685},"setIdx":0,"setId":1,"iconIdx":56},{"icon":{"paths":["M937.685 502.549c0 90.628-28.373 174.511-76.565 242.931l-29.623-29.628c41.126-60.582 65.216-134.076 65.216-213.303 0-207.401-165.090-375.532-368.742-375.532-80.205 0-154.432 26.079-214.947 70.365l-29.627-29.627c68.26-51.802 152.9-82.464 244.574-82.464 226.278 0 409.715 186.813 409.715 417.258z","M754.79 850.086c-64.947 44.049-142.938 69.717-226.82 69.717-226.279 0-409.715-186.812-409.715-417.254 0-82.7 23.624-159.78 64.374-224.623l-115.962-115.963 45.255-45.255 784.416 784.416-45.252 45.257-96.294-96.294zM724.838 820.139l-91.345-91.349c-31.945 15.462-67.686 24.115-105.408 24.115-135.769 0-245.83-112.085-245.83-250.351 0-36.796 7.795-71.74 21.794-103.208l-91.47-91.47c-33.857 56.768-53.353 123.404-53.353 194.674 0 207.398 165.092 375.531 368.744 375.531 72.388 0 139.908-21.244 196.868-57.941z","M773.914 502.554c0 44.983-11.648 87.194-32.043 123.678l-339.105-339.106c36.697-22.188 79.547-34.927 125.32-34.927 135.765 0 245.828 112.087 245.828 250.356z"],"attrs":[{"fill":"rgb(255, 65, 77)"},{"fill":"rgb(255, 65, 77)"},{"fill":"rgb(255, 65, 77)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["stop-recording"],"grid":0},"attrs":[{"fill":"rgb(255, 65, 77)"},{"fill":"rgb(255, 65, 77)"},{"fill":"rgb(255, 65, 77)"}],"properties":{"order":996,"id":57,"name":"stop-recording","prevSize":32,"code":59694},"setIdx":0,"setId":1,"iconIdx":57},{"icon":{"paths":["M359.467 664.533c6.4 6.4 13.867 9.6 22.4 9.6s16-3.2 22.4-9.6l107.733-107.733 108.8 108.8c5.687 5.687 12.8 8.533 21.333 8.533s16-3.2 22.4-9.6c6.4-6.4 9.6-13.867 9.6-22.4s-3.2-16-9.6-22.4l-107.733-107.733 108.8-108.8c5.687-5.689 8.533-12.8 8.533-21.333s-3.2-16-9.6-22.4c-6.4-6.4-13.867-9.6-22.4-9.6s-16 3.2-22.4 9.6l-107.733 107.733-108.8-108.8c-5.689-5.689-12.8-8.533-21.333-8.533s-16 3.2-22.4 9.6c-6.4 6.4-9.6 13.867-9.6 22.4s3.2 16 9.6 22.4l107.733 107.733-108.8 108.8c-5.689 5.687-8.533 12.8-8.533 21.333s3.2 16 9.6 22.4zM149.333 853.333c-17.067 0-32-6.4-44.8-19.2s-19.2-27.733-19.2-44.8v-554.667c0-17.067 6.4-32 19.2-44.8s27.733-19.2 44.8-19.2h725.333c17.779 0 32.887 6.4 45.333 19.2s18.667 27.733 18.667 44.8v554.667c0 17.067-6.221 32-18.667 44.8s-27.554 19.2-45.333 19.2h-725.333z"],"attrs":[{}],"isMulticolor":false,"isMulticolor2":false,"tags":["stop-screen-share"],"defaultCode":59695,"grid":0},"attrs":[{}],"properties":{"order":997,"id":58,"name":"stop-screen-share","prevSize":32,"code":59695},"setIdx":0,"setId":1,"iconIdx":58},{"icon":{"paths":["M257.123 586.543l112.28 112.939c5.989 6.775 13.669 10.167 23.040 10.167 9.341 0 17.381-3.392 24.118-10.167s10.105-14.878 10.105-24.303c0-9.399-3.369-17.109-10.105-23.13l-58.386-58.731h307.651l-58.389 58.731c-6.737 6.020-10.103 13.73-10.103 23.13 0 9.425 3.366 17.527 10.103 24.303s14.793 10.167 24.166 10.167c9.34 0 17.007-3.392 22.993-10.167l112.282-112.939c7.484-7.531 11.226-16.943 11.226-28.237s-3.742-21.082-11.226-29.363l-112.282-111.814c-5.986-6.776-13.653-10.164-22.993-10.164-9.374 0-17.429 3.388-24.166 10.164s-10.103 14.683-10.103 23.72c0 9.033 2.995 16.939 8.981 23.714l60.634 60.988h-309.896l60.631-60.988c5.988-6.775 8.983-14.682 8.983-23.714 0-9.037-3.369-16.943-10.105-23.72s-14.776-10.164-24.118-10.164c-9.372 0-17.052 3.388-23.040 10.164l-112.28 111.814c-7.485 8.282-11.228 18.069-11.228 29.363s3.743 20.706 11.228 28.237zM166.176 896c-22.456 0-41.544-7.906-57.263-23.718s-23.579-35.012-23.579-57.6v-515.011c0-22.588 7.86-41.788 23.579-57.6s34.807-23.718 57.263-23.718h136.982l59.509-64.377c7.485-8.282 16.468-14.682 26.947-19.2s21.333-6.776 32.561-6.776h179.651c11.226 0 22.080 2.259 32.559 6.776s19.465 10.918 26.948 19.2l59.507 64.377h136.986c22.455 0 41.54 7.906 57.263 23.718 15.718 15.812 23.578 35.012 23.578 57.6v515.011c0 22.588-7.859 41.788-23.578 57.6-15.723 15.812-34.807 23.718-57.263 23.718h-691.651z"],"attrs":[{}],"isMulticolor":false,"isMulticolor2":false,"tags":["switch-camera"],"defaultCode":59696,"grid":0},"attrs":[{}],"properties":{"order":998,"id":59,"name":"switch-camera","prevSize":32,"code":59696},"setIdx":0,"setId":1,"iconIdx":59},{"icon":{"paths":["M1341.235 162.025c35.499-40.678 31.289-102.43-9.387-137.925s-102.434-31.294-137.921 9.384l-620.733 711.364-414.268-332.33c-42.111-33.782-103.637-27.030-137.419 15.082-33.783 42.111-27.030 103.637 15.082 137.419l487.421 391.014c19.833 15.91 43.969 22.83 67.487 21.299 25.074-1.621 49.522-12.851 67.347-33.279l682.391-782.029z"],"width":1365,"attrs":[{}],"isMulticolor":false,"isMulticolor2":false,"tags":["tick"],"defaultCode":59698,"grid":0},"attrs":[{}],"properties":{"order":999,"id":60,"name":"tick","prevSize":32,"code":59698},"setIdx":0,"setId":1,"iconIdx":60},{"icon":{"paths":["M433.152 686.080l275.456-275.456-43.008-43.008-232.448 232.448-116.736-116.736-43.008 43.008 159.744 159.744zM491.52 901.12c-53.932 0-104.612-10.24-152.044-30.72-47.459-20.48-88.596-48.128-123.412-82.944s-62.464-75.952-82.944-123.412c-20.48-47.432-30.72-98.111-30.72-152.044s10.24-104.625 30.72-152.084c20.48-47.432 48.128-88.556 82.944-123.372s75.953-62.464 123.412-82.944c47.432-20.48 98.111-30.72 152.044-30.72s104.624 10.24 152.084 30.72c47.432 20.48 88.556 48.128 123.372 82.944s62.464 75.94 82.944 123.372c20.48 47.459 30.72 98.152 30.72 152.084s-10.24 104.612-30.72 152.044c-20.48 47.46-48.128 88.596-82.944 123.412s-75.94 62.464-123.372 82.944c-47.46 20.48-98.152 30.72-152.084 30.72z"],"width":983,"attrs":[{"fill":"rgb(54, 179, 126)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["tick-fill"],"defaultCode":59697,"grid":0},"attrs":[{"fill":"rgb(54, 179, 126)"}],"properties":{"order":1000,"id":61,"name":"tick-fill","prevSize":32,"code":59697},"setIdx":0,"setId":1,"iconIdx":61},{"icon":{"paths":["M259.713 446.842l105.819 105.821-141.124 141.164c-9.997 9.999-9.998 26.209 0 36.209 9.997 9.994 26.206 9.994 36.204 0l470.652-470.652c9.994-9.998 9.994-26.207 0-36.204-9.999-9.997-26.209-9.997-36.204 0l-142.5 142.453-105.819-105.819 36.204-36.204-39.208-39.209-259.437 259.437 39.209 39.209 36.204-36.204z","M823.834 504.059l-39.209-39.209-127.473 0.035-192.317 192.318-0.035 127.473 39.253 39.301 140.289-140.288 156.908 156.908 39.209-0.036 0.036-39.209-156.882-156.933 140.221-140.36z"],"attrs":[{"fill":"rgb(217, 217, 217)"},{"fill":"rgb(217, 217, 217)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["unpin-filled"],"grid":0},"attrs":[{"fill":"rgb(217, 217, 217)"},{"fill":"rgb(217, 217, 217)"}],"properties":{"order":1001,"id":62,"name":"unpin-filled","prevSize":32,"code":59729},"setIdx":0,"setId":1,"iconIdx":62},{"icon":{"paths":["M259.713 446.842l105.819 105.821 39.208-39.209-105.819-105.821 108.612-108.612 105.819 105.819 39.209-39.209-105.819-105.819 36.204-36.204-39.208-39.209-259.437 259.437 39.209 39.209 36.204-36.204z","M632.023 520.771l55.798-55.8 96.85-0.027 39.209 39.209-140.293 140.292 156.908 156.908-0.036 39.209-39.209 0.036-156.908-156.908-140.289 140.288-39.209-39.209 0.027-96.845 55.798-55.798v96.819l208.174-208.174h-96.819z","M224.408 693.827c-9.998 9.999-9.998 26.209 0 36.209 9.997 9.994 26.206 9.994 36.204 0l470.652-470.652c9.994-9.998 9.994-26.207 0-36.204-9.999-9.997-26.209-9.997-36.204 0l-470.652 470.648z"],"attrs":[{"fill":"rgb(217, 217, 217)"},{"fill":"rgb(217, 217, 217)"},{"fill":"rgb(217, 217, 217)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["unpin-outlined"],"grid":0},"attrs":[{"fill":"rgb(217, 217, 217)"},{"fill":"rgb(217, 217, 217)"},{"fill":"rgb(217, 217, 217)"}],"properties":{"order":1002,"id":63,"name":"unpin-outlined","prevSize":32,"code":59730},"setIdx":0,"setId":1,"iconIdx":63},{"icon":{"paths":["M908.817 709.333l-150.4-149.333v80l-64-64v-307.198c0-3.555-1.237-6.571-3.712-9.045-2.505-2.503-5.888-3.755-10.155-3.755h-307.2l-64-64h371.2c22.046 0 40.533 7.467 55.467 22.4s22.4 33.067 22.4 54.4v195.198l150.4-149.331v394.665zM852.284 945.067l-787.2-786.131 45.867-44.8 786.134 786.131-44.8 44.8zM189.883 193.069l62.933 62.933h-57.6c-3.555 0-6.571 1.251-9.045 3.755-2.503 2.475-3.755 5.49-3.755 9.045v486.398c0 3.558 1.251 6.588 3.755 9.088 2.475 2.475 5.49 3.712 9.045 3.712h485.334c4.267 0 7.65-1.237 10.155-3.712 2.475-2.5 3.712-5.53 3.712-9.088v-57.6l62.933 62.933c-1.421 19.913-9.417 36.796-23.979 50.645-14.592 13.884-32.201 20.821-52.821 20.821h-485.334c-21.333 0-39.467-7.467-54.4-22.4s-22.4-33.067-22.4-54.4v-486.398c0-19.911 6.941-37.163 20.821-51.755 13.853-14.563 30.734-22.557 50.645-23.979z","M851.2 943.996l-787.2-786.133 45.867-44.8 786.133 786.133-44.8 44.8z"],"attrs":[{},{}],"isMulticolor":false,"isMulticolor2":false,"tags":["video-off"],"defaultCode":59699,"grid":0},"attrs":[{},{}],"properties":{"order":1003,"id":64,"name":"video-off","prevSize":32,"code":59699},"setIdx":0,"setId":1,"iconIdx":64},{"icon":{"paths":["M823.475 919.424l-736.001-733.849c-6.383-6.383-9.574-14.2-9.574-23.45s3.55-17.425 10.65-24.525c7.134-7.134 15.138-10.701 24.013-10.701s17.238 3.567 25.088 10.701l733.851 734.924c6.385 6.385 9.574 14.198 9.574 23.45s-3.19 17.065-9.574 23.45c-7.818 7.849-15.99 11.776-24.525 11.776s-16.369-3.927-23.501-11.776zM758.4 631.424l-440.526-439.449h358.401c23.485 0 43.044 7.816 58.675 23.45 15.631 15.667 23.45 34.867 23.45 57.6v185.6l112.026-111.974c7.818-7.817 16.179-9.592 25.088-5.325 8.873 4.266 13.312 11.008 13.312 20.224v300.85c0 9.216-4.439 15.959-13.312 20.224-8.909 4.265-17.27 2.493-25.088-5.325l-112.026-111.974v66.099zM193.1 193.051l564.276 565.298c0 19.215-8.535 36.285-25.6 51.2-17.065 14.95-35.569 22.426-55.501 22.426h-476.775c-22.767 0-41.967-7.818-57.6-23.45-15.667-15.667-23.501-34.867-23.501-57.6v-477.9c0-19.183 7.305-37.308 21.914-54.374 14.575-17.067 32.171-25.6 52.787-25.6z"],"attrs":[{"fill":"rgb(197, 197, 197)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["video-off-filled"],"grid":0},"attrs":[{"fill":"rgb(197, 197, 197)"}],"properties":{"order":1004,"id":65,"name":"video-off-filled","prevSize":32,"code":59731},"setIdx":0,"setId":1,"iconIdx":65},{"icon":{"paths":["M870.426 677.325l-112.026-111.974v66.099l-68.25-68.25v-290.15c0-3.55-1.244-6.57-3.738-9.062s-5.873-3.738-10.138-3.738h-290.1l-68.301-68.25h358.401c22.769 0 42.153 7.817 58.163 23.45 15.974 15.667 23.962 34.867 23.962 57.6v185.6l112.026-111.974c7.101-7.134 15.273-8.909 24.525-5.325 9.252 3.55 13.875 10.291 13.875 20.224v300.851c0 9.933-4.623 16.676-13.875 20.224-9.252 3.584-17.423 1.807-24.525-5.325zM823.475 919.45l-736.001-733.85c-6.383-6.383-9.574-14.029-9.574-22.938 0-8.874 3.909-16.879 11.725-24.013 6.417-7.1 14.234-10.65 23.45-10.65 9.25 0 17.442 3.55 24.576 10.65l733.851 733.901c6.385 6.385 9.764 14.029 10.138 22.938 0.343 8.873-3.036 16.86-10.138 23.962-7.132 7.132-15.309 10.701-24.525 10.701-9.252 0-17.085-3.569-23.501-10.701zM192.025 193.075l67.174 67.174h-60.774c-3.55 0-6.57 1.246-9.062 3.738s-3.738 5.513-3.738 9.062l1.075 477.901c0 3.548 1.246 6.569 3.738 9.062s5.513 3.738 9.062 3.738h476.775c4.265 0 7.644-1.244 10.138-3.738s3.738-5.514 3.738-9.062v-59.75l67.226 67.174c-2.15 20.649-10.87 38.077-26.163 52.275-15.293 14.234-33.603 21.35-54.938 21.35h-476.775c-22.767 0-41.967-7.818-57.6-23.45-15.667-15.667-23.501-34.867-23.501-57.6v-477.901c0-21.334 7.117-39.646 21.35-54.938s31.659-23.638 52.275-25.037z"],"attrs":[{"fill":"rgb(197, 197, 197)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["video-off-outlined"],"grid":0},"attrs":[{"fill":"rgb(197, 197, 197)"}],"properties":{"order":1005,"id":66,"name":"video-off-outlined","prevSize":32,"code":59732},"setIdx":0,"setId":1,"iconIdx":66},{"icon":{"paths":["M194.133 832c-21.333 0-39.467-7.467-54.4-22.4s-22.4-33.067-22.4-54.4v-486.4c0-21.333 7.467-39.467 22.4-54.4s33.067-22.4 54.4-22.4h485.333c22.046 0 40.533 7.467 55.467 22.4s22.4 33.067 22.4 54.4v195.2l149.333-149.333v394.667l-149.333-149.333v195.2c0 21.333-7.467 39.467-22.4 54.4s-33.421 22.4-55.467 22.4h-485.333z"],"attrs":[{}],"isMulticolor":false,"isMulticolor2":false,"tags":["video-on"],"defaultCode":59700,"grid":0},"attrs":[{}],"properties":{"order":1006,"id":67,"name":"video-on","prevSize":32,"code":59700},"setIdx":0,"setId":1,"iconIdx":67},{"icon":{"paths":["M198.45 833.101c-22.767 0-41.967-7.834-57.6-23.501-15.633-15.631-23.45-34.816-23.45-57.549v-477.902c0-22.733 7.817-41.933 23.45-57.6 15.633-15.633 34.833-23.45 57.6-23.45h476.827c23.45 0 42.988 7.817 58.624 23.45 15.667 15.667 23.501 34.867 23.501 57.6v184.525l111.974-111.974c7.813-7.816 15.99-9.591 24.525-5.325 8.53 4.267 12.8 11.008 12.8 20.224v300.852c0 9.216-4.27 15.959-12.8 20.224-8.535 4.265-16.712 2.493-24.525-5.325l-111.974-111.974v186.675c0 22.733-7.834 41.917-23.501 57.549-15.636 15.667-35.174 23.501-58.624 23.501h-476.827z"],"attrs":[{"fill":"rgb(197, 197, 197)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["video-on-filled"],"grid":0},"attrs":[{"fill":"rgb(197, 197, 197)"}],"properties":{"order":1007,"id":68,"name":"video-on-filled","prevSize":32,"code":59733},"setIdx":0,"setId":1,"iconIdx":68},{"icon":{"paths":["M198.45 832c-22.767 0-41.967-7.818-57.6-23.45-15.633-15.667-23.45-34.867-23.45-57.6v-477.901c0-22.733 7.817-41.933 23.45-57.6 15.633-15.633 34.833-23.45 57.6-23.45h476.827c22.733 0 42.102 7.817 58.112 23.45 16.005 15.667 24.013 34.867 24.013 57.6v185.6l111.974-111.974c7.132-7.134 15.135-8.909 24.013-5.325 8.873 3.55 13.312 10.291 13.312 20.224v300.851c0 9.933-4.439 16.676-13.312 20.224-8.878 3.584-16.881 1.807-24.013-5.325l-111.974-111.974v185.6c0 22.733-8.008 41.933-24.013 57.6-16.010 15.631-35.379 23.45-58.112 23.45h-476.827zM198.45 763.75h476.827c4.229 0 7.593-1.244 10.086-3.738 2.488-2.493 3.738-5.514 3.738-9.062v-477.901c0-3.55-1.249-6.57-3.738-9.062-2.493-2.492-5.857-3.738-10.086-3.738h-476.827c-3.55 0-6.57 1.246-9.062 3.738s-3.738 5.513-3.738 9.062v477.901c0 3.548 1.246 6.569 3.738 9.062s5.513 3.738 9.062 3.738zM185.65 763.75v0z"],"attrs":[{"fill":"rgb(197, 197, 197)"}],"isMulticolor":false,"isMulticolor2":false,"tags":["video-on-outlined"],"grid":0},"attrs":[{"fill":"rgb(197, 197, 197)"}],"properties":{"order":1008,"id":69,"name":"video-on-outlined","prevSize":32,"code":59734},"setIdx":0,"setId":1,"iconIdx":69},{"icon":{"paths":["M384 682.667h85.333v-128h128v-85.333h-128v-128h-85.333v128h-128v85.333h128v128zM170.667 853.333c-23.467 0-43.549-8.35-60.245-25.045-16.725-16.725-25.088-36.821-25.088-60.288v-512c0-23.467 8.363-43.549 25.088-60.245 16.697-16.725 36.779-25.088 60.245-25.088h512c23.467 0 43.563 8.363 60.288 25.088 16.695 16.697 25.045 36.779 25.045 60.245v192l170.667-170.667v469.333l-170.667-170.667v192c0 23.467-8.35 43.563-25.045 60.288-16.725 16.695-36.821 25.045-60.288 25.045h-512z"],"attrs":[{}],"isMulticolor":false,"isMulticolor2":false,"tags":["video-plus"],"defaultCode":59701,"grid":0},"attrs":[{}],"properties":{"order":1009,"id":70,"name":"video-plus","prevSize":32,"code":59701},"setIdx":0,"setId":1,"iconIdx":70}],"height":1024,"metadata":{"name":"icomoon"},"preferences":{"showGlyphs":true,"showQuickUse":true,"showQuickUse2":true,"showSVGs":true,"fontPref":{"prefix":"icon-","metadata":{"fontFamily":"icomoon"},"metrics":{"emSize":1024,"baseline":6.25,"whitespace":50},"embed":false},"imagePref":{"prefix":"icon-","png":true,"useClassSelector":true,"color":0,"bgColor":16777215,"classSelector":".icon","name":"icomoon"},"historySize":50,"showCodes":true,"gridSize":16}}'),$a=(0,Za.DF)(Xa),es=e=>{const{name:t,iconSize:r=26,tintColor:i,base64:o=!1,base64TintColor:a="",iconType:s="round"}=e;return n.createElement(qn.Z,{style:[ts.iconContainerStyle,"round"===s?null!=e&&e.iconBackgroundColor?{backgroundColor:e.iconBackgroundColor}:{}:{backgroundColor:"transparent",borderRadius:0}]},n.createElement(qn.Z,{style:[{alignItems:"center"},"round"===s?{padding:13,borderRadius:50}:{padding:0,borderRadius:0},"round"===s&&null!=e&&e.isHovered?{backgroundColor:"#808080"+ja}:{},null==e?void 0:e.iconContainerStyle]},null!=e&&e.showWarningIcon?n.createElement(qn.Z,{style:{position:"absolute",top:-2.5,right:-2}},n.createElement($a,{name:"alert",color:"#FFAB00",size:24})):n.createElement(n.Fragment,null),o?n.createElement(ir,{tintColor:a,name:t,style:{width:r,height:r}}):n.createElement($a,{name:t,color:i,size:r})))},ts=On.Z.create({iconContainerStyle:{borderRadius:50,backgroundColor:"#242529"}});function ns(){return ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ns.apply(this,arguments)}function rs(e){const{children:t,iconName:r,textStyle:i,containerStyle:o,...a}=e;return n.createElement(Zn.Z,ns({style:[is.container,null!=e&&e.disabled?{backgroundColor:"#808080"}:{backgroundColor:"#099DFD"},o||{}]},a),r&&n.createElement(qn.Z,{style:{marginRight:8}},n.createElement(es,{iconType:"plain",name:r,tintColor:"#FFFFFF"})),e.text&&n.createElement($n.Z,{style:[is.text,i||{}]},e.text))}const is=On.Z.create({primaryButton:Ja.ud,primaryButtonText:Ja.ZG,container:{flexDirection:"row",justifyContent:"center",alignItems:"center",paddingHorizontal:52,paddingVertical:18,borderRadius:Ya.large,minWidth:250},text:{color:"#FFFFFF",fontSize:Wa.medium,fontWeight:"700",fontFamily:Ka.sansPro,textTransform:"uppercase"}});function os(){return os=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},os.apply(this,arguments)}function as(e){const{children:t,...r}=e;return n.createElement(Zn.Z,os({style:[ss.secondaryBtn,{borderColor:e.disabled?"#099DFD"+xa:"#099DFD"}]},r),e.text?n.createElement($n.Z,{style:[ss.secondaryButtonText,{color:e.disabled?"#099DFD"+xa:"#099DFD"}]},e.text):n.createElement(n.Fragment,null),t)}const ss=On.Z.create({secondaryBtn:Ja.SK,secondaryButtonText:Ja.A8});var cs=__webpack_require__(9710);function us(){return us=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},us.apply(this,arguments)}const ls=e=>{const{style:t,setRef:r,...i}=e;return n.createElement(cs.Z,us({ref:t=>(null==e?void 0:e.setRef)&&e.setRef(t),style:[ds.textInput,ds.textWrapFix,ds.noOutline,t],placeholderTextColor:"#FFFFFF"+La,autoCorrect:!1},i))},ds=On.Z.create({textInput:Ja.Y2,noOutline:ai()?{outlineStyle:"none"}:{},textWrapFix:_n.Z.select({ios:{paddingVertical:5}})});var hs=__webpack_require__(5164);On.Z.create({container:{flex:1,flexDirection:"row",justifyContent:"space-between",backgroundColor:"#262626",paddingHorizontal:20},subheading:{fontSize:12,fontFamily:"Source Sans Pro",fontWeight:"700",color:"#FFFFFF"+za.medium,paddingVertical:12,alignSelf:"center"},iconView:{paddingVertical:8,alignSelf:"center"}});const ps=({children:e})=>si()?n.createElement("div",{style:{userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",msUserSelect:"none",alignSelf:"center"}},e):n.createElement(n.Fragment,null,e),fs=({name:e,containerStyle:t,textStyle:r})=>n.createElement(qn.Z,{style:[t,{alignSelf:"center",alignContent:"center",justifyContent:"center"}]},n.createElement(ps,null,n.createElement($n.Z,{style:[r,{fontFamily:Ka.sansPro,alignSelf:"center",textAlign:"center"}]},function(e){return e&&null!=e&&e.length?e[0].toUpperCase():"U"}(e))));On.Z.create({});var As=__webpack_require__(7097),gs="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),ms=new Uint8Array(16);function vs(){if(!gs)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return gs(ms)}for(var ys=[],Es=0;Es<256;++Es)ys[Es]=(Es+256).toString(16).substr(1);const bs=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||vs)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var o=0;o<16;++o)t[r+o]=i[o];return t||function(e,t){var n=t||0,r=ys;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")}(i)};function _s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_s(Object(n),!0).forEach((function(t){Ss(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Is(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ss(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ws(){return ws=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ws.apply(this,arguments)}function Rs(e){return Rs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Rs(e)}function Ts(e,t){return Ts=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ts(e,t)}function Os(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ks(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ns="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self?self:{},Ds=function(e){return e&&e.Math==Math&&e},Ps=Ds("object"==typeof globalThis&&globalThis)||Ds("object"==typeof window&&window)||Ds("object"==typeof self&&self)||Ds("object"==typeof Ns&&Ns)||function(){return this}()||Function("return this")(),xs={},Ls=function(e){try{return!!e()}catch(e){return!0}},Ms=!Ls((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),Bs=!Ls((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),Fs=Bs,Us=Function.prototype.call,js=Fs?Us.bind(Us):function(){return Us.apply(Us,arguments)},Vs={},Qs={}.propertyIsEnumerable,Gs=Object.getOwnPropertyDescriptor,qs=Gs&&!Qs.call({1:2},1);Vs.f=qs?function(e){var t=Gs(this,e);return!!t&&t.enumerable}:Qs;var Hs,zs,Ws=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},Ks=Bs,Ys=Function.prototype,Js=Ys.call,Zs=Ks&&Ys.bind.bind(Js,Js),Xs=function(e){return Ks?Zs(e):function(){return Js.apply(e,arguments)}},$s=Xs,ec=$s({}.toString),tc=$s("".slice),nc=function(e){return tc(ec(e),8,-1)},rc=nc,ic=Xs,oc=function(e){if("Function"===rc(e))return ic(e)},ac=Ls,sc=nc,cc=Object,uc=oc("".split),lc=ac((function(){return!cc("z").propertyIsEnumerable(0)}))?function(e){return"String"==sc(e)?uc(e,""):cc(e)}:cc,dc=function(e){return null==e},hc=dc,pc=TypeError,fc=function(e){if(hc(e))throw pc("Can't call method on "+e);return e},Ac=lc,gc=fc,mc=function(e){return Ac(gc(e))},vc="object"==typeof document&&document.all,yc={all:vc,IS_HTMLDDA:void 0===vc&&void 0!==vc},Ec=yc.all,bc=yc.IS_HTMLDDA?function(e){return"function"==typeof e||e===Ec}:function(e){return"function"==typeof e},_c=bc,Cc=yc.all,Ic=yc.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:_c(e)||e===Cc}:function(e){return"object"==typeof e?null!==e:_c(e)},Sc=Ps,wc=bc,Rc=function(e){return wc(e)?e:void 0},Tc=function(e,t){return arguments.length<2?Rc(Sc[e]):Sc[e]&&Sc[e][t]},Oc=oc({}.isPrototypeOf),kc=Ps,Nc=Tc("navigator","userAgent")||"",Dc=kc.process,Pc=kc.Deno,xc=Dc&&Dc.versions||Pc&&Pc.version,Lc=xc&&xc.v8;Lc&&(zs=(Hs=Lc.split("."))[0]>0&&Hs[0]<4?1:+(Hs[0]+Hs[1])),!zs&&Nc&&(!(Hs=Nc.match(/Edge\/(\d+)/))||Hs[1]>=74)&&(Hs=Nc.match(/Chrome\/(\d+)/))&&(zs=+Hs[1]);var Mc=zs,Bc=Ls,Fc=!!Object.getOwnPropertySymbols&&!Bc((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Mc&&Mc<41})),Uc=Fc&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,jc=Tc,Vc=bc,Qc=Oc,Gc=Object,qc=Uc?function(e){return"symbol"==typeof e}:function(e){var t=jc("Symbol");return Vc(t)&&Qc(t.prototype,Gc(e))},Hc=String,zc=bc,Wc=TypeError,Kc=function(e){if(zc(e))return e;throw Wc(function(e){try{return Hc(e)}catch(e){return"Object"}}(e)+" is not a function")},Yc=Kc,Jc=dc,Zc=js,Xc=bc,$c=Ic,eu=TypeError,tu={exports:{}},nu=Ps,ru=Object.defineProperty,iu=function(e,t){try{ru(nu,e,{value:t,configurable:!0,writable:!0})}catch(n){nu[e]=t}return t},ou=iu,au="__core-js_shared__",su=Ps[au]||ou(au,{}),cu=su;(tu.exports=function(e,t){return cu[e]||(cu[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.25.5",mode:"global",copyright:" 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.5/LICENSE",source:"https://github.com/zloirock/core-js"});var uu=fc,lu=Object,du=function(e){return lu(uu(e))},hu=du,pu=oc({}.hasOwnProperty),fu=Object.hasOwn||function(e,t){return pu(hu(e),t)},Au=oc,gu=0,mu=Math.random(),vu=Au(1..toString),yu=function(e){return"Symbol("+(void 0===e?"":e)+")_"+vu(++gu+mu,36)},Eu=Ps,bu=tu.exports,_u=fu,Cu=yu,Iu=Fc,Su=Uc,wu=bu("wks"),Ru=Eu.Symbol,Tu=Ru&&Ru.for,Ou=Su?Ru:Ru&&Ru.withoutSetter||Cu,ku=function(e){if(!_u(wu,e)||!Iu&&"string"!=typeof wu[e]){var t="Symbol."+e;Iu&&_u(Ru,e)?wu[e]=Ru[e]:wu[e]=Su&&Tu?Tu(t):Ou(t)}return wu[e]},Nu=js,Du=Ic,Pu=qc,xu=TypeError,Lu=ku("toPrimitive"),Mu=function(e,t){if(!Du(e)||Pu(e))return e;var n,r=function(e,t){var n=e[t];return Jc(n)?void 0:Yc(n)}(e,Lu);if(r){if(void 0===t&&(t="default"),n=Nu(r,e,t),!Du(n)||Pu(n))return n;throw xu("Can't convert object to primitive value")}return void 0===t&&(t="number"),function(e,t){var n,r;if("string"===t&&Xc(n=e.toString)&&!$c(r=Zc(n,e)))return r;if(Xc(n=e.valueOf)&&!$c(r=Zc(n,e)))return r;if("string"!==t&&Xc(n=e.toString)&&!$c(r=Zc(n,e)))return r;throw eu("Can't convert object to primitive value")}(e,t)},Bu=qc,Fu=function(e){var t=Mu(e,"string");return Bu(t)?t:t+""},Uu=Ic,ju=Ps.document,Vu=Uu(ju)&&Uu(ju.createElement),Qu=function(e){return Vu?ju.createElement(e):{}},Gu=Qu,qu=!Ms&&!Ls((function(){return 7!=Object.defineProperty(Gu("div"),"a",{get:function(){return 7}}).a})),Hu=Ms,zu=js,Wu=Vs,Ku=Ws,Yu=mc,Ju=Fu,Zu=fu,Xu=qu,$u=Object.getOwnPropertyDescriptor;xs.f=Hu?$u:function(e,t){if(e=Yu(e),t=Ju(t),Xu)try{return $u(e,t)}catch(e){}if(Zu(e,t))return Ku(!zu(Wu.f,e,t),e[t])};var el={},tl=Ms&&Ls((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),nl=Ic,rl=String,il=TypeError,ol=function(e){if(nl(e))return e;throw il(rl(e)+" is not an object")},al=Ms,sl=qu,cl=tl,ul=ol,ll=Fu,dl=TypeError,hl=Object.defineProperty,pl=Object.getOwnPropertyDescriptor;el.f=al?cl?function(e,t,n){if(ul(e),t=ll(t),ul(n),"function"==typeof e&&"prototype"===t&&"value"in n&&"writable"in n&&!n.writable){var r=pl(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:"configurable"in n?n.configurable:r.configurable,enumerable:"enumerable"in n?n.enumerable:r.enumerable,writable:!1})}return hl(e,t,n)}:hl:function(e,t,n){if(ul(e),t=ll(t),ul(n),sl)try{return hl(e,t,n)}catch(e){}if("get"in n||"set"in n)throw dl("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var fl=el,Al=Ws,gl=Ms?function(e,t,n){return fl.f(e,t,Al(1,n))}:function(e,t,n){return e[t]=n,e},ml={exports:{}},vl=Ms,yl=fu,El=Function.prototype,bl=vl&&Object.getOwnPropertyDescriptor,_l=yl(El,"name"),Cl={EXISTS:_l,PROPER:_l&&"something"===function(){}.name,CONFIGURABLE:_l&&(!vl||vl&&bl(El,"name").configurable)},Il=bc,Sl=su,wl=oc(Function.toString);Il(Sl.inspectSource)||(Sl.inspectSource=function(e){return wl(e)});var Rl,Tl,Ol,kl=Sl.inspectSource,Nl=bc,Dl=Ps.WeakMap,Pl=Nl(Dl)&&/native code/.test(String(Dl)),xl=tu.exports,Ll=yu,Ml=xl("keys"),Bl=function(e){return Ml[e]||(Ml[e]=Ll(e))},Fl={},Ul=Pl,jl=Ps,Vl=Ic,Ql=gl,Gl=fu,ql=su,Hl=Bl,zl=Fl,Wl="Object already initialized",Kl=jl.TypeError,Yl=jl.WeakMap;if(Ul||ql.state){var Jl=ql.state||(ql.state=new Yl);Jl.get=Jl.get,Jl.has=Jl.has,Jl.set=Jl.set,Rl=function(e,t){if(Jl.has(e))throw Kl(Wl);return t.facade=e,Jl.set(e,t),t},Tl=function(e){return Jl.get(e)||{}},Ol=function(e){return Jl.has(e)}}else{var Zl=Hl("state");zl[Zl]=!0,Rl=function(e,t){if(Gl(e,Zl))throw Kl(Wl);return t.facade=e,Ql(e,Zl,t),t},Tl=function(e){return Gl(e,Zl)?e[Zl]:{}},Ol=function(e){return Gl(e,Zl)}}var Xl={set:Rl,get:Tl,has:Ol,enforce:function(e){return Ol(e)?Tl(e):Rl(e,{})},getterFor:function(e){return function(t){var n;if(!Vl(t)||(n=Tl(t)).type!==e)throw Kl("Incompatible receiver, "+e+" required");return n}}},$l=Ls,ed=bc,td=fu,nd=Ms,rd=Cl.CONFIGURABLE,id=kl,od=Xl.enforce,ad=Xl.get,sd=Object.defineProperty,cd=nd&&!$l((function(){return 8!==sd((function(){}),"length",{value:8}).length})),ud=String(String).split("String"),ld=ml.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!td(e,"name")||rd&&e.name!==t)&&(nd?sd(e,"name",{value:t,configurable:!0}):e.name=t),cd&&n&&td(n,"arity")&&e.length!==n.arity&&sd(e,"length",{value:n.arity});try{n&&td(n,"constructor")&&n.constructor?nd&&sd(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=od(e);return td(r,"source")||(r.source=ud.join("string"==typeof t?t:"")),e};Function.prototype.toString=ld((function(){return ed(this)&&ad(this).source||id(this)}),"toString");var dd=bc,hd=el,pd=ml.exports,fd=iu,Ad={},gd=Math.ceil,md=Math.floor,vd=Math.trunc||function(e){var t=+e;return(t>0?md:gd)(t)},yd=vd,Ed=function(e){var t=+e;return t!=t||0===t?0:yd(t)},bd=Ed,_d=Math.max,Cd=Math.min,Id=Ed,Sd=Math.min,wd=function(e){return(t=e.length)>0?Sd(Id(t),9007199254740991):0;var t},Rd=mc,Td=wd,Od=function(e){return function(t,n,r){var i,o=Rd(t),a=Td(o),s=function(e,t){var n=bd(e);return n<0?_d(n+t,0):Cd(n,t)}(r,a);if(e&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},kd={includes:Od(!0),indexOf:Od(!1)},Nd=fu,Dd=mc,Pd=kd.indexOf,xd=Fl,Ld=oc([].push),Md=function(e,t){var n,r=Dd(e),i=0,o=[];for(n in r)!Nd(xd,n)&&Nd(r,n)&&Ld(o,n);for(;t.length>i;)Nd(r,n=t[i++])&&(~Pd(o,n)||Ld(o,n));return o},Bd=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Fd=Md,Ud=Bd.concat("length","prototype");Ad.f=Object.getOwnPropertyNames||function(e){return Fd(e,Ud)};var jd={};jd.f=Object.getOwnPropertySymbols;var Vd=Tc,Qd=Ad,Gd=jd,qd=ol,Hd=oc([].concat),zd=Vd("Reflect","ownKeys")||function(e){var t=Qd.f(qd(e)),n=Gd.f;return n?Hd(t,n(e)):t},Wd=fu,Kd=zd,Yd=xs,Jd=el,Zd=Ls,Xd=bc,$d=/#|\.prototype\./,eh=function(e,t){var n=nh[th(e)];return n==ih||n!=rh&&(Xd(t)?Zd(t):!!t)},th=eh.normalize=function(e){return String(e).replace($d,".").toLowerCase()},nh=eh.data={},rh=eh.NATIVE="N",ih=eh.POLYFILL="P",oh=eh,ah=Ps,sh=xs.f,ch=gl,uh=function(e,t,n,r){r||(r={});var i=r.enumerable,o=void 0!==r.name?r.name:t;if(dd(n)&&pd(n,o,r),r.global)i?e[t]=n:fd(t,n);else{try{r.unsafe?e[t]&&(i=!0):delete e[t]}catch(e){}i?e[t]=n:hd.f(e,t,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return e},lh=iu,dh=function(e,t,n){for(var r=Kd(t),i=Jd.f,o=Yd.f,a=0;a<r.length;a++){var s=r[a];Wd(e,s)||n&&Wd(n,s)||i(e,s,o(t,s))}},hh=oh,ph=Kc,fh=Bs,Ah=oc(oc.bind),gh=nc,mh=Array.isArray||function(e){return"Array"==gh(e)},vh={};vh[ku("toStringTag")]="z";var yh="[object z]"===String(vh),Eh=bc,bh=nc,_h=ku("toStringTag"),Ch=Object,Ih="Arguments"==bh(function(){return arguments}()),Sh=yh?bh:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Ch(e),_h))?n:Ih?bh(t):"Object"==(r=bh(t))&&Eh(t.callee)?"Arguments":r},wh=oc,Rh=Ls,Th=bc,Oh=Sh,kh=kl,Nh=function(){},Dh=[],Ph=Tc("Reflect","construct"),xh=/^\s*(?:class|function)\b/,Lh=wh(xh.exec),Mh=!xh.exec(Nh),Bh=function(e){if(!Th(e))return!1;try{return Ph(Nh,Dh,e),!0}catch(e){return!1}},Fh=function(e){if(!Th(e))return!1;switch(Oh(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Mh||!!Lh(xh,kh(e))}catch(e){return!0}};Fh.sham=!0;var Uh=!Ph||Rh((function(){var e;return Bh(Bh.call)||!Bh(Object)||!Bh((function(){e=!0}))||e}))?Fh:Bh,jh=mh,Vh=Uh,Qh=Ic,Gh=ku("species"),qh=Array,Hh=lc,zh=du,Wh=wd,Kh=function(e,t){return new(function(e){var t;return jh(e)&&(t=e.constructor,(Vh(t)&&(t===qh||jh(t.prototype))||Qh(t)&&null===(t=t[Gh]))&&(t=void 0)),void 0===t?qh:t}(e))(0===t?0:t)},Yh=oc([].push),Jh=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,o=6==e,a=7==e,s=5==e||o;return function(c,u,l,d){for(var h,p,f=zh(c),A=Hh(f),g=function(e,t){return ph(e),void 0===t?e:fh?Ah(e,t):function(){return e.apply(t,arguments)}}(u,l),m=Wh(A),v=0,y=d||Kh,E=t?y(c,m):n||a?y(c,0):void 0;m>v;v++)if((s||v in A)&&(p=g(h=A[v],v,f),e))if(t)E[v]=p;else if(p)switch(e){case 3:return!0;case 5:return h;case 6:return v;case 2:Yh(E,h)}else switch(e){case 4:return!1;case 7:Yh(E,h)}return o?-1:r||i?i:E}},Zh={forEach:Jh(0),map:Jh(1),filter:Jh(2),some:Jh(3),every:Jh(4),find:Jh(5),findIndex:Jh(6),filterReject:Jh(7)},Xh={},$h=Md,ep=Bd,tp=Object.keys||function(e){return $h(e,ep)},np=Ms,rp=tl,ip=el,op=ol,ap=mc,sp=tp;Xh.f=np&&!rp?Object.defineProperties:function(e,t){op(e);for(var n,r=ap(t),i=sp(t),o=i.length,a=0;o>a;)ip.f(e,n=i[a++],r[n]);return e};var cp,up=Tc("document","documentElement"),lp=ol,dp=Xh,hp=Bd,pp=Fl,fp=up,Ap=Qu,gp=Bl("IE_PROTO"),mp=function(){},vp=function(e){return"<script>"+e+"<\/script>"},yp=function(e){e.write(vp("")),e.close();var t=e.parentWindow.Object;return e=null,t},Ep=function(){try{cp=new ActiveXObject("htmlfile")}catch(e){}var e,t;Ep="undefined"!=typeof document?document.domain&&cp?yp(cp):((t=Ap("iframe")).style.display="none",fp.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(vp("document.F=Object")),e.close(),e.F):yp(cp);for(var n=hp.length;n--;)delete Ep.prototype[hp[n]];return Ep()};pp[gp]=!0;var bp=Object.create||function(e,t){var n;return null!==e?(mp.prototype=lp(e),n=new mp,mp.prototype=null,n[gp]=e):n=Ep(),void 0===t?n:dp.f(n,t)},_p=ku,Cp=bp,Ip=el.f,Sp=_p("unscopables"),wp=Array.prototype;null==wp[Sp]&&Ip(wp,Sp,{configurable:!0,value:Cp(null)});var Rp,Tp=Zh.find,Op="find",kp=!0;Op in[]&&Array(1).find((function(){kp=!1})),function(e,t){var n,r,i,o,a,s=e.target,c=e.global,u=e.stat;if(n=c?ah:u?ah[s]||lh(s,{}):(ah[s]||{}).prototype)for(r in t){if(o=t[r],i=e.dontCallGetSet?(a=sh(n,r))&&a.value:n[r],!hh(c?r:s+(u?".":"#")+r,e.forced)&&void 0!==i){if(typeof o==typeof i)continue;dh(o,i)}(e.sham||i&&i.sham)&&ch(o,"sham",!0),uh(n,r,o,e)}}({target:"Array",proto:!0,forced:kp},{find:function(e){return Tp(this,e,arguments.length>1?arguments[1]:void 0)}}),Rp=Op,wp[Sp][Rp]=!0;var Np="__react_tooltip_hide_event",Dp="__react_tooltip_rebuild_event",Pp="__react_tooltip_show_event",xp=function(e,t){var n;"function"==typeof window.CustomEvent?n=new window.CustomEvent(e,{detail:t}):(n=document.createEvent("Event")).initEvent(e,!1,!0,t),window.dispatchEvent(n)},Lp=function(e,t){var n=this.state.show,r=this.props.id,i=this.isCapture(t.currentTarget),o=t.currentTarget.getAttribute("currentItem");i||t.stopPropagation(),n&&"true"===o?e||this.hideTooltip(t):(t.currentTarget.setAttribute("currentItem","true"),Mp(t.currentTarget,this.getTargetArray(r)),this.showTooltip(t))},Mp=function(e,t){for(var n=0;n<t.length;n++)e!==t[n]?t[n].setAttribute("currentItem","false"):t[n].setAttribute("currentItem","true")},Bp={id:"9b69f92e-d3fe-498b-b1b4-c5e63a51b0cf",set:function(e,t,n){this.id in e?e[this.id][t]=n:Object.defineProperty(e,this.id,{configurable:!0,value:Ss({},t,n)})},get:function(e,t){var n=e[this.id];if(void 0!==n)return n[t]}},Fp=function(e,t,n){for(var r,i,o=t.respectEffect,a=void 0!==o&&o,s=t.customEvent,c=void 0!==s&&s,u=this.props.id,l=null,d=n.target;null===l&&null!==d;)i=d,l=d.getAttribute("data-tip")||null,r=d.getAttribute("data-for")||null,d=d.parentElement;if(d=i||n.target,!this.isCustomEvent(d)||c){var h=null==u&&null==r||r===u;if(null!=l&&(!a||"float"===this.getEffect(d))&&h){var p=function(e){var t={};for(var n in e)"function"==typeof e[n]?t[n]=e[n].bind(e):t[n]=e[n];return t}(n);p.currentTarget=d,e(p)}}},Up=function(e,t){var n={};return e.forEach((function(e){var r=e.getAttribute(t);r&&r.split(" ").forEach((function(e){return n[e]=!0}))})),n},jp=function(){return document.getElementsByTagName("body")[0]};function Vp(e,t,n,r,i,o,a){var s,c=Qp(n),u=c.width,l=c.height,d=Qp(t),h=d.width,p=d.height,f=Gp(e,t,o),A=f.mouseX,g=f.mouseY,m=qp(o,h,p,u,l),v=Hp(a),y=v.extraOffsetX,E=v.extraOffsetY,b=window.innerWidth,_=window.innerHeight,C=zp(n),I=C.parentTop,S=C.parentLeft,w=function(e){var t=m[e].l;return A+t+y},R=function(e){var t=m[e].t;return g+t+E},T=function(e){return function(e){return w(e)<0}(e)||function(e){return function(e){var t=m[e].r;return A+t+y}(e)>b}(e)||function(e){return R(e)<0}(e)||function(e){return function(e){var t=m[e].b;return g+t+E}(e)>_}(e)},O=function(e){return!T(e)},k={top:O("top"),bottom:O("bottom"),left:O("left"),right:O("right")},N=function(){var e,t=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ks(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ks(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(i.split(",").concat(r,["top","bottom","left","right"]));try{for(t.s();!(e=t.n()).done;){var n=e.value;if(k[n])return n}}catch(e){t.e(e)}finally{t.f()}return r}(),D=!1;return N&&N!==r&&(D=!0,s=N),D?{isNewState:!0,newState:{place:s}}:{isNewState:!1,position:{left:parseInt(w(r)-S,10),top:parseInt(R(r)-I,10)}}}var Qp=function(e){var t=e.getBoundingClientRect(),n=t.height,r=t.width;return{height:parseInt(n,10),width:parseInt(r,10)}},Gp=function(e,t,n){var r=t.getBoundingClientRect(),i=r.top,o=r.left,a=Qp(t),s=a.width,c=a.height;return"float"===n?{mouseX:e.clientX,mouseY:e.clientY}:{mouseX:o+s/2,mouseY:i+c/2}},qp=function(e,t,n,r,i){var o,a,s,c;return"float"===e?(o={l:-r/2,r:r/2,t:-(i+3+2),b:-3},s={l:-r/2,r:r/2,t:15,b:i+3+2+12},c={l:-(r+3+2),r:-3,t:-i/2,b:i/2},a={l:3,r:r+3+2,t:-i/2,b:i/2}):"solid"===e&&(o={l:-r/2,r:r/2,t:-(n/2+i+2),b:-n/2},s={l:-r/2,r:r/2,t:n/2,b:n/2+i+2},c={l:-(r+t/2+2),r:-t/2,t:-i/2,b:i/2},a={l:t/2,r:r+t/2+2,t:-i/2,b:i/2}),{top:o,bottom:s,left:c,right:a}},Hp=function(e){var t=0,n=0;for(var r in"[object String]"===Object.prototype.toString.apply(e)&&(e=JSON.parse(e.toString().replace(/'/g,'"'))),e)"top"===r?n-=parseInt(e[r],10):"bottom"===r?n+=parseInt(e[r],10):"left"===r?t-=parseInt(e[r],10):"right"===r&&(t+=parseInt(e[r],10));return{extraOffsetX:t,extraOffsetY:n}},zp=function(e){for(var t=e;t;){var n=window.getComputedStyle(t);if("none"!==n.getPropertyValue("transform")||"transform"===n.getPropertyValue("will-change"))break;t=t.parentElement}return{parentTop:t&&t.getBoundingClientRect().top||0,parentLeft:t&&t.getBoundingClientRect().left||0}};function Wp(e,t,r,i){if(t)return t;if(null!=r)return r;if(null===r)return null;var o=/<br\s*\/?>/;return i&&"false"!==i&&o.test(e)?e.split(o).map((function(e,t){return n.createElement("span",{key:t,className:"multi-line"},e)})):e}function Kp(e){var t={};return Object.keys(e).filter((function(e){return/(^aria-\w+$|^role$)/.test(e)})).forEach((function(n){t[n]=e[n]})),t}function Yp(e){var t=e.length;return e.hasOwnProperty?Array.prototype.slice.call(e):new Array(t).fill().map((function(t){return e[t]}))}var Jp,Zp,Xp={dark:{text:"#fff",background:"#222",border:"transparent",arrow:"#222"},success:{text:"#fff",background:"#8DC572",border:"transparent",arrow:"#8DC572"},warning:{text:"#fff",background:"#F0AD4E",border:"transparent",arrow:"#F0AD4E"},error:{text:"#fff",background:"#BE6464",border:"transparent",arrow:"#BE6464"},info:{text:"#fff",background:"#337AB7",border:"transparent",arrow:"#337AB7"},light:{text:"#222",background:"#fff",border:"transparent",arrow:"#fff"}},$p="8px 21px",ef={tooltip:3,arrow:0};var tf,nf=function(e){e.hide=function(e){xp(Np,{target:e})},e.rebuild=function(){xp(Dp)},e.show=function(e){xp(Pp,{target:e})},e.prototype.globalRebuild=function(){this.mount&&(this.unbindListener(),this.bindListener())},e.prototype.globalShow=function(e){if(this.mount){var t=!!(e&&e.detail&&e.detail.target);this.showTooltip({currentTarget:t&&e.detail.target},!0)}},e.prototype.globalHide=function(e){if(this.mount){var t=!!(e&&e.detail&&e.detail.target);this.hideTooltip({currentTarget:t&&e.detail.target},t)}}}(Jp=function(e){e.prototype.bindWindowEvents=function(e){window.removeEventListener(Np,this.globalHide),window.addEventListener(Np,this.globalHide,!1),window.removeEventListener(Dp,this.globalRebuild),window.addEventListener(Dp,this.globalRebuild,!1),window.removeEventListener(Pp,this.globalShow),window.addEventListener(Pp,this.globalShow,!1),e&&(window.removeEventListener("resize",this.onWindowResize),window.addEventListener("resize",this.onWindowResize,!1))},e.prototype.unbindWindowEvents=function(){window.removeEventListener(Np,this.globalHide),window.removeEventListener(Dp,this.globalRebuild),window.removeEventListener(Pp,this.globalShow),window.removeEventListener("resize",this.onWindowResize)},e.prototype.onWindowResize=function(){this.mount&&this.hideTooltip()}}(Jp=function(e){e.prototype.isCustomEvent=function(e){return this.state.event||!!e.getAttribute("data-event")},e.prototype.customBindListener=function(e){var t=this,n=this.state,r=n.event,i=n.eventOff,o=e.getAttribute("data-event")||r,a=e.getAttribute("data-event-off")||i;o.split(" ").forEach((function(n){e.removeEventListener(n,Bp.get(e,n));var r=Lp.bind(t,a);Bp.set(e,n,r),e.addEventListener(n,r,!1)})),a&&a.split(" ").forEach((function(n){e.removeEventListener(n,t.hideTooltip),e.addEventListener(n,t.hideTooltip,!1)}))},e.prototype.customUnbindListener=function(e){var t=this.state,n=t.event,r=t.eventOff,i=n||e.getAttribute("data-event"),o=r||e.getAttribute("data-event-off");e.removeEventListener(i,Bp.get(e,n)),o&&e.removeEventListener(o,this.hideTooltip)}}(Jp=function(e){e.prototype.isCapture=function(e){return e&&"true"===e.getAttribute("data-iscapture")||this.props.isCapture||!1}}(Jp=function(e){e.prototype.getEffect=function(e){return e.getAttribute("data-effect")||this.props.effect||"float"}}(Jp=function(e){e.prototype.isBodyMode=function(){return!!this.props.bodyMode},e.prototype.bindBodyListener=function(e){var t=this,n=this.state,r=n.event,i=n.eventOff,o=n.possibleCustomEvents,a=n.possibleCustomEventsOff,s=jp(),c=Up(e,"data-event"),u=Up(e,"data-event-off");null!=r&&(c[r]=!0),null!=i&&(u[i]=!0),o.split(" ").forEach((function(e){return c[e]=!0})),a.split(" ").forEach((function(e){return u[e]=!0})),this.unbindBodyListener(s);var l=this.bodyModeListeners={};for(var d in null==r&&(l.mouseover=Fp.bind(this,this.showTooltip,{}),l.mousemove=Fp.bind(this,this.updateTooltip,{respectEffect:!0}),l.mouseout=Fp.bind(this,this.hideTooltip,{})),c)l[d]=Fp.bind(this,(function(e){var n=e.currentTarget.getAttribute("data-event-off")||i;Lp.call(t,n,e)}),{customEvent:!0});for(var h in u)l[h]=Fp.bind(this,this.hideTooltip,{customEvent:!0});for(var p in l)s.addEventListener(p,l[p])},e.prototype.unbindBodyListener=function(e){e=e||jp();var t=this.bodyModeListeners;for(var n in t)e.removeEventListener(n,t[n])}}((Zp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ts(e,t)}(c,e);var t,r,i,o,a,s=(o=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Rs(o);if(a){var n=Rs(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Os(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={uuid:e.uuid||"t"+bs(),place:e.place||"top",desiredPlace:e.place||"top",type:e.type||"dark",effect:e.effect||"float",show:!1,border:!1,borderClass:"border",customColors:{},customRadius:{},offset:{},padding:e.padding,extraClass:"",html:!1,delayHide:0,delayShow:0,event:e.event||null,eventOff:e.eventOff||null,currentEvent:null,currentTarget:null,ariaProps:Kp(e),isEmptyTip:!1,disable:!1,possibleCustomEvents:e.possibleCustomEvents||"",possibleCustomEventsOff:e.possibleCustomEventsOff||"",originTooltip:null,isMultiline:!1},t.bind(["showTooltip","updateTooltip","hideTooltip","hideTooltipOnScroll","getTooltipContent","globalRebuild","globalShow","globalHide","onWindowResize","mouseOnToolTip"]),t.mount=!0,t.delayShowLoop=null,t.delayHideLoop=null,t.delayReshow=null,t.intervalUpdateContent=null,t}return t=c,r=[{key:"bind",value:function(e){var t=this;e.forEach((function(e){t[e]=t[e].bind(t)}))}},{key:"componentDidMount",value:function(){var e=this.props;e.insecure;var t=e.resizeHide,n=e.disableInternalStyle;this.mount=!0,this.bindListener(),this.bindWindowEvents(t),n||this.injectStyles()}},{key:"componentWillUnmount",value:function(){this.mount=!1,this.clearTimer(),this.unbindListener(),this.removeScrollListener(this.state.currentTarget),this.unbindWindowEvents()}},{key:"injectStyles",value:function(){var e=this.tooltipRef;if(e){for(var t,n=e.parentNode;n.parentNode;)n=n.parentNode;switch(n.constructor.name){case"Document":case"HTMLDocument":case void 0:t=n.head;break;default:t=n}if(!t.querySelector("style[data-react-tooltip]")){var r=document.createElement("style");r.textContent='.__react_component_tooltip {\n  border-radius: 3px;\n  display: inline-block;\n  font-size: 13px;\n  left: -999em;\n  opacity: 0;\n  position: fixed;\n  pointer-events: none;\n  transition: opacity 0.3s ease-out;\n  top: -999em;\n  visibility: hidden;\n  z-index: 999;\n}\n.__react_component_tooltip.allow_hover, .__react_component_tooltip.allow_click {\n  pointer-events: auto;\n}\n.__react_component_tooltip::before, .__react_component_tooltip::after {\n  content: "";\n  width: 0;\n  height: 0;\n  position: absolute;\n}\n.__react_component_tooltip.show {\n  opacity: 0.9;\n  margin-top: 0;\n  margin-left: 0;\n  visibility: visible;\n}\n.__react_component_tooltip.place-top::before {\n  bottom: 0;\n  left: 50%;\n  margin-left: -11px;\n}\n.__react_component_tooltip.place-bottom::before {\n  top: 0;\n  left: 50%;\n  margin-left: -11px;\n}\n.__react_component_tooltip.place-left::before {\n  right: 0;\n  top: 50%;\n  margin-top: -9px;\n}\n.__react_component_tooltip.place-right::before {\n  left: 0;\n  top: 50%;\n  margin-top: -9px;\n}\n.__react_component_tooltip .multi-line {\n  display: block;\n  padding: 2px 0;\n  text-align: center;\n}',r.setAttribute("data-react-tooltip","true"),t.appendChild(r)}}}},{key:"mouseOnToolTip",value:function(){return!(!this.state.show||!this.tooltipRef)&&(this.tooltipRef.matches||(this.tooltipRef.msMatchesSelector?this.tooltipRef.matches=this.tooltipRef.msMatchesSelector:this.tooltipRef.matches=this.tooltipRef.mozMatchesSelector),this.tooltipRef.matches(":hover"))}},{key:"getTargetArray",value:function(e){var t,n=[];if(e){var r=e.replace(/\\/g,"\\\\").replace(/"/g,'\\"');t='[data-tip][data-for="'.concat(r,'"]')}else t="[data-tip]:not([data-for])";return Yp(document.getElementsByTagName("*")).filter((function(e){return e.shadowRoot})).forEach((function(e){n=n.concat(Yp(e.shadowRoot.querySelectorAll(t)))})),n.concat(Yp(document.querySelectorAll(t)))}},{key:"bindListener",value:function(){var e=this,t=this.props,n=t.id,r=t.globalEventOff,i=t.isCapture,o=this.getTargetArray(n);o.forEach((function(t){null===t.getAttribute("currentItem")&&t.setAttribute("currentItem","false"),e.unbindBasicListener(t),e.isCustomEvent(t)&&e.customUnbindListener(t)})),this.isBodyMode()?this.bindBodyListener(o):o.forEach((function(t){var n=e.isCapture(t),r=e.getEffect(t);e.isCustomEvent(t)?e.customBindListener(t):(t.addEventListener("mouseenter",e.showTooltip,n),t.addEventListener("focus",e.showTooltip,n),"float"===r&&t.addEventListener("mousemove",e.updateTooltip,n),t.addEventListener("mouseleave",e.hideTooltip,n),t.addEventListener("blur",e.hideTooltip,n))})),r&&(window.removeEventListener(r,this.hideTooltip),window.addEventListener(r,this.hideTooltip,i)),this.bindRemovalTracker()}},{key:"unbindListener",value:function(){var e=this,t=this.props,n=t.id,r=t.globalEventOff;this.isBodyMode()?this.unbindBodyListener():this.getTargetArray(n).forEach((function(t){e.unbindBasicListener(t),e.isCustomEvent(t)&&e.customUnbindListener(t)})),r&&window.removeEventListener(r,this.hideTooltip),this.unbindRemovalTracker()}},{key:"unbindBasicListener",value:function(e){var t=this.isCapture(e);e.removeEventListener("mouseenter",this.showTooltip,t),e.removeEventListener("mousemove",this.updateTooltip,t),e.removeEventListener("mouseleave",this.hideTooltip,t)}},{key:"getTooltipContent",value:function(){var e,t=this.props,n=t.getContent,r=t.children;return n&&(e=Array.isArray(n)?n[0]&&n[0](this.state.originTooltip):n(this.state.originTooltip)),Wp(this.state.originTooltip,r,e,this.state.isMultiline)}},{key:"isEmptyTip",value:function(e){return"string"==typeof e&&""===e||null===e}},{key:"showTooltip",value:function(e,t){if(this.tooltipRef){if(t&&!this.getTargetArray(this.props.id).some((function(t){return t===e.currentTarget})))return;var n=this.props,r=n.multiline,i=n.getContent,o=e.currentTarget.getAttribute("data-tip"),a=e.currentTarget.getAttribute("data-multiline")||r||!1,s=e instanceof window.FocusEvent||t,c=!0;e.currentTarget.getAttribute("data-scroll-hide")?c="true"===e.currentTarget.getAttribute("data-scroll-hide"):null!=this.props.scrollHide&&(c=this.props.scrollHide),e&&e.currentTarget&&e.currentTarget.setAttribute&&e.currentTarget.setAttribute("aria-describedby",this.props.id||this.state.uuid);var u=e.currentTarget.getAttribute("data-place")||this.props.place||"top",l=s?"solid":this.getEffect(e.currentTarget),d=e.currentTarget.getAttribute("data-offset")||this.props.offset||{},h=Vp(e,e.currentTarget,this.tooltipRef,u.split(",")[0],u,l,d);h.position&&this.props.overridePosition&&(h.position=this.props.overridePosition(h.position,e,e.currentTarget,this.tooltipRef,u,u,l,d));var p=h.isNewState?h.newState.place:u.split(",")[0];this.clearTimer();var f=e.currentTarget,A=this.state.show?f.getAttribute("data-delay-update")||this.props.delayUpdate:0,g=this,m=function(){g.setState({originTooltip:o,isMultiline:a,desiredPlace:u,place:p,type:f.getAttribute("data-type")||g.props.type||"dark",customColors:{text:f.getAttribute("data-text-color")||g.props.textColor||null,background:f.getAttribute("data-background-color")||g.props.backgroundColor||null,border:f.getAttribute("data-border-color")||g.props.borderColor||null,arrow:f.getAttribute("data-arrow-color")||g.props.arrowColor||null},customRadius:{tooltip:f.getAttribute("data-tooltip-radius")||g.props.tooltipRadius||"3",arrow:f.getAttribute("data-arrow-radius")||g.props.arrowRadius||"0"},effect:l,offset:d,padding:f.getAttribute("data-padding")||g.props.padding,html:(f.getAttribute("data-html")?"true"===f.getAttribute("data-html"):g.props.html)||!1,delayShow:f.getAttribute("data-delay-show")||g.props.delayShow||0,delayHide:f.getAttribute("data-delay-hide")||g.props.delayHide||0,delayUpdate:f.getAttribute("data-delay-update")||g.props.delayUpdate||0,border:(f.getAttribute("data-border")?"true"===f.getAttribute("data-border"):g.props.border)||!1,borderClass:f.getAttribute("data-border-class")||g.props.borderClass||"border",extraClass:f.getAttribute("data-class")||g.props.class||g.props.className||"",disable:(f.getAttribute("data-tip-disable")?"true"===f.getAttribute("data-tip-disable"):g.props.disable)||!1,currentTarget:f},(function(){c&&g.addScrollListener(g.state.currentTarget),g.updateTooltip(e),i&&Array.isArray(i)&&(g.intervalUpdateContent=setInterval((function(){if(g.mount){var e=g.props.getContent,t=Wp(o,"",e[0](),a),n=g.isEmptyTip(t);g.setState({isEmptyTip:n}),g.updatePosition()}}),i[1]))}))};A?this.delayReshow=setTimeout(m,A):m()}}},{key:"updateTooltip",value:function(e){var t=this,n=this.state,r=n.delayShow,i=n.disable,o=this.props,a=o.afterShow,s=o.disable,c=this.getTooltipContent(),u=e.currentTarget||e.target;if(!this.mouseOnToolTip()&&!(this.isEmptyTip(c)||i||s)){var l=this.state.show?0:parseInt(r,10),d=function(){if(Array.isArray(c)&&c.length>0||c){var n=!t.state.show;t.setState({currentEvent:e,currentTarget:u,show:!0},(function(){t.updatePosition((function(){n&&a&&a(e)}))}))}};this.delayShowLoop&&clearTimeout(this.delayShowLoop),l?this.delayShowLoop=setTimeout(d,l):(this.delayShowLoop=null,d())}}},{key:"listenForTooltipExit",value:function(){this.state.show&&this.tooltipRef&&this.tooltipRef.addEventListener("mouseleave",this.hideTooltip)}},{key:"removeListenerForTooltipExit",value:function(){this.state.show&&this.tooltipRef&&this.tooltipRef.removeEventListener("mouseleave",this.hideTooltip)}},{key:"hideTooltip",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{isScroll:!1},i=this.state.disable,o=r.isScroll,a=o?0:this.state.delayHide,s=this.props,c=s.afterHide,u=s.disable,l=this.getTooltipContent();if(this.mount&&!(this.isEmptyTip(l)||i||u)){if(t){var d=this.getTargetArray(this.props.id),h=d.some((function(t){return t===e.currentTarget}));if(!h||!this.state.show)return}e&&e.currentTarget&&e.currentTarget.removeAttribute&&e.currentTarget.removeAttribute("aria-describedby");var p=function(){var t=n.state.show;n.mouseOnToolTip()?n.listenForTooltipExit():(n.removeListenerForTooltipExit(),n.setState({show:!1},(function(){n.removeScrollListener(n.state.currentTarget),t&&c&&c(e)})))};this.clearTimer(),a?this.delayHideLoop=setTimeout(p,parseInt(a,10)):p()}}},{key:"hideTooltipOnScroll",value:function(e,t){this.hideTooltip(e,t,{isScroll:!0})}},{key:"addScrollListener",value:function(e){var t=this.isCapture(e);window.addEventListener("scroll",this.hideTooltipOnScroll,t)}},{key:"removeScrollListener",value:function(e){var t=this.isCapture(e);window.removeEventListener("scroll",this.hideTooltipOnScroll,t)}},{key:"updatePosition",value:function(e){var t=this,n=this.state,r=n.currentEvent,i=n.currentTarget,o=n.place,a=n.desiredPlace,s=n.effect,c=n.offset,u=this.tooltipRef,l=Vp(r,i,u,o,a,s,c);if(l.position&&this.props.overridePosition&&(l.position=this.props.overridePosition(l.position,r,i,u,o,a,s,c)),l.isNewState)return this.setState(l.newState,(function(){t.updatePosition(e)}));e&&"function"==typeof e&&e(),u.style.left=l.position.left+"px",u.style.top=l.position.top+"px"}},{key:"clearTimer",value:function(){this.delayShowLoop&&(clearTimeout(this.delayShowLoop),this.delayShowLoop=null),this.delayHideLoop&&(clearTimeout(this.delayHideLoop),this.delayHideLoop=null),this.delayReshow&&(clearTimeout(this.delayReshow),this.delayReshow=null),this.intervalUpdateContent&&(clearInterval(this.intervalUpdateContent),this.intervalUpdateContent=null)}},{key:"hasCustomColors",value:function(){var e=this;return Boolean(Object.keys(this.state.customColors).find((function(t){return"border"!==t&&e.state.customColors[t]}))||this.state.border&&this.state.customColors.border)}},{key:"render",value:function(){var e=this,t=this.state,r=t.extraClass,i=t.html,o=t.ariaProps,a=t.disable,s=t.uuid,u=this.getTooltipContent(),l=this.isEmptyTip(u),d=this.props.disableInternalStyle?"":function(e,t,n,r,i,o){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$p,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ef,i=t.text,o=t.background,a=t.border,s=t.arrow,c=r.arrow,u=r.tooltip;return"\n  \t.".concat(e," {\n\t    color: ").concat(i,";\n\t    background: ").concat(o,";\n\t    border: 1px solid ").concat(a,";\n\t    border-radius: ").concat(u,"px;\n\t    padding: ").concat(n,";\n  \t}\n\n  \t.").concat(e,".place-top {\n        margin-top: -10px;\n    }\n    .").concat(e,'.place-top::before {\n        content: "";\n        background-color: inherit;\n        position: absolute;\n        z-index: 2;\n        width: 20px;\n        height: 12px;\n    }\n    .').concat(e,'.place-top::after {\n        content: "";\n        position: absolute;\n        width: 10px;\n        height: 10px;\n        border-top-right-radius: ').concat(c,"px;\n        border: 1px solid ").concat(a,";\n        background-color: ").concat(s,";\n        z-index: -2;\n        bottom: -6px;\n        left: 50%;\n        margin-left: -6px;\n        transform: rotate(135deg);\n    }\n\n    .").concat(e,".place-bottom {\n        margin-top: 10px;\n    }\n    .").concat(e,'.place-bottom::before {\n        content: "";\n        background-color: inherit;\n        position: absolute;\n        z-index: -1;\n        width: 18px;\n        height: 10px;\n    }\n    .').concat(e,'.place-bottom::after {\n        content: "";\n        position: absolute;\n        width: 10px;\n        height: 10px;\n        border-top-right-radius: ').concat(c,"px;\n        border: 1px solid ").concat(a,";\n        background-color: ").concat(s,";\n        z-index: -2;\n        top: -6px;\n        left: 50%;\n        margin-left: -6px;\n        transform: rotate(45deg);\n    }\n\n    .").concat(e,".place-left {\n        margin-left: -10px;\n    }\n    .").concat(e,'.place-left::before {\n        content: "";\n        background-color: inherit;\n        position: absolute;\n        z-index: -1;\n        width: 10px;\n        height: 18px;\n    }\n    .').concat(e,'.place-left::after {\n        content: "";\n        position: absolute;\n        width: 10px;\n        height: 10px;\n        border-top-right-radius: ').concat(c,"px;\n        border: 1px solid ").concat(a,";\n        background-color: ").concat(s,";\n        z-index: -2;\n        right: -6px;\n        top: 50%;\n        margin-top: -6px;\n        transform: rotate(45deg);\n    }\n\n    .").concat(e,".place-right {\n        margin-left: 10px;\n    }\n    .").concat(e,'.place-right::before {\n        content: "";\n        background-color: inherit;\n        position: absolute;\n        z-index: -1;\n        width: 10px;\n        height: 18px;\n    }\n    .').concat(e,'.place-right::after {\n        content: "";\n        position: absolute;\n        width: 10px;\n        height: 10px;\n        border-top-right-radius: ').concat(c,"px;\n        border: 1px solid ").concat(a,";\n        background-color: ").concat(s,";\n        z-index: -2;\n        left: -6px;\n        top: 50%;\n        margin-top: -6px;\n        transform: rotate(-135deg);\n    }\n  ")}(e,function(e,t,n){var r=e.text,i=e.background,o=e.border,a=e.arrow?e.arrow:e.background,s=function(e){return Xp[e]?Cs({},Xp[e]):void 0}(t);return r&&(s.text=r),i&&(s.background=i),n&&(s.border=o||("light"===t?"black":"white")),a&&(s.arrow=a),s}(t,n,r),i,o)}(this.state.uuid,this.state.customColors,this.state.type,this.state.border,this.state.padding,this.state.customRadius),h="__react_component_tooltip"+" ".concat(this.state.uuid)+(!this.state.show||a||l?"":" show")+(this.state.border?" "+this.state.borderClass:"")+" place-".concat(this.state.place)+" type-".concat(this.hasCustomColors()?"custom":this.state.type)+(this.props.delayUpdate?" allow_hover":"")+(this.props.clickable?" allow_click":""),p=this.props.wrapper;c.supportedWrappers.indexOf(p)<0&&(p=c.defaultProps.wrapper);var f=[h,r].filter(Boolean).join(" ");if(i){var A="".concat(u).concat(d?'\n<style aria-hidden="true">'.concat(d,"</style>"):"");return n.createElement(p,ws({className:"".concat(f),id:this.props.id||s,ref:function(t){return e.tooltipRef=t}},o,{"data-id":"tooltip",dangerouslySetInnerHTML:{__html:A}}))}return n.createElement(p,ws({className:"".concat(f),id:this.props.id||s},o,{ref:function(t){return e.tooltipRef=t},"data-id":"tooltip"}),d&&n.createElement("style",{dangerouslySetInnerHTML:{__html:d},"aria-hidden":"true"}),u)}}],i=[{key:"propTypes",get:function(){return{uuid:Hi().string,children:Hi().any,place:Hi().string,type:Hi().string,effect:Hi().string,offset:Hi().object,padding:Hi().string,multiline:Hi().bool,border:Hi().bool,borderClass:Hi().string,textColor:Hi().string,backgroundColor:Hi().string,borderColor:Hi().string,arrowColor:Hi().string,arrowRadius:Hi().string,tooltipRadius:Hi().string,insecure:Hi().bool,class:Hi().string,className:Hi().string,id:Hi().string,html:Hi().bool,delayHide:Hi().number,delayUpdate:Hi().number,delayShow:Hi().number,event:Hi().string,eventOff:Hi().string,isCapture:Hi().bool,globalEventOff:Hi().string,getContent:Hi().any,afterShow:Hi().func,afterHide:Hi().func,overridePosition:Hi().func,disable:Hi().bool,scrollHide:Hi().bool,resizeHide:Hi().bool,wrapper:Hi().string,bodyMode:Hi().bool,possibleCustomEvents:Hi().string,possibleCustomEventsOff:Hi().string,clickable:Hi().bool,disableInternalStyle:Hi().bool}}},{key:"getDerivedStateFromProps",value:function(e,t){var n=t.ariaProps,r=Kp(e);return Object.keys(r).some((function(e){return r[e]!==n[e]}))?Cs(Cs({},t),{},{ariaProps:r}):null}}],r&&Is(t.prototype,r),i&&Is(t,i),Object.defineProperty(t,"prototype",{writable:!1}),c}(n.Component),Ss(Zp,"defaultProps",{insecure:!0,resizeHide:!0,wrapper:"div",clickable:!1}),Ss(Zp,"supportedWrappers",["div","span"]),Ss(Zp,"displayName","ReactTooltip"),(tf=Jp=Zp).prototype.bindRemovalTracker=function(){var e=this,t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(null!=t){var n=new t((function(t){for(var n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.removedNodes.length;i++)if(r.removedNodes[i]===e.state.currentTarget)return void e.hideTooltip()}));n.observe(window.document,{childList:!0,subtree:!0}),this.removalTracker=n}},Jp=void(tf.prototype.unbindRemovalTracker=function(){this.removalTracker&&(this.removalTracker.disconnect(),this.removalTracker=null)})||Jp))||Jp)||Jp)||Jp)||Jp)||Jp)||Jp;const rf=e=>{const[t,r]=(0,n.useState)(!1),{isClickable:i=!1,placement:o="top"}=e,a=((e=5,t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ")=>{for(var n="",r=e;r>0;--r)n+=t[Math.floor(Math.random()*t.length)];return n})();return n.createElement(n.Fragment,null,n.createElement("div",{style:{cursor:i?"pointer":"auto"},"data-tip":!0,"data-event":i?"click focus":"mouseenter","data-event-off":i?"":"mouseleave","data-for":a,onMouseEnter:()=>r(!0),onMouseLeave:()=>{r(!1)}},n.createElement(qn.Z,{style:t?null==e?void 0:e.activeBgStyle:null==e?void 0:e.defaultBgStyle},e.renderContent(t,r))),n.createElement(nf,{afterShow:()=>{i&&(null==e?void 0:e.onPress)&&e.onPress()},globalEventOff:"click",id:a,backgroundColor:"#2D2D2D",className:"custom-tool-tip",place:"top",type:"dark",effect:"solid"},n.createElement("style",{type:"text/css"},'\n  .custom-tool-tip{\n    padding:12px;\n    border-radius: 8px;\n  }\n  .custom-tool-tip div{\n    font-family: "Source Sans Pro";\n    font-weight: 400;\n    font-size: 16px;\n  }\n  .__react_component_tooltip.show{\n    opacity:1;\n  }\n  .custom-tool-tip::after {\n    width: 20px !important;\n    height: 20px !important;\n    border-top-right-radius: 5px !important;\n    bottom: -10px !important;\n    margin-left: -10px !important;\n  }'),n.createElement(qn.Z,{style:{flex:1,flexDirection:"row"}},null!=e&&e.toolTipIcon?e.toolTipIcon:null,n.createElement($n.Z,{style:{color:"#FFFFFF"}},e.toolTipMessage))))};function of(){return of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},of.apply(this,arguments)}const af=e=>{var t,r;return n.createElement(sf,e,n.createElement(es,of({},e.iconProps,{isHovered:null==e?void 0:e.isToolTipVisible})),null!=e&&null!==(t=e.btnTextProps)&&void 0!==t&&t.text?n.createElement($n.Z,{numberOfLines:1,ellipsizeMode:"tail",style:[lf.btnTextStyle,null!=e&&null!==(r=e.btnTextProps)&&void 0!==r&&r.textColor?{color:e.btnTextProps.textColor}:{},null==e?void 0:e.btnTextProps.textStyle]},e.btnTextProps.text):n.createElement(n.Fragment,null))},sf=({children:e,...t})=>di()?n.createElement(Zn.Z,{ref:e=>(null==t?void 0:t.setRef)&&t.setRef(e),style:!t.isOnActionSheet&&[lf.containerStyle,null==t?void 0:t.containerStyle,null!=t&&t.hoverEffect&&null!=t&&t.isToolTipVisible?null==t?void 0:t.hoverEffectStyle:{}],onPress:t.onPress,disabled:t.disabled},e):n.createElement(As.Z,{ref:e=>(null==t?void 0:t.setRef)&&t.setRef(e),style:!t.isOnActionSheet&&[lf.containerStyle,null==t?void 0:t.containerStyle,null!=t&&t.hoverEffect&&null!=t&&t.isToolTipVisible?null==t?void 0:t.hoverEffectStyle:{}],onPress:t.onPress,disabled:t.disabled},e),cf=({children:e,...t})=>ai()?n.createElement("div",{onMouseEnter:()=>{null==t||t.setIsHovered(!0)},onMouseLeave:()=>{null==t||t.setIsHovered(!1)}},e):e,uf=e=>{const[t,r]=n.useState(!1),{placement:i="top",isClickable:o=!1}=e;return null!=e&&e.toolTipMessage?n.createElement(rf,{isClickable:o,toolTipMessage:e.toolTipMessage,placement:i,renderContent:(t,r)=>n.createElement(af,of({},e,{isToolTipVisible:t,setToolTipVisible:r}))}):n.createElement(cf,{isHovered:t,setIsHovered:r},n.createElement(af,of({},e,{isToolTipVisible:t,setToolTipVisible:r})))},lf=On.Z.create({containerStyle:{flex:1,flexDirection:"column",alignItems:"center"},btnTextStyle:{fontFamily:Ka.sansPro,fontSize:Wa.tiny,fontWeight:"400",textAlign:"center",marginTop:4}}),df=(0,n.createContext)({isScreenshareActive:!1,startUserScreenshare:()=>{},stopUserScreenShare:()=>{}}),hf=he(df),pf=On.Z.create({iconContainer:{marginVertical:12,marginLeft:16,marginRight:12,backgroundColor:"#FFFFFF",alignSelf:"center",width:20,height:20},btnContainer:{alignSelf:"center",backgroundColor:"#FF414D",borderRadius:8,height:40,maxWidth:129,flexDirection:"row"},btnTextContainer:{marginVertical:12,marginRight:16},btnText:{fontFamily:Ka.sansPro,fontWeight:"400",fontSize:12,lineHeight:16,textAlign:"center",color:"#FFFFFF"},screenSharingMessageContainer:{position:"absolute",top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",justifyContent:"center",zIndex:2,backgroundColor:"#000000"+xa,borderRadius:4},screensharingMessageMin:{alignSelf:"center",textAlign:"center",fontFamily:Ka.sansPro,fontWeight:"600",fontSize:20,color:"#FFFFFF"},screensharingMessage:{alignSelf:"center",textAlign:"center",fontFamily:Ka.sansPro,fontWeight:"600",fontSize:32,lineHeight:40,color:"#FFFFFF",paddingBottom:24}}),ff=function({uid:e,isMax:t}){const{currentLayout:r}=Di(),{stopUserScreenShare:i}=hf(),{rtcProps:o}=(0,n.useContext)(ln);return e===(null==o?void 0:o.screenShareUid)?n.createElement(qn.Z,{style:pf.screenSharingMessageContainer},n.createElement($n.Z,{style:t||r!==Vf()?pf.screensharingMessage:pf.screensharingMessageMin},"You are sharing your screen"),t||r!==Vf()?n.createElement(Zn.Z,{style:pf.btnContainer,onPress:()=>i()},n.createElement(qn.Z,{style:pf.iconContainer},n.createElement(es,{iconType:"plain",iconSize:20,name:"close",tintColor:"#FF414D"})),n.createElement(qn.Z,{style:pf.btnTextContainer},n.createElement($n.Z,{style:pf.btnText},"Stop Sharing"))):n.createElement(n.Fragment,null)):null},Af=On.Z.create({container:{flex:1,backgroundColor:"#222222",justifyContent:"center"},avatarBg:{width:100,height:100,borderRadius:50},avatarBgSmall:{width:60,height:60},avatarBgMobileUA:{width:45,height:45},textStyle:{fontSize:32,lineHeight:32,fontWeight:"600",color:"#1D1D1D"}}),gf={0:{icon:"connection-unsupported",tint:"#808080",text:"unknown"},1:{icon:"connection-good",tint:"#36B37E",text:"excellent"},2:{icon:"connection-good",tint:"#36B37E",text:"good"},3:{icon:"connection-bad",tint:"#FFAB00",text:"bad"},4:{icon:"connection-bad",tint:"#FFAB00",text:"bad"},5:{icon:"connection-very-bad",tint:"#FF414D",text:"veryBad"},6:{icon:"connection-very-bad",tint:"#FF414D",text:"veryBad"},7:{icon:"connection-unpublished",tint:"#808080",text:"unpublished"},8:{icon:"connection-loading",tint:"#808080",text:"loading"}},mf={},vf=(0,n.createContext)(mf),yf=vf,Ef=(vf.Consumer,e=>{const t=Qn(),[r,i]=(0,n.useState)({[t]:0}),{RtcEngine:o}=ka();return Qe((()=>{o.addListener("NetworkQuality",(function(e,n,r){i((i=>{const o={...i};if(0===e){const e=n*r!=0?n<r?r:n:0;o[t]=e}else o[e]=n;return o}))}))})),n.createElement(vf.Provider,{value:r},e.children)}),bf=({networkTextVisible:e,setNetworkTextVisible:t,children:r,reduceSpace:i,activeUids:o})=>ai()?n.createElement("div",{style:{height:"100%",display:"flex",flexDirection:"row",alignItems:"center",padding:i&&o.length>12?2:8},onClick:e=>{e.preventDefault(),t((e=>!e))},onMouseEnter:()=>{t(!0)},onMouseLeave:()=>{t(!1)}},r):n.createElement(As.Z,{style:{height:"100%",display:"flex",flexDirection:"row",alignItems:"center",padding:i&&o.length>12?2:8},onPress:()=>{t((e=>!e))}},r),_f=On.Z.create({networkPill:{position:"absolute",zIndex:2,borderRadius:50},rootStyle:{top:8,right:8},networkPillContent:{display:"flex",flexDirection:"row",alignItems:"center"},networkPillText:{color:"#FFFFFF",fontSize:Wa.small,fontFamily:Ka.sansPro,fontWeight:"600",marginLeft:8}}),Cf=e=>{const{user:t}=e,[r,i]=(0,n.useState)(!1),o=(0,n.useContext)(yf),a=o[t.uid]?o[t.uid]:t.audio||t.video?8:7,{activeUids:s}=Na(),{currentLayout:c}=Di(),u=di()&&s.length>4&&c===Qf();return n.createElement(qn.Z,{testID:"videocall-networkpill",style:[_f.networkPill,_f.rootStyle,{backgroundColor:r?gf[a].tint+Ba:"#808080"+Qa},u?{top:2,right:2}:{}]},n.createElement(bf,{networkTextVisible:r,setNetworkTextVisible:i,reduceSpace:u,activeUids:s},n.createElement(qn.Z,null,n.createElement(es,{iconType:"plain",tintColor:r?"#FFFFFF":gf[a].tint+Ua,name:gf[a].icon,iconSize:16})),r&&n.createElement($n.Z,{textBreakStrategy:"simple",style:_f.networkPillText},(e=>{switch(e){case"unknown":return"Network Unsupported";case"excellent":return"Excellent Network";case"good":return"Good Network";case"bad":return"Bad Network";case"veryBad":return"Very Bad Network";case"unpublished":return"Network Unpublished";case"loading":return"Network Loading";default:return"Loading"}})(gf[a].text))))},If=function(){const{activeSpeaker:e,renderList:t}=Na();return n=>t[n].audio&&e===n},Sf=({children:e})=>si()?n.createElement("div",{style:{userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",msUserSelect:"none",alignSelf:"center",overflow:"hidden",textOverflow:"ellipsis",color:"#FFFFFF"}},e):n.createElement(n.Fragment,null,e),wf=On.Z.create({container:{backgroundColor:"#000004",position:"absolute",alignItems:"center",padding:8,left:8,bottom:8,borderRadius:4,flexDirection:"row",zIndex:5},name:{color:"#FFFFFF",fontSize:Wa.small,fontWeight:"600",fontFamily:Ka.sansPro,flexShrink:1,marginLeft:4,marginRight:2}}),Rf=e=>{const{activeUids:t}=Na(),{currentLayout:r}=Di(),i=di()&&t.length>4&&r===Qf(),{user:o}=e,{height:a,width:s}=(0,ri.Z)(),c=If()(o.uid),u=vi();return n.createElement(qn.Z,{style:[wf.container,{maxWidth:.6*e.videoTileWidth>180?180:.6*e.videoTileWidth},i?{left:2,bottom:2}:{},i&&t.length>12?{padding:2}:{}]},n.createElement(es,{iconType:"plain",name:o.audio&&c?"active-speaker":o.audio?"mic-on":"mic-off",tintColor:o.audio?"#099DFD":"#FF414D",iconSize:20}),(di()||!di()&&u())&&r===Qf()&&t.length>6?n.createElement(n.Fragment,null):n.createElement(Sf,null,n.createElement($n.Z,{numberOfLines:1,textBreakStrategy:"simple",ellipsizeMode:"tail",style:wf.name},o.name||"User")))},Tf=({setActionMenuVisible:e,videoMoreMenuRef:t})=>{const{activeUids:r}=Na(),{currentLayout:i}=Di(),o=di()&&r.length>4&&i===Qf();return n.createElement(n.Fragment,null,n.createElement(qn.Z,{ref:t,collapsable:!1,style:{position:"absolute",right:o?2:8,bottom:o?2:8,zIndex:999}},n.createElement(uf,{onPress:()=>{e(!0)},iconProps:{iconContainerStyle:{padding:o&&r.length>12?2:8,backgroundColor:"#000004"},name:"more-menu",iconSize:20,tintColor:"#FFFFFF"}})))},Of=({children:e,setIsHovered:t,isHovered:r})=>ai()&&!di()?n.createElement("div",{style:{width:"100%",height:"100%"},onMouseOver:()=>{!r&&t(!0)},onMouseLeave:()=>{t(!1)}},e):n.createElement(n.Fragment,null,e),kf=On.Z.create({replacePinContainer:{zIndex:999,paddingHorizontal:12,paddingVertical:10,backgroundColor:"#000004",borderRadius:8,flexDirection:"row",position:"absolute",left:0,right:0,top:0,bottom:0,margin:"auto",maxWidth:120,maxHeight:32},container:{width:"100%",height:"100%",position:"relative",overflow:"hidden",borderRadius:Ya.small,borderWidth:2},activeContainerStyle:{borderColor:"#099DFD"},nonActiveContainerStyle:{borderColor:"transparent"},noVideoStyle:{borderColor:"transparent"}}),Nf=({user:e,isMax:t=!1})=>{const{dispatch:r}=ka(),i=If(),{pinnedUid:o,activeUids:a}=Na(),s=i(e.uid),[c,u]=(0,n.useState)(!1),{rtcProps:l}=(0,n.useContext)(ln),{currentLayout:d}=Di(),h=o&&!t&&c&&d===Vf(),p=!o&&!t&&c&&d===Vf(),[f,A]=(0,n.useState)(0),[g,m]=(0,n.useState)(100),v=(0,n.useRef)(null),[y,E]=n.useState(!1);return n.createElement(n.Fragment,null,n.createElement(DA,{actionMenuVisible:y,setActionMenuVisible:e=>{e||u(!1),E(e)},user:e,btnRef:v,from:"video-tile"}),n.createElement(Of,{isHovered:c,setIsHovered:u},n.createElement(qn.Z,{onLayout:({nativeEvent:{layout:{x:e,y:t,width:n,height:r}}})=>{A(n),m(Math.floor(.35*n))},style:[kf.container,s?kf.activeContainerStyle:e.video?kf.noVideoStyle:kf.nonActiveContainerStyle]},!h&&!p&&n.createElement(ff,{uid:e.uid,isMax:t}),n.createElement(Cf,{user:e}),n.createElement(Wn,{fallback:()=>function(e,t,r,i,o){const{activeUids:a}=Na(),{currentLayout:s}=Di(),{width:c}=(0,ri.Z)(),u=Math.min(o,100),l=Math.min(.35*o,32);return n.createElement(qn.Z,{style:[Af.container]},r?n.createElement(n.Fragment,null):n.createElement(fs,{name:e,containerStyle:[{width:u,height:u,borderRadius:u/2},{backgroundColor:t?"#099DFD":"#BDD0DB"}],textStyle:[Af.textStyle,{fontSize:l,lineHeight:l}]}))}(null==e?void 0:e.name,s,!(!h&&!p||di()),0,g),user:e,containerStyle:{width:"100%",height:"100%"},key:e.uid}),n.createElement(Rf,{videoTileWidth:f,user:e,isMax:t}),e.uid!==(null==l?void 0:l.screenShareUid)&&(c||y||di())?n.createElement(Tf,{videoMoreMenuRef:v,setActionMenuVisible:E}):n.createElement(n.Fragment,null),!h&&!p||di()?n.createElement(n.Fragment,null):n.createElement(uf,{onPress:()=>{r({type:"UserPin",value:[e.uid]})},containerStyle:kf.replacePinContainer,btnTextProps:{text:h?"Replace Pin":"Pin for me",textColor:"#FFFFFF",textStyle:{marginTop:0,fontWeight:"700",marginLeft:6}},iconProps:{name:"pin-filled",iconSize:20,iconType:"plain",tintColor:"#FFFFFF"}}))))},Df={rtc:Nf,screenshare:Nf},Pf=({uid:e,isMax:t=!1})=>{var r;const{renderList:i}=Na(),o=ke((e=>{var t,n,r,i,o;return"object"==typeof(null==e||null===(t=e.components)||void 0===t?void 0:t.videoCall)&&"object"==typeof(null==e||null===(n=e.components)||void 0===n||null===(r=n.videoCall)||void 0===r?void 0:r.customContent)?null==e||null===(i=e.components)||void 0===i||null===(o=i.videoCall)||void 0===o?void 0:o.customContent:void 0})),a=(s=null===(r=i[e])||void 0===r?void 0:r.type,!!(o&&o[s]&&oi(o[s]))&&o[s]||(Df[s]?Df[s]:Df.rtc));var s;return n.createElement(a,{user:i[e],isMax:t})},xf=On.Z.create({full:{flex:1},gridRow:{flex:1,flexDirection:"row",width:"100%",paddingVertical:4},gridVideoContainerInner:{flex:1,overflow:"hidden"},infoTextContainer:{flex:1,backgroundColor:"#222222",justifyContent:"center",marginHorizontal:"auto",marginVertical:4},infoTextStyle:{fontFamily:"Source Sans Pro",fontWeight:"600",fontSize:32,color:"#BDD0DB",textAlign:"center",padding:12}}),Lf=({renderData:e})=>{const{dispatch:t}=ka(),{rtcProps:r}=(0,n.useContext)(ln),{activeUids:i}=Na(),o=mi();let{matrix:a,dims:s}=(0,n.useMemo)((()=>((e,t=!0)=>{const n=Math.round(Math.sqrt(e)),r=Math.ceil(e/n);let[i,o]=t?[n,r]:[r,n];return{matrix:e>0?[...Array(i-1).fill(null).map((()=>Array(o).fill("X"))),Array(e-(i-1)*o).fill("X")]:[],dims:{r:i,c:o}}})(e.length,o())),[e.length,o()]);const c=Gf();return n.createElement(qn.Z,{style:[xf.full]},a.map(((r,i)=>n.createElement(qn.Z,{style:xf.gridRow,key:i},r.map(((o,a)=>n.createElement(As.Z,{disabled:1===e.length,onPress:()=>{0===i&&0===a||t({type:"SwapVideo",value:[e[i*s.c+a]]}),c()},style:{flex:ai()?1/s.c:1,marginHorizontal:"auto"},key:a},n.createElement(qn.Z,{style:[xf.gridVideoContainerInner,(null==r?void 0:r.length)>1?0===a?{marginRight:4}:a===(null==r?void 0:r.length)-1?{marginLeft:4}:{marginHorizontal:4}:i>1?{marginHorizontal:4}:{}]},n.createElement(Pf,{uid:e[i*s.c+a]})))))))))},{topPinned:Mf}=Ja.x0,Bf=On.Z.create({width80:{width:"80%"},width100:{width:"100%"},flex2:{flex:2},flex8:{flex:8},flex1:{flex:1}}),Ff=({renderData:e})=>{const{pinnedUid:t,activeUids:r,renderList:i,activeSpeaker:o}=Na(),[a,s]=(0,n.useState)(!1),c=Qn(),{width:u,height:l}=(0,ri.Z)(),d=!0!==Mf&&u>gi,{dispatch:h}=ka(),[p,f]=(0,n.useState)(e),[A,g]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{const e=r.filter((e=>e!==t)),n=e.filter((e=>e!==o)),a=n.filter((e=>"screenshare"===i[e].type&&i[e].parentUid!==c)),s=n.filter((e=>"screenshare"===i[e].type&&i[e].parentUid===c));(null!=a&&a.length||null!=s&&s.length)&&g(!0);const u=n.filter((e=>"screenshare"!==i[e].type)),l=[t,...a,t!==o?o:0,...s,...u].filter((e=>void 0!==e&&0!==e));f(l)}),[r,i,o,t]),n.createElement(qn.Z,{style:{flexDirection:d?"row":"column",flex:1}},!a&&n.createElement(hs.Z,{horizontal:!d,showsHorizontalScrollIndicator:!di(),decelerationRate:0,style:d?{width:"20%",paddingRight:8}:{flex:1,minHeight:160,marginBottom:8}},null==p?void 0:p.map(((e,t)=>0===t?null:n.createElement(As.Z,{disabled:!0,style:d?{width:"100%",height:.1125*u+2,zIndex:40,paddingBottom:8}:{width:254,height:"100%",zIndex:40,marginRight:8},key:"minVideo"+t,onPress:()=>{h({type:"SwapVideo",value:[e]})}},n.createElement(Pf,{uid:e}))))),p&&(null==p?void 0:p.length)&&n.createElement(qn.Z,{style:d?a?Bf.width100:Bf.width80:Bf.flex8},n.createElement(qn.Z,{style:Bf.flex1,key:"maxVideo"+p[0]},d&&n.createElement(uf,{containerStyle:{position:"absolute",top:8,left:8,zIndex:999,elevation:999},onPress:()=>s(!a),iconProps:{iconContainerStyle:{padding:8,backgroundColor:"#808080"+Qa},name:a?"collapse":"expand",tintColor:"#FFFFFF",iconSize:24}}),t?n.createElement(uf,{containerStyle:{paddingHorizontal:8,paddingVertical:10,backgroundColor:"#000004",borderRadius:8,flexDirection:"row",position:"absolute",top:8,left:8+(d?52:0),zIndex:999,elevation:999},iconProps:{iconType:"plain",iconContainerStyle:{padding:0},name:"unpin-filled",iconSize:20,tintColor:"#FFFFFF"},onPress:()=>{h({type:"UserPin",value:[0]})},btnTextProps:{text:"Unpin",textColor:"#FFFFFF",textStyle:{marginTop:0,marginLeft:6,marginRight:2,fontWeight:"700"}}}):n.createElement(n.Fragment,null),n.createElement(Pf,{uid:p[0],isMax:!0}))))},Uf=function(){return ke((e=>{var t,n,r;return"object"==typeof(null==e||null===(t=e.components)||void 0===t?void 0:t.videoCall)&&null!=e&&null!==(n=e.components)&&void 0!==n&&null!==(r=n.videoCall)&&void 0!==r&&r.customLayout?e.components.videoCall.customLayout(jf):jf}))},jf=[{name:"grid",label:"Grid",iconName:"grid",component:Lf},{name:"pinned",label:"Pinned",iconName:"pinned",component:Ff}],Vf=()=>jf[1].name,Qf=()=>jf[0].name,Gf=()=>{const{setLayout:e}=Di(),t=Uf(),n=Vf();let r=!1;if(t&&Array.isArray(t)&&t.length){let e=t.filter((e=>e.name===n));e&&e.length&&(r=!0)}return r?()=>{e(n)}:()=>{}},qf=()=>{const{setLayout:e}=Di(),t=Uf();return t?t&&Array.isArray(t)&&(0===t.length||1===t.length)?()=>{}:()=>{e((e=>e===t[1].name?t[0].name:t[1].name))}:()=>{}};let Hf;!function(e){e[e.audio=0]="audio",e[e.video=1]="video"}(Hf||(Hf={}));const zf=function(){const{data:{isHost:e}}=be(),t=Ci();return async(n,r)=>{if(e)switch(n){case Hf.audio:r?t(r)||zr.send(Kr.requestAudio,"",Br.LEVEL1,r):zr.send(Kr.requestAudio,"",Br.LEVEL1);break;case Hf.video:r?t(r)||zr.send(Kr.requestVideo,"",Br.LEVEL1,r):zr.send(Kr.requestVideo,"",Br.LEVEL1)}else console.error("A host can only request audience audio or video.")}};var Wf=__webpack_require__(9176),Kf=__webpack_require__(7901);const Yf=({children:e})=>{const[t,r]=(0,n.useState)(!1);return ai()?n.createElement("div",{onMouseEnter:()=>{r(!0)},onMouseLeave:()=>{r(!1)}},e(t)):n.createElement(n.Fragment,null,e(!1))},Jf=e=>{const{actionMenuVisible:t,setActionMenuVisible:r,modalPosition:i,items:o,hoverMode:a=!1}=e,s=()=>null==o?void 0:o.map((({icon:t,onHoverIcon:r,isBase64Icon:i=!1,title:a,callback:s,iconColor:c,textColor:u,disabled:l=!1,onHoverCallback:d,onHoverContent:h},p)=>n.createElement(Yf,{key:e.from+"_"+a+p},(e=>n.createElement(n.Fragment,null,e&&h||n.createElement(n.Fragment,null),n.createElement(Zn.Z,{disabled:l,style:[Zf.row,e&&!l?0===p?Zf.rowHoveredFirstChild:(null==o?void 0:o.length)-1===p?Zf.rowHoveredLastChild:Zf.rowHoveredMiddleItems:{},l?{opacity:.4}:{},(null==o?void 0:o.length)-1===p?{borderBottomColor:"transparent"}:{}],onPress:s,key:t+p},n.createElement(qn.Z,{style:Zf.iconContainer},n.createElement(es,{base64:i,iconType:"plain",iconSize:20,name:e&&r&&!l?r:t,tintColor:c})),n.createElement($n.Z,{style:[Zf.text,u?{color:u}:{}]},a)))))));return n.createElement(qn.Z,null,a?t&&n.createElement(qn.Z,{style:[Zf.modalView,null==e?void 0:e.containerStyle,i]},n.createElement("div",{onMouseEnter:()=>(null==e?void 0:e.onHover)&&e.onHover(!0),onMouseLeave:()=>(null==e?void 0:e.onHover)&&e.onHover(!1)},s())):n.createElement(Wf.Z,{testID:"action-menu",animationType:"none",transparent:!0,visible:t},n.createElement(Kf.Z,{onPress:()=>{r(!1)}},n.createElement(qn.Z,{style:Zf.backDrop})),n.createElement(qn.Z,{style:[Zf.modalView,null==e?void 0:e.containerStyle,i]},s())))},Zf=On.Z.create({modalView:{position:"absolute",width:230,backgroundColor:"#333333",borderRadius:4,shadowColor:"#000",shadowOffset:{width:0,height:4},shadowOpacity:.1,shadowRadius:8,zIndex:1,elevation:1},rowHoveredMiddleItems:{backgroundColor:"#808080"+Va},rowHoveredFirstChild:{backgroundColor:"#808080"+Va,borderTopLeftRadius:4,borderTopRightRadius:4},rowHoveredLastChild:{backgroundColor:"#808080"+Va,borderBottomLeftRadius:4,borderBottomRightRadius:4},row:{borderBottomWidth:1,borderBottomColor:"#2D2D2D",flexDirection:"row"},iconContainer:{justifyContent:"center",alignItems:"center",marginRight:8,marginVertical:12,marginLeft:12},text:{paddingVertical:14,color:"#FFFFFF",fontSize:Wa.normal,fontWeight:"400",fontFamily:Ka.sansPro},backDrop:{position:"absolute",top:0,bottom:0,left:0,right:0}});let Xf;var $f;let eA,tA,nA;($f=Xf||(Xf={})).TRUE="TRUE",$f.FALSE="FALSE",function(e){e.AwaitingAction="AWAITING_ACTION",e.Approved="APPROVED",e.Cancelled="CANCELLED"}(eA||(eA={})),function(e){e.RaiseHand_AwaitingAction="AWAITING_ACTION",e.RaiseHand_Approved="APPROVED"}(tA||(tA={})),function(e){e.raiseHandRequest="RAISE_HAND_REQUEST",e.raiseHandRequestAccepted="RAISE_HAND_ACCEPTED",e.raiseHandRequestRejected="RAISE_HAND_REJECTED",e.raiseHandRequestReceived="RAISE_HAND_RECEIVED",e.raiseHandRequestRecall="RAISE_HAND_REQUEST_RECALL",e.raiseHandRequestRecallLocal="RAISE_HAND_REQUEST_RECALL_LOCAL",e.raiseHandApprovedRequestRecall="RAISE_HAND_APPROVED_REQUEST_RECALL",e.notifyAllRequestApproved="NOTIFY_REQUEST_APPROVED",e.notifyAllRequestRejected="NOTIFY_REQUEST_REJECTED",e.notifyHostsInChannel="NOTIFY_HOSTS_IN_CHANNEL",e.promoteAsCoHost="PROMOTE_AS_CO_HOST",e.coHostJoined="CO_HOST_JOINED",e.coHostRemoved="CO_HOST_REMOVED"}(nA||(nA={}));const rA={[nA.raiseHandRequest]:{text1:"Youve raised your hand.",text2:"Waiting for host to approve the request"},[nA.raiseHandRequestReceived]:{text1:"has raised their hand to be a Presenter",text2:"Once approved they will be able to speak, share their video and present during this call."},[nA.raiseHandRequestAccepted]:{text1:"Host has approved your request.",text2:"You are now a Presenter"},[nA.raiseHandRequestRejected]:{text1:"Your request was rejected by the host",text2:null},[nA.raiseHandRequestRecall]:{text1:"has lowered their hand",text2:null},[nA.raiseHandRequestRecallLocal]:{text1:"Youve lowered your hand.",text2:null},[nA.raiseHandApprovedRequestRecall]:{text1:"Host has revoked streaming permissions.",text2:null},[nA.promoteAsCoHost]:{text1:"Host promoted you as a Presenter",text2:null}};function iA(e,t){return Object.fromEntries(Object.entries(e).filter(t))}function oA(e){if(null===e||0===e)return"0";const t=Math.abs(e),n=Math.sign(e);let r=t;if(t>=1e3){for(var i,o=Math.floor((""+t).length/3),a=2;a>=1&&!(((i=parseFloat((0!=o?t/Math.pow(1e3,o):t).toPrecision(a)))+"").replace(/[^a-zA-Z 0-9]+/g,"").length<=2);a--);i%1!=0&&(i=i.toFixed(1)),r=i+["","k","m","b","t","t+"][o]}return r=-1===n?`-${r}`:`${r}`,r}function aA(){return aA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aA.apply(this,arguments)}const sA=({children:e,setIsHovered:t})=>ai()?n.createElement("div",{onMouseEnter:()=>{t(!0)},onMouseLeave:()=>{t(!1)}},e):e,cA=e=>{const{text:t,...r}=e,[i,o]=(0,n.useState)();return n.createElement(sA,{setIsHovered:o},n.createElement(Zn.Z,aA({ref:t=>(null==e?void 0:e.setRef)&&e.setRef(t),style:[uA.container,i?{backgroundColor:"#808080"+Va}:{},null==e?void 0:e.containerStyle]},r),n.createElement($n.Z,{style:[uA.text,null==e?void 0:e.textStyle]},t)))},uA=On.Z.create({container:{paddingHorizontal:12,paddingVertical:11,borderWidth:1,borderColor:"#FFFFFF",borderRadius:Ya.small,justifyContent:"center",alignItems:"center"},text:{color:"#FFFFFF",fontFamily:Ka.sansPro,fontSize:Wa.small,fontWeight:"600"}}),lA=(0,n.createContext)(null),dA=(lA.Consumer,e=>{const t=hf(),r=(0,n.useRef)();r.current=t;const{renderList:i}=Na(),o=(0,n.useRef)();o.current=i;const[a,s]=(0,n.useState)({}),c=(0,n.useRef)();c.current=a;const[u,l]=(0,n.useState)([]),d=(0,n.useRef)();d.current=u;const{sidePanel:h}=ba(),p=(0,n.useRef)();p.current=h,n.useEffect((()=>{p.current=h}),[h]),n.useEffect((()=>{o.current=i}),[i]),n.useEffect((()=>{c.current=a}),[a]),n.useEffect((()=>{d.current=u}),[u]),n.useEffect((()=>{let e=a;const t=Object.keys(iA(i,(([e,t])=>"rtc"===(null==t?void 0:t.type)&&!0===t.offline)));let n=!1;t&&t.length&&t.forEach(((r,i)=>{e[r]&&(n=!0,delete e[r]),t.length-1===i&&n&&s(e)}))}),[i]);const f=Qn(),A=(0,n.useRef)();A.current=f;const{hasUserJoinedRTM:g,rtmInitTimstamp:m}=(0,n.useContext)(Yr),{setRtcProps:v,rtcProps:y,callActive:E}=null==e?void 0:e.value,{data:{isHost:b}}=be(),[_,C]=(0,n.useState)(0),[I,S]=(0,n.useState)(0),[w,R]=(0,n.useState)(!1),T=(e,t,r,i)=>{let o={};r?(o.toastId=i,o.primaryBtn=n.createElement(rs,{containerStyle:pA.primaryBtn,textStyle:pA.primaryBtnText,text:"ALLOW TO BE A PRESENTER",onPress:()=>{x(r),ea.hide()}}),o.secondaryBtn=n.createElement(cA,{containerStyle:pA.secondaryBtn,text:"DENY",onPress:()=>{L(r),ea.hide()}})):(o.primaryBtn=null,o.secondaryBtn=null),ea.show({type:"info",text1:e,text2:t||null,visibilityTime:3e3,...o})},O=e=>{var t,n;return null!==(t=o.current)&&void 0!==t&&null!==(n=t[e])&&void 0!==n&&n.name?o.current[e].name:"user"},k=(e,t)=>{if(e&&!function(e){if(null==e)return!0;if("object"!=typeof e)return!0;for(const t in e)return!1;return!0}(t)){const n=`${e}`;s((e=>{var r;return{...e,[n]:{raised:(null==t?void 0:t.raised)||Xf.FALSE,ts:(null==t?void 0:t.ts)||Date.now(),isProcessed:(null==t?void 0:t.isProcessed)||!1,role:(null==t?void 0:t.role)||(null===(r=e[n])||void 0===r?void 0:r.role)||$t.Audience}}}))}},N=e=>{var t;t=e,v((e=>({...e,role:t===$t.Audience?$t.Audience:$t.Broadcaster})))},D=(e,t)=>{switch(e){case $t.Audience:k(A.current,{raised:Xf.FALSE,ts:t,role:$t.Audience}),zr.send(Tr,JSON.stringify({action:nA.notifyHostsInChannel,value:Xf.FALSE,ts:(new Date).getTime(),isProcessed:!0}),Br.LEVEL2),l((e=>[...e.filter((e=>e!==parseInt(A.current)))])),zr.send(nA.coHostRemoved,JSON.stringify({uid:A.current}),Br.LEVEL2);break;case $t.Broadcaster:k(A.current,{raised:Xf.TRUE,ts:t,role:$t.Broadcaster}),zr.send(Tr,JSON.stringify({action:nA.notifyHostsInChannel,value:Xf.TRUE,ts:(new Date).getTime(),isProcessed:!0}),Br.LEVEL2),l((e=>[...e,A.current])),zr.send(nA.coHostJoined,JSON.stringify({uid:A.current}),Br.LEVEL2)}},P=iA(a,(([e,t])=>(null==t?void 0:t.raised)===Xf.TRUE&&(null==t?void 0:t.role)==$t.Audience));n.useEffect((()=>{const e=Object.values(P).sort(((e,t)=>(null==t?void 0:t.ts)-(null==e?void 0:e.ts)||0))[0];null!=e&&e.ts&&S(e.ts),0===Object.keys(P).length&&R(!1)}),[a]),n.useEffect((()=>{0!==Object.keys(P).length&&I>=_&&b?R(!0):R(!1)}),[I,_]),n.useEffect((()=>{zr.on(Or,(e=>{s((t=>({...t,[e.sender]:{...t[e.sender],role:e.payload in $t?parseInt(e.payload):$t.Audience}})))}))}),[]),n.useEffect((()=>{E&&g&&(zr.send(Or,JSON.stringify(y.role in $t?y.role:$t.Audience),Br.LEVEL2),s((e=>({...e,[f]:{...e[f],role:y.role in $t?y.role:$t.Audience}}))))}),[E,y.role,g]),n.useEffect((()=>{zr.on(Tr,(e=>{if(!b)return;const t=JSON.parse(e.payload),n=t.action,r=t.value,i=(null==t?void 0:t.isProcessed)||!1;switch(n){case nA.raiseHandRequest:switch(r){case Xf.TRUE:t.ts>m&&p.current!==va.Participants&&T(`${ii(O(e.sender))} ${rA.RAISE_HAND_RECEIVED.text1}`,rA.RAISE_HAND_RECEIVED.text2,e.sender,e.ts),k(e.sender,{ts:e.ts,raised:Xf.TRUE,role:$t.Audience,isProcessed:i});break;case Xf.FALSE:t.ts>m&&p.current!==va.Participants&&T(`${ii(O(e.sender))} ${rA.RAISE_HAND_REQUEST_RECALL.text1}`,rA.RAISE_HAND_REQUEST_RECALL.text2),k(e.sender,{ts:e.ts,raised:Xf.FALSE,role:$t.Audience,isProcessed:i})}break;case nA.notifyHostsInChannel:if(!b)return;switch(r){case Xf.TRUE:k(e.sender,{ts:e.ts,raised:Xf.TRUE,role:$t.Broadcaster,isProcessed:i});break;case Xf.FALSE:k(e.sender,{ts:e.ts,raised:Xf.FALSE,role:$t.Audience,isProcessed:i})}}})),zr.on(nA.raiseHandRequestAccepted,(e=>{var t;(null===(t=a[A.current])||void 0===t?void 0:t.raised)!==Xf.FALSE&&(T(rA.RAISE_HAND_ACCEPTED.text1,rA.RAISE_HAND_ACCEPTED.text2),N($t.Broadcaster),D($t.Broadcaster,e.ts))})),zr.on(nA.raiseHandRequestRejected,(e=>{if(c.current[A.current].role==$t.Audience)T(rA.RAISE_HAND_REJECTED.text1,rA.RAISE_HAND_REJECTED.text2);else if(c.current[A.current].role==$t.Broadcaster){var t;T(rA.RAISE_HAND_APPROVED_REQUEST_RECALL.text1,rA.RAISE_HAND_APPROVED_REQUEST_RECALL.text2),null==r||null===(t=r.current)||void 0===t||t.stopUserScreenShare(),N($t.Audience)}D($t.Audience,e.ts)})),zr.on(Kr.kickUser,(e=>{D($t.Audience,e.ts)})),zr.on(nA.promoteAsCoHost,(e=>{T(rA.PROMOTE_AS_CO_HOST.text1,rA.PROMOTE_AS_CO_HOST.text2),N($t.Broadcaster),D($t.Broadcaster,e.ts)})),zr.on(nA.coHostJoined,(({payload:e})=>{try{const t=JSON.parse(e);null!=t&&t.uid&&l((e=>[...e,parseInt(t.uid)]))}catch(e){}})),zr.on(nA.coHostRemoved,(({payload:e})=>{try{const t=JSON.parse(e);null!=t&&t.uid&&l((e=>[...e.filter((e=>e!==parseInt(t.uid)))]))}catch(e){}}))}),[]);const x=e=>{var t;null!==(t=c.current[e])&&void 0!==t&&t.isProcessed?(ea.hide(),setTimeout((()=>{T("Request already processed.",null)}))):(k(e,{raised:Xf.TRUE,ts:(new Date).getTime(),isProcessed:!0}),zr.send(nA.raiseHandRequestAccepted,"",Br.LEVEL1,e))},L=e=>{var t;null!==(t=c.current[e])&&void 0!==t&&t.isProcessed?(ea.hide(),setTimeout((()=>{T("Request already processed.",null)}))):(k(e,{raised:Xf.FALSE,ts:(new Date).getTime(),isProcessed:!0}),zr.send(nA.raiseHandRequestRejected,"",Br.LEVEL1,e))};return n.createElement(lA.Provider,{value:{coHostUids:u,setLastCheckedRequestTimestamp:C,isPendingRequestToReview:w,raiseHandList:a,hostApprovesRequestOfUID:x,hostRejectsRequestOfUID:L,audienceSendsRequest:async()=>{var e;(null===(e=a[A.current])||void 0===e?void 0:e.raised)!==Xf.TRUE&&(T(rA.RAISE_HAND_REQUEST.text1,rA.RAISE_HAND_REQUEST.text2),zr.send(Tr,JSON.stringify({action:nA.raiseHandRequest,value:Xf.TRUE,ts:(new Date).getTime(),isProcessed:!1}),Br.LEVEL2),k(A.current,{raised:Xf.TRUE,ts:(new Date).getTime()}))},audienceRecallsRequest:async()=>{var e,t,n,i;(null===(e=a[A.current])||void 0===e?void 0:e.raised)!==Xf.FALSE&&((null===(t=a[A.current])||void 0===t?void 0:t.role)==$t.Broadcaster&&(null===(n=a[A.current])||void 0===n?void 0:n.raised)===Xf.TRUE&&(null==r||null===(i=r.current)||void 0===i||i.stopUserScreenShare(),N($t.Audience)),zr.send(Tr,JSON.stringify({action:nA.raiseHandRequest,value:Xf.FALSE,ts:(new Date).getTime(),isProcessed:!0}),Br.LEVEL2),D($t.Audience,(new Date).getTime()),T(rA.RAISE_HAND_REQUEST_RECALL_LOCAL.text1,rA.RAISE_HAND_REQUEST_RECALL_LOCAL.text2))},promoteAudienceAsCoHost:async e=>{zr.send(nA.promoteAsCoHost,"",Br.LEVEL1,e)}}},e.children)}),hA=lA,pA=On.Z.create({secondaryBtn:{marginLeft:16,height:40,paddingVertical:5},primaryBtn:{minWidth:"auto",paddingHorizontal:12,height:40,borderRadius:4,paddingVertical:5},primaryBtnText:{fontWeight:"600",fontSize:16,paddingLeft:0}}),fA=hA,AA=(0,n.createContext)({hostUids:[],audienceUids:[],liveStreamData:{}}),gA=e=>{const{renderList:t}=Na(),{raiseHandList:r}=(0,n.useContext)(fA),[i,o]=(0,n.useState)([]),[a,s]=(0,n.useState)([]);return n.useEffect((()=>{if(0!==Object.keys(t).length){const e=iA(t,(([e,t])=>{var n;return!("rtc"!==(null==t?void 0:t.type)&&"live"!==(null==t?void 0:t.type)||r[e]&&(null===(n=r[e])||void 0===n?void 0:n.role)!=$t.Broadcaster||null!=t&&t.offline)})),n=iA(t,(([e,t])=>{var n;return("rtc"===(null==t?void 0:t.type)||"live"===(null==t?void 0:t.type))&&(null===(n=r[e])||void 0===n?void 0:n.role)==$t.Audience&&!t.offline})),i=Object.keys(e).map((e=>parseInt(e))),a=Object.keys(n).map((e=>parseInt(e)));o(i),s(a)}}),[t,r]),n.createElement(AA.Provider,{value:{liveStreamData:r,hostUids:i,audienceUids:a}},e.children)},mA=he(AA),vA=({size:e,horizontal:t=!1})=>n.createElement(qn.Z,{style:{width:t?e:"auto",height:t?"auto":e}});function yA(){return yA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yA.apply(this,arguments)}On.Z.create({});const EA=e=>{const{title:t,modalVisible:r,setModalVisible:i,children:o,showCloseIcon:a,...s}=e,c=mi()("popup");return n.createElement(Wf.Z,yA({animationType:"none",transparent:!0,visible:r,onRequestClose:()=>{i(!1)}},s),n.createElement(qn.Z,{style:[bA.centeredView,c&&{alignItems:"center"},null==e?void 0:e.containerStyle]},n.createElement(Kf.Z,{onPress:()=>{i(!1)}},n.createElement(qn.Z,{style:bA.backDrop})),n.createElement(qn.Z,{style:[bA.modalView,null==e?void 0:e.contentContainerStyle]},t||a?n.createElement(qn.Z,{style:bA.header},n.createElement($n.Z,{style:bA.title},t),a?n.createElement(qn.Z,null,n.createElement(uf,{hoverEffect:!0,hoverEffectStyle:{backgroundColor:"#242529",borderRadius:20},iconProps:{iconType:"plain",iconContainerStyle:{padding:di()?0:5},name:"close",tintColor:"#FFFFFF"},onPress:()=>{i(!1)}})):n.createElement(n.Fragment,null)):n.createElement(n.Fragment,null),o)))},bA=On.Z.create({centeredView:{flex:1,position:"relative",justifyContent:"center",alignItems:"center",paddingHorizontal:20},modalView:{backgroundColor:"#1D1D1D",borderWidth:1,borderColor:"#2D2D2D",borderRadius:Ya.large,padding:32,shadowColor:"#000000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:5,maxWidth:650},backDrop:{position:"absolute",top:0,bottom:0,left:0,right:0,backgroundColor:"#000000"+Ma},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",marginBottom:32},title:{color:"#FFFFFF",fontFamily:Ka.sansPro,fontSize:24,lineHeight:24,fontWeight:"600",flex:.9}}),_A=e=>{const t=mi()("popup"),r="Remove "+e.username+"?",i=`Once removed, ${e.username} will still be able to rejoin the meeting later.`;return n.createElement(EA,{modalVisible:e.modalVisible,setModalVisible:e.setModalVisible,showCloseIcon:!1,contentContainerStyle:CA.contentContainer},n.createElement($n.Z,{style:CA.heading},r),n.createElement(vA,{size:8}),n.createElement($n.Z,{style:CA.subHeading},i),n.createElement(vA,{size:32}),n.createElement(qn.Z,{style:t?CA.btnContainer:CA.btnContainerMobile},n.createElement(qn.Z,{style:t&&{flex:1}},n.createElement(cA,{containerStyle:{width:"100%",height:48,paddingVertical:12,paddingHorizontal:12,borderRadius:Ya.medium},textStyle:CA.btnText,text:"CANCEL",onPress:()=>e.setModalVisible(!1)})),n.createElement(vA,{size:t?10:20,horizontal:!!t}),n.createElement(qn.Z,{style:t&&{flex:1}},n.createElement(rs,{containerStyle:{minWidth:"auto",width:"100%",borderRadius:Ya.medium,height:48,backgroundColor:"#FF414D",paddingVertical:12,paddingHorizontal:12},textStyle:CA.btnText,text:"REMOVE",onPress:()=>{e.removeUserFromMeeting(),e.setModalVisible(!1)}}))))},CA=On.Z.create({btnContainer:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center"},contentContainer:{padding:24,maxWidth:342},btnText:{fontWeight:"600",fontSize:16,lineHeight:24},btnContainerMobile:{flexDirection:"column-reverse"},heading:{fontFamily:Ka.sansPro,fontWeight:"600",fontSize:22,color:"#FF414D"},subHeading:{fontFamily:Ka.sansPro,fontWeight:"400",fontSize:14,color:"#FFFFFF"}}),IA=e=>{const t=mi()("popup"),r=`Once removed, ${e.username} will still be able to screen share later.`;return n.createElement(EA,{modalVisible:e.modalVisible,setModalVisible:e.setModalVisible,showCloseIcon:!1,contentContainerStyle:SA.contentContainer},n.createElement($n.Z,{style:SA.heading},"Remove Screenshare?"),n.createElement(vA,{size:8}),n.createElement($n.Z,{style:SA.subHeading},r),n.createElement(vA,{size:32}),n.createElement(qn.Z,{style:t?SA.btnContainer:SA.btnContainerMobile},n.createElement(qn.Z,{style:t&&{flex:1}},n.createElement(cA,{containerStyle:{width:"100%",height:48,paddingVertical:12,paddingHorizontal:12,borderRadius:Ya.medium},textStyle:SA.btnText,text:"CANCEL",onPress:()=>e.setModalVisible(!1)})),n.createElement(vA,{size:t?10:20,horizontal:!!t}),n.createElement(qn.Z,{style:t&&{flex:1}},n.createElement(rs,{containerStyle:{minWidth:"auto",width:"100%",borderRadius:Ya.medium,height:48,backgroundColor:"#FF414D",paddingVertical:12,paddingHorizontal:12},textStyle:SA.btnText,text:"REMOVE",onPress:()=>{e.removeScreenShareFromMeeting(),e.setModalVisible(!1)}}))))},SA=On.Z.create({btnContainer:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center"},contentContainer:{padding:24,maxWidth:342},btnText:{fontWeight:"600",fontSize:16,lineHeight:24},btnContainerMobile:{flexDirection:"column-reverse"},heading:{fontFamily:Ka.sansPro,fontWeight:"600",fontSize:22,color:"#FF414D"},subHeading:{fontFamily:Ka.sansPro,fontWeight:"400",fontSize:14,color:"#FFFFFF"}}),wA=n.createContext({currentFocus:{editName:!1},setFocus:()=>{}}),RA=e=>n.createElement(wA.Provider,{value:{...e.value}},e.children),TA=he(wA),OA=({children:e})=>{const[t,r]=(0,n.useState)(!1);return ai()?n.createElement("div",{onMouseEnter:()=>{r(!0)},onMouseLeave:()=>{r(!1)}},e(t)):n.createElement(n.Fragment,null,e(!1))},kA=e=>{const{height:t}=(0,ri.Z)(),{actionMenuVisible:r,setActionMenuVisible:i,modalPosition:o,action:a="mute"}=e;let s="";return s=e.name?"mute"===a?`Mute ${e.name}'s ${e.type} for everyone on the call? Only ${e.name} can unmute themselves.`:"audio"===(null==e?void 0:e.type)?`Request ${e.name} to turn on their microphone?`:`Request ${e.name} to turn on their camera?`:`Mute everyone's ${e.type} on the call?`,n.createElement(qn.Z,null,n.createElement(Wf.Z,{testID:"action-menu",animationType:"none",transparent:!0,visible:r},n.createElement(Kf.Z,{onPress:()=>{i(!1)}},n.createElement(qn.Z,{style:[NA.backDrop,Cn()?{backgroundColor:"#000000"+Ba}:{}]})),n.createElement(qn.Z,{style:Cn()?[NA.modalViewUA,{marginTop:t/3}]:[NA.modalView,o]},n.createElement(qn.Z,{style:NA.container},n.createElement($n.Z,{style:NA.messageStyle},s),n.createElement(qn.Z,{style:NA.btnContainer},n.createElement(OA,null,(t=>n.createElement(Zn.Z,{style:t?NA.onHoverBtnStyle:{},onPress:()=>e.setActionMenuVisible(!1)},n.createElement($n.Z,{style:NA.btnText},"Cancel")))),n.createElement(vA,{size:8,horizontal:!0}),n.createElement(OA,null,(t=>n.createElement(Zn.Z,{style:t?NA.onHoverBtnStyle:{},onPress:()=>e.onMutePress()},n.createElement($n.Z,{style:NA.btnText},"mute"===a?"Mute":"Request")))))))))},NA=On.Z.create({onHoverBtnStyle:{backgroundColor:"#2D2D2D",borderRadius:8},container:{paddingHorizontal:12,paddingTop:24,paddingBottom:14},messageStyle:{fontFamily:Ka.sansPro,fontWeight:"400",fontSize:Wa.normal,color:"#FFFFFF",paddingBottom:18},btnText:{paddingHorizontal:12,paddingVertical:10,fontFamily:Ka.sansPro,fontWeight:"400",fontSize:Wa.normal,color:"#099DFD"},btnContainer:{flexDirection:"row",justifyContent:"flex-end"},modalView:{position:"absolute",width:290,backgroundColor:"#333333",borderRadius:4,shadowColor:"#000000",shadowOffset:{width:0,height:4},shadowOpacity:.1,shadowRadius:8,zIndex:1,elevation:1},modalViewUA:{alignSelf:"center",maxWidth:"80%",backgroundColor:"#333333",borderRadius:4,shadowColor:"#000000",shadowOffset:{width:0,height:4},shadowOpacity:.1,shadowRadius:8,zIndex:1,elevation:1},backDrop:{position:"absolute",top:0,bottom:0,left:0,right:0}});function DA(e){const[t,r]=(0,n.useState)(!1),[i,o]=(0,n.useState)(!1),[a,s]=(0,n.useState)(!1),{setFocus:c}=TA(),{stopUserScreenShare:u}=hf(),l=(()=>{const{data:{isHost:e}}=be();return t=>{e&&t?zr.send(Kr.kickScreenshare,"",Br.LEVEL1,t):console.error("A host can only remove the screenshare from the call.")}})(),[d,h]=(0,n.useState)(!1),[p,f]=(0,n.useState)([]),{setSidePanel:A}=ba(),{user:g,actionMenuVisible:m,setActionMenuVisible:v}=e,{pinnedUid:y,activeUids:E}=Na(),{dispatch:b}=ka(),{setLayout:_}=Di(),C=Qn(),{openPrivateChat:I}=wa(),{hostUids:S,audienceUids:w}=mA(),{data:{isHost:R}}=be(),T=zf(),O=Ti(),k=Ii(),{promoteAudienceAsCoHost:N,raiseHandList:D}=(0,n.useContext)(hA),[P,x]=(0,n.useState)(!1);(0,n.useEffect)((()=>{const e=[];e.push({disabled:1===E.length,icon:y?"unpin-outlined":"pin-outlined",onHoverIcon:y?"unpin-outlined":"pin-filled",iconColor:"#FFFFFF",textColor:"#FFFFFF",title:y?g.uid===y?"Unpin":"Replace Pin":"Pin for me",callback:()=>{v(!1),b({type:"UserPin",value:[y&&g.uid===y?0:g.uid]}),_(Vf())}}),C!==g.uid&&"rtc"===g.type&&(e.push({icon:"chat-outlined",onHoverIcon:"chat-filled",iconColor:"#FFFFFF",textColor:"#FFFFFF",title:"Message Privately",callback:()=>{v(!1),I(g.uid)}}),R&&(e.push({icon:g.audio?"mic-off-outlined":"mic-on-outlined",onHoverIcon:g.audio?"mic-off-filled":"mic-on-filled",iconColor:"#FFFFFF",textColor:"#FFFFFF",title:g.audio?"Mute Audio":"Request Audio",callback:()=>{v(!1),g.audio?r(!0):T(Hf.audio,g.uid)}}),e.push({icon:g.video?"video-off-outlined":"video-on-outlined",onHoverIcon:g.video?"video-off-filled":"video-on-filled",iconColor:"#FFFFFF",textColor:"#FFFFFF",title:g.video?"Mute Video":"Request Video",callback:()=>{v(!1),g.video?o(!0):T(Hf.video,g.uid)}}),e.push({icon:"remove-meeting",iconColor:"#FF414D",textColor:"#FF414D",title:"Remove From Meeting",callback:()=>{v(!1),x(!0)}}))),C==g.uid&&"rtc"===g.type&&e.push({icon:"pencil-outlined",onHoverIcon:"pencil-filled",iconColor:"#FFFFFF",textColor:"#FFFFFF",title:"Change Name",callback:()=>{c((e=>({...e,editName:!0}))),v(!1),A(va.Settings)}}),!R&&C!==g.parentUid||"screenshare"!==g.type||e.push({icon:"remove-meeting",iconColor:"#FF414D",textColor:"#FF414D",title:C===(null==g?void 0:g.parentUid)?"Stop Screenshare":"Remove Screenshare",callback:()=>{v(!1),C===g.parentUid?u():h(!0)}}),f(e)}),[y,R,D,S,g]);const{width:L,height:M}=(0,ri.Z)(),[B,F]=(0,n.useState)({});return(0,n.useEffect)((()=>{var t,n;m&&(null===(t=e.btnRef)||void 0===t||null===(n=t.current)||void 0===n||n.measure(((e,t,n,r,i,o)=>{const a=pi({px:i,py:o,localWidth:n,localHeight:r,globalHeight:M,globalWidth:L});F(a),s(!0)})))}),[m]),n.createElement(n.Fragment,null,R?n.createElement(kA,{type:"audio",actionMenuVisible:t,setActionMenuVisible:r,name:null==e?void 0:e.user.name,modalPosition:B,onMutePress:()=>{O(Ri.audio,g.uid),r(!1)}}):n.createElement(n.Fragment,null),R?n.createElement(kA,{type:"video",actionMenuVisible:i,setActionMenuVisible:o,name:null==e?void 0:e.user.name,modalPosition:B,onMutePress:()=>{O(Ri.video,g.uid),o(!1)}}):n.createElement(n.Fragment,null),R?n.createElement(IA,{modalVisible:d,setModalVisible:h,username:g.name,removeScreenShareFromMeeting:()=>{e.user.parentUid?l(e.user.parentUid):console.log("Parent Uid is not available")}}):n.createElement(n.Fragment,null),R?n.createElement(_A,{modalVisible:P,setModalVisible:x,username:g.name,removeUserFromMeeting:()=>{ea.show({type:"info",text1:`The system will remove ${ii(g.name)} from this call after 5 secs.`,visibilityTime:5e3,primaryBtn:null,secondaryBtn:null}),k(g.uid)}}):n.createElement(n.Fragment,null),n.createElement(Jf,{from:e.from,actionMenuVisible:m&&a,setActionMenuVisible:v,modalPosition:B,items:p}))}const PA=e=>{const t=(0,n.useRef)(),[r,i]=(0,n.useState)(!1),[o,a]=(0,n.useState)(!1),s=()=>{a((e=>!e))};return n.createElement(n.Fragment,null,n.createElement(DA,{actionMenuVisible:o,setActionMenuVisible:a,user:e.user,btnRef:t,from:"screenshare-participant"}),n.createElement(xA,{showModal:s,setIsHovered:i},n.createElement(qn.Z,{style:LA.container},n.createElement(qn.Z,{style:LA.userInfoContainer},n.createElement(qn.Z,{style:LA.bgContainerStyle},n.createElement(fs,{name:e.user.name,containerStyle:LA.containerStyle,textStyle:LA.textStyle})),n.createElement(qn.Z,{style:{alignSelf:"center"}},n.createElement($n.Z,{style:LA.participantNameText},e.user.name))),n.createElement(qn.Z,{style:LA.iconContainer,ref:t,collapsable:!1},r||o||di()?n.createElement(qn.Z,{style:{width:24,height:24,alignSelf:"center",justifyContent:"center",alignItems:"center",borderRadius:20}},n.createElement(uf,{hoverEffect:!0,hoverEffectStyle:{backgroundColor:"#808080"+ja,borderRadius:20,padding:5},iconProps:{iconType:"plain",name:"more-menu",iconSize:20,tintColor:"#FFFFFF"},onPress:()=>{s()}})):n.createElement(n.Fragment,null)))))},xA=({children:e,showModal:t,setIsHovered:r})=>ai()?n.createElement("div",{onMouseEnter:()=>{r(!0)},onMouseLeave:()=>{r(!1)}},e):n.createElement(n.Fragment,null,e),LA=On.Z.create({bgContainerStyle:{backgroundColor:"#BDD0DB",width:36,height:36,borderRadius:18,marginRight:8},containerStyle:{width:36,height:36,borderRadius:18},textStyle:{fontSize:Wa.tiny,lineHeight:10,fontWeight:"400",color:"#1D1D1D"},participantNameText:{fontWeight:"400",fontSize:12,lineHeight:15,fontFamily:Ka.sansPro,flexDirection:"row",color:"#FFFFFF",textAlign:"left"},container:{flexDirection:"row",justifyContent:"space-between",paddingHorizontal:20,paddingVertical:8},userInfoContainer:{flexDirection:"row"},iconContainer:{flexDirection:"row"}}),MA=e=>{var t;const r=(0,n.useRef)(null),{isHost:i=!1,userContainerRef:o}=e,a=Ti(),s=zf(),[c,u]=(0,n.useState)(!1),[l,d]=(0,n.useState)({}),{renderList:h}=Na(),p=Ci(),f=wi(),{width:A,height:g}=(0,ri.Z)();return n.createElement(n.Fragment,null,n.createElement(kA,{action:null!=e&&e.audio?"mute":"request",type:"audio",actionMenuVisible:c,setActionMenuVisible:u,name:null===(t=h[e.uid])||void 0===t?void 0:t.name,modalPosition:l,onMutePress:()=>{if(p(e.uid))try{f(e.uid)}catch(e){console.error("An error occurred while muting the PSTN user.")}else null!=e&&e.audio?a(Ri.audio,e.uid):s(Hf.audio,e.uid);u(!1)}}),n.createElement(uf,{setRef:e=>r.current=e,disabled:!i,onPress:()=>{var e;null==r||null===(e=r.current)||void 0===e||e.measure(((e,t,n,r,i,o)=>{const a=pi({px:i,py:o,localHeight:r,localWidth:n,globalHeight:g,globalWidth:A});d(a),u(!0)}))},hoverEffect:!0,hoverEffectStyle:{backgroundColor:"#242529",borderRadius:20},iconProps:{iconContainerStyle:{padding:8},iconSize:20,iconType:"plain",name:e.audio?"mic-on":"mic-off",tintColor:e.audio?"#099DFD":"#808080"}}))},BA=e=>{var t;const r=(0,n.useRef)(null),{isHost:i=!1,userContainerRef:o}=e,a=Ti(),s=zf(),[c,u]=(0,n.useState)(!1),[l,d]=(0,n.useState)({}),{renderList:h}=Na(),{width:p,height:f}=(0,ri.Z)();return"1"!==String(e.uid)[0]?n.createElement(n.Fragment,null,n.createElement(kA,{action:null!=e&&e.video?"mute":"request",type:"video",actionMenuVisible:c,setActionMenuVisible:u,name:null===(t=h[e.uid])||void 0===t?void 0:t.name,modalPosition:l,onMutePress:()=>{null!=e&&e.video?a(Ri.video,e.uid):s(Hf.video,e.uid),u(!1)}}),n.createElement(uf,{hoverEffect:!0,hoverEffectStyle:{backgroundColor:"#242529",borderRadius:20},setRef:e=>r.current=e,disabled:!i,onPress:()=>{var e;null==r||null===(e=r.current)||void 0===e||e.measure(((e,t,n,r,i,o)=>{const a=pi({px:i,py:o,localHeight:r,localWidth:n,globalHeight:f,globalWidth:p});d(a),u(!0)}))},iconProps:{iconContainerStyle:{padding:8},name:null!=e&&e.video?"video-on":"video-off",iconSize:20,iconType:"plain",tintColor:e.video?"#099DFD":"#808080"}})):n.createElement(n.Fragment,null)},FA=()=>{const{raiseHandList:e}=(0,n.useContext)(hA);return t=>{var n;return(null===(n=e[t])||void 0===n?void 0:n.raised)===Xf.TRUE}},UA=function(e){const{rtcProps:t}=(0,n.useContext)(ln),{data:{isHost:r}}=be(),i=Oi(),o=(FA(),_i()),{showToolTip:a=!1,showLabel:s=!1,disabled:c=!1,isOnActionSheet:u=!1,showWarningIcon:l=!0,isMobileView:d=!1}=e,h=()=>{o(bi.video)},p=i.video===tn.enabled,f=i.permissionStatus===nn.REJECTED||i.permissionStatus===nn.GRANTED_FOR_MIC_ONLY,A=f?"Video":p?"Video On":"Video Off";let g={showWarningIcon:!(!f||!l),name:p?"video-on":"video-off",iconBackgroundColor:p?"#099DFD":"",tintColor:p?"#FFFFFF":c||f?"#808080":"#FF414D",...null!=e&&e.iconProps?e.iconProps(p,f):{}},m={hoverEffect:!f&&!(null==e||!e.plainIconHoverEffect),hoverEffectStyle:null!=e&&e.plainIconHoverEffect?{backgroundColor:"#242529",borderRadius:20}:{},onPress:h,iconProps:g,btnTextProps:{text:s?A:"",textColor:"#FFFFFF"},disabled:!(!f&&!c)};return m.isOnActionSheet=u,d||(m.toolTipMessage=a?f?"Give Permissions":p?"Disable Camera":"Enable Camera":""),t.role,$t.Audience,t.role,$t.Audience,null!=e&&e.render?e.render(h,p):n.createElement(uf,m)},jA=function(e){const{rtcProps:t}=(0,n.useContext)(ln),{data:{isHost:r}}=be(),i=Oi(),o=(FA(),_i()),{showToolTip:a=!1,showLabel:s=!1,disabled:c=!1,isOnActionSheet:u=!1,showWarningIcon:l=!0,isMobileView:d=!1}=e,h=()=>{o(bi.audio)},p=i.audio===tn.enabled,f=i.permissionStatus===nn.REJECTED||i.permissionStatus===nn.GRANTED_FOR_CAM_ONLY,A=f?"Mic":p?"Mic On":"Mic Off";let g={showWarningIcon:!(!f||!l),name:p?"mic-on":"mic-off",iconBackgroundColor:p?"#099DFD":"",tintColor:p?"#FFFFFF":c||f?"#808080":"#FF414D",...null!=e&&e.iconProps?e.iconProps(p,f):{}},m={hoverEffect:!f&&!(null==e||!e.plainIconHoverEffect),hoverEffectStyle:null!=e&&e.plainIconHoverEffect?{backgroundColor:"#242529",borderRadius:20}:{},onPress:h,iconProps:g,btnTextProps:{text:s?A:"",textColor:"#FFFFFF"},disabled:!(!f&&!c)};return m.isOnActionSheet=u,d||(m.toolTipMessage=a?f?"Give Permissions":p?"Disable Mic":"Enable Mic":""),t.role,$t.Audience,t.role,$t.Audience,null!=e&&e.render?e.render(h,p):n.createElement(uf,m)},VA=e=>{const{coHostUids:t}=(0,n.useContext)(hA),[r,i]=n.useState(!1),[o,a]=n.useState(!1),s=(0,n.useRef)(null),c=(0,n.useRef)(null),{user:u,name:l,showControls:d,isHostUser:h,isLocal:p,isAudienceUser:f,isMobile:A=!1,handleClose:g,updateActionSheet:m}=e,{data:{isHost:v}}=be(),y=()=>{a((e=>!e))};return n.createElement(n.Fragment,null,n.createElement(DA,{actionMenuVisible:o,setActionMenuVisible:a,user:e.user,btnRef:c,from:"partcipant"}),n.createElement(QA,{showModal:y,setIsHovered:i},n.createElement(qn.Z,{style:GA.container,ref:s},n.createElement(qn.Z,{style:GA.bgContainerStyle},n.createElement(fs,{name:l,containerStyle:GA.containerStyle,textStyle:GA.textStyle})),n.createElement(qn.Z,{style:{flex:1,marginHorizontal:8,alignSelf:"center"}},n.createElement($n.Z,{style:GA.participantNameText,numberOfLines:1},l),p&&n.createElement($n.Z,{style:GA.subText},"Me"),n.createElement(n.Fragment,null)),n.createElement(qn.Z,{style:GA.iconContainer},r||o||di()?n.createElement(qn.Z,{ref:c,collapsable:!1,style:{width:24,height:24,alignSelf:"center",justifyContent:"center",alignItems:"center",borderRadius:20}},n.createElement(uf,{hoverEffect:!0,hoverEffectStyle:{backgroundColor:"#808080"+ja,borderRadius:20,padding:5},iconProps:{iconType:"plain",name:"more-menu",iconSize:20,tintColor:"#FFFFFF"},onPress:()=>{y()}})):n.createElement(vA,{size:24,horizontal:!0}),d?n.createElement(n.Fragment,null,n.createElement(vA,{horizontal:!0,size:8}),p?!f&&n.createElement(qn.Z,null,n.createElement(UA,{plainIconHoverEffect:!0,iconProps:(e,t)=>({iconSize:20,iconType:"plain",iconContainerStyle:{padding:8},showWarningIcon:!1,tintColor:e?"#099DFD":t?"#808080":"#FF414D"}),showLabel:!1,isMobileView:A})):!f&&n.createElement(qn.Z,null,n.createElement(BA,{uid:u.uid,video:u.video,isHost:v,userContainerRef:s})),p?!f&&n.createElement(qn.Z,null,n.createElement(jA,{plainIconHoverEffect:!0,iconProps:(e,t)=>({iconSize:20,iconType:"plain",iconContainerStyle:{padding:8},showWarningIcon:!1,tintColor:e?"#099DFD":t?"#808080":"#FF414D"}),showLabel:!1,isMobileView:A})):!f&&n.createElement(qn.Z,null,n.createElement(MA,{uid:u.uid,audio:u.audio,isHost:v,userContainerRef:s}))):n.createElement(n.Fragment,null)))))},QA=({children:e,showModal:t,setIsHovered:r})=>ai()?n.createElement("div",{style:{},onMouseEnter:()=>{r(!0)},onMouseLeave:()=>{r(!1)}},e):n.createElement(n.Fragment,null,e),GA=On.Z.create({bgContainerStyle:{backgroundColor:"#BDD0DB",width:36,height:36,borderRadius:18},containerStyle:{width:36,height:36,borderRadius:18},textStyle:{fontSize:Wa.tiny,lineHeight:12,fontWeight:"400",color:"#1D1D1D"},participantNameText:{fontWeight:"400",fontSize:Wa.tiny,fontFamily:Ka.sansPro,flexDirection:"row",color:"#FFFFFF",textAlign:"left"},subText:{fontSize:Wa.tiny,lineHeight:Wa.tiny,fontFamily:Ka.sansPro,fontWeight:"400",color:"#FFFFFF"+za.disabled,marginTop:4},container:{flexDirection:"row",justifyContent:"space-between",paddingHorizontal:20,paddingVertical:8},userInfoContainer:{flexDirection:"row"},iconContainer:{flexDirection:"row"},controlsContainer:{backgroundColor:"red"}}),qA=(0,n.createContext)({hostUids:[],attendeeUids:[]}),HA=e=>{const{data:{isHost:t}}=be(),{activeUids:r}=Na(),{hasUserJoinedRTM:i}=(0,n.useContext)(Yr),o=Qn(),[a,s]=(0,n.useState)([]),[c,u]=(0,n.useState)([]),[,l]=(0,n.useReducer)((e=>e+1),0),d=(0,n.useRef)({hostUids:a}),h=(0,n.useRef)({attendeeUids:c});return(0,n.useEffect)((()=>{d.current.hostUids=a}),[a]),(0,n.useEffect)((()=>{h.current.attendeeUids=c}),[c]),(0,n.useEffect)((()=>(t?s([o]):u([o]),zr.on(xr,(e=>{var t;const n=JSON.parse(null==e?void 0:e.payload),r=null==n?void 0:n.uid;var i;r&&-1===(null==d||null===(t=d.current)||void 0===t?void 0:t.hostUids.indexOf(r))&&s([...null==d||null===(i=d.current)||void 0===i?void 0:i.hostUids,r])})),zr.on(Lr,(e=>{var t,n;const r=JSON.parse(null==e?void 0:e.payload),i=null==r?void 0:r.uid;var o;i&&-1===(null==h||null===(t=h.current)||void 0===t||null===(n=t.attendeeUids)||void 0===n?void 0:n.indexOf(i))&&u([...null==h||null===(o=h.current)||void 0===o?void 0:o.attendeeUids,i])})),()=>{zr.off(xr),zr.off(Lr)})),[]),(0,n.useEffect)((()=>{i&&zr.send(t?xr:Lr,JSON.stringify({uid:o}),Br.LEVEL2)}),[t,i]),(0,n.useEffect)((()=>{l()}),[r]),n.createElement(qA.Provider,{value:{hostUids:a.filter((e=>-1!==r.indexOf(e))),attendeeUids:c.filter((e=>-1!==r.indexOf(e)))}},e.children)},zA=he(qA);function WA(e){const t=Qn(),{screenShareData:r}=aa(),{renderList:i}=Na(),o=e=>{var t;return(null===(t=i[e])||void 0===t?void 0:t.name)||"User"},{hostUids:a}=zA(),{data:{isHost:s}}=be(),{isMobile:c=!1,handleClose:u,updateActionSheet:l,uids:d,emptyMessage:h}=e,p=e=>{var t;if(null!==(t=r[e.screenUid])&&void 0!==t&&t.isActive)return n.createElement(PA,{user:i[e.screenUid],key:e.screenUid});n.Fragment};return n.createElement(n.Fragment,null,0==d.length?h?n.createElement($n.Z,{style:{alignSelf:"center",paddingVertical:20,fontFamily:"Source Sans Pro",fontWeight:"400",fontSize:14,color:"#FFFFFF"+Fa}},h):n.createElement(n.Fragment,null):n.createElement(n.Fragment,null,n.createElement(vA,{size:4}),d.filter((e=>e===t)).length>0?n.createElement(n.Fragment,null,n.createElement(VA,{isLocal:!0,isAudienceUser:!1,name:o(t),user:i[t],showControls:!0,isHostUser:-1!==a.indexOf(t),key:t,isMobile:c,handleClose:u,updateActionSheet:l}),p(i[t])):n.createElement(n.Fragment,null),d.filter((e=>e!==t&&"rtc"===i[e].type)).map((e=>{var t;return n.createElement(n.Fragment,null,n.createElement(VA,{isLocal:!1,isAudienceUser:!1,name:o(e),user:i[e],showControls:"rtc"===(null===(t=i[e])||void 0===t?void 0:t.type)&&s,isHostUser:-1!==a.indexOf(e),key:e,isMobile:c,handleClose:u,updateActionSheet:l}),p(i[e]))}))))}const KA=(On.Z.create({btnContainer:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center"},container:{flex:1,flexDirection:"row",paddingHorizontal:20,paddingVertical:16,justifyContent:"space-between"},userInfoContainer:{flex:.7,flexDirection:"row"},participantNameText:{fontWeight:"400",fontSize:12,fontFamily:"Source Sans Pro",flexDirection:"row",color:"#FFFFFF",textAlign:"left",marginHorizontal:8}}),e=>{const[t,r]=(0,n.useState)(!1),i=(0,n.useRef)(null),[o,a]=(0,n.useState)({}),s=Ti(),{width:c,height:u}=(0,ri.Z)(),l=()=>{var e;null==i||null===(e=i.current)||void 0===e||e.measure(((e,t,n,i,o,s)=>{const l=pi({px:o,py:s,localHeight:i,localWidth:n,globalHeight:u,globalWidth:c,extra:{bottom:10,left:n/2,right:-n/2},popupWidth:290});a(l),r(!0)}))};return null!=e&&e.render?e.render(l):n.createElement(n.Fragment,null,n.createElement(kA,{type:"audio",actionMenuVisible:t,setActionMenuVisible:r,name:null,modalPosition:o,onMutePress:()=>{s(Ri.audio),r(!1)}}),n.createElement(cA,{setRef:e=>i.current=e,onPress:l,text:"Mute all"}))}),YA=e=>{const[t,r]=(0,n.useState)(!1),i=(0,n.useRef)(null),[o,a]=(0,n.useState)({}),s=Ti(),{width:c,height:u}=(0,ri.Z)(),l=()=>{var e;null==i||null===(e=i.current)||void 0===e||e.measure(((e,t,n,i,o,s)=>{const l=pi({px:o,py:s,localHeight:i,localWidth:n,globalHeight:u,globalWidth:c,extra:{bottom:10,left:c<720?0:n/2,right:u<720?0:-n/2},popupWidth:290});a(l),r(!0)}))};return null!=e&&e.render?e.render(l):n.createElement(n.Fragment,null,n.createElement(kA,{type:"video",actionMenuVisible:t,setActionMenuVisible:r,name:null,modalPosition:o,onMutePress:()=>{s(Ri.video),r(!1)}}),n.createElement(cA,{setRef:e=>i.current=e,onPress:l,text:"Turn off all cameras"}))},JA=On.Z.create({container:{flexDirection:"row",justifyContent:"center"},btn:{}}),ZA=()=>n.createElement(qn.Z,{style:JA.container},n.createElement(YA,null),n.createElement(vA,{horizontal:!0,size:16}),n.createElement(KA,null)),XA=On.Z.create({sidePanelContainerWeb:{flex:1,maxWidth:"20%",minWidth:338,borderRadius:Ya.small,marginLeft:12,backgroundColor:"#1D1D1D",borderColor:"#2D2D2D",borderWidth:1,shadowColor:"#000000",shadowOpacity:.2,shadowOffset:{width:0,height:0},shadowRadius:20,overflow:"hidden"},sidePanelContainerNative:{zIndex:5,width:"100%",height:"100%"},sidePanelContainerWebMinimzed:{position:"absolute",zIndex:5,width:"96%",height:"96%",right:"2%",left:"2%",top:"2%",bottom:"2%",borderRadius:Ya.small,backgroundColor:"#1D1D1D",borderColor:"#2D2D2D",borderWidth:1,shadowColor:"#000000",shadowOpacity:.2,shadowOffset:{width:0,height:0},shadowRadius:20,overflow:"hidden"}}),$A=On.Z.create({sidePanelHeader:{height:ai()?60:"auto",flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingHorizontal:20,paddingVertical:22,borderBottomWidth:1,borderBottomColor:"#2D2D2D"},chatPadding:{paddingHorizontal:20,paddingVertical:12},heading:{fontFamily:Ka.sansPro,fontSize:Wa.normal,lineHeight:1.6*Wa.normal,fontWeight:"600",color:"#FFFFFF",alignSelf:"center"},alignCenterNoPadding:{padding:0,display:"flex",alignSelf:"center",alignItems:"center",justifyContent:"center"}}),eg=e=>{const{isChat:t=!1}=e;return n.createElement(qn.Z,{style:[$A.sidePanelHeader,t?$A.chatPadding:{}]},null!=e&&e.leadingIconName?n.createElement(qn.Z,null,n.createElement(uf,{hoverEffect:!0,hoverEffectStyle:{backgroundColor:"#242529",borderRadius:20},iconProps:{iconType:"plain",iconContainerStyle:{padding:5},iconSize:20,name:e.leadingIconName,tintColor:"#FFFFFF"},onPress:()=>{(null==e?void 0:e.leadingIconOnPress)&&e.leadingIconOnPress()}})):t?n.createElement(qn.Z,{style:{width:30,height:"auto"}}):n.createElement(n.Fragment,null),null!=e&&e.centerComponent?e.centerComponent:n.createElement(n.Fragment,null),n.createElement(qn.Z,null,null!=e&&e.trailingIconName?n.createElement(uf,{hoverEffect:!0,hoverEffectStyle:{backgroundColor:"#242529",borderRadius:20},iconProps:{iconType:"plain",iconContainerStyle:{padding:5},iconSize:20,name:null==e?void 0:e.trailingIconName,tintColor:"#FFFFFF"},onPress:()=>{(null==e?void 0:e.trailingIconOnPress)&&e.trailingIconOnPress()}}):n.createElement(n.Fragment,null)))},tg=e=>{const{setSidePanel:t}=ba();return n.createElement(eg,{centerComponent:n.createElement($n.Z,{style:$A.heading},"Settings"),trailingIconName:"close",trailingIconOnPress:()=>{e.handleClose&&e.handleClose(),t(va.None)}})},ng=()=>{const{onlineUsersCount:e}=(0,n.useContext)(Yr),t=`People (${oA(e)})`,{setSidePanel:r}=ba();return n.createElement(eg,{centerComponent:n.createElement($n.Z,{style:$A.heading},t),trailingIconName:"close",trailingIconOnPress:()=>{r(va.None)}})},rg=()=>{const{unreadGroupMessageCount:e,setUnreadGroupMessageCount:t,unreadPrivateMessageCount:r,setUnreadPrivateMessageCount:i,setUnreadIndividualMessageCount:o,unreadIndividualMessageCount:a}=ma(),{setSidePanel:s}=ba(),{groupActive:c,setGroupActive:u,privateActive:l,setPrivateActive:d,setSelectedChatUserId:h}=fa();return n.createElement(eg,{isChat:!0,leadingIconName:l?"back-btn":null,leadingIconOnPress:l?()=>{h(0),d(!1)}:()=>{},centerComponent:n.createElement(qn.Z,{style:ig.buttonHolder},n.createElement(Zn.Z,{onPress:()=>{d(!1),u(!0),h(0)},style:c?ig.activeContainer:ig.nonActiveContainer},0!==e?n.createElement(qn.Z,{style:ig.chatNotification}):null,n.createElement($n.Z,{style:c?ig.activeText:ig.nonActiveText},"Group")),n.createElement(Zn.Z,{onPress:()=>{u(!1),h(0),d(!1)},style:c?[ig.nonActiveContainer]:[ig.activeContainer]},0!==r?n.createElement(qn.Z,{style:ig.chatNotification}):null,n.createElement($n.Z,{style:c?ig.nonActiveText:ig.activeText},"Private"))),trailingIconName:"close",trailingIconOnPress:()=>{s(va.None)}})},ig=On.Z.create({buttonHolder:{backgroundColor:"#000000"+Ua,borderRadius:12,flexDirection:"row"},chatViewNative:{zIndex:5,width:"100%",height:"100%",right:0,bottom:0},chatInputContainer:{width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},activeContainer:{margin:2,backgroundColor:"#099DFD",borderRadius:11,alignSelf:"center"},nonActiveContainer:{alignSelf:"center"},activeText:{paddingHorizontal:24,paddingVertical:10,fontFamily:Ka.sansPro,fontWeight:"600",fontSize:12,color:"#FFFFFF"},nonActiveText:{paddingHorizontal:24,paddingVertical:10,fontFamily:Ka.sansPro,fontWeight:"600",fontSize:12,color:"#FFFFFF"},chatNotification:{width:8,height:8,backgroundColor:"#FF414D",borderRadius:30,position:"absolute",right:8,top:4}}),og=On.Z.create({footer:{width:"100%",padding:12,height:"auto",flexDirection:"row",alignItems:"center",justifyContent:"center",backgroundColor:"#262626"},bodyContainer:{flex:1}}),ag=e=>{const{activeUids:t}=Na(),{liveStreamData:r,audienceUids:i,hostUids:o}=mA(),{attendeeUids:a,hostUids:s}=zA(),{onlineUsersCount:c}=(0,n.useContext)(Yr),{sidePanel:u,setSidePanel:l}=ba(),{rtcProps:d}=(0,n.useContext)(ln),{showHeader:h=!0}=e,{data:{isHost:p}}=(oA(c),be()),f=vi(),[A,g]=(0,n.useState)(!0),[m,v]=(0,n.useState)(!0),[y,E]=(0,n.useState)(!0),[b,_]=(0,n.useState)(!0),{currentLayout:C}=Di();return n.createElement(qn.Z,{testID:"videocall-participants",style:[di()?XA.sidePanelContainerNative:f()?XA.sidePanelContainerWebMinimzed:XA.sidePanelContainerWeb,ai()&&!f()&&C===Qf()?{marginVertical:4}:{}]},h&&n.createElement(ng,null),n.createElement(hs.Z,{style:[og.bodyContainer]},n.createElement(n.Fragment,null,n.createElement(WA,{emptyMessage:"No Users has joined yet",uids:t,isMobile:f(),updateActionSheet:e.updateActionSheet,handleClose:e.handleClose}))),p&&n.createElement(qn.Z,{style:og.footer},n.createElement(ZA,null)))};var sg=__webpack_require__(2286),cg=__webpack_require__(2867);const ug=(0,n.createContext)({}),lg=On.Z.create({remoteUsernameStyle:{fontFamily:Ka.sansPro,fontWeight:"600",fontSize:Wa.small,textAlign:"left",color:"#FFFFFF"+za.medium,alignSelf:"flex-start",marginTop:20,marginBottom:8,marginHorizontal:20},localUsernameStyle:{fontFamily:Ka.sansPro,fontWeight:"600",fontSize:Wa.small,textAlign:"left",color:"#FFFFFF"+za.medium,alignSelf:"flex-end",marginTop:20,marginBottom:8,marginHorizontal:20},timestampStyle:{fontFamily:Ka.sansPro,fontWeight:"400",fontSize:Wa.tiny,textAlign:"right",color:"#FFFFFF"+za.disabled,marginTop:4,marginBottom:6},chatBubbleRemoteView:{backgroundColor:"#262626",minWidth:"30%",maxWidth:"80%",alignSelf:"flex-start",marginVertical:2,marginHorizontal:20,borderBottomLeftRadius:12,borderBottomRightRadius:12,borderTopLeftRadius:0,borderTopRightRadius:12},chatBubbleRemoteViewLayer2:{backgroundColor:"transparent",paddingVertical:8,paddingHorizontal:12,borderBottomLeftRadius:12,borderBottomRightRadius:12,borderTopLeftRadius:12,borderTopRightRadius:0},chatBubbleLocalViewLayer2:{paddingVertical:8,paddingHorizontal:12,borderBottomLeftRadius:12,borderBottomRightRadius:12,borderTopLeftRadius:12,borderTopRightRadius:0,backgroundColor:"#099DFD"+Qa},chatBubbleLocalView:{backgroundColor:"#808080"+ja,minWidth:"30%",maxWidth:"80%",alignSelf:"flex-end",marginVertical:2,marginHorizontal:20,borderBottomLeftRadius:12,borderBottomRightRadius:12,borderTopLeftRadius:12,borderTopRightRadius:0},messageStyle:{fontFamily:Ka.sansPro,fontWeight:"400",fontSize:Wa.small,lineHeight:1.4*Wa.small,color:"#FFFFFF"}}),dg=e=>{const{renderList:t}=Na(),{primaryColor:r}=(0,n.useContext)(ug),{privateActive:i,selectedChatUserId:o}=fa();let{isLocal:a,isSameUser:s,message:c,createdTimestamp:u,uid:l,isDeleted:d,msgId:h,updatedTimestamp:p}=e,f=(v=(g=(A=new Date(parseInt(u))).getHours())>=12?"pm":"am",(g=(g%=12)||12)+":"+(m=(m=A.getMinutes())<10?"0"+m:m)+" "+v);var A,g,m,v;return null!=e&&e.render?e.render(a,c,u,l,h,d,p,s):n.createElement(n.Fragment,null,s||i&&o?n.createElement(n.Fragment,null):n.createElement($n.Z,{style:a?lg.localUsernameStyle:lg.remoteUsernameStyle},a?"You":t[l]?t[l].name:"User"),n.createElement(qn.Z,{style:a?lg.chatBubbleLocalView:lg.chatBubbleRemoteView},n.createElement(qn.Z,{style:a?lg.chatBubbleLocalViewLayer2:lg.chatBubbleRemoteViewLayer2},n.createElement(cg.Z,{onPress:e=>{ai()?window.open(e,"_blank"):sg.Z.openURL(e)},linkStyle:{color:"#FFFFFF",textDecorationLine:"underline"}},n.createElement($n.Z,{style:lg.messageStyle,selectable:!0},c)),n.createElement($n.Z,{style:lg.timestampStyle},f))))},hg=On.Z.create({unreadMessageContainer:{backgroundColor:"#262626",padding:8,marginVertical:20},unreadMessageText:{fontFamily:Ka.sansPro,fontWeight:"600",fontSize:12,color:"#FFFFFF",textAlign:"center"},defaultMessageContainer:{backgroundColor:"#262626",borderRadius:8,padding:12,marginTop:20,marginHorizontal:20,marginBottom:0},defaultMessageText:{fontFamily:Ka.sansPro,fontWeight:"400",fontSize:12,color:"#FFFFFF"+Fa},bgContainerStyle:{backgroundColor:"#BDD0DB",width:36,height:36,borderRadius:18,marginRight:8,marginLeft:20,marginVertical:8},userAvatarContainer:{backgroundColor:"#099DFD"+Qa,width:36,height:36,borderRadius:18},userAvatarText:{fontSize:Wa.tiny,lineHeight:12,fontWeight:"400",color:"#1D1D1D"},participantContainer:{flexDirection:"row",overflow:"hidden",justifyContent:"space-between",backgroundColor:"#000000"+Qa},participantTextContainer:{flex:1,alignSelf:"center",marginRight:8},participantText:{fontFamily:Ka.sansPro,fontWeight:"600",fontSize:14,color:"#FFFFFF",textAlign:"left",flexShrink:1},containerView:{flex:8},infoTextView:{marginVertical:2,flexDirection:"row"},infoText:{color:"#FFFFFF"+Ma,fontWeight:"500",fontSize:14,flex:1,textAlign:"center"}}),pg=e=>{var t,r;const[i,o]=(0,n.useState)(!1),{dispatch:a}=ka(),[s,c]=(0,n.useState)(0),[u,l]=(0,n.useState)(0),{renderList:d}=Na(),{messageStore:h,privateMessageStore:p}=wa(),f=(0,n.useRef)(h.length),{height:A,width:g}=(0,ri.Z)(),{groupActive:m,privateActive:v,selectedChatUserId:y,setPrivateActive:E,inputActive:b}=fa(),_=(0,n.useRef)(null===(t=p[y])||void 0===t?void 0:t.length),{setUnreadGroupMessageCount:C,unreadGroupMessageCount:I,unreadIndividualMessageCount:S,setUnreadIndividualMessageCount:w}=ma(),R=Qn(),T=(0,n.useRef)(null);(0,n.useEffect)((()=>{m&&(c(I),C(0))}),[m]),(0,n.useEffect)((()=>{y&&(l(S[y]),w((e=>({...e,[y]:0}))),O(y,{lastMessageTimeStamp:0}))}),[y]);const O=(e,t)=>{a({type:"UpdateRenderList",value:[e,t]})},{ChatBubbleComponent:k}=ke((t=>{var n,r;let i={ChatBubbleComponent:dg};var o,a,s,c,u,l,d,h,p,f,A,g,m,v,y,E;return null!=t&&null!==(n=t.components)&&void 0!==n&&n.videoCall&&"object"==typeof(null==t||null===(r=t.components)||void 0===r?void 0:r.videoCall)?null!=t&&null!==(o=t.components)&&void 0!==o&&null!==(a=o.videoCall)&&void 0!==a&&a.chat&&"object"==typeof(null==t||null===(s=t.components)||void 0===s||null===(c=s.videoCall)||void 0===c?void 0:c.chat)&&null!=t&&null!==(u=t.components)&&void 0!==u&&null!==(l=u.videoCall)&&void 0!==l&&null!==(d=l.chat)&&void 0!==d&&d.chatBubble&&"object"!=typeof(null==t||null===(h=t.components)||void 0===h||null===(p=h.videoCall)||void 0===p||null===(f=p.chat)||void 0===f?void 0:f.chatBubble)&&oi(null==t||null===(A=t.components)||void 0===A||null===(g=A.videoCall)||void 0===g||null===(m=g.chat)||void 0===m?void 0:m.chatBubble)&&(i.ChatBubbleComponent=null==t||null===(v=t.components)||void 0===v||null===(y=v.videoCall)||void 0===y||null===(E=y.chat)||void 0===E?void 0:E.chatBubble):null!=e&&e.chatBubble&&oi(null==e?void 0:e.chatBubble)&&(i.ChatBubbleComponent=null==e?void 0:e.chatBubble),i}));(0,n.useEffect)((()=>{v||s?v&&!u&&o(!0):o(!0)}),[v,s,u]);const N=(0,n.useCallback)((()=>{var e;i&&(null===(e=T.current)||void 0===e||e.scrollToEnd({animated:!1}))}),[i]),D=({nativeEvent:{layout:{y:e}}})=>{var t;e&&(null===(t=T.current)||void 0===t||t.scrollTo({y:e,animated:!1}))};return n.createElement(qn.Z,{style:hg.containerView},v&&y?n.createElement(n.Fragment,null,n.createElement(qn.Z,{style:hg.participantContainer},n.createElement(qn.Z,{style:hg.bgContainerStyle},n.createElement(fs,{name:d[y].name,containerStyle:hg.userAvatarContainer,textStyle:hg.userAvatarText})),n.createElement(qn.Z,{style:hg.participantTextContainer},n.createElement($n.Z,{style:[hg.participantText],numberOfLines:1},d[y].name))),n.createElement(vA,{size:10})):n.createElement(n.Fragment,null),n.createElement(hs.Z,{ref:T,onContentSizeChange:N},v?p[y]?n.createElement(n.Fragment,null,p[y].map(((e,t)=>{var r,i,o;return n.createElement(n.Fragment,null,_.current===(null===(r=p[y])||void 0===r?void 0:r.length)&&u&&(null===(i=p[y])||void 0===i?void 0:i.length)-u===t?n.createElement(qn.Z,{style:hg.unreadMessageContainer,onLayout:D},n.createElement($n.Z,{style:hg.unreadMessageText},u," Unread Message")):n.createElement(n.Fragment,null),n.createElement(k,{isLocal:R===e.uid,isSameUser:0!==t&&p[y][t-1].uid===e.uid,message:e.msg,createdTimestamp:e.createdTimestamp,updatedTimestamp:e.updatedTimestamp,uid:e.uid,key:e.ts,msgId:e.msgId,isDeleted:e.isDeleted}),(null===(o=p[y])||void 0===o?void 0:o.length)-1===t?n.createElement(vA,{size:10}):n.createElement(n.Fragment,null))}))):n.createElement(n.Fragment,null):n.createElement(n.Fragment,null,n.createElement(qn.Z,{style:hg.defaultMessageContainer},n.createElement($n.Z,{style:hg.defaultMessageText},null!=h&&h.length?"All messages are deleted when call ends.":"Welcome to Chat! \nAll messages are deleted when call ends.")),h.map(((e,t)=>n.createElement(n.Fragment,null,f.current===h.length&&s&&h.length-s===t?n.createElement(qn.Z,{style:hg.unreadMessageContainer,onLayout:D},n.createElement($n.Z,{style:hg.unreadMessageText},s," Unread Message")):n.createElement(n.Fragment,null),n.createElement(k,{isLocal:R===e.uid,isSameUser:0!==t&&h[t-1].uid===e.uid,message:e.msg,createdTimestamp:e.createdTimestamp,updatedTimestamp:e.updatedTimestamp,uid:e.uid,key:e.ts,msgId:e.msgId,isDeleted:e.isDeleted}),(null==h?void 0:h.length)-1===t?n.createElement(vA,{size:10}):n.createElement(n.Fragment,null))))),(null===(r=d[y])||void 0===r?void 0:r.offline)&&n.createElement(qn.Z,{style:hg.infoTextView},n.createElement($n.Z,{style:hg.infoText},"User is offline"))))},fg=e=>{const{selectedChatUserId:t,message:r,setMessage:i,inputActive:o}=fa(),{sendChatMessage:a}=wa(),s=()=>{t?(a(r,t),i&&i("")):(a(r),i&&i(""))};return null!=e&&e.render?e.render(s):n.createElement(Zn.Z,{style:[gg.chatInputButton],onPress:s},n.createElement(es,{iconType:"plain",tintColor:o?"#099DFD":"#808080",name:"send"}))},Ag=e=>{let t=(0,n.useRef)(null);const{selectedChatUserId:r,message:i,setMessage:o,inputActive:a,privateActive:s}=fa(),{sendChatMessage:c}=wa(),{renderList:u}=Na(),[l]=Oa(),d=s?`Private Message to ${u[r].name}`:`Chat publicly as ${l}...`,h=e=>o(e),p=()=>{r?(c(i,r),o("")):(c(i),o(""))},{setInputActive:f}=fa();return(0,n.useEffect)((()=>{setTimeout((()=>{var e;ai()&&(null==t||null===(e=t.current)||void 0===e||e.focus())}))}),[]),null!=e&&e.render?e.render(i,h,p,d):n.createElement(ls,{setRef:e=>t.current=e,onFocus:()=>f(!0),onBlur:()=>f(!1),value:i,onChangeText:h,style:{minHeight:56,borderRadius:0,borderBottomLeftRadius:12,borderWidth:0,color:"#FFFFFF",textAlign:"left",paddingVertical:21,paddingLeft:20,flex:1,alignSelf:"center",fontFamily:Ka.sansPro,fontWeight:"400"},blurOnSubmit:!1,onSubmitEditing:p,placeholder:d,placeholderTextColor:"#FFFFFF"+za.disabled,autoCorrect:!1})},gg=On.Z.create({inputActiveView:{borderTopWidth:1,borderTopColor:"#099DFD"},inputView:{flex:1,flexDirection:"row",backgroundColor:"#262626",borderTopWidth:1,borderTopColor:"transparent"},chatInputButton:{flex:.1,borderBottomRightRadius:12,alignSelf:"center",marginRight:16}}),mg=e=>{const{primaryColor:t}=(0,n.useContext)(ug),{ChatInputComponent:r,ChatSendButtonComponent:i}=ke((t=>{var n,r;let i={ChatInputComponent:Ag,ChatSendButtonComponent:fg};var o,a,s,c;if(null!=t&&null!==(n=t.components)&&void 0!==n&&n.videoCall&&"object"==typeof(null==t||null===(r=t.components)||void 0===r?void 0:r.videoCall)){if(null!=t&&null!==(o=t.components)&&void 0!==o&&null!==(a=o.videoCall)&&void 0!==a&&a.chat&&"object"==typeof(null==t||null===(s=t.components)||void 0===s||null===(c=s.videoCall)||void 0===c?void 0:c.chat)){var u,l,d,h,p,f,A,g,m,v,y,E,b,_,C,I,S,w,R,T,O,k,N,D;null!=t&&null!==(u=t.components)&&void 0!==u&&null!==(l=u.videoCall)&&void 0!==l&&null!==(d=l.chat)&&void 0!==d&&d.chatInput&&"object"!=typeof(null==t||null===(h=t.components)||void 0===h||null===(p=h.videoCall)||void 0===p||null===(f=p.chat)||void 0===f?void 0:f.chatInput)&&oi(null==t||null===(A=t.components)||void 0===A||null===(g=A.videoCall)||void 0===g||null===(m=g.chat)||void 0===m?void 0:m.chatInput)&&(i.ChatInputComponent=null==t||null===(R=t.components)||void 0===R||null===(T=R.videoCall)||void 0===T||null===(O=T.chat)||void 0===O?void 0:O.chatInput),null!=t&&null!==(v=t.components)&&void 0!==v&&null!==(y=v.videoCall)&&void 0!==y&&null!==(E=y.chat)&&void 0!==E&&E.chatSendButton&&"object"!=typeof(null==t||null===(b=t.components)||void 0===b||null===(_=b.videoCall)||void 0===_||null===(C=_.chat)||void 0===C?void 0:C.chatSendButton)&&oi(null==t||null===(I=t.components)||void 0===I||null===(S=I.videoCall)||void 0===S||null===(w=S.chat)||void 0===w?void 0:w.chatSendButton)&&(i.ChatSendButtonComponent=null==t||null===(k=t.components)||void 0===k||null===(N=k.videoCall)||void 0===N||null===(D=N.chat)||void 0===D?void 0:D.chatSendButton)}}else null!=e&&e.chatInput&&oi(e.chatInput)&&(i.ChatInputComponent=e.chatInput),null!=e&&e.chatSendButton&&oi(e.chatSendButton)&&(i.ChatSendButtonComponent=e.chatSendButton);return i})),{inputActive:o}=fa();return n.createElement(qn.Z,{style:[gg.inputView,o?gg.inputActiveView:{}]},n.createElement(r,null),n.createElement(i,null))},vg=()=>n.createElement(qn.Z,{style:{alignSelf:"center",marginRight:20}},n.createElement(es,{iconType:"plain",name:"chat-nav",tintColor:"#FFFFFF"})),yg=({children:e})=>{const[t,r]=(0,n.useState)(!1);return ai()&&!di()?n.createElement("div",{style:{backgroundColor:t?"#808080"+Qa:"transparent",cursor:t?"pointer":"auto"},onMouseEnter:()=>{r(!0)},onMouseLeave:()=>{r(!1)}},e(t)):n.createElement(n.Fragment,null,e(!1))},Eg=On.Z.create({defaultMessageContainer:{backgroundColor:"#262626",borderRadius:8,padding:12,marginTop:20,marginHorizontal:20,marginBottom:0},defaultMessageText:{fontFamily:Ka.sansPro,fontWeight:"400",fontSize:12,color:"#FFFFFF"+Fa},bgContainerStyle:{backgroundColor:"#BDD0DB",width:36,height:36,borderRadius:18,marginRight:8,marginLeft:20,marginVertical:8},userAvatarContainer:{width:36,height:36,borderRadius:18},userAvatarText:{fontSize:Wa.tiny,lineHeight:12,fontWeight:"400",color:"#1D1D1D"},participantContainer:{flexDirection:"row",overflow:"hidden",justifyContent:"space-between",alignItems:"center"},participantTextContainer:{flex:1,alignSelf:"center"},participantText:{fontFamily:Ka.sansPro,fontWeight:"400",fontSize:14,lineHeight:14,color:"#FFFFFF",textAlign:"left",flexShrink:1},chatNotificationPrivate:{backgroundColor:"#808080",borderRadius:8,alignSelf:"center"},chatNotificationCountText:{fontFamily:Ka.sansPro,fontWeight:"600",fontSize:12,lineHeight:12,textAlign:"center",color:"#FFFFFF",paddingVertical:2,paddingLeft:8,paddingRight:9}}),bg=e=>{const{selectUser:t}=e,{renderList:r,activeUids:i}=Na(),o=Qn(),{unreadIndividualMessageCount:a}=ma(),s=di();return n.createElement(hs.Z,null,i&&1===i.length?n.createElement(qn.Z,{style:Eg.defaultMessageContainer},n.createElement($n.Z,{style:Eg.defaultMessageText},"No one else has joined yet.")):n.createElement(n.Fragment,null),Object.keys(r).map((e=>parseInt(e))).filter((e=>{try{if(isNaN(e))return!1;{const t=e,n=r[t];return t!==o&&"1"!==t&&"rtc"===(null==n?void 0:n.type)&&!(null!=n&&n.offline)}}catch(e){return!1}})).sort(((e,t)=>{var n,i;return(null===(n=r[t])||void 0===n?void 0:n.lastMessageTimeStamp)-(null===(i=r[e])||void 0===i?void 0:i.lastMessageTimeStamp)})).map((e=>{const i=e,o=r[i]?r[i].name+"":"User";return n.createElement(yg,{key:"chat-participant"+e},(e=>n.createElement(As.Z,{onPress:()=>{t(i)}},n.createElement(qn.Z,{style:Eg.participantContainer},n.createElement(qn.Z,{style:Eg.bgContainerStyle},n.createElement(fs,{name:o,containerStyle:Eg.userAvatarContainer,textStyle:Eg.userAvatarText})),n.createElement(qn.Z,{style:Eg.participantTextContainer},n.createElement($n.Z,{numberOfLines:1,style:[Eg.participantText]},o)),a&&a[i]&&!e?n.createElement(n.Fragment,null,n.createElement(qn.Z,{style:Eg.chatNotificationPrivate},n.createElement($n.Z,{style:Eg.chatNotificationCountText},a[i])),n.createElement(vA,{size:20,horizontal:!0})):s||e?n.createElement(vg,null):n.createElement(n.Fragment,null)))))})))},_g=On.Z.create({buttonHolder:{backgroundColor:"#000000"+Ua,borderRadius:12,flexDirection:"row"},chatViewNative:{zIndex:5,width:"100%",height:"100%",right:0,bottom:0},chatInputContainer:{width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},activeContainer:{margin:2,backgroundColor:"#099DFD",borderRadius:11,alignSelf:"center"},nonActiveContainer:{alignSelf:"center"},activeText:{paddingHorizontal:24,paddingVertical:10,fontFamily:Ka.sansPro,fontWeight:"600",fontSize:12,color:"#FFFFFF"},nonActiveText:{paddingHorizontal:24,paddingVertical:10,fontFamily:Ka.sansPro,fontWeight:"600",fontSize:12,color:"#FFFFFF"},chatNotification:{width:8,height:8,backgroundColor:"#FF414D",borderRadius:30,position:"absolute",right:8,top:4}}),Cg=e=>{const t=vi(),{setSidePanel:r}=ba(),{showHeader:i=!0}=e,{groupActive:o,setGroupActive:a,privateActive:s,setPrivateActive:c,setSelectedChatUserId:u}=fa(),{unreadGroupMessageCount:l,setUnreadGroupMessageCount:d,unreadPrivateMessageCount:h,setUnreadPrivateMessageCount:p,setUnreadIndividualMessageCount:f,unreadIndividualMessageCount:A}=ma(),{primaryColor:g}=(0,n.useContext)(ug);n.useEffect((()=>()=>{a(!1),c(!1),u(0)}),[]);const{ChatAfterView:m,ChatBeforeView:v}=ke((e=>{var t,r;let i={ChatAfterView:n.Fragment,ChatBeforeView:n.Fragment};return null!=e&&null!==(t=e.components)&&void 0!==t&&t.videoCall&&(null==e||null===(r=e.components)||void 0===r||r.videoCall),i})),{currentLayout:y}=Di();return n.createElement(n.Fragment,null,n.createElement(qn.Z,{style:[di()?XA.sidePanelContainerNative:t()?XA.sidePanelContainerWebMinimzed:XA.sidePanelContainerWeb,ai()&&!t()&&y===Qf()?{marginVertical:4}:{}]},n.createElement(v,null),i&&n.createElement(rg,null),o?n.createElement(n.Fragment,null,n.createElement(pg,e),n.createElement(qn.Z,{style:_g.chatInputContainer},n.createElement(mg,e))):n.createElement(n.Fragment,null,s?n.createElement(n.Fragment,null,n.createElement(pg,e),n.createElement(qn.Z,null,n.createElement(qn.Z,{style:_g.chatInputContainer},n.createElement(mg,e)))):n.createElement(bg,{selectUser:e=>{u(e),c(!0)}})),n.createElement(m,null)))},Ig=e=>{const{sidePanel:t,setSidePanel:r}=ba(),i=t===va.Settings,o=()=>{r(i?va.None:va.Settings)};let a={onPress:o,iconProps:{name:"settings",tintColor:"#FFFFFF",iconBackgroundColor:i?"#099DFD":""},btnTextProps:{text:"",textColor:"#FFFFFF"}};return null!=e&&e.render?e.render(o,i):n.createElement(n.Fragment,null,n.createElement(qn.Z,null,n.createElement(uf,a)))},Sg=e=>n.createElement(Ig,e),wg=(On.Z.create({localButton:{borderRadius:2,borderColor:"#099DFD",width:30,height:30,display:"flex",alignSelf:"center",alignItems:"center",justifyContent:"center",resizeMode:"contain"}}),Ig),Rg=()=>!0,Tg=__webpack_require__(7196).Z,Og=(e,t,n,r)=>t?r?{host:`${e}/${n.host}`,attendee:`${e}/${n.attendee}`}:{host:`${e}/${n.host}`}:{attendee:`${e}/${n.attendee}`},kg=(e,t,n)=>e?n?{host:`${t.host}`,attendee:`${t.attendee}`}:{host:`${t.host}`}:{attendee:`${t.attendee}`};let Ng;!function(e){e[e.ATTENDEE=1]="ATTENDEE",e[e.HOST=2]="HOST",e[e.PSTN=3]="PSTN",e[e.MEETING_INVITE=4]="MEETING_INVITE"}(Ng||(Ng={}));const Dg=n.createContext({copyShareLinkToClipboard:()=>{},getShareLink:()=>""}),Pg=e=>{const{data:{meetingTitle:t,roomId:r,pstn:i,isSeparateHostLink:o,isHost:a}}=be(),s=()=>{let e=c(),n=(({meetingName:e,id:t,url:n,pstn:r,isHost:i,isSeparateHostLink:o})=>{let a="";return a+=n?i?o?`Meeting: ${e}\n\nAttendee Link:\n${null==n?void 0:n.attendee}\n\nHost Link:\n${null==n?void 0:n.host}`:`Meeting: ${e}\n\nMeeting Link:\n${null==n?void 0:n.host}`:`Meeting: ${e}\n\nAttendee Link:\n${null==n?void 0:n.attendee}`:i?o?`Meeting: ${e}\n\nAttendee Meeting ID:\n${null==t?void 0:t.attendee}\n\nHost Meeting ID:\n${null==t?void 0:t.host}`:`Meeting: ${e}\n\nMeeting ID:\n${null==t?void 0:t.host}`:`Meeting: ${e}\n\nAttendee Meeting ID:\n${null==t?void 0:t.attendee}`,null!=r&&r.number&&null!=r&&r.pin&&(a+=`\n\nPSTN Number:\n${r.number}\n\nPSTN Pin:\n${r.pin}`),a})({meetingName:t,url:e?Og(e,a,r,o):void 0,id:e?void 0:kg(a,r,o),pstn:i?{number:i.number,pin:i.pin}:void 0,isHost:a,isSeparateHostLink:o});return n},c=()=>{},u=()=>{let e="",t=c();return null!=r&&r.attendee&&(e+=t?`${t}/${r.attendee}`:`${r.attendee}`),e},l=()=>{let e="";if(null!=r&&r.host){let t=c();e+=t?`${t}/${r.host}`:`${r.host}`}return e},d=()=>{let e="";return i&&null!=i&&i.number&&null!=i&&i.pin&&(e+=`PSTN Number: ${i.number} PSTN Pin: ${i.pin}`),e};return n.createElement(Dg.Provider,{value:{copyShareLinkToClipboard:(e,t)=>{let n="";switch(e){case Ng.MEETING_INVITE:n=s();break;case Ng.ATTENDEE:n=u();break;case Ng.HOST:n=l();break;case Ng.PSTN:n=d()}Tg.setString(n),t&&t()},getShareLink:e=>{let t="";switch(e){case Ng.MEETING_INVITE:t=s();break;case Ng.ATTENDEE:t=u();break;case Ng.HOST:t=l();break;case Ng.PSTN:t=d()}return t}}},e.children)},xg=he(Dg),Lg=()=>n.createElement(Xn.Z,{source:{uri:"https://dbudicf5k4as1.cloudfront.net/2/5TWpUqsdC0BH6lPJ.jpeg"},style:Mg.logo,resizeMode:"contain"}),Mg=On.Z.create({logo:{width:54,height:19}});function Bg(){return Bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bg.apply(this,arguments)}const Fg=e=>{const{style:t,children:r,...i}=e,o=Ug();return n.createElement(qn.Z,Bg({style:[o.root,di()?o.mobile:o.desktop,t]},i),r)},Ug=()=>{const e=yi();return On.Z.create({root:{flex:1,backgroundColor:"#1D1D1D",elevation:5,maxWidth:676,width:"100%",overflow:"hidden"},mobile:{paddingHorizontal:16,paddingTop:20,paddingBottom:40,justifyContent:"space-between"},desktop:{justifyContent:"center",alignSelf:"center",borderWidth:1,paddingHorizontal:e(60),paddingVertical:e(60),borderRadius:Ya.extraLarge,borderColor:"#2D2D2D",shadowColor:"#000000",shadowOffset:{width:0,height:4},shadowOpacity:.1,shadowRadius:20,margin:e(40)}})},jg=({onPress:e,text:t})=>n.createElement(Zn.Z,{onPress:e},n.createElement($n.Z,{style:Vg.text}," ",t," ")),Vg=On.Z.create({text:{color:"#099DFD",fontWeight:"600",fontFamily:Ka.sansPro,fontSize:Wa.normal,lineHeight:Wa.normal}}),Qg=e=>{const{copyShareLinkToClipboard:t,getShareLink:r}=xg(),{data:{roomId:i,isHost:o,pstn:a,isSeparateHostLink:s,meetingTitle:c}}=be(),{showSubLabel:u=!0}=e,l=(Eo(),!1),d=e=>n.createElement(qn.Z,{style:qg.iconContainer},n.createElement(rf,{isClickable:!0,onPress:()=>{t(e)},toolTipIcon:n.createElement(n.Fragment,null,n.createElement(es,{iconType:"plain",name:"tick-fill",tintColor:"#36B37E"}),n.createElement(vA,{size:8,horizontal:!0})),toolTipMessage:"Copied to clipboard",renderContent:(r,i)=>n.createElement(Zn.Z,{onPress:()=>{t(e,(()=>{i(!0)}))}},n.createElement(es,{iconType:"plain",name:"clipboard",tintColor:"#099DFD"}))}));return n.createElement(n.Fragment,null,s?n.createElement(n.Fragment,null,n.createElement($n.Z,{style:qg.urlTitle},l?"Attendee Link":"Attendee ID"),n.createElement(vA,{size:11}),n.createElement(qn.Z,{style:qg.container},n.createElement(qn.Z,{style:qg.urlContainer},n.createElement($n.Z,{numberOfLines:1,ellipsizeMode:"tail",style:[qg.url,qg.urlPadding,l?Gg:{opacity:1}]},r(Ng.ATTENDEE))),d(Ng.ATTENDEE)),u&&n.createElement(n.Fragment,null,n.createElement(vA,{size:14}),n.createElement($n.Z,{style:qg.helpText},"Share this with attendees you want to invite.")),n.createElement(vA,{size:25})):n.createElement(n.Fragment,null),o?n.createElement(n.Fragment,null,n.createElement($n.Z,{style:qg.urlTitle},s?l?"Host Link":"Host ID":l?"Meeting Link":"Meeting ID"),n.createElement(vA,{size:11}),n.createElement(qn.Z,{style:qg.container},n.createElement(qn.Z,{style:qg.urlContainer},n.createElement($n.Z,{numberOfLines:1,ellipsizeMode:"tail",style:[qg.url,qg.urlPadding,l?Gg:{opacity:1}]},r(Ng.HOST))),d(Ng.HOST)),u&&n.createElement(n.Fragment,null,n.createElement(vA,{size:14}),n.createElement($n.Z,{style:qg.helpText},"Share this with other co-hosts you want to invite.")),n.createElement(vA,{size:25})):n.createElement(n.Fragment,null),a?n.createElement(n.Fragment,null,n.createElement($n.Z,{style:qg.urlTitle},"PSTN"),n.createElement(vA,{size:11}),n.createElement(qn.Z,{style:qg.container},n.createElement(qn.Z,{style:[qg.urlContainer,qg.urlPadding]},n.createElement(qn.Z,null,n.createElement($n.Z,{style:[qg.url,l?Gg:{opacity:1}]},"Number"," - ",null==a?void 0:a.number," "," | "," ","Pin"," -"," ",null==a?void 0:a.pin))),d(Ng.PSTN)),u&&n.createElement(n.Fragment,null,n.createElement(vA,{size:14}),n.createElement($n.Z,{style:qg.helpText},"Share this phone number and pin to dial from phone."))):n.createElement(n.Fragment,null))},Gg={wordBreak:"break-all"},qg=On.Z.create({root:{flex:1},scrollMain:{flexGrow:1,flexDirection:"row",justifyContent:"center"},heading:{fontSize:Wa.extraLarge,fontWeight:"700",lineHeight:Wa.extraLarge,color:"#FFFFFF",fontFamily:Ka.sansPro,paddingVertical:2},container:{flexDirection:"row"},urlTitle:{color:"#FFFFFF",fontSize:Wa.medium,fontWeight:"600",fontFamily:Ka.sansPro,paddingLeft:8},urlContainer:{flex:.9,backgroundColor:"#181818",borderColor:"#262626",borderWidth:1,borderTopLeftRadius:Ya.medium,borderBottomLeftRadius:Ya.medium,borderTopRightRadius:0,borderBottomRightRadius:0},iconContainer:{flex:.1,minWidth:25,backgroundColor:"#181818",justifyContent:"center",alignItems:"center",borderColor:"#262626",borderLeftWidth:0,borderRightWidth:1,borderTopWidth:1,borderBottomWidth:1,borderTopRightRadius:Ya.medium,borderBottomLeftRadius:0,borderBottomRightRadius:Ya.medium,borderTopLeftRadius:0},url:{color:"#FFFFFF"+za.medium,fontSize:Wa.small,fontWeight:"600",fontFamily:Ka.sansPro},urlPadding:{paddingHorizontal:20,paddingVertical:21},clipboardIcon:{width:17,height:20},btnContainer:{width:"100%",alignItems:"center"},helpText:{color:"#FFFFFF"+za.disabled,fontSize:Wa.small,lineHeight:Wa.small,fontWeight:"400",fontFamily:Ka.sansPro,paddingLeft:8}}),Hg=()=>{const{FpeShareComponent:e}=ke((e=>({}))),{copyShareLinkToClipboard:t}=xg(),{data:{roomId:r,meetingTitle:i}}=be(),o=Eo();return e?n.createElement(e,null):n.createElement(qn.Z,{style:qg.root},n.createElement(hs.Z,{contentContainerStyle:qg.scrollMain},n.createElement(Fg,null,n.createElement(qn.Z,null,n.createElement(Lg,null),n.createElement(vA,{size:20}),n.createElement($n.Z,{style:qg.heading,numberOfLines:1},ii(i)),n.createElement(vA,{size:40}),n.createElement(Qg,null),n.createElement(vA,{size:60})),n.createElement(qn.Z,{style:qg.btnContainer},n.createElement(rs,{iconName:"video-on",onPress:()=>{null!=r&&r.host&&o.push(r.host)},containerStyle:di()&&{width:"100%"},text:"Start Meeting (as host)".toUpperCase()}),n.createElement(vA,{size:16}),n.createElement(jg,{text:"Copy invite to clipboard",onPress:()=>t(Ng.MEETING_INVITE)})))))},zg=le`
  query share($passphrase: String!) {
    share(passphrase: $passphrase) {
      passphrase {
        host
        view
      }
      channel
      title
      pstn {
        number
        dtmf
      }
    }
  }
`,Wg=()=>{const{setShowInvitePopup:e,showInvitePopup:t}=em(),r=mi(),{copyShareLinkToClipboard:i}=xg(),{phrase:o}=bo(),a=function(){const{setMeetingInfo:e}=Pe(),{client:t}=(0,n.useContext)(Kt);return async n=>{const r=await t.query({query:zg,variables:{passphrase:n}});if(r.error)throw r.error;try{if(r&&r.data){var i,o,a,s,c;let t=r.data,n={roomId:{attendee:""}};null!=t&&null!==(i=t.share)&&void 0!==i&&null!==(o=i.passphrase)&&void 0!==o&&o.view&&(n.roomId.attendee=t.share.passphrase.view),null!=t&&null!==(a=t.share)&&void 0!==a&&null!==(s=a.passphrase)&&void 0!==s&&s.host&&(n.roomId.host=t.share.passphrase.host),null!=t&&null!==(c=t.share)&&void 0!==c&&c.pstn&&(n.pstn={number:t.share.pstn.number,pin:t.share.pstn.dtmf}),e((e=>({...e,data:{...e.data,roomId:n.roomId,pstn:null==n?void 0:n.pstn}})))}}catch(e){throw new Error("An error occurred in parsing the channel data.")}}}();return(0,n.useEffect)((()=>{a(o)}),[o]),n.createElement(EA,{modalVisible:t,setModalVisible:e,title:"Invite others to join this meeting",showCloseIcon:!0,containerStyle:{alignItems:r("popup")?"center":"stretch"},contentContainerStyle:Kg.contentContainer},n.createElement(Qg,{showSubLabel:!1}),n.createElement(qn.Z,{style:r("popup")?Kg.btnContainer:Kg.btnContainerMobile},r("popup")?n.createElement(qn.Z,{style:{flex:1}},n.createElement(cA,{text:"CANCEL",textStyle:Kg.btnText,containerStyle:{width:"100%",height:48,paddingVertical:12,paddingHorizontal:12,borderRadius:Ya.medium},onPress:()=>{e(!1)}})):null,r("popup")?n.createElement(vA,{size:10,horizontal:!0}):n.createElement(n.Fragment,null),n.createElement(qn.Z,{style:{flex:1}},n.createElement(rs,{textStyle:Kg.btnText,containerStyle:{minWidth:"auto",width:"100%",borderRadius:Ya.medium,height:48,paddingVertical:12,paddingHorizontal:12},onPress:()=>{i(Ng.MEETING_INVITE)},text:"COPY INVITATION"}))))},Kg=On.Z.create({btnContainer:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",marginTop:48},btnContainerMobile:{flexDirection:"row",justifyContent:"center",marginTop:30},btnText:{fontWeight:"600",fontSize:16},contentContainer:{padding:di()?24:40,minWidth:342}}),Yg=()=>{const{showStopRecordingPopup:e,setShowStopRecordingPopup:t}=em(),{stopRecording:r,isRecordingActive:i}=da(),o=mi()("popup");return n.createElement(EA,{modalVisible:e,setModalVisible:t,showCloseIcon:!1,contentContainerStyle:Jg.contentContainer},n.createElement($n.Z,{style:Jg.heading},"Stop Recording?"),n.createElement(vA,{size:8}),n.createElement($n.Z,{style:Jg.subHeading},"Are you sure you want to stop recording? You cant undo this action."),n.createElement(vA,{size:32}),n.createElement(qn.Z,{style:o?Jg.btnContainer:Jg.btnContainerMobile},n.createElement(qn.Z,{style:o&&{flex:1}},n.createElement(cA,{containerStyle:{minWidth:"auto",width:o?90:"100%",height:48,paddingVertical:12,paddingHorizontal:12,borderRadius:Ya.medium},textStyle:Jg.btnText,text:"CANCEL",onPress:()=>t(!1)})),n.createElement(vA,{size:o?10:20,horizontal:!!o}),n.createElement(qn.Z,{style:o&&{flex:2}},n.createElement(rs,{containerStyle:{minWidth:"auto",width:"100%",borderRadius:Ya.medium,height:48,backgroundColor:"#FF414D",paddingVertical:12,paddingHorizontal:12},textStyle:Jg.btnText,text:"END RECORDING",onPress:()=>{i&&(r&&r(),t(!1))}}))))},Jg=On.Z.create({btnContainer:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center"},btnText:{fontWeight:"600",fontSize:16,lineHeight:24},btnContainerMobile:{flexDirection:"column-reverse"},contentContainer:{padding:24,maxWidth:342},heading:{fontFamily:Ka.sansPro,fontWeight:"600",fontSize:22,color:"#FF414D"},subHeading:{fontFamily:Ka.sansPro,fontWeight:"400",fontSize:Wa.small,color:"#FFFFFF"}}),Zg=(0,n.createContext)({selectedCam:"",selectedMic:"",selectedSpeaker:"",deviceList:[],setSelectedCam:async()=>{},setSelectedMic:async()=>{},setSelectedSpeaker:async()=>{},setDeviceList:()=>{}}),Xg=n.createContext({showInvitePopup:!1,setShowInvitePopup:()=>{},showStopRecordingPopup:!1,setShowStopRecordingPopup:()=>{},showLayoutOption:!1,setShowLayoutOption:()=>{}}),$g=e=>{const[t,r]=(0,n.useState)(!1),[i,o]=(0,n.useState)(!1),[a,s]=(0,n.useState)(!1),{join:c}=(0,n.useContext)(Ce),u=be(),{deviceList:l}=(0,n.useContext)(Zg);return(0,n.useEffect)((()=>{c.initialized&&c.phrase&&c.promise.res(u.data),xe.emit("join",u.data.meetingTitle,l,u.data.isHost)}),[]),n.createElement(Xg.Provider,{value:{showInvitePopup:i,setShowInvitePopup:o,showStopRecordingPopup:a,setShowStopRecordingPopup:s,showLayoutOption:t,setShowLayoutOption:r}},n.createElement(Yg,null),n.createElement(Wg,null),e.children)},em=he(Xg),tm=e=>{const{showLabel:t=!1,showTeritaryButton:r=!1,isOnActionSheet:i=!1}=e,{setShowInvitePopup:o}=em(),a=()=>{o(!0)};let s={onPress:a,iconProps:{name:"share",tintColor:"#FFFFFF"},btnTextProps:{textColor:"#FFFFFF",text:t?"Invite":""}};return s.isOnActionSheet=i,null!=e&&e.render?e.render(a):n.createElement(n.Fragment,null,r?n.createElement(cA,{text:"Invite",onPress:a}):n.createElement(uf,s))};function nm(){return nm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nm.apply(this,arguments)}const rm=On.Z.create({dropdownContainer:{width:140,position:"absolute",backgroundColor:"#333333",borderRadius:8,zIndex:999,shadowColor:"#000000",shadowOffset:{width:0,height:-4},shadowOpacity:.1,shadowRadius:8,elevation:1},backDrop:{position:"absolute",top:0,bottom:0,left:0,right:0}}),im=e=>{const{showDropdown:t,setShowDropdown:r,modalPosition:i={top:0,left:0},onHoverPlaceHolder:o="horizontal"}=e,{activeUids:a}=Na(),s=Uf(),{setLayout:c,currentLayout:u}=Di(),l=di();return n.createElement(n.Fragment,null,(()=>{const d=s.map(((e,t)=>{let i=[];const o=e.name===Vf()&&1===(null==a?void 0:a.length);let d={disabled:o,hoverEffect:!o&&u!==e.name,hoverEffectStyle:{backgroundColor:"#808080"+Va},containerStyle:{opacity:o?.4:1,flexDirection:"row",marginHorizontal:8,marginTop:8,marginBottom:s.length-1===t?8:0,borderRadius:4,backgroundColor:u===e.name?"#099DFD":"transparent"},onPress:()=>{c(e.name),r(!1)},iconProps:{iconContainerStyle:{padding:10},iconType:"plain",name:"pinned"===e.iconName&&l?"list-view":e.iconName,tintColor:"#FFFFFF"},btnTextProps:{textStyle:{marginTop:0},text:e.label,textColor:"#FFFFFF"}};return i.push(n.createElement(uf,nm({key:"layout_button"+e.name},d))),i}));let h=n.createElement(qn.Z,{style:[rm.dropdownContainer,i]},n.createElement(qn.Z,{style:[{width:20,height:20,backgroundColor:"#333333",position:"absolute",borderRadius:2,transform:[{rotate:"45deg"}],zIndex:-1},null==e?void 0:e.caretPosition]}),!di()&&n.createElement(qn.Z,{style:[{zIndex:-2,position:"absolute"},"vertical"===o?{width:20,height:"100%",bottom:0,right:-20}:{width:"100%",height:20,bottom:-20}]}),n.createElement(qn.Z,{style:{flex:1,flexDirection:"column",justifyContent:"space-between"}},d));return Cn()?n.createElement(Wf.Z,{animationType:"none",transparent:!0,visible:t,onRequestClose:()=>{r(!1)}},n.createElement(Kf.Z,{onPress:()=>{r(!1)}},n.createElement(qn.Z,{style:rm.backDrop})),h):t?h:n.createElement(n.Fragment,null)})())};function om(){return om=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},om.apply(this,arguments)}const am=({children:e,...t})=>Cn()?e:n.createElement("div",{onMouseEnter:()=>{null==t||t.setIsHovered(!0)},onMouseLeave:()=>{null==t||t.setIsHovered(!1)}},e),sm=({children:e,...t})=>Cn()?e:n.createElement("div",{onMouseEnter:()=>{null==t||t.setIsHovered(!0)},onMouseLeave:()=>{null==t||t.setIsHovered(!1)}},e),cm=e=>{const{activeUids:t}=Na(),{height:r}=(0,ri.Z)(),[i,o]=(0,n.useState)(null),a=(0,n.useRef)(),[s,c]=(0,n.useState)(!1),[u,l]=(0,n.useState)(!1),d=di(),{showLabel:h=!1}=e,p=e=>{var t;a&&a.current&&(null==a||null===(t=a.current)||void 0===t||t.measure(((t,n,i,a,s,u)=>{o({bottom:Cn()?r-u+10:r-u-10,left:Cn()?s-10:-10}),c(e)})))},f=Uf(),A=qf(),{currentLayout:g,setLayout:m}=Di(),v=f.findIndex((e=>e.name===g)),y=r=>{var i,o;let c=()=>{},u=[];c=r?()=>{di()&&p(!s)}:()=>{A()};let l={onPress:c,btnTextProps:{text:h?"Layout":"",textColor:"#FFFFFF"}};const g="pinned"===(null===(i=f[v])||void 0===i?void 0:i.iconName)&&d?"list-view":null===(o=f[v])||void 0===o?void 0:o.iconName;return u.push(null!=e&&e.render?e.render(c):n.createElement(am,{key:"layout-icon-btn",setIsHovered:p},n.createElement(uf,om({disabled:!t||0===t.length,containerStyle:{opacity:t&&0!==t.length?1:.6},setRef:e=>{a.current=e},key:"defaultLayoutIconWithName",iconProps:{name:g,tintColor:"#FFFFFF"}},l)))),u};return n.createElement(n.Fragment,null,t&&t.length?n.createElement(sm,{setIsHovered:Cn()?p:e=>{e||di()?l(e):setTimeout((()=>{s||l(e)}),100)}},n.createElement(im,{caretPosition:{bottom:Cn()?-8:-10,left:(Cn(),26)},modalPosition:i,showDropdown:Cn()?s:s||u,setShowDropdown:Cn()?p:l})):n.createElement(n.Fragment,null),f&&Array.isArray(f)&&f.length>1?y(!0):y(!1))},um=()=>{const{onlineUsersCount:e}=(0,n.useContext)(Yr),{audienceUids:t,hostUids:r}=mA(),{attendeeUids:i,hostUids:o}=zA();return n.createElement(uf,{placement:"right",isClickable:!!di(),toolTipMessage:"",containerStyle:lm.participantCountView,disabled:!0,iconProps:{name:"people",iconType:"plain",iconSize:20,tintColor:"#FFFFFF"+Ba},btnTextProps:{text:oA(e),textColor:"#FFFFFF"+Ba,textStyle:{fontWeight:"600",fontSize:12,lineHeight:12,marginTop:0,marginLeft:4}}})},lm=On.Z.create({participantCountView:{flexDirection:"row",padding:12,paddingVertical:di?5:12,backgroundColor:"#242529",borderRadius:25,borderWidth:1,borderColor:"#2D2D2D",shadowColor:"#000000",shadowOffset:{width:0,height:4},shadowOpacity:.1,shadowRadius:20}}),dm=({recordingLabel:e=""})=>n.createElement(qn.Z,{style:[hm.recordingView]},n.createElement(qn.Z,{style:[hm.recordingStatus]}),n.createElement($n.Z,{style:hm.recordingText},e)),hm=On.Z.create({recordingView:{padding:12,paddingVertical:di()?5:12,flexDirection:"row",alignItems:"center",alignContent:"center",justifyContent:"center",borderRadius:24,backgroundColor:"#242529",marginLeft:8,borderWidth:1,borderColor:"#2D2D2D",shadowColor:"#000000",shadowOffset:{width:0,height:4},shadowOpacity:.1,shadowRadius:20},recordingText:{fontSize:12,lineHeight:12,fontWeight:"600",fontFamily:"Source Sans Pro",color:"#FFFFFF"+Ba},recordingStatus:{width:12,height:12,borderRadius:6,backgroundColor:"#FF414D",marginRight:8}}),pm=e=>{const{liveStreamingRequestAlertIconPosition:t={top:0,right:0,left:void 0,bottom:void 0},isOnActionSheet:r=!1}=e,{sidePanel:i,setSidePanel:o}=ba(),{isPendingRequestToReview:a,setLastCheckedRequestTimestamp:s}=(0,n.useContext)(fA),{onlineUsersCount:c}=(0,n.useContext)(Yr),u=i===va.Participants,l=()=>{o(u?va.None:va.Participants)};let d={onPress:l,iconProps:{name:"participants",tintColor:"#FFFFFF",iconBackgroundColor:u?"#099DFD":""},btnTextProps:{text:"",textColor:"#FFFFFF"}};return d.isOnActionSheet=r,null!=e&&e.render?e.render(l,u):n.createElement(n.Fragment,null,n.createElement(qn.Z,null,n.createElement(uf,d)),!1)},fm=e=>{const{sidePanel:t,setSidePanel:r}=ba(),{badgeContainerPosition:i={top:0,right:0,left:void 0,bottom:void 0,zIndex:999},badgeTextStyle:o={color:"#FFFFFF",fontSize:12,textAlign:"center"},isOnActionSheet:a=!1}=e,{setUnreadGroupMessageCount:s,totalUnreadCount:c}=ma(),{setGroupActive:u,setPrivateActive:l,setSelectedChatUserId:d}=fa(),h=t===va.Chat,p=()=>{h?(r(va.None),u(!1),l(!1),d(0)):(u(!0),r(va.Chat))};let f={onPress:p,iconProps:{name:"chat-nav",tintColor:"#FFFFFF",iconBackgroundColor:h?"#099DFD":""},btnTextProps:{text:"",textColor:"#FFFFFF"}};return f.isOnActionSheet=a,null!=e&&e.render?e.render(p,h,c):n.createElement(n.Fragment,null,n.createElement(qn.Z,null,n.createElement(uf,f),0!==c&&n.createElement(qn.Z,{style:{position:"absolute",top:null==i?void 0:i.top,bottom:null==i?void 0:i.bottom,left:null==i?void 0:i.left,right:null==i?void 0:i.right,borderRadius:10,width:12,height:12,backgroundColor:"#FF414D"}})))},Am=e=>n.createElement(Sg,e),gm=[tm,({isMobileView:e=!1})=>{const{onlineUsersCount:t}=(0,n.useContext)(Yr);return e?n.createElement($n.Z,null,"People ","\n"," (",oA(t),")"):n.createElement(n.Fragment,null,0!==t&&n.createElement(qn.Z,{style:[{justifyContent:"center"}]},n.createElement(qn.Z,{style:mm.chip},t>0&&n.createElement($n.Z,{style:mm.chipText},oA(t)))))},pm,fm,cm,e=>n.createElement(wg,e)],mm=On.Z.create({participantCountView:{flexDirection:"row",padding:12,backgroundColor:"#242529",borderRadius:25,borderWidth:1,borderColor:"#2D2D2D",shadowColor:"#000000",shadowOffset:{width:0,height:4},shadowOpacity:.1,shadowRadius:20},countContainer:{flexDirection:"row"},navHolder:{backgroundColor:"#111111",width:"100%",paddingTop:8,paddingBottom:10,flexDirection:"row",alignItems:"center",justifyContent:"space-between"},navHolderNative:{position:"relative",width:"100%",height:"8%",backgroundColor:"#FFFFFF"+xa,flexDirection:"row",alignItems:"center",paddingHorizontal:10,justifyContent:"space-between"},btnHolder:{marginHorizontal:Cn()?2:0,width:"100%",height:"100%",resizeMode:"contain"},btnHolderCustom:{width:"100%",height:"100%",resizeMode:"contain"},roomNameContainer:{zIndex:10,flex:1,flexDirection:"row",alignItems:"center"},titleContainer:{flexDirection:"row"},roomNameText:{alignSelf:"center",fontSize:Wa.normal,color:"#FFFFFF",fontWeight:"600",fontFamily:Ka.sansPro},chip:{backgroundColor:"#099DFD",borderRadius:2.5,paddingHorizontal:5,marginLeft:5,marginRight:0,paddingVertical:1,display:"flex",alignItems:"center",justifyContent:"center"},chipText:{fontFamily:ui()?"Helvetica":"sans-serif",fontSize:12,color:"#FFFFFF"},navControlBar:{width:"50%",flexDirection:"row",justifyContent:"flex-end",zIndex:9},navSmItem:{flexGrow:0,flexShrink:0,flexBasis:"15%"},dropdownIconContainer:{flex:1,paddingHorizontal:5},separaterContainer:{flex:.5,paddingHorizontal:5},dropdownContainer:{position:"absolute",marginTop:5,width:40,height:90,backgroundColor:"white",borderRadius:10,paddingVertical:10}}),vm=()=>{const e=mi(),{audienceUids:t,hostUids:r}=mA(),{data:{meetingTitle:i}}=be(),{isRecordingActive:o}=da(),{onlineUsersCount:a}=(0,n.useContext)(Yr),{width:s}=(0,ri.Z)();return n.createElement(qn.Z,{testID:"videocall-topbar",style:[ai()?mm.navHolder:mm.navHolderNative,{paddingHorizontal:e("toolbar")?32:10,zIndex:999}]},n.createElement(qn.Z,{style:mm.titleContainer},n.createElement($n.Z,{style:mm.roomNameText,testID:"videocall-meetingName",numberOfLines:1,ellipsizeMode:"tail"},ii(i)),n.createElement(vA,{size:8,horizontal:!0}),n.createElement(qn.Z,{style:mm.countContainer},n.createElement(um,null),o?n.createElement(dm,{recordingLabel:"Recording"}):n.createElement(n.Fragment,null))),s>fi||di()?n.createElement(qn.Z,{style:mm.navControlBar,testID:"videocall-navcontrols"},n.createElement(qn.Z,{testID:"videocall-participantsicon",style:{marginRight:10}},n.createElement(pm,null)),n.createElement(n.Fragment,null,n.createElement(qn.Z,{testID:"videocall-chaticon",style:{marginHorizontal:10}},n.createElement(fm,null))),n.createElement(qn.Z,{testID:"videocall-settingsicon",style:{marginLeft:10}},n.createElement(Am,null))):n.createElement(n.Fragment,null))};var ym=__webpack_require__(8744);const Em=({children:e,onPress:t})=>{const[r,i]=n.useState(!1);return ai()?n.createElement("div",{style:{backgroundColor:r?"#808080"+ja:"transparent",cursor:r?"pointer":"auto"},onMouseEnter:()=>{i(!0)},onMouseLeave:()=>{i(!1)},onClick:e=>{e.preventDefault(),t&&t()}},e):n.createElement(Zn.Z,{onPress:t},e)},bm=On.Z.create({dropdownOptionContainer:{flex:1,flexDirection:"row",minHeight:60,backgroundColor:"#181818",borderTopWidth:1,borderBottomWidth:1,borderRightWidth:1,borderLeftWidth:1,borderColor:"#262626",borderRadius:Ya.medium,paddingLeft:20,paddingRight:20,justifyContent:"space-between"},dropdownOptionTextContainer:{alignSelf:"center",flex:1},dropdownOptionText:{textAlign:"left",fontFamily:Ka.sansPro,fontWeight:"400",fontSize:Wa.normal,color:"#FFFFFF",paddingLeft:8,paddingVertical:20},dropdownIconContainer:{alignSelf:"center"},dropdown:{position:"absolute",backgroundColor:"#181818",borderBottomColor:"#262626",borderLeftColor:"#262626",borderRightColor:"#262626",borderTopColor:"#099DFD",borderBottomLeftRadius:Ya.medium,borderBottomRightRadius:Ya.medium,borderBottomWidth:1,borderLeftWidth:1,borderRightWidth:1,borderTopWidth:2,shadowColor:"#000000",shadowOffset:{width:0,height:4},shadowOpacity:.1,shadowRadius:4,elevation:5,overflow:"hidden"},overlay:{width:"100%",height:"100%"},itemContainer:{minHeight:40,flex:1,flexDirection:"row"},itemTextContainer:{flex:.8,justifyContent:"center",alignSelf:"center"},itemText:{fontFamily:Ka.sansPro,fontWeight:"400",fontSize:Wa.normal,color:"#FFFFFF",paddingVertical:12,paddingHorizontal:15},itemTextSelected:{color:"#099DFD"},itemTextSelectedContainer:{flex:.2,justifyContent:"center",alignItems:"center"}}),_m=({label:e,data:t,onSelect:r,enabled:i,selectedValue:o,icon:a})=>{const s=(0,n.useRef)(),[c,u]=(0,n.useState)(!1),[l,d]=(0,n.useState)({top:0,left:0,width:0}),[h,p]=n.useState(!1),f=(0,n.useMemo)((()=>t.find((e=>e.value===o))),[o,t]);(0,n.useEffect)((()=>{ai()&&window.addEventListener("resize",(()=>{u(!1)}))}),[]);const A=!t||!t.length;return n.createElement(Zn.Z,{disabled:!i||!t||!t.length,ref:s,style:[bm.dropdownOptionContainer,i&&t&&t.length?{}:{opacity:Ha.disabled},c?{borderBottomLeftRadius:0,borderBottomRightRadius:0,borderBottomColor:"transparent"}:{}],onPress:()=>{var e;c?u(!1):(null==s||null===(e=s.current)||void 0===e||e.measure(((e,t,n,r,i,o)=>{d({top:o+r,left:i,width:n})})),u(!0))}},i&&!A?n.createElement(Wf.Z,{visible:c,transparent:!0,animationType:"none"},n.createElement(Zn.Z,{style:bm.overlay,onPress:()=>u(!1)},n.createElement(qn.Z,{style:[bm.dropdown,{top:l.top,left:l.left,width:l.width}]},n.createElement(ym.Z,{showsVerticalScrollIndicator:!1,data:t,renderItem:({item:e})=>n.createElement(Em,{onPress:()=>(e=>{r(e),u(!1)})(e)},n.createElement(qn.Z,{style:bm.itemContainer},n.createElement(qn.Z,{style:bm.itemTextContainer},n.createElement($n.Z,{numberOfLines:1,style:[bm.itemText,f&&(null==e?void 0:e.value)===(null==f?void 0:f.value)?bm.itemTextSelected:{}]},e.label)),f&&(null==e?void 0:e.value)===(null==f?void 0:f.value)?n.createElement(qn.Z,{style:bm.itemTextSelectedContainer},n.createElement(es,{iconType:"plain",name:"tick",iconSize:12,tintColor:"#099DFD"})):n.createElement(n.Fragment,null))),keyExtractor:(e,t)=>t.toString()})))):n.createElement(n.Fragment,null),n.createElement(qn.Z,{style:{flex:1,justifyContent:"flex-start",flexDirection:"row"}},a?n.createElement(qn.Z,{style:bm.dropdownIconContainer},n.createElement(es,{iconType:"plain",name:a,iconSize:20,tintColor:"#808080"})):n.createElement(n.Fragment,null),n.createElement(qn.Z,{style:[bm.dropdownOptionTextContainer]},n.createElement($n.Z,{numberOfLines:1,style:bm.dropdownOptionText},f&&f.label||e))),n.createElement(qn.Z,{style:bm.dropdownIconContainer},n.createElement(es,{iconType:"plain",name:c?"arrow-up":"arrow-down",tintColor:"#FFFFFF"})))},Cm=(0,n.createContext)({callActive:!1,setCallActive:()=>{},isCameraAvailable:!1,isMicAvailable:!1,isSpeakerAvailable:!1,setCameraAvailable:()=>{},setMicAvailable:()=>{},setSpeakerAvailable:()=>{},isPermissionRequested:!1,setIsPermissionRequested:()=>{}}),Im=e=>{const{join:t}=(0,n.useContext)(Ce),r=be(),{deviceList:i}=(0,n.useContext)(Zg);return(0,n.useEffect)((()=>{var n;t.phrase&&(null==t||null===(n=t.promise)||void 0===n||n.res([r.data,()=>{e.value.setCallActive(!0)}])),xe.emit("ready-to-join",r.data.meetingTitle,i)}),[]),n.createElement(Cm.Provider,{value:{...e.value}},e.children)},Sm=he(Cm),wm=async(e,t)=>{const n=setTimeout((()=>{t(!0)}),200);await e(),clearTimeout(n),t(!1)},Rm=e=>{const{label:t,deviceId:n}=e;return"default"===n?t.includes("Default")?t:"Default - "+t:t},Tm=()=>{const{rtcProps:e}=(0,n.useContext)(ln),{primaryColor:t}=(0,n.useContext)(ug),[r,i]=n.useState(t),[o,a]=n.useState(!1);return n.useEffect((()=>{a(!1),i(t)}),[null==e?void 0:e.role]),[o,r]},Om=e=>{const{selectedCam:t,setSelectedCam:r,deviceList:i}=(0,n.useContext)(Zg),[o,a]=Tm(),[s,c]=n.useState(!1),[u,l]=(0,n.useState)(o),d=(0,n.useContext)(tr),h=(0,n.useMemo)((()=>{var e;return null===(e=i.filter((e=>{if("videoinput"===e.kind)return!0})))||void 0===e?void 0:e.map((e=>{if("videoinput"===e.kind)return{label:e.label,value:e.deviceId}}))}),[i]);(0,n.useEffect)((()=>{const e=Boolean(h.find((e=>e.value===t)));u?e&&l(!1):!e&&(null==h?void 0:h.length)&&l(!0)}),[t,h]);const p=d.permissionStatus===nn.GRANTED_FOR_CAM_AND_MIC||d.permissionStatus===nn.GRANTED_FOR_CAM_ONLY;return null!=e&&e.render?e.render(t,r,i,o):n.createElement(n.Fragment,null,n.createElement($n.Z,{style:Dm.label},"Camera"),n.createElement(_m,{icon:u&&p?"connection-loading":null!=e&&e.isIconDropdown?"video-on":void 0,enabled:!o,label:p&&h&&h.length?u?"Updating":"No Camera Selected":"No Camera Detected",data:p?h:[],onSelect:({label:e,value:t})=>{c(!0);try{wm((async()=>await r(t)),l)}catch(e){l(!1)}},selectedValue:t}))},km=e=>{const{selectedMic:t,setSelectedMic:r,deviceList:i}=(0,n.useContext)(Zg),[o,a]=Tm(),[s,c]=(0,n.useState)(!1),u=(0,n.useContext)(tr),[l,d]=(0,n.useState)(o),h=(0,n.useMemo)((()=>{var e;return null===(e=i.filter((e=>{if("audioinput"===e.kind)return!0})))||void 0===e?void 0:e.map((e=>{if("audioinput"===e.kind)return{label:Rm(e),value:e.deviceId}}))}),[i]);(0,n.useEffect)((()=>{const e=Boolean(h.find((e=>e.value===t)));l?e&&d(!1):!e&&(null==h?void 0:h.length)&&d(!0)}),[t,h]);const p=u.permissionStatus===nn.GRANTED_FOR_CAM_AND_MIC||u.permissionStatus===nn.GRANTED_FOR_MIC_ONLY;return null!=e&&e.render?e.render(t,r,i,o):n.createElement(qn.Z,null,n.createElement($n.Z,{style:Dm.label},"Microphone"),n.createElement(_m,{icon:l&&p?"connection-loading":null!=e&&e.isIconDropdown?"mic-on":void 0,enabled:!o&&!l,selectedValue:t,label:p&&h&&h.length?l?"Updating":"No Microphone Selected":"No Microphone Detected",data:p?h:[],onSelect:({label:e,value:t})=>{c(!0);try{wm((async()=>await r(t)),d)}catch(e){d(!1)}}}))},Nm=e=>{const{selectedSpeaker:t,setSelectedSpeaker:r,deviceList:i}=(0,n.useContext)(Zg),o=(0,n.useContext)(tr),[a,s]=Tm(),[c,u]=n.useState(!1),[l,d]=(0,n.useState)(a),h=(e=>{let t="";for(let e=0;e<64;e++){const e=Math.floor(10*Math.random());t+=String.fromCharCode(97+e)}return t})().toUpperCase(),p=(0,n.useMemo)((()=>{var e;return null===(e=i.filter((e=>{if("audiooutput"===e.kind)return!0})))||void 0===e?void 0:e.map((e=>{if("audiooutput"===e.kind)return{label:Rm(e),value:e.deviceId}}))}),[i]);return(0,n.useEffect)((()=>{const e=Boolean(p.find((e=>e.value===t)));l?e&&d(!1):!e&&(null==p?void 0:p.length)&&d(!0)}),[t,p]),null!=e&&e.render?e.render(t,r,i,a):n.createElement(qn.Z,null,n.createElement($n.Z,{style:Dm.label},"Speaker"),o.permissionStatus!==nn.GRANTED_FOR_CAM_AND_MIC&&o.permissionStatus!==nn.GRANTED_FOR_MIC_ONLY||p&&0!==p.length?n.createElement(_m,{icon:l?"connection-loading":null!=e&&e.isIconDropdown?"speaker":void 0,enabled:p&&p.length&&!l,selectedValue:t,label:p&&p.length?l?"Updating":"":"No Speaker Detected",data:p,onSelect:({label:e,value:t})=>{u(!0),r(t)}}):n.createElement(_m,{icon:null!=e&&e.isIconDropdown?"speaker":void 0,enabled:!a,selectedValue:h,label:"",data:[{value:h,label:"System Default Speaker Device"}],onSelect:({label:e,value:t})=>{u(!0);try{wm((async()=>await r(t)),d)}catch(e){d(!1)}}}))},Dm=On.Z.create({popupPicker:{borderRadius:12,paddingHorizontal:15,paddingVertical:20,fontSize:14,fontFamily:"Source Sans Pro"},pickerItem:{paddingLeft:12,paddingVertical:24,marginHorizontal:8,marginVertical:20,backgroundColor:"#FFFFFF"},infoTxtContainer:{backgroundColor:"#333333",borderRadius:4},infoTxt:{textAlign:"left",fontSize:16,color:"#FFFFFF",fontFamily:"Source Sans Pro",fontWeight:"400",padding:12},label:{fontWeight:"400",fontSize:Wa.small,color:"#FFFFFF",fontFamily:Ka.sansPro,marginBottom:12}}),Pm=e=>{const[t]=Tm(),{deviceList:r}=(0,n.useContext)(Zg),{setCameraAvailable:i,setMicAvailable:o,setSpeakerAvailable:a}=Sm(),[s,c,u]=(0,n.useMemo)((()=>r.reduce(((e,t)=>{const[n,r,i]=e;return"audioinput"===t.kind?n.push(t):"videoinput"===t.kind?r.push(t):"audiooutput"===t.kind&&i.push(t),[n,r,i]}),[[],[],[]])),[r]);return(0,n.useEffect)((()=>{s&&s.length&&o(!0)}),[s]),(0,n.useEffect)((()=>{c&&c.length&&i(!0)}),[c]),(0,n.useEffect)((()=>{u&&u.length&&a(!0)}),[u]),n.createElement(n.Fragment,null,n.createElement(n.Fragment,null,!1,n.createElement(vA,{size:24}),n.createElement(n.Fragment,null,n.createElement(Om,e),n.createElement(vA,{size:24})),n.createElement(km,e),n.createElement(vA,{size:24}),n.createElement(Nm,e),n.createElement(vA,{size:24})))};var xm=__webpack_require__(6250);const Lm=On.Z.create({heading:{fontSize:20,fontWeight:"700",color:"#FFFFFF",alignSelf:"center"},popupPicker:{height:30,marginBottom:10,borderRadius:50,paddingHorizontal:15,fontSize:15,minHeight:35}}),Mm=()=>{const{primaryColor:e}=(0,n.useContext)(ug),{languageCode:t,setLanguageCode:r}=ur(),i=ke((e=>null==e?void 0:e.i18n));return i&&i.length?1===i.length&&i[0].locale===ar.locale?n.createElement(n.Fragment,null):n.createElement(n.Fragment,null,n.createElement($n.Z,{style:Lm.heading},"Language"),n.createElement(xm.Z,{selectedValue:t,style:[{borderColor:e},Lm.popupPicker],onValueChange:e=>r(e)},i.map((e=>n.createElement(xm.Z.Item,{label:e.label||e.locale,value:e.locale,key:e.locale}))),i.filter((e=>e.locale===ar.locale)).length?null:n.createElement(xm.Z.Item,{label:ar.label||ar.locale,value:ar.locale,key:ar.locale}))):n.createElement(n.Fragment,null)},Bm=e=>{const[t,r]=(0,n.useState)(!1),i=$r(),[o,a]=(0,n.useState)(i),[s,c]=(0,n.useState)(!0),[u,l]=(0,n.useState)(!o||0===o.length||""==o.trim()||o===i),d=Ta();(0,n.useEffect)((()=>{l(!o||0===o.length||""==o.trim()||o===i)}),[o]);const h=(0,n.useRef)(null),p=()=>{{const e=null==o?void 0:o.trim();e?(d(e),a(e)):a(i),r(!0),setTimeout((()=>{r(!1)}),2e3),c(!1)}},{currentFocus:f,setFocus:A}=TA();return(0,n.useEffect)((()=>{f.editName&&(c(!0),setTimeout((()=>{h.current.focus(),A((e=>({...e,editName:!1})))}),500))}),[null==f?void 0:f.editName]),n.createElement(n.Fragment,null,n.createElement($n.Z,{style:Fm.yournameText},"Your name"),n.createElement(vA,{size:12}),n.createElement(qn.Z,{style:Fm.container},n.createElement(qn.Z,{style:Fm.nameContainer},n.createElement(es,{name:"person",iconSize:20,iconType:"plain",tintColor:"#808080"}),n.createElement(cs.Z,{maxLength:60,ref:h,style:[Fm.inputStyle,{}],onBlur:p,placeholder:i,value:o,editable:!0,onChangeText:e=>a(e),onSubmitEditing:p,placeholderTextColor:"#FFFFFF"+za.disabled}))))},Fm=On.Z.create({container:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",borderWidth:1,borderColor:"#262626",backgroundColor:"#181818",borderRadius:8,paddingLeft:20,overflow:"hidden"},editBtn:{paddingHorizontal:24,paddingVertical:20,borderLeftWidth:1,borderLeftColor:"#262626"},nameContainer:{flexDirection:"row",flex:1,alignItems:"center"},inputStyle:{color:"#FFFFFF",fontWeight:"600",fontFamily:Ka.sansPro,fontSize:Wa.medium,width:"100%",paddingHorizontal:8,paddingVertical:18,borderWidth:0,..._n.Z.select({web:{outlineStyle:"none"}})},editBtnText:{fontFamily:Ka.sansPro,fontSize:Wa.normal,fontWeight:"600",color:"#FFFFFF"},yournameText:{fontFamily:Ka.sansPro,fontWeight:"400",fontSize:Wa.small,color:"#FFFFFF"}}),Um=On.Z.create({contentContainer:{padding:20}}),jm=e=>{const{hideName:t=!1,showHeader:r=!0}=e,i=vi(),{setSidePanel:o}=ba(),{currentLayout:a}=Di();return n.createElement(qn.Z,{style:[di()?XA.sidePanelContainerNative:i()?XA.sidePanelContainerWebMinimzed:XA.sidePanelContainerWeb,ai()&&!i()&&a===Qf()?{marginVertical:4}:{}]},r&&n.createElement(tg,e),n.createElement(hs.Z,{style:Um.contentContainer},t?n.createElement(n.Fragment,null):n.createElement(Bm,null),ai()&&n.createElement(Pm,{isIconDropdown:!0}),n.createElement(Mm,null)))},Vm=function(e){const{callbacks:t}=(0,n.useContext)(ln),{RtcEngine:r}=ka(),i=Oi(),{showLabel:o=!1,disabled:a=!1}=e,s=()=>{r.switchCamera(),(null==t?void 0:t.SwitchCamera)&&t.SwitchCamera()},c=i.video===tn.enabled;let u={iconProps:{name:"switch-camera",tintColor:c||!a?"#FFFFFF":"#808080"},disabled:!(c&&!a),onPress:s};return null!=e&&e.render?e.render(s,c):n.createElement(uf,u)},Qm=e=>{const{rtcProps:t}=(0,n.useContext)(ln),{data:{isHost:r}}=be(),{isScreenshareActive:i,startUserScreenshare:o,stopUserScreenShare:a}=(Oi(),FA(),hf()),s=()=>i?a():o();let c={iconProps:{name:i?"stop-screen-share":"screen-share",tintColor:i?"#FF414D":"#FFFFFF"},onPress:s,btnTextProps:{text:"",textColor:"#FFFFFF"}};return t.role,$t.Audience,t.role,$t.Audience,null!=e&&e.render?e.render(s,i):n.createElement(uf,c)},Gm=()=>({enableIDPAuth:()=>{sg.Z.openURL(`https://managedservices-staging.rteappbuilder.com/v1/idp/login?project_id=175cf8bc4cb6944eef5e&redirect_url=${ai()?`${window.location.origin}/authorize`:"/authorize"}&origin_url=${ai()?`${window.location.origin}`:""}&platform_id=${(()=>{let e="turnkey_web";return ai()&&(e="turnkey_web"),(ci()||ui())&&(e="turnkey_native"),ai()&&(e="sdk_web"),ci()&&(e="sdk_android"),ui()&&(e="sdk_ios"),e})()}`)},idpLogout:()=>new Promise(((e,t)=>{try{fetch("https://managedservices-staging.rteappbuilder.com/v1/logout",{credentials:"include"}).then((e=>e.text())).then((t=>{e(!0)})).catch((e=>{t(!1)}))}catch(e){t(!1)}}))});var qm=__webpack_require__(9672);const Hm=On.Z.create({overlay:{position:"absolute",top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",justifyContent:"center",zIndex:2,backgroundColor:"rgba(0,0,0,0.9)",borderRadius:15},loadingText:{alignSelf:"center",fontSize:18,color:"#FFFFFF",marginBottom:10}}),zm=e=>{const{text:t}=e;return n.createElement(qn.Z,{style:Hm.overlay},n.createElement($n.Z,{style:Hm.loadingText},t),n.createElement(qm.Z,{size:"large",color:"#FFFFFF"}))};function Wm(e){this.message=e}Wm.prototype=new Error,Wm.prototype.name="InvalidCharacterError";var Km="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new Wm("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,i=0,o=0,a="";r=t.charAt(o++);~r&&(n=i%4?64*n+r:r,i++%4)?a+=String.fromCharCode(255&n>>(-2*i&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return a};function Ym(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(Km(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return Km(t)}}function Jm(e){this.message=e}Jm.prototype=new Error,Jm.prototype.name="InvalidTokenError";const Zm=function(e,t){if("string"!=typeof e)throw new Jm("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(Ym(e.split(".")[n]))}catch(e){throw new Jm("Invalid token specified: "+e.message)}},Xm=le`
  query getUser {
    getUser {
      name
      email
    }
  }
`,$m=(0,n.createContext)(null),ev=e=>{const[t,r]=(0,n.useState)(!1),[i,o]=(0,n.useState)(null),[a,s]=(0,n.useState)(!0),{enableIDPAuth:c,idpLogout:u}=Gm(),{enableTokenAuth:l,tokenLogout:d}=(()=>{const{setStore:e}=(0,n.useContext)(ze),[t,r]=n.useState(null),[i,o]=n.useState(0),a=(Eo(),t=>{e&&e((e=>({...e,token:t}))),Ve.setItem("SDK_TOKEN",t),r(t)});return(0,n.useEffect)((()=>{if(!i)return;const e=setInterval((()=>{const n=Math.floor(Math.abs(i-Date.now())/1e3);if(console.log("debugging minutesLeft",n/60),n<59)try{console.log("debugging emit will-token-expire called"),xe.emit("will-token-expire"),(async()=>{await fetch("https://managedservices-staging.rteappbuilder.com/v1/token/refresh",{method:"POST",headers:{"Content-Type":"application/json",authorization:t?`Bearer ${t}`:""}}).then((e=>e.json())).then((e=>{e.token&&a(e.token)}))})(),clearInterval(e)}catch(t){clearInterval(e)}n<0&&clearInterval(e)}),1e3);return()=>{clearInterval(e)}}),[i]),(0,n.useEffect)((()=>{(async()=>{if(!t)return;const e=Zm(t),n=1e3*(null==e?void 0:e.exp);if(Date.now()>=n)throw console.log("debugging emit did-token-expire called"),xe.emit("did-token-expire"),"Token expired. Pass a new token";o(n)})()}),[t]),{enableTokenAuth:async e=>new Promise((async(t,n)=>{let r="";try{if(r=e||await Ve.getItem("SDK_TOKEN"),!r)throw console.log("debugging emit token-not-found called"),xe.emit("token-not-found"),new Error("Token not found");if(!(e=>{if(!e||""===e.trim())throw console.log("debugging emit token-not-found called"),xe.emit("token-not-found"),"Token is missing in the options";{const t=Zm(e),n=1e3*(null==t?void 0:t.exp);if(Date.now()>=n)throw console.log("debugging emit did-token-expire called"),xe.emit("did-token-expire"),"Token expired. Pass a new token"}return!0})(r))throw console.log("debugging emit did-token-expire called"),xe.emit("did-token-expire"),new Error("Token expired");a(r),t(!0)}catch(e){n(e)}})),tokenLogout:()=>new Promise(((e,n)=>{try{fetch("https://managedservices-staging.rteappbuilder.com/v1/logout",{headers:{authorization:t?`Bearer ${t}`:""}}).then((e=>e.text())).then((t=>{e(!0),a(null)})).catch((e=>{n(!1)}))}catch(e){n(!1)}}))}})(),p=Eo(),f=yo(io).location,A=(0,h.useApolloClient)();(0,n.useEffect)((()=>{!t&&i&&ea.show({type:"error",text1:i,visibilityTime:3e3})}),[t,i]),(0,n.useEffect)((()=>{(async function(){try{await A.query({query:Xm,fetchPolicy:"network-only"})}catch(e){throw new Error(e)}finally{s(!1)}})().then((e=>{r(!0),p.push(f.pathname)})).catch((e=>{r(!1),g()}))}),[]);const g=()=>{console.log("supriya enable AUTH FLOW"),console.log("supriya enable AUTH SDK"),l().then((e=>{r(!0),p.push("/create")})).catch((e=>{r(!1),p.push("/create")}))};return n.createElement($m.Provider,{value:{setIsAuthenticated:r,authenticated:t,authLogin:g,authLogout:()=>{console.log("supriya logout user"),console.log("supriya logout AUTH/UNAUTH"),p.push("/create")}}},a?n.createElement(zm,{text:"Loading.."}):e.children)},tv=()=>n.useContext($m),nv=e=>{const t=mi()("popup");return n.createElement(EA,{modalVisible:e.modalVisible,setModalVisible:e.setModalVisible,showCloseIcon:!1,contentContainerStyle:rv.contentContainer},n.createElement($n.Z,{style:rv.heading},"Leave Meeting?"),n.createElement(vA,{size:8}),n.createElement($n.Z,{style:rv.subHeading},"Are you sure you want to leave this meeting?"),n.createElement(vA,{size:32}),n.createElement(qn.Z,{style:t?rv.btnContainer:rv.btnContainerMobile},n.createElement(qn.Z,{style:t&&{flex:1}},n.createElement(cA,{containerStyle:{width:"100%",height:48,paddingVertical:12,paddingHorizontal:12,borderRadius:Ya.medium},text:"CANCEL",textStyle:rv.btnText,onPress:()=>e.setModalVisible(!1)})),n.createElement(vA,{size:t?10:20,horizontal:!!t}),n.createElement(qn.Z,{style:t&&{flex:1}},n.createElement(rs,{containerStyle:{minWidth:"auto",width:"100%",borderRadius:Ya.medium,height:48,backgroundColor:"#FF414D",paddingVertical:12,paddingHorizontal:12},text:"LEAVE",textStyle:rv.btnText,onPress:e.endCall}))))},rv=On.Z.create({btnContainer:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center"},btnText:{fontWeight:"600",fontSize:16,lineHeight:24},btnContainerMobile:{flexDirection:"column-reverse"},contentContainer:{padding:24,minWidth:342},heading:{fontFamily:Ka.sansPro,fontWeight:"600",fontSize:22,color:"#FF414D"},subHeading:{fontFamily:Ka.sansPro,fontWeight:"400",fontSize:Wa.small,color:"#FFFFFF"}});var iv=__webpack_require__(1525);const ov=iv.Z.ForegroundService;class av{static registerForegroundTask(e,n){t.Z.registerHeadlessTask(e,(()=>n))}static async startService(e){return console.log("Start Service Triggered"),await ov.startService(e)}static async updateNotification(e){return console.log(" Update Service Triggered"),await ov.updateNotification(e)}static async cancelNotification(e){return console.log("Cancel Service Triggered"),await ov.cancelNotification({id:e})}static async stopService(){return console.log("Stop Service Triggered"),await ov.stopService()}static async stopServiceAll(){return await ov.stopServiceAll()}static async runTask(e){return await ov.runTask(e)}static async isRunning(){return await ov.isRunning()}}const sv=e=>"x".repeat(e).replace(/[xy]/g,(e=>{let t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}));let cv={};const uv=500;let lv=!1;const dv=e=>{delete cv[e]},hv=async()=>{try{if(!lv)return;const e=Date.now();let t=[];Object.entries(cv).forEach((([n,r])=>{e>=r.nextExecutionTime&&(t.push(Promise.resolve(r.task()).then(r.onSuccess,r.onError)),r.onLoop?r.nextExecutionTime=e+r.delay:dv(n))})),await Promise.all(t)}catch(e){console.log("Error in FgService taskRunner:",e)}},pv={register:()=>{if(!lv)return av.registerForegroundTask("myTaskName",hv)},start:async({id:e,title:t=e,message:n="Foreground Service Running...",vibration:r=!1,visibility:i="public",icon:o="ic_launcher",largeicon:a="ic_launcher",importance:s="max",number:c="1",button:u=!1,buttonText:l="",buttonOnPress:d="buttonOnPress",mainOnPress:h="mainOnPress"})=>{try{lv?console.log("Foreground service is already running."):(await av.startService({id:e,title:t,message:n,vibration:r,visibility:i,icon:o,largeicon:a,importance:s,number:c,button:u,buttonText:l,buttonOnPress:d,mainOnPress:h}),lv=!0,await av.runTask({taskName:"myTaskName",delay:uv,loopDelay:uv,onLoop:!0}))}catch(e){throw e}},update:async({id:e,title:t=e,message:n="Foreground Service Running...",vibration:r=!1,visibility:i="public",largeicon:o="ic_launcher",icon:a="ic_launcher",importance:s="max",number:c="0",button:u=!1,buttonText:l="",buttonOnPress:d="buttonOnPress",mainOnPress:h="mainOnPress"})=>{try{await av.updateNotification({id:e,title:t,message:n,vibration:r,visibility:i,largeicon:o,icon:a,importance:s,number:c,button:u,buttonText:l,buttonOnPress:d,mainOnPress:h}),lv||(lv=!0,await av.runTask({taskName:"myTaskName",delay:uv,loopDelay:uv,onLoop:!0}))}catch(e){throw e}},stop:()=>(lv=!1,av.stopService()),is_running:()=>lv,add_task:(e,{delay:t=5e3,onLoop:n=!0,taskId:r=sv(12),onSuccess:i=(()=>{}),onError:o=(()=>{})})=>{const a=typeof e;if("function"!==a)throw`invalid task of type ${a}, expected a function or a Promise`;return cv[r]||(cv[r]={task:e,nextExecutionTime:Date.now(),delay:Math.ceil(t/uv)*uv,onLoop:n,taskId:r,onSuccess:i,onError:o}),r},update_task:(e,{delay:t=5e3,onLoop:n=!0,taskId:r=sv(12),onSuccess:i=(()=>{}),onError:o=(()=>{})})=>{const a=typeof e;if("function"!==a)throw`invalid task of type ${a}, expected a function or a Promise`;return cv[r]={task:e,nextExecutionTime:Date.now(),delay:Math.ceil(t/uv)*uv,onLoop:n,taskId:r,onSuccess:i,onError:o},r},remove_task:e=>dv(e),is_task_running:e=>!!cv[e],remove_all_tasks:()=>cv={},get_task:e=>cv[e],get_all_tasks:()=>cv},fv=pv,Av=e=>{const{dispatch:t}=ka(),{authLogout:r}=tv(),{showLabel:i=!1,isOnActionSheet:o=!1}=e,{setStore:a}=(0,n.useContext)(ze),[s,c]=(0,n.useState)(!1),{phrase:u}=bo(),l=()=>{c(!0)};let d={iconProps:{name:"end-call",tintColor:"#FFFFFF",iconBackgroundColor:"#FF414D",iconContainerStyle:!o&&{width:72,height:52}},onPress:l,btnTextProps:{text:i?"Leave":"",textColor:"#FFFFFF"}};return null!=e&&e.render?e.render(l):n.createElement(n.Fragment,null,n.createElement(co,{when:!0,message:(e,t)=>"POP"!==t||(l(),!1)}),n.createElement(nv,{endCall:async()=>{setTimeout((()=>{t({type:"EndCall",value:[]})})),r(),"android"===_n.Z.OS&&(fv.stop(),console.log("stopping foreground service"))},setModalVisible:c,modalVisible:s}),n.createElement(uf,d))},gv=()=>{const{rtcProps:e}=(0,n.useContext)(ln),[t,r]=n.useState(!1),[i,o]=(0,n.useState)(!1),[a,s]=(0,n.useState)(!1),c=(0,n.useRef)(null),{width:u,height:l}=(0,ri.Z)(),d=Uf(),{currentLayout:h,setLayout:p}=Di(),f=d.findIndex((e=>e.name===h)),{setSidePanel:A,sidePanel:g}=ba(),{data:{isHost:m}}=be(),{showLayoutOption:v,setShowInvitePopup:y,setShowStopRecordingPopup:E,setShowLayoutOption:b}=em(),{isScreenshareActive:_,startUserScreenshare:C,stopUserScreenShare:I}=hf(),{isRecordingActive:S,startRecording:w,inProgress:R}=da(),{setGroupActive:T}=fa(),O=[];var k;return u<=fi&&(O.push({icon:"participants",iconColor:"#FFFFFF",textColor:"#FFFFFF",title:"People",callback:()=>{r(!1),A(va.Participants)}}),O.push({icon:"chat-nav",iconColor:"#FFFFFF",textColor:"#FFFFFF",title:"Chat",callback:()=>{r(!1),T(!0),A(va.Chat)}}),e.role,$t.Audience,O.push({disabled:e.role==$t.Audience&&!1,icon:_?"stop-screen-share":"screen-share",iconColor:_?"#FF414D":"#FFFFFF",textColor:_?"#FF414D":"#FFFFFF",title:_?"Stop Share":"Share",callback:()=>{r(!1),_?I():C()}})),u<=Ai&&(O.push({icon:null===(k=d[f])||void 0===k?void 0:k.iconName,iconColor:"#FFFFFF",textColor:"#FFFFFF",title:"Layout",callback:()=>{},onHoverCallback:e=>{b(e)},onHoverContent:n.createElement(im,{onHoverPlaceHolder:"vertical",setShowDropdown:()=>{},showDropdown:!0,modalPosition:u<=fi?{bottom:65,left:-150}:{bottom:20,left:-150},caretPosition:{bottom:45,right:-10}})}),O.push({icon:"share",iconColor:"#FFFFFF",textColor:"#FFFFFF",title:"Invite",callback:()=>{r(!1),y(!0)}})),u<=fi&&O.push({icon:"settings",iconColor:"#FFFFFF",textColor:"#FFFFFF",title:"Settings",callback:()=>{r(!1),A(va.Settings)}}),(0,n.useEffect)((()=>{i&&r(!0)}),[i]),(0,n.useEffect)((()=>{r(!1)}),[h]),n.createElement(n.Fragment,null,n.createElement(Jf,{containerStyle:{width:180},hoverMode:!0,onHover:e=>s(e),from:"control-bar",actionMenuVisible:(i||a)&&t,setActionMenuVisible:r,modalPosition:{bottom:8,left:0},items:O}),n.createElement("div",{onMouseEnter:()=>{o(!0)},onMouseLeave:()=>{o(!1)}},n.createElement(qn.Z,{style:{position:"absolute",top:-20,zIndex:-1,height:"50%",width:"100%",backgroundColor:"transparent"}}),n.createElement(uf,{setRef:e=>{c.current=e},onPress:()=>{},iconProps:{name:"more-menu",tintColor:"#FFFFFF"},btnTextProps:{text:"",textColor:"#FFFFFF"}})))},mv=[jA,UA,Vm,Qm,e=>{const{startRecording:t,inProgress:r,isRecordingActive:i}=da(),{showLabel:o=!1,isOnActionSheet:a=!1}=e,{setShowStopRecordingPopup:s}=em(),c=()=>{i?s(!0):t&&t()};let u={iconProps:{name:i?"stop-recording":"recording",tintColor:i?"#FF414D":"#FFFFFF"},btnTextProps:{text:o?(l=i,l?"Stop Rec":"Record"):"",textColor:"#FFFFFF"},onPress:c,disabled:r,containerStyle:r?{opacity:.6}:{}};var l;return u.isOnActionSheet=a,null!=e&&e.render?e.render(c,i):n.createElement(n.Fragment,null,n.createElement(uf,u))},Av,e=>{const{showControls:t,isDesktop:r,showLabel:i=!1}=e;return n.createElement(n.Fragment,null)}],vv=On.Z.create({container:{flexDirection:"row",justifyContent:"space-between",paddingTop:10,paddingBottom:16,backgroundColor:"#111111"},leftContent:{flex:1,flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},centerContent:{zIndex:2,flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center"},rightContent:{flex:1}}),yv=()=>{const{rtcProps:e}=(0,n.useContext)(ln),t=mi(),{data:{isHost:r}}=be(),{width:i}=(0,ri.Z)();return n.createElement(qn.Z,{testID:"videocall-controls",style:[vv.container,{paddingHorizontal:t("toolbar")?32:16}]},i>=Ai&&n.createElement(qn.Z,{style:vv.leftContent},n.createElement(qn.Z,{testID:"layout-btn",style:{marginRight:10},collapsable:!1},n.createElement(cm,null)),n.createElement(qn.Z,{testID:"invite-btn",style:{marginHorizontal:10}},n.createElement(tm,null))),n.createElement(qn.Z,{style:vv.centerContent},n.createElement(n.Fragment,null),n.createElement(n.Fragment,null,n.createElement(n.Fragment,null),n.createElement(qn.Z,{testID:"localAudio-btn",style:{marginHorizontal:10}},n.createElement(jA,{showToolTip:!0})),n.createElement(qn.Z,{testID:"localVideo-btn",style:{marginHorizontal:10}},n.createElement(UA,{showToolTip:!0})),Cn()&&n.createElement(qn.Z,{testID:"switchCamera-btn",style:{marginHorizontal:10}},n.createElement(Vm,null)),i>fi&&!Cn()&&n.createElement(qn.Z,{testID:"screenShare-btn",style:{marginHorizontal:10}},n.createElement(Qm,null)),i>fi&&r&&!1),i<Ai&&n.createElement(qn.Z,{testID:"more-btn",style:{marginHorizontal:10}},n.createElement(gv,null)),n.createElement(qn.Z,{testID:"endCall-btn",style:{marginHorizontal:10}},n.createElement(Av,null))),i>=Ai&&n.createElement(qn.Z,{style:vv.rightContent}))},Ev=()=>{const{dispatch:e}=ka(),[t,r]=(0,n.useState)(0),i=Uf(),{currentLayout:o,setLayout:a}=Di(),{activeUids:s,pinnedUid:c}=Na();if((0,n.useEffect)((()=>{if(s&&1===s.length){c&&e({type:"UserPin",value:[0]});const t=Qf();o!==t&&a(t)}}),[s]),(0,n.useEffect)((()=>{if(hi(i)){let e=i.findIndex((e=>e.name===o));e>=0&&r(e)}}),[o]),i&&i[t]&&oi(i[t].component)){const e=i[t].component;return n.createElement(e,{renderData:s})}return n.createElement(n.Fragment,null)};let bv;!function(e){e[e.topBar=0]="topBar",e[e.bottomBar=1]="bottomBar",e[e.actionBar=2]="actionBar"}(bv||(bv={}));const _v=n.createContext({buttonTemplateName:void 0}),Cv=e=>n.createElement(_v.Provider,{value:{...e.value}},e.children);he(_v);var Iv=__webpack_require__(2473),Sv=__webpack_require__.n(Iv),wv=Rv()?n.useLayoutEffect:n.useEffect;function Rv(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}Sv(),"undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math&&self;var Tv=__webpack_require__(3935);const Ov=function(e){var t,r=e.children,i=e.type,o=void 0===i?"reach-portal":i,a=(0,n.useRef)(null),s=(0,n.useRef)(null),c=(t=(0,n.useState)(Object.create(null))[1],(0,n.useCallback)((function(){t(Object.create(null))}),[]));return wv((function(){if(a.current){var e=a.current.ownerDocument;return s.current=null==e?void 0:e.createElement(o),e.body.appendChild(s.current),c(),function(){s.current&&s.current.ownerDocument&&s.current.ownerDocument.body.removeChild(s.current)}}}),[o,c]),s.current?(0,Tv.createPortal)(r,s.current):(0,n.createElement)("span",{ref:a})};var kv=function(){return kv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},kv.apply(this,arguments)};function Nv(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function Dv(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pv(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function xv(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var Lv,Mv={},Bv="xstate.guard";function Fv(e,t,n){void 0===n&&(n=".");var r=Vv(e,n),i=Vv(t,n);return ny(i)?!!ny(r)&&i===r:ny(r)?r in i:Object.keys(r).every((function(e){return e in i&&Fv(r[e],i[e])}))}function Uv(e){try{return ny(e)||"number"==typeof e?"".concat(e):e.type}catch(e){throw new Error("Events must be strings or objects with a string event.type property.")}}function jv(e,t){try{return ey(e)?e:e.toString().split(t)}catch(t){throw new Error("'".concat(e,"' is not a valid state path."))}}function Vv(e,t){return"object"==typeof(n=e)&&"value"in n&&"context"in n&&"event"in n&&"_event"in n?e.value:ey(e)?Qv(e):"string"!=typeof e?e:Qv(jv(e,t));var n}function Qv(e){if(1===e.length)return e[0];for(var t={},n=t,r=0;r<e.length-1;r++)r===e.length-2?n[e[r]]=e[r+1]:(n[e[r]]={},n=n[e[r]]);return t}function Gv(e,t){for(var n={},r=Object.keys(e),i=0;i<r.length;i++){var o=r[i];n[o]=t(e[o],o,e,i)}return n}function qv(e,t,n){var r,i,o={};try{for(var a=Dv(Object.keys(e)),s=a.next();!s.done;s=a.next()){var c=s.value,u=e[c];n(u)&&(o[c]=t(u,c,e))}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return o}var Hv=function(e){return function(t){var n,r,i=t;try{for(var o=Dv(e),a=o.next();!a.done;a=o.next())i=i[a.value]}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}};function zv(e){if(!e)return[[]];if(ny(e))return[[e]];var t=Wv(Object.keys(e).map((function(t){var n=e[t];return"string"==typeof n||n&&Object.keys(n).length?zv(e[t]).map((function(e){return[t].concat(e)})):[[t]]})));return t}function Wv(e){var t;return(t=[]).concat.apply(t,xv([],Pv(e),!1))}function Kv(e){return ey(e)?e:[e]}function Yv(e){return void 0===e?[]:Kv(e)}function Jv(e,t,n){var r,i;if(ty(e))return e(t,n.data);var o={};try{for(var a=Dv(Object.keys(e)),s=a.next();!s.done;s=a.next()){var c=s.value,u=e[c];ty(u)?o[c]=u(t,n.data):o[c]=u}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return o}function Zv(e){return e instanceof Promise||!(null===e||!ty(e)&&"object"!=typeof e||!ty(e.then))}function Xv(e,t){return Gv(e.states,(function(e,n){if(e){var r=(ny(t)?void 0:t[n])||(e?e.current:void 0);if(r)return{current:r,states:Xv(e,r)}}}))}function $v(e,t,n,r){var i=e?n.reduce((function(e,n){var i,o,a=n.assignment,s={state:r,action:n,_event:t},c={};if(ty(a))c=a(e,t.data,s);else try{for(var u=Dv(Object.keys(a)),l=u.next();!l.done;l=u.next()){var d=l.value,h=a[d];c[d]=ty(h)?h(e,t.data,s):h}}catch(e){i={error:e}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}return Object.assign({},e,c)}),e):e;return i}function ey(e){return Array.isArray(e)}function ty(e){return"function"==typeof e}function ny(e){return"string"==typeof e}function ry(e,t){if(e)return ny(e)?{type:Bv,name:e,predicate:t?t[e]:void 0}:ty(e)?{type:Bv,name:e.name,predicate:e}:e}var iy=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function oy(e){return!!e&&"__xstatenode"in e}function ay(e,t){return ny(e)||"number"==typeof e?kv({type:e},t):e}function sy(e,t){if(!ny(e)&&"$$type"in e&&"scxml"===e.$$type)return e;var n=ay(e);return kv({name:n.type,data:n,$$type:"scxml",type:"external"},t)}function cy(e,t){return Kv(t).map((function(t){return void 0===t||"string"==typeof t||oy(t)?{target:t,event:e}:kv(kv({},t),{event:e})}))}function uy(e,t,n,r,i){var o=e.options.guards,a={state:i,cond:t,_event:r};if(t.type===Bv)return((null==o?void 0:o[t.name])||t.predicate)(n,r.data,a);var s=null==o?void 0:o[t.type];if(!s)throw new Error("Guard '".concat(t.type,"' is not implemented on machine '").concat(e.id,"'."));return s(n,r.data,a)}function ly(e){return"string"==typeof e?{type:e}:e}function dy(e,t,n){var r=function(){},i="object"==typeof e,o=i?e:null;return{next:((i?e.next:e)||r).bind(o),error:((i?e.error:t)||r).bind(o),complete:((i?e.complete:n)||r).bind(o)}}function hy(e,t){return"".concat(e,":invocation[").concat(t,"]")}(Lv={})[iy]=function(){return this},Lv[Symbol.observable]=function(){return this};var py,fy,Ay,gy,my=function(e){return"atomic"===e.type||"final"===e.type};function vy(e){return Object.keys(e.states).map((function(t){return e.states[t]}))}function yy(e){return vy(e).filter((function(e){return"history"!==e.type}))}function Ey(e){var t=[e];return my(e)?t:t.concat(Wv(yy(e).map(Ey)))}function by(e,t){var n,r,i,o,a,s,c,u,l=Cy(new Set(e)),d=new Set(t);try{for(var h=Dv(d),p=h.next();!p.done;p=h.next())for(var f=(C=p.value).parent;f&&!d.has(f);)d.add(f),f=f.parent}catch(e){n={error:e}}finally{try{p&&!p.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}var A=Cy(d);try{for(var g=Dv(d),m=g.next();!m.done;m=g.next())if("compound"!==(C=m.value).type||A.get(C)&&A.get(C).length){if("parallel"===C.type)try{for(var v=(a=void 0,Dv(yy(C))),y=v.next();!y.done;y=v.next()){var E=y.value;d.has(E)||(d.add(E),l.get(E)?l.get(E).forEach((function(e){return d.add(e)})):E.initialStateNodes.forEach((function(e){return d.add(e)})))}}catch(e){a={error:e}}finally{try{y&&!y.done&&(s=v.return)&&s.call(v)}finally{if(a)throw a.error}}}else l.get(C)?l.get(C).forEach((function(e){return d.add(e)})):C.initialStateNodes.forEach((function(e){return d.add(e)}))}catch(e){i={error:e}}finally{try{m&&!m.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}try{for(var b=Dv(d),_=b.next();!_.done;_=b.next()){var C;for(f=(C=_.value).parent;f&&!d.has(f);)d.add(f),f=f.parent}}catch(e){c={error:e}}finally{try{_&&!_.done&&(u=b.return)&&u.call(b)}finally{if(c)throw c.error}}return d}function _y(e,t){var n=t.get(e);if(!n)return{};if("compound"===e.type){var r=n[0];if(!r)return{};if(my(r))return r.key}var i={};return n.forEach((function(e){i[e.key]=_y(e,t)})),i}function Cy(e){var t,n,r=new Map;try{for(var i=Dv(e),o=i.next();!o.done;o=i.next()){var a=o.value;r.has(a)||r.set(a,[]),a.parent&&(r.has(a.parent)||r.set(a.parent,[]),r.get(a.parent).push(a))}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Iy(e,t){return _y(e,Cy(by([e],t)))}function Sy(e,t){return Array.isArray(e)?e.some((function(e){return e===t})):e instanceof Set&&e.has(t)}function wy(e,t){return"compound"===t.type?yy(t).some((function(t){return"final"===t.type&&Sy(e,t)})):"parallel"===t.type&&yy(t).every((function(t){return wy(e,t)}))}function Ry(e){return new Set(Wv(e.map((function(e){return e.tags}))))}(gy=py||(py={})).Start="xstate.start",gy.Stop="xstate.stop",gy.Raise="xstate.raise",gy.Send="xstate.send",gy.Cancel="xstate.cancel",gy.NullEvent="",gy.Assign="xstate.assign",gy.After="xstate.after",gy.DoneState="done.state",gy.DoneInvoke="done.invoke",gy.Log="xstate.log",gy.Init="xstate.init",gy.Invoke="xstate.invoke",gy.ErrorExecution="error.execution",gy.ErrorCommunication="error.communication",gy.ErrorPlatform="error.platform",gy.ErrorCustom="xstate.error",gy.Update="xstate.update",gy.Pure="xstate.pure",gy.Choose="xstate.choose",(Ay=fy||(fy={})).Parent="#_parent",Ay.Internal="#_internal";var Ty=py.Start,Oy=py.Stop,ky=py.Raise,Ny=py.Send,Dy=py.Cancel,Py=py.NullEvent,xy=py.Assign,Ly=(py.After,py.DoneState,py.Log),My=py.Init,By=py.Invoke,Fy=(py.ErrorExecution,py.ErrorPlatform),Uy=py.ErrorCustom,jy=py.Update,Vy=py.Choose,Qy=py.Pure,Gy=sy({type:My});function qy(e,t){return t&&t[e]||void 0}function Hy(e,t){var n;if(ny(e)||"number"==typeof e)n=ty(r=qy(e,t))?{type:e,exec:r}:r||{type:e,exec:void 0};else if(ty(e))n={type:e.name||e.toString(),exec:e};else{var r;if(ty(r=qy(e.type,t)))n=kv(kv({},e),{exec:r});else if(r){var i=r.type||e.type;n=kv(kv(kv({},r),e),{type:i})}else n=e}return n}var zy=function(e,t){return e?(ey(e)?e:[e]).map((function(e){return Hy(e,t)})):[]};function Wy(e){var t=Hy(e);return kv(kv({id:ny(e)?e:t.id},t),{type:t.type})}function Ky(e){return ny(e)?{type:ky,event:e}:Yy(e,{to:fy.Internal})}function Yy(e,t){return{to:t?t.to:void 0,type:Ny,event:ty(e)?e:ay(e),delay:t?t.delay:void 0,id:t&&void 0!==t.id?t.id:ty(e)?e.name:Uv(e)}}function Jy(e,t){var n="".concat(py.DoneState,".").concat(e);return{type:n,data:t,toString:function(){return n}}}function Zy(e,t){var n="".concat(py.DoneInvoke,".").concat(e);return{type:n,data:t,toString:function(){return n}}}function Xy(e,t){var n="".concat(py.ErrorPlatform,".").concat(e);return{type:n,data:t,toString:function(){return n}}}function $y(e,t,n,r,i,o,a){void 0===a&&(a=!1);var s=a?[]:function(e){var t,n,r=[];try{for(var i=Dv(e),o=i.next();!o.done;o=i.next())for(var a=o.value,s=0;s<a.length;)a[s].type!==xy?s++:(r.push(a[s]),a.splice(s,1))}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(i),c=s.length?$v(n,r,s,t):n,u=a?[n]:void 0,l=[];function d(i){var s;switch(i.type){case ky:return{type:ky,_event:sy(i.event)};case Ny:var d=function(e,t,n,r){var i,o={_event:n},a=sy(ty(e.event)?e.event(t,n.data,o):e.event);if(ny(e.delay)){var s=r&&r[e.delay];i=ty(s)?s(t,n.data,o):s}else i=ty(e.delay)?e.delay(t,n.data,o):e.delay;var c=ty(e.to)?e.to(t,n.data,o):e.to;return kv(kv({},e),{to:c,_event:a,event:a.data,delay:i})}(i,c,r,e.options.delays);return o&&d.to!==fy.Internal&&l.push(d),d;case Ly:var h=function(e,t,n){return kv(kv({},e),{value:ny(e.expr)?e.expr:e.expr(t,n.data,{_event:n})})}(i,c,r);return null==o||o(h,c,r),h;case Vy:if(!(g=null===(s=i.conds.find((function(n){var i=ry(n.cond,e.options.guards);return!i||uy(e,i,c,r,o?void 0:t)})))||void 0===s?void 0:s.actions))return[];var p=Pv($y(e,t,c,r,[zy(Yv(g),e.options.actions)],o,a),2),f=p[0],A=p[1];return c=A,null==u||u.push(c),f;case Qy:var g;if(!(g=i.get(c,r.data)))return[];var m=Pv($y(e,t,c,r,[zy(Yv(g),e.options.actions)],o,a),2),v=m[0],y=m[1];return c=y,null==u||u.push(c),v;case Oy:return h=function(e,t,n){var r=ty(e.activity)?e.activity(t,n.data):e.activity,i="string"==typeof r?{id:r}:r;return{type:py.Stop,activity:i}}(i,c,r),null==o||o(h,n,r),h;case xy:c=$v(c,r,[i],o?void 0:t),null==u||u.push(c);break;default:var E=Hy(i,e.options.actions),b=E.exec;if(o)o(E,c,r);else if(b&&u){var _=u.length-1;E=kv(kv({},E),{exec:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];b.apply(void 0,xv([u[_]],Pv(t),!1))}})}return E}}var h=Wv(i.map((function(e){var t,n,i=[];try{for(var a=Dv(e),s=a.next();!s.done;s=a.next()){var u=d(s.value);u&&(i=i.concat(u))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return l.forEach((function(e){o(e,c,r)})),l.length=0,i})));return[h,c]}function eE(e,t){if(e===t)return!0;if(void 0===e||void 0===t)return!1;if(ny(e)||ny(t))return e===t;var n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every((function(n){return eE(e[n],t[n])}))}var tE=function(){function e(e){var t,n,r=this;this.actions=[],this.activities=Mv,this.meta={},this.events=[],this.value=e.value,this.context=e.context,this._event=e._event,this._sessionid=e._sessionid,this.event=this._event.data,this.historyValue=e.historyValue,this.history=e.history,this.actions=e.actions||[],this.activities=e.activities||Mv,this.meta=(void 0===(n=e.configuration)&&(n=[]),n.reduce((function(e,t){return void 0!==t.meta&&(e[t.id]=t.meta),e}),{})),this.events=e.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=e.configuration,this.transitions=e.transitions,this.children=e.children,this.done=!!e.done,this.tags=null!==(t=Array.isArray(e.tags)?new Set(e.tags):e.tags)&&void 0!==t?t:new Set,this.machine=e.machine,Object.defineProperty(this,"nextEvents",{get:function(){return function(e){return xv([],Pv(new Set(Wv(xv([],Pv(e.map((function(e){return e.ownEvents}))),!1)))),!1)}(r.configuration)}})}return e.from=function(t,n){return t instanceof e?t.context!==n?new e({value:t.value,context:n,_event:t._event,_sessionid:null,historyValue:t.historyValue,history:t.history,actions:[],activities:t.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):t:new e({value:t,context:n,_event:Gy,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},e.create=function(t){return new e(t)},e.inert=function(t,n){if(t instanceof e){if(!t.actions.length)return t;var r=Gy;return new e({value:t.value,context:n,_event:r,_sessionid:null,historyValue:t.historyValue,history:t.history,activities:t.activities,configuration:t.configuration,transitions:[],children:{}})}return e.from(t,n)},e.prototype.toStrings=function(e,t){var n=this;if(void 0===e&&(e=this.value),void 0===t&&(t="."),ny(e))return[e];var r=Object.keys(e);return r.concat.apply(r,xv([],Pv(r.map((function(r){return n.toStrings(e[r],t).map((function(e){return r+t+e}))}))),!1))},e.prototype.toJSON=function(){var e=this;e.configuration,e.transitions;var t=e.tags;e.machine;var n=Nv(e,["configuration","transitions","tags","machine"]);return kv(kv({},n),{tags:Array.from(t)})},e.prototype.matches=function(e){return Fv(e,this.value)},e.prototype.hasTag=function(e){return this.tags.has(e)},e.prototype.can=function(e){var t;this.machine;var n=null===(t=this.machine)||void 0===t?void 0:t.getTransitionData(this,e);return!!(null==n?void 0:n.transitions.length)&&n.transitions.some((function(e){return void 0!==e.target||e.actions.length}))},e}();const nE=n.useLayoutEffect;var rE={deferEvents:!1},iE=function(){function e(e){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=kv(kv({},rE),e)}return e.prototype.initialize=function(e){if(this.initialized=!0,e){if(!this.options.deferEvents)return void this.schedule(e);this.process(e)}this.flushEvents()},e.prototype.schedule=function(e){if(this.initialized&&!this.processingEvent){if(0!==this.queue.length)throw new Error("Event queue should be empty when it is not processing events");this.process(e),this.flushEvents()}else this.queue.push(e)},e.prototype.clear=function(){this.queue=[]},e.prototype.flushEvents=function(){for(var e=this.queue.shift();e;)this.process(e),e=this.queue.shift()},e.prototype.process=function(e){this.processingEvent=!0;try{e()}catch(e){throw this.clear(),e}finally{this.processingEvent=!1}},e}(),oE=[],aE=function(e,t){oE.push(e);var n=t(e);return oE.pop(),n};function sE(e){var t;return(t={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:e}}})[iy]=function(){return this},t}function cE(e,t,n){var r=sE(t);if(r.deferred=!0,oy(e)){var i=r.state=aE(void 0,(function(){return(n?e.withContext(n):e).initialState}));r.getSnapshot=function(){return i}}return r}var uE=new Map,lE=0;function dE(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:void 0}var hE,pE={sync:!1,autoForward:!1};!function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"}(hE||(hE={}));var fE,AE,gE=function(){function e(t,n){void 0===n&&(n=e.defaultOptions);var r=this;this.machine=t,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=hE.NotStarted,this.children=new Map,this.forwardTo=new Set,this._outgoingQueue=[],this.init=this.start,this.send=function(e,t){if(ey(e))return r.batch(e),r.state;var n=sy(ay(e,t));if(r.status===hE.Stopped)return r.state;if(r.status!==hE.Running&&!r.options.deferEvents)throw new Error('Event "'.concat(n.name,'" was sent to uninitialized service "').concat(r.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.\nEvent: ').concat(JSON.stringify(n.data)));return r.scheduler.schedule((function(){r.forward(n);var e=r._nextState(n);r.update(e,n)})),r._state},this.sendTo=function(e,t,n){var i,o=r.parent&&(t===fy.Parent||r.parent.id===t),a=o?r.parent:ny(t)?r.children.get(t)||function(e){return uE.get(e)}(t):(i=t)&&"function"==typeof i.send?t:void 0;if(a)if("machine"in a){if(r.status!==hE.Stopped||r.parent!==a||r.state.done){var s=kv(kv({},e),{name:e.name===Uy?"".concat(Xy(r.id)):e.name,origin:r.sessionId});!n&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([a,s]):a.send(s)}}else!n&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([a,e.data]):a.send(e.data);else if(!o)throw new Error("Unable to send event to child '".concat(t,"' from service '").concat(r.id,"'."))},this._exec=function(e,t,n,i){void 0===i&&(i=r.machine.options.actions);var o=e.exec||qy(e.type,i),a=ty(o)?o:o?o.exec:e.exec;if(a)try{return a(t,n.data,r.machine.config.predictableActionArguments?{action:e,_event:n}:{action:e,state:r.state,_event:n})}catch(e){throw r.parent&&r.parent.send({type:"xstate.error",data:e}),e}switch(e.type){case Ny:var s=e;if("number"==typeof s.delay)return void r.defer(s);s.to?r.sendTo(s._event,s.to,n===Gy):r.send(s._event);break;case Dy:r.cancel(e.sendId);break;case Ty:if(r.status!==hE.Running)return;var c=e.activity;if(!r.machine.config.predictableActionArguments&&!r.state.activities[c.id||c.type])break;if(c.type===py.Invoke){var u=ly(c.src),l=r.machine.options.services?r.machine.options.services[u.type]:void 0,d=c.id,h=c.data,p="autoForward"in c?c.autoForward:!!c.forward;if(!l)return;var f=h?Jv(h,t,n):void 0;if("string"==typeof l)return;var A=ty(l)?l(t,n.data,{data:f,src:u,meta:c.meta}):l;if(!A)return;var g=void 0;oy(A)&&(A=f?A.withContext(f):A,g={autoForward:p}),r.spawn(A,d,g)}else r.spawnActivity(c);break;case Oy:r.stopChild(e.activity.id);break;case Ly:var m=e.label,v=e.value;m?r.logger(m,v):r.logger(v)}};var i=kv(kv({},e.defaultOptions),n),o=i.clock,a=i.logger,s=i.parent,c=i.id,u=void 0!==c?c:t.id;this.id=u,this.logger=a,this.clock=o,this.parent=s,this.options=i,this.scheduler=new iE({deferEvents:this.options.deferEvents}),this.sessionId="x:".concat(lE++)}return Object.defineProperty(e.prototype,"initialState",{get:function(){var e=this;return this._initialState?this._initialState:aE(this,(function(){return e._initialState=e.machine.initialState,e._initialState}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),e.prototype.execute=function(e,t){var n,r;try{for(var i=Dv(e.actions),o=i.next();!o.done;o=i.next()){var a=o.value;this.exec(a,e,t)}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.update=function(e,t){var n,r,i,o,a,s,c,u,l=this;if(e._sessionid=this.sessionId,this._state=e,this.machine.config.predictableActionArguments&&t!==Gy||!this.options.execute)for(var d=void 0;d=this._outgoingQueue.shift();)d[0].send(d[1]);else this.execute(this.state);if(this.children.forEach((function(e){l.state.children[e.id]=e})),this.devTools&&this.devTools.send(t.data,e),e.event)try{for(var h=Dv(this.eventListeners),p=h.next();!p.done;p=h.next())(0,p.value)(e.event)}catch(e){n={error:e}}finally{try{p&&!p.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}try{for(var f=Dv(this.listeners),A=f.next();!A.done;A=f.next())(0,A.value)(e,e.event)}catch(e){i={error:e}}finally{try{A&&!A.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}try{for(var g=Dv(this.contextListeners),m=g.next();!m.done;m=g.next())(0,m.value)(this.state.context,this.state.history?this.state.history.context:void 0)}catch(e){a={error:e}}finally{try{m&&!m.done&&(s=g.return)&&s.call(g)}finally{if(a)throw a.error}}if(this.state.done){var v=e.configuration.find((function(e){return"final"===e.type&&e.parent===l.machine})),y=v&&v.doneData?Jv(v.doneData,e.context,t):void 0;try{for(var E=Dv(this.doneListeners),b=E.next();!b.done;b=E.next())(0,b.value)(Zy(this.id,y))}catch(e){c={error:e}}finally{try{b&&!b.done&&(u=E.return)&&u.call(E)}finally{if(c)throw c.error}}this._stop(),this._stopChildren()}},e.prototype.onTransition=function(e){return this.listeners.add(e),this.status===hE.Running&&e(this.state,this.state.event),this},e.prototype.subscribe=function(e,t,n){var r=this,i=dy(e,t,n);this.listeners.add(i.next),this.status!==hE.NotStarted&&i.next(this.state);var o=function(){r.doneListeners.delete(o),r.stopListeners.delete(o),i.complete()};return this.status===hE.Stopped?i.complete():(this.onDone(o),this.onStop(o)),{unsubscribe:function(){r.listeners.delete(i.next),r.doneListeners.delete(o),r.stopListeners.delete(o)}}},e.prototype.onEvent=function(e){return this.eventListeners.add(e),this},e.prototype.onSend=function(e){return this.sendListeners.add(e),this},e.prototype.onChange=function(e){return this.contextListeners.add(e),this},e.prototype.onStop=function(e){return this.stopListeners.add(e),this},e.prototype.onDone=function(e){return this.doneListeners.add(e),this},e.prototype.off=function(e){return this.listeners.delete(e),this.eventListeners.delete(e),this.sendListeners.delete(e),this.stopListeners.delete(e),this.doneListeners.delete(e),this.contextListeners.delete(e),this},e.prototype.start=function(e){var t=this;if(this.status===hE.Running)return this;this.machine._init(),function(e,t){uE.set(e,t)}(this.sessionId,this),this.initialized=!0,this.status=hE.Running;var n=void 0===e?this.initialState:aE(this,(function(){return"object"==typeof(n=e)&&null!==n&&"value"in n&&"_event"in n?t.machine.resolveState(e):t.machine.resolveState(tE.from(e,t.machine.context));var n}));return this.options.devTools&&this.attachDev(),this.scheduler.initialize((function(){t.update(n,Gy)})),this},e.prototype._stopChildren=function(){this.children.forEach((function(e){ty(e.stop)&&e.stop()})),this.children.clear()},e.prototype._stop=function(){var e,t,n,r,i,o,a,s,c,u;try{for(var l=Dv(this.listeners),d=l.next();!d.done;d=l.next()){var h=d.value;this.listeners.delete(h)}}catch(t){e={error:t}}finally{try{d&&!d.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}try{for(var p=Dv(this.stopListeners),f=p.next();!f.done;f=p.next())(h=f.value)(),this.stopListeners.delete(h)}catch(e){n={error:e}}finally{try{f&&!f.done&&(r=p.return)&&r.call(p)}finally{if(n)throw n.error}}try{for(var A=Dv(this.contextListeners),g=A.next();!g.done;g=A.next())h=g.value,this.contextListeners.delete(h)}catch(e){i={error:e}}finally{try{g&&!g.done&&(o=A.return)&&o.call(A)}finally{if(i)throw i.error}}try{for(var m=Dv(this.doneListeners),v=m.next();!v.done;v=m.next())h=v.value,this.doneListeners.delete(h)}catch(e){a={error:e}}finally{try{v&&!v.done&&(s=m.return)&&s.call(m)}finally{if(a)throw a.error}}if(!this.initialized)return this;this.initialized=!1,this.status=hE.Stopped,this._initialState=void 0;try{for(var y=Dv(Object.keys(this.delayedEventsMap)),E=y.next();!E.done;E=y.next()){var b=E.value;this.clock.clearTimeout(this.delayedEventsMap[b])}}catch(e){c={error:e}}finally{try{E&&!E.done&&(u=y.return)&&u.call(y)}finally{if(c)throw c.error}}this.scheduler.clear(),this.scheduler=new iE({deferEvents:this.options.deferEvents})},e.prototype.stop=function(){var e=this,t=this.scheduler;return this._stop(),t.schedule((function(){var t=sy({type:"xstate.stop"}),n=aE(e,(function(){var n=Wv(xv([],Pv(e.state.configuration),!1).sort((function(e,t){return t.order-e.order})).map((function(t){return zy(t.onExit,e.machine.options.actions)}))),r=Pv($y(e.machine,e.state,e.state.context,t,[n],e.machine.config.predictableActionArguments?e._exec:void 0,e.machine.config.predictableActionArguments||e.machine.config.preserveActionOrder),2),i=r[0],o=r[1],a=new tE({value:e.state.value,context:o,_event:t,_sessionid:e.sessionId,historyValue:void 0,history:e.state,actions:i.filter((function(e){return e.type!==ky&&(e.type!==Ny||!!e.to&&e.to!==fy.Internal)})),activities:{},events:[],configuration:[],transitions:[],children:{},done:e.state.done,tags:e.state.tags,machine:e.machine});return a.changed=!0,a}));e.update(n,t),e._stopChildren(),function(e){uE.delete(e)}(e.sessionId)})),this},e.prototype.batch=function(e){var t=this;if(this.status===hE.NotStarted&&this.options.deferEvents);else if(this.status!==hE.Running)throw new Error("".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'));if(e.length){var n=!!this.machine.config.predictableActionArguments&&this._exec;this.scheduler.schedule((function(){var r,i,o=t.state,a=!1,s=[],c=function(e){var r=sy(e);t.forward(r),o=aE(t,(function(){return t.machine.transition(o,r,void 0,n||void 0)})),s.push.apply(s,xv([],Pv(t.machine.config.predictableActionArguments?o.actions:o.actions.map((function(e){return function(e,t){var n=e.exec;return kv(kv({},e),{exec:void 0!==n?function(){return n(t.context,t.event,{action:e,state:t,_event:t._event})}:void 0})}(e,o)}))),!1)),a=a||!!o.changed};try{for(var u=Dv(e),l=u.next();!l.done;l=u.next())c(l.value)}catch(e){r={error:e}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}o.changed=a,o.actions=s,t.update(o,sy(e[e.length-1]))}))}},e.prototype.sender=function(e){return this.send.bind(this,e)},e.prototype._nextState=function(e,t){var n=this;void 0===t&&(t=!!this.machine.config.predictableActionArguments&&this._exec);var r=sy(e);if(0===r.name.indexOf(Fy)&&!this.state.nextEvents.some((function(e){return 0===e.indexOf(Fy)})))throw r.data.data;return aE(this,(function(){return n.machine.transition(n.state,r,void 0,t||void 0)}))},e.prototype.nextState=function(e){return this._nextState(e,!1)},e.prototype.forward=function(e){var t,n;try{for(var r=Dv(this.forwardTo),i=r.next();!i.done;i=r.next()){var o=i.value,a=this.children.get(o);if(!a)throw new Error("Unable to forward event '".concat(e,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(o,"'."));a.send(e)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.defer=function(e){var t=this;this.delayedEventsMap[e.id]=this.clock.setTimeout((function(){e.to?t.sendTo(e._event,e.to,!0):t.send(e._event)}),e.delay)},e.prototype.cancel=function(e){this.clock.clearTimeout(this.delayedEventsMap[e]),delete this.delayedEventsMap[e]},e.prototype.exec=function(e,t,n){void 0===n&&(n=this.machine.options.actions),this._exec(e,t.context,t._event,n)},e.prototype.removeChild=function(e){var t;this.children.delete(e),this.forwardTo.delete(e),null===(t=this.state)||void 0===t||delete t.children[e]},e.prototype.stopChild=function(e){var t=this.children.get(e);t&&(this.removeChild(e),ty(t.stop)&&t.stop())},e.prototype.spawn=function(e,t,n){if(this.status!==hE.Running)return cE(e,t);if(Zv(e))return this.spawnPromise(Promise.resolve(e),t);if(ty(e))return this.spawnCallback(e,t);if(function(e){try{return"function"==typeof e.send}catch(e){return!1}}(i=e)&&"id"in i)return this.spawnActor(e,t);if(function(e){try{return"subscribe"in e&&ty(e.subscribe)}catch(e){return!1}}(e))return this.spawnObservable(e,t);if(oy(e))return this.spawnMachine(e,kv(kv({},n),{id:t}));if(null!==(r=e)&&"object"==typeof r&&"transition"in r&&"function"==typeof r.transition)return this.spawnBehavior(e,t);throw new Error('Unable to spawn entity "'.concat(t,'" of type "').concat(typeof e,'".'));var r,i},e.prototype.spawnMachine=function(t,n){var r=this;void 0===n&&(n={});var i=new e(t,kv(kv({},this.options),{parent:this,id:n.id||t.id})),o=kv(kv({},pE),n);o.sync&&i.onTransition((function(e){r.send(jy,{state:e,id:i.id})}));var a=i;return this.children.set(i.id,a),o.autoForward&&this.forwardTo.add(i.id),i.onDone((function(e){r.removeChild(i.id),r.send(sy(e,{origin:i.id}))})).start(),a},e.prototype.spawnBehavior=function(e,t){var n=function(e,t){void 0===t&&(t={});var n=e.initialState,r=new Set,i=[],o=!1,a=function(e){var t;return kv(((t={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}})[iy]=function(){return this},t),e)}({id:t.id,send:function(t){i.push(t),function(){if(!o){for(o=!0;i.length>0;){var t=i.shift();n=e.transition(n,t,s),r.forEach((function(e){return e.next(n)}))}o=!1}}()},getSnapshot:function(){return n},subscribe:function(e,t,i){var o=dy(e,t,i);return r.add(o),o.next(n),{unsubscribe:function(){r.delete(o)}}}}),s={parent:t.parent,self:a,id:t.id||"anonymous",observers:r};return n=e.start?e.start(s):n,a}(e,{id:t,parent:this});return this.children.set(t,n),n},e.prototype.spawnPromise=function(e,t){var n,r,i=this,o=!1;e.then((function(e){o||(r=e,i.removeChild(t),i.send(sy(Zy(t,e),{origin:t})))}),(function(e){if(!o){i.removeChild(t);var n=Xy(t,e);try{i.send(sy(n,{origin:t}))}catch(e){i.devTools&&i.devTools.send(n,i.state),i.machine.strict&&i.stop()}}}));var a=((n={id:t,send:function(){},subscribe:function(t,n,r){var i=dy(t,n,r),o=!1;return e.then((function(e){o||(i.next(e),o||i.complete())}),(function(e){o||i.error(e)})),{unsubscribe:function(){return o=!0}}},stop:function(){o=!0},toJSON:function(){return{id:t}},getSnapshot:function(){return r}})[iy]=function(){return this},n);return this.children.set(t,a),a},e.prototype.spawnCallback=function(e,t){var n,r,i,o=this,a=!1,s=new Set,c=new Set;try{i=e((function(e){r=e,c.forEach((function(t){return t(e)})),a||o.send(sy(e,{origin:t}))}),(function(e){s.add(e)}))}catch(e){this.send(Xy(t,e))}if(Zv(i))return this.spawnPromise(i,t);var u=((n={id:t,send:function(e){return s.forEach((function(t){return t(e)}))},subscribe:function(e){var t=dy(e);return c.add(t.next),{unsubscribe:function(){c.delete(t.next)}}},stop:function(){a=!0,ty(i)&&i()},toJSON:function(){return{id:t}},getSnapshot:function(){return r}})[iy]=function(){return this},n);return this.children.set(t,u),u},e.prototype.spawnObservable=function(e,t){var n,r,i=this,o=e.subscribe((function(e){r=e,i.send(sy(e,{origin:t}))}),(function(e){i.removeChild(t),i.send(sy(Xy(t,e),{origin:t}))}),(function(){i.removeChild(t),i.send(sy(Zy(t),{origin:t}))})),a=((n={id:t,send:function(){},subscribe:function(t,n,r){return e.subscribe(t,n,r)},stop:function(){return o.unsubscribe()},getSnapshot:function(){return r},toJSON:function(){return{id:t}}})[iy]=function(){return this},n);return this.children.set(t,a),a},e.prototype.spawnActor=function(e,t){return this.children.set(t,e),e},e.prototype.spawnActivity=function(e){var t=this.machine.options&&this.machine.options.activities?this.machine.options.activities[e.type]:void 0;if(t){var n=t(this.state.context,e);this.spawnEffect(e.id,n)}},e.prototype.spawnEffect=function(e,t){var n;this.children.set(e,((n={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:t||void 0,getSnapshot:function(){},toJSON:function(){return{id:e}}})[iy]=function(){return this},n))},e.prototype.attachDev=function(){var e=dE();if(this.options.devTools&&e){if(e.__REDUX_DEVTOOLS_EXTENSION__){var t="object"==typeof this.options.devTools?this.options.devTools:void 0;this.devTools=e.__REDUX_DEVTOOLS_EXTENSION__.connect(kv(kv({name:this.id,autoPause:!0,stateSanitizer:function(e){return{value:e.value,context:e.context,actions:e.actions}}},t),{features:kv({jump:!1,skip:!1},t?t.features:void 0)}),this.machine),this.devTools.init(this.state)}!function(e){if(dE()){var t=function(){var e=dE();if(e&&"__xstate__"in e)return e.__xstate__}();t&&t.register(e)}}(this)}},e.prototype.toJSON=function(){return{id:this.id}},e.prototype[iy]=function(){return this},e.prototype.getSnapshot=function(){return this.status===hE.NotStarted?this.initialState:this._state},e.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(e,t){return setTimeout(e,t)},clearTimeout:function(e){return clearTimeout(e)}},logger:console.log.bind(console),devTools:!1},e.interpret=mE,e}();function mE(e,t){return new gE(e,t)}function vE(e){var t=n.useRef();return t.current||(t.current={v:e()}),t.current.v}(AE=fE||(fE={}))[AE.Effect=1]="Effect",AE[AE.LayoutEffect=2]="LayoutEffect";var yE=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},EE=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function bE(e,t){(0,e.exec)(t.context,t._event.data,{action:e,state:t,_event:t._event})()}function _E(e){var t=(0,n.useRef)([]),r=(0,n.useRef)([]);nE((function(){var n=e.subscribe((function(e){var n,i;if(e.actions.length){var o=e.actions.filter((function(e){return"function"==typeof e.exec&&"__effect"in e.exec})),a=yE(function(e,t){var n,r,i=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}([[],[]],2),o=i[0],a=i[1];try{for(var s=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),c=s.next();!c.done;c=s.next()){var u=c.value;u.exec.__effect===fE.Effect?o.push(u):a.push(u)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return[o,a]}(o),2),s=a[0],c=a[1];(n=t.current).push.apply(n,EE([],yE(s.map((function(t){return[t,e]}))),!1)),(i=r.current).push.apply(i,EE([],yE(c.map((function(t){return[t,e]}))),!1))}}));return function(){n.unsubscribe()}}),[]),nE((function(){for(;r.current.length;){var e=yE(r.current.shift(),2);bE(e[0],e[1])}})),(0,n.useEffect)((function(){for(;t.current.length;){var e=yE(t.current.shift(),2);bE(e[0],e[1])}}))}var CE=function(){return CE=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},CE.apply(this,arguments)};function IE(e,t){void 0===t&&(t={});var r=(0,n.useCallback)((function(e){var t=void 0===e.changed&&Object.keys(e.children).length;(e.changed||t)&&s(e)}),[]),i=function(e,t,n){void 0===t&&(t={});var r=vE((function(){return"function"==typeof e?e():e})),i=t.context,o=t.guards,a=t.actions,s=t.activities,c=t.services,u=t.delays,l=t.state,d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(t,["context","guards","actions","activities","services","delays","state"]),h=vE((function(){var e={context:i,guards:o,actions:a,activities:s,services:c,delays:u};return mE(r.withConfig(e,(function(){return CE(CE({},r.context),i)})),CE({deferEvents:!0},d))}));return nE((function(){var e;return n&&(e=h.subscribe(function(e,t,n){if("object"==typeof e)return e;var r=function(){};return{next:e,error:r,complete:r}}(n))),function(){null==e||e.unsubscribe()}}),[n]),nE((function(){return h.start(l?tE.create(l):void 0),function(){h.stop()}}),[]),nE((function(){Object.assign(h.machine.options.actions,a),Object.assign(h.machine.options.guards,o),Object.assign(h.machine.options.activities,s),Object.assign(h.machine.options.services,c),Object.assign(h.machine.options.delays,u)}),[a,o,s,c,u]),_E(h),h}(e,t,r),o=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}((0,n.useState)((function(){var e=i.machine.initialState;return t.state?tE.create(t.state):e})),2),a=o[0],s=o[1];return[a,i.send,i]}const SE={arr:Array.isArray,obj:e=>"[object Object]"===Object.prototype.toString.call(e),fun:e=>"function"==typeof e,str:e=>"string"==typeof e,num:e=>"number"==typeof e,und:e=>void 0===e,nul:e=>null===e,set:e=>e instanceof Set,map:e=>e instanceof Map,equ(e,t){if(typeof e!=typeof t)return!1;if(SE.str(e)||SE.num(e))return e===t;if(SE.obj(e)&&SE.obj(t)&&Object.keys(e).length+Object.keys(t).length===0)return!0;let n;for(n in e)if(!(n in t))return!1;for(n in t)if(e[n]!==t[n])return!1;return!SE.und(n)||e===t}};function wE(e,t){return SE.und(e)||SE.nul(e)?t:e}function RE(e){return SE.und(e)?[]:SE.arr(e)?e:[e]}function TE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return SE.fun(e)?e(...n):e}function OE(e){const t=function(e){return e.to,e.from,e.config,e.onStart,e.onRest,e.onFrame,e.children,e.reset,e.reverse,e.force,e.immediate,e.delay,e.attach,e.destroyed,e.interpolateTo,e.ref,e.lazy,eo(e,["to","from","config","onStart","onRest","onFrame","children","reset","reverse","force","immediate","delay","attach","destroyed","interpolateTo","ref","lazy"])}(e);if(SE.und(t))return Li({to:t},e);const n=Object.keys(e).reduce(((n,r)=>SE.und(t[r])?Li({},n,{[r]:e[r]}):n),{});return Li({to:t},n)}class kE{constructor(){this.payload=void 0,this.children=[]}getAnimatedValue(){return this.getValue()}getPayload(){return this.payload||this}attach(){}detach(){}getChildren(){return this.children}addChild(e){0===this.children.length&&this.attach(),this.children.push(e)}removeChild(e){const t=this.children.indexOf(e);this.children.splice(t,1),0===this.children.length&&this.detach()}}class NE extends kE{constructor(){super(...arguments),this.payload=[],this.attach=()=>this.payload.forEach((e=>e instanceof kE&&e.addChild(this))),this.detach=()=>this.payload.forEach((e=>e instanceof kE&&e.removeChild(this)))}}class DE extends kE{constructor(){super(...arguments),this.payload={},this.attach=()=>Object.values(this.payload).forEach((e=>e instanceof kE&&e.addChild(this))),this.detach=()=>Object.values(this.payload).forEach((e=>e instanceof kE&&e.removeChild(this)))}getValue(e){void 0===e&&(e=!1);const t={};for(const n in this.payload){const r=this.payload[n];(!e||r instanceof kE)&&(t[n]=r instanceof kE?r[e?"getAnimatedValue":"getValue"]():r)}return t}getAnimatedValue(){return this.getValue(!0)}}let PE,xE;let LE,ME=e=>"undefined"!=typeof window?window.requestAnimationFrame(e):-1;let BE,FE=()=>Date.now();let UE;class jE extends DE{constructor(e,t){super(),this.update=void 0,this.payload=e.style?Li({},e,{style:UE(e.style)}):e,this.update=t,this.attach()}}let VE=!1;const QE=new Set,GE=()=>{if(!VE)return!1;let e=FE();for(let t of QE){let n=!1;for(let r=0;r<t.configs.length;r++){let i,o,a=t.configs[r];for(let t=0;t<a.animatedValues.length;t++){let r=a.animatedValues[t];if(r.done)continue;let s=a.fromValues[t],c=a.toValues[t],u=r.lastPosition,l=c instanceof kE,d=Array.isArray(a.initialVelocity)?a.initialVelocity[t]:a.initialVelocity;if(l&&(c=c.getValue()),a.immediate)r.setValue(c),r.done=!0;else if("string"!=typeof s&&"string"!=typeof c){if(void 0!==a.duration)u=s+a.easing((e-r.startTime)/a.duration)*(c-s),i=e>=r.startTime+a.duration;else if(a.decay)u=s+d/(1-.998)*(1-Math.exp(-(1-.998)*(e-r.startTime))),i=Math.abs(r.lastPosition-u)<.1,i&&(c=u);else{o=void 0!==r.lastTime?r.lastTime:e,d=void 0!==r.lastVelocity?r.lastVelocity:a.initialVelocity,e>o+64&&(o=e);let t=Math.floor(e-o);for(let e=0;e<t;++e)d+=(-a.tension*(u-c)+-a.friction*d)/a.mass*1/1e3,u+=1*d/1e3;let n=!(!a.clamp||0===a.tension)&&(s<c?u>c:u<c),l=Math.abs(d)<=a.precision,h=0===a.tension||Math.abs(c-u)<=a.precision;i=n||l&&h,r.lastVelocity=d,r.lastTime=e}l&&!a.toValues[t].done&&(i=!1),i?(r.value!==c&&(u=c),r.done=!0):n=!0,r.setValue(u),r.lastPosition=u}else r.setValue(c),r.done=!0}t.props.onFrame&&(t.values[a.name]=a.interpolation.getValue())}t.props.onFrame&&t.props.onFrame(t.values),n||(QE.delete(t),t.stop(!0))}return QE.size?ME(GE):VE=!1,VE};function qE(e,t,n){if("function"==typeof e)return e;if(Array.isArray(e))return qE({range:e,output:t,extrapolate:n});if(LE&&"string"==typeof e.output[0])return LE(e);const r=e,i=r.output,o=r.range||[0,1],a=r.extrapolateLeft||r.extrapolate||"extend",s=r.extrapolateRight||r.extrapolate||"extend",c=r.easing||(e=>e);return e=>{const t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,o);return function(e,t,n,r,i,o,a,s,c){let u=c?c(e):e;if(u<t){if("identity"===a)return u;"clamp"===a&&(u=t)}if(u>n){if("identity"===s)return u;"clamp"===s&&(u=n)}return r===i?r:t===n?e<=t?r:i:(t===-1/0?u=-u:n===1/0?u-=t:u=(u-t)/(n-t),u=o(u),r===-1/0?u=-u:i===1/0?u+=r:u=u*(i-r)+r,u)}(e,o[t],o[t+1],i[t],i[t+1],c,a,s,r.map)}}class HE extends NE{constructor(e,t,n,r){super(),this.calc=void 0,this.payload=e instanceof NE&&!(e instanceof HE)?e.getPayload():Array.isArray(e)?e:[e],this.calc=qE(t,n,r)}getValue(){return this.calc(...this.payload.map((e=>e.getValue())))}updateConfig(e,t,n){this.calc=qE(e,t,n)}interpolate(e,t,n){return new HE(this,e,t,n)}}const zE=(e,t,n)=>e&&new HE(e,t,n);function WE(e,t){"update"in e?t.add(e):e.getChildren().forEach((e=>WE(e,t)))}class KE extends kE{constructor(e){var t;super(),t=this,this.animatedStyles=new Set,this.value=void 0,this.startPosition=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.startTime=void 0,this.lastTime=void 0,this.done=!1,this.setValue=function(e,n){void 0===n&&(n=!0),t.value=e,n&&t.flush()},this.value=e,this.startPosition=e,this.lastPosition=e}flush(){0===this.animatedStyles.size&&WE(this,this.animatedStyles),this.animatedStyles.forEach((e=>e.update()))}clearStyles(){this.animatedStyles.clear()}getValue(){return this.value}interpolate(e,t,n){return new HE(this,e,t,n)}}class YE extends NE{constructor(e){super(),this.payload=e.map((e=>new KE(e)))}setValue(e,t){void 0===t&&(t=!0),Array.isArray(e)?e.length===this.payload.length&&e.forEach(((e,n)=>this.payload[n].setValue(e,t))):this.payload.forEach((n=>n.setValue(e,t)))}getValue(){return this.payload.map((e=>e.getValue()))}interpolate(e,t){return new HE(this,e,t)}}let JE=0;class ZE{constructor(){this.id=void 0,this.idle=!0,this.hasChanged=!1,this.guid=0,this.local=0,this.props={},this.merged={},this.animations={},this.interpolations={},this.values={},this.configs=[],this.listeners=[],this.queue=[],this.localQueue=void 0,this.getValues=()=>this.interpolations,this.id=JE++}update(e){if(!e)return this;const t=OE(e),n=t.delay,r=void 0===n?0:n,i=t.to,o=eo(t,["delay","to"]);if(SE.arr(i)||SE.fun(i))this.queue.push(Li({},o,{delay:r,to:i}));else if(i){let e={};Object.entries(i).forEach((t=>{let n=t[0];const i=Li({to:{[n]:t[1]},delay:TE(r,n)},o),a=e[i.delay]&&e[i.delay].to;e[i.delay]=Li({},e[i.delay],i,{to:Li({},a,i.to)})})),this.queue=Object.values(e)}return this.queue=this.queue.sort(((e,t)=>e.delay-t.delay)),this.diff(o),this}start(e){if(this.queue.length){this.idle=!1,this.localQueue&&this.localQueue.forEach((e=>{let t=e.from,n=void 0===t?{}:t,r=e.to,i=void 0===r?{}:r;SE.obj(n)&&(this.merged=Li({},n,this.merged)),SE.obj(i)&&(this.merged=Li({},this.merged,i))}));const t=this.local=++this.guid,n=this.localQueue=this.queue;this.queue=[],n.forEach(((r,i)=>{let o=r.delay,a=eo(r,["delay"]);const s=r=>{i===n.length-1&&t===this.guid&&r&&(this.idle=!0,this.props.onRest&&this.props.onRest(this.merged)),e&&e()};let c=SE.arr(a.to)||SE.fun(a.to);o?setTimeout((()=>{t===this.guid&&(c?this.runAsync(a,s):this.diff(a).start(s))}),o):c?this.runAsync(a,s):this.diff(a).start(s)}))}else SE.fun(e)&&this.listeners.push(e),this.props.onStart&&this.props.onStart(),this,QE.has(this)||QE.add(this),VE||(VE=!0,ME(GE));return this}stop(e){return this.listeners.forEach((t=>t(e))),this.listeners=[],this}pause(e){return this.stop(!0),e&&(this,QE.has(this)&&QE.delete(this)),this}runAsync(e,t){var n=this;e.delay;let r=eo(e,["delay"]);const i=this.local;let o=Promise.resolve(void 0);if(SE.arr(r.to))for(let e=0;e<r.to.length;e++){const t=e,n=Li({},r,OE(r.to[t]));SE.arr(n.config)&&(n.config=n.config[t]),o=o.then((()=>{if(i===this.guid)return new Promise((e=>this.diff(n).start(e)))}))}else if(SE.fun(r.to)){let e,t=0;o=o.then((()=>r.to((n=>{const o=Li({},r,OE(n));if(SE.arr(o.config)&&(o.config=o.config[t]),t++,i===this.guid)return e=new Promise((e=>this.diff(o).start(e)))}),(function(e){return void 0===e&&(e=!0),n.stop(e)})).then((()=>e))))}o.then(t)}diff(e){this.props=Li({},this.props,e);let t=this.props,n=t.from,r=void 0===n?{}:n,i=t.to,o=void 0===i?{}:i,a=t.config,s=void 0===a?{}:a,c=t.reverse,u=t.attach,l=t.reset,d=t.immediate;if(c){var h=[o,r];r=h[0],o=h[1]}this.merged=Li({},r,this.merged,o),this.hasChanged=!1;let p=u&&u(this);if(this.animations=Object.entries(this.merged).reduce(((e,t)=>{let n=t[0],i=t[1],o=e[n]||{};const a=SE.num(i),c=SE.str(i)&&!i.startsWith("#")&&!/\d/.test(i)&&!xE[i],u=SE.arr(i),h=!a&&!u&&!c;let f=SE.und(r[n])?i:r[n],A=a||u||c?i:1,g=TE(s,n);p&&(A=p.animations[n].parent);let m,v=o.parent,y=o.interpolation,E=RE(p?A.getPayload():A),b=i;h&&(b=LE({range:[0,1],output:[i,i]})(1));let _=y&&y.getValue();const C=!SE.und(v)&&o.animatedValues.some((e=>!e.done)),I=!SE.equ(b,_),S=!SE.equ(b,o.previous),w=!SE.equ(g,o.config);if(l||S&&I||w){if(a||c)v=y=o.parent||new KE(f);else if(u)v=y=o.parent||new YE(f);else if(h){let e=o.interpolation&&o.interpolation.calc(o.parent.value);e=void 0===e||l?f:e,o.parent?(v=o.parent,v.setValue(0,!1)):v=new KE(0);const t={output:[e,i]};o.interpolation?(y=o.interpolation,o.interpolation.updateConfig(t)):y=v.interpolate(t)}return E=RE(p?A.getPayload():A),m=RE(v.getPayload()),l&&!h&&v.setValue(f,!1),this.hasChanged=!0,m.forEach((e=>{e.startPosition=e.value,e.lastPosition=e.value,e.lastVelocity=C?e.lastVelocity:void 0,e.lastTime=C?e.lastTime:void 0,e.startTime=FE(),e.done=!1,e.animatedStyles.clear()})),TE(d,n)&&v.setValue(h?A:i,!1),Li({},e,{[n]:Li({},o,{name:n,parent:v,interpolation:y,animatedValues:m,toValues:E,previous:b,config:g,fromValues:RE(v.getValue()),immediate:TE(d,n),initialVelocity:wE(g.velocity,0),clamp:wE(g.clamp,!1),precision:wE(g.precision,.01),tension:wE(g.tension,170),friction:wE(g.friction,26),mass:wE(g.mass,1),duration:g.duration,easing:wE(g.easing,(e=>e)),decay:g.decay})})}return I?e:(h&&(v.setValue(1,!1),y.updateConfig({output:[b,b]})),v.done=!0,this.hasChanged=!0,Li({},e,{[n]:Li({},e[n],{previous:b})}))}),this.animations),this.hasChanged){this.configs=Object.values(this.animations),this.values={},this.interpolations={};for(let e in this.animations)this.interpolations[e]=this.animations[e].interpolation,this.values[e]=this.animations[e].interpolation.getValue()}return this}destroy(){this.stop(),this.props={},this.merged={},this.animations={},this.interpolations={},this.values={},this.configs=[],this.local=0}}class XE extends DE{constructor(e){void 0===e&&(e={}),super(),!e.transform||e.transform instanceof kE||(e=PE.transform(e)),this.payload=e}}const $E={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},eb="[-+]?\\d*\\.?\\d+",tb=eb+"%";function nb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}const rb=new RegExp("rgb"+nb(eb,eb,eb)),ib=new RegExp("rgba"+nb(eb,eb,eb,eb)),ob=new RegExp("hsl"+nb(eb,tb,tb)),ab=new RegExp("hsla"+nb(eb,tb,tb,eb)),sb=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,cb=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ub=/^#([0-9a-fA-F]{6})$/,lb=/^#([0-9a-fA-F]{8})$/;function db(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function hb(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,o=db(i,r,e+1/3),a=db(i,r,e),s=db(i,r,e-1/3);return Math.round(255*o)<<24|Math.round(255*a)<<16|Math.round(255*s)<<8}function pb(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function fb(e){return(parseFloat(e)%360+360)%360/360}function Ab(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function gb(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function mb(e){let t=function(e){let t;return"number"==typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=ub.exec(e))?parseInt(t[1]+"ff",16)>>>0:$E.hasOwnProperty(e)?$E[e]:(t=rb.exec(e))?(pb(t[1])<<24|pb(t[2])<<16|pb(t[3])<<8|255)>>>0:(t=ib.exec(e))?(pb(t[1])<<24|pb(t[2])<<16|pb(t[3])<<8|Ab(t[4]))>>>0:(t=sb.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=lb.exec(e))?parseInt(t[1],16)>>>0:(t=cb.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=ob.exec(e))?(255|hb(fb(t[1]),gb(t[2]),gb(t[3])))>>>0:(t=ab.exec(e))?(hb(fb(t[1]),gb(t[2]),gb(t[3]))|Ab(t[4]))>>>0:null}(e);return null===t?e:(t=t||0,`rgba(${(4278190080&t)>>>24}, ${(16711680&t)>>>16}, ${(65280&t)>>>8}, ${(255&t)/255})`)}const vb=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,yb=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Eb=new RegExp(`(${Object.keys($E).join("|")})`,"g");let bb={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};const _b=["Webkit","Ms","Moz","O"];function Cb(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||bb.hasOwnProperty(e)&&bb[e]?(""+t).trim():t+"px"}bb=Object.keys(bb).reduce(((e,t)=>(_b.forEach((n=>e[((e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1))(n,t)]=e[t])),e)),bb);const Ib={};var Sb,wb;wb=e=>new XE(e),UE=wb,BE="div",Sb=e=>{const t=e.output.map((e=>e.replace(yb,mb))).map((e=>e.replace(Eb,mb))),n=t[0].match(vb).map((()=>[]));t.forEach((e=>{e.match(vb).forEach(((e,t)=>n[t].push(+e)))}));const r=t[0].match(vb).map(((t,r)=>qE(Li({},e,{output:n[r]}))));return e=>{let n=0;return t[0].replace(vb,(()=>r[n++](e))).replace(/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,((e,t,n,r,i)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`))}},LE=Sb,xE=$E,function(e,t){PE={fn:e,transform:t}}(((e,t)=>{if(!e.nodeType||void 0===e.setAttribute)return!1;{const i=t.style,o=t.children,a=t.scrollTop,s=t.scrollLeft,c=eo(t,["style","children","scrollTop","scrollLeft"]),u="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName;void 0!==a&&(e.scrollTop=a),void 0!==s&&(e.scrollLeft=s),void 0!==o&&(e.textContent=o);for(let t in i)if(i.hasOwnProperty(t)){var n=0===t.indexOf("--"),r=Cb(t,i[t],n);"float"===t&&(t="cssFloat"),n?e.style.setProperty(t,r):e.style[t]=r}for(let t in c){const n=u?t:Ib[t]||(Ib[t]=t.replace(/([A-Z])/g,(e=>"-"+e.toLowerCase())));void 0!==e.getAttribute(n)&&e.setAttribute(n,c[t])}}}),(e=>e));const Rb=function(e,t){return void 0===t&&(t=!0),n=>(SE.arr(n)?n:Object.keys(n)).reduce(((n,r)=>{const i=t?r[0].toLowerCase()+r.substring(1):r;return n[i]=e(i),n}),e)}((e=>(0,n.forwardRef)(((t,r)=>{const i=function(){const e=(0,n.useState)(!1)[1];return(0,n.useCallback)((()=>e((e=>!e))),[])}(),o=(0,n.useRef)(!0),a=(0,n.useRef)(null),s=(0,n.useRef)(null),c=(0,n.useCallback)((e=>{const t=a.current;a.current=new jE(e,(()=>{let e=!1;s.current&&(e=PE.fn(s.current,a.current.getAnimatedValue())),s.current&&!1!==e||i()})),t&&t.detach()}),[]);(0,n.useEffect)((()=>()=>{o.current=!1,a.current&&a.current.detach()}),[]),(0,n.useImperativeHandle)(r,(()=>(e=>e.current)(s))),c(t);const u=a.current.getValue(),l=(u.scrollTop,u.scrollLeft,eo(u,["scrollTop","scrollLeft"])),d=(h=e,!SE.fun(h)||h.prototype instanceof n.Component?e=>s.current=function(e,t){return t&&(SE.fun(t)?t(e):SE.obj(t)&&(t.current=e)),e}(e,r):void 0);var h;return n.createElement(e,Li({},l,{ref:d}))}))),!1),Tb=Rb(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]);function Ob(e,t){return e.map((function(e,n){return e+t[n]}))}function kb(e,t){return e.map((function(e,n){return e-t[n]}))}function Nb(e){return Math.hypot.apply(Math,e)}function Db(e){return Math.sign?Math.sign(e):Number(e>0)-Number(e<0)||+e}function Pb(e,t,n){return 0===t||Math.abs(t)===1/0?function(e,t){return Math.pow(e,5*t)}(e,n):e*t*n/(t+n*e)}function xb(e,t,n,r){return void 0===r&&(r=.15),0===r?function(e,t,n){return Math.max(t,Math.min(e,n))}(e,t,n):e<t?-Pb(t-e,n-t,r)+t:e>n?+Pb(e-n,n-t,r)+n:e}function Lb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mb(){return Mb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mb.apply(this,arguments)}function Bb(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Fb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ub(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jb(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ub(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ub(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function Vb(){}function Qb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?Vb:1===t.length?t[0]:function(){for(var e,n,r=jb(t);!(n=r()).done;){var i=n.value;e=i.apply(this,arguments)||e}return e}}function Gb(e,t){if(void 0===e){if(void 0===t)throw new Error("Must define fallback value if undefined is expected");e=t}return Array.isArray(e)?e:[e,e]}function qb(e){if("function"==typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}return e}function Hb(e,t){void 0===e&&(e={});for(var n={},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r],a=o[0],s=o[1];switch(typeof s){case"function":n[a]=s.call(n,e[a],a,e);break;case"object":n[a]=Hb(e[a],s);break;case"boolean":s&&(n[a]=e[a])}}return n}var zb=Mb({},{threshold:function(e){return void 0===e&&(e=0),Gb(e)},rubberband:function(e){switch(void 0===e&&(e=0),e){case!0:return Gb(.15);case!1:return Gb(0);default:return Gb(e)}},enabled:function(e){return void 0===e&&(e=!0),e},triggerAllEvents:function(e){return void 0===e&&(e=!1),e},initial:function(e){return void 0===e&&(e=0),"function"==typeof e?e:Gb(e)}},{axis:!0,lockDirection:function(e){return void 0===e&&(e=!1),e},bounds:function(e){if(void 0===e&&(e={}),"function"==typeof e)return function(t){return zb.bounds(e(t))};var t=e,n=t.left,r=void 0===n?-1/0:n,i=t.right,o=void 0===i?1/0:i,a=t.top,s=void 0===a?-1/0:a,c=t.bottom;return[[r,o],[s,void 0===c?1/0:c]]}}),Wb="undefined"!=typeof window&&window.document&&window.document.createElement,Kb={enabled:function(e){return void 0===e&&(e=!0),e},domTarget:!0,window:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return void 0===e&&(e=Wb?window:void 0),e})),eventOptions:function(e){var t=void 0===e?{}:e,n=t.passive,r=void 0===n||n,i=t.capture;return{passive:r,capture:void 0!==i&&i}}},Yb=Mb({},zb,{threshold:function(e,t,n){var r=n.filterTaps,i=void 0!==r&&r,o=n.lockDirection,a=void 0!==o&&o,s=n.axis,c=Gb(e,i?3:a||(void 0===s?void 0:s)?1:0);return this.filterTaps=i||c[0]+c[1]>0,c},swipeVelocity:function(e){return void 0===e&&(e=.5),Gb(e)},swipeDistance:function(e){return void 0===e&&(e=60),Gb(e)},delay:function(e){switch(void 0===e&&(e=0),e){case!0:return 180;case!1:return 0;default:return e}}});function Jb(e){var t,n=e.domTarget,r=e.eventOptions,i=e.window,o=e.enabled,a=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["domTarget","eventOptions","window","enabled"]),s=(void 0===(t={domTarget:n,eventOptions:r,window:i,enabled:o})&&(t={}),Hb(t,Kb));return s.drag=function(e){return void 0===e&&(e={}),Hb(e,Yb)}(a),s}function Zb(e){return Mb({_active:!1,_blocked:!1,_intentional:[!1,!1],_movement:[0,0],_initial:[0,0],_bounds:[[-1/0,1/0],[-1/0,1/0]],_lastEventType:void 0,event:void 0,intentional:!1,values:[0,0],velocities:[0,0],delta:[0,0],movement:[0,0],offset:[0,0],lastOffset:[0,0],direction:[0,0],initial:[0,0],previous:[0,0],first:!1,last:!1,active:!1,timeStamp:0,startTime:0,elapsedTime:0,cancel:Vb,canceled:!1,memo:void 0,args:void 0},e)}function Xb(){return{shared:{hovering:!1,scrolling:!1,wheeling:!1,dragging:!1,moving:!1,pinching:!1,touches:0,buttons:0,down:!1,shiftKey:!1,altKey:!1,metaKey:!1,ctrlKey:!1},drag:Zb({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0,_isTap:!0,_delayedEvent:!1,_pointerId:void 0,tap:!1,swipe:[0,0]}),pinch:Zb({da:[0,0],vdva:[0,0],origin:void 0,turns:0}),wheel:Zb({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),move:Zb({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),scroll:Zb({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0})}}var $b=new Map,e_=function(){function e(e,t){var n=this;void 0===t&&(t=[]),this.controller=e,this.args=t,this.debounced=!0,this.setTimeout=function(e,t){var r;void 0===t&&(t=140),clearTimeout(n.controller.timeouts[n.stateKey]);for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];n.controller.timeouts[n.stateKey]=(r=window).setTimeout.apply(r,[e,t].concat(o))},this.clearTimeout=function(){clearTimeout(n.controller.timeouts[n.stateKey])},this.fireGestureHandler=function(e){if(void 0===e&&(e=!1),n.state._blocked)return n.debounced||(n.state._active=!1,n.clean()),null;if(!e&&!n.state.intentional&&!n.config.triggerAllEvents)return null;if(n.state.intentional){var t=n.state.active,r=n.state._active;n.state.active=r,n.state.first=r&&!t,n.state.last=t&&!r,n.controller.state.shared[n.ingKey]=r}var i=Mb({},n.controller.state.shared,n.state,n.mapStateValues(n.state)),o=n.handler(i);return n.state.memo=void 0!==o?o:n.state.memo,n.state._active||n.clean(),i}}var t,n,r=e.prototype;return r.updateSharedState=function(e){Object.assign(this.controller.state.shared,e)},r.updateGestureState=function(e){Object.assign(this.state,e)},r.checkIntentionality=function(e,t){return{_intentional:e,_blocked:!1}},r.getMovement=function(e){var t=this.config,n=t.initial,r=t.bounds,i=t.rubberband,o=t.threshold,a=this.state,s=a._bounds,c=a._initial,u=a._active,l=a._intentional,d=a.lastOffset,h=a.movement,p=this.getInternalMovement(e,this.state),f=!1===l[0]?t_(p[0],o[0]):l[0],A=!1===l[1]?t_(p[1],o[1]):l[1],g=this.checkIntentionality([f,A],p);if(g._blocked)return Mb({},g,{_movement:p,delta:[0,0]});var m,v,y,E,b=g._intentional,_=p;!1!==b[0]&&!1===l[0]&&(v=qb(n,this.state),m=qb(r,this.state),c[0]=v[0],s[0]=m[0]),!1!==b[1]&&!1===l[1]&&(v=null!=(y=v)?y:qb(n,this.state),m=null!=(E=m)?E:qb(r,this.state),c[1]=v[1],s[1]=m[1]);var C=[!1!==b[0]?p[0]-b[0]:c[0],!1!==b[1]?p[1]-b[1]:c[1]],I=Ob(C,d),S=u?i:[0,0];return C=n_(s,Ob(C,c),S),Mb({},g,{intentional:!1!==b[0]||!1!==b[1],_initial:c,_movement:_,movement:C,values:e,offset:n_(s,I,S),delta:kb(C,h)})},r.clean=function(){this.clearTimeout()},t=e,(n=[{key:"config",get:function(){return this.controller.config[this.stateKey]}},{key:"enabled",get:function(){return this.controller.config.enabled&&this.config.enabled}},{key:"state",get:function(){return this.controller.state[this.stateKey]}},{key:"handler",get:function(){return this.controller.handlers[this.stateKey]}}])&&Lb(t.prototype,n),e}();function t_(e,t){return Math.abs(e)>=t&&Db(e)*t}function n_(e,t,n){var r=t[0],i=t[1],o=n[0],a=n[1],s=e[0],c=s[0],u=s[1],l=e[1],d=l[0],h=l[1];return[xb(r,c,u,o),xb(i,d,h,a)]}function r_(e,t,n){var r=e.state,i=e.args,o=t.timeStamp,a=t.type,s=r.values;return{_lastEventType:a,event:t,timeStamp:o,elapsedTime:n?0:o-r.startTime,args:i,previous:s}}function i_(e,t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return e.call.apply(e,[this,Mb({},t,{event:n})].concat(i))}}var o_=function(e){var t=this;this.classes=e,this.bind=function(){for(var e={},n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(var o,a=jb(t.classes);!(o=a()).done;){var s=o.value;new s(t,r).addBindings(e)}for(var c=0,u=Object.entries(t.nativeRefs);c<u.length;c++){var l=u[c],d=l[0],h=l[1];h_(e,d,i_(h,Mb({},t.state.shared,{args:r})))}return t.config.domTarget?c_(t,e):u_(t,e)},this.effect=function(){return t.config.domTarget&&t.bind(),t.clean},this.clean=function(){var e=d_(t.config),n=t.config.eventOptions;e&&f_(e,l_(t.domListeners),n),Object.values(t.timeouts).forEach(clearTimeout),function(e){var t=e.config,n=t.window,r=t.eventOptions,i=e.windowListeners;if(n){for(var o in i)f_(n,i[o],r);e.windowListeners={}}}(t)},this.state=Xb(),this.timeouts={},this.domListeners=[],this.windowListeners={}};function a_(e,t){var n=e.config,r=e.windowListeners;n.window&&(f_(n.window,r[t],n.eventOptions),delete r[t])}function s_(e,t,n){var r=e.config,i=e.windowListeners;void 0===n&&(n=[]),r.window&&(f_(r.window,i[t],r.eventOptions),p_(r.window,i[t]=n,r.eventOptions))}function c_(e,t){var n=e.config,r=e.domListeners,i=d_(n);if(!i)throw new Error("domTarget must be defined");var o=n.eventOptions;f_(i,l_(r),o);for(var a=0,s=Object.entries(t);a<s.length;a++){var c=s[a],u=c[0],l=c[1],d=u.slice(2).toLowerCase();r.push([d,Qb.apply(void 0,l)])}p_(i,r,o)}function u_(e,t){for(var n={},r=e.config.eventOptions.capture?"Capture":"",i=0,o=Object.entries(t);i<o.length;i++){var a=o[i],s=a[0],c=a[1],u=Array.isArray(c)?c:[c];n[s+r]=Qb.apply(void 0,u)}return n}function l_(e){return void 0===e&&(e=[]),e.splice(0,e.length)}function d_(e){var t=e.domTarget;return t&&"current"in t?t.current:t}function h_(e,t,n){e[t]||(e[t]=[]),e[t].push(n)}function p_(e,t,n){void 0===t&&(t=[]),void 0===n&&(n={});for(var r,i=jb(t);!(r=i()).done;){var o=r.value,a=o[0],s=o[1];e.addEventListener(a,s,n)}}function f_(e,t,n){void 0===t&&(t=[]),void 0===n&&(n={});for(var r,i=jb(t);!(r=i()).done;){var o=r.value,a=o[0],s=o[1];e.removeEventListener(a,s,n)}}function A_(){}function g_(e){if("touches"in e){var t=e.targetTouches,n=e.changedTouches;return t.length>0?t:n}return null}function m_(e){var t="buttons"in e?e.buttons:0,n=g_(e),r=n&&n.length||0;return{touches:r,down:r>0||t>0,buttons:t,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey,ctrlKey:e.ctrlKey}}function v_(e){var t=g_(e),n=t?t[0]:e;return[n.clientX,n.clientY]}var y_=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).ingKey="dragging",t.stateKey="drag",t.onDragStart=function(e){t.enabled&&!t.state._active&&(s_(t.controller,t.stateKey,[["pointermove",t.onDragChange],["pointerup",t.onDragEnd],["pointercancel",t.onDragEnd]]),t.updateGestureState({_pointerId:e.pointerId}),t.config.delay>0?(t.state._delayedEvent=!0,"persist"in e&&"function"==typeof e.persist&&e.persist(),t.setTimeout(t.startDrag.bind(Fb(t)),t.config.delay,e)):t.startDrag(e))},t.onDragChange=function(e){if(!t.state.canceled&&e.pointerId===t.state._pointerId)if(t.state._active){var n=m_(e);if(n.down){t.updateSharedState(n);var r=v_(e),i=t.getKinematics(r,e),o=r_(Fb(t),e),a=t.state._isTap,s=Nb(i._movement);a&&s>=3&&(a=!1),t.updateGestureState(Mb({},o,i,{_isTap:a})),t.fireGestureHandler()}else t.onDragEnd(e)}else t.state._delayedEvent&&(t.clearTimeout(),t.startDrag(e))},t.onDragEnd=function(e){if(e.pointerId===t.state._pointerId){t.state._active=!1,t.updateSharedState({down:!1,buttons:0,touches:0});var n=t.state._isTap,r=t.state.velocities,i=r[0],o=r[1],a=t.state.movement,s=a[0],c=a[1],u=t.state._intentional,l=u[0],d=u[1],h=t.config.swipeVelocity,p=h[0],f=h[1],A=t.config.swipeDistance,g=A[0],m=A[1],v=Mb({},r_(Fb(t),e),t.getMovement(t.state.values)),y=[0,0];v.elapsedTime<220&&(!1!==l&&Math.abs(i)>p&&Math.abs(s)>g&&(y[0]=Db(i)),!1!==d&&Math.abs(o)>f&&Math.abs(c)>m&&(y[1]=Db(o))),t.updateGestureState(Mb({},v,{tap:n,swipe:y})),t.fireGestureHandler(!0===n)}},t.clean=function(){e.prototype.clean.call(Fb(t)),t.state._delayedEvent=!1,a_(t.controller,t.stateKey)},t.onCancel=function(){t.state.canceled||(t.updateGestureState({canceled:!0}),t.state._active=!1,t.updateSharedState({down:!1,buttons:0,touches:0}),requestAnimationFrame((function(){return t.fireGestureHandler()})))},t.onClick=function(e){t.state._isTap||e.stopPropagation()},t}Bb(t,e);var n=t.prototype;return n.startDrag=function(e){var t=v_(e);this.updateSharedState(m_(e)),this.updateGestureState(Mb({},function(e,t,n){var r=e.state.offset,i=n.timeStamp;return Mb({},Xb()[e.stateKey],{_active:!0,values:t,initial:t,offset:r,lastOffset:r,startTime:i})}(this,t,e),r_(this,e,!0),{_pointerId:e.pointerId,cancel:this.onCancel})),this.updateGestureState(this.getMovement(t)),this.fireGestureHandler()},n.addBindings=function(e){h_(e,"onPointerDown",this.onDragStart),this.config.filterTaps&&h_(e,this.controller.config.eventOptions.capture?"onClick":"onClickCapture",this.onClick)},t}(function(e){function t(){return e.apply(this,arguments)||this}Bb(t,e);var n=t.prototype;return n.getInternalMovement=function(e,t){return kb(e,t.initial)},n.checkIntentionality=function(e,t){if(!1===e[0]&&!1===e[1])return{_intentional:e,axis:this.state.axis};var n=t.map(Math.abs),r=n[0],i=n[1],o=this.state.axis||(r>i?"x":r<i?"y":void 0);return this.config.axis||this.config.lockDirection?o?this.config.axis&&o!==this.config.axis?{_intentional:e,_blocked:!0,axis:o}:(e["x"===o?1:0]=!1,{_intentional:e,_blocked:!1,axis:o}):{_intentional:[!1,!1],_blocked:!1,axis:o}:{_intentional:e,_blocked:!1,axis:o}},n.getKinematics=function(e,t){var n=this.getMovement(e);if(!n._blocked){var r=t.timeStamp-this.state.timeStamp;Object.assign(n,function(e,t,n){var r=Nb(t),i=0===r?0:1/r,o=0===n?0:1/n,a=o*r,s=t.map((function(e){return o*e})),c=t.map((function(e){return i*e}));return{velocities:s,velocity:a,distance:Nb(e),direction:c}}(n.movement,n.delta,r))}return n},n.mapStateValues=function(e){return{xy:e.values,vxvy:e.velocities}},t}(e_));function E_(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var n,r,i,o;if(Array.isArray(e)){if((n=e.length)!==t.length)return!1;for(r=n;0!=r--;)if(!E_(e[r],t[r]))return!1;return!0}if("function"==typeof Map&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;for(o=e.entries();!(r=o.next()).done;)if(!E_(r.value[1],t.get(r.value[0])))return!1;return!0}if("function"==typeof Set&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if((n=(i=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if("undefined"!=typeof Element&&e instanceof Element)return!1;for(r=n;0!=r--;)if(!("_owner"===i[r]&&e.$$typeof||E_(e[i[r]],t[i[r]])))return!1;return!0}return e!=e&&t!=t}function b_(e,t){try{return E_(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}var __=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],C_=__.join(","),I_="undefined"==typeof Element,S_=I_?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,w_=!I_&&Element.prototype.getRootNode?function(e){return e.getRootNode()}:function(e){return e.ownerDocument},R_=function(e,t,n){var r=Array.prototype.slice.apply(e.querySelectorAll(C_));return t&&S_.call(e,C_)&&r.unshift(e),r.filter(n)},T_=function e(t,n,r){for(var i=[],o=Array.from(t);o.length;){var a=o.shift();if("SLOT"===a.tagName){var s=a.assignedElements(),c=e(s.length?s:a.children,!0,r);r.flatten?i.push.apply(i,c):i.push({scope:a,candidates:c})}else{S_.call(a,C_)&&r.filter(a)&&(n||!t.includes(a))&&i.push(a);var u=a.shadowRoot||"function"==typeof r.getShadowRoot&&r.getShadowRoot(a),l=!r.shadowRootFilter||r.shadowRootFilter(a);if(u&&l){var d=e(!0===u?a.children:u.children,!0,r);r.flatten?i.push.apply(i,d):i.push({scope:a,candidates:d})}else o.unshift.apply(o,a.children)}}return i},O_=function(e,t){return e.tabIndex<0&&(t||/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||e.isContentEditable)&&isNaN(parseInt(e.getAttribute("tabindex"),10))?0:e.tabIndex},k_=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},N_=function(e){return"INPUT"===e.tagName},D_=function(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;return 0===n&&0===r},P_=function(e,t){return!(t.disabled||function(e){return N_(e)&&"hidden"===e.type}(t)||function(e,t){var n=t.displayCheck,r=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var i=S_.call(e,"details>summary:first-of-type")?e.parentElement:e;if(S_.call(i,"details:not([open]) *"))return!0;var o=w_(e).host,a=(null==o?void 0:o.ownerDocument.contains(o))||e.ownerDocument.contains(e);if(n&&"full"!==n){if("non-zero-area"===n)return D_(e)}else{if("function"==typeof r){for(var s=e;e;){var c=e.parentElement,u=w_(e);if(c&&!c.shadowRoot&&!0===r(c))return D_(e);e=e.assignedSlot?e.assignedSlot:c||u===e.ownerDocument?c:u.host}e=s}if(a)return!e.getClientRects().length}return!1}(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var r=t.children.item(n);if("LEGEND"===r.tagName)return!!S_.call(t,"fieldset[disabled] *")||!r.contains(e)}return!0}t=t.parentElement}return!1}(t))},x_=function(e,t){return!(function(e){return function(e){return N_(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,n=e.form||w_(e),r=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=r(window.CSS.escape(e.name));else try{t=r(e.name)}catch(e){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",e.message),!1}var i=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form);return!i||i===e}(e)}(t)||O_(t)<0||!P_(e,t))},L_=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},M_=function e(t){var n=[],r=[];return t.forEach((function(t,i){var o=!!t.scope,a=o?t.scope:t,s=O_(a,o),c=o?e(t.candidates):a;0===s?o?n.push.apply(n,c):n.push(a):r.push({documentOrder:i,tabIndex:s,item:t,isScope:o,content:c})})),r.sort(k_).reduce((function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e}),[]).concat(n)},B_=function(e,t){var n;return n=(t=t||{}).getShadowRoot?T_([e],t.includeContainer,{filter:x_.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:L_}):R_(e,t.includeContainer,x_.bind(null,t)),M_(n)},F_=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==S_.call(e,C_)&&x_(t,e)},U_=__.concat("iframe").join(","),j_=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==S_.call(e,U_)&&P_(t,e)};function V_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V_(Object(n),!0).forEach((function(t){G_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q_,H_=(q_=[],{activateTrap:function(e){if(q_.length>0){var t=q_[q_.length-1];t!==e&&t.pause()}var n=q_.indexOf(e);-1===n||q_.splice(n,1),q_.push(e)},deactivateTrap:function(e){var t=q_.indexOf(e);-1!==t&&q_.splice(t,1),q_.length>0&&q_[q_.length-1].unpause()}}),z_=function(e){return setTimeout(e,0)},W_=function(e,t){var n=-1;return e.every((function(e,r){return!t(e)||(n=r,!1)})),n},K_=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"function"==typeof e?e.apply(void 0,n):e},Y_=function(e){return e.target.shadowRoot&&"function"==typeof e.composedPath?e.composedPath()[0]:e.target},J_=!1;if("undefined"!=typeof window){var Z_={get passive(){J_=!0}};window.addEventListener("testPassive",null,Z_),window.removeEventListener("testPassive",null,Z_)}var X_,$_="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1),eC=[],tC=!1,nC=-1,rC=void 0,iC=void 0,oC=function(e){return eC.some((function(t){return!(!t.options.allowTouchMove||!t.options.allowTouchMove(e))}))},aC=function(e){var t=e||window.event;return!!oC(t.target)||t.touches.length>1||(t.preventDefault&&t.preventDefault(),!1)},sC=[],cC="ResizeObserver loop completed with undelivered notifications.";!function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(X_||(X_={}));var uC,lC=function(e){return Object.freeze(e)},dC=function(e,t){this.inlineSize=e,this.blockSize=t,lC(this)},hC=function(){function e(e,t,n,r){return this.x=e,this.y=t,this.width=n,this.height=r,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,lC(this)}return e.prototype.toJSON=function(){var e=this;return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),pC=function(e){return e instanceof SVGElement&&"getBBox"in e},fC=function(e){if(pC(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var i=e,o=i.offsetWidth,a=i.offsetHeight;return!(o||a||e.getClientRects().length)},AC=function(e){var t;if(e instanceof Element)return!0;var n=null===(t=null==e?void 0:e.ownerDocument)||void 0===t?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},gC="undefined"!=typeof window?window:{},mC=new WeakMap,vC=/auto|scroll/,yC=/^tb|vertical/,EC=/msie|trident/i.test(gC.navigator&&gC.navigator.userAgent),bC=function(e){return parseFloat(e||"0")},_C=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=!1),new dC((n?t:e)||0,(n?e:t)||0)},CC=lC({devicePixelContentBoxSize:_C(),borderBoxSize:_C(),contentBoxSize:_C(),contentRect:new hC(0,0,0,0)}),IC=function(e,t){if(void 0===t&&(t=!1),mC.has(e)&&!t)return mC.get(e);if(fC(e))return mC.set(e,CC),CC;var n=getComputedStyle(e),r=pC(e)&&e.ownerSVGElement&&e.getBBox(),i=!EC&&"border-box"===n.boxSizing,o=yC.test(n.writingMode||""),a=!r&&vC.test(n.overflowY||""),s=!r&&vC.test(n.overflowX||""),c=r?0:bC(n.paddingTop),u=r?0:bC(n.paddingRight),l=r?0:bC(n.paddingBottom),d=r?0:bC(n.paddingLeft),h=r?0:bC(n.borderTopWidth),p=r?0:bC(n.borderRightWidth),f=r?0:bC(n.borderBottomWidth),A=d+u,g=c+l,m=(r?0:bC(n.borderLeftWidth))+p,v=h+f,y=s?e.offsetHeight-v-e.clientHeight:0,E=a?e.offsetWidth-m-e.clientWidth:0,b=i?A+m:0,_=i?g+v:0,C=r?r.width:bC(n.width)-b-E,I=r?r.height:bC(n.height)-_-y,S=C+A+E+m,w=I+g+y+v,R=lC({devicePixelContentBoxSize:_C(Math.round(C*devicePixelRatio),Math.round(I*devicePixelRatio),o),borderBoxSize:_C(S,w,o),contentBoxSize:_C(C,I,o),contentRect:new hC(d,c,C,I)});return mC.set(e,R),R},SC=function(e,t,n){var r=IC(e,n),i=r.borderBoxSize,o=r.contentBoxSize,a=r.devicePixelContentBoxSize;switch(t){case X_.DEVICE_PIXEL_CONTENT_BOX:return a;case X_.BORDER_BOX:return i;default:return o}},wC=function(e){var t=IC(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=lC([t.borderBoxSize]),this.contentBoxSize=lC([t.contentBoxSize]),this.devicePixelContentBoxSize=lC([t.devicePixelContentBoxSize])},RC=function(e){if(fC(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},TC=function(){var e=1/0,t=[];sC.forEach((function(n){if(0!==n.activeTargets.length){var r=[];n.activeTargets.forEach((function(t){var n=new wC(t.target),i=RC(t.target);r.push(n),t.lastReportedSize=SC(t.target,t.observedBox),i<e&&(e=i)})),t.push((function(){n.callback.call(n.observer,r,n.observer)})),n.activeTargets.splice(0,n.activeTargets.length)}}));for(var n=0,r=t;n<r.length;n++)(0,r[n])();return e},OC=function(e){sC.forEach((function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach((function(n){n.isActive()&&(RC(n.target)>e?t.activeTargets.push(n):t.skippedTargets.push(n))}))}))},kC=[],NC=0,DC={attributes:!0,characterData:!0,childList:!0,subtree:!0},PC=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],xC=function(e){return void 0===e&&(e=0),Date.now()+e},LC=!1,MC=function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t=this;if(void 0===e&&(e=250),!LC){LC=!0;var n,r=xC(e);n=function(){var n=!1;try{n=function(){var e,t=0;for(OC(t);sC.some((function(e){return e.activeTargets.length>0}));)t=TC(),OC(t);return sC.some((function(e){return e.skippedTargets.length>0}))&&("function"==typeof ErrorEvent?e=new ErrorEvent("error",{message:cC}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=cC),window.dispatchEvent(e)),t>0}()}finally{if(LC=!1,e=r-xC(),!NC)return;n?t.run(1e3):e>0?t.run(e):t.start()}},function(e){if(!uC){var t=0,n=document.createTextNode("");new MutationObserver((function(){return kC.splice(0).forEach((function(e){return e()}))})).observe(n,{characterData:!0}),uC=function(){n.textContent="".concat(t?t--:t++)}}kC.push(e),uC()}((function(){requestAnimationFrame(n)}))}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,DC)};document.body?t():gC.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),PC.forEach((function(t){return gC.addEventListener(t,e.listener,!0)})))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),PC.forEach((function(t){return gC.removeEventListener(t,e.listener,!0)})),this.stopped=!0)},e}(),BC=new MC,FC=function(e){!NC&&e>0&&BC.start(),!(NC+=e)&&BC.stop()},UC=function(){function e(e,t){this.target=e,this.observedBox=t||X_.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e=SC(this.target,this.observedBox,!0);return function(e){return!pC(e)&&!function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(e)&&"inline"===getComputedStyle(e).display}(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},e}(),jC=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},VC=new WeakMap,QC=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},GC=function(){function e(){}return e.connect=function(e,t){var n=new jC(e,t);VC.set(e,n)},e.observe=function(e,t,n){var r=VC.get(e),i=0===r.observationTargets.length;QC(r.observationTargets,t)<0&&(i&&sC.push(r),r.observationTargets.push(new UC(t,n&&n.box)),FC(1),BC.schedule())},e.unobserve=function(e,t){var n=VC.get(e),r=QC(n.observationTargets,t),i=1===n.observationTargets.length;r>=0&&(i&&sC.splice(sC.indexOf(n),1),n.observationTargets.splice(r,1),FC(-1))},e.disconnect=function(e){var t=this,n=VC.get(e);n.observationTargets.slice().forEach((function(n){return t.unobserve(e,n.target)})),n.activeTargets.splice(0,n.activeTargets.length)},e}(),qC=function(){function e(e){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof e)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");GC.connect(this,e)}return e.prototype.observe=function(e,t){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!AC(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");GC.observe(this,e,t)},e.prototype.unobserve=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!AC(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");GC.unobserve(this,e)},e.prototype.disconnect=function(){GC.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();function HC(e){return"string"==typeof e?{type:e,toString:function(){return e}}:e}function zC(e){return kv(kv({type:By},e),{toJSON:function(){e.onDone,e.onError;var t=Nv(e,["onDone","onError"]);return kv(kv({},t),{type:By,src:HC(e.src)})}})}var WC={},KC=function(e){return"#"===e[0]},YC=function(){function e(t,n,r,i){void 0===r&&(r="context"in t?t.context:void 0);var o,a=this;this.config=t,this._context=r,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign({actions:{},guards:{},services:{},activities:{},delays:{}},n),this.parent=null==i?void 0:i.parent,this.key=this.config.key||(null==i?void 0:i.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:"."),this.id=this.config.id||xv([this.machine.key],Pv(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:null!==(o=this.config.schema)&&void 0!==o?o:{},this.description=this.config.description,this.initial=this.config.initial,this.states=this.config.states?Gv(this.config.states,(function(t,n){var r,i=new e(t,{},void 0,{parent:a,key:n});return Object.assign(a.idMap,kv(((r={})[i.id]=i,r),i.idMap)),i})):WC;var s=0;!function e(t){var n,r;t.order=s++;try{for(var i=Dv(vy(t)),o=i.next();!o.done;o=i.next())e(o.value)}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}(this),this.history=!0===this.config.history?"shallow":this.config.history||!1,this._transient=!!this.config.always||!!this.config.on&&(Array.isArray(this.config.on)?this.config.on.some((function(e){return""===e.event})):""in this.config.on),this.strict=!!this.config.strict,this.onEntry=Yv(this.config.entry||this.config.onEntry).map((function(e){return Hy(e)})),this.onExit=Yv(this.config.exit||this.config.onExit).map((function(e){return Hy(e)})),this.meta=this.config.meta,this.doneData="final"===this.type?this.config.data:void 0,this.invoke=Yv(this.config.invoke).map((function(e,t){var n,r;if(oy(e)){var i=hy(a.id,t);return a.machine.options.services=kv(((n={})[i]=e,n),a.machine.options.services),zC({src:i,id:i})}if(ny(e.src))return i=e.id||hy(a.id,t),zC(kv(kv({},e),{id:i,src:e.src}));if(oy(e.src)||ty(e.src))return i=e.id||hy(a.id,t),a.machine.options.services=kv(((r={})[i]=e.src,r),a.machine.options.services),zC(kv(kv({id:i},e),{src:i}));var o=e.src;return zC(kv(kv({id:hy(a.id,t)},e),{src:o}))})),this.activities=Yv(this.config.activities).concat(this.invoke).map((function(e){return Wy(e)})),this.transition=this.transition.bind(this),this.tags=Yv(this.config.tags)}return e.prototype._init=function(){this.__cache.transitions||Ey(this).forEach((function(e){return e.on}))},e.prototype.withConfig=function(t,n){var r=this.options,i=r.actions,o=r.activities,a=r.guards,s=r.services,c=r.delays;return new e(this.config,{actions:kv(kv({},i),t.actions),activities:kv(kv({},o),t.activities),guards:kv(kv({},a),t.guards),services:kv(kv({},s),t.services),delays:kv(kv({},c),t.delays)},null!=n?n:this.context)},e.prototype.withContext=function(t){return new e(this.config,this.options,t)},Object.defineProperty(e.prototype,"context",{get:function(){return ty(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:Gv(this.states,(function(e){return e.definition})),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return this.definition},Object.defineProperty(e.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var e=this.transitions;return this.__cache.on=e.reduce((function(e,t){return e[t.eventType]=e[t.eventType]||[],e[t.eventType].push(t),e}),{})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),e.prototype.getCandidates=function(e){if(this.__cache.candidates[e])return this.__cache.candidates[e];var t=""===e,n=this.transitions.filter((function(n){var r=n.eventType===e;return t?r:r||"*"===n.eventType}));return this.__cache.candidates[e]=n,n},e.prototype.getDelayedTransitions=function(){var e=this,t=this.config.after;if(!t)return[];var n=function(t,n){var r=function(e,t){var n=t?"#".concat(t):"";return"".concat(py.After,"(").concat(e,")").concat(n)}(ty(t)?"".concat(e.id,":delay[").concat(n,"]"):t,e.id);return e.onEntry.push(Yy(r,{delay:t})),e.onExit.push({type:Dy,sendId:r}),r},r=ey(t)?t.map((function(e,t){var r=n(e.delay,t);return kv(kv({},e),{event:r})})):Wv(Object.keys(t).map((function(e,r){var i=t[e],o=ny(i)?{target:i}:i,a=isNaN(+e)?e:+e,s=n(a,r);return Yv(o).map((function(e){return kv(kv({},e),{event:s,delay:a})}))})));return r.map((function(t){var n=t.delay;return kv(kv({},e.formatTransition(t)),{delay:n})}))},e.prototype.getStateNodes=function(e){var t,n=this;if(!e)return[];var r=e instanceof tE?e.value:Vv(e,this.delimiter);if(ny(r)){var i=this.getStateNode(r).initial;return void 0!==i?this.getStateNodes(((t={})[r]=i,t)):[this,this.states[r]]}var o=Object.keys(r),a=[this];return a.push.apply(a,xv([],Pv(Wv(o.map((function(e){return n.getStateNode(e).getStateNodes(r[e])})))),!1)),a},e.prototype.handles=function(e){var t=Uv(e);return this.events.includes(t)},e.prototype.resolveState=function(e){var t=e instanceof tE?e:tE.create(e),n=Array.from(by([],this.getStateNodes(t.value)));return new tE(kv(kv({},t),{value:this.resolve(t.value),configuration:n,done:wy(n,this),tags:Ry(n),machine:this.machine}))},e.prototype.transitionLeafNode=function(e,t,n){var r=this.getStateNode(e).next(t,n);return r&&r.transitions.length?r:this.next(t,n)},e.prototype.transitionCompoundNode=function(e,t,n){var r=Object.keys(e),i=this.getStateNode(r[0])._transition(e[r[0]],t,n);return i&&i.transitions.length?i:this.next(t,n)},e.prototype.transitionParallelNode=function(e,t,n){var r,i,o={};try{for(var a=Dv(Object.keys(e)),s=a.next();!s.done;s=a.next()){var c=s.value,u=e[c];if(u){var l=this.getStateNode(c)._transition(u,t,n);l&&(o[c]=l)}}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}var d=Object.keys(o).map((function(e){return o[e]})),h=Wv(d.map((function(e){return e.transitions})));if(!d.some((function(e){return e.transitions.length>0})))return this.next(t,n);var p=Wv(d.map((function(e){return e.entrySet}))),f=Wv(Object.keys(o).map((function(e){return o[e].configuration})));return{transitions:h,entrySet:p,exitSet:Wv(d.map((function(e){return e.exitSet}))),configuration:f,source:t,actions:Wv(Object.keys(o).map((function(e){return o[e].actions})))}},e.prototype._transition=function(e,t,n){return ny(e)?this.transitionLeafNode(e,t,n):1===Object.keys(e).length?this.transitionCompoundNode(e,t,n):this.transitionParallelNode(e,t,n)},e.prototype.getTransitionData=function(e,t){return this._transition(e.value,e,sy(t))},e.prototype.next=function(e,t){var n,r,i,o=this,a=t.name,s=[],c=[];try{for(var u=Dv(this.getCandidates(a)),l=u.next();!l.done;l=u.next()){var d=l.value,h=d.cond,p=d.in,f=e.context,A=!p||(ny(p)&&KC(p)?e.matches(Vv(this.getStateNodeById(p).path,this.delimiter)):Fv(Vv(p,this.delimiter),Hv(this.path.slice(0,-2))(e.value))),g=!1;try{g=!h||uy(this.machine,h,f,t,e)}catch(e){throw new Error("Unable to evaluate guard '".concat(h.name||h.type,"' in transition for event '").concat(a,"' in state node '").concat(this.id,"':\n").concat(e.message))}if(g&&A){void 0!==d.target&&(c=d.target),s.push.apply(s,xv([],Pv(d.actions),!1)),i=d;break}}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}if(i){if(!c.length)return{transitions:[i],entrySet:[],exitSet:[],configuration:e.value?[this]:[],source:e,actions:s};var m=Wv(c.map((function(t){return o.getRelativeStateNodes(t,e.historyValue)}))),v=!!i.internal,y=[];return v||c.forEach((function(e){y.push.apply(y,xv([],Pv(o.getExternalReentryNodes(e)),!1))})),{transitions:[i],entrySet:y,exitSet:v?[]:[this],configuration:m,source:e,actions:s}}},e.prototype.getExternalReentryNodes=function(e){for(var t=[],n=Pv(e.order>this.order?[e,this]:[this,e],2),r=n[0],i=n[1];r&&r!==i;)t.push(r),r=r.parent;return r!==i?[]:(t.push(i),t)},e.prototype.getActions=function(e,t,n,r,i,o,a){var s,c,u,l,d=this,h=by([],o?this.getStateNodes(o.value):[this]);try{for(var p=Dv(e),f=p.next();!f.done;f=p.next())(!Sy(h,m=f.value)||Sy(n.entrySet,m.parent)&&!Sy(n.entrySet,m))&&n.entrySet.push(m)}catch(e){s={error:e}}finally{try{f&&!f.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}try{for(var A=Dv(h),g=A.next();!g.done;g=A.next()){var m;Sy(e,m=g.value)&&!Sy(n.exitSet,m.parent)||n.exitSet.push(m)}}catch(e){u={error:e}}finally{try{g&&!g.done&&(l=A.return)&&l.call(A)}finally{if(u)throw u.error}}var v=Wv(n.entrySet.map((function(e){var t=[];if("final"!==e.type)return t;var o=e.parent;if(!o.parent)return t;t.push(Jy(e.id,e.doneData),Jy(o.id,e.doneData?Jv(e.doneData,r,i):void 0));var a=o.parent;return"parallel"===a.type&&yy(a).every((function(e){return wy(n.configuration,e)}))&&t.push(Jy(a.id)),t})));n.exitSet.sort((function(e,t){return t.order-e.order})),n.entrySet.sort((function(e,t){return e.order-t.order}));var y=new Set(n.entrySet),E=new Set(n.exitSet),b=Array.from(y).map((function(e){var t=e.onEntry,n=e.activities.map((function(e){return function(e){var t=Wy(e);return{type:py.Start,activity:t,exec:void 0}}(e)}));return zy(a?xv(xv([],Pv(t),!1),Pv(n),!1):xv(xv([],Pv(n),!1),Pv(t),!1),d.machine.options.actions)})).concat([v.map(Ky)]),_=Array.from(E).map((function(e){return zy(xv(xv([],Pv(e.onExit),!1),Pv(e.activities.map((function(e){return function(e){var t=ty(e)?e:Wy(e);return{type:py.Stop,activity:t,exec:void 0}}(e)}))),!1),d.machine.options.actions)})).concat([zy(n.actions,this.machine.options.actions)]).concat(b);if(t){var C=zy(Wv(xv([],Pv(e),!1).sort((function(e,t){return t.order-e.order})).map((function(e){return e.onExit}))),this.machine.options.actions).filter((function(e){return e.type!==ky&&(e.type!==Ny||!!e.to&&e.to!==fy.Internal)}));return _.concat([C])}return _},e.prototype.transition=function(e,t,n,r){void 0===e&&(e=this.initialState);var i,o,a=sy(t);if(e instanceof tE)i=void 0===n?e:this.resolveState(tE.from(e,n));else{var s=ny(e)?this.resolve(Qv(this.getResolvedPath(e))):this.resolve(e),c=null!=n?n:this.machine.context;i=this.resolveState(tE.from(s,c))}if(this.strict&&!this.events.includes(a.name)&&(o=a.name,!/^(done|error)\./.test(o)))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(a.name,"'"));var u=this._transition(i.value,i,a)||{transitions:[],configuration:[],entrySet:[],exitSet:[],source:i,actions:[]},l=by([],this.getStateNodes(i.value)),d=u.configuration.length?by(l,u.configuration):l;return u.configuration=xv([],Pv(d),!1),this.resolveTransition(u,i,i.context,r,a)},e.prototype.resolveRaisedTransition=function(e,t,n,r){var i,o=e.actions;return(e=this.transition(e,t,void 0,r))._event=n,e.event=n.data,(i=e.actions).unshift.apply(i,xv([],Pv(o),!1)),e},e.prototype.resolveTransition=function(e,t,n,r,i){var o,a,s,c,u=this;void 0===i&&(i=Gy);var l=e.configuration,d=!t||e.transitions.length>0,h=d?e.configuration:t?t.configuration:[],p=wy(h,this),f=d?Iy(this.machine,l):void 0,A=t?t.historyValue?t.historyValue:e.source?this.machine.historyValue(t.value):void 0:void 0,g=this.getActions(new Set(h),p,e,n,i,t,r),m=t?kv({},t.activities):{};try{for(var v=Dv(g),y=v.next();!y.done;y=v.next()){var E=y.value;try{for(var b=(s=void 0,Dv(E)),_=b.next();!_.done;_=b.next()){var C=_.value;C.type===Ty?m[C.activity.id||C.activity.type]=C:C.type===Oy&&(m[C.activity.id||C.activity.type]=!1)}}catch(e){s={error:e}}finally{try{_&&!_.done&&(c=b.return)&&c.call(b)}finally{if(s)throw s.error}}}}catch(e){o={error:e}}finally{try{y&&!y.done&&(a=v.return)&&a.call(v)}finally{if(o)throw o.error}}var I,S,w=Pv($y(this,t,n,i,g,r,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),R=w[0],T=w[1],O=Pv(function(e,t){var n,r,i=Pv([[],[]],2),o=i[0],a=i[1];try{for(var s=Dv(e),c=s.next();!c.done;c=s.next()){var u=c.value;t(u)?o.push(u):a.push(u)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return[o,a]}(R,(function(e){return e.type===ky||e.type===Ny&&e.to===fy.Internal})),2),k=O[0],N=O[1],D=R.filter((function(e){var t;return e.type===Ty&&(null===(t=e.activity)||void 0===t?void 0:t.type)===By})),P=D.reduce((function(e,t){return e[t.activity.id]=function(e,t,n,r){var i,o=ly(e.src),a=null===(i=null==t?void 0:t.options.services)||void 0===i?void 0:i[o.type],s=e.data?Jv(e.data,n,r):void 0,c=a?cE(a,e.id,s):sE(e.id);return c.meta=e,c}(t.activity,u.machine,T,i),e}),t?kv({},t.children):{}),x=new tE({value:f||t.value,context:T,_event:i,_sessionid:t?t._sessionid:null,historyValue:f?A?(I=A,S=f,{current:S,states:Xv(I,S)}):void 0:t?t.historyValue:void 0,history:!f||e.source?t:void 0,actions:f?N:[],activities:f?m:t?t.activities:{},events:[],configuration:h,transitions:e.transitions,children:P,done:p,tags:Ry(h),machine:this}),L=n!==T;x.changed=i.name===jy||L;var M=x.history;M&&delete M.history;var B=!p&&(this._transient||l.some((function(e){return e._transient})));if(!(d||B&&""!==i.name))return x;var F=x;if(!p)for(B&&(F=this.resolveRaisedTransition(F,{type:Py},i,r));k.length;){var U=k.shift();F=this.resolveRaisedTransition(F,U._event,i,r)}var j=F.changed||(M?!!F.actions.length||L||typeof M.value!=typeof F.value||!eE(F.value,M.value):void 0);return F.changed=j,F.history=M,F},e.prototype.getStateNode=function(e){if(KC(e))return this.machine.getStateNodeById(e);if(!this.states)throw new Error("Unable to retrieve child state '".concat(e,"' from '").concat(this.id,"'; no child states exist."));var t=this.states[e];if(!t)throw new Error("Child state '".concat(e,"' does not exist on '").concat(this.id,"'"));return t},e.prototype.getStateNodeById=function(e){var t=KC(e)?e.slice("#".length):e;if(t===this.id)return this;var n=this.machine.idMap[t];if(!n)throw new Error("Child state node '#".concat(t,"' does not exist on machine '").concat(this.id,"'"));return n},e.prototype.getStateNodeByPath=function(e){if("string"==typeof e&&KC(e))try{return this.getStateNodeById(e.slice(1))}catch(e){}for(var t=jv(e,this.delimiter).slice(),n=this;t.length;){var r=t.shift();if(!r.length)break;n=n.getStateNode(r)}return n},e.prototype.resolve=function(e){var t,n=this;if(!e)return this.initialStateValue||WC;switch(this.type){case"parallel":return Gv(this.initialStateValue,(function(t,r){return t?n.getStateNode(r).resolve(e[r]||t):WC}));case"compound":if(ny(e)){var r=this.getStateNode(e);return"parallel"===r.type||"compound"===r.type?((t={})[e]=r.initialStateValue,t):e}return Object.keys(e).length?Gv(e,(function(e,t){return e?n.getStateNode(t).resolve(e):WC})):this.initialStateValue||{};default:return e||WC}},e.prototype.getResolvedPath=function(e){if(KC(e)){var t=this.machine.idMap[e.slice("#".length)];if(!t)throw new Error("Unable to find state node '".concat(e,"'"));return t.path}return jv(e,this.delimiter)},Object.defineProperty(e.prototype,"initialStateValue",{get:function(){var e,t;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;if("parallel"===this.type)t=qv(this.states,(function(e){return e.initialStateValue||WC}),(function(e){return!("history"===e.type)}));else if(void 0!==this.initial){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));t=my(this.states[this.initial])?this.initial:((e={})[this.initial]=this.states[this.initial].initialStateValue,e)}else t={};return this.__cache.initialStateValue=t,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),e.prototype.getInitialState=function(e,t){this._init();var n=this.getStateNodes(e);return this.resolveTransition({configuration:n,entrySet:n,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,null!=t?t:this.machine.context,void 0)},Object.defineProperty(e.prototype,"initialState",{get:function(){var e=this.initialStateValue;if(!e)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){var e;if("history"===this.type){var t=this.config;e=ny(t.target)&&KC(t.target)?Qv(this.machine.getStateNodeById(t.target).path.slice(this.path.length-1)):t.target}return e},enumerable:!1,configurable:!0}),e.prototype.getRelativeStateNodes=function(e,t,n){return void 0===n&&(n=!0),n?"history"===e.type?e.resolveHistory(t):e.initialStateNodes:[e]},Object.defineProperty(e.prototype,"initialStateNodes",{get:function(){var e=this;return my(this)?[this]:"compound"!==this.type||this.initial?Wv(zv(this.initialStateValue).map((function(t){return e.getFromRelativePath(t)}))):[this]},enumerable:!1,configurable:!0}),e.prototype.getFromRelativePath=function(e){if(!e.length)return[this];var t=Pv(e),n=t[0],r=t.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(n,"' from node with no states"));var i=this.getStateNode(n);if("history"===i.type)return i.resolveHistory();if(!this.states[n])throw new Error("Child state '".concat(n,"' does not exist on '").concat(this.id,"'"));return this.states[n].getFromRelativePath(r)},e.prototype.historyValue=function(e){if(Object.keys(this.states).length)return{current:e||this.initialStateValue,states:qv(this.states,(function(t,n){if(!e)return t.historyValue();var r=ny(e)?void 0:e[n];return t.historyValue(r||t.initialStateValue)}),(function(e){return!e.history}))}},e.prototype.resolveHistory=function(e){var t=this;if("history"!==this.type)return[this];var n=this.parent;if(!e){var r=this.target;return r?Wv(zv(r).map((function(e){return n.getFromRelativePath(e)}))):n.initialStateNodes}var i,o=(i=n.path,"states",function(e){var t,n,r=e;try{for(var o=Dv(i),a=o.next();!a.done;a=o.next()){var s=a.value;r=r.states[s]}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r})(e).current;return ny(o)?[n.getStateNode(o)]:Wv(zv(o).map((function(e){return"deep"===t.history?n.getFromRelativePath(e):[n.states[e[0]]]})))},Object.defineProperty(e.prototype,"stateIds",{get:function(){var e=this,t=Wv(Object.keys(this.states).map((function(t){return e.states[t].stateIds})));return[this.id].concat(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){var e,t,n,r;if(this.__cache.events)return this.__cache.events;var i=this.states,o=new Set(this.ownEvents);if(i)try{for(var a=Dv(Object.keys(i)),s=a.next();!s.done;s=a.next()){var c=i[s.value];if(c.states)try{for(var u=(n=void 0,Dv(c.events)),l=u.next();!l.done;l=u.next()){var d=l.value;o.add("".concat(d))}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return this.__cache.events=Array.from(o)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ownEvents",{get:function(){var e=new Set(this.transitions.filter((function(e){return!(!e.target&&!e.actions.length&&e.internal)})).map((function(e){return e.eventType})));return Array.from(e)},enumerable:!1,configurable:!0}),e.prototype.resolveTarget=function(e){var t=this;if(void 0!==e)return e.map((function(e){if(!ny(e))return e;var n=e[0]===t.delimiter;if(n&&!t.parent)return t.getStateNodeByPath(e.slice(1));var r=n?t.key+e:e;if(!t.parent)return t.getStateNodeByPath(r);try{return t.parent.getStateNodeByPath(r)}catch(e){throw new Error("Invalid transition definition for state node '".concat(t.id,"':\n").concat(e.message))}}))},e.prototype.formatTransition=function(e){var t=this,n=function(e){if(void 0!==e&&""!==e)return Yv(e)}(e.target),r="internal"in e?e.internal:!n||n.some((function(e){return ny(e)&&e[0]===t.delimiter})),i=this.machine.options.guards,o=this.resolveTarget(n),a=kv(kv({},e),{actions:zy(Yv(e.actions)),cond:ry(e.cond,i),target:o,source:this,internal:r,eventType:e.event,toJSON:function(){return kv(kv({},a),{target:a.target?a.target.map((function(e){return"#".concat(e.id)})):void 0,source:"#".concat(t.id)})}});return a},e.prototype.formatTransitions=function(){var e,t,n,r=this;if(this.config.on)if(Array.isArray(this.config.on))n=this.config.on;else{var i=this.config.on,o=i["*"],a=void 0===o?[]:o,s=Nv(i,["*"]);n=Wv(Object.keys(s).map((function(e){return cy(e,s[e])})).concat(cy("*",a)))}else n=[];var c=this.config.always?cy("",this.config.always):[],u=this.config.onDone?cy(String(Jy(this.id)),this.config.onDone):[],l=Wv(this.invoke.map((function(e){var t=[];return e.onDone&&t.push.apply(t,xv([],Pv(cy(String(Zy(e.id)),e.onDone)),!1)),e.onError&&t.push.apply(t,xv([],Pv(cy(String(Xy(e.id)),e.onError)),!1)),t}))),d=this.after,h=Wv(xv(xv(xv(xv([],Pv(u),!1),Pv(l),!1),Pv(n),!1),Pv(c),!1).map((function(e){return Yv(e).map((function(e){return r.formatTransition(e)}))})));try{for(var p=Dv(d),f=p.next();!f.done;f=p.next()){var A=f.value;h.push(A)}}catch(t){e={error:t}}finally{try{f&&!f.done&&(t=p.return)&&t.call(p)}finally{if(e)throw e.error}}return h},e}();function JC(){return JC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JC.apply(this,arguments)}function ZC(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t.indexOf(n=o[r])>=0||(i[n]=e[n]);return i}var XC="undefined"!=typeof window?n.useLayoutEffect:n.useEffect;function $C(e,t,n){return t=(t=+t)==t?t:0,n=(n=+n)==n?n:0,(e=+e)==e&&(e=(e=e<=n?e:n)>=t?e:t),e}function eI(e){var t=Math.round(e);if(Number.isNaN(e))throw new TypeError("Found a NaN! Check your snapPoints / defaultSnap / snapTo ");return t}var tI={box:"border-box"};function nI(e,t){var r=t.label,i=t.enabled,o=t.resizeSourceRef,a=(0,n.useState)(0),s=a[0],c=a[1];(0,n.useDebugValue)(r+": "+s);var u=(0,n.useCallback)((function(e){c(e[0].borderBoxSize[0].blockSize),o.current="element"}),[o]);return XC((function(){if(e.current&&i){var t=new qC(u);return t.observe(e.current,tI),function(){t.disconnect()}}}),[e,u,i]),i?s:0}function rI(e){return void 0===e&&(e=1e3),new Promise((function(t){return setTimeout(t,e)}))}var iI,oI={DRAG:{target:"#overlay.dragging",actions:"onOpenEnd"}},aI={RESIZE:{target:"#overlay.resizing",actions:"onOpenEnd"}},sI=function(e,t,n){return void 0===n&&(n=e.context),new YC(e,t,n)}({id:"overlay",initial:"closed",context:{initialState:"CLOSED"},states:{closed:{on:{OPEN:"opening",CLOSE:void 0}},opening:{initial:"start",states:{start:{invoke:{src:"onOpenStart",onDone:"transition"}},transition:{always:[{target:"immediately",cond:"initiallyOpen"},{target:"smoothly",cond:"initiallyClosed"}]},immediately:{initial:"open",states:{open:{invoke:{src:"openImmediately",onDone:"activating"}},activating:{invoke:{src:"activate",onDone:"#overlay.opening.end"},on:JC({},oI,aI)}}},smoothly:{initial:"visuallyHidden",states:{visuallyHidden:{invoke:{src:"renderVisuallyHidden",onDone:"activating"}},activating:{invoke:{src:"activate",onDone:"open"}},open:{invoke:{src:"openSmoothly",onDone:"#overlay.opening.end"},on:JC({},oI,aI)}}},end:{invoke:{src:"onOpenEnd",onDone:"done"},on:{CLOSE:"#overlay.closing",DRAG:"#overlay.dragging"}},done:{type:"final"}},on:JC({},{CLOSE:{target:"#overlay.closing",actions:"onOpenCancel"}}),onDone:"open"},open:{on:{DRAG:"#overlay.dragging",SNAP:"snapping",RESIZE:"resizing"}},dragging:{on:{SNAP:"snapping"}},snapping:{initial:"start",states:{start:{invoke:{src:"onSnapStart",onDone:"snappingSmoothly"},entry:[(iI={y:function(e,t){return t.payload.y},velocity:function(e,t){return t.payload.velocity},snapSource:function(e,t){var n=t.payload.source;return void 0===n?"custom":n}},{type:xy,assignment:iI})]},snappingSmoothly:{invoke:{src:"snapSmoothly",onDone:"end"}},end:{invoke:{src:"onSnapEnd",onDone:"done"},on:{RESIZE:"#overlay.resizing",SNAP:"#overlay.snapping",CLOSE:"#overlay.closing",DRAG:"#overlay.dragging"}},done:{type:"final"}},on:{SNAP:{target:"snapping",actions:"onSnapEnd"},RESIZE:{target:"#overlay.resizing",actions:"onSnapCancel"},DRAG:{target:"#overlay.dragging",actions:"onSnapCancel"},CLOSE:{target:"#overlay.closing",actions:"onSnapCancel"}},onDone:"open"},resizing:{initial:"start",states:{start:{invoke:{src:"onResizeStart",onDone:"resizingSmoothly"}},resizingSmoothly:{invoke:{src:"resizeSmoothly",onDone:"end"}},end:{invoke:{src:"onResizeEnd",onDone:"done"},on:{SNAP:"#overlay.snapping",CLOSE:"#overlay.closing",DRAG:"#overlay.dragging"}},done:{type:"final"}},on:{RESIZE:{target:"resizing",actions:"onResizeEnd"},SNAP:{target:"snapping",actions:"onResizeCancel"},DRAG:{target:"#overlay.dragging",actions:"onResizeCancel"},CLOSE:{target:"#overlay.closing",actions:"onResizeCancel"}},onDone:"open"},closing:{initial:"start",states:{start:{invoke:{src:"onCloseStart",onDone:"deactivating"},on:{OPEN:{target:"#overlay.open",actions:"onCloseCancel"}}},deactivating:{invoke:{src:"deactivate",onDone:"closingSmoothly"}},closingSmoothly:{invoke:{src:"closeSmoothly",onDone:"end"}},end:{invoke:{src:"onCloseEnd",onDone:"done"},on:{OPEN:{target:"#overlay.opening",actions:"onCloseCancel"}}},done:{type:"final"}},on:{CLOSE:void 0,OPEN:{target:"#overlay.opening",actions:"onCloseCancel"}},onDone:"closed"}},on:{CLOSE:"closing"}},{actions:{onOpenCancel:function(e,t){},onSnapCancel:function(e,t){},onResizeCancel:function(e,t){},onCloseCancel:function(e,t){},onOpenEnd:function(e,t){},onSnapEnd:function(e,t){},onRezizeEnd:function(e,t){}},services:{onSnapStart:function(){try{return Promise.resolve(rI()).then((function(){}))}catch(e){return Promise.reject(e)}},onOpenStart:function(){try{return Promise.resolve(rI()).then((function(){}))}catch(e){return Promise.reject(e)}},onCloseStart:function(){try{return Promise.resolve(rI()).then((function(){}))}catch(e){return Promise.reject(e)}},onResizeStart:function(){try{return Promise.resolve(rI()).then((function(){}))}catch(e){return Promise.reject(e)}},onSnapEnd:function(){try{return Promise.resolve(rI()).then((function(){}))}catch(e){return Promise.reject(e)}},onOpenEnd:function(){try{return Promise.resolve(rI()).then((function(){}))}catch(e){return Promise.reject(e)}},onCloseEnd:function(){try{return Promise.resolve(rI()).then((function(){}))}catch(e){return Promise.reject(e)}},onResizeEnd:function(){try{return Promise.resolve(rI()).then((function(){}))}catch(e){return Promise.reject(e)}},renderVisuallyHidden:function(e,t){try{return Promise.resolve(rI()).then((function(){}))}catch(e){return Promise.reject(e)}},activate:function(e,t){try{return Promise.resolve(rI()).then((function(){}))}catch(e){return Promise.reject(e)}},deactivate:function(e,t){try{return Promise.resolve(rI()).then((function(){}))}catch(e){return Promise.reject(e)}},openSmoothly:function(e,t){try{return Promise.resolve(rI()).then((function(){}))}catch(e){return Promise.reject(e)}},openImmediately:function(e,t){try{return Promise.resolve(rI()).then((function(){}))}catch(e){return Promise.reject(e)}},snapSmoothly:function(e,t){try{return Promise.resolve(rI()).then((function(){}))}catch(e){return Promise.reject(e)}},resizeSmoothly:function(e,t){try{return Promise.resolve(rI()).then((function(){}))}catch(e){return Promise.reject(e)}},closeSmoothly:function(e,t){try{return Promise.resolve(rI()).then((function(){}))}catch(e){return Promise.reject(e)}}},guards:{initiallyClosed:function(e){return"CLOSED"===e.initialState},initiallyOpen:function(e){return"OPEN"===e.initialState}}}),cI=["children","sibling","className","footer","header","open","initialState","lastSnapRef","initialFocusRef","onDismiss","maxHeight","defaultSnap","snapPoints","blocking","scrollLocking","style","onSpringStart","onSpringCancel","onSpringEnd","reserveScrollBarGap","expandOnContentDrag"],uI=["velocity"],lI=["onRest","config"],dI=170,hI=26,pI=n.forwardRef((function(e,t){var r=e.children,i=e.sibling,o=e.className,a=e.footer,s=e.header,c=e.open,u=e.initialState,l=e.lastSnapRef,d=e.initialFocusRef,h=e.onDismiss,p=e.maxHeight,f=e.defaultSnap,A=void 0===f?AI:f,g=e.snapPoints,m=void 0===g?gI:g,v=e.blocking,y=void 0===v||v,E=e.scrollLocking,b=void 0===E||E,_=e.style,C=e.onSpringStart,I=e.onSpringCancel,S=e.onSpringEnd,w=e.reserveScrollBarGap,R=void 0===w?y:w,T=e.expandOnContentDrag,O=void 0!==T&&T,k=ZC(e,cI),N=function(){var e=(0,n.useState)(!1),t=e[0],r=e[1],i=(0,n.useState)({}),o=i[0],a=i[1],s=(0,n.useCallback)((function(e){return a((function(t){var n;return JC({},t,((n={})[e]=!1,n))})),function(){a((function(t){var n;return JC({},t,((n={})[e]=!0,n))}))}}),[]);return(0,n.useEffect)((function(){var e=Object.values(o);0!==e.length&&e.every(Boolean)&&r(!0)}),[o]),{ready:t,registerReady:s}}(),D=N.ready,P=N.registerReady,x=(0,n.useRef)(!1),L=(0,n.useRef)(C),M=(0,n.useRef)(I),B=(0,n.useRef)(S);(0,n.useEffect)((function(){L.current=C,M.current=I,B.current=S}),[I,C,S]);var F,U,j=(e=>{const t=SE.fun(e),r=((e,t)=>{const r=(0,n.useRef)(!1),i=(0,n.useRef)(),o=SE.fun(t),a=(0,n.useMemo)((()=>{let n;return i.current&&(i.current.map((e=>e.destroy())),i.current=void 0),[new Array(e).fill().map(((e,r)=>{const i=new ZE,a=o?TE(t,r,i):t[r];return 0===r&&(n=a.ref),i.update(a),n||i.start(),i})),n]}),[e]),s=a[0],c=a[1];i.current=s,(0,n.useImperativeHandle)(c,(()=>({start:()=>Promise.all(i.current.map((e=>new Promise((t=>e.start(t)))))),stop:e=>i.current.forEach((t=>t.stop(e))),get controllers(){return i.current}})));const u=(0,n.useMemo)((()=>e=>i.current.map(((t,n)=>{t.update(o?TE(e,n,t):e[n]),c||t.start()}))),[e]);(0,n.useEffect)((()=>{r.current?o||u(t):c||i.current.forEach((e=>e.start()))})),(0,n.useEffect)((()=>(r.current=!0,()=>i.current.forEach((e=>e.destroy())))),[]);const l=i.current.map((e=>e.getValues()));return o?[l,u,e=>i.current.forEach((t=>t.pause(e)))]:l})(1,t?e:[e]),i=r[0],o=r[1],a=r[2];return t?[i[0],o,a]:i})((function(){return{y:0,ready:0,maxHeight:0,minSnap:0,maxSnap:0}})),V=j[0],Q=j[1],G=(0,n.useRef)(null),q=(0,n.useRef)(null),H=(0,n.useRef)(null),z=(0,n.useRef)(null),W=(0,n.useRef)(null),K=(0,n.useRef)(null),Y=(0,n.useRef)(0),J=(0,n.useRef)(),Z=(0,n.useRef)(!1),X=(F=(0,n.useMemo)((function(){return"undefined"!=typeof window?window.matchMedia("(prefers-reduced-motion: reduce)"):null}),[]),U=(0,n.useRef)(null==F?void 0:F.matches),(0,n.useDebugValue)(U.current?"reduce":"no-preference"),(0,n.useEffect)((function(){var e=function(e){U.current=e.matches};return null==F||F.addListener(e),function(){return null==F?void 0:F.removeListener(e)}}),[F]),U),$=function(e){var t=e.targetRef,r=e.enabled,i=e.reserveScrollBarGap,o=(0,n.useRef)({activate:function(){throw new TypeError("Tried to activate scroll lock too early")},deactivate:function(){}});return(0,n.useDebugValue)(r?"Enabled":"Disabled"),(0,n.useEffect)((function(){if(!r)return o.current.deactivate(),void(o.current={activate:function(){},deactivate:function(){}});var e=t.current,n=!1;o.current={activate:function(){n||(n=!0,function(e,t){if(e){if(!eC.some((function(t){return t.targetElement===e}))){var n={targetElement:e,options:t||{}};eC=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(eC),[n]),$_?(e.ontouchstart=function(e){1===e.targetTouches.length&&(nC=e.targetTouches[0].clientY)},e.ontouchmove=function(t){1===t.targetTouches.length&&function(e,t){var n=e.targetTouches[0].clientY-nC;!oC(e.target)&&(t&&0===t.scrollTop&&n>0||function(e){return!!e&&e.scrollHeight-e.scrollTop<=e.clientHeight}(t)&&n<0?aC(e):e.stopPropagation())}(t,e)},tC||(document.addEventListener("touchmove",aC,J_?{passive:!1}:void 0),tC=!0)):function(e){if(void 0===iC){var t=!!e&&!0===e.reserveScrollBarGap,n=window.innerWidth-document.documentElement.clientWidth;t&&n>0&&(iC=document.body.style.paddingRight,document.body.style.paddingRight=n+"px")}void 0===rC&&(rC=document.body.style.overflow,document.body.style.overflow="hidden")}(t)}}else console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.")}(e,{allowTouchMove:function(e){return e.closest("[data-body-scroll-lock-ignore]")},reserveScrollBarGap:i}))},deactivate:function(){var t;n&&(n=!1,(t=e)?(eC=eC.filter((function(e){return e.targetElement!==t})),$_?(t.ontouchstart=null,t.ontouchmove=null,tC&&0===eC.length&&(document.removeEventListener("touchmove",aC,J_?{passive:!1}:void 0),tC=!1)):eC.length||(void 0!==iC&&(document.body.style.paddingRight=iC,iC=void 0),void 0!==rC&&(document.body.style.overflow=rC,rC=void 0))):console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices."))}}}),[r,t,i]),o}({targetRef:q,enabled:D&&b,reserveScrollBarGap:R}),ee=function(e){var t=e.targetRef,r=e.enabled,i=(0,n.useRef)({activate:function(){throw new TypeError("Tried to activate aria hider too early")},deactivate:function(){}});return(0,n.useDebugValue)(r?"Enabled":"Disabled"),(0,n.useEffect)((function(){if(!r)return i.current.deactivate(),void(i.current={activate:function(){},deactivate:function(){}});var e=t.current,n=!1,o=[],a=[];i.current={activate:function(){if(!n){n=!0;var t=e.parentNode;document.querySelectorAll("body > *").forEach((function(e){if(e!==t){var n=e.getAttribute("aria-hidden");null!==n&&"false"!==n||(o.push(n),a.push(e),e.setAttribute("aria-hidden","true"))}}))}},deactivate:function(){n&&(n=!1,a.forEach((function(e,t){var n=o[t];null===n?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",n)})),o=[],a=[])}}}),[t,r]),i}({targetRef:G,enabled:D&&y}),te=function(e){var t=e.targetRef,r=e.fallbackRef,i=e.initialFocusRef,o=e.enabled,a=(0,n.useRef)({activate:function(){throw new TypeError("Tried to activate focus trap too early")},deactivate:function(){}});return(0,n.useDebugValue)(o?"Enabled":"Disabled"),(0,n.useEffect)((function(){if(!o)return a.current.deactivate(),void(a.current={activate:function(){},deactivate:function(){}});var e=r.current,n=function(e,t){var n,r=(null==t?void 0:t.document)||document,i=Q_({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},t),o={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},a=function(e,t,n){return e&&void 0!==e[t]?e[t]:i[n||t]},s=function(e){return o.containerGroups.findIndex((function(t){var n=t.container,r=t.tabbableNodes;return n.contains(e)||r.find((function(t){return t===e}))}))},c=function(e){var t=i[e];if("function"==typeof t){for(var n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];t=t.apply(void 0,o)}if(!0===t&&(t=void 0),!t){if(void 0===t||!1===t)return t;throw new Error("`".concat(e,"` was specified but was not a node, or did not return a node"))}var s=t;if("string"==typeof t&&!(s=r.querySelector(t)))throw new Error("`".concat(e,"` as selector refers to no known node"));return s},u=function(){var e=c("initialFocus");if(!1===e)return!1;if(void 0===e)if(s(r.activeElement)>=0)e=r.activeElement;else{var t=o.tabbableGroups[0];e=t&&t.firstTabbableNode||c("fallbackFocus")}if(!e)throw new Error("Your focus-trap needs to have at least one focusable element");return e},l=function(){if(o.containerGroups=o.containers.map((function(e){var t=B_(e,i.tabbableOptions),n=function(e,t){return(t=t||{}).getShadowRoot?T_([e],t.includeContainer,{filter:P_.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):R_(e,t.includeContainer,P_.bind(null,t))}(e,i.tabbableOptions);return{container:e,tabbableNodes:t,focusableNodes:n,firstTabbableNode:t.length>0?t[0]:null,lastTabbableNode:t.length>0?t[t.length-1]:null,nextTabbableNode:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=n.findIndex((function(t){return t===e}));if(!(r<0))return t?n.slice(r+1).find((function(e){return F_(e,i.tabbableOptions)})):n.slice(0,r).reverse().find((function(e){return F_(e,i.tabbableOptions)}))}}})),o.tabbableGroups=o.containerGroups.filter((function(e){return e.tabbableNodes.length>0})),o.tabbableGroups.length<=0&&!c("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},d=function e(t){!1!==t&&t!==r.activeElement&&(t&&t.focus?(t.focus({preventScroll:!!i.preventScroll}),o.mostRecentlyFocusedNode=t,function(e){return e.tagName&&"input"===e.tagName.toLowerCase()&&"function"==typeof e.select}(t)&&t.select()):e(u()))},h=function(e){var t=c("setReturnFocus",e);return t||!1!==t&&e},p=function(e){var t=Y_(e);s(t)>=0||(K_(i.clickOutsideDeactivates,e)?n.deactivate({returnFocus:i.returnFocusOnDeactivate&&!j_(t,i.tabbableOptions)}):K_(i.allowOutsideClick,e)||e.preventDefault())},f=function(e){var t=Y_(e),n=s(t)>=0;n||t instanceof Document?n&&(o.mostRecentlyFocusedNode=t):(e.stopImmediatePropagation(),d(o.mostRecentlyFocusedNode||u()))},A=function(e){if(function(e){return"Escape"===e.key||"Esc"===e.key||27===e.keyCode}(e)&&!1!==K_(i.escapeDeactivates,e))return e.preventDefault(),void n.deactivate();(function(e){return"Tab"===e.key||9===e.keyCode})(e)&&function(e){var t=Y_(e);l();var n=null;if(o.tabbableGroups.length>0){var r=s(t),a=r>=0?o.containerGroups[r]:void 0;if(r<0)n=e.shiftKey?o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:o.tabbableGroups[0].firstTabbableNode;else if(e.shiftKey){var u=W_(o.tabbableGroups,(function(e){var n=e.firstTabbableNode;return t===n}));if(u<0&&(a.container===t||j_(t,i.tabbableOptions)&&!F_(t,i.tabbableOptions)&&!a.nextTabbableNode(t,!1))&&(u=r),u>=0){var h=0===u?o.tabbableGroups.length-1:u-1;n=o.tabbableGroups[h].lastTabbableNode}}else{var p=W_(o.tabbableGroups,(function(e){var n=e.lastTabbableNode;return t===n}));if(p<0&&(a.container===t||j_(t,i.tabbableOptions)&&!F_(t,i.tabbableOptions)&&!a.nextTabbableNode(t))&&(p=r),p>=0){var f=p===o.tabbableGroups.length-1?0:p+1;n=o.tabbableGroups[f].firstTabbableNode}}}else n=c("fallbackFocus");n&&(e.preventDefault(),d(n))}(e)},g=function(e){var t=Y_(e);s(t)>=0||K_(i.clickOutsideDeactivates,e)||K_(i.allowOutsideClick,e)||(e.preventDefault(),e.stopImmediatePropagation())},m=function(){if(o.active)return H_.activateTrap(n),o.delayInitialFocusTimer=i.delayInitialFocus?z_((function(){d(u())})):d(u()),r.addEventListener("focusin",f,!0),r.addEventListener("mousedown",p,{capture:!0,passive:!1}),r.addEventListener("touchstart",p,{capture:!0,passive:!1}),r.addEventListener("click",g,{capture:!0,passive:!1}),r.addEventListener("keydown",A,{capture:!0,passive:!1}),n},v=function(){if(o.active)return r.removeEventListener("focusin",f,!0),r.removeEventListener("mousedown",p,!0),r.removeEventListener("touchstart",p,!0),r.removeEventListener("click",g,!0),r.removeEventListener("keydown",A,!0),n};return n={get active(){return o.active},get paused(){return o.paused},activate:function(e){if(o.active)return this;var t=a(e,"onActivate"),n=a(e,"onPostActivate"),i=a(e,"checkCanFocusTrap");i||l(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=r.activeElement,t&&t();var s=function(){i&&l(),m(),n&&n()};return i?(i(o.containers.concat()).then(s,s),this):(s(),this)},deactivate:function(e){if(!o.active)return this;var t=Q_({onDeactivate:i.onDeactivate,onPostDeactivate:i.onPostDeactivate,checkCanReturnFocus:i.checkCanReturnFocus},e);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,v(),o.active=!1,o.paused=!1,H_.deactivateTrap(n);var r=a(t,"onDeactivate"),s=a(t,"onPostDeactivate"),c=a(t,"checkCanReturnFocus"),u=a(t,"returnFocus","returnFocusOnDeactivate");r&&r();var l=function(){z_((function(){u&&d(h(o.nodeFocusedBeforeActivation)),s&&s()}))};return u&&c?(c(h(o.nodeFocusedBeforeActivation)).then(l,l),this):(l(),this)},pause:function(){return o.paused||!o.active||(o.paused=!0,v()),this},unpause:function(){return o.paused&&o.active?(o.paused=!1,l(),m(),this):this},updateContainerElements:function(e){var t=[].concat(e).filter(Boolean);return o.containers=t.map((function(e){return"string"==typeof e?r.querySelector(e):e})),o.active&&l(),this}},n.updateContainerElements(e),n}(t.current,{onActivate:void 0,initialFocus:i?function(){return(null==i?void 0:i.current)||e}:void 0,fallbackFocus:e,escapeDeactivates:!1,clickOutsideDeactivates:!1}),s=!1;a.current={activate:function(){try{return s?Promise.resolve():(s=!0,Promise.resolve(n.activate()).then((function(){return Promise.resolve(new Promise((function(e){return setTimeout((function(){return e(void 0)}),0)}))).then((function(){}))})))}catch(e){return Promise.reject(e)}},deactivate:function(){s&&(s=!1,n.deactivate())}}}),[o,r,i,t]),a}({targetRef:G,fallbackRef:K,initialFocusRef:d||void 0,enabled:D&&y&&!1!==d}),ne=function(e){var t=e.getSnapPoints,r=e.heightRef,i=e.lastSnapRef,o=e.ready,a=function(e){var t=e.contentRef,r=e.controlledMaxHeight,i=e.footerEnabled,o=e.footerRef,a=e.headerEnabled,s=e.headerRef,c=e.registerReady,u=e.resizeSourceRef,l=(0,n.useMemo)((function(){return c("contentHeight")}),[c]),d=function(e,t,r){var i=(0,n.useMemo)((function(){return t("maxHeight")}),[t]),o=(0,n.useState)((function(){return eI(e)||"undefined"!=typeof window?window.innerHeight:0})),a=o[0],s=o[1],c=a>0,u=(0,n.useRef)(0);return(0,n.useDebugValue)(e?"controlled":"auto"),(0,n.useEffect)((function(){c&&i()}),[c,i]),XC((function(){if(e)return s(eI(e)),void(r.current="maxheightprop");var t=function(){u.current||(u.current=requestAnimationFrame((function(){s(window.innerHeight),r.current="window",u.current=0})))};return window.addEventListener("resize",t),s(window.innerHeight),r.current="window",i(),function(){window.removeEventListener("resize",t),cancelAnimationFrame(u.current)}}),[e,i,r]),a}(r,c,u),h=nI(s,{label:"headerHeight",enabled:a,resizeSourceRef:u}),p=nI(t,{label:"contentHeight",enabled:!0,resizeSourceRef:u}),f=nI(o,{label:"footerHeight",enabled:i,resizeSourceRef:u}),A=Math.min(d-h-f,p)+h+f;(0,n.useDebugValue)("minHeight: "+A);var g=p>0;return(0,n.useEffect)((function(){g&&l()}),[g,l]),{maxHeight:d,minHeight:A,headerHeight:h,footerHeight:f}}({contentRef:e.contentRef,controlledMaxHeight:e.controlledMaxHeight,footerEnabled:e.footerEnabled,footerRef:e.footerRef,headerEnabled:e.headerEnabled,headerRef:e.headerRef,registerReady:e.registerReady,resizeSourceRef:e.resizeSourceRef}),s=a.maxHeight,c=a.minHeight,u=a.headerHeight,l=a.footerHeight,d=function(e,t){var n=[].concat(e).map(eI).reduce((function(e,n){return e.add($C(n,0,t)),e}),new Set),r=Array.from(n),i=Math.min.apply(Math,r);if(Number.isNaN(i))throw new TypeError("minSnap is NaN");var o=Math.max.apply(Math,r);if(Number.isNaN(o))throw new TypeError("maxSnap is NaN");return{snapPoints:r,minSnap:i,maxSnap:o}}(o?t({height:r.current,footerHeight:l,headerHeight:u,minHeight:c,maxHeight:s}):[0],s),h=d.snapPoints,p=d.minSnap,f=d.maxSnap;return(0,n.useDebugValue)("minSnap: "+p+", maxSnap:"+f),{minSnap:p,maxSnap:f,findSnap:function(e){var t=eI("function"==typeof e?e({footerHeight:l,headerHeight:u,height:r.current,minHeight:c,maxHeight:s,snapPoints:h,lastSnap:i.current}):e);return h.reduce((function(e,n){return Math.abs(n-t)<Math.abs(e-t)?n:e}),p)},maxHeight:s}}({contentRef:H,controlledMaxHeight:p,footerEnabled:!!a,footerRef:W,getSnapPoints:m,headerEnabled:!1!==s,headerRef:z,heightRef:Y,lastSnapRef:l,ready:D,registerReady:P,resizeSourceRef:J}),re=ne.minSnap,ie=ne.maxSnap,oe=ne.maxHeight,ae=ne.findSnap,se=(0,n.useRef)(oe),ce=(0,n.useRef)(re),ue=(0,n.useRef)(ie),le=(0,n.useRef)(ae),de=(0,n.useRef)(0);XC((function(){se.current=oe,ue.current=ie,ce.current=re,le.current=ae,de.current=ae(A)}),[ae,A,oe,ie,re]);var he=(0,n.useCallback)((function(e){var t=e.onRest,n=e.config,r=(n=void 0===n?{}:n).velocity,i=void 0===r?1:r,o=ZC(n,uI),a=ZC(e,lI);return new Promise((function(e){return Q(JC({},a,{config:JC({velocity:i},o,{mass:1,tension:dI,friction:Math.max(hI,hI+(hI-hI*i))}),onRest:function(){var n=[].slice.call(arguments);e.apply(void 0,n),null==t||t.apply(void 0,n)}}))}))}),[Q]),pe=IE(sI,{devTools:!1,actions:{onOpenCancel:(0,n.useCallback)((function(){return null==M.current?void 0:M.current({type:"OPEN"})}),[]),onSnapCancel:(0,n.useCallback)((function(e){return null==M.current?void 0:M.current({type:"SNAP",source:e.snapSource})}),[]),onCloseCancel:(0,n.useCallback)((function(){return null==M.current?void 0:M.current({type:"CLOSE"})}),[]),onResizeCancel:(0,n.useCallback)((function(){return null==M.current?void 0:M.current({type:"RESIZE",source:J.current})}),[]),onOpenEnd:(0,n.useCallback)((function(){return null==B.current?void 0:B.current({type:"OPEN"})}),[]),onSnapEnd:(0,n.useCallback)((function(e,t){return null==B.current?void 0:B.current({type:"SNAP",source:e.snapSource})}),[]),onResizeEnd:(0,n.useCallback)((function(){return null==B.current?void 0:B.current({type:"RESIZE",source:J.current})}),[])},context:{initialState:u},services:{onSnapStart:(0,n.useCallback)((function(e,t){try{return Promise.resolve(null==L.current?void 0:L.current({type:"SNAP",source:t.payload.source||"custom"}))}catch(e){return Promise.reject(e)}}),[]),onOpenStart:(0,n.useCallback)((function(){try{return Promise.resolve(null==L.current?void 0:L.current({type:"OPEN"}))}catch(e){return Promise.reject(e)}}),[]),onCloseStart:(0,n.useCallback)((function(){try{return Promise.resolve(null==L.current?void 0:L.current({type:"CLOSE"}))}catch(e){return Promise.reject(e)}}),[]),onResizeStart:(0,n.useCallback)((function(){try{return Promise.resolve(null==L.current?void 0:L.current({type:"RESIZE",source:J.current}))}catch(e){return Promise.reject(e)}}),[]),onSnapEnd:(0,n.useCallback)((function(e,t){try{return Promise.resolve(null==B.current?void 0:B.current({type:"SNAP",source:e.snapSource}))}catch(e){return Promise.reject(e)}}),[]),onOpenEnd:(0,n.useCallback)((function(){try{return Promise.resolve(null==B.current?void 0:B.current({type:"OPEN"}))}catch(e){return Promise.reject(e)}}),[]),onCloseEnd:(0,n.useCallback)((function(){try{return Promise.resolve(null==B.current?void 0:B.current({type:"CLOSE"}))}catch(e){return Promise.reject(e)}}),[]),onResizeEnd:(0,n.useCallback)((function(){try{return Promise.resolve(null==B.current?void 0:B.current({type:"RESIZE",source:J.current}))}catch(e){return Promise.reject(e)}}),[]),renderVisuallyHidden:(0,n.useCallback)((function(e,t){try{return Promise.resolve(he({y:de.current,ready:0,maxHeight:se.current,maxSnap:ue.current,minSnap:de.current,immediate:!0})).then((function(){}))}catch(e){return Promise.reject(e)}}),[he]),activate:(0,n.useCallback)((function(e,t){try{return x.current=!0,Promise.resolve(Promise.all([$.current.activate(),te.current.activate(),ee.current.activate()])).then((function(){}))}catch(e){return Promise.reject(e)}}),[ee,te,$]),deactivate:(0,n.useCallback)((function(){try{return $.current.deactivate(),te.current.deactivate(),ee.current.deactivate(),x.current=!1,Promise.resolve()}catch(e){return Promise.reject(e)}}),[ee,te,$]),openImmediately:(0,n.useCallback)((function(){try{return Y.current=de.current,Promise.resolve(he({y:de.current,ready:1,maxHeight:se.current,maxSnap:ue.current,minSnap:de.current,immediate:!0})).then((function(){}))}catch(e){return Promise.reject(e)}}),[he]),openSmoothly:(0,n.useCallback)((function(){try{return Promise.resolve(he({y:0,ready:1,maxHeight:se.current,maxSnap:ue.current,minSnap:de.current,immediate:!0})).then((function(){return Y.current=de.current,Promise.resolve(he({y:de.current,ready:1,maxHeight:se.current,maxSnap:ue.current,minSnap:de.current,immediate:X.current})).then((function(){}))}))}catch(e){return Promise.reject(e)}}),[he,X]),snapSmoothly:(0,n.useCallback)((function(e,t){try{var n=le.current(e.y);return Y.current=n,l.current=n,Promise.resolve(he({y:n,ready:1,maxHeight:se.current,maxSnap:ue.current,minSnap:ce.current,immediate:X.current,config:{velocity:e.velocity}})).then((function(){}))}catch(e){return Promise.reject(e)}}),[he,l,X]),resizeSmoothly:(0,n.useCallback)((function(){try{var e=le.current(Y.current);return Y.current=e,l.current=e,Promise.resolve(he({y:e,ready:1,maxHeight:se.current,maxSnap:ue.current,minSnap:ce.current,immediate:"element"!==J.current||X.current})).then((function(){}))}catch(e){return Promise.reject(e)}}),[he,l,X]),closeSmoothly:(0,n.useCallback)((function(e,t){try{return he({minSnap:Y.current,immediate:!0}),Y.current=0,Promise.resolve(he({y:0,maxHeight:se.current,maxSnap:ue.current,immediate:X.current})).then((function(){return Promise.resolve(he({ready:0,immediate:!0})).then((function(){}))}))}catch(e){return Promise.reject(e)}}),[he,X])}}),fe=pe[0],Ae=pe[1];(0,n.useEffect)((function(){D&&Ae(c?"OPEN":"CLOSE")}),[c,Ae,D]),XC((function(){(oe||ie||re)&&Ae("RESIZE")}),[oe,ie,re,Ae]),(0,n.useEffect)((function(){return function(){$.current.deactivate(),te.current.deactivate(),ee.current.deactivate()}}),[ee,te,$]),(0,n.useImperativeHandle)(t,(function(){return{snapTo:function(e,t){var n=void 0===t?{}:t,r=n.velocity,i=void 0===r?1:r,o=n.source,a=void 0===o?"custom":o;Ae("SNAP",{payload:{y:le.current(e),velocity:i,source:a}})},get height(){return Y.current}}}),[Ae]),(0,n.useEffect)((function(){var e=q.current,t=function(e){Z.current&&e.preventDefault()},n=function(t){e.scrollTop<0&&(requestAnimationFrame((function(){e.style.overflow="hidden",e.scrollTop=0,e.style.removeProperty("overflow")})),t.preventDefault())};return O&&(e.addEventListener("scroll",t),e.addEventListener("touchmove",t),e.addEventListener("touchstart",n)),function(){e.removeEventListener("scroll",t),e.removeEventListener("touchmove",t),e.removeEventListener("touchstart",n)}}),[O,q]);var ge=function(e,t){void 0===t&&(t={}),$b.set("drag",y_);var r=(0,n.useRef)();return r.current||(r.current=function(e,t){var n,r,i=[],o=!1;return function(){for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return o&&n===this&&t(s,i)||(r=e.apply(this,s),o=!0,n=this,i=s),r}}(Jb,b_)),function(e,t,r){void 0===r&&(r={});var i=function(e){var t=new Set;return e.drag&&t.add($b.get("drag")),e.wheel&&t.add($b.get("wheel")),e.scroll&&t.add($b.get("scroll")),e.move&&t.add($b.get("move")),e.pinch&&t.add($b.get("pinch")),e.hover&&t.add($b.get("hover")),t}(e),o=n.useMemo((function(){return new o_(i)}),[]);return o.config=t,o.handlers=e,o.nativeRefs=r,n.useEffect(o.effect,[]),o.config.domTarget?A_:o.bind}({drag:function(e){var t=e.args,n=(t=void 0===t?[]:t)[0],r=(n=void 0===n?{}:n).closeOnTap,i=void 0!==r&&r,o=n.isContentDragging,a=void 0!==o&&o,s=e.cancel,c=e.direction[1],u=e.down,l=e.first,d=e.last,p=e.memo,f=void 0===p?V.y.getValue():p,A=e.tap,g=e.velocity,m=-1*e.movement[1];if(!x.current)return s(),f;if(h&&i&&A)return s(),setTimeout((function(){return h()}),0),f;if(A)return f;var v=f+m,y=m*g,E=Math.max(ce.current,Math.min(ue.current,v+2*y));if(!u&&h&&c>0&&v+y<ce.current/2)return s(),h(),f;var b=u?h||ce.current!==ue.current?xb(v,h?0:ce.current,ue.current,.55):v<ce.current?xb(v,ce.current,2*ue.current,.55):xb(v,ce.current/2,ue.current,.55):E;return O&&a?(b>=ue.current&&(b=ue.current),f===ue.current&&q.current.scrollTop>0&&(b=ue.current),Z.current=b<ue.current):Z.current=!1,l&&Ae("DRAG"),d?(Ae("SNAP",{payload:{y:b,velocity:g>.05?g:1,source:"dragging"}}),f):(Q({y:b,ready:1,maxHeight:se.current,maxSnap:ue.current,minSnap:ce.current,immediate:!0,config:{velocity:g}}),f)}},r.current(t))}(0,{filterTaps:!0});if(Number.isNaN(ue.current))throw new TypeError("maxSnapRef is NaN!!");if(Number.isNaN(ce.current))throw new TypeError("minSnapRef is NaN!!");var me=function(e){var t,n=e.spring,r=zE([n.y,n.maxHeight],(function(e,t){return Math.round($C(t-e,0,16))+"px"})),i=zE([n.y,n.minSnap,n.maxSnap],(function(e,t,n){return $C(e,t,n)+"px"})),o=zE([n.y,n.minSnap,n.maxSnap],(function(e,t,n){return e<t?t-e+"px":e>n?n-e+"px":"0px"})),a=zE([n.y,n.maxSnap],(function(e,t){return e>=t?Math.ceil(e-t):0})),s=zE([n.y,n.minSnap],(function(e,t){if(!t)return 0;var n=Math.max(t/2-45,0);return $C((e-n)*(1/(Math.min(t/2+45,t)-n)+0),0,1)})),c=zE([n.y,n.minSnap],(function(e,t){return t?$C(e/t,0,1):0}));return(t={})["--rsbs-content-opacity"]=s,t["--rsbs-backdrop-opacity"]=c,t["--rsbs-antigap-scale-y"]=a,t["--rsbs-overlay-translate-y"]=o,t["--rsbs-overlay-rounded"]=r,t["--rsbs-overlay-h"]=i,t}({spring:V});return n.createElement(Tb.div,JC({},k,{"data-rsbs-root":!0,"data-rsbs-state":fI.find(fe.matches),"data-rsbs-is-blocking":y,"data-rsbs-is-dismissable":!!h,"data-rsbs-has-header":!!s,"data-rsbs-has-footer":!!a,className:o,ref:G,style:JC({},me,_,{opacity:V.ready})}),i,y&&n.createElement("div",JC({key:"backdrop","data-rsbs-backdrop":!0},ge({closeOnTap:!0}))),n.createElement("div",{key:"overlay","aria-modal":"true",role:"dialog","data-rsbs-overlay":!0,tabIndex:-1,ref:K,onKeyDown:function(e){"Escape"===e.key&&(e.stopPropagation(),h&&h())}},!1!==s&&n.createElement("div",JC({key:"header","data-rsbs-header":!0,ref:z},ge()),s),n.createElement("div",JC({key:"scroll","data-rsbs-scroll":!0,ref:q},O?ge({isContentDragging:!0}):{}),n.createElement("div",{"data-rsbs-content":!0,ref:H},r)),a&&n.createElement("div",JC({key:"footer",ref:W,"data-rsbs-footer":!0},ge()),a)))})),fI=["closed","opening","open","closing","dragging","snapping","resizing"];function AI(e){var t=e.lastSnap;return null!=t?t:Math.min.apply(Math,e.snapPoints)}function gI(e){return e.minHeight}var mI=["onSpringStart","onSpringEnd","skipInitialTransition"],vI=(0,n.forwardRef)((function(e,t){var r=e.onSpringStart,i=e.onSpringEnd,o=e.skipInitialTransition,a=ZC(e,mI),s=(0,n.useState)(!1),c=s[0],u=s[1],l=(0,n.useRef)(),d=(0,n.useRef)(null),h=(0,n.useRef)(o&&a.open?"OPEN":"CLOSED");XC((function(){if(a.open)return cancelAnimationFrame(l.current),u(!0),function(){h.current="CLOSED"}}),[a.open]);var p=(0,n.useCallback)((function(e){return Promise.resolve(null==r?void 0:r(e)).then((function(){"OPEN"===e.type&&cancelAnimationFrame(l.current)}))}),[r]),f=(0,n.useCallback)((function(e){return Promise.resolve(null==i?void 0:i(e)).then((function(){"CLOSE"===e.type&&(l.current=requestAnimationFrame((function(){return u(!1)})))}))}),[i]);return c?n.createElement(Ov,{"data-rsbs-portal":!0},n.createElement(pI,JC({},a,{lastSnapRef:d,ref:t,initialState:h.current,onSpringStart:p,onSpringEnd:f}))):null})),yI=__webpack_require__(3379),EI=__webpack_require__.n(yI),bI=__webpack_require__(7795),_I=__webpack_require__.n(bI),CI=__webpack_require__(569),II=__webpack_require__.n(CI),SI=__webpack_require__(3565),wI=__webpack_require__.n(SI),RI=__webpack_require__(9216),TI=__webpack_require__.n(RI),OI=__webpack_require__(4589),kI=__webpack_require__.n(OI),NI=__webpack_require__(5094),DI={};DI.styleTagTransform=kI(),DI.setAttributes=wI(),DI.insert=II().bind(null,"head"),DI.domAPI=_I(),DI.insertStyleElement=TI(),EI()(NI.Z,DI),NI.Z&&NI.Z.locals&&NI.Z.locals;const PI=e=>{const{isExpanded:t,onPress:r,showNotification:i}=e;return n.createElement(qn.Z,{style:qI.iconWithText},n.createElement(qn.Z,{style:qI.iconContainer},n.createElement(Zn.Z,{onPress:r},n.createElement(es,{name:t?"arrow-down":"more-menu",tintColor:"#099DFD"})),i&&n.createElement(qn.Z,{style:qI.notification})))},xI=e=>{const{showLabel:t=!1}=e;return n.createElement(qn.Z,{style:qI.iconWithText},n.createElement(qn.Z,{style:qI.iconContainer},n.createElement(fm,{isOnActionSheet:!0})),t&&n.createElement($n.Z,{style:qI.iconText},"Chat"))},LI=e=>{const{showNotification:t}=e;return n.createElement(qn.Z,{style:qI.iconWithText},n.createElement(qn.Z,{style:qI.iconContainer},n.createElement(pm,{isOnActionSheet:!0})),!1)},MI=e=>{const{disabled:t}=e;return n.createElement(qn.Z,{style:qI.iconWithText},n.createElement(qn.Z,{style:qI.iconContainer},n.createElement(Vm,{showLabel:!1,disabled:t})),!1)},BI=e=>{const{onPress:t}=e;return n.createElement(qn.Z,{style:qI.iconWithText},n.createElement(Zn.Z,{style:qI.iconContainer,onPress:t},n.createElement(es,{name:"settings",tintColor:"#FFFFFF"})),!1)},FI=()=>n.createElement(qn.Z,{style:qI.iconWithText},n.createElement(qn.Z,{style:qI.iconContainer},n.createElement(tm,{showLabel:!1,isOnActionSheet:!0})),!1),UI=e=>n.createElement(qn.Z,{style:qI.iconWithText},n.createElement(qn.Z,{style:qI.iconContainer},n.createElement(jA,e))),jI=e=>n.createElement(qn.Z,{style:qI.iconWithText},n.createElement(qn.Z,{style:qI.iconContainer},n.createElement(UA,e))),VI=e=>n.createElement(qn.Z,{style:qI.iconWithText},n.createElement(qn.Z,{style:[qI.iconContainer,{backgroundColor:"#FF414D"}]},n.createElement(Av,e))),QI=e=>{const{showLabel:t=!1}=e;return n.createElement(qn.Z,{style:qI.iconWithText},n.createElement(qn.Z,{style:qI.iconContainer},n.createElement(cm,{showLabel:!1})),t&&n.createElement($n.Z,{style:qI.iconText},"Layout"))},GI=e=>{var t;const{handleSheetChanges:r,isExpanded:i}=e,{onlineUsersCount:o,localUid:a}=(0,n.useContext)(Yr),s=Uf(),{currentLayout:c}=Di(),{rtcProps:u}=(qf(),(0,n.useContext)(ln)),{sidePanel:l,setSidePanel:d}=ba(),{data:{isHost:h}}=be(),{isPendingRequestToReview:p,raiseHandList:f}=(0,n.useContext)(fA),{totalUnreadCount:A}=ma(),g=(s.findIndex((e=>e.name===c)),!1),m=(null==u?void 0:u.role)==$t.Audience,v=(null==u||u.role,$t.Broadcaster,null===(t=f[a])||void 0===t||t.raised,Xf.TRUE,m&&!1),y=Oi().video===tn.disabled;return n.createElement(qn.Z,null,n.createElement(qn.Z,{style:[qI.row,{borderBottomWidth:1,paddingTop:4,justifyContent:"center"}]},v?null:n.createElement(UI,{isMobileView:!0,isOnActionSheet:!0,showLabel:!1,disabled:g}),!1,null,v?null:n.createElement(jI,{isOnActionSheet:!0,isMobileView:!0,showLabel:!1,disabled:g}),n.createElement(VI,{showLabel:!1,isOnActionSheet:!0}),n.createElement(PI,{isExpanded:i,showNotification:!i&&0!==A||!1,onPress:()=>r(i?0:1)})),n.createElement(qn.Z,{style:qI.row},null,n.createElement(QI,null),n.createElement(xI,null),n.createElement(LI,{showNotification:!1}),null,v?null:n.createElement(MI,{disabled:y}),n.createElement(BI,{onPress:()=>{d(va.Settings)}}),n.createElement(FI,null)))},qI=On.Z.create({row:{flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start",paddingTop:24,borderColor:"#2D2D2D",flexWrap:"wrap"},iconContainer:{backgroundColor:"#262626",width:52,height:52,borderRadius:26,justifyContent:"center",alignItems:"center"},iconWithText:{justifyContent:"center",alignItems:"center",flexBasis:"25%",paddingBottom:24},iconText:{color:"#FFFFFF",marginTop:8,fontSize:12,fontWeight:"400",fontFamily:"Source Sans Pro",textAlign:"center"},notification:{position:"absolute",width:12,height:12,backgroundColor:"#FF414D",borderRadius:6,top:-1,right:5}});var HI=__webpack_require__(177);const zI=On.Z.create({check:{width:15,height:15}}),WI=e=>{const{primaryColor:t}=(0,n.useContext)(ug),r=e.value,i=e.onValueChange;return n.createElement(HI.Z,{disabled:null==e?void 0:e.disabled,value:r,onValueChange:i,color:e.color??t,style:{...zI.check,...e.style}})};function KI(){return KI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KI.apply(this,arguments)}function YI({leadingIcon:e,trailingIcon:t,text1:r,text2:i,onPress:o,style:a,contentContainerStyle:s,text1Style:c,text2Style:u,subTextStyle:l,activeOpacity:d,text1NumberOfLines:h,text2NumberOfLines:p,primaryBtn:f,secondaryBtn:A,checkbox:g}){const[m,v]=(0,n.useState)(!1);return n.createElement(Zn.Z,{testID:"rootView",style:[Do.base,Do.borderTop,a],onPress:o,activeOpacity:o?d:1},n.createElement(qn.Z,{testID:"contentContainer",style:[Do.contentContainer,s]},(r||(null==r?void 0:r.length)>0)&&n.createElement(qn.Z,{style:{flex:1,flexDirection:"row",justifyContent:"space-between"}},n.createElement(qn.Z,{style:{flexDirection:"row",flex:1}},e||n.createElement(n.Fragment,null),n.createElement($n.Z,{testID:"text1",style:[Do.text1,c],numberOfLines:h},r)),n.createElement(qn.Z,{style:{justifyContent:"flex-start",alignSelf:"center"}},t||n.createElement(n.Fragment,null))),(i||(null==i?void 0:i.length)>0)&&n.createElement(qn.Z,null,n.createElement($n.Z,{testID:"text2",style:[Do.text2,u],numberOfLines:p},i)),g&&n.createElement(As.Z,{style:{flex:1,flexDirection:"row",paddingTop:16,paddingBottom:8,marginLeft:4},onPress:()=>{v((e=>!e))}},n.createElement(WI,KI({},g,{value:m,onValueChange:v,style:{marginRight:8}})),n.createElement($n.Z,{style:l},g.text)),f||A?n.createElement(qn.Z,{style:{flex:1,flexDirection:"row",paddingTop:16,paddingBottom:24}},f&&n.createElement(rs,KI({textStyle:{fontWeight:"600",fontSize:16,paddingLeft:0},containerStyle:{height:40,borderRadius:4,paddingVertical:0,paddingHorizontal:12,minWidth:"unset"}},f,{onPress:e=>{f.onPress(m,e),v(!1)}})),A&&n.createElement(cA,KI({textStyle:{fontWeight:"600",fontSize:16,paddingLeft:0},containerStyle:{height:40,marginLeft:16,paddingVertical:0}},A,{onPress:e=>{A.onPress(m,e),v(!1)}}))):n.createElement(n.Fragment,null)))}YI.HEIGHT=105,YI.propTypes={leadingIcon:Hi().node,trailingIcon:Hi().node,text1:Hi().string,text2:Hi().string||Hi().element||Hi().any,onPress:Hi().func,style:So,contentContainerStyle:So,text1Style:So,text2Style:So,activeOpacity:Hi().number,text1NumberOfLines:Hi().number,text2NumberOfLines:Hi().number},YI.defaultProps={leadingIcon:null,trailingIcon:null,text1:void 0,text2:void 0,onPress:void 0,style:void 0,contentContainerStyle:void 0,text1Style:void 0,text2Style:void 0,activeOpacity:.8,text1NumberOfLines:1,text2NumberOfLines:2};const JI=YI;function ZI(){return ZI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZI.apply(this,arguments)}const XI=n.createElement(Zn.Z,{onPress:()=>ea.hide(),style:{alignSelf:"flex-end"}},n.createElement(qn.Z,{style:{width:26,height:26}},n.createElement(es,{iconType:"plain",tintColor:"#FFFFFF",name:"close",iconSize:26}))),$I=(e,t)=>n.createElement(qn.Z,{style:{marginRight:4,alignSelf:"center",width:26,height:26}},n.createElement(es,{iconType:"plain",tintColor:t,name:e})),eS={success:({text1:e,text2:t,props:r,...i})=>n.createElement(xo,ZI({},i,{leadingIcon:$I("tick-fill","#36B37E"),trailingIcon:XI,style:{borderRadius:4,borderTopWidth:6,backgroundColor:"#333333",width:"100%",borderTopColor:"#36B37E"},contentContainerStyle:tS.contentContainerStyle,text1Style:tS.text1Style,text2Style:tS.text2Style,text1:e,text2:t,primaryBtn:null,secondaryBtn:null})),error:({text1:e,text2:t,props:r,...i})=>n.createElement(xo,ZI({},i,{leadingIcon:$I("alert","#FF414D"),trailingIcon:XI,style:{borderRadius:4,borderTopWidth:6,backgroundColor:"#333333",width:"100%",borderTopColor:"#FF414D"},contentContainerStyle:tS.contentContainerStyle,text1Style:tS.text1Style,text2Style:tS.text2Style,text1:e,text2:t,primaryBtn:null,secondaryBtn:null})),info:({text1:e,text2:t,props:r,primaryBtn:i,secondaryBtn:o,...a})=>n.createElement(xo,ZI({},a,{trailingIcon:XI,style:{height:"auto",borderRadius:Ya.small,borderTopWidth:6,backgroundColor:"#333333",width:"100%",borderTopColor:"#099DFD"},contentContainerStyle:tS.contentContainerStyle,text1Style:tS.text1Style,text2Style:tS.text2Style,text1:e,text2:t,primaryBtn:i||null,secondaryBtn:o||null})),checked:({text1:e,text2:t,props:r,primaryBtn:i,secondaryBtn:o,checkbox:a,...s})=>n.createElement(JI,ZI({},s,{trailingIcon:XI,style:{height:i||o?185:e&&t?105:70,borderRadius:4,borderTopWidth:6,backgroundColor:"#333333",width:"100%",borderTopColor:"#099DFD"},contentContainerStyle:tS.contentContainerStyle,text1Style:tS.text1Style,text2Style:tS.text2Style,subTextStyle:tS.subTextStyle,text1:e,text2:t,primaryBtn:i||null,secondaryBtn:o||null,checkbox:a}))},tS=On.Z.create({text1Style:{fontSize:Wa.normal,lineHeight:22,fontFamily:Ka.sansPro,fontWeight:"600",color:"#FFFFFF",alignSelf:"center"},text2Style:{fontSize:Wa.normal,lineHeight:22,fontFamily:Ka.sansPro,fontWeight:"400",color:"#FFFFFF"+za.medium,marginTop:11,alignSelf:"center"},subTextStyle:{color:"#FFFFFF"+za.medium},contentContainerStyle:{paddingHorizontal:15,paddingTop:20,paddingBottom:25,overflow:"hidden",flexDirection:"column",justifyContent:"flex-start"},containerStyle:{}}),nS=()=>n.createElement(ea,{ref:e=>ea.setRef(e),config:eS}),rS=n.createContext({isActionSheetVisible:!1,setActionSheetVisible:()=>{}}),iS=e=>{const[t,r]=(0,n.useState)(!1);return n.createElement(rS.Provider,{value:{isActionSheetVisible:t,setActionSheetVisible:r}},e.children)},oS=he(rS),aS=e=>{const{sidePanel:t}=e;return n.createElement(qn.Z,{style:sS.container},n.createElement(qn.Z,{style:sS.handleIndicatorStyle}),t===va.Participants&&n.createElement(ng,null),t===va.Chat&&n.createElement(rg,null),t===va.Settings&&n.createElement(tg,null))},sS=On.Z.create({container:{paddingVertical:0},handleIndicatorStyle:{backgroundColor:"#808080",width:40,height:4,alignSelf:"center",borderRadius:4,marginTop:12}}),cS=()=>{const{setActionSheetVisible:e}=oS(),[t,r]=n.useState(!1),[i,o]=n.useState(!1),[a,s]=n.useState(!1),[c,u]=n.useState(!1),l=(0,n.useRef)(null),d=(0,n.useRef)(null),h=(0,n.useRef)(null),p=(0,n.useRef)(null),f=di()&&(i||a||c)?n.createElement(nS,null):n.createElement(n.Fragment,null),{sidePanel:A,setSidePanel:g}=ba(),[m,v]=n.useState(!1),y=(0,n.useCallback)((e=>{var t;null===(t=l.current)||void 0===t||t.snapTo((({snapPoints:t})=>t[e])),r(0!==e)}),[]),E=document.documentElement;function b(){g(va.None)}return(0,n.useEffect)((()=>{E.style.setProperty("--sheet-background","#1D1D1D"),E.style.setProperty("--handle-background","#808080")}),[]),(0,n.useEffect)((()=>{e(!!(i||a||c))}),[i,a,c]),(0,n.useEffect)((()=>{switch(A){case va.Participants:u(!0);break;case va.Chat:o(!0);break;case va.Settings:s(!0);break;case va.None:o(!1),u(!1),s(!1),y(0)}}),[A]),n.createElement(n.Fragment,null,m&&n.createElement(Kf.Z,{onPress:()=>{y(0)}},n.createElement(qn.Z,{style:[uS.backDrop]})),n.createElement(qn.Z,null,n.createElement(vI,{scrollLocking:!1,ref:l,open:!0,onSpringStart:e=>{"SNAP"==e.type&&v(!0)},onSpringEnd:e=>{if("SNAP"==e.type){const t=100===l.current.height;t&&v(!1),"dragging"===e.source&&r(!t)}},expandOnContentDrag:!0,snapPoints:({maxHeight:e})=>[100,350],defaultSnap:({lastSnap:e,snapPoints:t})=>e??Math.min(...t),header:n.createElement(n.Fragment,null,n.createElement(aS,{sidePanel:va.None}),n.createElement(vA,{size:12})),blocking:!1},n.createElement(GI,{handleSheetChanges:y,isExpanded:t})),n.createElement(vI,{sibling:f,ref:d,onDismiss:b,scrollLocking:!1,open:i,blocking:!1,expandOnContentDrag:!1,snapPoints:({maxHeight:e})=>[1*e],header:n.createElement(aS,{sidePanel:va.Chat}),defaultSnap:({lastSnap:e,snapPoints:t})=>t[0]},n.createElement(Cg,{showHeader:!1})),n.createElement(vI,{sibling:f,ref:h,onDismiss:b,open:c,expandOnContentDrag:!1,snapPoints:({maxHeight:e})=>[1*e],defaultSnap:({lastSnap:e,snapPoints:t})=>t[0],scrollLocking:!1,header:n.createElement(aS,{sidePanel:va.Participants}),blocking:!1},n.createElement(ag,{showHeader:!1})),n.createElement(vI,{sibling:f,ref:p,onDismiss:b,open:a,expandOnContentDrag:!1,snapPoints:({maxHeight:e})=>[1*e],defaultSnap:({lastSnap:e,snapPoints:t})=>t[0],header:n.createElement(aS,{sidePanel:va.Settings}),blocking:!1},n.createElement(jm,{showHeader:!1}))))},uS=On.Z.create({container:{borderWidth:1,borderColor:"red"},content:{borderWidth:1,borderColor:"yellow",flex:1},backDrop:{position:"absolute",top:0,bottom:0,left:0,right:0,backgroundColor:"#1D1D1D",opacity:.5}}),lS=()=>{const{data:{meetingTitle:e}}=be(),{isRecordingActive:t}=da(),r=(0,n.useRef)(Ei.Z.currentState),[i,o]=(0,n.useState)(r.current),{RtcEngine:a,dispatch:s}=(0,n.useContext)(Xt),c=Oi();return(0,n.useRef)(c.video),n.createElement(qn.Z,{style:dS.container},n.createElement(qn.Z,{style:dS.titleBar},n.createElement($n.Z,{style:dS.title},ii(e)),n.createElement(vA,{size:8,horizontal:!1}),n.createElement(qn.Z,{style:dS.countView},n.createElement(qn.Z,{style:{width:45,height:35,justifyContent:"center",alignItems:"center",alignSelf:"center",zIndex:ai()?3:0}},n.createElement(um,null)),t?n.createElement(dm,{recordingLabel:"Recording"}):n.createElement(n.Fragment,null))),n.createElement(vA,{size:16}),n.createElement(qn.Z,{style:dS.videoView},n.createElement(Ev,null)),n.createElement(cS,null))},dS=On.Z.create({container:{paddingHorizontal:16,paddingVertical:20,flex:1},title:{fontSize:Wa.normal,lineHeight:Wa.normal,color:"#FFFFFF",fontWeight:"600",fontFamily:Ka.sansPro,paddingVertical:2},videoView:{flex:.85,zIndex:0,elevation:0},titleBar:{flexDirection:"column",alignItems:"flex-start"},countView:{flexDirection:"row"}}),hS=()=>{const{sidePanel:e}=ba(),[t]=Oa(),{data:{meetingTitle:r,isHost:i}}=(ka(),be()),{ChatComponent:o,VideocallComponent:a,BottombarComponent:s,ParticipantsComponent:c,SettingsComponent:u,TopbarComponent:l,VideocallBeforeView:d,VideocallAfterView:h}=ke((e=>{var t,r,i,o,a;let s={BottombarComponent:yv,TopbarComponent:vm,ChatComponent:Cg,ParticipantsComponent:ag,SettingsComponent:jm,VideocallAfterView:n.Fragment,VideocallBeforeView:n.Fragment};var c,u,l,d,h,p,f,A,g,m,v,y,E;(null!=e&&null!==(t=e.components)&&void 0!==t&&t.videoCall&&"object"!=typeof(null==e||null===(r=e.components)||void 0===r?void 0:r.videoCall)&&oi(null==e||null===(i=e.components)||void 0===i?void 0:i.videoCall)&&(s.VideocallComponent=null==e||null===(c=e.components)||void 0===c?void 0:c.videoCall),null!=e&&null!==(o=e.components)&&void 0!==o&&o.videoCall&&"object"==typeof(null==e||null===(a=e.components)||void 0===a?void 0:a.videoCall))&&(null!=e&&null!==(u=e.components)&&void 0!==u&&u.videoCall.bottomBar&&"object"!=typeof(null==e||null===(l=e.components)||void 0===l?void 0:l.videoCall.bottomBar)&&oi(null==e||null===(d=e.components)||void 0===d?void 0:d.videoCall.bottomBar)&&(s.BottombarComponent=null==e||null===(v=e.components)||void 0===v?void 0:v.videoCall.bottomBar),null!=e&&null!==(h=e.components)&&void 0!==h&&h.videoCall.topBar&&"object"!=typeof(null==e||null===(p=e.components)||void 0===p?void 0:p.videoCall.topBar)&&oi(null==e||null===(f=e.components)||void 0===f?void 0:f.videoCall.topBar)&&(s.TopbarComponent=null==e||null===(y=e.components)||void 0===y?void 0:y.videoCall.topBar),null!=e&&null!==(A=e.components)&&void 0!==A&&A.videoCall.participantsPanel&&"object"!=typeof(null==e||null===(g=e.components)||void 0===g?void 0:g.videoCall.participantsPanel)&&oi(null==e||null===(m=e.components)||void 0===m?void 0:m.videoCall.participantsPanel)&&(s.ParticipantsComponent=null==e||null===(E=e.components)||void 0===E?void 0:E.videoCall.participantsPanel));return s})),p=mi();return a?n.createElement(a,null):di()?n.createElement(lS,null):n.createElement(n.Fragment,null,n.createElement(d,null),n.createElement(qn.Z,{style:pS.full},n.createElement(Cv,{value:{buttonTemplateName:bv.topBar}},n.createElement(l,null)),n.createElement(qn.Z,{style:[pS.videoView,{paddingHorizontal:p()?32:10,paddingVertical:10}]},n.createElement(Ev,null),e===va.Participants?n.createElement(c,null):n.createElement(n.Fragment,null),e===va.Chat?n.createElement(o,null):n.createElement(n.Fragment,null),e===va.Settings?n.createElement(u,null):n.createElement(n.Fragment,null)),ai()||e!==va.Chat?n.createElement(Cv,{value:{buttonTemplateName:bv.bottomBar}},n.createElement(s,null)):n.createElement(n.Fragment,null)),n.createElement(h,null))},pS=On.Z.create({full:{flex:1,flexDirection:"column",overflow:"hidden"},videoView:{flex:12,flexDirection:"row"}}),fS=On.Z.create({remoteButton:{width:30,height:25,borderTopRightRadius:0,borderTopLeftRadius:0,borderBottomLeftRadius:0,borderBottomRightRadius:0,borderWidth:0,borderRightWidth:0,borderLeftWidth:0,marginHorizontal:0,backgroundColor:"#FFFFFF"}}),AS=[MA,BA,e=>{const t=Ii();return e.isHost&&"1"!==String(e.uid)[0]?n.createElement(uf,{style:fS.remoteButton,iconProps:{name:"remove",tintColor:"#FD0845"},onPress:()=>{t(e.uid)}}):n.createElement(n.Fragment,null)},e=>n.createElement(uf,{onPress:()=>{zr.send(nA.raiseHandRequestRejected,"",Br.LEVEL1,e.uid)}}),e=>{const{uid:t,toastId:r}=e,{hostApprovesRequestOfUID:i}=(0,n.useContext)(fA);return n.createElement(qn.Z,{style:{flex:1}},n.createElement(rs,{containerStyle:{minWidth:"auto",borderRadius:Ya.small,height:38,paddingHorizontal:8,paddingVertical:8},textStyle:{fontWeight:"600",fontSize:12},disabled:!t,text:"Accept",onPress:()=>{ea.getToastId()===r&&ea.hide(),i(t)}}))},e=>{const{uid:t,toastId:r}=e,{hostRejectsRequestOfUID:i}=(0,n.useContext)(fA);return n.createElement(qn.Z,{style:{flex:1}},n.createElement(cA,{containerStyle:{paddingHorizontal:8,paddingVertical:8,height:38},disabled:!t,onPress:()=>{ea.getToastId()===r&&ea.hide(),i(t)},text:"DENY"}))},fg,KA,YA],gS="/r/",mS=function(){const{hostUids:e}=mA(),{hostUids:t}=zA();return e=>!!t.filter((t=>t===e)).length},vS=function(){const{audienceUids:e}=mA(),{attendeeUids:t}=zA();return e=>!!t.filter((t=>t===e)).length},yS=function(){const{renderList:e}=Na();return t=>{var n;return(null===(n=e[t])||void 0===n?void 0:n.audio)===tn.enabled}},ES=function(){const{renderList:e}=Na();return t=>{var n;return(null===(n=e[t])||void 0===n?void 0:n.video)===tn.enabled}};let bS=d;var _S=__webpack_require__(3164);const{OS:CS}=_n.Z,IS=("ios"===CS?(0,_S.requireNativeComponent)("RNKMPreviousNextView"):qn.Z,iv.Z.ReactNativeKeyboardManager),SS=()=>{const{join:e}=(0,n.useContext)(Ce),t=Eo();return(0,n.useEffect)((()=>{e.initialized&&e.phrase&&t.push(`/${e.phrase}`)}),[e]),n.createElement(n.Fragment,null)},wS={channel:null,password:null,joinFlag:null,phrase:null},RS={joinSession:()=>{},joinStore:wS,setJoinStore:null},TS=(0,n.createContext)(RS),OS=(TS.Consumer,e=>{const t=Eo(),[r,i]=(0,n.useState)(wS);return n.createElement(TS.Provider,{value:{joinSession:e=>{i(e),t.push(`/${e.phrase}`)},joinStore:r,setJoinStore:i}},e.children)});var kS=__webpack_require__(5900),NS=__webpack_require__(6636),DS=__webpack_require__(2357);const PS=e=>{const t="#099DFD";return console.log(t),n.createElement(ug.Provider,{value:{primaryColor:t}},e.children)},xS=(0,n.createContext)({getDimensionData:()=>({dim:[0,0,!1],isDesktop:!1})}),LS=e=>n.createElement(xS.Provider,{value:{getDimensionData:(e,t)=>({dim:[e=e||Kn.Z.get("window").width,t=t||Kn.Z.get("window").height,e>t],isDesktop:!(e<t+150)})}},e.children),MS=n.createContext({error:{name:"",message:""},setGlobalErrorMessage:()=>{},resetError:()=>{}}),BS=e=>{const[t,r]=(0,n.useState)();return n.createElement(MS.Provider,{value:{error:t,setGlobalErrorMessage:e=>{r(e)},resetError:()=>{r(void 0)}}},e.children)},FS=()=>{const{error:e}=(0,n.useContext)(MS);return(0,n.useEffect)((()=>{(null!=e&&e.name||null!=e&&e.message)&&ea.show({type:"error",text1:e.name,text2:e.message,visibilityTime:1e4,primaryBtn:null,secondaryBtn:null})}),[e]),n.createElement(n.Fragment,null)},US=e=>null!=e&&e.bg?n.createElement(kS.Z,{source:{uri:e.bg},style:{flex:1},resizeMode:"cover"},e.children):null!=e&&e.color?n.createElement(qn.Z,{style:{flex:1,backgroundColor:e.color}},e.children):n.createElement(n.Fragment,null,e.children),jS=e=>{const t=ke((e=>{var t,r;return null!=e&&null!==(t=e.components)&&void 0!==t&&t.appRoot&&oi(null==e||null===(r=e.components)||void 0===r?void 0:r.appRoot)?e.components.appRoot:n.Fragment})),{join:r}=(0,n.useContext)(Ce);return n.createElement(t,null,n.createElement(US,{bg:"",color:"#111111"},n.createElement(NS.Z,{style:[{flex:1},_n.Z.select({web:{textAlign:"left"}})]},n.createElement(DS.Z,{hidden:!0}),n.createElement(iS,null,n.createElement(rS.Consumer,null,(({isActionSheetVisible:e})=>e?null:n.createElement(nS,null))),n.createElement(We,null,n.createElement(Yt,null,n.createElement(ao,{initialEntries:[Rg&&r.phrase?`/${r.phrase}`:""]},n.createElement(ev,null,n.createElement(OS,null,n.createElement(PS,null,n.createElement(LS,null,n.createElement(cr,null,n.createElement(BS,null,n.createElement(FS,null),n.createElement(SS,null),e.children)))))))))))))},VS=(le`
  mutation logoutSession($token: String!) {
    logoutSession(token: $token)
  }
`,On.Z.create({btn:{width:"60%",maxWidth:400,minHeight:45,marginBottom:15},btnText:{width:"100%",height:45,lineHeight:45,fontSize:16,fontWeight:"500",textAlign:"center",textAlignVertical:"center",color:"#FFFFFF",textDecorationLine:"underline"}}),e=>{const{resetError:t}=(0,n.useContext)(MS),r=Eo();return n.createElement(qn.Z,{style:{position:"absolute",backgroundColor:"#F7E5EC",paddingHorizontal:10,paddingVertical:4,maxWidth:250,width:"65%",left:0,right:0,top:"30%",marginHorizontal:"auto",zIndex:55,borderRadius:10}},n.createElement($n.Z,{style:{fontWeight:"500",color:"#FD0845",textAlign:"center",fontSize:16}},e.error.name),n.createElement($n.Z,{style:{textAlign:"center",padding:4}},e.error.message),e.showBack?n.createElement(Zn.Z,{style:{alignSelf:"center"},onPress:()=>{t&&t(),r.replace("./")}},n.createElement($n.Z,{style:{fontWeight:"500",textAlign:"center",textDecorationLine:"underline"}},"Go back")):null)});function QS(){return QS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QS.apply(this,arguments)}const GS=e=>{const{style:t,labelStyle:r,helpText:i,label:o,autoFocus:a,...s}=e,[c,u]=n.useState((()=>!!a));return n.createElement(n.Fragment,null,o?n.createElement(n.Fragment,null,n.createElement($n.Z,{style:[qS.label,r]},o),n.createElement(vA,{size:8})):n.createElement(n.Fragment,null),n.createElement(cs.Z,QS({style:[qS.input,t],placeholderTextColor:"#FFFFFF"+za.disabled,autoCorrect:!1},s)))},qS=On.Z.create({input:{width:"100%",borderWidth:1,paddingVertical:21,paddingHorizontal:16,borderColor:"#262626",color:"#FFFFFF",backgroundColor:"#181818",fontFamily:Ka.sansPro,fontSize:Wa.medium,borderRadius:Ya.medium,..._n.Z.select({web:{outlineStyle:"none"}})},label:{fontWeight:"600",fontSize:Wa.medium,color:"#FFFFFF"+za.medium,fontFamily:Ka.sansPro},helpText:{color:"#FFFFFF",fontFamily:Ka.sansPro}}),HS=(Cn(),On.Z.create({btnContainer:{width:"100%",alignItems:"center"},labelStyle:{paddingLeft:8},root:{flex:1},main:{flexGrow:1,flexDirection:"row",justifyContent:"center"},heading:{fontSize:Wa.extraLarge,fontWeight:"700",lineHeight:Wa.extraLarge,color:"#FFFFFF",fontFamily:Ka.sansPro}})),zS=()=>{const e=Eo(),[t,r]=(0,n.useState)(""),[i,o]=(0,n.useState)(null),a=ni(),{setMeetingInfo:s}=Pe(),c=async()=>{a(t).then((()=>{s(ve),e.push(t)})).catch((e=>{const t="invalid url"===(null==e?void 0:e.message.toLowerCase().trim())||!1;ea.show({type:"error",text1:t?"Meeting ID Invalid.":"Some Error Occured.",text2:t?"Please enter a valid Meeting ID":"Please try again",visibilityTime:3e3,primaryBtn:null,secondaryBtn:null})}))},{JoinComponent:u}=ke((e=>({})));return u?n.createElement(u,null):n.createElement(qn.Z,{style:HS.root},n.createElement(hs.Z,{contentContainerStyle:HS.main},i?n.createElement(VS,{error:i}):n.createElement(n.Fragment,null),n.createElement(Fg,null,n.createElement(qn.Z,null,n.createElement(Lg,null),n.createElement(vA,{size:20}),n.createElement($n.Z,{style:HS.heading},"Join a Meeting"),n.createElement(vA,{size:40}),n.createElement(GS,{labelStyle:HS.labelStyle,label:"Meeting ID",autoFocus:!0,value:t,helpText:"Enter the meeting ID here for the meeting youd like to join",placeholder:"Enter Meeting ID",onChangeText:e=>r(e),onSubmitEditing:()=>c()}),n.createElement(vA,{size:60})),n.createElement(qn.Z,{style:HS.btnContainer},n.createElement(rs,{iconName:"video-on",disabled:""===t,onPress:()=>c(),text:"Join Meeting",containerStyle:di()&&{width:"100%"}}),n.createElement(vA,{size:16}),n.createElement(jg,{text:"Create a meeting",onPress:()=>{e.push("/create")}}),n.createElement(n.Fragment,null)))))},WS={temp:{width:"100%",height:"100%",borderRadius:0,borderWidth:0},bottomBar:{flex:ai()?1.3:1.6,paddingHorizontal:ai()?"20%":"1%",backgroundColor:"#FFFFFF"+xa,flexDirection:"row",justifyContent:"space-evenly",position:"relative",margin:0,bottom:0},localButton:{display:"flex",alignSelf:"center",alignItems:"center",justifyContent:"center"},actionSheetButton:{width:25,height:25},localButtonSmall:{display:"flex",alignSelf:"center",alignItems:"center",justifyContent:"center"},localButtonText:{fontFamily:"Source Sans Pro",fontSize:12,marginTop:4,fontWeight:"400"},localButtonWithoutBG:{borderRadius:23,borderColor:"#099DFD",borderWidth:0,width:40,height:40,padding:3,display:"flex",alignSelf:"center",alignItems:"center",justifyContent:"center"},fullWidthButton:{width:"100%",height:"100%",resizeMode:"contain"},endCall:{width:20,height:20},endCallContainer:{flexDirection:"row",justifyContent:"center",alignItems:"center",paddingVertical:8,paddingHorizontal:16,backgroundColor:"#FF414D",borderRadius:8},endCallText:{color:"#FFFFFF",fontFamily:Ka.sansPro,fontSize:12,marginLeft:8,fontWeight:"700"},remoteButton:{width:25,height:25,borderTopRightRadius:0,borderTopLeftRadius:0,borderBottomLeftRadius:0,borderBottomRightRadius:0,borderWidth:0,borderRightWidth:0,borderLeftWidth:0,marginHorizontal:0,backgroundColor:"#FFFFFF"},liveStreamHostControlBtns:{width:20,height:20,borderTopRightRadius:0,borderTopLeftRadius:0,borderBottomLeftRadius:0,borderBottomRightRadius:0,borderWidth:0,borderRightWidth:0,borderLeftWidth:0,marginHorizontal:0,backgroundColor:"#FFFFFF"},minCloseBtn:{alignItems:"center",justifyContent:"center",width:25,height:25,borderRadius:0,position:"absolute",right:5,top:5}};var KS=__webpack_require__(4414);let YS;!function(e){e.ScreenShare="screenshare"}(YS||(YS={}));const JS=e=>{const t=(new Date).getTime(),r=Qn(),{callActive:i}=e,{rtcProps:o}=(0,n.useContext)(ln),{RtcEngine:a,dispatch:s}=ka(),{renderList:c,activeUids:u}=Na(),l=(0,n.useRef)({renderList:c}),d=(0,n.useRef)({activeUids:u});(0,n.useEffect)((()=>{d.current.activeUids=u}),[u]),(0,n.useEffect)((()=>{l.current.renderList=c}),[c]);const[h,p]=(0,n.useState)(!1),[f,A]=(0,n.useState)(!1),[g,m]=(0,n.useState)(0);lr("pstnUserLabel")();let v=(0,n.useRef)(null);const y=(0,n.useRef)(5);n.useEffect((()=>{m(Object.keys(iA(c,(([e,t])=>"rtc"===(null==t?void 0:t.type)&&!t.offline))).length)}),[c]),n.useEffect((()=>{const e=e=>(e.preventDefault(),e.returnValue="Are you sure you want to exit?"),t=()=>{v.current.leaveChannel(o.channel)};if(ai())return window.addEventListener("beforeunload",si()?e:()=>{}),window.addEventListener("pagehide",t),()=>{window.removeEventListener("beforeunload",si()?e:()=>{}),window.removeEventListener("pagehide",t)}}),[]);const E=async()=>{try{await v.current.login({uid:r.toString(),token:o.rtm}),mr.getInstance().setLocalUID(r.toString()),y.current=5,b()}catch(e){setTimeout((async()=>{y.current=y.current+y.current,E()}),1e3*y.current)}},b=async()=>{const e=[{key:"screenUid",value:String(o.screenShareUid)}];try{await v.current.setLocalUserAttributes(e),y.current=5,await _(),A(!0),await S()}catch(e){setTimeout((async()=>{y.current=y.current+y.current,b()}),1e3*y.current)}},_=async()=>{try{mr.getInstance().channelUid!==o.channel?(await v.current.joinChannel(o.channel),mr.getInstance().setChannelId(o.channel)):console.log("RTM already joined channel skipping"),y.current=5,await I()}catch(e){setTimeout((async()=>{y.current=y.current+y.current,_()}),1e3*y.current)}},C=(e,t)=>{s({type:"UpdateRenderList",value:[e,t]})},I=async()=>{try{await v.current.getChannelMembersBychannelId(o.channel).then((async e=>{await Promise.all(e.members.map((async e=>{const t=(0,KS.backOff)((async()=>{const t=await v.current.getUserAttributesByUid(e.uid);if(!t||!t.attributes)throw t;for(const e in t.attributes){if(t.attributes.hasOwnProperty(e)&&t.attributes[e])return t;throw t}}),{retry:(t,n)=>(console.log(`[retrying] Attempt ${n}. Fetching ${e.uid}'s name`,t),!0)});try{var n;const r=await t;console.log("[user attributes]:",{attr:r});const i=parseInt(e.uid),o=parseInt(null==r||null===(n=r.attributes)||void 0===n?void 0:n.screenUid);C(i,{screenUid:o,type:"rtc",uid:i,offline:!1,lastMessageTimeStamp:0});const a={type:YS.ScreenShare,parentUid:i};C(o,a);for(const[t,n]of Object.entries(null==r?void 0:r.attributes))if(Fr(n)){const r={evt:t,value:n};br.enqueue({data:r,uid:e.uid,ts:Vr()})}}catch(t){console.error(`Could not retrieve name of ${e.uid}`,t)}}))),p(!0),console.log("RTM init done")})),y.current=5}catch(e){setTimeout((async()=>{y.current=y.current+y.current,await I()}),1e3*y.current)}},S=async()=>{try{for(;!br.isEmpty();){const e=br.dequeue();await w(e.data,e.uid,e.ts)}}catch(e){console.log("CUSTOM_EVENT_API:  error while running queue events",e)}},w=async(e,t,n)=>{console.log("CUSTOM_EVENT_API: inside eventDispatcher ",e);const{evt:r,value:i}=e;if((null==i?void 0:i.persistLevel)===Br.LEVEL3){const e={key:r,value:i};await v.current.addOrUpdateLocalUserAttributes([e])}try{const{payload:e,persistLevel:o,source:a}=JSON.parse(i);console.log("CUSTOM_EVENT_API:  emiting event..: "),yr.emitEvent(r,a,{payload:e,persistLevel:o,sender:t,ts:n}),"name"===r&&setTimeout((()=>{yr.emitEvent(r,a,{payload:e,persistLevel:o,sender:t,ts:n})}),200)}catch(e){console.log("CUSTOM_EVENT_API: error while emiting event: ",e)}};return(0,n.useEffect)((()=>(i?(async()=>{v.current=mr.getInstance().engine,mr.getInstance(),v.current.on("connectionStateChanged",(e=>{})),v.current.on("error",(e=>{})),v.current.on("channelMemberJoined",(e=>{const t=(0,KS.backOff)((async()=>{const t=await v.current.getUserAttributesByUid(e.uid);if(!t||!t.attributes)throw t;for(const e in t.attributes){if(t.attributes.hasOwnProperty(e)&&t.attributes[e])return t;throw t}}),{retry:(t,n)=>(console.log(`[retrying] Attempt ${n}. Fetching ${e.uid}'s name`,t),!0)});!async function(){try{var n;const r=await t;console.log("[user attributes]:",{attr:r});const i=parseInt(e.uid),o=parseInt(null==r||null===(n=r.attributes)||void 0===n?void 0:n.screenUid);C(i,{screenUid:o,type:"rtc",uid:i,offline:!1,lastMessageTimeStamp:0});const a={type:YS.ScreenShare,parentUid:i};C(o,a)}catch(t){console.error(`Could not retrieve name of ${e.uid}`,t)}}()})),v.current.on("channelMemberLeft",(e=>{console.log("user left",e);const t=null!=e&&e.uid?parseInt(null==e?void 0:e.uid):void 0;t&&C(t,{offline:!0})})),v.current.on("messageReceived",(e=>{console.log("CUSTOM_EVENT_API messageReceived: ",e);const{peerId:t,ts:n,text:r}=e,[i,o]=Ur(r);i&&console.log("CUSTOM_EVENT_API: JSON payload incorrect, Error while parsing the payload");const a=Qr(n),s=ci()?Gr(t):parseInt(t);try{w(o,s,a)}catch(e){console.log("error while dispacthing",e)}})),v.current.on("channelMessageReceived",(e=>{console.log("CUSTOM_EVENT_API channelMessageReceived: ",e);const{uid:t,channelId:n,text:r,ts:i}=e,[a,s]=Ur(r);a&&console.log("CUSTOM_EVENT_API: JSON payload incorrect, Error while parsing the payload");const c=Qr(i),u=_n.Z.OS?Gr(t):parseInt(t);if(n===o.channel)try{w(s,u,c)}catch(e){console.log("error while dispacthing",e)}})),E()})():(console.log("waiting to init RTM"),p(!0)),()=>{(async()=>{!i||(mr.getInstance().destroy(),yr.clear(),A(!1),console.log("RTM cleanup done"))})()})),[o.channel,o.appId,i]),n.createElement(Yr.Provider,{value:{rtmInitTimstamp:t,hasUserJoinedRTM:f,engine:v.current,localUid:r,onlineUsersCount:g}},h?e.children:n.createElement(n.Fragment,null))},ZS=(...e)=>{console.log("[DeviceConfigure] ",...e)},XS=e=>{const t=ka(),[r,i]=(0,n.useState)(""),[o,a]=(0,n.useState)(""),[s,c]=(0,n.useState)(""),[u,l]=(0,n.useState)([]),{primaryColor:d}=(0,n.useContext)(ug),{store:h,setStore:p}=(0,n.useContext)(ze),{rememberedDevicesList:f,activeDeviceId:A}=h,g=(0,n.useMemo)((()=>u.filter((e=>"default"===e.deviceId)).length>0),[u]),m=(e,t)=>{p((n=>({...n,activeDeviceId:{...A,[e]:t}})))},v=(e,t)=>{const{kind:n}=e;p((r=>({...r,rememberedDevicesList:{...r.rememberedDevicesList,[n]:{[e.deviceId]:t?"switch-on-connect":"ignore-on-connect",...r.rememberedDevicesList[n]}}})))},{RtcEngine:y}=t,{localStream:E}=y,b=(0,n.useCallback)((async()=>{let e;return await y.getDevices((function(t){ZS("Fetching all devices: ",t),e=t.filter((e=>""!==(null==e?void 0:e.deviceId)&&("audioinput"==e.kind||"videoinput"==e.kind||"audiooutput"==e.kind))),ZS("Setting unique devices",e),l(e)})),e}),[]),_=e=>{let t;var n;return("audio"===e?y.isAudioEnabled:y.isVideoEnabled)?(t=null===(n=E[e])||void 0===n?void 0:n.getMediaStreamTrack().getSettings().deviceId,ZS(`Agora ${e} Track is using`,t)):(t="audio"===e?y.audioDeviceId:y.videoDeviceId,ZS(`Agora ${e} Engine is using`,t)),t??""},C=e=>{switch(ZS("Refreshing",e??"all"),e){case"audioinput":a(_("audio"));break;case"videoinput":i(_("video"));break;case"audiooutput":break;default:a(_("audio")),i(_("video"))}};(0,n.useEffect)((()=>{const e=setInterval((()=>{navigator.mediaDevices.enumerateDevices()}),2e3);return()=>{clearInterval(e)}}),[]),(0,n.useEffect)((()=>{const e="useEffect[rtc,store]";if(A&&u.length>0){if(!r||0==r.trim().length){ZS(e,"cam: Device list populated but No selected cam");const t=_("video"),{videoinput:n}=A;n&&t&&t!==n&&u.find((e=>e.deviceId===n))?(ZS(e,"cam: Setting cam to active id",n),w(n)):i(t)}if(!o||0==o.trim().length){ZS(e,"mic: Device list populated but No selected mic");const t=_("audio"),{audioinput:n}=A;n&&t&&t!==n&&u.find((e=>e.deviceId===n))?(ZS(e,"mic: Setting mic to active id",n),S(n)):a(t)}if(!s||0==s.trim().length){var t;ZS(e,"speaker: Device list populated but No selected speaker");const{audiooutput:n}=A,r=null===(t=u.find((e=>"default"===e.deviceId&&(!g||"default"===e.deviceId))))||void 0===t?void 0:t.deviceId;r&&n&&r!==n&&u.find((e=>e.deviceId===n))?(ZS(e,"speaker: Setting speaker to active id",n),R(n)):c(r)}}(0===u.length||u.find((e=>""===e.label)))&&(ZS(e,"Empty device list"),b())}),[t,h]);const I=async e=>{const t=u,n=await b(),i=e.device,{logTag:a,currentDevice:c,setCurrentDevice:l}={audioinput:{logTag:"mic: on-microphone-changed",currentDevice:o,setCurrentDevice:S},audiooutput:{logTag:"speaker: on-speaker-changed",currentDevice:s,setCurrentDevice:R},videoinput:{logTag:"cam: on-camera-changed",currentDevice:r,setCurrentDevice:w}}[i.kind];ZS(a,e),"default"===c&&l("default");const d=!!t.find((e=>e.deviceId===i.deviceId));if("ACTIVE"!==e.state||d){if("INACTIVE"===e.state&&i.deviceId===c)return void((e,t)=>{var n,r,i;const o=t||u;switch(e){case"audioinput":const e=null===(n=o.find((e=>"audioinput"===e.kind&&(!g||"default"===e.deviceId))))||void 0===n?void 0:n.deviceId;S(e);break;case"videoinput":const t=null===(r=o.find((e=>"videoinput"===e.kind)))||void 0===r?void 0:r.deviceId;w(t);break;case"audiooutput":const a=null===(i=o.find((e=>"audiooutput"===e.kind&&(!g||"default"===e.deviceId))))||void 0===i?void 0:i.deviceId;R(a)}})(i.kind,n)}else{const e=f[i.kind][i.deviceId];if(e){if("switch-on-connect"===e)return void l(i.deviceId)}else T(i)}};(0,n.useEffect)((()=>(ZS("previous devicelist updated",u),An().onMicrophoneChanged=I,()=>{An().onMicrophoneChanged=null})),[o,u]),(0,n.useEffect)((()=>(An().onPlaybackDeviceChanged=I,()=>{An().onPlaybackDeviceChanged=null})),[s,u]),(0,n.useEffect)((()=>(An().onCameraChanged=I,()=>{An().onCameraChanged=null})),[r,u]);const S=e=>(ZS("mic: setting to",e),new Promise(((t,n)=>{y.changeMic(e,(()=>{C("audioinput"),m("audioinput",e),t(null)}),(e=>{console.error("DeviceConfigure: Error setting mic",e),n(e)}))}))),w=e=>(ZS("cam: setting  to",e),new Promise(((t,n)=>{y.changeCamera(e,(()=>{C("videoinput"),m("videoinput",e),t(null)}),(e=>{console.error("Device Configure: Error setting webcam",e),n(e)}))}))),R=e=>(ZS("speaker: setting to",e),new Promise(((t,n)=>{y.changeSpeaker(e,(()=>{c(e),m("audiooutput",e),t(null)}),(e=>{console.error("Device Configure: Error setting speaker",e),n(s)}))}))),T=e=>{const{name:t,setAction:r}={audioinput:{name:"mic",setAction:S},videoinput:{name:"webcam",setAction:w},audiooutput:{name:"speaker",setAction:R}}[e.kind];ea.show({type:"checked",text1:`New ${t} detected`,text2:n.createElement($n.Z,null,n.createElement($n.Z,null,"New ",t," named "),n.createElement($n.Z,{style:{fontWeight:"bold"}},e.label),n.createElement($n.Z,null," detected. Do you want to switch?")),visibilityTime:6e3,checkbox:{disabled:!1,color:d,text:"Remember my choice"},primaryBtn:{text:"SWITCH DEVICE",onPress:t=>{r(e.deviceId),t&&v(e,!0),ea.hide()}},secondaryBtn:{text:"IGNORE",onPress:t=>{t&&v(e,!1),ea.hide()}}})};return n.createElement(Zg.Provider,{value:{selectedCam:r,setSelectedCam:w,selectedMic:o,setSelectedMic:S,selectedSpeaker:s,setSelectedSpeaker:R,deviceList:u,setDeviceList:l}},e.children)};function $S(){const e=Eo();return n.createElement(Zn.Z,{onPress:()=>e.replace("/")},n.createElement(Xn.Z,{source:{uri:"https://dbudicf5k4as1.cloudfront.net/2/5TWpUqsdC0BH6lPJ.jpeg"},style:ew.logo,resizeMode:"contain"}))}const ew=On.Z.create({logo:{minWidth:60,minHeight:30},marginAuto:{width:"30%",height:"30%",minWidth:60,minHeight:30}}),tw=(df.Consumer,e=>{const[t,r]=(0,n.useState)(!1),i=ka(),{dispatch:o}=i,{renderList:a,activeUids:s,lastJoinedUid:c,pinnedUid:u}=Na(),l=(0,n.useRef)(0),{isRecordingActive:d}=da(),{executeNormalQuery:h,executePresenterQuery:p}=ra(),{setScreenShareData:f,screenShareData:A}=aa(),g=Gf(),m=qf(),{currentLayout:v}=Di(),y=(0,n.useRef)({currentLayout:v}),{channel:E,appId:b,screenShareUid:_,screenShareToken:C,encryption:I}=(0,n.useContext)(ln).rtcProps,S=(0,n.useRef)({renderList:a}),w=(0,n.useRef)({pinnedUid:u});(0,n.useEffect)((()=>{w.current.pinnedUid=u}),[u]),(0,n.useEffect)((()=>{S.current.renderList=a}),[a]),(0,n.useEffect)((()=>{y.current.currentLayout=v}),[v]),(0,n.useEffect)((()=>{const e=iA(A,(([e,t])=>null==t?void 0:t.isActive));if(e){const t=Object.keys(e).map((e=>parseInt(e))).sort(((t,n)=>e[t].ts-e[n].ts));null!=t&&t.length&&(t.reverse(),l.current!==t[0]&&-1!==s.indexOf(t[0])&&R(!0,t[0]))}}),[s,A]);const R=(e,t)=>{let n=y.current.currentLayout;e&&t?(l.current=t,o({type:"SwapVideo",value:[t]}),n!==Vf()&&g()):(l.current=0,n!==Qf()&&m())};(0,n.useEffect)((()=>{zr.on(Kr.kickScreenshare,(()=>{i.RtcEngine.startScreenshare()})),zr.on(Dr,(e=>{const t=JSON.parse(e.payload),n=t.action,r=t.value,i=S.current.renderList[e.sender].screenUid;switch(n){case Sr:f((e=>{var t;return{...e,[i]:{name:null===(t=S.current.renderList[i])||void 0===t?void 0:t.name,isActive:!0,ts:r||0}}}));break;case wr:f((e=>{var t;return{...e,[i]:{name:null===(t=S.current.renderList[i])||void 0===t?void 0:t.name,isActive:!1,ts:r||0}}})),w.current.pinnedUid||R(!1)}}))}),[]),(0,n.useEffect)((()=>{i.RtcEngine.addListener("ScreenshareStopped",(()=>{r(!1),console.log("STOPPED SHARING"),h(),zr.send(Dr,JSON.stringify({action:wr,value:0}),Br.LEVEL2),f((e=>({...e,[_]:{...e[_],isActive:!1,ts:0}}))),w.current.pinnedUid||R(!1)}))}),[]);const T=async e=>{d&&(e?(console.log("screenshare: Executing presenter query"),p(_)):h()),console.log("screenshare query executed");try{await i.RtcEngine.startScreenshare(C,E,null,_,b,i.RtcEngine,I),e&&r(!0),e&&(f((e=>{var t;return{...e,[_]:{name:null===(t=S.current.renderList[_])||void 0===t?void 0:t.name,isActive:!0,ts:Vr()}}})),zr.send(Dr,JSON.stringify({action:Sr,value:Vr()}),Br.LEVEL2))}catch(e){console.error("can't start the screen share",e),h()}};return n.createElement(df.Provider,{value:{isScreenshareActive:t,startUserScreenshare:()=>{t||T(!0)},stopUserScreenShare:()=>{t&&T(!1)}}},e.children)}),nw=e=>{const[t,r]=(0,n.useState)(!1),{isMobileView:i=!0}=e;return n.createElement(n.Fragment,null,n.createElement(EA,{modalVisible:t,setModalVisible:r,title:"",containerStyle:rw.containerStyle,contentContainerStyle:rw.contentContainer,showCloseIcon:!1},n.createElement(jm,{hideName:!0,handleClose:()=>r(!1)})),n.createElement(Zn.Z,{onPress:()=>r(!0)},n.createElement(es,{name:"settings",tintColor:"#FFFFFF"})))},rw=On.Z.create({contentContainer:{backgroundColor:"#1D1D1D",borderWidth:1,borderColor:"#2D2D2D",borderRadius:4,padding:0,width:"100%"},containerStyle:{}}),iw=e=>{const{VideoMute:t,AudioMute:r}=ke((e=>({AudioMute:jA,VideoMute:UA}))),{isMobileView:i=!1}=e,o=ci()||ui(),{deviceList:a}=(0,n.useContext)(Zg),{setCameraAvailable:s,setMicAvailable:c}=Sm(),u=a.filter((e=>{if("audioinput"===e.kind)return!0})),l=a.filter((e=>{if("videoinput"===e.kind)return!0}));return(0,n.useEffect)((()=>{u&&u.length&&i&&!o&&c(!0)}),[u]),(0,n.useEffect)((()=>{l&&l.length&&i&&!o&&s(!0)}),[l]),n.createElement(qn.Z,{style:[ow.precallControls,i&&{paddingVertical:10}],testID:"precall-controls"},n.createElement(qn.Z,{style:{width:52,height:52}},n.createElement(r,{isMobileView:i,showLabel:!!di()&&!i,showToolTip:!0})),n.createElement(n.Fragment,null,n.createElement(vA,{size:i?24:16,horizontal:!0}),n.createElement(qn.Z,{style:{width:52,height:52}},n.createElement(t,{isMobileView:i,showLabel:!!di()&&!i,showToolTip:!0}))),i&&!o&&n.createElement(n.Fragment,null,n.createElement(vA,{size:i?24:16,horizontal:!0}),n.createElement(qn.Z,{style:{width:52,height:52}},n.createElement(nw,null))))},ow=On.Z.create({precallControls:{flexDirection:"row",paddingVertical:32,justifyContent:"center",alignItems:"center",backgroundColor:"#1D1D1D"}}),aw=()=>{const{isCameraAvailable:e,isMicAvailable:t}=Sm(),r=(0,n.useContext)(tr),i=cw();return n.createElement(qn.Z,{style:i.fallbackRootContainer},e||r.permissionStatus===nn.NOT_REQUESTED||r.permissionStatus===nn.REQUESTED?n.createElement(qn.Z,{style:i.avatar},n.createElement(ir,{name:"profile"})):n.createElement(qn.Z,{style:i.fallbackContainer},n.createElement($n.Z,{style:i.infoText1},"Cant Find Your"," Camera"),n.createElement($n.Z,{style:i.infoText2},"Check your system settings to make sure that a"," camera"," is available. If not, plug one in and restart your browser."),n.createElement(vA,{size:33}),n.createElement(Zn.Z,{style:{flexDirection:"row",alignSelf:"center"},onPress:()=>{(()=>{try{const e="https://support.google.com/chrome/answer/2693767?hl=en&co=GENIE.Platform%3DDesktop";ai()?window.open(e,"_blank"):sg.Z.openURL(e)}catch(e){console.error("Couldn't open the support url")}})()}},n.createElement($n.Z,{style:i.retryBtn},"Learn More"),n.createElement(vA,{horizontal:!0,size:4}),n.createElement(qn.Z,{style:{alignSelf:"center"}},n.createElement(es,{iconType:"plain",name:"link-share",tintColor:"#099DFD"}))),n.createElement(vA,{size:23})))},sw=()=>{const{renderList:e,activeUids:t}=Na(),[r]=t;if(!r)return null;const i=cw();return n.createElement(qn.Z,{style:[i.container]},n.createElement(qn.Z,{style:{flex:1}},n.createElement(Wn,{user:e[r],key:r,fallback:aw,containerStyle:{minHeight:200,width:"100%",height:"100%"}})),n.createElement(iw,{isMobileView:!!di()}))},cw=()=>{const e=yi();return On.Z.create({infoText1:{fontFamily:Ka.sansPro,fontWeight:"700",fontSize:20,textAlign:"center",color:"#FFFFFF",paddingTop:24,paddingBottom:12,paddingHorizontal:10},infoText2:{fontFamily:Ka.sansPro,fontWeight:"400",fontSize:Wa.small,textAlign:"center",color:"#FFFFFF"+za.disabled,paddingHorizontal:e(48)},fallbackRootContainer:{flex:1,backgroundColor:"#222222",justifyContent:"center",alignItems:"center"},fallbackContainer:{minHeight:200,maxWidth:440,backgroundColor:"#333333",borderRadius:Ya.large,justifyContent:"center",alignItems:"center",margin:40},retryBtn:{fontFamily:Ka.sansPro,fontWeight:"600",fontSize:Wa.normal,color:"#099DFD",alignSelf:"center"},container:{flex:1,position:"relative",justifyContent:"space-between",overflow:"hidden"},avatar:{width:100,height:100,margin:40}})},uw=()=>n.createElement(Pm,null);var lw=__webpack_require__(6126),dw=__webpack_require__.n(lw);const hw=()=>{if(Cn()&&ai()){const e=n.useMemo((()=>new(dw())),[]),[t,r]=n.useState(e.isEnabled),i=n.useCallback((()=>{e.enable().then((()=>{console.log("enabled sleep successfully"),r(e.isEnabled)})).catch((e=>{console.log("error enabling sleep",e)}))}),[]);return{awake:t,request:i,release:n.useCallback((()=>{e.disable(),r(e.isEnabled),console.log("disabled sleep successfully")}),[])}}return{awake:!1,request:()=>{},release:()=>{}}},pw=new Audio("https://dl.dropboxusercontent.com/s/1cdwpm3gca9mlo0/kick.mp3"),fw=e=>{const{rtcProps:t}=(0,n.useContext)(ln),{setCallActive:r}=Sm(),i=$r(),o=Ta(),{isJoinDataFetched:a}=be(),{awake:s,request:c}=hw(),u=lr("joinRoomButton"),[l,d]=n.useState(u({ready:a,role:void 0}));(0,n.useEffect)((()=>{null!=t&&t.role&&d(u({ready:a,role:void 0}))}),[null==t?void 0:t.role]);const h=l,p=()=>(o(i.trim()),r(!0),(ai()||Cn())&&(pw.volume=0,pw.play().then((()=>{pw.pause()}))),void(ai()&&Cn()&&!s&&c())),f=!a||""===(null==i?void 0:i.trim());return null!=e&&e.render?e.render(p,h,f):n.createElement(rs,{onPress:p,disabled:f,text:h,containerStyle:{minWidth:"100%",paddingHorizontal:10},textStyle:{textAlign:"center"}})},Aw=e=>{const t=$r(),r=Ta(),{isJoinDataFetched:i}=be(),{isDesktop:o=!1}=e;return n.createElement(GS,{maxLength:60,label:o?"Joining as":"",labelStyle:null!=e&&e.labelStyle?e.labelStyle:{fontFamily:Ka.sansPro,fontWeight:"400",fontSize:Wa.small,lineHeight:Wa.small,color:"#FFFFFF"},value:t,autoFocus:!0,onChangeText:e=>r(e||""),onSubmitEditing:()=>{},placeholder:i?"Enter Your Name":"Getting name...",editable:i})},gw=e=>{const{data:{meetingTitle:t}}=be();return n.createElement($n.Z,{style:[mw.titleHeading,null!=e&&e.textStyle?e.textStyle:{}]},ii(t))},mw=On.Z.create({titleHeading:{fontSize:Wa.normal,lineHeight:Wa.normal,fontWeight:"600",color:"#FFFFFF",fontFamily:Ka.sansPro}}),vw=({isDesktop:e})=>{const{rtcProps:t}=(0,n.useContext)(ln),{JoinButton:r,Textbox:i}=ke((e=>({Textbox:Aw,JoinButton:fw})));return n.createElement(qn.Z,{style:yw.btnContainer},n.createElement(i,{isDesktop:e,labelStyle:{}}),n.createElement(n.Fragment,null),n.createElement(qn.Z,{style:!1},n.createElement(vA,{size:10}),n.createElement(qn.Z,{style:{width:"100%"}},n.createElement(r,null))))},yw=On.Z.create({full:{flex:1},labelStyle:{paddingLeft:8},subTextStyle:{marginTop:8,marginLeft:8,fontFamily:Ka.sansPro,fontWeight:"400",fontSize:Wa.small,lineHeight:18,color:"#808080",textAlign:"left"},btnContainerStyle:{maxWidth:337,alignSelf:"center",marginTop:50},main:{flexGrow:1,padding:32,justifyContent:"center"},mainMobile:{flexGrow:1,flexDirection:"row",paddingHorizontal:16,paddingTop:25,paddingBottom:32,justifyContent:"center"},nav:{flex:1,width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},container:{flexDirection:"row",alignItems:"center",minHeight:"80%"},leftContent:{flex:2.5,borderRadius:Ya.large,overflow:"hidden"},boxStyle:{borderWidth:1,borderColor:"#2D2D2D",shadowColor:"#000000",shadowOffset:{width:0,height:4},shadowOpacity:.1,shadowRadius:8,elevation:5,height:"100%"},mobileBoxStyle:{marginRight:0,borderRadius:Ya.large,flex:3},rightContent:{borderRadius:Ya.large,flex:1,paddingHorizontal:0,paddingVertical:0,maxWidth:450,height:"100%",justifyContent:"space-between"},rightInputContent:{padding:32},titleFont:{textAlign:"center",fontSize:20,color:"#FFFFFF"},btnContainer:{flex:1,width:"100%",justifyContent:"center"},lsBtnContainer:{flex:1,width:"100%",justifyContent:"center"},meetingTitleContainer:{marginVertical:10},meetingTitleStyle:{fontFamily:Ka.sansPro,fontWeight:"700",fontSize:Wa.extraLarge,lineHeight:Wa.extraLarge,color:"#FFFFFF",paddingLeft:0}}),Ew=({isDesktop:e})=>{const{JoinButton:t,Textbox:r}=ke((e=>({Textbox:Aw,JoinButton:fw})));return n.createElement(r,{isDesktop:e})},bw=()=>{const{JoinButton:e,Textbox:t}=ke((e=>({Textbox:Aw,JoinButton:fw})));return n.createElement(e,null)},_w=On.Z.create({labelStyle:{paddingLeft:8},subTextStyle:{marginTop:8,marginLeft:8,fontFamily:Ka.sansPro,fontWeight:"400",fontSize:Wa.small,lineHeight:18,color:"#808080",textAlign:"left"},btnContainerStyle:{maxWidth:337,alignSelf:"center",marginTop:50},root:{flex:1},main:{flexGrow:1,flexDirection:"row",justifyContent:"center"},leftContentHorizontal:{flex:2.5,borderRadius:Ya.large,overflow:"hidden",borderWidth:1,borderColor:"#2D2D2D",shadowColor:"#000000",shadowOffset:{width:0,height:4},shadowOpacity:.1,shadowRadius:8,elevation:5},leftContentVertical:{width:"100%",borderRadius:Ya.large,overflow:"hidden",borderWidth:1,borderColor:"#2D2D2D",shadowColor:"#000000",shadowOffset:{width:0,height:4},shadowOpacity:.1,shadowRadius:8,elevation:5},rightContentHorizontal:{flex:1,borderRadius:Ya.large,paddingHorizontal:0,paddingVertical:0,height:"100%",minWidth:350,justifyContent:"space-between",marginHorizontal:0,marginVertical:0},rightContentVertical:{flex:1,borderRadius:Ya.large,paddingHorizontal:0,paddingVertical:0,maxWidth:"100%",height:"100%",justifyContent:"space-between",marginHorizontal:0},rightInputContent:{padding:32},titleFont:{textAlign:"center",fontSize:20,color:"#FFFFFF"},btnContainer:{flex:1,width:"100%",justifyContent:"center"},lsBtnContainer:{flex:1,width:"100%",justifyContent:"center"},meetingTitleContainer:{marginVertical:10},meetingTitleStyle:{fontFamily:Ka.sansPro,fontWeight:"700",fontSize:Wa.extraLarge,lineHeight:Wa.extraLarge,color:"#FFFFFF",paddingLeft:0}}),Cw=di()?e=>{const{primaryColor:t}=(0,n.useContext)(ug),{rtcProps:r}=(0,n.useContext)(ln),{VideoPreview:i,MeetingName:o,DeviceSelect:a,PrecallAfterView:s,PrecallBeforeView:c}=ke((e=>({PrecallAfterView:n.Fragment,PrecallBeforeView:n.Fragment,MeetingName:gw,VideoPreview:sw,DeviceSelect:uw}))),{isJoinDataFetched:u,data:{meetingTitle:l}}=be(),d=ka(),[h,p]=(0,n.useState)(!1),{store:f}=(0,n.useContext)(ze);(0,n.useEffect)((()=>{ai()})),(0,n.useEffect)((()=>{u&&new Promise((e=>d.RtcEngine.getDevices((function(t){e(t)})))).then((e=>{xe.emit("preJoin",l,e)}))}),[u]),(0,n.useEffect)((()=>{null!=f&&f.permissionPopupSeen?!1===JSON.parse(null==f?void 0:f.permissionPopupSeen)&&p(!0):p(!0)}),[]);const A=ke((e=>{}));return u?A?n.createElement(A,null):n.createElement(n.Fragment,null,n.createElement(c,null),n.createElement(qn.Z,{style:{flex:1}},n.createElement(hs.Z,{contentContainerStyle:yw.mainMobile,testID:"precall-screen"},n.createElement(qn.Z,{style:{flex:1}},n.createElement(o,{textStyle:{textAlign:"center"}}),n.createElement(vA,{size:24}),n.createElement(qn.Z,{style:{flex:1}},n.createElement(qn.Z,{style:{flex:1},testID:"precall-mobile-preview"},n.createElement(i,{isMobileView:!0})),n.createElement(vA,{size:40}),n.createElement(qn.Z,{testID:"precall-mobile-join",style:{flexDirection:"row"}},n.createElement(vw,{isDesktop:!1})))))),n.createElement(s,null)):n.createElement($n.Z,{style:yw.titleFont},"Loading..")}:()=>{const{rtcProps:e}=(0,n.useContext)(ln),{VideoPreview:t,MeetingName:r,DeviceSelect:i,PrecallAfterView:o,PrecallBeforeView:a}=ke((e=>({PrecallAfterView:n.Fragment,PrecallBeforeView:n.Fragment,MeetingName:gw,VideoPreview:sw,DeviceSelect:uw}))),{isJoinDataFetched:s,data:{meetingTitle:c}}=be(),u=ka();(0,n.useEffect)((()=>{ai()})),(0,n.useEffect)((()=>{s&&new Promise((e=>u.RtcEngine.getDevices((function(t){e(t)})))).then((e=>{xe.emit("preJoin",c,e)}))}),[s]);const l=ke((e=>{})),d=mi();return yi(),s?l?n.createElement(l,null):n.createElement(n.Fragment,null,n.createElement(a,null),n.createElement(qn.Z,{style:_w.root},n.createElement(hs.Z,{contentContainerStyle:[_w.main,{padding:32,flexDirection:"column"}],testID:"precall-screen"},n.createElement(n.Fragment,null,n.createElement(r,{textStyle:{textAlign:"left"}}),n.createElement(vA,{size:32}),n.createElement(qn.Z,{style:{flex:1,flexDirection:d()?"row":"column",justifyContent:"space-between"}},n.createElement(qn.Z,{testID:"precall-preview",style:d()?_w.leftContentHorizontal:_w.leftContentVertical},n.createElement(t,null)),n.createElement(vA,{size:24,horizontal:!!d()}),n.createElement(Fg,{style:d()?_w.rightContentHorizontal:_w.rightContentVertical},n.createElement(qn.Z,{style:_w.rightInputContent},n.createElement(Ew,{isDesktop:!0}),n.createElement(i,null)),n.createElement(qn.Z,{style:{width:"100%",padding:32}},n.createElement(bw,null))))))),n.createElement(o,null)):n.createElement($n.Z,{style:_w.titleFont},"Loading..")},Iw=e=>(ke((e=>{var t,n,r,i,o,a,s,c;return null!=e&&null!==(t=e.components)&&void 0!==t&&t.videoCall&&"object"==typeof(null==e||null===(n=e.components)||void 0===n?void 0:n.videoCall)&&null!=e&&null!==(r=e.components)&&void 0!==r&&null!==(i=r.videoCall)&&void 0!==i&&i.useUserContext&&"function"==typeof(null==e||null===(o=e.components)||void 0===o||null===(a=o.videoCall)||void 0===a?void 0:a.useUserContext)?null==e||null===(s=e.components)||void 0===s||null===(c=s.videoCall)||void 0===c?void 0:c.useUserContext:()=>{}}))(),e.children),Sw=(0,n.createContext)({whiteboardData:{},setWhiteboardData:()=>{}}),ww=e=>{const[t,r]=(0,n.useState)({}),{dispatch:i}=ka();return(0,n.useEffect)((()=>{const e=iA(t,(([e,t])=>!0===t.active));Object.keys(e).map((t=>{const n=parseInt(t);i({type:"AddCustomContent",value:[n,e[n]]})}))}),[t]),n.createElement(Sw.Provider,{value:{whiteboardData:t,setWhiteboardData:r}},e.children)},Rw=(he(Sw),e=>{const{setStore:t}=(0,n.useContext)(ze),{RtcEngine:r,dispatch:i}=(0,n.useContext)(Xt),{renderList:o}=Na(),a=(0,n.useRef)({renderList:o}),{phrase:s}=bo();return(0,n.useEffect)((()=>{a.current.renderList=o}),[o]),(0,n.useEffect)((()=>(zr.on(Kr.muteVideo,(async({payload:e,sender:t})=>{ea.show({type:"info",text1:"The host has muted your video.",visibilityTime:3e3,primaryBtn:null,secondaryBtn:null}),ai()?await r.muteLocalVideoStream(!0):await r.enableLocalVideo(!1),i({type:"LocalMuteVideo",value:[0]})})),zr.on(Kr.muteAudio,(({sender:e})=>{ea.show({type:"info",text1:"The host has muted your audio.",visibilityTime:3e3,primaryBtn:null,secondaryBtn:null}),r.muteLocalAudioStream(!0),i({type:"LocalMuteAudio",value:[0]})})),zr.on(Kr.kickUser,(()=>{ea.show({type:"info",text1:"The host has removed you from the meeting.",visibilityTime:5e3,primaryBtn:null,secondaryBtn:null}),setTimeout((()=>{i({type:"EndCall",value:[]})}),5e3)})),zr.on(Kr.requestAudio,(()=>{ea.show({type:"info",text1:"The host has requested you to speak",visibilityTime:3e3,primaryBtn:n.createElement(rs,{containerStyle:Tw.primaryBtn,textStyle:{fontWeight:"600",fontSize:16,paddingLeft:0},text:"UNMUTE",onPress:()=>{r.muteLocalAudioStream(!1),i({type:"LocalMuteAudio",value:[1]}),ea.hide()}}),secondaryBtn:Ow})})),zr.on(Kr.requestVideo,(()=>{ea.show({type:"info",text1:"The host has asked you to start your video.",visibilityTime:3e3,primaryBtn:n.createElement(rs,{containerStyle:Tw.primaryBtn,textStyle:Tw.primaryBtnText,text:"UNMUTE",onPress:async()=>{ai()?await r.muteLocalVideoStream(!1):await r.enableLocalVideo(!0),i({type:"LocalMuteVideo",value:[1]}),ea.hide()}}),secondaryBtn:Ow})})),()=>{zr.off(Kr.requestAudio),zr.off(Kr.requestVideo),zr.off(Kr.muteVideo),zr.off(Kr.muteAudio),zr.off(Kr.kickUser)})),[]),n.createElement(n.Fragment,null,e.children)}),Tw=On.Z.create({secondaryBtn:{marginLeft:16,height:40,paddingVertical:5},primaryBtn:{maxWidth:109,minWidth:109,height:40,borderRadius:4,paddingVertical:5,paddingHorizontal:12},primaryBtnText:{fontWeight:"600",fontSize:16,paddingLeft:0}}),Ow=n.createElement(cA,{containerStyle:Tw.secondaryBtn,text:"LATER",onPress:()=>{ea.hide()}}),kw=__webpack_require__.p+"4654d2832744cc3c1b9f75a433a7d91a.png",Nw=On.Z.create({dismissBtn:{fontFamily:Ka.sansPro,fontWeight:"600",fontSize:Wa.normal,color:"#099DFD",paddingVertical:32},infoMessage1:{paddingHorizontal:76,paddingTop:32,paddingBottom:12,fontFamily:Ka.sansPro,fontWeight:"700",fontSize:Wa.large,textAlign:"center",color:"#FFFFFF"},infoMessage2:{fontFamily:Ka.sansPro,fontWeight:"400",fontSize:Wa.small,color:"#FFFFFF"+za.medium},infoMessage2Highlight:{fontWeight:"700",fontFamily:Ka.sansPro,fontSize:Wa.small},modal:{flex:1,flexDirection:"column",maxHeight:386,width:441,borderRadius:20,paddingHorizontal:0,paddingVertical:0,borderWidth:0},modalImageContainer:{minHeight:190},modalImage:{width:"100%",height:"100%"},modalContent:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#1D1D1D",borderBottomLeftRadius:20,borderBottomRightRadius:20}}),Dw=()=>{const{dispatch:e}=ka(),{permissionStatus:t}=Oi(),[r,i]=(0,n.useState)(!1),o=()=>{e({type:"LocalPermissionState",value:[nn.CANCELLED]})};return(0,n.useEffect)((()=>{setTimeout((()=>{i(!0)}),500)}),[]),r&&n.createElement(EA,{modalVisible:t===nn.REQUESTED,setModalVisible:o,showCloseIcon:!1,contentContainerStyle:Nw.modal},n.createElement(qn.Z,{style:Nw.modalImageContainer},n.createElement(Xn.Z,{style:Nw.modalImage,resizeMode:"contain",source:{uri:kw}})),n.createElement(qn.Z,{style:Nw.modalContent},n.createElement($n.Z,{style:Nw.infoMessage1},"Allow access to camera and microphone"),n.createElement($n.Z,{style:Nw.infoMessage2},"Select",n.createElement($n.Z,{style:Nw.infoMessage2Highlight}," Allow "),"for others to see and hear you"),n.createElement(Zn.Z,{onPress:()=>{o()}},n.createElement($n.Z,{style:Nw.dismissBtn},"Dismiss"))))};var Pw;!function(e){e[e.None=0]="None",e[e.AES128XTS=1]="AES128XTS",e[e.AES128ECB=2]="AES128ECB",e[e.AES256XTS=3]="AES256XTS",e[e.SM4128ECB=4]="SM4128ECB"}(Pw||(Pw={}));const xw={maxViewStyles:WS.temp,minViewStyles:WS.temp,localBtnContainer:WS.bottomBar,localBtnStyles:{muteLocalAudio:WS.localButton,muteLocalVideo:WS.localButton,switchCamera:WS.localButton,endCall:WS.endCall,fullScreen:WS.localButton,recording:WS.localButton,screenshare:WS.localButton},theme:"#099DFD",remoteBtnStyles:{muteRemoteAudio:WS.remoteButton,muteRemoteVideo:WS.remoteButton,remoteSwap:WS.remoteButton,minCloseBtnStyles:WS.minCloseBtn,liveStreamHostControlBtns:WS.liveStreamHostControlBtns},BtnStyles:WS.remoteButton},Lw=On.Z.create({full:{flex:1,flexDirection:"column",overflow:"hidden"},videoView:Ja.t_,loader:{flex:1,alignSelf:"center",justifyContent:"center"},loaderLogo:{alignSelf:"center",justifyContent:"center",marginBottom:30},loaderText:{fontWeight:"500",color:"#FFFFFF"}}),Mw=()=>{const{setGlobalErrorMessage:e}=(0,n.useContext)(MS),{awake:t,release:r}=hw(),[i,o]=(0,n.useState)(!1),a=Uf(),s=hi(a)?a[0].name:"",[c,u]=(0,n.useState)(s),[l,d]=(0,n.useState)(!1),[h,p]=(0,n.useState)(!1),[f,A]=(0,n.useState)(va.None),[g,m]=(0,n.useState)({editName:!1}),{phrase:v}=bo(),[y,E]=n.useState({appId:"f9c50175f866402f9dd1a249fb16d917",channel:null,uid:null,token:null,rtm:null,screenShareUid:null,screenShareToken:null,profile:"480p_8",dual:!0,encryption:{key:null,mode:Pw.AES128XTS,screenKey:null},role:$t.Broadcaster,geoFencing:!0,audioRoom:!1,activeSpeaker:!0}),{join:b,clearState:_}=(0,n.useContext)(Ce),C=Eo(),I=(0,n.useRef)(C.location.pathname),S=ni(),{setMeetingInfo:w}=Pe(),{isJoinDataFetched:R,data:T}=be();n.useEffect((()=>()=>{console.log("Videocall unmounted"),w(ve),t&&r()}),[]),(0,n.useEffect)((()=>{b.phrase||S(v).then((()=>{})).catch((t=>{e(t),C.push("/")}))}),[]),(0,n.useEffect)((()=>{if(!b.initialized)return;const{phrase:t,meetingDetails:n,skipPrecall:r,promise:i}=b,a=`/${t}`;o(r),n?(p(!1),w((e=>({isJoinDataFetched:!0,data:{...e.data,...n}})))):t&&(p(!1),I.current=a,S(t).catch((t=>{e(t),C.push("/"),I.current="",i.rej(t)})))}),[b]),n.useEffect((()=>{!0!==R||h||(E({appId:"f9c50175f866402f9dd1a249fb16d917",channel:T.channel,uid:T.uid,token:T.token,rtm:T.rtmToken,dual:!0,profile:"480p_8",encryption:{key:T.encryptionSecret,mode:Pw.AES128XTS,screenKey:T.encryptionSecret},screenShareUid:T.screenShareUid,screenShareToken:T.screenShareToken,role:T.isHost?$t.Broadcaster:$t.Audience,geoFencing:!0,audioRoom:!1,activeSpeaker:!0}),p(!0))}),[R,T,h]);const O={EndCall:()=>{_("join"),setTimeout((()=>{xe.emit("leave"),C.push("/")}),0)},UserJoined:e=>{console.log("UIKIT Callback: UserJoined",e),xe.emit("rtc-user-joined",e)},UserOffline:e=>{console.log("UIKIT Callback: UserOffline",e),xe.emit("rtc-user-joined",e)},RemoteAudioStateChanged:(e,t)=>{console.log("UIKIT Callback: RemoteAudioStateChanged",e,t),0===t?xe.emit("rtc-user-unpublished",e,"audio"):xe.emit("rtc-user-published",e,"audio")},RemoteVideoStateChanged:(e,t)=>{console.log("UIKIT Callback: RemoteVideoStateChanged",e,t),0===t?xe.emit("rtc-user-unpublished",e,"video"):xe.emit("rtc-user-published",e,"video")}},[k,N]=(0,n.useState)(!1),[D,P]=(0,n.useState)(!1),[x,L]=(0,n.useState)(!1),[M,B]=(0,n.useState)(!1);return n.createElement(n.Fragment,null,h?h||!i?n.createElement(n.Fragment,null,n.createElement(un,{value:{rtcProps:{...y,callActive:i},callbacks:O,styleProps:xw,mode:en.Communication}},n.createElement(Gn,null,n.createElement(XS,null,n.createElement(pa,null,n.createElement(ga,null,n.createElement(Ni,{value:{currentLayout:c,setLayout:u}},n.createElement(RA,{value:{currentFocus:g,setFocus:m}},n.createElement(Ea,{value:{sidePanel:f,setSidePanel:A}},n.createElement(Sa,null,n.createElement(oa,null,n.createElement(JS,{setRecordingActive:d,callActive:i},n.createElement(Zr,null,n.createElement(Rw,null,n.createElement(ww,null,n.createElement(la,{value:{setRecordingActive:d,isRecordingActive:l}},n.createElement(tw,null,n.createElement(dA,{value:{setRtcProps:E,rtcProps:y,callActive:i}},n.createElement(gA,null,n.createElement(nr,{localUid:null==y?void 0:y.uid},n.createElement(Iw,null,n.createElement(Ef,null,!di()&&n.createElement(Dw,null),i?n.createElement(HA,null,n.createElement($g,null,n.createElement(hS,null))):n.createElement(Im,{value:{callActive:i,setCallActive:o,isCameraAvailable:k,isMicAvailable:D,setCameraAvailable:N,setMicAvailable:P,isPermissionRequested:M,setIsPermissionRequested:B,isSpeakerAvailable:x,setSpeakerAvailable:L}},n.createElement(Cw,null)))))))))))))))))))))))):n.createElement(qn.Z,{style:Lw.loader},n.createElement(qn.Z,{style:Lw.loaderLogo},n.createElement($S,null)),n.createElement($n.Z,{style:Lw.loaderText},"Starting Call. Just a second.")):n.createElement(n.Fragment,null))},Bw=(0,n.createContext)({showShareScreen:()=>{}}),Fw=e=>n.createElement(Bw.Provider,{value:{...e.value}},e.children);function Uw(){return Uw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uw.apply(this,arguments)}function jw(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}he(Bw);class Vw extends n.Component{constructor(e,t){super(e,t),jw(this,"handleSwitch",(()=>{const{value:e}=this.state,{onValueChange:t,disabled:n,changeValueImmediately:r,value:i}=this.props;n||(this.props.value!==this.state.value?r?(this.animateSwitch(!i),t(!i)):this.animateSwitch(!e,(()=>this.setState({value:!e},(()=>t(this.state.value))))):t(!this.state.value))})),jw(this,"animateSwitch",((e,t=(()=>{}))=>{_o.Z.parallel([_o.Z.spring(this.state.transformSwitch,{toValue:e?this.props.switchWidth/this.props.switchLeftPx:-this.props.switchWidth/this.props.switchRightPx,useNativeDriver:!1}),_o.Z.timing(this.state.backgroundColor,{toValue:e?75:-75,duration:200,useNativeDriver:!1}),_o.Z.timing(this.state.circleColor,{toValue:e?75:-75,duration:200,useNativeDriver:!1}),_o.Z.timing(this.state.circleBorderColor,{toValue:e?75:-75,duration:200,useNativeDriver:!1})]).start(t)})),this.state={value:e.value,transformSwitch:new _o.Z.Value(e.value?e.switchWidth/e.switchLeftPx:-e.switchWidth/e.switchRightPx),backgroundColor:new _o.Z.Value(e.value?75:-75),circleColor:new _o.Z.Value(e.value?75:-75),circleBorderColor:new _o.Z.Value(e.value?75:-75)}}componentDidUpdate(e){const{value:t,disabled:n}=this.props;e.value!==t&&(e.disabled&&n===e.disabled||this.animateSwitch(t,(()=>this.setState({value:t}))))}render(){const{transformSwitch:e,backgroundColor:t,circleColor:r,circleBorderColor:i}=this.state,{backgroundActive:o,backgroundInactive:a,circleActiveColor:s,circleInActiveColor:c,activeText:u,inActiveText:l,switchWidth:d,switchHeight:h,containerStyle:p,activeTextStyle:f,inactiveTextStyle:A,barHeight:g,circleBorderInactiveColor:m,circleBorderActiveColor:v,circleBorderWidth:y,innerCircleStyle:E,outerCircleStyle:b,renderActiveText:_,renderInActiveText:C,renderInsideCircle:I,switchWidthMultiplier:S,switchBorderRadius:w,value:R,...T}=this.props,O=t.interpolate({inputRange:[-75,75],outputRange:[a,o]}),k=r.interpolate({inputRange:[-75,75],outputRange:[c,s]}),N=i.interpolate({inputRange:[-75,75],outputRange:[m,v]});return n.createElement(Zn.Z,Uw({onPress:this.handleSwitch},T),n.createElement(_o.Z.View,{style:[Qw.container,p,{backgroundColor:O,width:d*S,height:g||h,borderRadius:w}]},n.createElement(_o.Z.View,{style:[Qw.animatedContainer,{left:e,width:d*S},b]},R&&_&&n.createElement($n.Z,{style:[Qw.text,Qw.paddingRight,f]},u),n.createElement(_o.Z.View,{style:[Qw.circle,{borderWidth:y,borderColor:N,backgroundColor:k,width:d,height:h,borderRadius:w/2},E]},I()),!R&&C&&n.createElement($n.Z,{style:[Qw.text,Qw.paddingLeft,A]},l))))}}jw(Vw,"propTypes",{onValueChange:Hi().func,disabled:Hi().bool,activeText:Hi().string,inActiveText:Hi().string,backgroundActive:Hi().string,backgroundInactive:Hi().string,value:Hi().bool,circleActiveColor:Hi().string,circleInActiveColor:Hi().string,circleBorderActiveColor:Hi().string,circleBorderInactiveColor:Hi().string,activeTextStyle:Hi().object,inactiveTextStyle:Hi().object,containerStyle:Hi().object,barHeight:Hi().number,circleBorderWidth:Hi().number,innerCircleStyle:Hi().object,renderInsideCircle:Hi().func,changeValueImmediately:Hi().bool,outerCircleStyle:Hi().object,renderActiveText:Hi().bool,renderInActiveText:Hi().bool,switchWidth:Hi().number,switchHeight:Hi().number,switchLeftPx:Hi().number,switchRightPx:Hi().number,switchWidthMultiplier:Hi().number,switchBorderRadius:Hi().number}),jw(Vw,"defaultProps",{value:!1,onValueChange:()=>null,renderInsideCircle:()=>null,disabled:!1,activeText:"On",inActiveText:"Off",backgroundActive:"green",backgroundInactive:"gray",circleActiveColor:"white",circleInActiveColor:"white",circleBorderActiveColor:"rgb(100, 100, 100)",circleBorderInactiveColor:"rgb(80, 80, 80)",switchWidth:30,switchHeight:30,switchBorderRadius:100,barHeight:null,circleBorderWidth:1,changeValueImmediately:!0,innerCircleStyle:{alignItems:"center",justifyContent:"center"},outerCircleStyle:{},renderActiveText:!0,renderInActiveText:!0,switchLeftPx:4,switchRightPx:4,switchWidthMultiplier:2,testID:null});const Qw=On.Z.create({container:{width:71,height:30,borderRadius:30,backgroundColor:"black"},animatedContainer:{flex:1,width:78,flexDirection:"row",justifyContent:"center",alignItems:"center"},circle:{width:30,height:30,borderRadius:15,backgroundColor:"white"},text:{color:"white",backgroundColor:"transparent"},paddingRight:{paddingRight:5},paddingLeft:{paddingLeft:5}}),Gw=e=>{const{isEnabled:t,toggleSwitch:r,disabled:i=!1}=e;return n.createElement(qn.Z,null,n.createElement(Vw,{barHeight:20,switchWidth:16,switchHeight:16,value:t,onValueChange:r,disabled:!1,backgroundActive:"#099DFD",backgroundInactive:"#808080",circleActiveColor:"#1D1D1D",circleInActiveColor:"#1D1D1D",changeValueImmediately:!0,innerCircleStyle:{borderWidth:0,alignItems:"center",justifyContent:"center"},outerCircleStyle:{},renderActiveText:!1,renderInActiveText:!1,switchLeftPx:3,switchRightPx:3,switchWidthMultiplier:2,switchBorderRadius:30}))},qw=(On.Z.create({}),On.Z.create({root:{flex:1},inputLabelStyle:{paddingLeft:8},main:{flexGrow:1,flexDirection:"row",justifyContent:"center"},heading:{fontSize:Wa.extraLarge,fontWeight:"700",lineHeight:Wa.extraLarge,color:"#FFFFFF",fontFamily:Ka.sansPro,opacity:Ha.high},headline:{fontSize:18,fontWeight:"400",textAlign:"center",color:"#FFFFFF",marginBottom:40},btnContainer:{width:"100%",alignItems:"center"},toggleContainer:{flexDirection:"row",backgroundColor:"#262626",paddingVertical:22,paddingHorizontal:20},upper:{borderTopLeftRadius:Ya.medium,borderTopRightRadius:Ya.medium},lower:{borderBottomLeftRadius:Ya.medium,borderBottomRightRadius:Ya.medium},toggleLabel:{color:"#FFFFFF",fontSize:Wa.normal,marginRight:4,fontFamily:Ka.sansPro,fontWeight:"400",alignSelf:"center"},separator:{height:1},infoContainer:{flexDirection:"row",flex:.8},infoToggleContainer:{flex:.2,alignItems:"flex-end",alignSelf:"center"},tooltipActiveBgStyle:{backgroundColor:"#808080"+ja,borderRadius:14,padding:5},tooltipDefaultBgStyle:{padding:5}})),Hw=()=>{const{CreateComponent:e}=ke((e=>({}))),{setStore:t}=(ni(),(0,n.useContext)(ze)),{setGlobalErrorMessage:r}=(0,n.useContext)(MS),i=Eo(),[o,a]=(0,n.useState)(!1),[s,c]=(0,n.useState)(""),[u,l]=(0,n.useState)(!1),[d,h]=(0,n.useState)(!1),[p,f]=(0,n.useState)(!1),A=Me(),{setMeetingInfo:g}=Pe(),m=!di();(0,n.useEffect)((()=>(ai()&&(document.title="MBTesting"),console.log("[SDKEvents] Join listener registered"),()=>{})),[]);const v=()=>{f(!0)},y=async(e,t,n)=>{if(""!==e){a(!0);try{g(ve),await A(e,t,n),a(!1),ea.show({type:"success",text1:ii(e)+" has been created",text2:"Your New meeting is now live",visibilityTime:3e3,primaryBtn:null,secondaryBtn:null}),v()}catch(e){a(!1),r(e)}}};return n.createElement(Fw,{value:{showShareScreen:v}},p?n.createElement(n.Fragment,null):e?n.createElement(e,null):n.createElement(qn.Z,{style:qw.root},n.createElement(hs.Z,{contentContainerStyle:qw.main},n.createElement(Fg,null,n.createElement(qn.Z,null,n.createElement(Lg,null),n.createElement(vA,{size:m?20:16}),n.createElement($n.Z,{style:qw.heading},"Create a Meeting"),n.createElement(vA,{size:40}),n.createElement(GS,{maxLength:60,labelStyle:qw.inputLabelStyle,label:"Meeting Name",value:s,placeholder:"The Annual Galactic Meet",onChangeText:e=>c(e),onSubmitEditing:()=>{null!=s&&s.trim()&&y(null==s?void 0:s.trim(),u,!d)}}),n.createElement(vA,{size:40}),n.createElement(qn.Z,{style:[qw.toggleContainer,qw.upper,qw.lower]},n.createElement(qn.Z,{style:qw.infoContainer},n.createElement($n.Z,{numberOfLines:1,style:qw.toggleLabel},"Make everyone a Co-Host"),n.createElement(rf,{activeBgStyle:qw.tooltipActiveBgStyle,defaultBgStyle:qw.tooltipDefaultBgStyle,toolTipMessage:"Turning on will give everyone the control of this meeting",renderContent:(e,t)=>((e,t)=>n.createElement(As.Z,{onPress:()=>t(!0)},n.createElement(es,{iconType:"plain",name:"info",iconSize:20,tintColor:e?"#FFFFFF":"#808080"})))(e,t)})),n.createElement(qn.Z,{style:qw.infoToggleContainer},n.createElement(Gw,{disabled:!1,isEnabled:d,toggleSwitch:h}))),n.createElement(n.Fragment,null),n.createElement(vA,{size:m?60:125})),n.createElement(qn.Z,{style:[qw.btnContainer]},n.createElement(rs,{iconName:"video-plus",disabled:o||!(null!=s&&s.trim()),containerStyle:!m&&{width:"100%"},onPress:()=>{y(null==s?void 0:s.trim(),u,!d)},text:o?"Loading...":"CREATE A MEETING"}),n.createElement(vA,{size:16}),n.createElement(jg,{text:"Join with a meeting ID",onPress:()=>i.push("/join")}))))),p?n.createElement(Hg,null):n.createElement(n.Fragment,null))},zw=e=>{const t=(0,n.useRef)(!1),{authenticated:r}=tv();return(0,n.useEffect)((()=>{t.current&&(r||ea.show({type:"error",text1:"Authentication failed",visibilityTime:1e3}),t.current=!0)}),[r]),n.createElement(mo,e)},Ww=()=>{const{setIsAuthenticated:e}=tv(),t=Eo();return(0,n.useEffect)((()=>{e(!0),t.push("/")}),[]),n.createElement(zm,{text:"Authorizing app..."})};function Kw(){const{authLogin:e}=tv();return n.createElement(qn.Z,{style:Yw.container},n.createElement(qn.Z,{style:{display:"flex",alignItems:"center",justifyContent:"center",marginTop:50}},n.createElement($n.Z,{style:{color:"#FFFFFF"}},"You have been logged out. Please login again.")),n.createElement(Zn.Z,{style:Yw.loginBtn,onPress:e},n.createElement($n.Z,{style:Yw.loginText},"LOGIN")))}const Yw=On.Z.create({container:{flex:1,alignItems:"center",paddingTop:200},loginBtn:{marginTop:30,alignItems:"center",backgroundColor:"#00AEFC",padding:10,borderRadius:5,width:100},loginText:{color:"#fff"}}),Jw=function(){return n.createElement(vo,null,n.createElement(mo,{exact:!0,path:"/login"},n.createElement(Kw,null)),n.createElement(mo,{exact:!0,path:"/"},n.createElement(po,{to:"/create"})),n.createElement(mo,{exact:!0,path:"/authorize"},n.createElement(Ww,null)),n.createElement(zw,{exact:!0,path:"/join"},n.createElement(zS,null)),n.createElement(zw,{exact:!0,path:"/create"},n.createElement(Hw,null)),n.createElement(zw,{path:"/:phrase"},n.createElement(Mw,null)),n.createElement(mo,{path:"*"},n.createElement($n.Z,null,"Page not found")))};"ios"===_n.Z.OS&&(IS.setEnable(!0),IS.setEnableAutoToolbar(!1),IS.setShouldShowToolbarPlaceholder(!1),IS.setShouldResignOnTouchOutside(!0));const Zw=()=>{const[e,t]=(0,n.useState)(ve);return n.createElement(jS,null,n.createElement(De,{value:{setMeetingInfo:t}},n.createElement(Ee,{value:{...e}},n.createElement(Pg,null,n.createElement(Jw,null)))))},Xw={setAppBuilerToken:e=>new Promise(((t,n)=>{try{return console.log("debugging setting sdk token",e),Ve.setItem("SDK_TOKEN",e),t(!0)}catch(e){return console.log("debugging setting sdk failed"),n(e)}})),customize:async e=>await me.emit("customize",e),customEvents:Da,join:async e=>{await me.emit("join",e,!1)},joinRoom:async e=>await me.emit("join",e,!0),joinPrecall:async e=>await me.emit("join",e),createCustomization:l,on:(e,t)=>(console.log("SDKEvents: Event Registered",e),xe.on(e,t))},$w=()=>n.createElement(Re,null,n.createElement(Oe,null,n.createElement(Zw,null)));var eR=__webpack_require__(1008),tR={};tR.styleTagTransform=kI(),tR.setAttributes=wI(),tR.insert=II().bind(null,"head"),tR.domAPI=_I(),tR.insertStyleElement=TI(),EI()(eR.Z,tR),eR.Z&&eR.Z.locals&&eR.Z.locals;const nR={clear:()=>{}},rR={...Xw,customize:e=>{xe.emit("addFpe",e),nR.clear=xe.on("addFpeInit",(()=>{console.log("addFpeInit called"),xe.emit("addFpe",e),nR.clear()}))}};class iR extends HTMLElement{connectedCallback(){this.style.height="100%",this.style.width="100%",this.style.display="flex",this.style.flex="1",t.Z.registerComponent("App",(()=>$w)),t.Z.runApplication("App",{rootTag:this})}}customElements.define("app-builder",iR);const oR=rR})(),AgoraAppBuilder=__webpack_exports__})();
//# sourceMappingURL=app-builder-web-sdk.var.js.map